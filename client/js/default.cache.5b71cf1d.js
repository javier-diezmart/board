function rhex(a){for(str="",j=0;j<=3;j++)str+=hex_chr.charAt(a>>8*j+4&15)+hex_chr.charAt(a>>8*j&15);return str}function str2blks_MD5(a){for(nblk=(a.length+8>>6)+1,blks=new Array(16*nblk),i=0;i<16*nblk;i++)blks[i]=0;for(i=0;i<a.length;i++)blks[i>>2]|=a.charCodeAt(i)<<i%4*8;return blks[i>>2]|=128<<i%4*8,blks[16*nblk-2]=8*a.length,blks}function add(a,b){var c=(65535&a)+(65535&b),d=(a>>16)+(b>>16)+(c>>16);return d<<16|65535&c}function rol(a,b){return a<<b|a>>>32-b}function cmn(a,b,c,d,e,f){return add(rol(add(add(b,a),add(d,f)),e),c)}function ff(a,b,c,d,e,f,g){return cmn(b&c|~b&d,a,b,e,f,g)}function gg(a,b,c,d,e,f,g){return cmn(b&d|c&~d,a,b,e,f,g)}function hh(a,b,c,d,e,f,g){return cmn(b^c^d,a,b,e,f,g)}function ii(a,b,c,d,e,f,g){return cmn(c^(b|~d),a,b,e,f,g)}function calcMD5(e){for(x=str2blks_MD5(e),a=1732584193,b=-271733879,c=-1732584194,d=271733878,i=0;i<x.length;i+=16)olda=a,oldb=b,oldc=c,oldd=d,a=ff(a,b,c,d,x[i+0],7,-680876936),d=ff(d,a,b,c,x[i+1],12,-389564586),c=ff(c,d,a,b,x[i+2],17,606105819),b=ff(b,c,d,a,x[i+3],22,-1044525330),a=ff(a,b,c,d,x[i+4],7,-176418897),d=ff(d,a,b,c,x[i+5],12,1200080426),c=ff(c,d,a,b,x[i+6],17,-1473231341),b=ff(b,c,d,a,x[i+7],22,-45705983),a=ff(a,b,c,d,x[i+8],7,1770035416),d=ff(d,a,b,c,x[i+9],12,-1958414417),c=ff(c,d,a,b,x[i+10],17,-42063),b=ff(b,c,d,a,x[i+11],22,-1990404162),a=ff(a,b,c,d,x[i+12],7,1804603682),d=ff(d,a,b,c,x[i+13],12,-40341101),c=ff(c,d,a,b,x[i+14],17,-1502002290),b=ff(b,c,d,a,x[i+15],22,1236535329),a=gg(a,b,c,d,x[i+1],5,-165796510),d=gg(d,a,b,c,x[i+6],9,-1069501632),c=gg(c,d,a,b,x[i+11],14,643717713),b=gg(b,c,d,a,x[i+0],20,-373897302),a=gg(a,b,c,d,x[i+5],5,-701558691),d=gg(d,a,b,c,x[i+10],9,38016083),c=gg(c,d,a,b,x[i+15],14,-660478335),b=gg(b,c,d,a,x[i+4],20,-405537848),a=gg(a,b,c,d,x[i+9],5,568446438),d=gg(d,a,b,c,x[i+14],9,-1019803690),c=gg(c,d,a,b,x[i+3],14,-187363961),b=gg(b,c,d,a,x[i+8],20,1163531501),a=gg(a,b,c,d,x[i+13],5,-1444681467),d=gg(d,a,b,c,x[i+2],9,-51403784),c=gg(c,d,a,b,x[i+7],14,1735328473),b=gg(b,c,d,a,x[i+12],20,-1926607734),a=hh(a,b,c,d,x[i+5],4,-378558),d=hh(d,a,b,c,x[i+8],11,-2022574463),c=hh(c,d,a,b,x[i+11],16,1839030562),b=hh(b,c,d,a,x[i+14],23,-35309556),a=hh(a,b,c,d,x[i+1],4,-1530992060),d=hh(d,a,b,c,x[i+4],11,1272893353),c=hh(c,d,a,b,x[i+7],16,-155497632),b=hh(b,c,d,a,x[i+10],23,-1094730640),a=hh(a,b,c,d,x[i+13],4,681279174),d=hh(d,a,b,c,x[i+0],11,-358537222),c=hh(c,d,a,b,x[i+3],16,-722521979),b=hh(b,c,d,a,x[i+6],23,76029189),a=hh(a,b,c,d,x[i+9],4,-640364487),d=hh(d,a,b,c,x[i+12],11,-421815835),c=hh(c,d,a,b,x[i+15],16,530742520),b=hh(b,c,d,a,x[i+2],23,-995338651),a=ii(a,b,c,d,x[i+0],6,-198630844),d=ii(d,a,b,c,x[i+7],10,1126891415),c=ii(c,d,a,b,x[i+14],15,-1416354905),b=ii(b,c,d,a,x[i+5],21,-57434055),a=ii(a,b,c,d,x[i+12],6,1700485571),d=ii(d,a,b,c,x[i+3],10,-1894986606),c=ii(c,d,a,b,x[i+10],15,-1051523),b=ii(b,c,d,a,x[i+1],21,-2054922799),a=ii(a,b,c,d,x[i+8],6,1873313359),d=ii(d,a,b,c,x[i+15],10,-30611744),c=ii(c,d,a,b,x[i+6],15,-1560198380),b=ii(b,c,d,a,x[i+13],21,1309151649),a=ii(a,b,c,d,x[i+4],6,-145523070),d=ii(d,a,b,c,x[i+11],10,-1120210379),c=ii(c,d,a,b,x[i+2],15,718787259),b=ii(b,c,d,a,x[i+9],21,-343485551),a=add(a,olda),b=add(b,oldb),c=add(c,oldc),d=add(d,oldd);return rhex(a)+rhex(b)+rhex(c)+rhex(d)}function changeTitle(a){void 0!==a&&(document.title=i18next.t("%s's Restyaboard | %s",{postProcess:"sprintf",sprintf:[SITE_NAME,a]}))}function checkKeycode(a,b){for(var c=0,d=a.length;d>c;c++)if(c in a&&a[c]===b)return c;return-1}function makeLink(a,b){return a=a.replace(/#(\d+)/g,'<a class="js-open-card-view" data-card_id="$1" href="#/board/'+b+'/card/$1">#$1</a>'),a=a.replace(/(@[^\s]*)/g,'<span class="atMention">$1</span>')}function fireCallbacks(a,b){for(var c=0;c<a.length;c++)a[c](b)}function addRequestCallback(a){requestCallbacks.push(a)}function addResponseCallback(a){responseCallbacks.push(a)}function fireResponseCallbacksIfCompleted(a){4===a.readyState&&fireCallbacks(responseCallbacks,a)}function proxifyOnReadyStateChange(a){var b=a.onreadystatechange;b&&(a.onreadystatechange=function(){fireResponseCallbacksIfCompleted(a),b()})}!function(a,b){function c(a){var b=oa[a]={};return $.each(a.split(ba),function(a,c){b[c]=!0}),b}function d(a,c,d){if(d===b&&1===a.nodeType){var e="data-"+c.replace(qa,"-$1").toLowerCase();if(d=a.getAttribute(e),"string"==typeof d){try{d="true"===d?!0:"false"===d?!1:"null"===d?null:+d+""===d?+d:pa.test(d)?$.parseJSON(d):d}catch(f){}$.data(a,c,d)}else d=b}return d}function e(a){var b;for(b in a)if(("data"!==b||!$.isEmptyObject(a[b]))&&"toJSON"!==b)return!1;return!0}function f(){return!1}function g(){return!0}function h(a){return!a||!a.parentNode||11===a.parentNode.nodeType}function i(a,b){do a=a[b];while(a&&1!==a.nodeType);return a}function j(a,b,c){if(b=b||0,$.isFunction(b))return $.grep(a,function(a,d){var e=!!b.call(a,d,a);return e===c});if(b.nodeType)return $.grep(a,function(a,d){return a===b===c});if("string"==typeof b){var d=$.grep(a,function(a){return 1===a.nodeType});if(Ka.test(b))return $.filter(b,d,!c);b=$.filter(b,d)}return $.grep(a,function(a,d){return $.inArray(a,b)>=0===c})}function k(a){var b=Na.split("|"),c=a.createDocumentFragment();if(c.createElement)for(;b.length;)c.createElement(b.pop());return c}function l(a,b){return a.getElementsByTagName(b)[0]||a.appendChild(a.ownerDocument.createElement(b))}function m(a,b){if(1===b.nodeType&&$.hasData(a)){var c,d,e,f=$._data(a),g=$._data(b,f),h=f.events;if(h){delete g.handle,g.events={};for(c in h)for(d=0,e=h[c].length;e>d;d++)$.event.add(b,c,h[c][d])}g.data&&(g.data=$.extend({},g.data))}}function n(a,b){var c;1===b.nodeType&&(b.clearAttributes&&b.clearAttributes(),b.mergeAttributes&&b.mergeAttributes(a),c=b.nodeName.toLowerCase(),"object"===c?(b.parentNode&&(b.outerHTML=a.outerHTML),$.support.html5Clone&&a.innerHTML&&!$.trim(b.innerHTML)&&(b.innerHTML=a.innerHTML)):"input"===c&&Xa.test(a.type)?(b.defaultChecked=b.checked=a.checked,b.value!==a.value&&(b.value=a.value)):"option"===c?b.selected=a.defaultSelected:"input"===c||"textarea"===c?b.defaultValue=a.defaultValue:"script"===c&&b.text!==a.text&&(b.text=a.text),b.removeAttribute($.expando))}function o(a){return"undefined"!=typeof a.getElementsByTagName?a.getElementsByTagName("*"):"undefined"!=typeof a.querySelectorAll?a.querySelectorAll("*"):[]}function p(a){Xa.test(a.type)&&(a.defaultChecked=a.checked)}function q(a,b){if(b in a)return b;for(var c=b.charAt(0).toUpperCase()+b.slice(1),d=b,e=rb.length;e--;)if(b=rb[e]+c,b in a)return b;return d}function r(a,b){return a=b||a,"none"===$.css(a,"display")||!$.contains(a.ownerDocument,a)}function s(a,b){for(var c,d,e=[],f=0,g=a.length;g>f;f++)c=a[f],c.style&&(e[f]=$._data(c,"olddisplay"),b?(e[f]||"none"!==c.style.display||(c.style.display=""),""===c.style.display&&r(c)&&(e[f]=$._data(c,"olddisplay",w(c.nodeName)))):(d=cb(c,"display"),e[f]||"none"===d||$._data(c,"olddisplay",d)));for(f=0;g>f;f++)c=a[f],c.style&&(b&&"none"!==c.style.display&&""!==c.style.display||(c.style.display=b?e[f]||"":"none"));return a}function t(a,b,c){var d=kb.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function u(a,b,c,d){for(var e=c===(d?"border":"content")?4:"width"===b?1:0,f=0;4>e;e+=2)"margin"===c&&(f+=$.css(a,c+qb[e],!0)),d?("content"===c&&(f-=parseFloat(cb(a,"padding"+qb[e]))||0),"margin"!==c&&(f-=parseFloat(cb(a,"border"+qb[e]+"Width"))||0)):(f+=parseFloat(cb(a,"padding"+qb[e]))||0,"padding"!==c&&(f+=parseFloat(cb(a,"border"+qb[e]+"Width"))||0));return f}function v(a,b,c){var d="width"===b?a.offsetWidth:a.offsetHeight,e=!0,f=$.support.boxSizing&&"border-box"===$.css(a,"boxSizing");if(0>=d||null==d){if(d=cb(a,b),(0>d||null==d)&&(d=a.style[b]),lb.test(d))return d;e=f&&($.support.boxSizingReliable||d===a.style[b]),d=parseFloat(d)||0}return d+u(a,b,c||(f?"border":"content"),e)+"px"}function w(a){if(nb[a])return nb[a];var b=$("<"+a+">").appendTo(P.body),c=b.css("display");return b.remove(),("none"===c||""===c)&&(db=P.body.appendChild(db||$.extend(P.createElement("iframe"),{frameBorder:0,width:0,height:0})),eb&&db.createElement||(eb=(db.contentWindow||db.contentDocument).document,eb.write("<!doctype html><html><body>"),eb.close()),b=eb.body.appendChild(eb.createElement(a)),c=cb(b,"display"),P.body.removeChild(db)),nb[a]=c,c}function x(a,b,c,d){var e;if($.isArray(b))$.each(b,function(b,e){c||ub.test(a)?d(a,e):x(a+"["+("object"==typeof e?b:"")+"]",e,c,d)});else if(c||"object"!==$.type(b))d(a,b);else for(e in b)x(a+"["+e+"]",b[e],c,d)}function y(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e,f,g=b.toLowerCase().split(ba),h=0,i=g.length;if($.isFunction(c))for(;i>h;h++)d=g[h],f=/^\+/.test(d),f&&(d=d.substr(1)||"*"),e=a[d]=a[d]||[],e[f?"unshift":"push"](c)}}function z(a,c,d,e,f,g){f=f||c.dataTypes[0],g=g||{},g[f]=!0;for(var h,i=a[f],j=0,k=i?i.length:0,l=a===Kb;k>j&&(l||!h);j++)h=i[j](c,d,e),"string"==typeof h&&(!l||g[h]?h=b:(c.dataTypes.unshift(h),h=z(a,c,d,e,h,g)));return!l&&h||g["*"]||(h=z(a,c,d,e,"*",g)),h}function A(a,c){var d,e,f=$.ajaxSettings.flatOptions||{};for(d in c)c[d]!==b&&((f[d]?a:e||(e={}))[d]=c[d]);e&&$.extend(!0,a,e)}function B(a,c,d){var e,f,g,h,i=a.contents,j=a.dataTypes,k=a.responseFields;for(f in k)f in d&&(c[k[f]]=d[f]);for(;"*"===j[0];)j.shift(),e===b&&(e=a.mimeType||c.getResponseHeader("content-type"));if(e)for(f in i)if(i[f]&&i[f].test(e)){j.unshift(f);break}if(j[0]in d)g=j[0];else{for(f in d){if(!j[0]||a.converters[f+" "+j[0]]){g=f;break}h||(h=f)}g=g||h}return g?(g!==j[0]&&j.unshift(g),d[g]):void 0}function C(a,b){var c,d,e,f,g=a.dataTypes.slice(),h=g[0],i={},j=0;if(a.dataFilter&&(b=a.dataFilter(b,a.dataType)),g[1])for(c in a.converters)i[c.toLowerCase()]=a.converters[c];for(;e=g[++j];)if("*"!==e){if("*"!==h&&h!==e){if(c=i[h+" "+e]||i["* "+e],!c)for(d in i)if(f=d.split(" "),f[1]===e&&(c=i[h+" "+f[0]]||i["* "+f[0]])){c===!0?c=i[d]:i[d]!==!0&&(e=f[0],g.splice(j--,0,e));break}if(c!==!0)if(c&&a["throws"])b=c(b);else try{b=c(b)}catch(k){return{state:"parsererror",error:c?k:"No conversion from "+h+" to "+e}}}h=e}return{state:"success",data:b}}function D(){try{return new a.XMLHttpRequest}catch(b){}}function E(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}function F(){return setTimeout(function(){Vb=b},0),Vb=$.now()}function G(a,b){$.each(b,function(b,c){for(var d=(_b[b]||[]).concat(_b["*"]),e=0,f=d.length;f>e;e++)if(d[e].call(a,b,c))return})}function H(a,b,c){var d,e=0,f=$b.length,g=$.Deferred().always(function(){delete h.elem}),h=function(){for(var b=Vb||F(),c=Math.max(0,i.startTime+i.duration-b),d=c/i.duration||0,e=1-d,f=0,h=i.tweens.length;h>f;f++)i.tweens[f].run(e);return g.notifyWith(a,[i,e,c]),1>e&&h?c:(g.resolveWith(a,[i]),!1)},i=g.promise({elem:a,props:$.extend({},b),opts:$.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:Vb||F(),duration:c.duration,tweens:[],createTween:function(b,c,d){var e=$.Tween(a,i.opts,b,c,i.opts.specialEasing[b]||i.opts.easing);return i.tweens.push(e),e},stop:function(b){for(var c=0,d=b?i.tweens.length:0;d>c;c++)i.tweens[c].run(1);return b?g.resolveWith(a,[i,b]):g.rejectWith(a,[i,b]),this}}),j=i.props;for(I(j,i.opts.specialEasing);f>e;e++)if(d=$b[e].call(i,a,j,i.opts))return d;return G(i,j),$.isFunction(i.opts.start)&&i.opts.start.call(a,i),$.fx.timer($.extend(h,{anim:i,queue:i.opts.queue,elem:a})),i.progress(i.opts.progress).done(i.opts.done,i.opts.complete).fail(i.opts.fail).always(i.opts.always)}function I(a,b){var c,d,e,f,g;for(c in a)if(d=$.camelCase(c),e=b[d],f=a[c],$.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=$.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function J(a,b,c){var d,e,f,g,h,i,j,k,l,m=this,n=a.style,o={},p=[],q=a.nodeType&&r(a);c.queue||(k=$._queueHooks(a,"fx"),null==k.unqueued&&(k.unqueued=0,l=k.empty.fire,k.empty.fire=function(){k.unqueued||l()}),k.unqueued++,m.always(function(){m.always(function(){k.unqueued--,$.queue(a,"fx").length||k.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[n.overflow,n.overflowX,n.overflowY],"inline"===$.css(a,"display")&&"none"===$.css(a,"float")&&($.support.inlineBlockNeedsLayout&&"inline"!==w(a.nodeName)?n.zoom=1:n.display="inline-block")),c.overflow&&(n.overflow="hidden",$.support.shrinkWrapBlocks||m.done(function(){n.overflow=c.overflow[0],n.overflowX=c.overflow[1],n.overflowY=c.overflow[2]}));for(d in b)if(f=b[d],Xb.exec(f)){if(delete b[d],i=i||"toggle"===f,f===(q?"hide":"show"))continue;p.push(d)}if(g=p.length){h=$._data(a,"fxshow")||$._data(a,"fxshow",{}),"hidden"in h&&(q=h.hidden),i&&(h.hidden=!q),q?$(a).show():m.done(function(){$(a).hide()}),m.done(function(){var b;$.removeData(a,"fxshow",!0);for(b in o)$.style(a,b,o[b])});for(d=0;g>d;d++)e=p[d],j=m.createTween(e,q?h[e]:0),o[e]=h[e]||$.style(a,e),e in h||(h[e]=j.start,q&&(j.end=j.start,j.start="width"===e||"height"===e?1:0))}}function K(a,b,c,d,e){return new K.prototype.init(a,b,c,d,e)}function L(a,b){var c,d={height:a},e=0;for(b=b?1:0;4>e;e+=2-b)c=qb[e],d["margin"+c]=d["padding"+c]=a;return b&&(d.opacity=d.width=a),d}function M(a){return $.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1}var N,O,P=a.document,Q=a.location,R=a.navigator,S=a.jQuery,T=a.$,U=Array.prototype.push,V=Array.prototype.slice,W=Array.prototype.indexOf,X=Object.prototype.toString,Y=Object.prototype.hasOwnProperty,Z=String.prototype.trim,$=function(a,b){return new $.fn.init(a,b,N)},_=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,aa=/\S/,ba=/\s+/,ca=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,da=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,ea=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,fa=/^[\],:{}\s]*$/,ga=/(?:^|:|,)(?:\s*\[)+/g,ha=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,ia=/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,ja=/^-ms-/,ka=/-([\da-z])/gi,la=function(a,b){return(b+"").toUpperCase()},ma=function(){P.addEventListener?(P.removeEventListener("DOMContentLoaded",ma,!1),$.ready()):"complete"===P.readyState&&(P.detachEvent("onreadystatechange",ma),$.ready())},na={};$.fn=$.prototype={constructor:$,init:function(a,c,d){var e,f,g;if(!a)return this;if(a.nodeType)return this.context=this[0]=a,this.length=1,this;if("string"==typeof a){if(e="<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&a.length>=3?[null,a,null]:da.exec(a),!e||!e[1]&&c)return!c||c.jquery?(c||d).find(a):this.constructor(c).find(a);if(e[1])return c=c instanceof $?c[0]:c,g=c&&c.nodeType?c.ownerDocument||c:P,a=$.parseHTML(e[1],g,!0),ea.test(e[1])&&$.isPlainObject(c)&&this.attr.call(a,c,!0),$.merge(this,a);if(f=P.getElementById(e[2]),f&&f.parentNode){if(f.id!==e[2])return d.find(a);this.length=1,this[0]=f}return this.context=P,this.selector=a,this}return $.isFunction(a)?d.ready(a):(a.selector!==b&&(this.selector=a.selector,this.context=a.context),$.makeArray(a,this))},selector:"",jquery:"1.8.3",length:0,size:function(){return this.length},toArray:function(){return V.call(this)},get:function(a){return null==a?this.toArray():0>a?this[this.length+a]:this[a]},pushStack:function(a,b,c){var d=$.merge(this.constructor(),a);return d.prevObject=this,d.context=this.context,"find"===b?d.selector=this.selector+(this.selector?" ":"")+c:b&&(d.selector=this.selector+"."+b+"("+c+")"),d},each:function(a,b){return $.each(this,a,b)},ready:function(a){return $.ready.promise().done(a),this},eq:function(a){return a=+a,-1===a?this.slice(a):this.slice(a,a+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(V.apply(this,arguments),"slice",V.call(arguments).join(","))},map:function(a){return this.pushStack($.map(this,function(b,c){return a.call(b,c,b)}))},end:function(){return this.prevObject||this.constructor(null)},push:U,sort:[].sort,splice:[].splice},$.fn.init.prototype=$.fn,$.extend=$.fn.extend=function(){var a,c,d,e,f,g,h=arguments[0]||{},i=1,j=arguments.length,k=!1;for("boolean"==typeof h&&(k=h,h=arguments[1]||{},i=2),"object"==typeof h||$.isFunction(h)||(h={}),j===i&&(h=this,--i);j>i;i++)if(null!=(a=arguments[i]))for(c in a)d=h[c],e=a[c],h!==e&&(k&&e&&($.isPlainObject(e)||(f=$.isArray(e)))?(f?(f=!1,g=d&&$.isArray(d)?d:[]):g=d&&$.isPlainObject(d)?d:{},h[c]=$.extend(k,g,e)):e!==b&&(h[c]=e));return h},$.extend({noConflict:function(b){return a.$===$&&(a.$=T),b&&a.jQuery===$&&(a.jQuery=S),$},isReady:!1,readyWait:1,holdReady:function(a){a?$.readyWait++:$.ready(!0)},ready:function(a){if(a===!0?!--$.readyWait:!$.isReady){if(!P.body)return setTimeout($.ready,1);$.isReady=!0,a!==!0&&--$.readyWait>0||(O.resolveWith(P,[$]),$.fn.trigger&&$(P).trigger("ready").off("ready"))}},isFunction:function(a){return"function"===$.type(a)},isArray:Array.isArray||function(a){return"array"===$.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},type:function(a){return null==a?String(a):na[X.call(a)]||"object"},isPlainObject:function(a){if(!a||"object"!==$.type(a)||a.nodeType||$.isWindow(a))return!1;try{if(a.constructor&&!Y.call(a,"constructor")&&!Y.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(c){return!1}var d;for(d in a);return d===b||Y.call(a,d)},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},error:function(a){throw new Error(a)},parseHTML:function(a,b,c){var d;return a&&"string"==typeof a?("boolean"==typeof b&&(c=b,b=0),b=b||P,(d=ea.exec(a))?[b.createElement(d[1])]:(d=$.buildFragment([a],b,c?null:[]),$.merge([],(d.cacheable?$.clone(d.fragment):d.fragment).childNodes))):null},parseJSON:function(b){return b&&"string"==typeof b?(b=$.trim(b),a.JSON&&a.JSON.parse?a.JSON.parse(b):fa.test(b.replace(ha,"@").replace(ia,"]").replace(ga,""))?new Function("return "+b)():void $.error("Invalid JSON: "+b)):null},parseXML:function(c){var d,e;if(!c||"string"!=typeof c)return null;try{a.DOMParser?(e=new DOMParser,d=e.parseFromString(c,"text/xml")):(d=new ActiveXObject("Microsoft.XMLDOM"),d.async="false",d.loadXML(c))}catch(f){d=b}return d&&d.documentElement&&!d.getElementsByTagName("parsererror").length||$.error("Invalid XML: "+c),d},noop:function(){},globalEval:function(b){b&&aa.test(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(ja,"ms-").replace(ka,la)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,c,d){var e,f=0,g=a.length,h=g===b||$.isFunction(a);if(d)if(h){for(e in a)if(c.apply(a[e],d)===!1)break}else for(;g>f&&c.apply(a[f++],d)!==!1;);else if(h){for(e in a)if(c.call(a[e],e,a[e])===!1)break}else for(;g>f&&c.call(a[f],f,a[f++])!==!1;);return a},trim:Z&&!Z.call("\ufeffÂ ")?function(a){return null==a?"":Z.call(a)}:function(a){return null==a?"":(a+"").replace(ca,"")},makeArray:function(a,b){var c,d=b||[];return null!=a&&(c=$.type(a),null==a.length||"string"===c||"function"===c||"regexp"===c||$.isWindow(a)?U.call(d,a):$.merge(d,a)),d},inArray:function(a,b,c){var d;if(b){if(W)return W.call(b,a,c);for(d=b.length,c=c?0>c?Math.max(0,d+c):c:0;d>c;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,c){var d=c.length,e=a.length,f=0;if("number"==typeof d)for(;d>f;f++)a[e++]=c[f];else for(;c[f]!==b;)a[e++]=c[f++];return a.length=e,a},grep:function(a,b,c){var d,e=[],f=0,g=a.length;for(c=!!c;g>f;f++)d=!!b(a[f],f),c!==d&&e.push(a[f]);return e},map:function(a,c,d){var e,f,g=[],h=0,i=a.length,j=a instanceof $||i!==b&&"number"==typeof i&&(i>0&&a[0]&&a[i-1]||0===i||$.isArray(a));if(j)for(;i>h;h++)e=c(a[h],h,d),null!=e&&(g[g.length]=e);else for(f in a)e=c(a[f],f,d),null!=e&&(g[g.length]=e);return g.concat.apply([],g)},guid:1,proxy:function(a,c){var d,e,f;return"string"==typeof c&&(d=a[c],c=a,a=d),$.isFunction(a)?(e=V.call(arguments,2),f=function(){return a.apply(c,e.concat(V.call(arguments)))},f.guid=a.guid=a.guid||$.guid++,f):b},access:function(a,c,d,e,f,g,h){var i,j=null==d,k=0,l=a.length;if(d&&"object"==typeof d){for(k in d)$.access(a,c,k,d[k],1,g,e);f=1}else if(e!==b){if(i=h===b&&$.isFunction(e),j&&(i?(i=c,c=function(a,b,c){return i.call($(a),c)}):(c.call(a,e),c=null)),c)for(;l>k;k++)c(a[k],d,i?e.call(a[k],k,c(a[k],d)):e,h);f=1}return f?a:j?c.call(a):l?c(a[0],d):g},now:function(){return(new Date).getTime()}}),$.ready.promise=function(b){if(!O)if(O=$.Deferred(),"complete"===P.readyState)setTimeout($.ready,1);else if(P.addEventListener)P.addEventListener("DOMContentLoaded",ma,!1),a.addEventListener("load",$.ready,!1);else{P.attachEvent("onreadystatechange",ma),a.attachEvent("onload",$.ready);var c=!1;try{c=null==a.frameElement&&P.documentElement}catch(d){}c&&c.doScroll&&!function e(){if(!$.isReady){try{c.doScroll("left")}catch(a){return setTimeout(e,50)}$.ready()}}()}return O.promise(b)},$.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(a,b){na["[object "+b+"]"]=b.toLowerCase()}),N=$(P);var oa={};$.Callbacks=function(a){a="string"==typeof a?oa[a]||c(a):$.extend({},a);var d,e,f,g,h,i,j=[],k=!a.once&&[],l=function(b){for(d=a.memory&&b,e=!0,i=g||0,g=0,h=j.length,f=!0;j&&h>i;i++)if(j[i].apply(b[0],b[1])===!1&&a.stopOnFalse){d=!1;break}f=!1,j&&(k?k.length&&l(k.shift()):d?j=[]:m.disable())},m={add:function(){if(j){var b=j.length;!function c(b){$.each(b,function(b,d){var e=$.type(d);"function"===e?a.unique&&m.has(d)||j.push(d):d&&d.length&&"string"!==e&&c(d)})}(arguments),f?h=j.length:d&&(g=b,l(d))}return this},remove:function(){return j&&$.each(arguments,function(a,b){for(var c;(c=$.inArray(b,j,c))>-1;)j.splice(c,1),f&&(h>=c&&h--,i>=c&&i--)}),this},has:function(a){return $.inArray(a,j)>-1},empty:function(){return j=[],this},disable:function(){return j=k=d=b,this},disabled:function(){return!j},lock:function(){return k=b,d||m.disable(),this},locked:function(){return!k},fireWith:function(a,b){return b=b||[],b=[a,b.slice?b.slice():b],!j||e&&!k||(f?k.push(b):l(b)),this},fire:function(){return m.fireWith(this,arguments),this},fired:function(){return!!e}};return m},$.extend({Deferred:function(a){var b=[["resolve","done",$.Callbacks("once memory"),"resolved"],["reject","fail",$.Callbacks("once memory"),"rejected"],["notify","progress",$.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return $.Deferred(function(c){$.each(b,function(b,d){var f=d[0],g=a[b];e[d[1]]($.isFunction(g)?function(){var a=g.apply(this,arguments);a&&$.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[f+"With"](this===e?c:this,[a])}:c[f])}),a=null}).promise()},promise:function(a){return null!=a?$.extend(a,d):d}},e={};return d.pipe=d.then,$.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=g.fire,e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b,c,d,e=0,f=V.call(arguments),g=f.length,h=1!==g||a&&$.isFunction(a.promise)?g:0,i=1===h?a:$.Deferred(),j=function(a,c,d){return function(e){c[a]=this,d[a]=arguments.length>1?V.call(arguments):e,d===b?i.notifyWith(c,d):--h||i.resolveWith(c,d)}};if(g>1)for(b=new Array(g),c=new Array(g),d=new Array(g);g>e;e++)f[e]&&$.isFunction(f[e].promise)?f[e].promise().done(j(e,d,f)).fail(i.reject).progress(j(e,c,b)):--h;return h||i.resolveWith(d,f),i.promise()}}),$.support=function(){var b,c,d,e,f,g,h,i,j,k,l,m=P.createElement("div");if(m.setAttribute("className","t"),m.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",c=m.getElementsByTagName("*"),d=m.getElementsByTagName("a")[0],!c||!d||!c.length)return{};e=P.createElement("select"),f=e.appendChild(P.createElement("option")),g=m.getElementsByTagName("input")[0],d.style.cssText="top:1px;float:left;opacity:.5",b={leadingWhitespace:3===m.firstChild.nodeType,tbody:!m.getElementsByTagName("tbody").length,htmlSerialize:!!m.getElementsByTagName("link").length,style:/top/.test(d.getAttribute("style")),hrefNormalized:"/a"===d.getAttribute("href"),opacity:/^0.5/.test(d.style.opacity),cssFloat:!!d.style.cssFloat,checkOn:"on"===g.value,optSelected:f.selected,getSetAttribute:"t"!==m.className,enctype:!!P.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==P.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===P.compatMode,submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},g.checked=!0,b.noCloneChecked=g.cloneNode(!0).checked,e.disabled=!0,b.optDisabled=!f.disabled;try{delete m.test}catch(n){b.deleteExpando=!1}if(!m.addEventListener&&m.attachEvent&&m.fireEvent&&(m.attachEvent("onclick",l=function(){b.noCloneEvent=!1}),m.cloneNode(!0).fireEvent("onclick"),m.detachEvent("onclick",l)),g=P.createElement("input"),g.value="t",g.setAttribute("type","radio"),b.radioValue="t"===g.value,g.setAttribute("checked","checked"),g.setAttribute("name","t"),m.appendChild(g),h=P.createDocumentFragment(),h.appendChild(m.lastChild),b.checkClone=h.cloneNode(!0).cloneNode(!0).lastChild.checked,b.appendChecked=g.checked,h.removeChild(g),h.appendChild(m),m.attachEvent)for(j in{submit:!0,change:!0,focusin:!0})i="on"+j,k=i in m,k||(m.setAttribute(i,"return;"),k="function"==typeof m[i]),b[j+"Bubbles"]=k;return $(function(){var c,d,e,f,g="padding:0;margin:0;border:0;display:block;overflow:hidden;",h=P.getElementsByTagName("body")[0];h&&(c=P.createElement("div"),c.style.cssText="visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px",h.insertBefore(c,h.firstChild),d=P.createElement("div"),c.appendChild(d),d.innerHTML="<table><tr><td></td><td>t</td></tr></table>",e=d.getElementsByTagName("td"),e[0].style.cssText="padding:0;margin:0;border:0;display:none",k=0===e[0].offsetHeight,e[0].style.display="",e[1].style.display="none",b.reliableHiddenOffsets=k&&0===e[0].offsetHeight,d.innerHTML="",d.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",b.boxSizing=4===d.offsetWidth,b.doesNotIncludeMarginInBodyOffset=1!==h.offsetTop,a.getComputedStyle&&(b.pixelPosition="1%"!==(a.getComputedStyle(d,null)||{}).top,b.boxSizingReliable="4px"===(a.getComputedStyle(d,null)||{width:"4px"}).width,f=P.createElement("div"),f.style.cssText=d.style.cssText=g,f.style.marginRight=f.style.width="0",d.style.width="1px",d.appendChild(f),b.reliableMarginRight=!parseFloat((a.getComputedStyle(f,null)||{}).marginRight)),"undefined"!=typeof d.style.zoom&&(d.innerHTML="",d.style.cssText=g+"width:1px;padding:1px;display:inline;zoom:1",b.inlineBlockNeedsLayout=3===d.offsetWidth,d.style.display="block",d.style.overflow="visible",d.innerHTML="<div></div>",d.firstChild.style.width="5px",b.shrinkWrapBlocks=3!==d.offsetWidth,c.style.zoom=1),h.removeChild(c),c=d=e=f=null)}),h.removeChild(m),c=d=e=f=g=h=m=null,b}();var pa=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,qa=/([A-Z])/g;$.extend({cache:{},deletedIds:[],uuid:0,expando:"jQuery"+($.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(a){return a=a.nodeType?$.cache[a[$.expando]]:a[$.expando],!!a&&!e(a)},data:function(a,c,d,e){if($.acceptData(a)){var f,g,h=$.expando,i="string"==typeof c,j=a.nodeType,k=j?$.cache:a,l=j?a[h]:a[h]&&h;if(l&&k[l]&&(e||k[l].data)||!i||d!==b)return l||(j?a[h]=l=$.deletedIds.pop()||$.guid++:l=h),k[l]||(k[l]={},j||(k[l].toJSON=$.noop)),("object"==typeof c||"function"==typeof c)&&(e?k[l]=$.extend(k[l],c):k[l].data=$.extend(k[l].data,c)),f=k[l],e||(f.data||(f.data={}),f=f.data),d!==b&&(f[$.camelCase(c)]=d),i?(g=f[c],null==g&&(g=f[$.camelCase(c)])):g=f,g}},removeData:function(a,b,c){if($.acceptData(a)){var d,f,g,h=a.nodeType,i=h?$.cache:a,j=h?a[$.expando]:$.expando;if(i[j]){if(b&&(d=c?i[j]:i[j].data)){$.isArray(b)||(b in d?b=[b]:(b=$.camelCase(b),b=b in d?[b]:b.split(" ")));for(f=0,g=b.length;g>f;f++)delete d[b[f]];if(!(c?e:$.isEmptyObject)(d))return}(c||(delete i[j].data,e(i[j])))&&(h?$.cleanData([a],!0):$.support.deleteExpando||i!=i.window?delete i[j]:i[j]=null)}}},_data:function(a,b,c){return $.data(a,b,c,!0)},acceptData:function(a){var b=a.nodeName&&$.noData[a.nodeName.toLowerCase()];return!b||b!==!0&&a.getAttribute("classid")===b}}),$.fn.extend({data:function(a,c){var e,f,g,h,i,j=this[0],k=0,l=null;if(a===b){if(this.length&&(l=$.data(j),1===j.nodeType&&!$._data(j,"parsedAttrs"))){for(g=j.attributes,i=g.length;i>k;k++)h=g[k].name,h.indexOf("data-")||(h=$.camelCase(h.substring(5)),d(j,h,l[h]));$._data(j,"parsedAttrs",!0)}return l}return"object"==typeof a?this.each(function(){$.data(this,a)}):(e=a.split(".",2),e[1]=e[1]?"."+e[1]:"",f=e[1]+"!",$.access(this,function(c){return c===b?(l=this.triggerHandler("getData"+f,[e[0]]),l===b&&j&&(l=$.data(j,a),l=d(j,a,l)),l===b&&e[1]?this.data(e[0]):l):(e[1]=c,void this.each(function(){var b=$(this);b.triggerHandler("setData"+f,e),$.data(this,a,c),b.triggerHandler("changeData"+f,e)}))},null,c,arguments.length>1,null,!1))},removeData:function(a){return this.each(function(){$.removeData(this,a)})}}),$.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=$._data(a,b),c&&(!d||$.isArray(c)?d=$._data(a,b,$.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=$.queue(a,b),d=c.length,e=c.shift(),f=$._queueHooks(a,b),g=function(){$.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return $._data(a,c)||$._data(a,c,{empty:$.Callbacks("once memory").add(function(){$.removeData(a,b+"queue",!0),$.removeData(a,c,!0)})})}}),$.fn.extend({queue:function(a,c){var d=2;return"string"!=typeof a&&(c=a,a="fx",d--),arguments.length<d?$.queue(this[0],a):c===b?this:this.each(function(){var b=$.queue(this,a,c);$._queueHooks(this,a),"fx"===a&&"inprogress"!==b[0]&&$.dequeue(this,a)})},dequeue:function(a){return this.each(function(){$.dequeue(this,a)})},delay:function(a,b){return a=$.fx?$.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,c){var d,e=1,f=$.Deferred(),g=this,h=this.length,i=function(){--e||f.resolveWith(g,[g])};for("string"!=typeof a&&(c=a,a=b),a=a||"fx";h--;)d=$._data(g[h],a+"queueHooks"),d&&d.empty&&(e++,d.empty.add(i));return i(),f.promise(c)}});var ra,sa,ta,ua=/[\t\r\n]/g,va=/\r/g,wa=/^(?:button|input)$/i,xa=/^(?:button|input|object|select|textarea)$/i,ya=/^a(?:rea|)$/i,za=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,Aa=$.support.getSetAttribute;$.fn.extend({attr:function(a,b){return $.access(this,$.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){$.removeAttr(this,a)})},prop:function(a,b){return $.access(this,$.prop,a,b,arguments.length>1)},removeProp:function(a){return a=$.propFix[a]||a,this.each(function(){try{this[a]=b,delete this[a]}catch(c){}})},addClass:function(a){var b,c,d,e,f,g,h;if($.isFunction(a))return this.each(function(b){$(this).addClass(a.call(this,b,this.className))});if(a&&"string"==typeof a)for(b=a.split(ba),c=0,d=this.length;d>c;c++)if(e=this[c],1===e.nodeType)if(e.className||1!==b.length){for(f=" "+e.className+" ",g=0,h=b.length;h>g;g++)f.indexOf(" "+b[g]+" ")<0&&(f+=b[g]+" ");e.className=$.trim(f)}else e.className=a;return this},removeClass:function(a){var c,d,e,f,g,h,i;if($.isFunction(a))return this.each(function(b){$(this).removeClass(a.call(this,b,this.className))});if(a&&"string"==typeof a||a===b)for(c=(a||"").split(ba),h=0,i=this.length;i>h;h++)if(e=this[h],1===e.nodeType&&e.className){for(d=(" "+e.className+" ").replace(ua," "),f=0,g=c.length;g>f;f++)for(;d.indexOf(" "+c[f]+" ")>=0;)d=d.replace(" "+c[f]+" "," ");e.className=a?$.trim(d):""}return this},toggleClass:function(a,b){var c=typeof a,d="boolean"==typeof b;return $.isFunction(a)?this.each(function(c){$(this).toggleClass(a.call(this,c,this.className,b),b);
}):this.each(function(){if("string"===c)for(var e,f=0,g=$(this),h=b,i=a.split(ba);e=i[f++];)h=d?h:!g.hasClass(e),g[h?"addClass":"removeClass"](e);else("undefined"===c||"boolean"===c)&&(this.className&&$._data(this,"__className__",this.className),this.className=this.className||a===!1?"":$._data(this,"__className__")||"")})},hasClass:function(a){for(var b=" "+a+" ",c=0,d=this.length;d>c;c++)if(1===this[c].nodeType&&(" "+this[c].className+" ").replace(ua," ").indexOf(b)>=0)return!0;return!1},val:function(a){var c,d,e,f=this[0];{if(arguments.length)return e=$.isFunction(a),this.each(function(d){var f,g=$(this);1===this.nodeType&&(f=e?a.call(this,d,g.val()):a,null==f?f="":"number"==typeof f?f+="":$.isArray(f)&&(f=$.map(f,function(a){return null==a?"":a+""})),c=$.valHooks[this.type]||$.valHooks[this.nodeName.toLowerCase()],c&&"set"in c&&c.set(this,f,"value")!==b||(this.value=f))});if(f)return c=$.valHooks[f.type]||$.valHooks[f.nodeName.toLowerCase()],c&&"get"in c&&(d=c.get(f,"value"))!==b?d:(d=f.value,"string"==typeof d?d.replace(va,""):null==d?"":d)}}}),$.extend({valHooks:{option:{get:function(a){var b=a.attributes.value;return!b||b.specified?a.value:a.text}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(c=d[i],(c.selected||i===e)&&($.support.optDisabled?!c.disabled:null===c.getAttribute("disabled"))&&(!c.parentNode.disabled||!$.nodeName(c.parentNode,"optgroup"))){if(b=$(c).val(),f)return b;g.push(b)}return g},set:function(a,b){var c=$.makeArray(b);return $(a).find("option").each(function(){this.selected=$.inArray($(this).val(),c)>=0}),c.length||(a.selectedIndex=-1),c}}},attrFn:{},attr:function(a,c,d,e){var f,g,h,i=a.nodeType;if(a&&3!==i&&8!==i&&2!==i)return e&&$.isFunction($.fn[c])?$(a)[c](d):"undefined"==typeof a.getAttribute?$.prop(a,c,d):(h=1!==i||!$.isXMLDoc(a),h&&(c=c.toLowerCase(),g=$.attrHooks[c]||(za.test(c)?sa:ra)),d!==b?null===d?void $.removeAttr(a,c):g&&"set"in g&&h&&(f=g.set(a,d,c))!==b?f:(a.setAttribute(c,d+""),d):g&&"get"in g&&h&&null!==(f=g.get(a,c))?f:(f=a.getAttribute(c),null===f?b:f))},removeAttr:function(a,b){var c,d,e,f,g=0;if(b&&1===a.nodeType)for(d=b.split(ba);g<d.length;g++)e=d[g],e&&(c=$.propFix[e]||e,f=za.test(e),f||$.attr(a,e,""),a.removeAttribute(Aa?e:c),f&&c in a&&(a[c]=!1))},attrHooks:{type:{set:function(a,b){if(wa.test(a.nodeName)&&a.parentNode)$.error("type property can't be changed");else if(!$.support.radioValue&&"radio"===b&&$.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}},value:{get:function(a,b){return ra&&$.nodeName(a,"button")?ra.get(a,b):b in a?a.value:null},set:function(a,b,c){return ra&&$.nodeName(a,"button")?ra.set(a,b,c):void(a.value=b)}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(a,c,d){var e,f,g,h=a.nodeType;if(a&&3!==h&&8!==h&&2!==h)return g=1!==h||!$.isXMLDoc(a),g&&(c=$.propFix[c]||c,f=$.propHooks[c]),d!==b?f&&"set"in f&&(e=f.set(a,d,c))!==b?e:a[c]=d:f&&"get"in f&&null!==(e=f.get(a,c))?e:a[c]},propHooks:{tabIndex:{get:function(a){var c=a.getAttributeNode("tabindex");return c&&c.specified?parseInt(c.value,10):xa.test(a.nodeName)||ya.test(a.nodeName)&&a.href?0:b}}}}),sa={get:function(a,c){var d,e=$.prop(a,c);return e===!0||"boolean"!=typeof e&&(d=a.getAttributeNode(c))&&d.nodeValue!==!1?c.toLowerCase():b},set:function(a,b,c){var d;return b===!1?$.removeAttr(a,c):(d=$.propFix[c]||c,d in a&&(a[d]=!0),a.setAttribute(c,c.toLowerCase())),c}},Aa||(ta={name:!0,id:!0,coords:!0},ra=$.valHooks.button={get:function(a,c){var d;return d=a.getAttributeNode(c),d&&(ta[c]?""!==d.value:d.specified)?d.value:b},set:function(a,b,c){var d=a.getAttributeNode(c);return d||(d=P.createAttribute(c),a.setAttributeNode(d)),d.value=b+""}},$.each(["width","height"],function(a,b){$.attrHooks[b]=$.extend($.attrHooks[b],{set:function(a,c){return""===c?(a.setAttribute(b,"auto"),c):void 0}})}),$.attrHooks.contenteditable={get:ra.get,set:function(a,b,c){""===b&&(b="false"),ra.set(a,b,c)}}),$.support.hrefNormalized||$.each(["href","src","width","height"],function(a,c){$.attrHooks[c]=$.extend($.attrHooks[c],{get:function(a){var d=a.getAttribute(c,2);return null===d?b:d}})}),$.support.style||($.attrHooks.style={get:function(a){return a.style.cssText.toLowerCase()||b},set:function(a,b){return a.style.cssText=b+""}}),$.support.optSelected||($.propHooks.selected=$.extend($.propHooks.selected,{get:function(a){var b=a.parentNode;return b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex),null}})),$.support.enctype||($.propFix.enctype="encoding"),$.support.checkOn||$.each(["radio","checkbox"],function(){$.valHooks[this]={get:function(a){return null===a.getAttribute("value")?"on":a.value}}}),$.each(["radio","checkbox"],function(){$.valHooks[this]=$.extend($.valHooks[this],{set:function(a,b){return $.isArray(b)?a.checked=$.inArray($(a).val(),b)>=0:void 0}})});var Ba=/^(?:textarea|input|select)$/i,Ca=/^([^\.]*|)(?:\.(.+)|)$/,Da=/(?:^|\s)hover(\.\S+|)\b/,Ea=/^key/,Fa=/^(?:mouse|contextmenu)|click/,Ga=/^(?:focusinfocus|focusoutblur)$/,Ha=function(a){return $.event.special.hover?a:a.replace(Da,"mouseenter$1 mouseleave$1")};$.event={add:function(a,c,d,e,f){var g,h,i,j,k,l,m,n,o,p,q;if(3!==a.nodeType&&8!==a.nodeType&&c&&d&&(g=$._data(a))){for(d.handler&&(o=d,d=o.handler,f=o.selector),d.guid||(d.guid=$.guid++),i=g.events,i||(g.events=i={}),h=g.handle,h||(g.handle=h=function(a){return"undefined"==typeof $||a&&$.event.triggered===a.type?b:$.event.dispatch.apply(h.elem,arguments)},h.elem=a),c=$.trim(Ha(c)).split(" "),j=0;j<c.length;j++)k=Ca.exec(c[j])||[],l=k[1],m=(k[2]||"").split(".").sort(),q=$.event.special[l]||{},l=(f?q.delegateType:q.bindType)||l,q=$.event.special[l]||{},n=$.extend({type:l,origType:k[1],data:e,handler:d,guid:d.guid,selector:f,needsContext:f&&$.expr.match.needsContext.test(f),namespace:m.join(".")},o),p=i[l],p||(p=i[l]=[],p.delegateCount=0,q.setup&&q.setup.call(a,e,m,h)!==!1||(a.addEventListener?a.addEventListener(l,h,!1):a.attachEvent&&a.attachEvent("on"+l,h))),q.add&&(q.add.call(a,n),n.handler.guid||(n.handler.guid=d.guid)),f?p.splice(p.delegateCount++,0,n):p.push(n),$.event.global[l]=!0;a=null}},global:{},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=$.hasData(a)&&$._data(a);if(q&&(m=q.events)){for(b=$.trim(Ha(b||"")).split(" "),f=0;f<b.length;f++)if(g=Ca.exec(b[f])||[],h=i=g[1],j=g[2],h){for(n=$.event.special[h]||{},h=(d?n.delegateType:n.bindType)||h,o=m[h]||[],k=o.length,j=j?new RegExp("(^|\\.)"+j.split(".").sort().join("\\.(?:.*\\.|)")+"(\\.|$)"):null,l=0;l<o.length;l++)p=o[l],!e&&i!==p.origType||c&&c.guid!==p.guid||j&&!j.test(p.namespace)||d&&d!==p.selector&&("**"!==d||!p.selector)||(o.splice(l--,1),p.selector&&o.delegateCount--,n.remove&&n.remove.call(a,p));0===o.length&&k!==o.length&&(n.teardown&&n.teardown.call(a,j,q.handle)!==!1||$.removeEvent(a,h,q.handle),delete m[h])}else for(h in m)$.event.remove(a,h+b[f],c,d,!0);$.isEmptyObject(m)&&(delete q.handle,$.removeData(a,"events",!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(c,d,e,f){if(!e||3!==e.nodeType&&8!==e.nodeType){var g,h,i,j,k,l,m,n,o,p,q=c.type||c,r=[];if(!Ga.test(q+$.event.triggered)&&(q.indexOf("!")>=0&&(q=q.slice(0,-1),h=!0),q.indexOf(".")>=0&&(r=q.split("."),q=r.shift(),r.sort()),e&&!$.event.customEvent[q]||$.event.global[q]))if(c="object"==typeof c?c[$.expando]?c:new $.Event(q,c):new $.Event(q),c.type=q,c.isTrigger=!0,c.exclusive=h,c.namespace=r.join("."),c.namespace_re=c.namespace?new RegExp("(^|\\.)"+r.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,l=q.indexOf(":")<0?"on"+q:"",e){if(c.result=b,c.target||(c.target=e),d=null!=d?$.makeArray(d):[],d.unshift(c),m=$.event.special[q]||{},!m.trigger||m.trigger.apply(e,d)!==!1){if(o=[[e,m.bindType||q]],!f&&!m.noBubble&&!$.isWindow(e)){for(p=m.delegateType||q,j=Ga.test(p+q)?e:e.parentNode,k=e;j;j=j.parentNode)o.push([j,p]),k=j;k===(e.ownerDocument||P)&&o.push([k.defaultView||k.parentWindow||a,p])}for(i=0;i<o.length&&!c.isPropagationStopped();i++)j=o[i][0],c.type=o[i][1],n=($._data(j,"events")||{})[c.type]&&$._data(j,"handle"),n&&n.apply(j,d),n=l&&j[l],n&&$.acceptData(j)&&n.apply&&n.apply(j,d)===!1&&c.preventDefault();return c.type=q,f||c.isDefaultPrevented()||m._default&&m._default.apply(e.ownerDocument,d)!==!1||"click"===q&&$.nodeName(e,"a")||!$.acceptData(e)||l&&e[q]&&("focus"!==q&&"blur"!==q||0!==c.target.offsetWidth)&&!$.isWindow(e)&&(k=e[l],k&&(e[l]=null),$.event.triggered=q,e[q](),$.event.triggered=b,k&&(e[l]=k)),c.result}}else{g=$.cache;for(i in g)g[i].events&&g[i].events[q]&&$.event.trigger(c,d,g[i].handle.elem,!0)}}},dispatch:function(c){c=$.event.fix(c||a.event);var d,e,f,g,h,i,j,k,l,m=($._data(this,"events")||{})[c.type]||[],n=m.delegateCount,o=V.call(arguments),p=!c.exclusive&&!c.namespace,q=$.event.special[c.type]||{},r=[];if(o[0]=c,c.delegateTarget=this,!q.preDispatch||q.preDispatch.call(this,c)!==!1){if(n&&(!c.button||"click"!==c.type))for(f=c.target;f!=this;f=f.parentNode||this)if(f.disabled!==!0||"click"!==c.type){for(h={},j=[],d=0;n>d;d++)k=m[d],l=k.selector,h[l]===b&&(h[l]=k.needsContext?$(l,this).index(f)>=0:$.find(l,this,null,[f]).length),h[l]&&j.push(k);j.length&&r.push({elem:f,matches:j})}for(m.length>n&&r.push({elem:this,matches:m.slice(n)}),d=0;d<r.length&&!c.isPropagationStopped();d++)for(i=r[d],c.currentTarget=i.elem,e=0;e<i.matches.length&&!c.isImmediatePropagationStopped();e++)k=i.matches[e],(p||!c.namespace&&!k.namespace||c.namespace_re&&c.namespace_re.test(k.namespace))&&(c.data=k.data,c.handleObj=k,g=(($.event.special[k.origType]||{}).handle||k.handler).apply(i.elem,o),g!==b&&(c.result=g,g===!1&&(c.preventDefault(),c.stopPropagation())));return q.postDispatch&&q.postDispatch.call(this,c),c.result}},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,c){var d,e,f,g=c.button,h=c.fromElement;return null==a.pageX&&null!=c.clientX&&(d=a.target.ownerDocument||P,e=d.documentElement,f=d.body,a.pageX=c.clientX+(e&&e.scrollLeft||f&&f.scrollLeft||0)-(e&&e.clientLeft||f&&f.clientLeft||0),a.pageY=c.clientY+(e&&e.scrollTop||f&&f.scrollTop||0)-(e&&e.clientTop||f&&f.clientTop||0)),!a.relatedTarget&&h&&(a.relatedTarget=h===a.target?c.toElement:h),a.which||g===b||(a.which=1&g?1:2&g?3:4&g?2:0),a}},fix:function(a){if(a[$.expando])return a;var b,c,d=a,e=$.event.fixHooks[a.type]||{},f=e.props?this.props.concat(e.props):this.props;for(a=$.Event(d),b=f.length;b;)c=f[--b],a[c]=d[c];return a.target||(a.target=d.srcElement||P),3===a.target.nodeType&&(a.target=a.target.parentNode),a.metaKey=!!a.metaKey,e.filter?e.filter(a,d):a},special:{load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(a,b,c){$.isWindow(this)&&(this.onbeforeunload=c)},teardown:function(a,b){this.onbeforeunload===b&&(this.onbeforeunload=null)}}},simulate:function(a,b,c,d){var e=$.extend(new $.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?$.event.trigger(e,null,b):$.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},$.event.handle=$.event.dispatch,$.removeEvent=P.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){var d="on"+b;a.detachEvent&&("undefined"==typeof a[d]&&(a[d]=null),a.detachEvent(d,c))},$.Event=function(a,b){return this instanceof $.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||a.returnValue===!1||a.getPreventDefault&&a.getPreventDefault()?g:f):this.type=a,b&&$.extend(this,b),this.timeStamp=a&&a.timeStamp||$.now(),void(this[$.expando]=!0)):new $.Event(a,b)},$.Event.prototype={preventDefault:function(){this.isDefaultPrevented=g;var a=this.originalEvent;a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=g;var a=this.originalEvent;a&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=g,this.stopPropagation()},isDefaultPrevented:f,isPropagationStopped:f,isImmediatePropagationStopped:f},$.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){$.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;f.selector;return(!e||e!==d&&!$.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),$.support.submitBubbles||($.event.special.submit={setup:function(){return $.nodeName(this,"form")?!1:void $.event.add(this,"click._submit keypress._submit",function(a){var c=a.target,d=$.nodeName(c,"input")||$.nodeName(c,"button")?c.form:b;d&&!$._data(d,"_submit_attached")&&($.event.add(d,"submit._submit",function(a){a._submit_bubble=!0}),$._data(d,"_submit_attached",!0))})},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&$.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){return $.nodeName(this,"form")?!1:void $.event.remove(this,"._submit")}}),$.support.changeBubbles||($.event.special.change={setup:function(){return Ba.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&($.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._just_changed=!0)}),$.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1),$.event.simulate("change",this,a,!0)})),!1):void $.event.add(this,"beforeactivate._change",function(a){var b=a.target;Ba.test(b.nodeName)&&!$._data(b,"_change_attached")&&($.event.add(b,"change._change",function(a){!this.parentNode||a.isSimulated||a.isTrigger||$.event.simulate("change",this.parentNode,a,!0)}),$._data(b,"_change_attached",!0))})},handle:function(a){var b=a.target;return this!==b||a.isSimulated||a.isTrigger||"radio"!==b.type&&"checkbox"!==b.type?a.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return $.event.remove(this,"._change"),!Ba.test(this.nodeName)}}),$.support.focusinBubbles||$.each({focus:"focusin",blur:"focusout"},function(a,b){var c=0,d=function(a){$.event.simulate(b,a.target,$.event.fix(a),!0)};$.event.special[b]={setup:function(){0===c++&&P.addEventListener(a,d,!0)},teardown:function(){0===--c&&P.removeEventListener(a,d,!0)}}}),$.fn.extend({on:function(a,c,d,e,g){var h,i;if("object"==typeof a){"string"!=typeof c&&(d=d||c,c=b);for(i in a)this.on(i,c,d,a[i],g);return this}if(null==d&&null==e?(e=c,d=c=b):null==e&&("string"==typeof c?(e=d,d=b):(e=d,d=c,c=b)),e===!1)e=f;else if(!e)return this;return 1===g&&(h=e,e=function(a){return $().off(a),h.apply(this,arguments)},e.guid=h.guid||(h.guid=$.guid++)),this.each(function(){$.event.add(this,a,e,d,c)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,c,d){var e,g;if(a&&a.preventDefault&&a.handleObj)return e=a.handleObj,$(a.delegateTarget).off(e.namespace?e.origType+"."+e.namespace:e.origType,e.selector,e.handler),this;if("object"==typeof a){for(g in a)this.off(g,c,a[g]);return this}return(c===!1||"function"==typeof c)&&(d=c,c=b),d===!1&&(d=f),this.each(function(){$.event.remove(this,a,d,c)})},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},live:function(a,b,c){return $(this.context).on(a,this.selector,b,c),this},die:function(a,b){return $(this.context).off(a,this.selector||"**",b),this},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)},trigger:function(a,b){return this.each(function(){$.event.trigger(a,b,this)})},triggerHandler:function(a,b){return this[0]?$.event.trigger(a,b,this[0],!0):void 0},toggle:function(a){var b=arguments,c=a.guid||$.guid++,d=0,e=function(c){var e=($._data(this,"lastToggle"+a.guid)||0)%d;return $._data(this,"lastToggle"+a.guid,e+1),c.preventDefault(),b[e].apply(this,arguments)||!1};for(e.guid=c;d<b.length;)b[d++].guid=c;return this.click(e)},hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}}),$.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){$.fn[b]=function(a,c){return null==c&&(c=a,a=null),arguments.length>0?this.on(b,null,a,c):this.trigger(b)},Ea.test(b)&&($.event.fixHooks[b]=$.event.keyHooks),Fa.test(b)&&($.event.fixHooks[b]=$.event.mouseHooks)}),function(a,b){function c(a,b,c,d){c=c||[],b=b||F;var e,f,g,h,i=b.nodeType;if(!a||"string"!=typeof a)return c;if(1!==i&&9!==i)return[];if(g=v(b),!g&&!d&&(e=ca.exec(a)))if(h=e[1]){if(9===i){if(f=b.getElementById(h),!f||!f.parentNode)return c;if(f.id===h)return c.push(f),c}else if(b.ownerDocument&&(f=b.ownerDocument.getElementById(h))&&w(b,f)&&f.id===h)return c.push(f),c}else{if(e[2])return K.apply(c,L.call(b.getElementsByTagName(a),0)),c;if((h=e[3])&&ma&&b.getElementsByClassName)return K.apply(c,L.call(b.getElementsByClassName(h),0)),c}return p(a.replace(Z,"$1"),b,c,d,g)}function d(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function e(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function f(a){return N(function(b){return b=+b,N(function(c,d){for(var e,f=a([],c.length,b),g=f.length;g--;)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function g(a,b,c){if(a===b)return c;for(var d=a.nextSibling;d;){if(d===b)return-1;d=d.nextSibling}return 1}function h(a,b){var d,e,f,g,h,i,j,k=Q[D][a+" "];if(k)return b?0:k.slice(0);for(h=a,i=[],j=t.preFilter;h;){(!d||(e=_.exec(h)))&&(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),d=!1,(e=aa.exec(h))&&(f.push(d=new E(e.shift())),h=h.slice(d.length),d.type=e[0].replace(Z," "));for(g in t.filter)!(e=ha[g].exec(h))||j[g]&&!(e=j[g](e))||(f.push(d=new E(e.shift())),h=h.slice(d.length),d.type=g,d.matches=e);if(!d)break}return b?h.length:h?c.error(a):Q(a,i).slice(0)}function i(a,b,c){var d=b.dir,e=c&&"parentNode"===b.dir,f=I++;return b.first?function(b,c,f){for(;b=b[d];)if(e||1===b.nodeType)return a(b,c,f)}:function(b,c,g){if(g){for(;b=b[d];)if((e||1===b.nodeType)&&a(b,c,g))return b}else for(var h,i=H+" "+f+" ",j=i+r;b=b[d];)if(e||1===b.nodeType){if((h=b[D])===j)return b.sizset;if("string"==typeof h&&0===h.indexOf(i)){if(b.sizset)return b}else{if(b[D]=j,a(b,c,g))return b.sizset=!0,b;b.sizset=!1}}}}function j(a){return a.length>1?function(b,c,d){for(var e=a.length;e--;)if(!a[e](b,c,d))return!1;return!0}:a[0]}function k(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(!c||c(f,d,e))&&(g.push(f),j&&b.push(h));return g}function l(a,b,c,d,e,f){return d&&!d[D]&&(d=l(d)),e&&!e[D]&&(e=l(e,f)),N(function(f,g,h,i){var j,l,m,n=[],p=[],q=g.length,r=f||o(b||"*",h.nodeType?[h]:h,[]),s=!a||!f&&b?r:k(r,n,a,h,i),t=c?e||(f?a:q||d)?[]:g:s;if(c&&c(s,t,h,i),d)for(j=k(t,p),d(j,[],h,i),l=j.length;l--;)(m=j[l])&&(t[p[l]]=!(s[p[l]]=m));if(f){if(e||a){if(e){for(j=[],l=t.length;l--;)(m=t[l])&&j.push(s[l]=m);e(null,t=[],j,i)}for(l=t.length;l--;)(m=t[l])&&(j=e?M.call(f,m):n[l])>-1&&(f[j]=!(g[j]=m))}}else t=k(t===g?t.splice(q,t.length):t),e?e(null,g,t,i):K.apply(g,t)})}function m(a){for(var b,c,d,e=a.length,f=t.relative[a[0].type],g=f||t.relative[" "],h=f?1:0,k=i(function(a){return a===b},g,!0),n=i(function(a){return M.call(b,a)>-1},g,!0),o=[function(a,c,d){return!f&&(d||c!==A)||((b=c).nodeType?k(a,c,d):n(a,c,d))}];e>h;h++)if(c=t.relative[a[h].type])o=[i(j(o),c)];else{if(c=t.filter[a[h].type].apply(null,a[h].matches),c[D]){for(d=++h;e>d&&!t.relative[a[d].type];d++);return l(h>1&&j(o),h>1&&a.slice(0,h-1).join("").replace(Z,"$1"),c,d>h&&m(a.slice(h,d)),e>d&&m(a=a.slice(d)),e>d&&a.join(""))}o.push(c)}return j(o)}function n(a,b){var d=b.length>0,e=a.length>0,f=function(g,h,i,j,l){var m,n,o,p=[],q=0,s="0",u=g&&[],v=null!=l,w=A,x=g||e&&t.find.TAG("*",l&&h.parentNode||h),y=H+=null==w?1:Math.E;for(v&&(A=h!==F&&h,r=f.el);null!=(m=x[s]);s++){if(e&&m){for(n=0;o=a[n];n++)if(o(m,h,i)){j.push(m);break}v&&(H=y,r=++f.el)}d&&((m=!o&&m)&&q--,g&&u.push(m))}if(q+=s,d&&s!==q){for(n=0;o=b[n];n++)o(u,p,h,i);if(g){if(q>0)for(;s--;)u[s]||p[s]||(p[s]=J.call(j));p=k(p)}K.apply(j,p),v&&!g&&p.length>0&&q+b.length>1&&c.uniqueSort(j)}return v&&(H=y,A=w),u};return f.el=0,d?N(f):f}function o(a,b,d){for(var e=0,f=b.length;f>e;e++)c(a,b[e],d);return d}function p(a,b,c,d,e){var f,g,i,j,k,l=h(a);l.length;if(!d&&1===l.length){if(g=l[0]=l[0].slice(0),g.length>2&&"ID"===(i=g[0]).type&&9===b.nodeType&&!e&&t.relative[g[1].type]){if(b=t.find.ID(i.matches[0].replace(ga,""),b,e)[0],!b)return c;a=a.slice(g.shift().length)}for(f=ha.POS.test(a)?-1:g.length-1;f>=0&&(i=g[f],!t.relative[j=i.type]);f--)if((k=t.find[j])&&(d=k(i.matches[0].replace(ga,""),da.test(g[0].type)&&b.parentNode||b,e))){if(g.splice(f,1),a=d.length&&g.join(""),!a)return K.apply(c,L.call(d,0)),c;break}}return x(a,l)(d,b,e,c,da.test(a)),c}function q(){}var r,s,t,u,v,w,x,y,z,A,B=!0,C="undefined",D=("sizcache"+Math.random()).replace(".",""),E=String,F=a.document,G=F.documentElement,H=0,I=0,J=[].pop,K=[].push,L=[].slice,M=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(this[b]===a)return b;return-1},N=function(a,b){return a[D]=null==b||b,a},O=function(){var a={},b=[];return N(function(c,d){return b.push(c)>t.cacheLength&&delete a[b.shift()],a[c+" "]=d},a)},P=O(),Q=O(),R=O(),S="[\\x20\\t\\r\\n\\f]",T="(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+",U=T.replace("w","w#"),V="([*^$|!~]?=)",W="\\["+S+"*("+T+")"+S+"*(?:"+V+S+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+U+")|)|)"+S+"*\\]",X=":("+T+")(?:\\((?:(['\"])((?:\\\\.|[^\\\\])*?)\\2|([^()[\\]]*|(?:(?:"+W+")|[^:]|\\\\.)*|.*))\\)|)",Y=":(even|odd|eq|gt|lt|nth|first|last)(?:\\("+S+"*((?:-\\d)?\\d*)"+S+"*\\)|)(?=[^-]|$)",Z=new RegExp("^"+S+"+|((?:^|[^\\\\])(?:\\\\.)*)"+S+"+$","g"),_=new RegExp("^"+S+"*,"+S+"*"),aa=new RegExp("^"+S+"*([\\x20\\t\\r\\n\\f>+~])"+S+"*"),ba=new RegExp(X),ca=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,da=/[\x20\t\r\n\f]*[+~]/,ea=/h\d/i,fa=/input|select|textarea|button/i,ga=/\\(?!\\)/g,ha={ID:new RegExp("^#("+T+")"),CLASS:new RegExp("^\\.("+T+")"),NAME:new RegExp("^\\[name=['\"]?("+T+")['\"]?\\]"),TAG:new RegExp("^("+T.replace("w","w*")+")"),ATTR:new RegExp("^"+W),PSEUDO:new RegExp("^"+X),POS:new RegExp(Y,"i"),CHILD:new RegExp("^:(only|nth|first|last)-child(?:\\("+S+"*(even|odd|(([+-]|)(\\d*)n|)"+S+"*(?:([+-]|)"+S+"*(\\d+)|))"+S+"*\\)|)","i"),needsContext:new RegExp("^"+S+"*[>+~]|"+Y,"i")},ia=function(a){var b=F.createElement("div");try{return a(b)}catch(c){return!1}finally{b=null}},ja=ia(function(a){return a.appendChild(F.createComment("")),!a.getElementsByTagName("*").length}),ka=ia(function(a){return a.innerHTML="<a href='#'></a>",a.firstChild&&typeof a.firstChild.getAttribute!==C&&"#"===a.firstChild.getAttribute("href")}),la=ia(function(a){a.innerHTML="<select></select>";var b=typeof a.lastChild.getAttribute("multiple");return"boolean"!==b&&"string"!==b}),ma=ia(function(a){return a.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",a.getElementsByClassName&&a.getElementsByClassName("e").length?(a.lastChild.className="e",2===a.getElementsByClassName("e").length):!1}),na=ia(function(a){a.id=D+0,a.innerHTML="<a name='"+D+"'></a><div name='"+D+"'></div>",G.insertBefore(a,G.firstChild);var b=F.getElementsByName&&F.getElementsByName(D).length===2+F.getElementsByName(D+0).length;return s=!F.getElementById(D),G.removeChild(a),b});try{L.call(G.childNodes,0)[0].nodeType}catch(oa){L=function(a){for(var b,c=[];b=this[a];a++)c.push(b);return c}}c.matches=function(a,b){return c(a,null,null,b)},c.matchesSelector=function(a,b){return c(b,null,null,[a]).length>0},u=c.getText=function(a){var b,c="",d=0,e=a.nodeType;if(e){if(1===e||9===e||11===e){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=u(a)}else if(3===e||4===e)return a.nodeValue}else for(;b=a[d];d++)c+=u(b);return c},v=c.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1},w=c.contains=G.contains?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!!(d&&1===d.nodeType&&c.contains&&c.contains(d))}:G.compareDocumentPosition?function(a,b){return b&&!!(16&a.compareDocumentPosition(b))}:function(a,b){for(;b=b.parentNode;)if(b===a)return!0;return!1},c.attr=function(a,b){var c,d=v(a);return d||(b=b.toLowerCase()),(c=t.attrHandle[b])?c(a):d||la?a.getAttribute(b):(c=a.getAttributeNode(b),c?"boolean"==typeof a[b]?a[b]?b:null:c.specified?c.value:null:null)},t=c.selectors={cacheLength:50,createPseudo:N,match:ha,attrHandle:ka?{}:{href:function(a){return a.getAttribute("href",2)},type:function(a){return a.getAttribute("type")}},find:{ID:s?function(a,b,c){if(typeof b.getElementById!==C&&!c){var d=b.getElementById(a);return d&&d.parentNode?[d]:[]}}:function(a,c,d){if(typeof c.getElementById!==C&&!d){var e=c.getElementById(a);return e?e.id===a||typeof e.getAttributeNode!==C&&e.getAttributeNode("id").value===a?[e]:b:[]}},TAG:ja?function(a,b){return typeof b.getElementsByTagName!==C?b.getElementsByTagName(a):void 0}:function(a,b){var c=b.getElementsByTagName(a);if("*"===a){for(var d,e=[],f=0;d=c[f];f++)1===d.nodeType&&e.push(d);return e}return c},NAME:na&&function(a,b){return typeof b.getElementsByName!==C?b.getElementsByName(name):void 0},CLASS:ma&&function(a,b,c){return typeof b.getElementsByClassName===C||c?void 0:b.getElementsByClassName(a)}},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(ga,""),a[3]=(a[4]||a[5]||"").replace(ga,""),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1]?(a[2]||c.error(a[0]),a[3]=+(a[3]?a[4]+(a[5]||1):2*("even"===a[2]||"odd"===a[2])),a[4]=+(a[6]+a[7]||"odd"===a[2])):a[2]&&c.error(a[0]),a},PSEUDO:function(a){var b,c;return ha.CHILD.test(a[0])?null:(a[3]?a[2]=a[3]:(b=a[4])&&(ba.test(b)&&(c=h(b,!0))&&(c=b.indexOf(")",b.length-c)-b.length)&&(b=b.slice(0,c),a[0]=a[0].slice(0,c)),a[2]=b),a.slice(0,3))}},filter:{ID:s?function(a){return a=a.replace(ga,""),function(b){return b.getAttribute("id")===a}}:function(a){return a=a.replace(ga,""),function(b){var c=typeof b.getAttributeNode!==C&&b.getAttributeNode("id");return c&&c.value===a}},TAG:function(a){return"*"===a?function(){return!0}:(a=a.replace(ga,"").toLowerCase(),function(b){return b.nodeName&&b.nodeName.toLowerCase()===a})},CLASS:function(a){var b=P[D][a+" "];return b||(b=new RegExp("(^|"+S+")"+a+"("+S+"|$)"))&&P(a,function(a){return b.test(a.className||typeof a.getAttribute!==C&&a.getAttribute("class")||"")})},ATTR:function(a,b,d){return function(e,f){var g=c.attr(e,a);return null==g?"!="===b:b?(g+="","="===b?g===d:"!="===b?g!==d:"^="===b?d&&0===g.indexOf(d):"*="===b?d&&g.indexOf(d)>-1:"$="===b?d&&g.substr(g.length-d.length)===d:"~="===b?(" "+g+" ").indexOf(d)>-1:"|="===b?g===d||g.substr(0,d.length+1)===d+"-":!1):!0}},CHILD:function(a,b,c,d){return"nth"===a?function(a){var b,e,f=a.parentNode;if(1===c&&0===d)return!0;if(f)for(e=0,b=f.firstChild;b&&(1!==b.nodeType||(e++,a!==b));b=b.nextSibling);return e-=d,e===c||e%c===0&&e/c>=0}:function(b){var c=b;switch(a){case"only":case"first":for(;c=c.previousSibling;)if(1===c.nodeType)return!1;if("first"===a)return!0;c=b;case"last":for(;c=c.nextSibling;)if(1===c.nodeType)return!1;return!0}}},PSEUDO:function(a,b){var d,e=t.pseudos[a]||t.setFilters[a.toLowerCase()]||c.error("unsupported pseudo: "+a);return e[D]?e(b):e.length>1?(d=[a,a,"",b],t.setFilters.hasOwnProperty(a.toLowerCase())?N(function(a,c){for(var d,f=e(a,b),g=f.length;g--;)d=M.call(a,f[g]),a[d]=!(c[d]=f[g])}):function(a){return e(a,0,d)}):e}},pseudos:{not:N(function(a){var b=[],c=[],d=x(a.replace(Z,"$1"));return d[D]?N(function(a,b,c,e){for(var f,g=d(a,null,e,[]),h=a.length;h--;)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,e,f){return b[0]=a,d(b,null,f,c),!c.pop()}}),has:N(function(a){return function(b){return c(a,b).length>0}}),contains:N(function(a){return function(b){return(b.textContent||b.innerText||u(b)).indexOf(a)>-1}}),enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},parent:function(a){return!t.pseudos.empty(a)},empty:function(a){var b;for(a=a.firstChild;a;){if(a.nodeName>"@"||3===(b=a.nodeType)||4===b)return!1;a=a.nextSibling}return!0},header:function(a){return ea.test(a.nodeName)},text:function(a){var b,c;return"input"===a.nodeName.toLowerCase()&&"text"===(b=a.type)&&(null==(c=a.getAttribute("type"))||c.toLowerCase()===b)},radio:d("radio"),checkbox:d("checkbox"),file:d("file"),password:d("password"),image:d("image"),submit:e("submit"),reset:e("reset"),button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},input:function(a){return fa.test(a.nodeName)},focus:function(a){var b=a.ownerDocument;return a===b.activeElement&&(!b.hasFocus||b.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},active:function(a){return a===a.ownerDocument.activeElement},first:f(function(){return[0]}),last:f(function(a,b){return[b-1]}),eq:f(function(a,b,c){return[0>c?c+b:c]}),even:f(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:f(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:f(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:f(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}},y=G.compareDocumentPosition?function(a,b){return a===b?(z=!0,0):(a.compareDocumentPosition&&b.compareDocumentPosition?4&a.compareDocumentPosition(b):a.compareDocumentPosition)?-1:1}:function(a,b){if(a===b)return z=!0,0;if(a.sourceIndex&&b.sourceIndex)return a.sourceIndex-b.sourceIndex;var c,d,e=[],f=[],h=a.parentNode,i=b.parentNode,j=h;if(h===i)return g(a,b);if(!h)return-1;if(!i)return 1;for(;j;)e.unshift(j),j=j.parentNode;for(j=i;j;)f.unshift(j),j=j.parentNode;c=e.length,d=f.length;for(var k=0;c>k&&d>k;k++)if(e[k]!==f[k])return g(e[k],f[k]);return k===c?g(a,f[k],-1):g(e[k],b,1)},[0,0].sort(y),B=!z,c.uniqueSort=function(a){var b,c=[],d=1,e=0;if(z=B,a.sort(y),z){for(;b=a[d];d++)b===a[d-1]&&(e=c.push(d));for(;e--;)a.splice(c[e],1)}return a},c.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},x=c.compile=function(a,b){var c,d=[],e=[],f=R[D][a+" "];if(!f){for(b||(b=h(a)),c=b.length;c--;)f=m(b[c]),f[D]?d.push(f):e.push(f);f=R(a,n(e,d))}return f},F.querySelectorAll&&!function(){var a,b=p,d=/'|\\/g,e=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,f=[":focus"],g=[":active"],i=G.matchesSelector||G.mozMatchesSelector||G.webkitMatchesSelector||G.oMatchesSelector||G.msMatchesSelector;ia(function(a){a.innerHTML="<select><option selected=''></option></select>",a.querySelectorAll("[selected]").length||f.push("\\["+S+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),a.querySelectorAll(":checked").length||f.push(":checked")}),ia(function(a){a.innerHTML="<p test=''></p>",a.querySelectorAll("[test^='']").length&&f.push("[*^$]="+S+"*(?:\"\"|'')"),a.innerHTML="<input type='hidden'/>",a.querySelectorAll(":enabled").length||f.push(":enabled",":disabled")}),f=new RegExp(f.join("|")),p=function(a,c,e,g,i){if(!g&&!i&&!f.test(a)){var j,k,l=!0,m=D,n=c,o=9===c.nodeType&&a;
if(1===c.nodeType&&"object"!==c.nodeName.toLowerCase()){for(j=h(a),(l=c.getAttribute("id"))?m=l.replace(d,"\\$&"):c.setAttribute("id",m),m="[id='"+m+"'] ",k=j.length;k--;)j[k]=m+j[k].join("");n=da.test(a)&&c.parentNode||c,o=j.join(",")}if(o)try{return K.apply(e,L.call(n.querySelectorAll(o),0)),e}catch(p){}finally{l||c.removeAttribute("id")}}return b(a,c,e,g,i)},i&&(ia(function(b){a=i.call(b,"div");try{i.call(b,"[test!='']:sizzle"),g.push("!=",X)}catch(c){}}),g=new RegExp(g.join("|")),c.matchesSelector=function(b,d){if(d=d.replace(e,"='$1']"),!v(b)&&!g.test(d)&&!f.test(d))try{var h=i.call(b,d);if(h||a||b.document&&11!==b.document.nodeType)return h}catch(j){}return c(d,null,null,[b]).length>0})}(),t.pseudos.nth=t.pseudos.eq,t.filters=q.prototype=t.pseudos,t.setFilters=new q,c.attr=$.attr,$.find=c,$.expr=c.selectors,$.expr[":"]=$.expr.pseudos,$.unique=c.uniqueSort,$.text=c.getText,$.isXMLDoc=c.isXML,$.contains=c.contains}(a);var Ia=/Until$/,Ja=/^(?:parents|prev(?:Until|All))/,Ka=/^.[^:#\[\.,]*$/,La=$.expr.match.needsContext,Ma={children:!0,contents:!0,next:!0,prev:!0};$.fn.extend({find:function(a){var b,c,d,e,f,g,h=this;if("string"!=typeof a)return $(a).filter(function(){for(b=0,c=h.length;c>b;b++)if($.contains(h[b],this))return!0});for(g=this.pushStack("","find",a),b=0,c=this.length;c>b;b++)if(d=g.length,$.find(a,this[b],g),b>0)for(e=d;e<g.length;e++)for(f=0;d>f;f++)if(g[f]===g[e]){g.splice(e--,1);break}return g},has:function(a){var b,c=$(a,this),d=c.length;return this.filter(function(){for(b=0;d>b;b++)if($.contains(this,c[b]))return!0})},not:function(a){return this.pushStack(j(this,a,!1),"not",a)},filter:function(a){return this.pushStack(j(this,a,!0),"filter",a)},is:function(a){return!!a&&("string"==typeof a?La.test(a)?$(a,this.context).index(this[0])>=0:$.filter(a,this).length>0:this.filter(a).length>0)},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=La.test(a)||"string"!=typeof a?$(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c.ownerDocument&&c!==b&&11!==c.nodeType;){if(g?g.index(c)>-1:$.find.matchesSelector(c,a)){f.push(c);break}c=c.parentNode}return f=f.length>1?$.unique(f):f,this.pushStack(f,"closest",a)},index:function(a){return a?"string"==typeof a?$.inArray(this[0],$(a)):$.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(a,b){var c="string"==typeof a?$(a,b):$.makeArray(a&&a.nodeType?[a]:a),d=$.merge(this.get(),c);return this.pushStack(h(c[0])||h(d[0])?d:$.unique(d))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}}),$.fn.andSelf=$.fn.addBack,$.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return $.dir(a,"parentNode")},parentsUntil:function(a,b,c){return $.dir(a,"parentNode",c)},next:function(a){return i(a,"nextSibling")},prev:function(a){return i(a,"previousSibling")},nextAll:function(a){return $.dir(a,"nextSibling")},prevAll:function(a){return $.dir(a,"previousSibling")},nextUntil:function(a,b,c){return $.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return $.dir(a,"previousSibling",c)},siblings:function(a){return $.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return $.sibling(a.firstChild)},contents:function(a){return $.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:$.merge([],a.childNodes)}},function(a,b){$.fn[a]=function(c,d){var e=$.map(this,b,c);return Ia.test(a)||(d=c),d&&"string"==typeof d&&(e=$.filter(d,e)),e=this.length>1&&!Ma[a]?$.unique(e):e,this.length>1&&Ja.test(a)&&(e=e.reverse()),this.pushStack(e,a,V.call(arguments).join(","))}}),$.extend({filter:function(a,b,c){return c&&(a=":not("+a+")"),1===b.length?$.find.matchesSelector(b[0],a)?[b[0]]:[]:$.find.matches(a,b)},dir:function(a,c,d){for(var e=[],f=a[c];f&&9!==f.nodeType&&(d===b||1!==f.nodeType||!$(f).is(d));)1===f.nodeType&&e.push(f),f=f[c];return e},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}});var Na="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Oa=/ jQuery\d+="(?:null|\d+)"/g,Pa=/^\s+/,Qa=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Ra=/<([\w:]+)/,Sa=/<tbody/i,Ta=/<|&#?\w+;/,Ua=/<(?:script|style|link)/i,Va=/<(?:script|object|embed|option|style)/i,Wa=new RegExp("<(?:"+Na+")[\\s/>]","i"),Xa=/^(?:checkbox|radio)$/,Ya=/checked\s*(?:[^=]|=\s*.checked.)/i,Za=/\/(java|ecma)script/i,$a=/^\s*<!(?:\[CDATA\[|\-\-)|[\]\-]{2}>\s*$/g,_a={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},ab=k(P),bb=ab.appendChild(P.createElement("div"));_a.optgroup=_a.option,_a.tbody=_a.tfoot=_a.colgroup=_a.caption=_a.thead,_a.th=_a.td,$.support.htmlSerialize||(_a._default=[1,"X<div>","</div>"]),$.fn.extend({text:function(a){return $.access(this,function(a){return a===b?$.text(this):this.empty().append((this[0]&&this[0].ownerDocument||P).createTextNode(a))},null,a,arguments.length)},wrapAll:function(a){if($.isFunction(a))return this.each(function(b){$(this).wrapAll(a.call(this,b))});if(this[0]){var b=$(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var a=this;a.firstChild&&1===a.firstChild.nodeType;)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return $.isFunction(a)?this.each(function(b){$(this).wrapInner(a.call(this,b))}):this.each(function(){var b=$(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=$.isFunction(a);return this.each(function(c){$(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){$.nodeName(this,"body")||$(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(a){(1===this.nodeType||11===this.nodeType)&&this.appendChild(a)})},prepend:function(){return this.domManip(arguments,!0,function(a){(1===this.nodeType||11===this.nodeType)&&this.insertBefore(a,this.firstChild)})},before:function(){if(!h(this[0]))return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this)});if(arguments.length){var a=$.clean(arguments);return this.pushStack($.merge(a,this),"before",this.selector)}},after:function(){if(!h(this[0]))return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this.nextSibling)});if(arguments.length){var a=$.clean(arguments);return this.pushStack($.merge(this,a),"after",this.selector)}},remove:function(a,b){for(var c,d=0;null!=(c=this[d]);d++)(!a||$.filter(a,[c]).length)&&(b||1!==c.nodeType||($.cleanData(c.getElementsByTagName("*")),$.cleanData([c])),c.parentNode&&c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)for(1===a.nodeType&&$.cleanData(a.getElementsByTagName("*"));a.firstChild;)a.removeChild(a.firstChild);return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return $.clone(this,a,b)})},html:function(a){return $.access(this,function(a){var c=this[0]||{},d=0,e=this.length;if(a===b)return 1===c.nodeType?c.innerHTML.replace(Oa,""):b;if("string"==typeof a&&!Ua.test(a)&&($.support.htmlSerialize||!Wa.test(a))&&($.support.leadingWhitespace||!Pa.test(a))&&!_a[(Ra.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(Qa,"<$1></$2>");try{for(;e>d;d++)c=this[d]||{},1===c.nodeType&&($.cleanData(c.getElementsByTagName("*")),c.innerHTML=a);c=0}catch(f){}}c&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(a){return h(this[0])?this.length?this.pushStack($($.isFunction(a)?a():a),"replaceWith",a):this:$.isFunction(a)?this.each(function(b){var c=$(this),d=c.html();c.replaceWith(a.call(this,b,d))}):("string"!=typeof a&&(a=$(a).detach()),this.each(function(){var b=this.nextSibling,c=this.parentNode;$(this).remove(),b?$(b).before(a):$(c).append(a)}))},detach:function(a){return this.remove(a,!0)},domManip:function(a,c,d){a=[].concat.apply([],a);var e,f,g,h,i=0,j=a[0],k=[],m=this.length;if(!$.support.checkClone&&m>1&&"string"==typeof j&&Ya.test(j))return this.each(function(){$(this).domManip(a,c,d)});if($.isFunction(j))return this.each(function(e){var f=$(this);a[0]=j.call(this,e,c?f.html():b),f.domManip(a,c,d)});if(this[0]){if(e=$.buildFragment(a,this,k),g=e.fragment,f=g.firstChild,1===g.childNodes.length&&(g=f),f)for(c=c&&$.nodeName(f,"tr"),h=e.cacheable||m-1;m>i;i++)d.call(c&&$.nodeName(this[i],"table")?l(this[i],"tbody"):this[i],i===h?g:$.clone(g,!0,!0));g=f=null,k.length&&$.each(k,function(a,b){b.src?$.ajax?$.ajax({url:b.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):$.error("no ajax"):$.globalEval((b.text||b.textContent||b.innerHTML||"").replace($a,"")),b.parentNode&&b.parentNode.removeChild(b)})}return this}}),$.buildFragment=function(a,c,d){var e,f,g,h=a[0];return c=c||P,c=!c.nodeType&&c[0]||c,c=c.ownerDocument||c,!(1===a.length&&"string"==typeof h&&h.length<512&&c===P&&"<"===h.charAt(0))||Va.test(h)||!$.support.checkClone&&Ya.test(h)||!$.support.html5Clone&&Wa.test(h)||(f=!0,e=$.fragments[h],g=e!==b),e||(e=c.createDocumentFragment(),$.clean(a,c,e,d),f&&($.fragments[h]=g&&e)),{fragment:e,cacheable:f}},$.fragments={},$.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){$.fn[a]=function(c){var d,e=0,f=[],g=$(c),h=g.length,i=1===this.length&&this[0].parentNode;if((null==i||i&&11===i.nodeType&&1===i.childNodes.length)&&1===h)return g[b](this[0]),this;for(;h>e;e++)d=(e>0?this.clone(!0):this).get(),$(g[e])[b](d),f=f.concat(d);return this.pushStack(f,a,g.selector)}}),$.extend({clone:function(a,b,c){var d,e,f,g;if($.support.html5Clone||$.isXMLDoc(a)||!Wa.test("<"+a.nodeName+">")?g=a.cloneNode(!0):(bb.innerHTML=a.outerHTML,bb.removeChild(g=bb.firstChild)),!($.support.noCloneEvent&&$.support.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||$.isXMLDoc(a)))for(n(a,g),d=o(a),e=o(g),f=0;d[f];++f)e[f]&&n(d[f],e[f]);if(b&&(m(a,g),c))for(d=o(a),e=o(g),f=0;d[f];++f)m(d[f],e[f]);return d=e=null,g},clean:function(a,b,c,d){var e,f,g,h,i,j,l,m,n,o,q,r=b===P&&ab,s=[];for(b&&"undefined"!=typeof b.createDocumentFragment||(b=P),e=0;null!=(g=a[e]);e++)if("number"==typeof g&&(g+=""),g){if("string"==typeof g)if(Ta.test(g)){for(r=r||k(b),l=b.createElement("div"),r.appendChild(l),g=g.replace(Qa,"<$1></$2>"),h=(Ra.exec(g)||["",""])[1].toLowerCase(),i=_a[h]||_a._default,j=i[0],l.innerHTML=i[1]+g+i[2];j--;)l=l.lastChild;if(!$.support.tbody)for(m=Sa.test(g),n="table"!==h||m?"<table>"!==i[1]||m?[]:l.childNodes:l.firstChild&&l.firstChild.childNodes,f=n.length-1;f>=0;--f)$.nodeName(n[f],"tbody")&&!n[f].childNodes.length&&n[f].parentNode.removeChild(n[f]);!$.support.leadingWhitespace&&Pa.test(g)&&l.insertBefore(b.createTextNode(Pa.exec(g)[0]),l.firstChild),g=l.childNodes,l.parentNode.removeChild(l)}else g=b.createTextNode(g);g.nodeType?s.push(g):$.merge(s,g)}if(l&&(g=l=r=null),!$.support.appendChecked)for(e=0;null!=(g=s[e]);e++)$.nodeName(g,"input")?p(g):"undefined"!=typeof g.getElementsByTagName&&$.grep(g.getElementsByTagName("input"),p);if(c)for(o=function(a){return!a.type||Za.test(a.type)?d?d.push(a.parentNode?a.parentNode.removeChild(a):a):c.appendChild(a):void 0},e=0;null!=(g=s[e]);e++)$.nodeName(g,"script")&&o(g)||(c.appendChild(g),"undefined"!=typeof g.getElementsByTagName&&(q=$.grep($.merge([],g.getElementsByTagName("script")),o),s.splice.apply(s,[e+1,0].concat(q)),e+=q.length));return s},cleanData:function(a,b){for(var c,d,e,f,g=0,h=$.expando,i=$.cache,j=$.support.deleteExpando,k=$.event.special;null!=(e=a[g]);g++)if((b||$.acceptData(e))&&(d=e[h],c=d&&i[d])){if(c.events)for(f in c.events)k[f]?$.event.remove(e,f):$.removeEvent(e,f,c.handle);i[d]&&(delete i[d],j?delete e[h]:e.removeAttribute?e.removeAttribute(h):e[h]=null,$.deletedIds.push(d))}}}),function(){var a,b;$.uaMatch=function(a){a=a.toLowerCase();var b=/(chrome)[ \/]([\w.]+)/.exec(a)||/(webkit)[ \/]([\w.]+)/.exec(a)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(a)||/(msie) ([\w.]+)/.exec(a)||a.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(a)||[];return{browser:b[1]||"",version:b[2]||"0"}},a=$.uaMatch(R.userAgent),b={},a.browser&&(b[a.browser]=!0,b.version=a.version),b.chrome?b.webkit=!0:b.webkit&&(b.safari=!0),$.browser=b,$.sub=function(){function a(b,c){return new a.fn.init(b,c)}$.extend(!0,a,this),a.superclass=this,a.fn=a.prototype=this(),a.fn.constructor=a,a.sub=this.sub,a.fn.init=function(c,d){return d&&d instanceof $&&!(d instanceof a)&&(d=a(d)),$.fn.init.call(this,c,d,b)},a.fn.init.prototype=a.fn;var b=a(P);return a}}();var cb,db,eb,fb=/alpha\([^)]*\)/i,gb=/opacity=([^)]*)/,hb=/^(top|right|bottom|left)$/,ib=/^(none|table(?!-c[ea]).+)/,jb=/^margin/,kb=new RegExp("^("+_+")(.*)$","i"),lb=new RegExp("^("+_+")(?!px)[a-z%]+$","i"),mb=new RegExp("^([-+])=("+_+")","i"),nb={BODY:"block"},ob={position:"absolute",visibility:"hidden",display:"block"},pb={letterSpacing:0,fontWeight:400},qb=["Top","Right","Bottom","Left"],rb=["Webkit","O","Moz","ms"],sb=$.fn.toggle;$.fn.extend({css:function(a,c){return $.access(this,function(a,c,d){return d!==b?$.style(a,c,d):$.css(a,c)},a,c,arguments.length>1)},show:function(){return s(this,!0)},hide:function(){return s(this)},toggle:function(a,b){var c="boolean"==typeof a;return $.isFunction(a)&&$.isFunction(b)?sb.apply(this,arguments):this.each(function(){(c?a:r(this))?$(this).show():$(this).hide()})}}),$.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=cb(a,"opacity");return""===c?"1":c}}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":$.support.cssFloat?"cssFloat":"styleFloat"},style:function(a,c,d,e){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var f,g,h,i=$.camelCase(c),j=a.style;if(c=$.cssProps[i]||($.cssProps[i]=q(j,i)),h=$.cssHooks[c]||$.cssHooks[i],d===b)return h&&"get"in h&&(f=h.get(a,!1,e))!==b?f:j[c];if(g=typeof d,"string"===g&&(f=mb.exec(d))&&(d=(f[1]+1)*f[2]+parseFloat($.css(a,c)),g="number"),!(null==d||"number"===g&&isNaN(d)||("number"!==g||$.cssNumber[i]||(d+="px"),h&&"set"in h&&(d=h.set(a,d,e))===b)))try{j[c]=d}catch(k){}}},css:function(a,c,d,e){var f,g,h,i=$.camelCase(c);return c=$.cssProps[i]||($.cssProps[i]=q(a.style,i)),h=$.cssHooks[c]||$.cssHooks[i],h&&"get"in h&&(f=h.get(a,!0,e)),f===b&&(f=cb(a,c)),"normal"===f&&c in pb&&(f=pb[c]),d||e!==b?(g=parseFloat(f),d||$.isNumeric(g)?g||0:f):f},swap:function(a,b,c){var d,e,f={};for(e in b)f[e]=a.style[e],a.style[e]=b[e];d=c.call(a);for(e in b)a.style[e]=f[e];return d}}),a.getComputedStyle?cb=function(b,c){var d,e,f,g,h=a.getComputedStyle(b,null),i=b.style;return h&&(d=h.getPropertyValue(c)||h[c],""!==d||$.contains(b.ownerDocument,b)||(d=$.style(b,c)),lb.test(d)&&jb.test(c)&&(e=i.width,f=i.minWidth,g=i.maxWidth,i.minWidth=i.maxWidth=i.width=d,d=h.width,i.width=e,i.minWidth=f,i.maxWidth=g)),d}:P.documentElement.currentStyle&&(cb=function(a,b){var c,d,e=a.currentStyle&&a.currentStyle[b],f=a.style;return null==e&&f&&f[b]&&(e=f[b]),lb.test(e)&&!hb.test(b)&&(c=f.left,d=a.runtimeStyle&&a.runtimeStyle.left,d&&(a.runtimeStyle.left=a.currentStyle.left),f.left="fontSize"===b?"1em":e,e=f.pixelLeft+"px",f.left=c,d&&(a.runtimeStyle.left=d)),""===e?"auto":e}),$.each(["height","width"],function(a,b){$.cssHooks[b]={get:function(a,c,d){return c?0===a.offsetWidth&&ib.test(cb(a,"display"))?$.swap(a,ob,function(){return v(a,b,d)}):v(a,b,d):void 0},set:function(a,c,d){return t(a,c,d?u(a,b,d,$.support.boxSizing&&"border-box"===$.css(a,"boxSizing")):0)}}}),$.support.opacity||($.cssHooks.opacity={get:function(a,b){return gb.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,e=$.isNumeric(b)?"alpha(opacity="+100*b+")":"",f=d&&d.filter||c.filter||"";c.zoom=1,b>=1&&""===$.trim(f.replace(fb,""))&&c.removeAttribute&&(c.removeAttribute("filter"),d&&!d.filter)||(c.filter=fb.test(f)?f.replace(fb,e):f+" "+e)}}),$(function(){$.support.reliableMarginRight||($.cssHooks.marginRight={get:function(a,b){return $.swap(a,{display:"inline-block"},function(){return b?cb(a,"marginRight"):void 0})}}),!$.support.pixelPosition&&$.fn.position&&$.each(["top","left"],function(a,b){$.cssHooks[b]={get:function(a,c){if(c){var d=cb(a,b);return lb.test(d)?$(a).position()[b]+"px":d}}}})}),$.expr&&$.expr.filters&&($.expr.filters.hidden=function(a){return 0===a.offsetWidth&&0===a.offsetHeight||!$.support.reliableHiddenOffsets&&"none"===(a.style&&a.style.display||cb(a,"display"))},$.expr.filters.visible=function(a){return!$.expr.filters.hidden(a)}),$.each({margin:"",padding:"",border:"Width"},function(a,b){$.cssHooks[a+b]={expand:function(c){var d,e="string"==typeof c?c.split(" "):[c],f={};for(d=0;4>d;d++)f[a+qb[d]+b]=e[d]||e[d-2]||e[0];return f}},jb.test(a)||($.cssHooks[a+b].set=t)});var tb=/%20/g,ub=/\[\]$/,vb=/\r?\n/g,wb=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,xb=/^(?:select|textarea)/i;$.fn.extend({serialize:function(){return $.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?$.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||xb.test(this.nodeName)||wb.test(this.type))}).map(function(a,b){var c=$(this).val();return null==c?null:$.isArray(c)?$.map(c,function(a,c){return{name:b.name,value:a.replace(vb,"\r\n")}}):{name:b.name,value:c.replace(vb,"\r\n")}}).get()}}),$.param=function(a,c){var d,e=[],f=function(a,b){b=$.isFunction(b)?b():null==b?"":b,e[e.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(c===b&&(c=$.ajaxSettings&&$.ajaxSettings.traditional),$.isArray(a)||a.jquery&&!$.isPlainObject(a))$.each(a,function(){f(this.name,this.value)});else for(d in a)x(d,a[d],c,f);return e.join("&").replace(tb,"+")};var yb,zb,Ab=/#.*$/,Bb=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Cb=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,Db=/^(?:GET|HEAD)$/,Eb=/^\/\//,Fb=/\?/,Gb=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,Hb=/([?&])_=[^&]*/,Ib=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Jb=$.fn.load,Kb={},Lb={},Mb=["*/"]+["*"];try{zb=Q.href}catch(Nb){zb=P.createElement("a"),zb.href="",zb=zb.href}yb=Ib.exec(zb.toLowerCase())||[],$.fn.load=function(a,c,d){if("string"!=typeof a&&Jb)return Jb.apply(this,arguments);if(!this.length)return this;var e,f,g,h=this,i=a.indexOf(" ");return i>=0&&(e=a.slice(i,a.length),a=a.slice(0,i)),$.isFunction(c)?(d=c,c=b):c&&"object"==typeof c&&(f="POST"),$.ajax({url:a,type:f,dataType:"html",data:c,complete:function(a,b){d&&h.each(d,g||[a.responseText,b,a])}}).done(function(a){g=arguments,h.html(e?$("<div>").append(a.replace(Gb,"")).find(e):a)}),this},$.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){$.fn[b]=function(a){return this.on(b,a)}}),$.each(["get","post"],function(a,c){$[c]=function(a,d,e,f){return $.isFunction(d)&&(f=f||e,e=d,d=b),$.ajax({type:c,url:a,data:d,success:e,dataType:f})}}),$.extend({getScript:function(a,c){return $.get(a,b,c,"script")},getJSON:function(a,b,c){return $.get(a,b,c,"json")},ajaxSetup:function(a,b){return b?A(a,$.ajaxSettings):(b=a,a=$.ajaxSettings),A(a,b),a},ajaxSettings:{url:zb,isLocal:Cb.test(yb[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":Mb},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":a.String,"text html":!0,"text json":$.parseJSON,"text xml":$.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:y(Kb),ajaxTransport:y(Lb),ajax:function(a,c){function d(a,c,d,g){var j,l,s,t,v,x=c;2!==u&&(u=2,i&&clearTimeout(i),h=b,f=g||"",w.readyState=a>0?4:0,d&&(t=B(m,w,d)),a>=200&&300>a||304===a?(m.ifModified&&(v=w.getResponseHeader("Last-Modified"),v&&($.lastModified[e]=v),v=w.getResponseHeader("Etag"),v&&($.etag[e]=v)),304===a?(x="notmodified",j=!0):(j=C(m,t),x=j.state,l=j.data,s=j.error,j=!s)):(s=x,(!x||a)&&(x="error",0>a&&(a=0))),w.status=a,w.statusText=(c||x)+"",j?p.resolveWith(n,[l,x,w]):p.rejectWith(n,[w,x,s]),w.statusCode(r),r=b,k&&o.trigger("ajax"+(j?"Success":"Error"),[w,m,j?l:s]),q.fireWith(n,[w,x]),k&&(o.trigger("ajaxComplete",[w,m]),--$.active||$.event.trigger("ajaxStop")))}"object"==typeof a&&(c=a,a=b),c=c||{};var e,f,g,h,i,j,k,l,m=$.ajaxSetup({},c),n=m.context||m,o=n!==m&&(n.nodeType||n instanceof $)?$(n):$.event,p=$.Deferred(),q=$.Callbacks("once memory"),r=m.statusCode||{},s={},t={},u=0,v="canceled",w={readyState:0,setRequestHeader:function(a,b){if(!u){var c=a.toLowerCase();a=t[c]=t[c]||a,s[a]=b}return this},getAllResponseHeaders:function(){return 2===u?f:null},getResponseHeader:function(a){var c;if(2===u){if(!g)for(g={};c=Bb.exec(f);)g[c[1].toLowerCase()]=c[2];c=g[a.toLowerCase()]}return c===b?null:c},overrideMimeType:function(a){return u||(m.mimeType=a),this},abort:function(a){return a=a||v,h&&h.abort(a),d(0,a),this}};if(p.promise(w),w.success=w.done,w.error=w.fail,w.complete=q.add,w.statusCode=function(a){if(a){var b;if(2>u)for(b in a)r[b]=[r[b],a[b]];else b=a[w.status],w.always(b)}return this},m.url=((a||m.url)+"").replace(Ab,"").replace(Eb,yb[1]+"//"),m.dataTypes=$.trim(m.dataType||"*").toLowerCase().split(ba),null==m.crossDomain&&(j=Ib.exec(m.url.toLowerCase()),m.crossDomain=!(!j||j[1]===yb[1]&&j[2]===yb[2]&&(j[3]||("http:"===j[1]?80:443))==(yb[3]||("http:"===yb[1]?80:443)))),m.data&&m.processData&&"string"!=typeof m.data&&(m.data=$.param(m.data,m.traditional)),z(Kb,m,c,w),2===u)return w;if(k=m.global,m.type=m.type.toUpperCase(),m.hasContent=!Db.test(m.type),k&&0===$.active++&&$.event.trigger("ajaxStart"),!m.hasContent&&(m.data&&(m.url+=(Fb.test(m.url)?"&":"?")+m.data,delete m.data),e=m.url,m.cache===!1)){var x=$.now(),y=m.url.replace(Hb,"$1_="+x);m.url=y+(y===m.url?(Fb.test(m.url)?"&":"?")+"_="+x:"")}(m.data&&m.hasContent&&m.contentType!==!1||c.contentType)&&w.setRequestHeader("Content-Type",m.contentType),m.ifModified&&(e=e||m.url,$.lastModified[e]&&w.setRequestHeader("If-Modified-Since",$.lastModified[e]),$.etag[e]&&w.setRequestHeader("If-None-Match",$.etag[e])),w.setRequestHeader("Accept",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+("*"!==m.dataTypes[0]?", "+Mb+"; q=0.01":""):m.accepts["*"]);for(l in m.headers)w.setRequestHeader(l,m.headers[l]);if(m.beforeSend&&(m.beforeSend.call(n,w,m)===!1||2===u))return w.abort();v="abort";for(l in{success:1,error:1,complete:1})w[l](m[l]);if(h=z(Lb,m,c,w)){w.readyState=1,k&&o.trigger("ajaxSend",[w,m]),m.async&&m.timeout>0&&(i=setTimeout(function(){w.abort("timeout")},m.timeout));try{u=1,h.send(s,d)}catch(A){if(!(2>u))throw A;d(-1,A)}}else d(-1,"No Transport");return w},active:0,lastModified:{},etag:{}});var Ob=[],Pb=/\?/,Qb=/(=)\?(?=&|$)|\?\?/,Rb=$.now();$.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Ob.pop()||$.expando+"_"+Rb++;return this[a]=!0,a}}),$.ajaxPrefilter("json jsonp",function(c,d,e){var f,g,h,i=c.data,j=c.url,k=c.jsonp!==!1,l=k&&Qb.test(j),m=k&&!l&&"string"==typeof i&&!(c.contentType||"").indexOf("application/x-www-form-urlencoded")&&Qb.test(i);return"jsonp"===c.dataTypes[0]||l||m?(f=c.jsonpCallback=$.isFunction(c.jsonpCallback)?c.jsonpCallback():c.jsonpCallback,g=a[f],l?c.url=j.replace(Qb,"$1"+f):m?c.data=i.replace(Qb,"$1"+f):k&&(c.url+=(Pb.test(j)?"&":"?")+c.jsonp+"="+f),c.converters["script json"]=function(){return h||$.error(f+" was not called"),h[0]},c.dataTypes[0]="json",a[f]=function(){h=arguments},e.always(function(){a[f]=g,c[f]&&(c.jsonpCallback=d.jsonpCallback,Ob.push(f)),h&&$.isFunction(g)&&g(h[0]),h=g=b}),"script"):void 0}),$.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(a){return $.globalEval(a),a}}}),$.ajaxPrefilter("script",function(a){a.cache===b&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),$.ajaxTransport("script",function(a){if(a.crossDomain){var c,d=P.head||P.getElementsByTagName("head")[0]||P.documentElement;return{send:function(e,f){c=P.createElement("script"),c.async="async",a.scriptCharset&&(c.charset=a.scriptCharset),c.src=a.url,c.onload=c.onreadystatechange=function(a,e){(e||!c.readyState||/loaded|complete/.test(c.readyState))&&(c.onload=c.onreadystatechange=null,d&&c.parentNode&&d.removeChild(c),c=b,e||f(200,"success"))},d.insertBefore(c,d.firstChild)},abort:function(){c&&c.onload(0,1)}}}});var Sb,Tb=a.ActiveXObject?function(){for(var a in Sb)Sb[a](0,1)}:!1,Ub=0;$.ajaxSettings.xhr=a.ActiveXObject?function(){return!this.isLocal&&D()||E()}:D,function(a){$.extend($.support,{ajax:!!a,cors:!!a&&"withCredentials"in a})}($.ajaxSettings.xhr()),$.support.ajax&&$.ajaxTransport(function(c){if(!c.crossDomain||$.support.cors){var d;return{send:function(e,f){var g,h,i=c.xhr();if(c.username?i.open(c.type,c.url,c.async,c.username,c.password):i.open(c.type,c.url,c.async),c.xhrFields)for(h in c.xhrFields)i[h]=c.xhrFields[h];c.mimeType&&i.overrideMimeType&&i.overrideMimeType(c.mimeType),c.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest");try{for(h in e)i.setRequestHeader(h,e[h])}catch(j){}i.send(c.hasContent&&c.data||null),d=function(a,e){var h,j,k,l,m;try{if(d&&(e||4===i.readyState))if(d=b,g&&(i.onreadystatechange=$.noop,Tb&&delete Sb[g]),e)4!==i.readyState&&i.abort();else{h=i.status,k=i.getAllResponseHeaders(),l={},m=i.responseXML,m&&m.documentElement&&(l.xml=m);try{l.text=i.responseText}catch(n){}try{j=i.statusText}catch(n){j=""}h||!c.isLocal||c.crossDomain?1223===h&&(h=204):h=l.text?200:404}}catch(o){e||f(-1,o)}l&&f(h,j,l,k)},c.async?4===i.readyState?setTimeout(d,0):(g=++Ub,Tb&&(Sb||(Sb={},$(a).unload(Tb)),Sb[g]=d),i.onreadystatechange=d):d()},abort:function(){d&&d(0,1)}}}});var Vb,Wb,Xb=/^(?:toggle|show|hide)$/,Yb=new RegExp("^(?:([-+])=|)("+_+")([a-z%]*)$","i"),Zb=/queueHooks$/,$b=[J],_b={"*":[function(a,b){var c,d,e=this.createTween(a,b),f=Yb.exec(b),g=e.cur(),h=+g||0,i=1,j=20;if(f){if(c=+f[2],d=f[3]||($.cssNumber[a]?"":"px"),"px"!==d&&h){h=$.css(e.elem,a,!0)||c||1;do i=i||".5",h/=i,$.style(e.elem,a,h+d);while(i!==(i=e.cur()/g)&&1!==i&&--j)}e.unit=d,e.start=h,e.end=f[1]?h+(f[1]+1)*c:c}return e}]};$.Animation=$.extend(H,{tweener:function(a,b){$.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,d=0,e=a.length;e>d;d++)c=a[d],_b[c]=_b[c]||[],_b[c].unshift(b)},prefilter:function(a,b){b?$b.unshift(a):$b.push(a)}}),$.Tween=K,K.prototype={constructor:K,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||"swing",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||($.cssNumber[c]?"":"px")},cur:function(){var a=K.propHooks[this.prop];return a&&a.get?a.get(this):K.propHooks._default.get(this)},run:function(a){var b,c=K.propHooks[this.prop];return this.options.duration?this.pos=b=$.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):K.propHooks._default.set(this),this}},K.prototype.init.prototype=K.prototype,K.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=$.css(a.elem,a.prop,!1,""),b&&"auto"!==b?b:0):a.elem[a.prop]},set:function(a){$.fx.step[a.prop]?$.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[$.cssProps[a.prop]]||$.cssHooks[a.prop])?$.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},K.propHooks.scrollTop=K.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},$.each(["toggle","show","hide"],function(a,b){var c=$.fn[b];$.fn[b]=function(d,e,f){return null==d||"boolean"==typeof d||!a&&$.isFunction(d)&&$.isFunction(e)?c.apply(this,arguments):this.animate(L(b,!0),d,e,f)}}),$.fn.extend({fadeTo:function(a,b,c,d){return this.filter(r).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=$.isEmptyObject(a),f=$.speed(b,c,d),g=function(){var b=H(this,$.extend({},a),f);e&&b.stop(!0)};return e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,c,d){var e=function(a){var b=a.stop;delete a.stop,b(d)};return"string"!=typeof a&&(d=c,c=a,a=b),c&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,c=null!=a&&a+"queueHooks",f=$.timers,g=$._data(this);if(c)g[c]&&g[c].stop&&e(g[c]);else for(c in g)g[c]&&g[c].stop&&Zb.test(c)&&e(g[c]);for(c=f.length;c--;)f[c].elem!==this||null!=a&&f[c].queue!==a||(f[c].anim.stop(d),b=!1,f.splice(c,1));(b||!d)&&$.dequeue(this,a)})}}),$.each({slideDown:L("show"),slideUp:L("hide"),slideToggle:L("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){$.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),$.speed=function(a,b,c){var d=a&&"object"==typeof a?$.extend({},a):{complete:c||!c&&b||$.isFunction(a)&&a,duration:a,easing:c&&b||b&&!$.isFunction(b)&&b};return d.duration=$.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in $.fx.speeds?$.fx.speeds[d.duration]:$.fx.speeds._default,(null==d.queue||d.queue===!0)&&(d.queue="fx"),d.old=d.complete,d.complete=function(){$.isFunction(d.old)&&d.old.call(this),d.queue&&$.dequeue(this,d.queue)},d},$.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}},$.timers=[],$.fx=K.prototype.init,$.fx.tick=function(){var a,c=$.timers,d=0;for(Vb=$.now();d<c.length;d++)a=c[d],a()||c[d]!==a||c.splice(d--,1);c.length||$.fx.stop(),Vb=b},$.fx.timer=function(a){a()&&$.timers.push(a)&&!Wb&&(Wb=setInterval($.fx.tick,$.fx.interval))},$.fx.interval=13,$.fx.stop=function(){clearInterval(Wb),Wb=null},$.fx.speeds={slow:600,fast:200,_default:400},$.fx.step={},$.expr&&$.expr.filters&&($.expr.filters.animated=function(a){return $.grep($.timers,function(b){return a===b.elem}).length});var ac=/^(?:body|html)$/i;$.fn.offset=function(a){if(arguments.length)return a===b?this:this.each(function(b){$.offset.setOffset(this,a,b)});var c,d,e,f,g,h,i,j={top:0,left:0},k=this[0],l=k&&k.ownerDocument;if(l)return(d=l.body)===k?$.offset.bodyOffset(k):(c=l.documentElement,$.contains(c,k)?("undefined"!=typeof k.getBoundingClientRect&&(j=k.getBoundingClientRect()),e=M(l),f=c.clientTop||d.clientTop||0,g=c.clientLeft||d.clientLeft||0,h=e.pageYOffset||c.scrollTop,i=e.pageXOffset||c.scrollLeft,{top:j.top+h-f,left:j.left+i-g}):j)},$.offset={bodyOffset:function(a){var b=a.offsetTop,c=a.offsetLeft;return $.support.doesNotIncludeMarginInBodyOffset&&(b+=parseFloat($.css(a,"marginTop"))||0,c+=parseFloat($.css(a,"marginLeft"))||0),{top:b,left:c}},setOffset:function(a,b,c){var d=$.css(a,"position");"static"===d&&(a.style.position="relative");var e,f,g=$(a),h=g.offset(),i=$.css(a,"top"),j=$.css(a,"left"),k=("absolute"===d||"fixed"===d)&&$.inArray("auto",[i,j])>-1,l={},m={};k?(m=g.position(),e=m.top,f=m.left):(e=parseFloat(i)||0,f=parseFloat(j)||0),$.isFunction(b)&&(b=b.call(a,c,h)),null!=b.top&&(l.top=b.top-h.top+e),null!=b.left&&(l.left=b.left-h.left+f),"using"in b?b.using.call(a,l):g.css(l)}},$.fn.extend({position:function(){if(this[0]){var a=this[0],b=this.offsetParent(),c=this.offset(),d=ac.test(b[0].nodeName)?{top:0,left:0}:b.offset();return c.top-=parseFloat($.css(a,"marginTop"))||0,c.left-=parseFloat($.css(a,"marginLeft"))||0,d.top+=parseFloat($.css(b[0],"borderTopWidth"))||0,d.left+=parseFloat($.css(b[0],"borderLeftWidth"))||0,{top:c.top-d.top,left:c.left-d.left}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||P.body;a&&!ac.test(a.nodeName)&&"static"===$.css(a,"position");)a=a.offsetParent;
return a||P.body})}}),$.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,c){var d=/Y/.test(c);$.fn[a]=function(e){return $.access(this,function(a,e,f){var g=M(a);return f===b?g?c in g?g[c]:g.document.documentElement[e]:a[e]:void(g?g.scrollTo(d?$(g).scrollLeft():f,d?f:$(g).scrollTop()):a[e]=f)},a,e,arguments.length,null)}}),$.each({Height:"height",Width:"width"},function(a,c){$.each({padding:"inner"+a,content:c,"":"outer"+a},function(d,e){$.fn[e]=function(e,f){var g=arguments.length&&(d||"boolean"!=typeof e),h=d||(e===!0||f===!0?"margin":"border");return $.access(this,function(c,d,e){var f;return $.isWindow(c)?c.document.documentElement["client"+a]:9===c.nodeType?(f=c.documentElement,Math.max(c.body["scroll"+a],f["scroll"+a],c.body["offset"+a],f["offset"+a],f["client"+a])):e===b?$.css(c,d,e,h):$.style(c,d,e,h)},c,g?e:b,g,null)}})}),a.jQuery=a.$=$,"function"==typeof define&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return $})}(window),function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a("object"==typeof module&&module.exports?require("jquery"):jQuery)}(function(a){function b(b){var c={},d=/^jQuery\d+$/;return a.each(b.attributes,function(a,b){b.specified&&!d.test(b.name)&&(c[b.name]=b.value)}),c}function c(b,c){var d=this,f=a(d);if(d.value===f.attr("placeholder")&&f.hasClass(m.customClass))if(d.value="",f.removeClass(m.customClass),f.data("placeholder-password")){if(f=f.hide().nextAll('input[type="password"]:first').show().attr("id",f.removeAttr("id").data("placeholder-id")),b===!0)return f[0].value=c,c;f.focus()}else d==e()&&d.select()}function d(d){var e,f=this,g=a(f),h=f.id;if(d&&"blur"===d.type){if(g.hasClass(m.customClass))return;if("password"===f.type&&(e=g.prevAll('input[type="text"]:first'),e.length>0&&e.is(":visible")))return}if(""===f.value){if("password"===f.type){if(!g.data("placeholder-textinput")){try{e=g.clone().prop({type:"text"})}catch(i){e=a("<input>").attr(a.extend(b(this),{type:"text"}))}e.removeAttr("name").data({"placeholder-enabled":!0,"placeholder-password":g,"placeholder-id":h}).bind("focus.placeholder",c),g.data({"placeholder-textinput":e,"placeholder-id":h}).before(e)}f.value="",g=g.removeAttr("id").hide().prevAll('input[type="text"]:first').attr("id",g.data("placeholder-id")).show()}else{var j=g.data("placeholder-password");j&&(j[0].value="",g.attr("id",g.data("placeholder-id")).show().nextAll('input[type="password"]:last').hide().removeAttr("id"))}g.addClass(m.customClass),g[0].value=g.attr("placeholder")}else g.removeClass(m.customClass)}function e(){try{return document.activeElement}catch(a){}}var f,g,h="[object OperaMini]"===Object.prototype.toString.call(window.operamini),i="placeholder"in document.createElement("input")&&!h,j="placeholder"in document.createElement("textarea")&&!h,k=a.valHooks,l=a.propHooks,m={};i&&j?(g=a.fn.placeholder=function(){return this},g.input=!0,g.textarea=!0):(g=a.fn.placeholder=function(b){var e={customClass:"placeholder"};return m=a.extend({},e,b),this.filter((i?"textarea":":input")+"[placeholder]").not("."+m.customClass).bind({"focus.placeholder":c,"blur.placeholder":d}).data("placeholder-enabled",!0).trigger("blur.placeholder")},g.input=i,g.textarea=j,f={get:function(b){var c=a(b),d=c.data("placeholder-password");return d?d[0].value:c.data("placeholder-enabled")&&c.hasClass(m.customClass)?"":b.value},set:function(b,f){var g,h,i=a(b);return""!==f&&(g=i.data("placeholder-textinput"),h=i.data("placeholder-password"),g?(c.call(g[0],!0,f)||(b.value=f),g[0].value=f):h&&(c.call(b,!0,f)||(h[0].value=f),b.value=f)),i.data("placeholder-enabled")?(""===f?(b.value=f,b!=e()&&d.call(b)):(i.hasClass(m.customClass)&&c.call(b),b.value=f),i):(b.value=f,i)}},i||(k.input=f,l.value=f),j||(k.textarea=f,l.value=f),a(function(){a(document).delegate("form","submit.placeholder",function(){var b=a("."+m.customClass,this).each(function(){c.call(this,!0,"")});setTimeout(function(){b.each(d)},10)})}),a(window).bind("beforeunload.placeholder",function(){a("."+m.customClass).each(function(){this.value=""})}))}),function(a,b){"use strict";"function"==typeof define&&define.amd?define([],b):"object"==typeof exports?module.exports=b():a.emojify=b()}(this,function(){"use strict";var a=function(){function a(){var a={named:/:([a-z0-9A-Z_-]+):/,smile:/:-?\)/g,scream:/:-o/gi,smirk:/[:;]-?]/g,grinning:/[:;]-?d/gi,stuck_out_tongue_closed_eyes:/x-d/gi,stuck_out_tongue_winking_eye:/[:;]-?p/gi,rage:/:-?[\[@]/g,frowning:/:-?\(/g,sob:/:['â]-?\(|:&#x27;\(/g,kissing_heart:/:-?\*/g,wink:/;-?\)/g,pensive:/:-?\//g,confounded:/:-?s/gi,flushed:/:-?\|/g,relaxed:/:-?\$/g,mask:/:-x/gi,heart:/<3|&lt;3/g,broken_heart:/<\/3|&lt;&#x2F;3/g,thumbsup:/:\+1:/g,thumbsdown:/:\-1:/g};return p.ignore_emoticons&&(a={named:/:([a-z0-9A-Z_-]+):/,thumbsup:/:\+1:/g,thumbsdown:/:\-1:/g}),Object.keys(a).map(function(b){return[a[b],b]})}function b(){var a=j.map(function(a){var b=a[0],c=b.source||b;return c=c.replace(/(^|[^\[])\^/g,"$1"),"("+c+")"}).join("|");return new RegExp(a,"gi")}function c(a){return" "===a||"	"===a||"\r"===a||"\n"===a||""===a}function d(a,b,c){var d=l.createElement(p.emojify_tag_type||"img");p.emojify_tag_type&&"img"!==p.emojify_tag_type?d.setAttribute("class","emoji emoji-"+c):(d.setAttribute("class","emoji"),d.setAttribute("src",p.img_dir+"/"+c+".png")),d.setAttribute("title",":"+c+":"),d.setAttribute("alt",":"+c+":"),d.setAttribute("align","absmiddle"),a.splitText(b.index),a.nextSibling.nodeValue=a.nextSibling.nodeValue.substr(b[0].length,a.nextSibling.nodeValue.length),d.appendChild(a.splitText(b.index)),a.parentNode.insertBefore(d,a.nextSibling)}function e(a){if(a[1]&&a[2]){var b=a[2];if(o[b])return b}else for(var c=3;c<a.length-1;c++)if(a[c])return j[c-2][1]}function f(a,b){return this.config.emojify_tag_type&&"img"!==this.config.emojify_tag_type?"<"+this.config.emojify_tag_type+" title=':"+b+":' alt=':"+b+":' class='emoji emoji-"+b+"'> </"+this.config.emojify_tag_type+">":"<img title=':"+b+":' alt=':"+b+":' class='emoji' src='"+this.config.img_dir+"/"+b+".png' align='absmiddle' />"}function g(){this.lastEmojiTerminatedAt=-1}function h(c,d){if(!c)return c;d||(d=f),j=a(),k=b();var e=new g;return c.replace(k,function(){var a=Array.prototype.slice.call(arguments,0,-2),b=arguments[arguments.length-2],c=arguments[arguments.length-1],f=e.validate(a,b,c);return f?d.apply({config:p},[arguments[0],f]):arguments[0]})}function i(c){j=a(),k=b(),"undefined"==typeof c&&(c=p.only_crawl_id?l.getElementById(p.only_crawl_id):l.body);for(var f,h=p.ignored_tags,i=l.createTreeWalker(c,NodeFilter.SHOW_TEXT|NodeFilter.SHOW_ELEMENT,function(a){return 1!==a.nodeType?NodeFilter.FILTER_ACCEPT:h[a.tagName]||a.classList.contains("no-emojify")?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_SKIP},!1),m=[];null!==(f=i.nextNode());)m.push(f);m.forEach(function(a){for(var b,c=[],f=new g;null!==(b=k.exec(a.data));)f.validate(b,b.index,b.input)&&c.push(b);for(var h=c.length;h-->0;){var i=e(c[h]);d(a,c[h],i)}})}var j,k,l="undefined"!=typeof window&&window.document,m="+1,-1,100,109,1234,8ball,a,ab,abc,abcd,accept,aerial_tramway,airplane,alarm_clock,alien,ambulance,anchor,angel,anger,angry,anguished,ant,apple,aquarius,aries,arrow_backward,arrow_double_down,arrow_double_up,arrow_down,arrow_down_small,arrow_forward,arrow_heading_down,arrow_heading_up,arrow_left,arrow_lower_left,arrow_lower_right,arrow_right,arrow_right_hook,arrow_up,arrow_up_down,arrow_up_small,arrow_upper_left,arrow_upper_right,arrows_clockwise,arrows_counterclockwise,art,articulated_lorry,astonished,atm,b,baby,baby_bottle,baby_chick,baby_symbol,back,baggage_claim,balloon,ballot_box_with_check,bamboo,banana,bangbang,bank,bar_chart,barber,baseball,basketball,bath,bathtub,battery,bear,bee,beer,beers,beetle,beginner,bell,bento,bicyclist,bike,bikini,bird,birthday,black_circle,black_joker,black_medium_small_square,black_medium_square,black_nib,black_small_square,black_square,black_square_button,blossom,blowfish,blue_book,blue_car,blue_heart,blush,boar,boat,bomb,book,bookmark,bookmark_tabs,books,boom,boot,bouquet,bow,bowling,bowtie,boy,bread,bride_with_veil,bridge_at_night,briefcase,broken_heart,bug,bulb,bullettrain_front,bullettrain_side,bus,busstop,bust_in_silhouette,busts_in_silhouette,cactus,cake,calendar,calling,camel,camera,cancer,candy,capital_abcd,capricorn,car,card_index,carousel_horse,cat,cat2,cd,chart,chart_with_downwards_trend,chart_with_upwards_trend,checkered_flag,cherries,cherry_blossom,chestnut,chicken,children_crossing,chocolate_bar,christmas_tree,church,cinema,circus_tent,city_sunrise,city_sunset,cl,clap,clapper,clipboard,clock1,clock10,clock1030,clock11,clock1130,clock12,clock1230,clock130,clock2,clock230,clock3,clock330,clock4,clock430,clock5,clock530,clock6,clock630,clock7,clock730,clock8,clock830,clock9,clock930,closed_book,closed_lock_with_key,closed_umbrella,cloud,clubs,cn,cocktail,coffee,cold_sweat,collision,computer,confetti_ball,confounded,confused,congratulations,construction,construction_worker,convenience_store,cookie,cool,cop,copyright,corn,couple,couple_with_heart,couplekiss,cow,cow2,credit_card,crocodile,crossed_flags,crown,cry,crying_cat_face,crystal_ball,cupid,curly_loop,currency_exchange,curry,custard,customs,cyclone,dancer,dancers,dango,dart,dash,date,de,deciduous_tree,department_store,diamond_shape_with_a_dot_inside,diamonds,disappointed,disappointed_relieved,dizzy,dizzy_face,do_not_litter,dog,dog2,dollar,dolls,dolphin,donut,door,doughnut,dragon,dragon_face,dress,dromedary_camel,droplet,dvd,e-mail,ear,ear_of_rice,earth_africa,earth_americas,earth_asia,egg,eggplant,eight,eight_pointed_black_star,eight_spoked_asterisk,electric_plug,elephant,email,end,envelope,es,euro,european_castle,european_post_office,evergreen_tree,exclamation,expressionless,eyeglasses,eyes,facepunch,factory,fallen_leaf,family,fast_forward,fax,fearful,feelsgood,feet,ferris_wheel,file_folder,finnadie,fire,fire_engine,fireworks,first_quarter_moon,first_quarter_moon_with_face,fish,fish_cake,fishing_pole_and_fish,fist,five,flags,flashlight,floppy_disk,flower_playing_cards,flushed,foggy,football,fork_and_knife,fountain,four,four_leaf_clover,fr,free,fried_shrimp,fries,frog,frowning,fu,fuelpump,full_moon,full_moon_with_face,game_die,gb,gem,gemini,ghost,gift,gift_heart,girl,globe_with_meridians,goat,goberserk,godmode,golf,grapes,green_apple,green_book,green_heart,grey_exclamation,grey_question,grimacing,grin,grinning,guardsman,guitar,gun,haircut,hamburger,hammer,hamster,hand,handbag,hankey,hash,hatched_chick,hatching_chick,headphones,hear_no_evil,heart,heart_decoration,heart_eyes,heart_eyes_cat,heartbeat,heartpulse,hearts,heavy_check_mark,heavy_division_sign,heavy_dollar_sign,heavy_exclamation_mark,heavy_minus_sign,heavy_multiplication_x,heavy_plus_sign,helicopter,herb,hibiscus,high_brightness,high_heel,hocho,honey_pot,honeybee,horse,horse_racing,hospital,hotel,hotsprings,hourglass,hourglass_flowing_sand,house,house_with_garden,hurtrealbad,hushed,ice_cream,icecream,id,ideograph_advantage,imp,inbox_tray,incoming_envelope,information_desk_person,information_source,innocent,interrobang,iphone,it,izakaya_lantern,jack_o_lantern,japan,japanese_castle,japanese_goblin,japanese_ogre,jeans,joy,joy_cat,jp,key,keycap_ten,kimono,kiss,kissing,kissing_cat,kissing_closed_eyes,kissing_face,kissing_heart,kissing_smiling_eyes,koala,koko,kr,large_blue_circle,large_blue_diamond,large_orange_diamond,last_quarter_moon,last_quarter_moon_with_face,laughing,leaves,ledger,left_luggage,left_right_arrow,leftwards_arrow_with_hook,lemon,leo,leopard,libra,light_rail,link,lips,lipstick,lock,lock_with_ink_pen,lollipop,loop,loudspeaker,love_hotel,love_letter,low_brightness,m,mag,mag_right,mahjong,mailbox,mailbox_closed,mailbox_with_mail,mailbox_with_no_mail,man,man_with_gua_pi_mao,man_with_turban,mans_shoe,maple_leaf,mask,massage,meat_on_bone,mega,melon,memo,mens,metal,metro,microphone,microscope,milky_way,minibus,minidisc,mobile_phone_off,money_with_wings,moneybag,monkey,monkey_face,monorail,moon,mortar_board,mount_fuji,mountain_bicyclist,mountain_cableway,mountain_railway,mouse,mouse2,movie_camera,moyai,muscle,mushroom,musical_keyboard,musical_note,musical_score,mute,nail_care,name_badge,neckbeard,necktie,negative_squared_cross_mark,neutral_face,new,new_moon,new_moon_with_face,newspaper,ng,nine,no_bell,no_bicycles,no_entry,no_entry_sign,no_good,no_mobile_phones,no_mouth,no_pedestrians,no_smoking,non-potable_water,nose,notebook,notebook_with_decorative_cover,notes,nut_and_bolt,o,o2,ocean,octocat,octopus,oden,office,ok,ok_hand,ok_woman,older_man,older_woman,on,oncoming_automobile,oncoming_bus,oncoming_police_car,oncoming_taxi,one,open_file_folder,open_hands,open_mouth,ophiuchus,orange_book,outbox_tray,ox,package,page_facing_up,page_with_curl,pager,palm_tree,panda_face,paperclip,parking,part_alternation_mark,partly_sunny,passport_control,paw_prints,peach,pear,pencil,pencil2,penguin,pensive,performing_arts,persevere,person_frowning,person_with_blond_hair,person_with_pouting_face,phone,pig,pig2,pig_nose,pill,pineapple,pisces,pizza,plus1,point_down,point_left,point_right,point_up,point_up_2,police_car,poodle,poop,post_office,postal_horn,postbox,potable_water,pouch,poultry_leg,pound,pouting_cat,pray,princess,punch,purple_heart,purse,pushpin,put_litter_in_its_place,question,rabbit,rabbit2,racehorse,radio,radio_button,rage,rage1,rage2,rage3,rage4,railway_car,rainbow,raised_hand,raised_hands,raising_hand,ram,ramen,rat,recycle,red_car,red_circle,registered,relaxed,relieved,repeat,repeat_one,restroom,revolving_hearts,rewind,ribbon,rice,rice_ball,rice_cracker,rice_scene,ring,rocket,roller_coaster,rooster,rose,rotating_light,round_pushpin,rowboat,ru,rugby_football,runner,running,running_shirt_with_sash,sa,sagittarius,sailboat,sake,sandal,santa,satellite,satisfied,saxophone,school,school_satchel,scissors,scorpius,scream,scream_cat,scroll,seat,secret,see_no_evil,seedling,seven,shaved_ice,sheep,shell,ship,shipit,shirt,shit,shoe,shower,signal_strength,six,six_pointed_star,ski,skull,sleeping,sleepy,slot_machine,small_blue_diamond,small_orange_diamond,small_red_triangle,small_red_triangle_down,smile,smile_cat,smiley,smiley_cat,smiling_imp,smirk,smirk_cat,smoking,snail,snake,snowboarder,snowflake,snowman,sob,soccer,soon,sos,sound,space_invader,spades,spaghetti,sparkle,sparkler,sparkles,sparkling_heart,speak_no_evil,speaker,speech_balloon,speedboat,squirrel,star,star2,stars,station,statue_of_liberty,steam_locomotive,stew,straight_ruler,strawberry,stuck_out_tongue,stuck_out_tongue_closed_eyes,stuck_out_tongue_winking_eye,sun_with_face,sunflower,sunglasses,sunny,sunrise,sunrise_over_mountains,surfer,sushi,suspect,suspension_railway,sweat,sweat_drops,sweat_smile,sweet_potato,swimmer,symbols,syringe,tada,tanabata_tree,tangerine,taurus,taxi,tea,telephone,telephone_receiver,telescope,tennis,tent,thought_balloon,three,thumbsdown,thumbsup,ticket,tiger,tiger2,tired_face,tm,toilet,tokyo_tower,tomato,tongue,top,tophat,tractor,traffic_light,train,train2,tram,triangular_flag_on_post,triangular_ruler,trident,triumph,trolleybus,trollface,trophy,tropical_drink,tropical_fish,truck,trumpet,tshirt,tulip,turtle,tv,twisted_rightwards_arrows,two,two_hearts,two_men_holding_hands,two_women_holding_hands,u5272,u5408,u55b6,u6307,u6708,u6709,u6e80,u7121,u7533,u7981,u7a7a,uk,umbrella,unamused,underage,unlock,up,us,v,vertical_traffic_light,vhs,vibration_mode,video_camera,video_game,violin,virgo,volcano,vs,walking,waning_crescent_moon,waning_gibbous_moon,warning,watch,water_buffalo,watermelon,wave,wavy_dash,waxing_crescent_moon,waxing_gibbous_moon,wc,weary,wedding,whale,whale2,wheelchair,white_check_mark,white_circle,white_flower,white_large_square,white_medium_small_square,white_medium_square,white_small_square,white_square,white_square_button,wind_chime,wine_glass,wink,wink2,wolf,woman,womans_clothes,womans_hat,womens,worried,wrench,x,yellow_heart,yen,yum,zap,zero,zzz",n=m.split(/,/),o=n.reduce(function(a,b){return a[b]=!0,a},{}),p={emojify_tag_type:null,only_crawl_id:null,img_dir:"img/emoji",ignore_emoticons:!1,ignored_tags:{SCRIPT:1,TEXTAREA:1,A:1,PRE:1,CODE:1}};return g.prototype={validate:function(a,b,d){function f(){return g.lastEmojiTerminatedAt=j+b,h}var g=this,h=e(a);if(h){var i=a[0],j=i.length;if(0===b)return f();if(d.length===i.length+b)return f();var k=this.lastEmojiTerminatedAt===b;if(k)return f();if(c(d.charAt(b-1)))return f();var l=c(d.charAt(i.length+b));return l&&k?f():void 0}}},{defaultConfig:p,emojiNames:n,setConfig:function(a){Object.keys(p).forEach(function(b){b in a&&(p[b]=a[b])})},replace:h,run:i}}();return a}),function(a,b){function c(b,c){var e=b.nodeName.toLowerCase();if("area"===e){var f,g=b.parentNode,h=g.name;return b.href&&h&&"map"===g.nodeName.toLowerCase()?(f=a("img[usemap=#"+h+"]")[0],!!f&&d(f)):!1}return(/input|select|textarea|button|object/.test(e)?!b.disabled:"a"==e?b.href||c:c)&&d(b)}function d(b){return!a(b).parents().andSelf().filter(function(){return"hidden"===a.curCSS(this,"visibility")||a.expr.filters.hidden(this)}).length}a.ui=a.ui||{},a.ui.version||(a.extend(a.ui,{version:"1.8.23",keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}}),a.fn.extend({propAttr:a.fn.prop||a.fn.attr,_focus:a.fn.focus,focus:function(b,c){return"number"==typeof b?this.each(function(){var d=this;setTimeout(function(){a(d).focus(),c&&c.call(d)},b)}):this._focus.apply(this,arguments)},scrollParent:function(){var b;return b=a.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(a.curCSS(this,"position",1))&&/(auto|scroll)/.test(a.curCSS(this,"overflow",1)+a.curCSS(this,"overflow-y",1)+a.curCSS(this,"overflow-x",1))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(a.curCSS(this,"overflow",1)+a.curCSS(this,"overflow-y",1)+a.curCSS(this,"overflow-x",1))}).eq(0),/fixed/.test(this.css("position"))||!b.length?a(document):b},zIndex:function(c){if(c!==b)return this.css("zIndex",c);if(this.length)for(var d,e,f=a(this[0]);f.length&&f[0]!==document;){if(d=f.css("position"),("absolute"===d||"relative"===d||"fixed"===d)&&(e=parseInt(f.css("zIndex"),10),!isNaN(e)&&0!==e))return e;f=f.parent()}return 0},disableSelection:function(){return this.bind((a.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(a){a.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),a("<a>").outerWidth(1).jquery||a.each(["Width","Height"],function(c,d){function e(b,c,d,e){return a.each(f,function(){c-=parseFloat(a.curCSS(b,"padding"+this,!0))||0,d&&(c-=parseFloat(a.curCSS(b,"border"+this+"Width",!0))||0),e&&(c-=parseFloat(a.curCSS(b,"margin"+this,!0))||0)}),c}var f="Width"===d?["Left","Right"]:["Top","Bottom"],g=d.toLowerCase(),h={innerWidth:a.fn.innerWidth,innerHeight:a.fn.innerHeight,outerWidth:a.fn.outerWidth,outerHeight:a.fn.outerHeight};a.fn["inner"+d]=function(c){return c===b?h["inner"+d].call(this):this.each(function(){a(this).css(g,e(this,c)+"px")})},a.fn["outer"+d]=function(b,c){return"number"!=typeof b?h["outer"+d].call(this,b):this.each(function(){a(this).css(g,e(this,b,!0,c)+"px")})}}),a.extend(a.expr[":"],{data:a.expr.createPseudo?a.expr.createPseudo(function(b){return function(c){return!!a.data(c,b)}}):function(b,c,d){return!!a.data(b,d[3])},focusable:function(b){return c(b,!isNaN(a.attr(b,"tabindex")))},tabbable:function(b){var d=a.attr(b,"tabindex"),e=isNaN(d);return(e||d>=0)&&c(b,!e)}}),a(function(){var b=document.body,c=b.appendChild(c=document.createElement("div"));c.offsetHeight,a.extend(c.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0}),a.support.minHeight=100===c.offsetHeight,a.support.selectstart="onselectstart"in c,b.removeChild(c).style.display="none"}),a.curCSS||(a.curCSS=a.css),a.extend(a.ui,{plugin:{add:function(b,c,d){var e=a.ui[b].prototype;for(var f in d)e.plugins[f]=e.plugins[f]||[],e.plugins[f].push([c,d[f]])},call:function(a,b,c){var d=a.plugins[b];if(d&&a.element[0].parentNode)for(var e=0;e<d.length;e++)a.options[d[e][0]]&&d[e][1].apply(a.element,c)}},contains:function(a,b){return document.compareDocumentPosition?16&a.compareDocumentPosition(b):a!==b&&a.contains(b)},hasScroll:function(b,c){if("hidden"===a(b).css("overflow"))return!1;var d=c&&"left"===c?"scrollLeft":"scrollTop",e=!1;return b[d]>0?!0:(b[d]=1,e=b[d]>0,b[d]=0,e)},isOverAxis:function(a,b,c){return a>b&&b+c>a},isOver:function(b,c,d,e,f,g){return a.ui.isOverAxis(b,d,f)&&a.ui.isOverAxis(c,e,g)}}))}(jQuery),function(a,b){if(a.cleanData){var c=a.cleanData;a.cleanData=function(b){for(var d,e=0;null!=(d=b[e]);e++)try{a(d).triggerHandler("remove")}catch(f){}c(b)}}else{var d=a.fn.remove;a.fn.remove=function(b,c){return this.each(function(){return c||(!b||a.filter(b,[this]).length)&&a("*",this).add([this]).each(function(){try{a(this).triggerHandler("remove")}catch(b){}}),d.call(a(this),b,c)})}}a.widget=function(b,c,d){var e,f=b.split(".")[0];b=b.split(".")[1],e=f+"-"+b,d||(d=c,c=a.Widget),a.expr[":"][e]=function(c){return!!a.data(c,b)},a[f]=a[f]||{},a[f][b]=function(a,b){arguments.length&&this._createWidget(a,b)};var g=new c;g.options=a.extend(!0,{},g.options),a[f][b].prototype=a.extend(!0,g,{namespace:f,widgetName:b,widgetEventPrefix:a[f][b].prototype.widgetEventPrefix||b,widgetBaseClass:e},d),a.widget.bridge(b,a[f][b])},a.widget.bridge=function(c,d){a.fn[c]=function(e){var f="string"==typeof e,g=Array.prototype.slice.call(arguments,1),h=this;return e=!f&&g.length?a.extend.apply(null,[!0,e].concat(g)):e,f&&"_"===e.charAt(0)?h:(f?this.each(function(){var d=a.data(this,c),f=d&&a.isFunction(d[e])?d[e].apply(d,g):d;return f!==d&&f!==b?(h=f,!1):void 0}):this.each(function(){var b=a.data(this,c);b?b.option(e||{})._init():a.data(this,c,new d(e,this))}),h)}},a.Widget=function(a,b){arguments.length&&this._createWidget(a,b)},a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:!1},_createWidget:function(b,c){a.data(c,this.widgetName,this),this.element=a(c),this.options=a.extend(!0,{},this.options,this._getCreateOptions(),b);var d=this;this.element.bind("remove."+this.widgetName,function(){d.destroy()}),this._create(),this._trigger("create"),this._init()},_getCreateOptions:function(){return a.metadata&&a.metadata.get(this.element[0])[this.widgetName]},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName),this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled ui-state-disabled")},widget:function(){return this.element},option:function(c,d){var e=c;if(0===arguments.length)return a.extend({},this.options);if("string"==typeof c){if(d===b)return this.options[c];e={},e[c]=d}return this._setOptions(e),this},_setOptions:function(b){var c=this;return a.each(b,function(a,b){c._setOption(a,b)}),this},_setOption:function(a,b){return this.options[a]=b,"disabled"===a&&this.widget()[b?"addClass":"removeClass"](this.widgetBaseClass+"-disabled ui-state-disabled").attr("aria-disabled",b),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_trigger:function(b,c,d){var e,f,g=this.options[b];if(d=d||{},c=a.Event(c),c.type=(b===this.widgetEventPrefix?b:this.widgetEventPrefix+b).toLowerCase(),c.target=this.element[0],f=c.originalEvent)for(e in f)e in c||(c[e]=f[e]);return this.element.trigger(c,d),!(a.isFunction(g)&&g.call(this.element[0],c,d)===!1||c.isDefaultPrevented())}}}(jQuery),function(a,b){var c=!1;a(document).mouseup(function(a){c=!1}),a.widget("ui.mouse",{options:{cancel:":input,option",distance:1,delay:0},_mouseInit:function(){var b=this;this.element.bind("mousedown."+this.widgetName,function(a){return b._mouseDown(a)}).bind("click."+this.widgetName,function(c){return!0===a.data(c.target,b.widgetName+".preventClickEvent")?(a.removeData(c.target,b.widgetName+".preventClickEvent"),c.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&a(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(b){if(!c){this._mouseStarted&&this._mouseUp(b),this._mouseDownEvent=b;var d=this,e=1==b.which,f="string"==typeof this.options.cancel&&b.target.nodeName?a(b.target).closest(this.options.cancel).length:!1;return e&&!f&&this._mouseCapture(b)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){d.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(b)&&this._mouseDelayMet(b)&&(this._mouseStarted=this._mouseStart(b)!==!1,!this._mouseStarted)?(b.preventDefault(),!0):(!0===a.data(b.target,this.widgetName+".preventClickEvent")&&a.removeData(b.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(a){return d._mouseMove(a)},this._mouseUpDelegate=function(a){return d._mouseUp(a)},a(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),b.preventDefault(),c=!0,!0)):!0}},_mouseMove:function(b){return!a.browser.msie||document.documentMode>=9||b.button?this._mouseStarted?(this._mouseDrag(b),b.preventDefault()):(this._mouseDistanceMet(b)&&this._mouseDelayMet(b)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,b)!==!1,this._mouseStarted?this._mouseDrag(b):this._mouseUp(b)),!this._mouseStarted):this._mouseUp(b)},_mouseUp:function(b){return a(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,b.target==this._mouseDownEvent.target&&a.data(b.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(b)),!1},_mouseDistanceMet:function(a){return Math.max(Math.abs(this._mouseDownEvent.pageX-a.pageX),Math.abs(this._mouseDownEvent.pageY-a.pageY))>=this.options.distance},_mouseDelayMet:function(a){return this.mouseDelayMet},_mouseStart:function(a){},_mouseDrag:function(a){},_mouseStop:function(a){},_mouseCapture:function(a){return!0}})}(jQuery),function(a,b){a.widget("ui.draggable",a.ui.mouse,{widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1},_create:function(){"original"!=this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},destroy:function(){return this.element.data("draggable")?(this.element.removeData("draggable").unbind(".draggable").removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy(),this):void 0},_mouseCapture:function(b){var c=this.options;return this.helper||c.disabled||a(b.target).is(".ui-resizable-handle")?!1:(this.handle=this._getHandle(b),this.handle?(c.iframeFix&&a(c.iframeFix===!0?"iframe":c.iframeFix).each(function(){a('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(a(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(b){var c=this.options;return this.helper=this._createHelper(b),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),a.ui.ddmanager&&(a.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},a.extend(this.offset,{click:{left:b.pageX-this.offset.left,top:b.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(b),this.originalPageX=b.pageX,this.originalPageY=b.pageY,c.cursorAt&&this._adjustOffsetFromHelper(c.cursorAt),c.containment&&this._setContainment(),this._trigger("start",b)===!1?(this._clear(),!1):(this._cacheHelperProportions(),a.ui.ddmanager&&!c.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b),this._mouseDrag(b,!0),a.ui.ddmanager&&a.ui.ddmanager.dragStart(this,b),!0)},_mouseDrag:function(b,c){if(this.position=this._generatePosition(b),this.positionAbs=this._convertPositionTo("absolute"),!c){var d=this._uiHash();if(this._trigger("drag",b,d)===!1)return this._mouseUp({}),!1;this.position=d.position}return this.options.axis&&"y"==this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"==this.options.axis||(this.helper[0].style.top=this.position.top+"px"),a.ui.ddmanager&&a.ui.ddmanager.drag(this,b),!1},_mouseStop:function(b){var c=!1;a.ui.ddmanager&&!this.options.dropBehaviour&&(c=a.ui.ddmanager.drop(this,b)),this.dropped&&(c=this.dropped,this.dropped=!1);for(var d=this.element[0],e=!1;d&&(d=d.parentNode);)d==document&&(e=!0);if(!e&&"original"===this.options.helper)return!1;if("invalid"==this.options.revert&&!c||"valid"==this.options.revert&&c||this.options.revert===!0||a.isFunction(this.options.revert)&&this.options.revert.call(this.element,c)){var f=this;a(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){f._trigger("stop",b)!==!1&&f._clear()})}else this._trigger("stop",b)!==!1&&this._clear();return!1},_mouseUp:function(b){return this.options.iframeFix===!0&&a("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),a.ui.ddmanager&&a.ui.ddmanager.dragStop(this,b),a.ui.mouse.prototype._mouseUp.call(this,b)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(b){var c=this.options.handle&&a(this.options.handle,this.element).length?!1:!0;return a(this.options.handle,this.element).find("*").andSelf().each(function(){this==b.target&&(c=!0)}),c},_createHelper:function(b){var c=this.options,d=a.isFunction(c.helper)?a(c.helper.apply(this.element[0],[b])):"clone"==c.helper?this.element.clone().removeAttr("id"):this.element;return d.parents("body").length||d.appendTo("parent"==c.appendTo?this.element[0].parentNode:c.appendTo),d[0]==this.element[0]||/(fixed|absolute)/.test(d.css("position"))||d.css("position","absolute"),d},_adjustOffsetFromHelper:function(b){"string"==typeof b&&(b=b.split(" ")),a.isArray(b)&&(b={left:+b[0],top:+b[1]||0}),"left"in b&&(this.offset.click.left=b.left+this.margins.left),"right"in b&&(this.offset.click.left=this.helperProportions.width-b.right+this.margins.left),"top"in b&&(this.offset.click.top=b.top+this.margins.top),"bottom"in b&&(this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var b=this.offsetParent.offset();return"absolute"==this.cssPosition&&this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0])&&(b.left+=this.scrollParent.scrollLeft(),b.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&"html"==this.offsetParent[0].tagName.toLowerCase()&&a.browser.msie)&&(b={top:0,left:0}),{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)
}},_getRelativeOffset:function(){if("relative"==this.cssPosition){var a=this.element.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var b=this.options;if("parent"==b.containment&&(b.containment=this.helper[0].parentNode),("document"==b.containment||"window"==b.containment)&&(this.containment=["document"==b.containment?0:a(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,"document"==b.containment?0:a(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,("document"==b.containment?0:a(window).scrollLeft())+a("document"==b.containment?document:window).width()-this.helperProportions.width-this.margins.left,("document"==b.containment?0:a(window).scrollTop())+(a("document"==b.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(b.containment)||b.containment.constructor==Array)b.containment.constructor==Array&&(this.containment=b.containment);else{var c=a(b.containment),d=c[0];if(!d)return;var e=(c.offset(),"hidden"!=a(d).css("overflow"));this.containment=[(parseInt(a(d).css("borderLeftWidth"),10)||0)+(parseInt(a(d).css("paddingLeft"),10)||0),(parseInt(a(d).css("borderTopWidth"),10)||0)+(parseInt(a(d).css("paddingTop"),10)||0),(e?Math.max(d.scrollWidth,d.offsetWidth):d.offsetWidth)-(parseInt(a(d).css("borderLeftWidth"),10)||0)-(parseInt(a(d).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(d.scrollHeight,d.offsetHeight):d.offsetHeight)-(parseInt(a(d).css("borderTopWidth"),10)||0)-(parseInt(a(d).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=c}},_convertPositionTo:function(b,c){c||(c=this.position);var d="absolute"==b?1:-1,e=(this.options,"absolute"!=this.cssPosition||this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent),f=/(html|body)/i.test(e[0].tagName);return{top:c.top+this.offset.relative.top*d+this.offset.parent.top*d-(a.browser.safari&&a.browser.version<526&&"fixed"==this.cssPosition?0:("fixed"==this.cssPosition?-this.scrollParent.scrollTop():f?0:e.scrollTop())*d),left:c.left+this.offset.relative.left*d+this.offset.parent.left*d-(a.browser.safari&&a.browser.version<526&&"fixed"==this.cssPosition?0:("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():f?0:e.scrollLeft())*d)}},_generatePosition:function(b){var c=this.options,d="absolute"!=this.cssPosition||this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,e=/(html|body)/i.test(d[0].tagName),f=b.pageX,g=b.pageY;if(this.originalPosition){var h;if(this.containment){if(this.relative_container){var i=this.relative_container.offset();h=[this.containment[0]+i.left,this.containment[1]+i.top,this.containment[2]+i.left,this.containment[3]+i.top]}else h=this.containment;b.pageX-this.offset.click.left<h[0]&&(f=h[0]+this.offset.click.left),b.pageY-this.offset.click.top<h[1]&&(g=h[1]+this.offset.click.top),b.pageX-this.offset.click.left>h[2]&&(f=h[2]+this.offset.click.left),b.pageY-this.offset.click.top>h[3]&&(g=h[3]+this.offset.click.top)}if(c.grid){var j=c.grid[1]?this.originalPageY+Math.round((g-this.originalPageY)/c.grid[1])*c.grid[1]:this.originalPageY;g=h&&(j-this.offset.click.top<h[1]||j-this.offset.click.top>h[3])?j-this.offset.click.top<h[1]?j+c.grid[1]:j-c.grid[1]:j;var k=c.grid[0]?this.originalPageX+Math.round((f-this.originalPageX)/c.grid[0])*c.grid[0]:this.originalPageX;f=h&&(k-this.offset.click.left<h[0]||k-this.offset.click.left>h[2])?k-this.offset.click.left<h[0]?k+c.grid[0]:k-c.grid[0]:k}}return{top:g-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(a.browser.safari&&a.browser.version<526&&"fixed"==this.cssPosition?0:"fixed"==this.cssPosition?-this.scrollParent.scrollTop():e?0:d.scrollTop()),left:f-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(a.browser.safari&&a.browser.version<526&&"fixed"==this.cssPosition?0:"fixed"==this.cssPosition?-this.scrollParent.scrollLeft():e?0:d.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]==this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(b,c,d){return d=d||this._uiHash(),a.ui.plugin.call(this,b,[c,d]),"drag"==b&&(this.positionAbs=this._convertPositionTo("absolute")),a.Widget.prototype._trigger.call(this,b,c,d)},plugins:{},_uiHash:function(a){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),a.extend(a.ui.draggable,{version:"1.8.23"}),a.ui.plugin.add("draggable","connectToSortable",{start:function(b,c){var d=a(this).data("draggable"),e=d.options,f=a.extend({},c,{item:d.element});d.sortables=[],a(e.connectToSortable).each(function(){var c=a.data(this,"sortable");c&&!c.options.disabled&&(d.sortables.push({instance:c,shouldRevert:c.options.revert}),c.refreshPositions(),c._trigger("activate",b,f))})},stop:function(b,c){var d=a(this).data("draggable"),e=a.extend({},c,{item:d.element});a.each(d.sortables,function(){this.instance.isOver?(this.instance.isOver=0,d.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=!0),this.instance._mouseStop(b),this.instance.options.helper=this.instance.options._helper,"original"==d.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",b,e))})},drag:function(b,c){var d=a(this).data("draggable"),e=this;a.each(d.sortables,function(f){this.instance.positionAbs=d.positionAbs,this.instance.helperProportions=d.helperProportions,this.instance.offset.click=d.offset.click,this.instance._intersectsWith(this.instance.containerCache)?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=a(e).clone().removeAttr("id").appendTo(this.instance.element).data("sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return c.helper[0]},b.target=this.instance.currentItem[0],this.instance._mouseCapture(b,!0),this.instance._mouseStart(b,!0,!0),this.instance.offset.click.top=d.offset.click.top,this.instance.offset.click.left=d.offset.click.left,this.instance.offset.parent.left-=d.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=d.offset.parent.top-this.instance.offset.parent.top,d._trigger("toSortable",b),d.dropped=this.instance.element,d.currentItem=d.element,this.instance.fromOutside=d),this.instance.currentItem&&this.instance._mouseDrag(b)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",b,this.instance._uiHash(this.instance)),this.instance._mouseStop(b,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),d._trigger("fromSortable",b),d.dropped=!1)})}}),a.ui.plugin.add("draggable","cursor",{start:function(b,c){var d=a("body"),e=a(this).data("draggable").options;d.css("cursor")&&(e._cursor=d.css("cursor")),d.css("cursor",e.cursor)},stop:function(b,c){var d=a(this).data("draggable").options;d._cursor&&a("body").css("cursor",d._cursor)}}),a.ui.plugin.add("draggable","opacity",{start:function(b,c){var d=a(c.helper),e=a(this).data("draggable").options;d.css("opacity")&&(e._opacity=d.css("opacity")),d.css("opacity",e.opacity)},stop:function(b,c){var d=a(this).data("draggable").options;d._opacity&&a(c.helper).css("opacity",d._opacity)}}),a.ui.plugin.add("draggable","scroll",{start:function(b,c){var d=a(this).data("draggable");d.scrollParent[0]!=document&&"HTML"!=d.scrollParent[0].tagName&&(d.overflowOffset=d.scrollParent.offset())},drag:function(b,c){var d=a(this).data("draggable"),e=d.options,f=!1;d.scrollParent[0]!=document&&"HTML"!=d.scrollParent[0].tagName?(e.axis&&"x"==e.axis||(d.overflowOffset.top+d.scrollParent[0].offsetHeight-b.pageY<e.scrollSensitivity?d.scrollParent[0].scrollTop=f=d.scrollParent[0].scrollTop+e.scrollSpeed:b.pageY-d.overflowOffset.top<e.scrollSensitivity&&(d.scrollParent[0].scrollTop=f=d.scrollParent[0].scrollTop-e.scrollSpeed)),e.axis&&"y"==e.axis||(d.overflowOffset.left+d.scrollParent[0].offsetWidth-b.pageX<e.scrollSensitivity?d.scrollParent[0].scrollLeft=f=d.scrollParent[0].scrollLeft+e.scrollSpeed:b.pageX-d.overflowOffset.left<e.scrollSensitivity&&(d.scrollParent[0].scrollLeft=f=d.scrollParent[0].scrollLeft-e.scrollSpeed))):(e.axis&&"x"==e.axis||(b.pageY-a(document).scrollTop()<e.scrollSensitivity?f=a(document).scrollTop(a(document).scrollTop()-e.scrollSpeed):a(window).height()-(b.pageY-a(document).scrollTop())<e.scrollSensitivity&&(f=a(document).scrollTop(a(document).scrollTop()+e.scrollSpeed))),e.axis&&"y"==e.axis||(b.pageX-a(document).scrollLeft()<e.scrollSensitivity?f=a(document).scrollLeft(a(document).scrollLeft()-e.scrollSpeed):a(window).width()-(b.pageX-a(document).scrollLeft())<e.scrollSensitivity&&(f=a(document).scrollLeft(a(document).scrollLeft()+e.scrollSpeed)))),f!==!1&&a.ui.ddmanager&&!e.dropBehaviour&&a.ui.ddmanager.prepareOffsets(d,b)}}),a.ui.plugin.add("draggable","snap",{start:function(b,c){var d=a(this).data("draggable"),e=d.options;d.snapElements=[],a(e.snap.constructor!=String?e.snap.items||":data(draggable)":e.snap).each(function(){var b=a(this),c=b.offset();this!=d.element[0]&&d.snapElements.push({item:this,width:b.outerWidth(),height:b.outerHeight(),top:c.top,left:c.left})})},drag:function(b,c){for(var d=a(this).data("draggable"),e=d.options,f=e.snapTolerance,g=c.offset.left,h=g+d.helperProportions.width,i=c.offset.top,j=i+d.helperProportions.height,k=d.snapElements.length-1;k>=0;k--){var l=d.snapElements[k].left,m=l+d.snapElements[k].width,n=d.snapElements[k].top,o=n+d.snapElements[k].height;if(g>l-f&&m+f>g&&i>n-f&&o+f>i||g>l-f&&m+f>g&&j>n-f&&o+f>j||h>l-f&&m+f>h&&i>n-f&&o+f>i||h>l-f&&m+f>h&&j>n-f&&o+f>j){if("inner"!=e.snapMode){var p=Math.abs(n-j)<=f,q=Math.abs(o-i)<=f,r=Math.abs(l-h)<=f,s=Math.abs(m-g)<=f;p&&(c.position.top=d._convertPositionTo("relative",{top:n-d.helperProportions.height,left:0}).top-d.margins.top),q&&(c.position.top=d._convertPositionTo("relative",{top:o,left:0}).top-d.margins.top),r&&(c.position.left=d._convertPositionTo("relative",{top:0,left:l-d.helperProportions.width}).left-d.margins.left),s&&(c.position.left=d._convertPositionTo("relative",{top:0,left:m}).left-d.margins.left)}var t=p||q||r||s;if("outer"!=e.snapMode){var p=Math.abs(n-i)<=f,q=Math.abs(o-j)<=f,r=Math.abs(l-g)<=f,s=Math.abs(m-h)<=f;p&&(c.position.top=d._convertPositionTo("relative",{top:n,left:0}).top-d.margins.top),q&&(c.position.top=d._convertPositionTo("relative",{top:o-d.helperProportions.height,left:0}).top-d.margins.top),r&&(c.position.left=d._convertPositionTo("relative",{top:0,left:l}).left-d.margins.left),s&&(c.position.left=d._convertPositionTo("relative",{top:0,left:m-d.helperProportions.width}).left-d.margins.left)}!d.snapElements[k].snapping&&(p||q||r||s||t)&&d.options.snap.snap&&d.options.snap.snap.call(d.element,b,a.extend(d._uiHash(),{snapItem:d.snapElements[k].item})),d.snapElements[k].snapping=p||q||r||s||t}else d.snapElements[k].snapping&&d.options.snap.release&&d.options.snap.release.call(d.element,b,a.extend(d._uiHash(),{snapItem:d.snapElements[k].item})),d.snapElements[k].snapping=!1}}}),a.ui.plugin.add("draggable","stack",{start:function(b,c){var d=a(this).data("draggable").options,e=a.makeArray(a(d.stack)).sort(function(b,c){return(parseInt(a(b).css("zIndex"),10)||0)-(parseInt(a(c).css("zIndex"),10)||0)});if(e.length){var f=parseInt(e[0].style.zIndex)||0;a(e).each(function(a){this.style.zIndex=f+a}),this[0].style.zIndex=f+e.length}}}),a.ui.plugin.add("draggable","zIndex",{start:function(b,c){var d=a(c.helper),e=a(this).data("draggable").options;d.css("zIndex")&&(e._zIndex=d.css("zIndex")),d.css("zIndex",e.zIndex)},stop:function(b,c){var d=a(this).data("draggable").options;d._zIndex&&a(c.helper).css("zIndex",d._zIndex)}})}(jQuery),function(a,b){a.widget("ui.droppable",{widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect"},_create:function(){var b=this.options,c=b.accept;this.isover=0,this.isout=1,this.accept=a.isFunction(c)?c:function(a){return a.is(c)},this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight},a.ui.ddmanager.droppables[b.scope]=a.ui.ddmanager.droppables[b.scope]||[],a.ui.ddmanager.droppables[b.scope].push(this),b.addClasses&&this.element.addClass("ui-droppable")},destroy:function(){for(var b=a.ui.ddmanager.droppables[this.options.scope],c=0;c<b.length;c++)b[c]==this&&b.splice(c,1);return this.element.removeClass("ui-droppable ui-droppable-disabled").removeData("droppable").unbind(".droppable"),this},_setOption:function(b,c){"accept"==b&&(this.accept=a.isFunction(c)?c:function(a){return a.is(c)}),a.Widget.prototype._setOption.apply(this,arguments)},_activate:function(b){var c=a.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),c&&this._trigger("activate",b,this.ui(c))},_deactivate:function(b){var c=a.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),c&&this._trigger("deactivate",b,this.ui(c))},_over:function(b){var c=a.ui.ddmanager.current;c&&(c.currentItem||c.element)[0]!=this.element[0]&&this.accept.call(this.element[0],c.currentItem||c.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",b,this.ui(c)))},_out:function(b){var c=a.ui.ddmanager.current;c&&(c.currentItem||c.element)[0]!=this.element[0]&&this.accept.call(this.element[0],c.currentItem||c.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",b,this.ui(c)))},_drop:function(b,c){var d=c||a.ui.ddmanager.current;if(!d||(d.currentItem||d.element)[0]==this.element[0])return!1;var e=!1;return this.element.find(":data(droppable)").not(".ui-draggable-dragging").each(function(){var b=a.data(this,"droppable");return b.options.greedy&&!b.options.disabled&&b.options.scope==d.options.scope&&b.accept.call(b.element[0],d.currentItem||d.element)&&a.ui.intersect(d,a.extend(b,{offset:b.element.offset()}),b.options.tolerance)?(e=!0,!1):void 0}),e?!1:this.accept.call(this.element[0],d.currentItem||d.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",b,this.ui(d)),this.element):!1},ui:function(a){return{draggable:a.currentItem||a.element,helper:a.helper,position:a.position,offset:a.positionAbs}}}),a.extend(a.ui.droppable,{version:"1.8.23"}),a.ui.intersect=function(b,c,d){if(!c.offset)return!1;var e=(b.positionAbs||b.position.absolute).left,f=e+b.helperProportions.width,g=(b.positionAbs||b.position.absolute).top,h=g+b.helperProportions.height,i=c.offset.left,j=i+c.proportions.width,k=c.offset.top,l=k+c.proportions.height;switch(d){case"fit":return e>=i&&j>=f&&g>=k&&l>=h;case"intersect":return i<e+b.helperProportions.width/2&&f-b.helperProportions.width/2<j&&k<g+b.helperProportions.height/2&&h-b.helperProportions.height/2<l;case"pointer":var m=(b.positionAbs||b.position.absolute).left+(b.clickOffset||b.offset.click).left,n=(b.positionAbs||b.position.absolute).top+(b.clickOffset||b.offset.click).top,o=a.ui.isOver(n,m,k,i,c.proportions.height,c.proportions.width);return o;case"touch":return(g>=k&&l>=g||h>=k&&l>=h||k>g&&h>l)&&(e>=i&&j>=e||f>=i&&j>=f||i>e&&f>j);default:return!1}},a.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(b,c){var d=a.ui.ddmanager.droppables[b.options.scope]||[],e=c?c.type:null,f=(b.currentItem||b.element).find(":data(droppable)").andSelf();a:for(var g=0;g<d.length;g++)if(!(d[g].options.disabled||b&&!d[g].accept.call(d[g].element[0],b.currentItem||b.element))){for(var h=0;h<f.length;h++)if(f[h]==d[g].element[0]){d[g].proportions.height=0;continue a}d[g].visible="none"!=d[g].element.css("display"),d[g].visible&&("mousedown"==e&&d[g]._activate.call(d[g],c),d[g].offset=d[g].element.offset(),d[g].proportions={width:d[g].element[0].offsetWidth,height:d[g].element[0].offsetHeight})}},drop:function(b,c){var d=!1;return a.each(a.ui.ddmanager.droppables[b.options.scope]||[],function(){this.options&&(!this.options.disabled&&this.visible&&a.ui.intersect(b,this,this.options.tolerance)&&(d=this._drop.call(this,c)||d),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],b.currentItem||b.element)&&(this.isout=1,this.isover=0,this._deactivate.call(this,c)))}),d},dragStart:function(b,c){b.element.parents(":not(body,html)").bind("scroll.droppable",function(){b.options.refreshPositions||a.ui.ddmanager.prepareOffsets(b,c)})},drag:function(b,c){b.options.refreshPositions&&a.ui.ddmanager.prepareOffsets(b,c),a.each(a.ui.ddmanager.droppables[b.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var d=a.ui.intersect(b,this,this.options.tolerance),e=d||1!=this.isover?d&&0==this.isover?"isover":null:"isout";if(e){var f;if(this.options.greedy){var g=this.element.parents(":data(droppable):eq(0)");g.length&&(f=a.data(g[0],"droppable"),f.greedyChild="isover"==e?1:0)}f&&"isover"==e&&(f.isover=0,f.isout=1,f._out.call(f,c)),this[e]=1,this["isout"==e?"isover":"isout"]=0,this["isover"==e?"_over":"_out"].call(this,c),f&&"isout"==e&&(f.isout=0,f.isover=1,f._over.call(f,c))}}})},dragStop:function(b,c){b.element.parents(":not(body,html)").unbind("scroll.droppable"),b.options.refreshPositions||a.ui.ddmanager.prepareOffsets(b,c)}}}(jQuery),function(a,b){a.widget("ui.resizable",a.ui.mouse,{widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:1e3},_create:function(){var b=this,c=this.options;if(this.element.addClass("ui-resizable"),a.extend(this,{_aspectRatio:!!c.aspectRatio,aspectRatio:c.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:c.helper||c.ghost||c.animate?c.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(a('<div class="ui-wrapper" style="overflow: hidden;"></div>').css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("resizable",this.element.data("resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=c.handles||(a(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor==String){"all"==this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw");var d=this.handles.split(",");this.handles={};for(var e=0;e<d.length;e++){var f=a.trim(d[e]),g="ui-resizable-"+f,h=a('<div class="ui-resizable-handle '+g+'"></div>');h.css({zIndex:c.zIndex}),"se"==f&&h.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[f]=".ui-resizable-"+f,this.element.append(h)}}this._renderAxis=function(b){b=b||this.element;for(var c in this.handles){if(this.handles[c].constructor==String&&(this.handles[c]=a(this.handles[c],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)){var d=a(this.handles[c],this.element),e=0;e=/sw|ne|nw|se|n|s/.test(c)?d.outerHeight():d.outerWidth();var f=["padding",/ne|nw|n/.test(c)?"Top":/se|sw|s/.test(c)?"Bottom":/^e$/.test(c)?"Right":"Left"].join("");b.css(f,e),this._proportionallyResize()}a(this.handles[c]).length}},this._renderAxis(this.element),this._handles=a(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){if(!b.resizing){if(this.className)var a=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i);b.axis=a&&a[1]?a[1]:"se"}}),c.autoHide&&(this._handles.hide(),a(this.element).addClass("ui-resizable-autohide").hover(function(){c.disabled||(a(this).removeClass("ui-resizable-autohide"),b._handles.show())},function(){c.disabled||b.resizing||(a(this).addClass("ui-resizable-autohide"),b._handles.hide())})),this._mouseInit()},destroy:function(){this._mouseDestroy();var b=function(b){a(b).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};if(this.elementIsWrapper){b(this.element);var c=this.element;c.after(this.originalElement.css({position:c.css("position"),width:c.outerWidth(),height:c.outerHeight(),top:c.css("top"),left:c.css("left")})).remove()}return this.originalElement.css("resize",this.originalResizeStyle),b(this.originalElement),this},_mouseCapture:function(b){var c=!1;for(var d in this.handles)a(this.handles[d])[0]==b.target&&(c=!0);return!this.options.disabled&&c},_mouseStart:function(b){var d=this.options,e=this.element.position(),f=this.element;this.resizing=!0,this.documentScroll={top:a(document).scrollTop(),left:a(document).scrollLeft()},(f.is(".ui-draggable")||/absolute/.test(f.css("position")))&&f.css({position:"absolute",top:e.top,left:e.left}),this._renderProxy();var g=c(this.helper.css("left")),h=c(this.helper.css("top"));d.containment&&(g+=a(d.containment).scrollLeft()||0,h+=a(d.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:g,top:h},this.size=this._helper?{width:f.outerWidth(),height:f.outerHeight()}:{width:f.width(),height:f.height()},this.originalSize=this._helper?{width:f.outerWidth(),height:f.outerHeight()}:{width:f.width(),height:f.height()},this.originalPosition={left:g,top:h},this.sizeDiff={width:f.outerWidth()-f.width(),height:f.outerHeight()-f.height()},this.originalMousePosition={left:b.pageX,top:b.pageY},this.aspectRatio="number"==typeof d.aspectRatio?d.aspectRatio:this.originalSize.width/this.originalSize.height||1;var i=a(".ui-resizable-"+this.axis).css("cursor");return a("body").css("cursor","auto"==i?this.axis+"-resize":i),f.addClass("ui-resizable-resizing"),this._propagate("start",b),!0},_mouseDrag:function(b){var c=this.helper,d=(this.options,this.originalMousePosition),e=this.axis,f=b.pageX-d.left||0,g=b.pageY-d.top||0,h=this._change[e];if(!h)return!1;var i=h.apply(this,[b,f,g]);a.browser.msie&&a.browser.version<7,this.sizeDiff;return this._updateVirtualBoundaries(b.shiftKey),(this._aspectRatio||b.shiftKey)&&(i=this._updateRatio(i,b)),i=this._respectSize(i,b),this._propagate("resize",b),c.css({top:this.position.top+"px",left:this.position.left+"px",width:this.size.width+"px",height:this.size.height+"px"}),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),this._updateCache(i),this._trigger("resize",b,this.ui()),!1},_mouseStop:function(b){this.resizing=!1;var c=this.options,d=this;if(this._helper){var e=this._proportionallyResizeElements,f=e.length&&/textarea/i.test(e[0].nodeName),g=f&&a.ui.hasScroll(e[0],"left")?0:d.sizeDiff.height,h=f?0:d.sizeDiff.width,i={width:d.helper.width()-h,height:d.helper.height()-g},j=parseInt(d.element.css("left"),10)+(d.position.left-d.originalPosition.left)||null,k=parseInt(d.element.css("top"),10)+(d.position.top-d.originalPosition.top)||null;c.animate||this.element.css(a.extend(i,{top:k,left:j})),d.helper.height(d.size.height),d.helper.width(d.size.width),this._helper&&!c.animate&&this._proportionallyResize()}return a("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",b),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(a){var b,c,e,f,g,h=this.options;g={minWidth:d(h.minWidth)?h.minWidth:0,maxWidth:d(h.maxWidth)?h.maxWidth:1/0,minHeight:d(h.minHeight)?h.minHeight:0,maxHeight:d(h.maxHeight)?h.maxHeight:1/0},(this._aspectRatio||a)&&(b=g.minHeight*this.aspectRatio,e=g.minWidth/this.aspectRatio,c=g.maxHeight*this.aspectRatio,f=g.maxWidth/this.aspectRatio,b>g.minWidth&&(g.minWidth=b),e>g.minHeight&&(g.minHeight=e),c<g.maxWidth&&(g.maxWidth=c),f<g.maxHeight&&(g.maxHeight=f)),this._vBoundaries=g},_updateCache:function(a){this.options;this.offset=this.helper.offset(),d(a.left)&&(this.position.left=a.left),d(a.top)&&(this.position.top=a.top),d(a.height)&&(this.size.height=a.height),d(a.width)&&(this.size.width=a.width)},_updateRatio:function(a,b){var c=(this.options,this.position),e=this.size,f=this.axis;return d(a.height)?a.width=a.height*this.aspectRatio:d(a.width)&&(a.height=a.width/this.aspectRatio),"sw"==f&&(a.left=c.left+(e.width-a.width),a.top=null),"nw"==f&&(a.top=c.top+(e.height-a.height),a.left=c.left+(e.width-a.width)),a},_respectSize:function(a,b){var c=(this.helper,this._vBoundaries),e=(this._aspectRatio||b.shiftKey,this.axis),f=d(a.width)&&c.maxWidth&&c.maxWidth<a.width,g=d(a.height)&&c.maxHeight&&c.maxHeight<a.height,h=d(a.width)&&c.minWidth&&c.minWidth>a.width,i=d(a.height)&&c.minHeight&&c.minHeight>a.height;h&&(a.width=c.minWidth),i&&(a.height=c.minHeight),f&&(a.width=c.maxWidth),g&&(a.height=c.maxHeight);var j=this.originalPosition.left+this.originalSize.width,k=this.position.top+this.size.height,l=/sw|nw|w/.test(e),m=/nw|ne|n/.test(e);h&&l&&(a.left=j-c.minWidth),f&&l&&(a.left=j-c.maxWidth),i&&m&&(a.top=k-c.minHeight),g&&m&&(a.top=k-c.maxHeight);var n=!a.width&&!a.height;return n&&!a.left&&a.top?a.top=null:n&&!a.top&&a.left&&(a.left=null),a},_proportionallyResize:function(){this.options;if(this._proportionallyResizeElements.length)for(var b=this.helper||this.element,c=0;c<this._proportionallyResizeElements.length;c++){var d=this._proportionallyResizeElements[c];if(!this.borderDif){var e=[d.css("borderTopWidth"),d.css("borderRightWidth"),d.css("borderBottomWidth"),d.css("borderLeftWidth")],f=[d.css("paddingTop"),d.css("paddingRight"),d.css("paddingBottom"),d.css("paddingLeft")];this.borderDif=a.map(e,function(a,b){var c=parseInt(a,10)||0,d=parseInt(f[b],10)||0;return c+d})}a.browser.msie&&(a(b).is(":hidden")||a(b).parents(":hidden").length)||d.css({height:b.height()-this.borderDif[0]-this.borderDif[2]||0,width:b.width()-this.borderDif[1]-this.borderDif[3]||0})}},_renderProxy:function(){var b=this.element,c=this.options;if(this.elementOffset=b.offset(),this._helper){this.helper=this.helper||a('<div style="overflow:hidden;"></div>');var d=a.browser.msie&&a.browser.version<7,e=d?1:0,f=d?2:-1;this.helper.addClass(this._helper).css({width:this.element.outerWidth()+f,height:this.element.outerHeight()+f,position:"absolute",left:this.elementOffset.left-e+"px",top:this.elementOffset.top-e+"px",zIndex:++c.zIndex}),this.helper.appendTo("body").disableSelection()}else this.helper=this.element},_change:{e:function(a,b,c){return{width:this.originalSize.width+b}},w:function(a,b,c){var d=(this.options,this.originalSize),e=this.originalPosition;return{left:e.left+b,width:d.width-b}},n:function(a,b,c){var d=(this.options,this.originalSize),e=this.originalPosition;return{top:e.top+c,height:d.height-c}},s:function(a,b,c){return{height:this.originalSize.height+c}},se:function(b,c,d){return a.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[b,c,d]))},sw:function(b,c,d){return a.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[b,c,d]))},ne:function(b,c,d){return a.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[b,c,d]))},nw:function(b,c,d){return a.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[b,c,d]))}},_propagate:function(b,c){a.ui.plugin.call(this,b,[c,this.ui()]),"resize"!=b&&this._trigger(b,c,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),a.extend(a.ui.resizable,{version:"1.8.23"}),a.ui.plugin.add("resizable","alsoResize",{start:function(b,c){var d=a(this).data("resizable"),e=d.options,f=function(b){a(b).each(function(){var b=a(this);b.data("resizable-alsoresize",{width:parseInt(b.width(),10),height:parseInt(b.height(),10),left:parseInt(b.css("left"),10),top:parseInt(b.css("top"),10)})})};"object"!=typeof e.alsoResize||e.alsoResize.parentNode?f(e.alsoResize):e.alsoResize.length?(e.alsoResize=e.alsoResize[0],f(e.alsoResize)):a.each(e.alsoResize,function(a){f(a)})},resize:function(b,c){var d=a(this).data("resizable"),e=d.options,f=d.originalSize,g=d.originalPosition,h={height:d.size.height-f.height||0,width:d.size.width-f.width||0,top:d.position.top-g.top||0,left:d.position.left-g.left||0},i=function(b,d){a(b).each(function(){var b=a(this),e=a(this).data("resizable-alsoresize"),f={},g=d&&d.length?d:b.parents(c.originalElement[0]).length?["width","height"]:["width","height","top","left"];a.each(g,function(a,b){var c=(e[b]||0)+(h[b]||0);c&&c>=0&&(f[b]=c||null)}),b.css(f)})};"object"!=typeof e.alsoResize||e.alsoResize.nodeType?i(e.alsoResize):a.each(e.alsoResize,function(a,b){i(a,b)})},stop:function(b,c){a(this).removeData("resizable-alsoresize")}}),a.ui.plugin.add("resizable","animate",{stop:function(b,c){var d=a(this).data("resizable"),e=d.options,f=d._proportionallyResizeElements,g=f.length&&/textarea/i.test(f[0].nodeName),h=g&&a.ui.hasScroll(f[0],"left")?0:d.sizeDiff.height,i=g?0:d.sizeDiff.width,j={width:d.size.width-i,height:d.size.height-h},k=parseInt(d.element.css("left"),10)+(d.position.left-d.originalPosition.left)||null,l=parseInt(d.element.css("top"),10)+(d.position.top-d.originalPosition.top)||null;d.element.animate(a.extend(j,l&&k?{top:l,left:k}:{}),{duration:e.animateDuration,easing:e.animateEasing,step:function(){var c={width:parseInt(d.element.css("width"),10),height:parseInt(d.element.css("height"),10),top:parseInt(d.element.css("top"),10),left:parseInt(d.element.css("left"),10)};f&&f.length&&a(f[0]).css({width:c.width,height:c.height}),d._updateCache(c),d._propagate("resize",b)}})}}),a.ui.plugin.add("resizable","containment",{start:function(b,d){var e=a(this).data("resizable"),f=e.options,g=e.element,h=f.containment,i=h instanceof a?h.get(0):/parent/.test(h)?g.parent().get(0):h;if(i)if(e.containerElement=a(i),/document/.test(h)||h==document)e.containerOffset={left:0,top:0},e.containerPosition={left:0,top:0},e.parentData={element:a(document),left:0,top:0,width:a(document).width(),height:a(document).height()||document.body.parentNode.scrollHeight};else{var j=a(i),k=[];
a(["Top","Right","Left","Bottom"]).each(function(a,b){k[a]=c(j.css("padding"+b))}),e.containerOffset=j.offset(),e.containerPosition=j.position(),e.containerSize={height:j.innerHeight()-k[3],width:j.innerWidth()-k[1]};var l=e.containerOffset,m=e.containerSize.height,n=e.containerSize.width,o=a.ui.hasScroll(i,"left")?i.scrollWidth:n,p=a.ui.hasScroll(i)?i.scrollHeight:m;e.parentData={element:i,left:l.left,top:l.top,width:o,height:p}}},resize:function(b,c){var d=a(this).data("resizable"),e=d.options,f=(d.containerSize,d.containerOffset),g=(d.size,d.position),h=d._aspectRatio||b.shiftKey,i={top:0,left:0},j=d.containerElement;j[0]!=document&&/static/.test(j.css("position"))&&(i=f),g.left<(d._helper?f.left:0)&&(d.size.width=d.size.width+(d._helper?d.position.left-f.left:d.position.left-i.left),h&&(d.size.height=d.size.width/d.aspectRatio),d.position.left=e.helper?f.left:0),g.top<(d._helper?f.top:0)&&(d.size.height=d.size.height+(d._helper?d.position.top-f.top:d.position.top),h&&(d.size.width=d.size.height*d.aspectRatio),d.position.top=d._helper?f.top:0),d.offset.left=d.parentData.left+d.position.left,d.offset.top=d.parentData.top+d.position.top;var k=Math.abs((d._helper?d.offset.left-i.left:d.offset.left-i.left)+d.sizeDiff.width),l=Math.abs((d._helper?d.offset.top-i.top:d.offset.top-f.top)+d.sizeDiff.height),m=d.containerElement.get(0)==d.element.parent().get(0),n=/relative|absolute/.test(d.containerElement.css("position"));m&&n&&(k-=d.parentData.left),k+d.size.width>=d.parentData.width&&(d.size.width=d.parentData.width-k,h&&(d.size.height=d.size.width/d.aspectRatio)),l+d.size.height>=d.parentData.height&&(d.size.height=d.parentData.height-l,h&&(d.size.width=d.size.height*d.aspectRatio))},stop:function(b,c){var d=a(this).data("resizable"),e=d.options,f=(d.position,d.containerOffset),g=d.containerPosition,h=d.containerElement,i=a(d.helper),j=i.offset(),k=i.outerWidth()-d.sizeDiff.width,l=i.outerHeight()-d.sizeDiff.height;d._helper&&!e.animate&&/relative/.test(h.css("position"))&&a(this).css({left:j.left-g.left-f.left,width:k,height:l}),d._helper&&!e.animate&&/static/.test(h.css("position"))&&a(this).css({left:j.left-g.left-f.left,width:k,height:l})}}),a.ui.plugin.add("resizable","ghost",{start:function(b,c){var d=a(this).data("resizable"),e=d.options,f=d.size;d.ghost=d.originalElement.clone(),d.ghost.css({opacity:.25,display:"block",position:"relative",height:f.height,width:f.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof e.ghost?e.ghost:""),d.ghost.appendTo(d.helper)},resize:function(b,c){var d=a(this).data("resizable");d.options;d.ghost&&d.ghost.css({position:"relative",height:d.size.height,width:d.size.width})},stop:function(b,c){var d=a(this).data("resizable");d.options;d.ghost&&d.helper&&d.helper.get(0).removeChild(d.ghost.get(0))}}),a.ui.plugin.add("resizable","grid",{resize:function(b,c){var d=a(this).data("resizable"),e=d.options,f=d.size,g=d.originalSize,h=d.originalPosition,i=d.axis;e._aspectRatio||b.shiftKey;e.grid="number"==typeof e.grid?[e.grid,e.grid]:e.grid;var j=Math.round((f.width-g.width)/(e.grid[0]||1))*(e.grid[0]||1),k=Math.round((f.height-g.height)/(e.grid[1]||1))*(e.grid[1]||1);/^(se|s|e)$/.test(i)?(d.size.width=g.width+j,d.size.height=g.height+k):/^(ne)$/.test(i)?(d.size.width=g.width+j,d.size.height=g.height+k,d.position.top=h.top-k):/^(sw)$/.test(i)?(d.size.width=g.width+j,d.size.height=g.height+k,d.position.left=h.left-j):(d.size.width=g.width+j,d.size.height=g.height+k,d.position.top=h.top-k,d.position.left=h.left-j)}});var c=function(a){return parseInt(a,10)||0},d=function(a){return!isNaN(parseInt(a,10))}}(jQuery),function(a,b){a.widget("ui.selectable",a.ui.mouse,{options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch"},_create:function(){var b=this;this.element.addClass("ui-selectable"),this.dragged=!1;var c;this.refresh=function(){c=a(b.options.filter,b.element[0]),c.addClass("ui-selectee"),c.each(function(){var b=a(this),c=b.offset();a.data(this,"selectable-item",{element:this,$element:b,left:c.left,top:c.top,right:c.left+b.outerWidth(),bottom:c.top+b.outerHeight(),startselected:!1,selected:b.hasClass("ui-selected"),selecting:b.hasClass("ui-selecting"),unselecting:b.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=c.addClass("ui-selectee"),this._mouseInit(),this.helper=a("<div class='ui-selectable-helper'></div>")},destroy:function(){return this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled").removeData("selectable").unbind(".selectable"),this._mouseDestroy(),this},_mouseStart:function(b){var c=this;if(this.opos=[b.pageX,b.pageY],!this.options.disabled){var d=this.options;this.selectees=a(d.filter,this.element[0]),this._trigger("start",b),a(d.appendTo).append(this.helper),this.helper.css({left:b.clientX,top:b.clientY,width:0,height:0}),d.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var d=a.data(this,"selectable-item");d.startselected=!0,b.metaKey||b.ctrlKey||(d.$element.removeClass("ui-selected"),d.selected=!1,d.$element.addClass("ui-unselecting"),d.unselecting=!0,c._trigger("unselecting",b,{unselecting:d.element}))}),a(b.target).parents().andSelf().each(function(){var d=a.data(this,"selectable-item");if(d){var e=!b.metaKey&&!b.ctrlKey||!d.$element.hasClass("ui-selected");return d.$element.removeClass(e?"ui-unselecting":"ui-selected").addClass(e?"ui-selecting":"ui-unselecting"),d.unselecting=!e,d.selecting=e,d.selected=e,e?c._trigger("selecting",b,{selecting:d.element}):c._trigger("unselecting",b,{unselecting:d.element}),!1}})}},_mouseDrag:function(b){var c=this;if(this.dragged=!0,!this.options.disabled){var d=this.options,e=this.opos[0],f=this.opos[1],g=b.pageX,h=b.pageY;if(e>g){var i=g;g=e,e=i}if(f>h){var i=h;h=f,f=i}return this.helper.css({left:e,top:f,width:g-e,height:h-f}),this.selectees.each(function(){var i=a.data(this,"selectable-item");if(i&&i.element!=c.element[0]){var j=!1;"touch"==d.tolerance?j=!(i.left>g||i.right<e||i.top>h||i.bottom<f):"fit"==d.tolerance&&(j=i.left>e&&i.right<g&&i.top>f&&i.bottom<h),j?(i.selected&&(i.$element.removeClass("ui-selected"),i.selected=!1),i.unselecting&&(i.$element.removeClass("ui-unselecting"),i.unselecting=!1),i.selecting||(i.$element.addClass("ui-selecting"),i.selecting=!0,c._trigger("selecting",b,{selecting:i.element}))):(i.selecting&&((b.metaKey||b.ctrlKey)&&i.startselected?(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.$element.addClass("ui-selected"),i.selected=!0):(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.startselected&&(i.$element.addClass("ui-unselecting"),i.unselecting=!0),c._trigger("unselecting",b,{unselecting:i.element}))),i.selected&&(b.metaKey||b.ctrlKey||i.startselected||(i.$element.removeClass("ui-selected"),i.selected=!1,i.$element.addClass("ui-unselecting"),i.unselecting=!0,c._trigger("unselecting",b,{unselecting:i.element}))))}}),!1}},_mouseStop:function(b){var c=this;this.dragged=!1;this.options;return a(".ui-unselecting",this.element[0]).each(function(){var d=a.data(this,"selectable-item");d.$element.removeClass("ui-unselecting"),d.unselecting=!1,d.startselected=!1,c._trigger("unselected",b,{unselected:d.element})}),a(".ui-selecting",this.element[0]).each(function(){var d=a.data(this,"selectable-item");d.$element.removeClass("ui-selecting").addClass("ui-selected"),d.selecting=!1,d.selected=!0,d.startselected=!0,c._trigger("selected",b,{selected:d.element})}),this._trigger("stop",b),this.helper.remove(),!1}}),a.extend(a.ui.selectable,{version:"1.8.23"})}(jQuery),function(a,b){a.widget("ui.sortable",a.ui.mouse,{widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3},_create:function(){var a=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?"x"===a.axis||/left|right/.test(this.items[0].item.css("float"))||/inline|table-cell/.test(this.items[0].item.css("display")):!1,this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},destroy:function(){a.Widget.prototype.destroy.call(this),this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var b=this.items.length-1;b>=0;b--)this.items[b].item.removeData(this.widgetName+"-item");return this},_setOption:function(b,c){"disabled"===b?(this.options[b]=c,this.widget()[c?"addClass":"removeClass"]("ui-sortable-disabled")):a.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(b,c){var d=this;if(this.reverting)return!1;if(this.options.disabled||"static"==this.options.type)return!1;this._refreshItems(b);var e=null,f=this;a(b.target).parents().each(function(){return a.data(this,d.widgetName+"-item")==f?(e=a(this),!1):void 0});if(a.data(b.target,d.widgetName+"-item")==f&&(e=a(b.target)),!e)return!1;if(this.options.handle&&!c){var g=!1;if(a(this.options.handle,e).find("*").andSelf().each(function(){this==b.target&&(g=!0)}),!g)return!1}return this.currentItem=e,this._removeCurrentsFromItems(),!0},_mouseStart:function(b,c,d){var e=this.options,f=this;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(b),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},a.extend(this.offset,{click:{left:b.pageX-this.offset.left,top:b.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(b),this.originalPageX=b.pageX,this.originalPageY=b.pageY,e.cursorAt&&this._adjustOffsetFromHelper(e.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!=this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),e.containment&&this._setContainment(),e.cursor&&(e.cursor=a.browser.mozilla===!0?"-moz-grabbing":"-webkit-grabbing",a("body").css("cursor")&&(this._storedCursor=a("body").css("cursor")),a("body").css("cursor",e.cursor)),e.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",e.opacity)),e.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",e.zIndex)),this.scrollParent[0]!=document&&"HTML"!=this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",b,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!d)for(var g=this.containers.length-1;g>=0;g--)this.containers[g]._trigger("activate",b,f._uiHash(this));return a.ui.ddmanager&&(a.ui.ddmanager.current=this),a.ui.ddmanager&&!e.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(b),!0},_mouseDrag:function(b){if(this.position=this._generatePosition(b),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll){var c=this.options,d=!1;this.scrollParent[0]!=document&&"HTML"!=this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-b.pageY<c.scrollSensitivity?this.scrollParent[0].scrollTop=d=this.scrollParent[0].scrollTop+c.scrollSpeed:b.pageY-this.overflowOffset.top<c.scrollSensitivity&&(this.scrollParent[0].scrollTop=d=this.scrollParent[0].scrollTop-c.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-b.pageX<c.scrollSensitivity?this.scrollParent[0].scrollLeft=d=this.scrollParent[0].scrollLeft+c.scrollSpeed:b.pageX-this.overflowOffset.left<c.scrollSensitivity&&(this.scrollParent[0].scrollLeft=d=this.scrollParent[0].scrollLeft-c.scrollSpeed)):(b.pageY-a(document).scrollTop()<c.scrollSensitivity?d=a(document).scrollTop(a(document).scrollTop()-c.scrollSpeed):a(window).height()-(b.pageY-a(document).scrollTop())<c.scrollSensitivity&&(d=a(document).scrollTop(a(document).scrollTop()+c.scrollSpeed)),b.pageX-a(document).scrollLeft()<c.scrollSensitivity?d=a(document).scrollLeft(a(document).scrollLeft()-c.scrollSpeed):a(window).width()-(b.pageX-a(document).scrollLeft())<c.scrollSensitivity&&(d=a(document).scrollLeft(a(document).scrollLeft()+c.scrollSpeed))),d!==!1&&a.ui.ddmanager&&!c.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b)}this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"==this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"==this.options.axis||(this.helper[0].style.top=this.position.top+"px");for(var e=this.items.length-1;e>=0;e--){var f=this.items[e],g=f.item[0],h=this._intersectsWithPointer(f);if(h&&g!=this.currentItem[0]&&this.placeholder[1==h?"next":"prev"]()[0]!=g&&!a.ui.contains(this.placeholder[0],g)&&("semi-dynamic"==this.options.type?!a.ui.contains(this.element[0],g):!0)){if(this.direction=1==h?"down":"up","pointer"!=this.options.tolerance&&!this._intersectsWithSides(f))break;this._rearrange(b,f),this._trigger("change",b,this._uiHash());break}}return this._contactContainers(b),a.ui.ddmanager&&a.ui.ddmanager.drag(this,b),this._trigger("sort",b,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(b,c){if(b){if(a.ui.ddmanager&&!this.options.dropBehaviour&&a.ui.ddmanager.drop(this,b),this.options.revert){var d=this,e=d.placeholder.offset();d.reverting=!0,a(this.helper).animate({left:e.left-this.offset.parent.left-d.margins.left+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollLeft),top:e.top-this.offset.parent.top-d.margins.top+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,function(){d._clear(b)})}else this._clear(b,c);return!1}},cancel:function(){var b=this;if(this.dragging){this._mouseUp({target:null}),"original"==this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var c=this.containers.length-1;c>=0;c--)this.containers[c]._trigger("deactivate",null,b._uiHash(this)),this.containers[c].containerCache.over&&(this.containers[c]._trigger("out",null,b._uiHash(this)),this.containers[c].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!=this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),a.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?a(this.domPosition.prev).after(this.currentItem):a(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(b){var c=this._getItemsAsjQuery(b&&b.connected),d=[];return b=b||{},a(c).each(function(){var c=(a(b.item||this).attr(b.attribute||"id")||"").match(b.expression||/(.+)[-=_](.+)/);c&&d.push((b.key||c[1]+"[]")+"="+(b.key&&b.expression?c[1]:c[2]))}),!d.length&&b.key&&d.push(b.key+"="),d.join("&")},toArray:function(b){var c=this._getItemsAsjQuery(b&&b.connected),d=[];return b=b||{},c.each(function(){d.push(a(b.item||this).attr(b.attribute||"id")||"")}),d},_intersectsWith:function(a){var b=this.positionAbs.left,c=b+this.helperProportions.width,d=this.positionAbs.top,e=d+this.helperProportions.height,f=a.left,g=f+a.width,h=a.top,i=h+a.height,j=this.offset.click.top,k=this.offset.click.left,l=d+j>h&&i>d+j&&b+k>f&&g>b+k;return"pointer"==this.options.tolerance||this.options.forcePointerForContainers||"pointer"!=this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>a[this.floating?"width":"height"]?l:f<b+this.helperProportions.width/2&&c-this.helperProportions.width/2<g&&h<d+this.helperProportions.height/2&&e-this.helperProportions.height/2<i},_intersectsWithPointer:function(b){var c="x"===this.options.axis||a.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,b.top,b.height),d="y"===this.options.axis||a.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,b.left,b.width),e=c&&d,f=this._getDragVerticalDirection(),g=this._getDragHorizontalDirection();return e?this.floating?g&&"right"==g||"down"==f?2:1:f&&("down"==f?2:1):!1},_intersectsWithSides:function(b){var c=a.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,b.top+b.height/2,b.height),d=a.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,b.left+b.width/2,b.width),e=this._getDragVerticalDirection(),f=this._getDragHorizontalDirection();return this.floating&&f?"right"==f&&d||"left"==f&&!d:e&&("down"==e&&c||"up"==e&&!c)},_getDragVerticalDirection:function(){var a=this.positionAbs.top-this.lastPositionAbs.top;return 0!=a&&(a>0?"down":"up")},_getDragHorizontalDirection:function(){var a=this.positionAbs.left-this.lastPositionAbs.left;return 0!=a&&(a>0?"right":"left")},refresh:function(a){return this._refreshItems(a),this.refreshPositions(),this},_connectWith:function(){var a=this.options;return a.connectWith.constructor==String?[a.connectWith]:a.connectWith},_getItemsAsjQuery:function(b){var c=[],d=[],e=this._connectWith();if(e&&b)for(var f=e.length-1;f>=0;f--)for(var g=a(e[f]),h=g.length-1;h>=0;h--){var i=a.data(g[h],this.widgetName);i&&i!=this&&!i.options.disabled&&d.push([a.isFunction(i.options.items)?i.options.items.call(i.element):a(i.options.items,i.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),i])}d.push([a.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):a(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(var f=d.length-1;f>=0;f--)d[f][0].each(function(){c.push(this)});return a(c)},_removeCurrentsFromItems:function(){for(var a=this.currentItem.find(":data("+this.widgetName+"-item)"),b=0;b<this.items.length;b++)for(var c=0;c<a.length;c++)a[c]==this.items[b].item[0]&&this.items.splice(b,1)},_refreshItems:function(b){this.items=[],this.containers=[this];var c=this.items,d=[[a.isFunction(this.options.items)?this.options.items.call(this.element[0],b,{item:this.currentItem}):a(this.options.items,this.element),this]],e=this._connectWith();if(e&&this.ready)for(var f=e.length-1;f>=0;f--)for(var g=a(e[f]),h=g.length-1;h>=0;h--){var i=a.data(g[h],this.widgetName);i&&i!=this&&!i.options.disabled&&(d.push([a.isFunction(i.options.items)?i.options.items.call(i.element[0],b,{item:this.currentItem}):a(i.options.items,i.element),i]),this.containers.push(i))}for(var f=d.length-1;f>=0;f--)for(var j=d[f][1],k=d[f][0],h=0,l=k.length;l>h;h++){var m=a(k[h]);m.data(this.widgetName+"-item",j),c.push({item:m,instance:j,width:0,height:0,left:0,top:0})}},refreshPositions:function(b){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());for(var c=this.items.length-1;c>=0;c--){var d=this.items[c];if(d.instance==this.currentContainer||!this.currentContainer||d.item[0]==this.currentItem[0]){var e=this.options.toleranceElement?a(this.options.toleranceElement,d.item):d.item;b||(d.width=e.outerWidth(),d.height=e.outerHeight());var f=e.offset();d.left=f.left,d.top=f.top}}if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(var c=this.containers.length-1;c>=0;c--){var f=this.containers[c].element.offset();this.containers[c].containerCache.left=f.left,this.containers[c].containerCache.top=f.top,this.containers[c].containerCache.width=this.containers[c].element.outerWidth(),this.containers[c].containerCache.height=this.containers[c].element.outerHeight()}return this},_createPlaceholder:function(b){var c=b||this,d=c.options;if(!d.placeholder||d.placeholder.constructor==String){var e=d.placeholder;d.placeholder={element:function(){var b=a(document.createElement(c.currentItem[0].nodeName)).addClass(e||c.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];return e||(b.style.visibility="hidden"),b},update:function(a,b){(!e||d.forcePlaceholderSize)&&(b.height(parseInt(c.currentItem.innerHeight())-parseInt(c.currentItem.css("paddingTop")||0,10)-parseInt(c.currentItem.css("paddingBottom")||0,10)),b.width(parseInt(c.currentItem.innerWidth())-parseInt(c.currentItem.css("paddingLeft")||0,10)-parseInt(c.currentItem.css("paddingRight")||0,10)))}}}c.placeholder=a(d.placeholder.element.call(c.element,c.currentItem)),c.currentItem.after(c.placeholder),d.placeholder.update(c,c.placeholder)},_contactContainers:function(b){for(var c=null,d=null,e=this.containers.length-1;e>=0;e--)if(!a.ui.contains(this.currentItem[0],this.containers[e].element[0]))if(this._intersectsWith(this.containers[e].containerCache)){if(c&&a.ui.contains(this.containers[e].element[0],c.element[0]))continue;c=this.containers[e],d=e}else this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",b,this._uiHash(this)),this.containers[e].containerCache.over=0);if(c)if(1===this.containers.length)this.containers[d]._trigger("over",b,this._uiHash(this)),this.containers[d].containerCache.over=1;else if(this.currentContainer!=this.containers[d]){for(var f=1e4,g=null,h=this.positionAbs[this.containers[d].floating?"left":"top"],i=this.items.length-1;i>=0;i--)if(a.ui.contains(this.containers[d].element[0],this.items[i].item[0])){var j=this.containers[d].floating?this.items[i].item.offset().left:this.items[i].item.offset().top;Math.abs(j-h)<f&&(f=Math.abs(j-h),g=this.items[i],this.direction=j-h>0?"down":"up")}if(!g&&!this.options.dropOnEmpty)return;this.currentContainer=this.containers[d],g?this._rearrange(b,g,null,!0):this._rearrange(b,null,this.containers[d].element,!0),this._trigger("change",b,this._uiHash()),this.containers[d]._trigger("change",b,this._uiHash(this)),this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[d]._trigger("over",b,this._uiHash(this)),this.containers[d].containerCache.over=1}},_createHelper:function(b){var c=this.options,d=a.isFunction(c.helper)?a(c.helper.apply(this.element[0],[b,this.currentItem])):"clone"==c.helper?this.currentItem.clone():this.currentItem;return d.parents("body").length||a("parent"!=c.appendTo?c.appendTo:this.currentItem[0].parentNode)[0].appendChild(d[0]),d[0]==this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(""==d[0].style.width||c.forceHelperSize)&&d.width(this.currentItem.width()),(""==d[0].style.height||c.forceHelperSize)&&d.height(this.currentItem.height()),d},_adjustOffsetFromHelper:function(b){"string"==typeof b&&(b=b.split(" ")),a.isArray(b)&&(b={left:+b[0],top:+b[1]||0}),"left"in b&&(this.offset.click.left=b.left+this.margins.left),"right"in b&&(this.offset.click.left=this.helperProportions.width-b.right+this.margins.left),"top"in b&&(this.offset.click.top=b.top+this.margins.top),"bottom"in b&&(this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var b=this.offsetParent.offset();return"absolute"==this.cssPosition&&this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0])&&(b.left+=this.scrollParent.scrollLeft(),b.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&"html"==this.offsetParent[0].tagName.toLowerCase()&&a.browser.msie)&&(b={top:0,left:0}),{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"==this.cssPosition){var a=this.currentItem.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var b=this.options;if("parent"==b.containment&&(b.containment=this.helper[0].parentNode),("document"==b.containment||"window"==b.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,a("document"==b.containment?document:window).width()-this.helperProportions.width-this.margins.left,(a("document"==b.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),!/^(document|window|parent)$/.test(b.containment)){var c=a(b.containment)[0],d=a(b.containment).offset(),e="hidden"!=a(c).css("overflow");this.containment=[d.left+(parseInt(a(c).css("borderLeftWidth"),10)||0)+(parseInt(a(c).css("paddingLeft"),10)||0)-this.margins.left,d.top+(parseInt(a(c).css("borderTopWidth"),10)||0)+(parseInt(a(c).css("paddingTop"),10)||0)-this.margins.top,d.left+(e?Math.max(c.scrollWidth,c.offsetWidth):c.offsetWidth)-(parseInt(a(c).css("borderLeftWidth"),10)||0)-(parseInt(a(c).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,d.top+(e?Math.max(c.scrollHeight,c.offsetHeight):c.offsetHeight)-(parseInt(a(c).css("borderTopWidth"),10)||0)-(parseInt(a(c).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(b,c){c||(c=this.position);var d="absolute"==b?1:-1,e=(this.options,"absolute"!=this.cssPosition||this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent),f=/(html|body)/i.test(e[0].tagName);return{top:c.top+this.offset.relative.top*d+this.offset.parent.top*d-(a.browser.safari&&"fixed"==this.cssPosition?0:("fixed"==this.cssPosition?-this.scrollParent.scrollTop():f?0:e.scrollTop())*d),left:c.left+this.offset.relative.left*d+this.offset.parent.left*d-(a.browser.safari&&"fixed"==this.cssPosition?0:("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():f?0:e.scrollLeft())*d)}},_generatePosition:function(b){var c=this.options,d="absolute"!=this.cssPosition||this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,e=/(html|body)/i.test(d[0].tagName);"relative"!=this.cssPosition||this.scrollParent[0]!=document&&this.scrollParent[0]!=this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset());var f=b.pageX,g=b.pageY;if(this.originalPosition&&(this.containment&&(b.pageX-this.offset.click.left<this.containment[0]&&(f=this.containment[0]+this.offset.click.left),b.pageY-this.offset.click.top<this.containment[1]&&(g=this.containment[1]+this.offset.click.top),b.pageX-this.offset.click.left>this.containment[2]&&(f=this.containment[2]+this.offset.click.left),b.pageY-this.offset.click.top>this.containment[3]&&(g=this.containment[3]+this.offset.click.top)),c.grid)){var h=this.originalPageY+Math.round((g-this.originalPageY)/c.grid[1])*c.grid[1];g=this.containment&&(h-this.offset.click.top<this.containment[1]||h-this.offset.click.top>this.containment[3])?h-this.offset.click.top<this.containment[1]?h+c.grid[1]:h-c.grid[1]:h;var i=this.originalPageX+Math.round((f-this.originalPageX)/c.grid[0])*c.grid[0];f=this.containment&&(i-this.offset.click.left<this.containment[0]||i-this.offset.click.left>this.containment[2])?i-this.offset.click.left<this.containment[0]?i+c.grid[0]:i-c.grid[0]:i}return{top:g-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(a.browser.safari&&"fixed"==this.cssPosition?0:"fixed"==this.cssPosition?-this.scrollParent.scrollTop():e?0:d.scrollTop()),left:f-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(a.browser.safari&&"fixed"==this.cssPosition?0:"fixed"==this.cssPosition?-this.scrollParent.scrollLeft():e?0:d.scrollLeft())}},_rearrange:function(a,b,c,d){c?c[0].appendChild(this.placeholder[0]):b.item[0].parentNode.insertBefore(this.placeholder[0],"down"==this.direction?b.item[0]:b.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var e=this,f=this.counter;window.setTimeout(function(){f==e.counter&&e.refreshPositions(!d)},0)},_clear:function(b,c){this.reverting=!1;var d=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]==this.currentItem[0]){for(var e in this._storedCSS)("auto"==this._storedCSS[e]||"static"==this._storedCSS[e])&&(this._storedCSS[e]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();if(this.fromOutside&&!c&&d.push(function(a){this._trigger("receive",a,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev==this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent==this.currentItem.parent()[0]||c||d.push(function(a){this._trigger("update",a,this._uiHash())}),!a.ui.contains(this.element[0],this.currentItem[0])){c||d.push(function(a){this._trigger("remove",a,this._uiHash())});for(var e=this.containers.length-1;e>=0;e--)a.ui.contains(this.containers[e].element[0],this.currentItem[0])&&!c&&(d.push(function(a){return function(b){a._trigger("receive",b,this._uiHash(this))}}.call(this,this.containers[e])),d.push(function(a){return function(b){a._trigger("update",b,this._uiHash(this))}}.call(this,this.containers[e])))}for(var e=this.containers.length-1;e>=0;e--)c||d.push(function(a){return function(b){a._trigger("deactivate",b,this._uiHash(this))}}.call(this,this.containers[e])),this.containers[e].containerCache.over&&(d.push(function(a){return function(b){a._trigger("out",b,this._uiHash(this))}}.call(this,this.containers[e])),this.containers[e].containerCache.over=0);if(this._storedCursor&&a("body").css("cursor",this._storedCursor),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"==this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!c){this._trigger("beforeStop",b,this._uiHash());for(var e=0;e<d.length;e++)d[e].call(this,b);this._trigger("stop",b,this._uiHash())}return this.fromOutside=!1,!1}if(c||this._trigger("beforeStop",b,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!=this.currentItem[0]&&this.helper.remove(),this.helper=null,!c){for(var e=0;e<d.length;e++)d[e].call(this,b);this._trigger("stop",b,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){a.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(b){var c=b||this;return{helper:c.helper,placeholder:c.placeholder||a([]),position:c.position,originalPosition:c.originalPosition,offset:c.positionAbs,item:c.currentItem,sender:b?b.element:null}}}),a.extend(a.ui.sortable,{version:"1.8.23"})}(jQuery),jQuery.effects||function(a,b){function c(b){var c;return b&&b.constructor==Array&&3==b.length?b:(c=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(b))?[parseInt(c[1],10),parseInt(c[2],10),parseInt(c[3],10)]:(c=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(b))?[2.55*parseFloat(c[1]),2.55*parseFloat(c[2]),2.55*parseFloat(c[3])]:(c=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(b))?[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16)]:(c=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(b))?[parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16)]:(c=/rgba\(0, 0, 0, 0\)/.exec(b))?j.transparent:j[a.trim(b).toLowerCase()];
}function d(b,d){var e;do{if(e=(a.curCSS||a.css)(b,d),""!=e&&"transparent"!=e||a.nodeName(b,"body"))break;d="backgroundColor"}while(b=b.parentNode);return c(e)}function e(){var a,b,c=document.defaultView?document.defaultView.getComputedStyle(this,null):this.currentStyle,d={};if(c&&c.length&&c[0]&&c[c[0]])for(var e=c.length;e--;)a=c[e],"string"==typeof c[a]&&(b=a.replace(/\-(\w)/g,function(a,b){return b.toUpperCase()}),d[b]=c[a]);else for(a in c)"string"==typeof c[a]&&(d[a]=c[a]);return d}function f(b){var c,d;for(c in b)d=b[c],(null==d||a.isFunction(d)||c in l||/scrollbar/.test(c)||!/color/i.test(c)&&isNaN(parseFloat(d)))&&delete b[c];return b}function g(a,b){var c,d={_:0};for(c in b)a[c]!=b[c]&&(d[c]=b[c]);return d}function h(b,c,d,e){return"object"==typeof b&&(e=c,d=null,c=b,b=c.effect),a.isFunction(c)&&(e=c,d=null,c={}),("number"==typeof c||a.fx.speeds[c])&&(e=d,d=c,c={}),a.isFunction(d)&&(e=d,d=null),c=c||{},d=d||c.duration,d=a.fx.off?0:"number"==typeof d?d:d in a.fx.speeds?a.fx.speeds[d]:a.fx.speeds._default,e=e||c.complete,[b,c,d,e]}function i(b){return!b||"number"==typeof b||a.fx.speeds[b]?!0:"string"!=typeof b||a.effects[b]?!1:!0}a.effects={},a.each(["backgroundColor","borderBottomColor","borderLeftColor","borderRightColor","borderTopColor","borderColor","color","outlineColor"],function(b,e){a.fx.step[e]=function(a){a.colorInit||(a.start=d(a.elem,e),a.end=c(a.end),a.colorInit=!0),a.elem.style[e]="rgb("+Math.max(Math.min(parseInt(a.pos*(a.end[0]-a.start[0])+a.start[0],10),255),0)+","+Math.max(Math.min(parseInt(a.pos*(a.end[1]-a.start[1])+a.start[1],10),255),0)+","+Math.max(Math.min(parseInt(a.pos*(a.end[2]-a.start[2])+a.start[2],10),255),0)+")"}});var j={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0],transparent:[255,255,255]},k=["add","remove","toggle"],l={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};a.effects.animateClass=function(b,c,d,h){return a.isFunction(d)&&(h=d,d=null),this.queue(function(){var i,j=a(this),l=j.attr("style")||" ",m=f(e.call(this)),n=j.attr("class")||"";a.each(k,function(a,c){b[c]&&j[c+"Class"](b[c])}),i=f(e.call(this)),j.attr("class",n),j.animate(g(m,i),{queue:!1,duration:c,easing:d,complete:function(){a.each(k,function(a,c){b[c]&&j[c+"Class"](b[c])}),"object"==typeof j.attr("style")?(j.attr("style").cssText="",j.attr("style").cssText=l):j.attr("style",l),h&&h.apply(this,arguments),a.dequeue(this)}})})},a.fn.extend({_addClass:a.fn.addClass,addClass:function(b,c,d,e){return c?a.effects.animateClass.apply(this,[{add:b},c,d,e]):this._addClass(b)},_removeClass:a.fn.removeClass,removeClass:function(b,c,d,e){return c?a.effects.animateClass.apply(this,[{remove:b},c,d,e]):this._removeClass(b)},_toggleClass:a.fn.toggleClass,toggleClass:function(c,d,e,f,g){return"boolean"==typeof d||d===b?e?a.effects.animateClass.apply(this,[d?{add:c}:{remove:c},e,f,g]):this._toggleClass(c,d):a.effects.animateClass.apply(this,[{toggle:c},d,e,f])},switchClass:function(b,c,d,e,f){return a.effects.animateClass.apply(this,[{add:c,remove:b},d,e,f])}}),a.extend(a.effects,{version:"1.8.23",save:function(a,b){for(var c=0;c<b.length;c++)null!==b[c]&&a.data("ec.storage."+b[c],a[0].style[b[c]])},restore:function(a,b){for(var c=0;c<b.length;c++)null!==b[c]&&a.css(b[c],a.data("ec.storage."+b[c]))},setMode:function(a,b){return"toggle"==b&&(b=a.is(":hidden")?"show":"hide"),b},getBaseline:function(a,b){var c,d;switch(a[0]){case"top":c=0;break;case"middle":c=.5;break;case"bottom":c=1;break;default:c=a[0]/b.height}switch(a[1]){case"left":d=0;break;case"center":d=.5;break;case"right":d=1;break;default:d=a[1]/b.width}return{x:d,y:c}},createWrapper:function(b){if(b.parent().is(".ui-effects-wrapper"))return b.parent();var c={width:b.outerWidth(!0),height:b.outerHeight(!0),"float":b.css("float")},d=a("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),e=document.activeElement;try{e.id}catch(f){e=document.body}return b.wrap(d),(b[0]===e||a.contains(b[0],e))&&a(e).focus(),d=b.parent(),"static"==b.css("position")?(d.css({position:"relative"}),b.css({position:"relative"})):(a.extend(c,{position:b.css("position"),zIndex:b.css("z-index")}),a.each(["top","left","bottom","right"],function(a,d){c[d]=b.css(d),isNaN(parseInt(c[d],10))&&(c[d]="auto")}),b.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),d.css(c).show()},removeWrapper:function(b){var c,d=document.activeElement;return b.parent().is(".ui-effects-wrapper")?(c=b.parent().replaceWith(b),(b[0]===d||a.contains(b[0],d))&&a(d).focus(),c):b},setTransition:function(b,c,d,e){return e=e||{},a.each(c,function(a,c){var f=b.cssUnit(c);f[0]>0&&(e[c]=f[0]*d+f[1])}),e}}),a.fn.extend({effect:function(b,c,d,e){var f=h.apply(this,arguments),g={options:f[1],duration:f[2],callback:f[3]},i=g.options.mode,j=a.effects[b];return a.fx.off||!j?i?this[i](g.duration,g.callback):this.each(function(){g.callback&&g.callback.call(this)}):j.call(this,g)},_show:a.fn.show,show:function(a){if(i(a))return this._show.apply(this,arguments);var b=h.apply(this,arguments);return b[1].mode="show",this.effect.apply(this,b)},_hide:a.fn.hide,hide:function(a){if(i(a))return this._hide.apply(this,arguments);var b=h.apply(this,arguments);return b[1].mode="hide",this.effect.apply(this,b)},__toggle:a.fn.toggle,toggle:function(b){if(i(b)||"boolean"==typeof b||a.isFunction(b))return this.__toggle.apply(this,arguments);var c=h.apply(this,arguments);return c[1].mode="toggle",this.effect.apply(this,c)},cssUnit:function(b){var c=this.css(b),d=[];return a.each(["em","px","%","pt"],function(a,b){c.indexOf(b)>0&&(d=[parseFloat(c),b])}),d}});var m={};a.each(["Quad","Cubic","Quart","Quint","Expo"],function(a,b){m[b]=function(b){return Math.pow(b,a+2)}}),a.extend(m,{Sine:function(a){return 1-Math.cos(a*Math.PI/2)},Circ:function(a){return 1-Math.sqrt(1-a*a)},Elastic:function(a){return 0===a||1===a?a:-Math.pow(2,8*(a-1))*Math.sin((80*(a-1)-7.5)*Math.PI/15)},Back:function(a){return a*a*(3*a-2)},Bounce:function(a){for(var b,c=4;a<((b=Math.pow(2,--c))-1)/11;);return 1/Math.pow(4,3-c)-7.5625*Math.pow((3*b-2)/22-a,2)}}),a.each(m,function(b,c){a.easing["easeIn"+b]=c,a.easing["easeOut"+b]=function(a){return 1-c(1-a)},a.easing["easeInOut"+b]=function(a){return.5>a?c(2*a)/2:c(-2*a+2)/-2+1}})}(jQuery),function(a,b){a.effects.blind=function(b){return this.queue(function(){var c=a(this),d=["position","top","bottom","left","right"],e=a.effects.setMode(c,b.options.mode||"hide"),f=b.options.direction||"vertical";a.effects.save(c,d),c.show();var g=a.effects.createWrapper(c).css({overflow:"hidden"}),h="vertical"==f?"height":"width",i="vertical"==f?g.height():g.width();"show"==e&&g.css(h,0);var j={};j[h]="show"==e?i:0,g.animate(j,b.duration,b.options.easing,function(){"hide"==e&&c.hide(),a.effects.restore(c,d),a.effects.removeWrapper(c),b.callback&&b.callback.apply(c[0],arguments),c.dequeue()})})}}(jQuery),function(a,b){a.effects.bounce=function(b){return this.queue(function(){var c=a(this),d=["position","top","bottom","left","right"],e=a.effects.setMode(c,b.options.mode||"effect"),f=b.options.direction||"up",g=b.options.distance||20,h=b.options.times||5,i=b.duration||250;/show|hide/.test(e)&&d.push("opacity"),a.effects.save(c,d),c.show(),a.effects.createWrapper(c);var j="up"==f||"down"==f?"top":"left",k="up"==f||"left"==f?"pos":"neg",g=b.options.distance||("top"==j?c.outerHeight(!0)/3:c.outerWidth(!0)/3);if("show"==e&&c.css("opacity",0).css(j,"pos"==k?-g:g),"hide"==e&&(g/=2*h),"hide"!=e&&h--,"show"==e){var l={opacity:1};l[j]=("pos"==k?"+=":"-=")+g,c.animate(l,i/2,b.options.easing),g/=2,h--}for(var m=0;h>m;m++){var n={},o={};n[j]=("pos"==k?"-=":"+=")+g,o[j]=("pos"==k?"+=":"-=")+g,c.animate(n,i/2,b.options.easing).animate(o,i/2,b.options.easing),g="hide"==e?2*g:g/2}if("hide"==e){var l={opacity:0};l[j]=("pos"==k?"-=":"+=")+g,c.animate(l,i/2,b.options.easing,function(){c.hide(),a.effects.restore(c,d),a.effects.removeWrapper(c),b.callback&&b.callback.apply(this,arguments)})}else{var n={},o={};n[j]=("pos"==k?"-=":"+=")+g,o[j]=("pos"==k?"+=":"-=")+g,c.animate(n,i/2,b.options.easing).animate(o,i/2,b.options.easing,function(){a.effects.restore(c,d),a.effects.removeWrapper(c),b.callback&&b.callback.apply(this,arguments)})}c.queue("fx",function(){c.dequeue()}),c.dequeue()})}}(jQuery),function(a,b){a.effects.clip=function(b){return this.queue(function(){var c=a(this),d=["position","top","bottom","left","right","height","width"],e=a.effects.setMode(c,b.options.mode||"hide"),f=b.options.direction||"vertical";a.effects.save(c,d),c.show();var g=a.effects.createWrapper(c).css({overflow:"hidden"}),h="IMG"==c[0].tagName?g:c,i={size:"vertical"==f?"height":"width",position:"vertical"==f?"top":"left"},j="vertical"==f?h.height():h.width();"show"==e&&(h.css(i.size,0),h.css(i.position,j/2));var k={};k[i.size]="show"==e?j:0,k[i.position]="show"==e?0:j/2,h.animate(k,{queue:!1,duration:b.duration,easing:b.options.easing,complete:function(){"hide"==e&&c.hide(),a.effects.restore(c,d),a.effects.removeWrapper(c),b.callback&&b.callback.apply(c[0],arguments),c.dequeue()}})})}}(jQuery),function(a,b){a.effects.drop=function(b){return this.queue(function(){var c=a(this),d=["position","top","bottom","left","right","opacity"],e=a.effects.setMode(c,b.options.mode||"hide"),f=b.options.direction||"left";a.effects.save(c,d),c.show(),a.effects.createWrapper(c);var g="up"==f||"down"==f?"top":"left",h="up"==f||"left"==f?"pos":"neg",i=b.options.distance||("top"==g?c.outerHeight(!0)/2:c.outerWidth(!0)/2);"show"==e&&c.css("opacity",0).css(g,"pos"==h?-i:i);var j={opacity:"show"==e?1:0};j[g]=("show"==e?"pos"==h?"+=":"-=":"pos"==h?"-=":"+=")+i,c.animate(j,{queue:!1,duration:b.duration,easing:b.options.easing,complete:function(){"hide"==e&&c.hide(),a.effects.restore(c,d),a.effects.removeWrapper(c),b.callback&&b.callback.apply(this,arguments),c.dequeue()}})})}}(jQuery),function(a,b){a.effects.explode=function(b){return this.queue(function(){var c=b.options.pieces?Math.round(Math.sqrt(b.options.pieces)):3,d=b.options.pieces?Math.round(Math.sqrt(b.options.pieces)):3;b.options.mode="toggle"==b.options.mode?a(this).is(":visible")?"hide":"show":b.options.mode;var e=a(this).show().css("visibility","hidden"),f=e.offset();f.top-=parseInt(e.css("marginTop"),10)||0,f.left-=parseInt(e.css("marginLeft"),10)||0;for(var g=e.outerWidth(!0),h=e.outerHeight(!0),i=0;c>i;i++)for(var j=0;d>j;j++)e.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-j*(g/d),top:-i*(h/c)}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:g/d,height:h/c,left:f.left+j*(g/d)+("show"==b.options.mode?(j-Math.floor(d/2))*(g/d):0),top:f.top+i*(h/c)+("show"==b.options.mode?(i-Math.floor(c/2))*(h/c):0),opacity:"show"==b.options.mode?0:1}).animate({left:f.left+j*(g/d)+("show"==b.options.mode?0:(j-Math.floor(d/2))*(g/d)),top:f.top+i*(h/c)+("show"==b.options.mode?0:(i-Math.floor(c/2))*(h/c)),opacity:"show"==b.options.mode?1:0},b.duration||500);setTimeout(function(){"show"==b.options.mode?e.css({visibility:"visible"}):e.css({visibility:"visible"}).hide(),b.callback&&b.callback.apply(e[0]),e.dequeue(),a("div.ui-effects-explode").remove()},b.duration||500)})}}(jQuery),function(a,b){a.effects.fade=function(b){return this.queue(function(){var c=a(this),d=a.effects.setMode(c,b.options.mode||"hide");c.animate({opacity:d},{queue:!1,duration:b.duration,easing:b.options.easing,complete:function(){b.callback&&b.callback.apply(this,arguments),c.dequeue()}})})}}(jQuery),function(a,b){a.effects.fold=function(b){return this.queue(function(){var c=a(this),d=["position","top","bottom","left","right"],e=a.effects.setMode(c,b.options.mode||"hide"),f=b.options.size||15,g=!!b.options.horizFirst,h=b.duration?b.duration/2:a.fx.speeds._default/2;a.effects.save(c,d),c.show();var i=a.effects.createWrapper(c).css({overflow:"hidden"}),j="show"==e!=g,k=j?["width","height"]:["height","width"],l=j?[i.width(),i.height()]:[i.height(),i.width()],m=/([0-9]+)%/.exec(f);m&&(f=parseInt(m[1],10)/100*l["hide"==e?0:1]),"show"==e&&i.css(g?{height:0,width:f}:{height:f,width:0});var n={},o={};n[k[0]]="show"==e?l[0]:f,o[k[1]]="show"==e?l[1]:0,i.animate(n,h,b.options.easing).animate(o,h,b.options.easing,function(){"hide"==e&&c.hide(),a.effects.restore(c,d),a.effects.removeWrapper(c),b.callback&&b.callback.apply(c[0],arguments),c.dequeue()})})}}(jQuery),function(a,b){a.effects.highlight=function(b){return this.queue(function(){var c=a(this),d=["backgroundImage","backgroundColor","opacity"],e=a.effects.setMode(c,b.options.mode||"show"),f={backgroundColor:c.css("backgroundColor")};"hide"==e&&(f.opacity=0),a.effects.save(c,d),c.show().css({backgroundImage:"none",backgroundColor:b.options.color||"#ffff99"}).animate(f,{queue:!1,duration:b.duration,easing:b.options.easing,complete:function(){"hide"==e&&c.hide(),a.effects.restore(c,d),"show"==e&&!a.support.opacity&&this.style.removeAttribute("filter"),b.callback&&b.callback.apply(this,arguments),c.dequeue()}})})}}(jQuery),function(a,b){a.effects.pulsate=function(b){return this.queue(function(){var c=a(this),d=a.effects.setMode(c,b.options.mode||"show"),e=2*(b.options.times||5)-1,f=b.duration?b.duration/2:a.fx.speeds._default/2,g=c.is(":visible"),h=0;g||(c.css("opacity",0).show(),h=1),("hide"==d&&g||"show"==d&&!g)&&e--;for(var i=0;e>i;i++)c.animate({opacity:h},f,b.options.easing),h=(h+1)%2;c.animate({opacity:h},f,b.options.easing,function(){0==h&&c.hide(),b.callback&&b.callback.apply(this,arguments)}),c.queue("fx",function(){c.dequeue()}).dequeue()})}}(jQuery),function(a,b){a.effects.puff=function(b){return this.queue(function(){var c=a(this),d=a.effects.setMode(c,b.options.mode||"hide"),e=parseInt(b.options.percent,10)||150,f=e/100,g={height:c.height(),width:c.width()};a.extend(b.options,{fade:!0,mode:d,percent:"hide"==d?e:100,from:"hide"==d?g:{height:g.height*f,width:g.width*f}}),c.effect("scale",b.options,b.duration,b.callback),c.dequeue()})},a.effects.scale=function(b){return this.queue(function(){var c=a(this),d=a.extend(!0,{},b.options),e=a.effects.setMode(c,b.options.mode||"effect"),f=parseInt(b.options.percent,10)||(0==parseInt(b.options.percent,10)?0:"hide"==e?0:100),g=b.options.direction||"both",h=b.options.origin;"effect"!=e&&(d.origin=h||["middle","center"],d.restore=!0);var i={height:c.height(),width:c.width()};c.from=b.options.from||("show"==e?{height:0,width:0}:i);var j={y:"horizontal"!=g?f/100:1,x:"vertical"!=g?f/100:1};c.to={height:i.height*j.y,width:i.width*j.x},b.options.fade&&("show"==e&&(c.from.opacity=0,c.to.opacity=1),"hide"==e&&(c.from.opacity=1,c.to.opacity=0)),d.from=c.from,d.to=c.to,d.mode=e,c.effect("size",d,b.duration,b.callback),c.dequeue()})},a.effects.size=function(b){return this.queue(function(){var c=a(this),d=["position","top","bottom","left","right","width","height","overflow","opacity"],e=["position","top","bottom","left","right","overflow","opacity"],f=["width","height","overflow"],g=["fontSize"],h=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],i=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],j=a.effects.setMode(c,b.options.mode||"effect"),k=b.options.restore||!1,l=b.options.scale||"both",m=b.options.origin,n={height:c.height(),width:c.width()};if(c.from=b.options.from||n,c.to=b.options.to||n,m){var o=a.effects.getBaseline(m,n);c.from.top=(n.height-c.from.height)*o.y,c.from.left=(n.width-c.from.width)*o.x,c.to.top=(n.height-c.to.height)*o.y,c.to.left=(n.width-c.to.width)*o.x}var p={from:{y:c.from.height/n.height,x:c.from.width/n.width},to:{y:c.to.height/n.height,x:c.to.width/n.width}};("box"==l||"both"==l)&&(p.from.y!=p.to.y&&(d=d.concat(h),c.from=a.effects.setTransition(c,h,p.from.y,c.from),c.to=a.effects.setTransition(c,h,p.to.y,c.to)),p.from.x!=p.to.x&&(d=d.concat(i),c.from=a.effects.setTransition(c,i,p.from.x,c.from),c.to=a.effects.setTransition(c,i,p.to.x,c.to))),("content"==l||"both"==l)&&p.from.y!=p.to.y&&(d=d.concat(g),c.from=a.effects.setTransition(c,g,p.from.y,c.from),c.to=a.effects.setTransition(c,g,p.to.y,c.to)),a.effects.save(c,k?d:e),c.show(),a.effects.createWrapper(c),c.css("overflow","hidden").css(c.from),("content"==l||"both"==l)&&(h=h.concat(["marginTop","marginBottom"]).concat(g),i=i.concat(["marginLeft","marginRight"]),f=d.concat(h).concat(i),c.find("*[width]").each(function(){var c=a(this);k&&a.effects.save(c,f);var d={height:c.height(),width:c.width()};c.from={height:d.height*p.from.y,width:d.width*p.from.x},c.to={height:d.height*p.to.y,width:d.width*p.to.x},p.from.y!=p.to.y&&(c.from=a.effects.setTransition(c,h,p.from.y,c.from),c.to=a.effects.setTransition(c,h,p.to.y,c.to)),p.from.x!=p.to.x&&(c.from=a.effects.setTransition(c,i,p.from.x,c.from),c.to=a.effects.setTransition(c,i,p.to.x,c.to)),c.css(c.from),c.animate(c.to,b.duration,b.options.easing,function(){k&&a.effects.restore(c,f)})})),c.animate(c.to,{queue:!1,duration:b.duration,easing:b.options.easing,complete:function(){0===c.to.opacity&&c.css("opacity",c.from.opacity),"hide"==j&&c.hide(),a.effects.restore(c,k?d:e),a.effects.removeWrapper(c),b.callback&&b.callback.apply(this,arguments),c.dequeue()}})})}}(jQuery),function(a,b){a.effects.shake=function(b){return this.queue(function(){var c=a(this),d=["position","top","bottom","left","right"],e=(a.effects.setMode(c,b.options.mode||"effect"),b.options.direction||"left"),f=b.options.distance||20,g=b.options.times||3,h=b.duration||b.options.duration||140;a.effects.save(c,d),c.show(),a.effects.createWrapper(c);var i="up"==e||"down"==e?"top":"left",j="up"==e||"left"==e?"pos":"neg",k={},l={},m={};k[i]=("pos"==j?"-=":"+=")+f,l[i]=("pos"==j?"+=":"-=")+2*f,m[i]=("pos"==j?"-=":"+=")+2*f,c.animate(k,h,b.options.easing);for(var n=1;g>n;n++)c.animate(l,h,b.options.easing).animate(m,h,b.options.easing);c.animate(l,h,b.options.easing).animate(k,h/2,b.options.easing,function(){a.effects.restore(c,d),a.effects.removeWrapper(c),b.callback&&b.callback.apply(this,arguments)}),c.queue("fx",function(){c.dequeue()}),c.dequeue()})}}(jQuery),function(a,b){a.effects.slide=function(b){return this.queue(function(){var c=a(this),d=["position","top","bottom","left","right"],e=a.effects.setMode(c,b.options.mode||"show"),f=b.options.direction||"left";a.effects.save(c,d),c.show(),a.effects.createWrapper(c).css({overflow:"hidden"});var g="up"==f||"down"==f?"top":"left",h="up"==f||"left"==f?"pos":"neg",i=b.options.distance||("top"==g?c.outerHeight(!0):c.outerWidth(!0));"show"==e&&c.css(g,"pos"==h?isNaN(i)?"-"+i:-i:i);var j={};j[g]=("show"==e?"pos"==h?"+=":"-=":"pos"==h?"-=":"+=")+i,c.animate(j,{queue:!1,duration:b.duration,easing:b.options.easing,complete:function(){"hide"==e&&c.hide(),a.effects.restore(c,d),a.effects.removeWrapper(c),b.callback&&b.callback.apply(this,arguments),c.dequeue()}})})}}(jQuery),function(a,b){a.effects.transfer=function(b){return this.queue(function(){var c=a(this),d=a(b.options.to),e=d.offset(),f={top:e.top,left:e.left,height:d.innerHeight(),width:d.innerWidth()},g=c.offset(),h=a('<div class="ui-effects-transfer"></div>').appendTo(document.body).addClass(b.options.className).css({top:g.top,left:g.left,height:c.innerHeight(),width:c.innerWidth(),position:"absolute"}).animate(f,b.duration,b.options.easing,function(){h.remove(),b.callback&&b.callback.apply(c[0],arguments),c.dequeue()})})}}(jQuery),function(a,b){a.widget("ui.accordion",{options:{active:0,animated:"slide",autoHeight:!0,clearStyle:!1,collapsible:!1,event:"click",fillSpace:!1,header:"> li > :first-child,> :not(li):even",icons:{header:"ui-icon-triangle-1-e",headerSelected:"ui-icon-triangle-1-s"},navigation:!1,navigationFilter:function(){return this.href.toLowerCase()===location.href.toLowerCase()}},_create:function(){var b=this,c=b.options;if(b.running=0,b.element.addClass("ui-accordion ui-widget ui-helper-reset").children("li").addClass("ui-accordion-li-fix"),b.headers=b.element.find(c.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all").bind("mouseenter.accordion",function(){c.disabled||a(this).addClass("ui-state-hover")}).bind("mouseleave.accordion",function(){c.disabled||a(this).removeClass("ui-state-hover")}).bind("focus.accordion",function(){c.disabled||a(this).addClass("ui-state-focus")}).bind("blur.accordion",function(){c.disabled||a(this).removeClass("ui-state-focus")}),b.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom"),c.navigation){var d=b.element.find("a").filter(c.navigationFilter).eq(0);if(d.length){var e=d.closest(".ui-accordion-header");e.length?b.active=e:b.active=d.closest(".ui-accordion-content").prev()}}b.active=b._findActive(b.active||c.active).addClass("ui-state-default ui-state-active").toggleClass("ui-corner-all").toggleClass("ui-corner-top"),b.active.next().addClass("ui-accordion-content-active"),b._createIcons(),b.resize(),b.element.attr("role","tablist"),b.headers.attr("role","tab").bind("keydown.accordion",function(a){return b._keydown(a)}).next().attr("role","tabpanel"),b.headers.not(b.active||"").attr({"aria-expanded":"false","aria-selected":"false",tabIndex:-1}).next().hide(),b.active.length?b.active.attr({"aria-expanded":"true","aria-selected":"true",tabIndex:0}):b.headers.eq(0).attr("tabIndex",0),a.browser.safari||b.headers.find("a").attr("tabIndex",-1),c.event&&b.headers.bind(c.event.split(" ").join(".accordion ")+".accordion",function(a){b._clickHandler.call(b,a,this),a.preventDefault()})},_createIcons:function(){var b=this.options;b.icons&&(a("<span></span>").addClass("ui-icon "+b.icons.header).prependTo(this.headers),this.active.children(".ui-icon").toggleClass(b.icons.header).toggleClass(b.icons.headerSelected),this.element.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.children(".ui-icon").remove(),this.element.removeClass("ui-accordion-icons")},destroy:function(){var b=this.options;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.unbind(".accordion").removeClass("ui-accordion-header ui-accordion-disabled ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("tabIndex"),this.headers.find("a").removeAttr("tabIndex"),this._destroyIcons();var c=this.headers.next().css("display","").removeAttr("role").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-accordion-disabled ui-state-disabled");return(b.autoHeight||b.fillHeight)&&c.css("height",""),a.Widget.prototype.destroy.call(this)},_setOption:function(b,c){a.Widget.prototype._setOption.apply(this,arguments),"active"==b&&this.activate(c),"icons"==b&&(this._destroyIcons(),c&&this._createIcons()),"disabled"==b&&this.headers.add(this.headers.next())[c?"addClass":"removeClass"]("ui-accordion-disabled ui-state-disabled")},_keydown:function(b){if(!(this.options.disabled||b.altKey||b.ctrlKey)){var c=a.ui.keyCode,d=this.headers.length,e=this.headers.index(b.target),f=!1;switch(b.keyCode){case c.RIGHT:case c.DOWN:f=this.headers[(e+1)%d];break;case c.LEFT:case c.UP:f=this.headers[(e-1+d)%d];break;case c.SPACE:case c.ENTER:this._clickHandler({target:b.target},b.target),b.preventDefault()}return f?(a(b.target).attr("tabIndex",-1),a(f).attr("tabIndex",0),f.focus(),!1):!0}},resize:function(){var b,c=this.options;if(c.fillSpace){if(a.browser.msie){var d=this.element.parent().css("overflow");this.element.parent().css("overflow","hidden")}b=this.element.parent().height(),a.browser.msie&&this.element.parent().css("overflow",d),this.headers.each(function(){b-=a(this).outerHeight(!0)}),this.headers.next().each(function(){a(this).height(Math.max(0,b-a(this).innerHeight()+a(this).height()))}).css("overflow","auto")}else c.autoHeight&&(b=0,this.headers.next().each(function(){b=Math.max(b,a(this).height("").height())}).height(b));return this},activate:function(a){this.options.active=a;var b=this._findActive(a)[0];return this._clickHandler({target:b},b),this},_findActive:function(b){return b?"number"==typeof b?this.headers.filter(":eq("+b+")"):this.headers.not(this.headers.not(b)):b===!1?a([]):this.headers.filter(":eq(0)")},_clickHandler:function(b,c){var d=this.options;if(!d.disabled){if(!b.target){if(!d.collapsible)return;this.active.removeClass("ui-state-active ui-corner-top").addClass("ui-state-default ui-corner-all").children(".ui-icon").removeClass(d.icons.headerSelected).addClass(d.icons.header),this.active.next().addClass("ui-accordion-content-active");var e=this.active.next(),f={options:d,newHeader:a([]),oldHeader:d.active,newContent:a([]),oldContent:e},g=this.active=a([]);return void this._toggle(g,e,f)}var h=a(b.currentTarget||c),i=h[0]===this.active[0];if(d.active=d.collapsible&&i?!1:this.headers.index(h),!(this.running||!d.collapsible&&i)){var j=this.active,g=h.next(),e=this.active.next(),f={options:d,newHeader:i&&d.collapsible?a([]):h,oldHeader:this.active,newContent:i&&d.collapsible?a([]):g,oldContent:e},k=this.headers.index(this.active[0])>this.headers.index(h[0]);this.active=i?a([]):h,this._toggle(g,e,f,i,k),j.removeClass("ui-state-active ui-corner-top").addClass("ui-state-default ui-corner-all").children(".ui-icon").removeClass(d.icons.headerSelected).addClass(d.icons.header),i||(h.removeClass("ui-state-default ui-corner-all").addClass("ui-state-active ui-corner-top").children(".ui-icon").removeClass(d.icons.header).addClass(d.icons.headerSelected),h.next().addClass("ui-accordion-content-active"))}}},_toggle:function(b,c,d,e,f){var g=this,h=g.options;g.toShow=b,g.toHide=c,g.data=d;var i=function(){return g?g._completed.apply(g,arguments):void 0};if(g._trigger("changestart",null,g.data),g.running=0===c.size()?b.size():c.size(),h.animated){var j={};j=h.collapsible&&e?{toShow:a([]),toHide:c,complete:i,down:f,autoHeight:h.autoHeight||h.fillSpace}:{toShow:b,toHide:c,complete:i,down:f,autoHeight:h.autoHeight||h.fillSpace},h.proxied||(h.proxied=h.animated),h.proxiedDuration||(h.proxiedDuration=h.duration),h.animated=a.isFunction(h.proxied)?h.proxied(j):h.proxied,h.duration=a.isFunction(h.proxiedDuration)?h.proxiedDuration(j):h.proxiedDuration;var k=a.ui.accordion.animations,l=h.duration,m=h.animated;!m||k[m]||a.easing[m]||(m="slide"),k[m]||(k[m]=function(a){this.slide(a,{easing:m,duration:l||700})}),k[m](j)}else h.collapsible&&e?b.toggle():(c.hide(),b.show()),i(!0);c.prev().attr({"aria-expanded":"false","aria-selected":"false",tabIndex:-1}).blur(),b.prev().attr({"aria-expanded":"true","aria-selected":"true",tabIndex:0}).focus()},_completed:function(a){this.running=a?0:--this.running,this.running||(this.options.clearStyle&&this.toShow.add(this.toHide).css({height:"",overflow:""}),this.toHide.removeClass("ui-accordion-content-active"),this.toHide.length&&(this.toHide.parent()[0].className=this.toHide.parent()[0].className),this._trigger("change",null,this.data))}}),a.extend(a.ui.accordion,{version:"1.8.23",animations:{slide:function(b,c){if(b=a.extend({easing:"swing",duration:300},b,c),!b.toHide.size())return void b.toShow.animate({height:"show",paddingTop:"show",paddingBottom:"show"},b);if(!b.toShow.size())return void b.toHide.animate({height:"hide",paddingTop:"hide",paddingBottom:"hide"},b);var d,e=b.toShow.css("overflow"),f=0,g={},h={},i=["height","paddingTop","paddingBottom"],j=b.toShow;d=j[0].style.width,j.width(j.parent().width()-parseFloat(j.css("paddingLeft"))-parseFloat(j.css("paddingRight"))-(parseFloat(j.css("borderLeftWidth"))||0)-(parseFloat(j.css("borderRightWidth"))||0)),a.each(i,function(c,d){h[d]="hide";var e=(""+a.css(b.toShow[0],d)).match(/^([\d+-.]+)(.*)$/);g[d]={value:e[1],unit:e[2]||"px"}}),b.toShow.css({height:0,overflow:"hidden"}).show(),b.toHide.filter(":hidden").each(b.complete).end().filter(":visible").animate(h,{step:function(a,c){"height"==c.prop&&(f=c.end-c.start===0?0:(c.now-c.start)/(c.end-c.start)),b.toShow[0].style[c.prop]=f*g[c.prop].value+g[c.prop].unit},duration:b.duration,easing:b.easing,complete:function(){b.autoHeight||b.toShow.css("height",""),b.toShow.css({width:d,overflow:e}),b.complete()}})},bounceslide:function(a){this.slide(a,{easing:a.down?"easeOutBounce":"swing",duration:a.down?1e3:200})}}})}(jQuery),function(a,b){var c=0;a.widget("ui.autocomplete",{options:{appendTo:"body",autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null},pending:0,_create:function(){var b,c=this,d=this.element[0].ownerDocument;this.isMultiLine=this.element.is("textarea"),this.element.addClass("ui-autocomplete-input").attr("autocomplete","off").attr({role:"textbox","aria-autocomplete":"list","aria-haspopup":"true"}).bind("keydown.autocomplete",function(d){if(!c.options.disabled&&!c.element.propAttr("readOnly")){b=!1;var e=a.ui.keyCode;switch(d.keyCode){case e.PAGE_UP:c._move("previousPage",d);break;case e.PAGE_DOWN:c._move("nextPage",d);break;case e.UP:c._keyEvent("previous",d);break;case e.DOWN:c._keyEvent("next",d);break;case e.ENTER:case e.NUMPAD_ENTER:c.menu.active&&(b=!0,d.preventDefault());case e.TAB:if(!c.menu.active)return;c.menu.select(d);break;case e.ESCAPE:c.element.val(c.term),c.close(d);break;default:clearTimeout(c.searching),c.searching=setTimeout(function(){c.term!=c.element.val()&&(c.selectedItem=null,c.search(null,d))},c.options.delay)}}}).bind("keypress.autocomplete",function(a){b&&(b=!1,a.preventDefault())}).bind("focus.autocomplete",function(){c.options.disabled||(c.selectedItem=null,c.previous=c.element.val())}).bind("blur.autocomplete",function(a){c.options.disabled||(clearTimeout(c.searching),c.closing=setTimeout(function(){c.close(a),c._change(a)},150))}),this._initSource(),this.menu=a("<ul></ul>").addClass("search-block vertical-scrollbar ui-autocomplete").appendTo(a(this.options.appendTo||"body",d)[0]).mousedown(function(b){var d=c.menu.element[0];a(b.target).closest(".ui-menu-item").length||setTimeout(function(){a(document).one("mousedown",function(b){b.target===c.element[0]||b.target===d||a.ui.contains(d,b.target)||c.close()})},1),setTimeout(function(){clearTimeout(c.closing)},13)}).menu({focus:function(a,b){var d=b.item.data("item.autocomplete");!1!==c._trigger("focus",a,{item:d})&&/^key/.test(a.originalEvent.type)&&c.element.val(d.value)},selected:function(a,b){var e=b.item.data("item.autocomplete"),f=c.previous;c.element[0]!==d.activeElement&&(c.element.focus(),c.previous=f,setTimeout(function(){c.previous=f,c.selectedItem=e},1)),!1!==c._trigger("select",a,{item:e})&&c.element.val(e.value),c.term=c.element.val(),c.close(a),c.selectedItem=e},blur:function(a,b){c.menu.element.is(":visible")&&c.element.val()!==c.term&&c.element.val(c.term)}}).zIndex(this.element.zIndex()+1).css({top:0,left:0}).hide().data("menu"),a.fn.bgiframe&&this.menu.element.bgiframe(),c.beforeunloadHandler=function(){c.element.removeAttr("autocomplete")},a(window).bind("beforeunload",c.beforeunloadHandler)},destroy:function(){this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete").removeAttr("role").removeAttr("aria-autocomplete").removeAttr("aria-haspopup"),this.menu.element.remove(),a(window).unbind("beforeunload",this.beforeunloadHandler),
a.Widget.prototype.destroy.call(this)},_setOption:function(b,c){a.Widget.prototype._setOption.apply(this,arguments),"source"===b&&this._initSource(),"appendTo"===b&&this.menu.element.appendTo(a(c||"body",this.element[0].ownerDocument)[0]),"disabled"===b&&c&&this.xhr&&this.xhr.abort()},_initSource:function(){var b,c,d=this;a.isArray(this.options.source)?(b=this.options.source,this.source=function(c,d){d(a.ui.autocomplete.filter(b,c.term))}):"string"==typeof this.options.source?(c=this.options.source,this.source=function(b,e){d.xhr&&d.xhr.abort(),d.xhr=a.ajax({url:c,data:b,dataType:"json",success:function(a,b){e(a)},error:function(){e([])}})}):this.source=this.options.source},search:function(a,b){return a=null!=a?a:this.element.val(),this.term=this.element.val(),a.length<this.options.minLength?this.close(b):(clearTimeout(this.closing),this._trigger("search",b)!==!1?this._search(a):void 0)},_search:function(a){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.source({term:a},this._response())},_response:function(){var a=this,b=++c;return function(d){b===c&&a.__response(d),a.pending--,a.pending||a.element.removeClass("ui-autocomplete-loading")}},__response:function(a){!this.options.disabled&&a&&a.length?(a=this._normalize(a),this._suggest(a),this._trigger("open")):this.close()},close:function(a){clearTimeout(this.closing),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.deactivate(),this._trigger("close",a))},_change:function(a){this.previous!==this.element.val()&&this._trigger("change",a,{item:this.selectedItem})},_normalize:function(b){return b.length&&b[0].label&&b[0].value?b:a.map(b,function(b){return"string"==typeof b?{label:b,value:b}:a.extend({label:b.label||b.value,value:b.value||b.label},b)})},_suggest:function(b){var c=this.menu.element.empty().zIndex(this.element.zIndex()+1);this._renderMenu(c,b),this.menu.deactivate(),this.menu.refresh(),c.show(),this._resizeMenu(),c.position(a.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(new a.Event("mouseover"))},_resizeMenu:function(){var a=this.menu.element;a.outerWidth(Math.max(a.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(b,c){var d=this;a.each(c,function(a,c){d._renderItem(b,c)})},_renderItem:function(b,c){return a("<li></li>").data("item.autocomplete",c).append(a("<a></a>").text(c.label)).appendTo(b)},_move:function(a,b){return this.menu.element.is(":visible")?this.menu.first()&&/^previous/.test(a)||this.menu.last()&&/^next/.test(a)?(this.element.val(this.term),void this.menu.deactivate()):void this.menu[a](b):void this.search(null,b)},widget:function(){return this.menu.element},_keyEvent:function(a,b){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(a,b),b.preventDefault())}}),a.extend(a.ui.autocomplete,{escapeRegex:function(a){return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},filter:function(b,c){var d=new RegExp(a.ui.autocomplete.escapeRegex(c),"i");return a.grep(b,function(a){return d.test(a.label||a.value||a)})}})}(jQuery),function(a){a.widget("ui.menu",{_create:function(){var b=this;this.element.addClass("ui-menu ui-widget ui-widget-content ui-corner-all").attr({role:"listbox","aria-activedescendant":"ui-active-menuitem"}).click(function(c){a(c.target).closest(".ui-menu-item a").length&&(c.preventDefault(),b.select(c))}),this.refresh()},refresh:function(){var b=this,c=this.element.children("li:not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","menuitem");c.children("a").addClass("ui-corner-all").attr("tabindex",-1).mouseenter(function(c){b.activate(c,a(this).parent())}).mouseleave(function(){b.deactivate()})},activate:function(a,b){if(this.deactivate(),this.hasScroll()){var c=b.offset().top-this.element.offset().top,d=this.element.scrollTop(),e=this.element.height();0>c?this.element.scrollTop(d+c):c>=e&&this.element.scrollTop(d+c-e+b.height())}this.active=b.eq(0).children("a").addClass("ui-state-hover").attr("id","ui-active-menuitem").end(),this._trigger("focus",a,{item:b})},deactivate:function(){this.active&&(this.active.children("a").removeClass("ui-state-hover").removeAttr("id"),this._trigger("blur"),this.active=null)},next:function(a){this.move("next",".ui-menu-item:first",a)},previous:function(a){this.move("prev",".ui-menu-item:last",a)},first:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},last:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},move:function(a,b,c){if(!this.active)return void this.activate(c,this.element.children(b));var d=this.active[a+"All"](".ui-menu-item").eq(0);d.length?this.activate(c,d):this.activate(c,this.element.children(b))},nextPage:function(b){if(this.hasScroll()){if(!this.active||this.last())return void this.activate(b,this.element.children(".ui-menu-item:first"));var c=this.active.offset().top,d=this.element.height(),e=this.element.children(".ui-menu-item").filter(function(){var b=a(this).offset().top-c-d+a(this).height();return 10>b&&b>-10});e.length||(e=this.element.children(".ui-menu-item:last")),this.activate(b,e)}else this.activate(b,this.element.children(".ui-menu-item").filter(!this.active||this.last()?":first":":last"))},previousPage:function(b){if(this.hasScroll()){if(!this.active||this.first())return void this.activate(b,this.element.children(".ui-menu-item:last"));var c=this.active.offset().top,d=this.element.height(),e=this.element.children(".ui-menu-item").filter(function(){var b=a(this).offset().top-c+d-a(this).height();return 10>b&&b>-10});e.length||(e=this.element.children(".ui-menu-item:first")),this.activate(b,e)}else this.activate(b,this.element.children(".ui-menu-item").filter(!this.active||this.first()?":last":":first"))},hasScroll:function(){return this.element.height()<this.element[a.fn.prop?"prop":"attr"]("scrollHeight")},select:function(a){this._trigger("selected",a,{item:this.active})}})}(jQuery),function(a,b){var c,d,e,f,g="ui-button ui-widget ui-state-default ui-corner-all",h="ui-state-hover ui-state-active ",i="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",j=function(){var b=a(this).find(":ui-button");setTimeout(function(){b.button("refresh")},1)},k=function(b){var c=b.name,d=b.form,e=a([]);return c&&(e=d?a(d).find("[name='"+c+"']"):a("[name='"+c+"']",b.ownerDocument).filter(function(){return!this.form})),e};a.widget("ui.button",{options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset.button").bind("reset.button",j),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.propAttr("disabled"):this.element.propAttr("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var b=this,h=this.options,i="checkbox"===this.type||"radio"===this.type,l="ui-state-hover"+(i?"":" ui-state-active"),m="ui-state-focus";null===h.label&&(h.label=this.buttonElement.html()),this.buttonElement.addClass(g).attr("role","button").bind("mouseenter.button",function(){h.disabled||(a(this).addClass("ui-state-hover"),this===c&&a(this).addClass("ui-state-active"))}).bind("mouseleave.button",function(){h.disabled||a(this).removeClass(l)}).bind("click.button",function(a){h.disabled&&(a.preventDefault(),a.stopImmediatePropagation())}),this.element.bind("focus.button",function(){b.buttonElement.addClass(m)}).bind("blur.button",function(){b.buttonElement.removeClass(m)}),i&&(this.element.bind("change.button",function(){f||b.refresh()}),this.buttonElement.bind("mousedown.button",function(a){h.disabled||(f=!1,d=a.pageX,e=a.pageY)}).bind("mouseup.button",function(a){h.disabled||(d!==a.pageX||e!==a.pageY)&&(f=!0)})),"checkbox"===this.type?this.buttonElement.bind("click.button",function(){return h.disabled||f?!1:(a(this).toggleClass("ui-state-active"),void b.buttonElement.attr("aria-pressed",b.element[0].checked))}):"radio"===this.type?this.buttonElement.bind("click.button",function(){if(h.disabled||f)return!1;a(this).addClass("ui-state-active"),b.buttonElement.attr("aria-pressed","true");var c=b.element[0];k(c).not(c).map(function(){return a(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown.button",function(){return h.disabled?!1:(a(this).addClass("ui-state-active"),c=this,void a(document).one("mouseup",function(){c=null}))}).bind("mouseup.button",function(){return h.disabled?!1:void a(this).removeClass("ui-state-active")}).bind("keydown.button",function(b){return h.disabled?!1:void((b.keyCode==a.ui.keyCode.SPACE||b.keyCode==a.ui.keyCode.ENTER)&&a(this).addClass("ui-state-active"))}).bind("keyup.button",function(){a(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(b){b.keyCode===a.ui.keyCode.SPACE&&a(this).click()})),this._setOption("disabled",h.disabled),this._resetButton()},_determineButtonType:function(){if(this.element.is(":checkbox")?this.type="checkbox":this.element.is(":radio")?this.type="radio":this.element.is("input")?this.type="input":this.type="button","checkbox"===this.type||"radio"===this.type){var a=this.element.parents().filter(":last"),b="label[for='"+this.element.attr("id")+"']";this.buttonElement=a.find(b),this.buttonElement.length||(a=a.length?a.siblings():this.element.siblings(),this.buttonElement=a.filter(b),this.buttonElement.length||(this.buttonElement=a.find(b))),this.element.addClass("ui-helper-hidden-accessible");var c=this.element.is(":checked");c&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.attr("aria-pressed",c)}else this.buttonElement=this.element},widget:function(){return this.buttonElement},destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(g+" "+h+" "+i).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title"),a.Widget.prototype.destroy.call(this)},_setOption:function(b,c){return a.Widget.prototype._setOption.apply(this,arguments),"disabled"===b?void(c?this.element.propAttr("disabled",!0):this.element.propAttr("disabled",!1)):void this._resetButton()},refresh:function(){var b=this.element.is(":disabled");b!==this.options.disabled&&this._setOption("disabled",b),"radio"===this.type?k(this.element[0]).each(function(){a(this).is(":checked")?a(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):a(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)return void(this.options.label&&this.element.val(this.options.label));var b=this.buttonElement.removeClass(i),c=a("<span></span>",this.element[0].ownerDocument).addClass("ui-button-text").html(this.options.label).appendTo(b.empty()).text(),d=this.options.icons,e=d.primary&&d.secondary,f=[];d.primary||d.secondary?(this.options.text&&f.push("ui-button-text-icon"+(e?"s":d.primary?"-primary":"-secondary")),d.primary&&b.prepend("<span class='ui-button-icon-primary ui-icon "+d.primary+"'></span>"),d.secondary&&b.append("<span class='ui-button-icon-secondary ui-icon "+d.secondary+"'></span>"),this.options.text||(f.push(e?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||b.attr("title",c))):f.push("ui-button-text-only"),b.addClass(f.join(" "))}}),a.widget("ui.buttonset",{options:{items:":button, :submit, :reset, :checkbox, :radio, a, :data(button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(b,c){"disabled"===b&&this.buttons.button("option",b,c),a.Widget.prototype._setOption.apply(this,arguments)},refresh:function(){var b="rtl"===this.element.css("direction");this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return a(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(b?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(b?"ui-corner-left":"ui-corner-right").end().end()},destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return a(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy"),a.Widget.prototype.destroy.call(this)}})}(jQuery),function($,undefined){function Datepicker(){this.debug=!1,this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},$.extend(this._defaults,this.regional[""]),this.dpDiv=bindHover($('<div id="'+this._mainDivId+'" class="ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>'))}function bindHover(a){var b="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return a.bind("mouseout",function(a){var c=$(a.target).closest(b);c.length&&c.removeClass("ui-state-hover ui-datepicker-prev-hover ui-datepicker-next-hover")}).bind("mouseover",function(c){var d=$(c.target).closest(b);!$.datepicker._isDisabledDatepicker(instActive.inline?a.parent()[0]:instActive.input[0])&&d.length&&(d.parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),d.addClass("ui-state-hover"),d.hasClass("ui-datepicker-prev")&&d.addClass("ui-datepicker-prev-hover"),d.hasClass("ui-datepicker-next")&&d.addClass("ui-datepicker-next-hover"))})}function extendRemove(a,b){$.extend(a,b);for(var c in b)(null==b[c]||b[c]==undefined)&&(a[c]=b[c]);return a}function isArray(a){return a&&($.browser.safari&&"object"==typeof a&&a.length||a.constructor&&a.constructor.toString().match(/\Array\(\)/))}$.extend($.ui,{datepicker:{version:"1.8.23"}});var PROP_NAME="datepicker",dpuuid=(new Date).getTime(),instActive;$.extend(Datepicker.prototype,{markerClassName:"hasDatepicker",maxRows:4,log:function(){this.debug&&console.log.apply("",arguments)},_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(a){return extendRemove(this._defaults,a||{}),this},_attachDatepicker:function(target,settings){var inlineSettings=null;for(var attrName in this._defaults){var attrValue=target.getAttribute("date:"+attrName);if(attrValue){inlineSettings=inlineSettings||{};try{inlineSettings[attrName]=eval(attrValue)}catch(err){inlineSettings[attrName]=attrValue}}}var nodeName=target.nodeName.toLowerCase(),inline="div"==nodeName||"span"==nodeName;target.id||(this.uuid+=1,target.id="dp"+this.uuid);var inst=this._newInst($(target),inline);inst.settings=$.extend({},settings||{},inlineSettings||{}),"input"==nodeName?this._connectDatepicker(target,inst):inline&&this._inlineDatepicker(target,inst)},_newInst:function(a,b){var c=a[0].id.replace(/([^A-Za-z0-9_-])/g,"\\\\$1");return{id:c,input:a,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:b,dpDiv:b?bindHover($('<div class="'+this._inlineClass+' ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>')):this.dpDiv}},_connectDatepicker:function(a,b){var c=$(a);b.append=$([]),b.trigger=$([]),c.hasClass(this.markerClassName)||(this._attachments(c,b),c.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp).bind("setData.datepicker",function(a,c,d){b.settings[c]=d}).bind("getData.datepicker",function(a,c){return this._get(b,c)}),this._autoSize(b),$.data(a,PROP_NAME,b),b.settings.disabled&&this._disableDatepicker(a))},_attachments:function(a,b){var c=this._get(b,"appendText"),d=this._get(b,"isRTL");b.append&&b.append.remove(),c&&(b.append=$('<span class="'+this._appendClass+'">'+c+"</span>"),a[d?"before":"after"](b.append)),a.unbind("focus",this._showDatepicker),b.trigger&&b.trigger.remove();var e=this._get(b,"showOn");if(("focus"==e||"both"==e)&&a.focus(this._showDatepicker),"button"==e||"both"==e){var f=this._get(b,"buttonText"),g=this._get(b,"buttonImage");b.trigger=$(this._get(b,"buttonImageOnly")?$("<img/>").addClass(this._triggerClass).attr({src:g,alt:f,title:f}):$('<button type="button"></button>').addClass(this._triggerClass).html(""==g?f:$("<img/>").attr({src:g,alt:f,title:f}))),a[d?"before":"after"](b.trigger),b.trigger.click(function(){return $.datepicker._datepickerShowing&&$.datepicker._lastInput==a[0]?$.datepicker._hideDatepicker():$.datepicker._datepickerShowing&&$.datepicker._lastInput!=a[0]?($.datepicker._hideDatepicker(),$.datepicker._showDatepicker(a[0])):$.datepicker._showDatepicker(a[0]),!1})}},_autoSize:function(a){if(this._get(a,"autoSize")&&!a.inline){var b=new Date(2009,11,20),c=this._get(a,"dateFormat");if(c.match(/[DM]/)){var d=function(a){for(var b=0,c=0,d=0;d<a.length;d++)a[d].length>b&&(b=a[d].length,c=d);return c};b.setMonth(d(this._get(a,c.match(/MM/)?"monthNames":"monthNamesShort"))),b.setDate(d(this._get(a,c.match(/DD/)?"dayNames":"dayNamesShort"))+20-b.getDay())}a.input.attr("size",this._formatDate(a,b).length)}},_inlineDatepicker:function(a,b){var c=$(a);c.hasClass(this.markerClassName)||(c.addClass(this.markerClassName).append(b.dpDiv).bind("setData.datepicker",function(a,c,d){b.settings[c]=d}).bind("getData.datepicker",function(a,c){return this._get(b,c)}),$.data(a,PROP_NAME,b),this._setDate(b,this._getDefaultDate(b),!0),this._updateDatepicker(b),this._updateAlternate(b),b.settings.disabled&&this._disableDatepicker(a),b.dpDiv.css("display","block"))},_dialogDatepicker:function(a,b,c,d,e){var f=this._dialogInst;if(!f){this.uuid+=1;var g="dp"+this.uuid;this._dialogInput=$('<input type="text" id="'+g+'" style="position: absolute; top: -100px; width: 0px;"/>'),this._dialogInput.keydown(this._doKeyDown),$("body").append(this._dialogInput),f=this._dialogInst=this._newInst(this._dialogInput,!1),f.settings={},$.data(this._dialogInput[0],PROP_NAME,f)}if(extendRemove(f.settings,d||{}),b=b&&b.constructor==Date?this._formatDate(f,b):b,this._dialogInput.val(b),this._pos=e?e.length?e:[e.pageX,e.pageY]:null,!this._pos){var h=document.documentElement.clientWidth,i=document.documentElement.clientHeight,j=document.documentElement.scrollLeft||document.body.scrollLeft,k=document.documentElement.scrollTop||document.body.scrollTop;this._pos=[h/2-100+j,i/2-150+k]}return this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),f.settings.onSelect=c,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),$.blockUI&&$.blockUI(this.dpDiv),$.data(this._dialogInput[0],PROP_NAME,f),this},_destroyDatepicker:function(a){var b=$(a),c=$.data(a,PROP_NAME);if(b.hasClass(this.markerClassName)){var d=a.nodeName.toLowerCase();$.removeData(a,PROP_NAME),"input"==d?(c.append.remove(),c.trigger.remove(),b.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"==d||"span"==d)&&b.removeClass(this.markerClassName).empty()}},_enableDatepicker:function(a){var b=$(a),c=$.data(a,PROP_NAME);if(b.hasClass(this.markerClassName)){var d=a.nodeName.toLowerCase();if("input"==d)a.disabled=!1,c.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""});else if("div"==d||"span"==d){var e=b.children("."+this._inlineClass);e.children().removeClass("ui-state-disabled"),e.find("select.ui-datepicker-month, select.ui-datepicker-year").removeAttr("disabled")}this._disabledInputs=$.map(this._disabledInputs,function(b){return b==a?null:b})}},_disableDatepicker:function(a){var b=$(a),c=$.data(a,PROP_NAME);if(b.hasClass(this.markerClassName)){var d=a.nodeName.toLowerCase();if("input"==d)a.disabled=!0,c.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"});else if("div"==d||"span"==d){var e=b.children("."+this._inlineClass);e.children().addClass("ui-state-disabled"),e.find("select.ui-datepicker-month, select.ui-datepicker-year").attr("disabled","disabled")}this._disabledInputs=$.map(this._disabledInputs,function(b){return b==a?null:b}),this._disabledInputs[this._disabledInputs.length]=a}},_isDisabledDatepicker:function(a){if(!a)return!1;for(var b=0;b<this._disabledInputs.length;b++)if(this._disabledInputs[b]==a)return!0;return!1},_getInst:function(a){try{return $.data(a,PROP_NAME)}catch(b){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(a,b,c){var d=this._getInst(a);if(2==arguments.length&&"string"==typeof b)return"defaults"==b?$.extend({},$.datepicker._defaults):d?"all"==b?$.extend({},d.settings):this._get(d,b):null;var e=b||{};if("string"==typeof b&&(e={},e[b]=c),d){this._curInst==d&&this._hideDatepicker();var f=this._getDateDatepicker(a,!0),g=this._getMinMaxDate(d,"min"),h=this._getMinMaxDate(d,"max");extendRemove(d.settings,e),null!==g&&e.dateFormat!==undefined&&e.minDate===undefined&&(d.settings.minDate=this._formatDate(d,g)),null!==h&&e.dateFormat!==undefined&&e.maxDate===undefined&&(d.settings.maxDate=this._formatDate(d,h)),this._attachments($(a),d),this._autoSize(d),this._setDate(d,f),this._updateAlternate(d),this._updateDatepicker(d)}},_changeDatepicker:function(a,b,c){this._optionDatepicker(a,b,c)},_refreshDatepicker:function(a){var b=this._getInst(a);b&&this._updateDatepicker(b)},_setDateDatepicker:function(a,b){var c=this._getInst(a);c&&(this._setDate(c,b),this._updateDatepicker(c),this._updateAlternate(c))},_getDateDatepicker:function(a,b){var c=this._getInst(a);return c&&!c.inline&&this._setDateFromField(c,b),c?this._getDate(c):null},_doKeyDown:function(a){var b=$.datepicker._getInst(a.target),c=!0,d=b.dpDiv.is(".ui-datepicker-rtl");if(b._keyEvent=!0,$.datepicker._datepickerShowing)switch(a.keyCode){case 9:$.datepicker._hideDatepicker(),c=!1;break;case 13:var e=$("td."+$.datepicker._dayOverClass+":not(."+$.datepicker._currentClass+")",b.dpDiv);e[0]&&$.datepicker._selectDay(a.target,b.selectedMonth,b.selectedYear,e[0]);var f=$.datepicker._get(b,"onSelect");if(f){var g=$.datepicker._formatDate(b);f.apply(b.input?b.input[0]:null,[g,b])}else $.datepicker._hideDatepicker();return!1;case 27:$.datepicker._hideDatepicker();break;case 33:$.datepicker._adjustDate(a.target,a.ctrlKey?-$.datepicker._get(b,"stepBigMonths"):-$.datepicker._get(b,"stepMonths"),"M");break;case 34:$.datepicker._adjustDate(a.target,a.ctrlKey?+$.datepicker._get(b,"stepBigMonths"):+$.datepicker._get(b,"stepMonths"),"M");break;case 35:(a.ctrlKey||a.metaKey)&&$.datepicker._clearDate(a.target),c=a.ctrlKey||a.metaKey;break;case 36:(a.ctrlKey||a.metaKey)&&$.datepicker._gotoToday(a.target),c=a.ctrlKey||a.metaKey;break;case 37:(a.ctrlKey||a.metaKey)&&$.datepicker._adjustDate(a.target,d?1:-1,"D"),c=a.ctrlKey||a.metaKey,a.originalEvent.altKey&&$.datepicker._adjustDate(a.target,a.ctrlKey?-$.datepicker._get(b,"stepBigMonths"):-$.datepicker._get(b,"stepMonths"),"M");break;case 38:(a.ctrlKey||a.metaKey)&&$.datepicker._adjustDate(a.target,-7,"D"),c=a.ctrlKey||a.metaKey;break;case 39:(a.ctrlKey||a.metaKey)&&$.datepicker._adjustDate(a.target,d?-1:1,"D"),c=a.ctrlKey||a.metaKey,a.originalEvent.altKey&&$.datepicker._adjustDate(a.target,a.ctrlKey?+$.datepicker._get(b,"stepBigMonths"):+$.datepicker._get(b,"stepMonths"),"M");break;case 40:(a.ctrlKey||a.metaKey)&&$.datepicker._adjustDate(a.target,7,"D"),c=a.ctrlKey||a.metaKey;break;default:c=!1}else 36==a.keyCode&&a.ctrlKey?$.datepicker._showDatepicker(this):c=!1;c&&(a.preventDefault(),a.stopPropagation())},_doKeyPress:function(a){var b=$.datepicker._getInst(a.target);if($.datepicker._get(b,"constrainInput")){var c=$.datepicker._possibleChars($.datepicker._get(b,"dateFormat")),d=String.fromCharCode(a.charCode==undefined?a.keyCode:a.charCode);return a.ctrlKey||a.metaKey||" ">d||!c||c.indexOf(d)>-1}},_doKeyUp:function(a){var b=$.datepicker._getInst(a.target);if(b.input.val()!=b.lastVal)try{var c=$.datepicker.parseDate($.datepicker._get(b,"dateFormat"),b.input?b.input.val():null,$.datepicker._getFormatConfig(b));c&&($.datepicker._setDateFromField(b),$.datepicker._updateAlternate(b),$.datepicker._updateDatepicker(b))}catch(d){$.datepicker.log(d)}return!0},_showDatepicker:function(a){if(a=a.target||a,"input"!=a.nodeName.toLowerCase()&&(a=$("input",a.parentNode)[0]),!$.datepicker._isDisabledDatepicker(a)&&$.datepicker._lastInput!=a){var b=$.datepicker._getInst(a);$.datepicker._curInst&&$.datepicker._curInst!=b&&($.datepicker._curInst.dpDiv.stop(!0,!0),b&&$.datepicker._datepickerShowing&&$.datepicker._hideDatepicker($.datepicker._curInst.input[0]));var c=$.datepicker._get(b,"beforeShow"),d=c?c.apply(a,[a,b]):{};if(d!==!1){extendRemove(b.settings,d),b.lastVal=null,$.datepicker._lastInput=a,$.datepicker._setDateFromField(b),$.datepicker._inDialog&&(a.value=""),$.datepicker._pos||($.datepicker._pos=$.datepicker._findPos(a),$.datepicker._pos[1]+=a.offsetHeight);var e=!1;$(a).parents().each(function(){return e|="fixed"==$(this).css("position"),!e}),e&&$.browser.opera&&($.datepicker._pos[0]-=document.documentElement.scrollLeft,$.datepicker._pos[1]-=document.documentElement.scrollTop);var f={left:$.datepicker._pos[0],top:$.datepicker._pos[1]};if($.datepicker._pos=null,b.dpDiv.empty(),b.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),$.datepicker._updateDatepicker(b),f=$.datepicker._checkOffset(b,f,e),b.dpDiv.css({position:$.datepicker._inDialog&&$.blockUI?"static":e?"fixed":"absolute",display:"none",left:f.left+"px",top:f.top+"px"}),!b.inline){var g=$.datepicker._get(b,"showAnim"),h=$.datepicker._get(b,"duration"),i=function(){var a=b.dpDiv.find("iframe.ui-datepicker-cover");if(a.length){var c=$.datepicker._getBorders(b.dpDiv);a.css({left:-c[0],top:-c[1],width:b.dpDiv.outerWidth(),height:b.dpDiv.outerHeight()})}};b.dpDiv.zIndex($(a).zIndex()+1),$.datepicker._datepickerShowing=!0,$.effects&&$.effects[g]?b.dpDiv.show(g,$.datepicker._get(b,"showOptions"),h,i):b.dpDiv[g||"show"](g?h:null,i),g&&h||i(),b.input.is(":visible")&&!b.input.is(":disabled")&&b.input.focus(),$.datepicker._curInst=b}}}},_updateDatepicker:function(a){var b=this;b.maxRows=4;var c=$.datepicker._getBorders(a.dpDiv);instActive=a,a.dpDiv.empty().append(this._generateHTML(a)),this._attachHandlers(a);var d=a.dpDiv.find("iframe.ui-datepicker-cover");d.length&&d.css({left:-c[0],top:-c[1],width:a.dpDiv.outerWidth(),height:a.dpDiv.outerHeight()}),a.dpDiv.find("."+this._dayOverClass+" a").mouseover();var e=this._getNumberOfMonths(a),f=e[1],g=17;if(a.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),f>1&&a.dpDiv.addClass("ui-datepicker-multi-"+f).css("width",g*f+"em"),a.dpDiv[(1!=e[0]||1!=e[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),a.dpDiv[(this._get(a,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),a==$.datepicker._curInst&&$.datepicker._datepickerShowing&&a.input&&a.input.is(":visible")&&!a.input.is(":disabled")&&a.input[0]!=document.activeElement&&a.input.focus(),a.yearshtml){var h=a.yearshtml;setTimeout(function(){h===a.yearshtml&&a.yearshtml&&a.dpDiv.find("select.ui-datepicker-year:first").replaceWith(a.yearshtml),h=a.yearshtml=null},0)}},_getBorders:function(a){var b=function(a){return{thin:1,medium:2,thick:3}[a]||a};return[parseFloat(b(a.css("border-left-width"))),parseFloat(b(a.css("border-top-width")))]},_checkOffset:function(a,b,c){var d=a.dpDiv.outerWidth(),e=a.dpDiv.outerHeight(),f=a.input?a.input.outerWidth():0,g=a.input?a.input.outerHeight():0,h=document.documentElement.clientWidth+(c?0:$(document).scrollLeft()),i=document.documentElement.clientHeight+(c?0:$(document).scrollTop());return b.left-=this._get(a,"isRTL")?d-f:0,b.left-=c&&b.left==a.input.offset().left?$(document).scrollLeft():0,b.top-=c&&b.top==a.input.offset().top+g?$(document).scrollTop():0,b.left-=Math.min(b.left,b.left+d>h&&h>d?Math.abs(b.left+d-h):0),b.top-=Math.min(b.top,b.top+e>i&&i>e?Math.abs(e+g):0),b},_findPos:function(a){for(var b=this._getInst(a),c=this._get(b,"isRTL");a&&("hidden"==a.type||1!=a.nodeType||$.expr.filters.hidden(a));)a=a[c?"previousSibling":"nextSibling"];var d=$(a).offset();return[d.left,d.top]},_hideDatepicker:function(a){var b=this._curInst;if(b&&(!a||b==$.data(a,PROP_NAME))&&this._datepickerShowing){var c=this._get(b,"showAnim"),d=this._get(b,"duration"),e=function(){$.datepicker._tidyDialog(b)};$.effects&&$.effects[c]?b.dpDiv.hide(c,$.datepicker._get(b,"showOptions"),d,e):b.dpDiv["slideDown"==c?"slideUp":"fadeIn"==c?"fadeOut":"hide"](c?d:null,e),c||e(),this._datepickerShowing=!1;var f=this._get(b,"onClose");f&&f.apply(b.input?b.input[0]:null,[b.input?b.input.val():"",b]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),$.blockUI&&($.unblockUI(),$("body").append(this.dpDiv))),this._inDialog=!1}},_tidyDialog:function(a){a.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(a){if($.datepicker._curInst){var b=$(a.target),c=$.datepicker._getInst(b[0]);(b[0].id!=$.datepicker._mainDivId&&0==b.parents("#"+$.datepicker._mainDivId).length&&!b.hasClass($.datepicker.markerClassName)&&!b.closest("."+$.datepicker._triggerClass).length&&$.datepicker._datepickerShowing&&(!$.datepicker._inDialog||!$.blockUI)||b.hasClass($.datepicker.markerClassName)&&$.datepicker._curInst!=c)&&$.datepicker._hideDatepicker()}},_adjustDate:function(a,b,c){var d=$(a),e=this._getInst(d[0]);this._isDisabledDatepicker(d[0])||(this._adjustInstDate(e,b+("M"==c?this._get(e,"showCurrentAtPos"):0),c),this._updateDatepicker(e))},_gotoToday:function(a){var b=$(a),c=this._getInst(b[0]);if(this._get(c,"gotoCurrent")&&c.currentDay)c.selectedDay=c.currentDay,c.drawMonth=c.selectedMonth=c.currentMonth,c.drawYear=c.selectedYear=c.currentYear;else{var d=new Date;c.selectedDay=d.getDate(),c.drawMonth=c.selectedMonth=d.getMonth(),c.drawYear=c.selectedYear=d.getFullYear()}this._notifyChange(c),this._adjustDate(b)},_selectMonthYear:function(a,b,c){var d=$(a),e=this._getInst(d[0]);e["selected"+("M"==c?"Month":"Year")]=e["draw"+("M"==c?"Month":"Year")]=parseInt(b.options[b.selectedIndex].value,10),this._notifyChange(e),this._adjustDate(d)},_selectDay:function(a,b,c,d){
var e=$(a);if(!$(d).hasClass(this._unselectableClass)&&!this._isDisabledDatepicker(e[0])){var f=this._getInst(e[0]);f.selectedDay=f.currentDay=$("a",d).html(),f.selectedMonth=f.currentMonth=b,f.selectedYear=f.currentYear=c,this._selectDate(a,this._formatDate(f,f.currentDay,f.currentMonth,f.currentYear))}},_clearDate:function(a){var b=$(a);this._getInst(b[0]);this._selectDate(b,"")},_selectDate:function(a,b){var c=$(a),d=this._getInst(c[0]);b=null!=b?b:this._formatDate(d),d.input&&d.input.val(b),this._updateAlternate(d);var e=this._get(d,"onSelect");e?e.apply(d.input?d.input[0]:null,[b,d]):d.input&&d.input.trigger("change"),d.inline?this._updateDatepicker(d):(this._hideDatepicker(),this._lastInput=d.input[0],"object"!=typeof d.input[0]&&d.input.focus(),this._lastInput=null)},_updateAlternate:function(a){var b=this._get(a,"altField");if(b){var c=this._get(a,"altFormat")||this._get(a,"dateFormat"),d=this._getDate(a),e=this.formatDate(c,d,this._getFormatConfig(a));$(b).each(function(){$(this).val(e)})}},noWeekends:function(a){var b=a.getDay();return[b>0&&6>b,""]},iso8601Week:function(a){var b=new Date(a.getTime());b.setDate(b.getDate()+4-(b.getDay()||7));var c=b.getTime();return b.setMonth(0),b.setDate(1),Math.floor(Math.round((c-b)/864e5)/7)+1},parseDate:function(a,b,c){if(null==a||null==b)throw"Invalid arguments";if(b="object"==typeof b?b.toString():b+"",""==b)return null;var d=(c?c.shortYearCutoff:null)||this._defaults.shortYearCutoff;d="string"!=typeof d?d:(new Date).getFullYear()%100+parseInt(d,10);for(var e=(c?c.dayNamesShort:null)||this._defaults.dayNamesShort,f=(c?c.dayNames:null)||this._defaults.dayNames,g=(c?c.monthNamesShort:null)||this._defaults.monthNamesShort,h=(c?c.monthNames:null)||this._defaults.monthNames,i=-1,j=-1,k=-1,l=-1,m=!1,n=function(b){var c=s+1<a.length&&a.charAt(s+1)==b;return c&&s++,c},o=function(a){var c=n(a),d="@"==a?14:"!"==a?20:"y"==a&&c?4:"o"==a?3:2,e=new RegExp("^\\d{1,"+d+"}"),f=b.substring(r).match(e);if(!f)throw"Missing number at position "+r;return r+=f[0].length,parseInt(f[0],10)},p=function(a,c,d){var e=$.map(n(a)?d:c,function(a,b){return[[b,a]]}).sort(function(a,b){return-(a[1].length-b[1].length)}),f=-1;if($.each(e,function(a,c){var d=c[1];return b.substr(r,d.length).toLowerCase()==d.toLowerCase()?(f=c[0],r+=d.length,!1):void 0}),-1!=f)return f+1;throw"Unknown name at position "+r},q=function(){if(b.charAt(r)!=a.charAt(s))throw"Unexpected literal at position "+r;r++},r=0,s=0;s<a.length;s++)if(m)"'"!=a.charAt(s)||n("'")?q():m=!1;else switch(a.charAt(s)){case"d":k=o("d");break;case"D":p("D",e,f);break;case"o":l=o("o");break;case"m":j=o("m");break;case"M":j=p("M",g,h);break;case"y":i=o("y");break;case"@":var t=new Date(o("@"));i=t.getFullYear(),j=t.getMonth()+1,k=t.getDate();break;case"!":var t=new Date((o("!")-this._ticksTo1970)/1e4);i=t.getFullYear(),j=t.getMonth()+1,k=t.getDate();break;case"'":n("'")?q():m=!0;break;default:q()}if(r<b.length)throw"Extra/unparsed characters found in date: "+b.substring(r);if(-1==i?i=(new Date).getFullYear():100>i&&(i+=(new Date).getFullYear()-(new Date).getFullYear()%100+(d>=i?0:-100)),l>-1)for(j=1,k=l;;){var u=this._getDaysInMonth(i,j-1);if(u>=k)break;j++,k-=u}var t=this._daylightSavingAdjust(new Date(i,j-1,k));if(t.getFullYear()!=i||t.getMonth()+1!=j||t.getDate()!=k)throw"Invalid date";return t},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(a,b,c){if(!b)return"";var d=(c?c.dayNamesShort:null)||this._defaults.dayNamesShort,e=(c?c.dayNames:null)||this._defaults.dayNames,f=(c?c.monthNamesShort:null)||this._defaults.monthNamesShort,g=(c?c.monthNames:null)||this._defaults.monthNames,h=function(b){var c=m+1<a.length&&a.charAt(m+1)==b;return c&&m++,c},i=function(a,b,c){var d=""+b;if(h(a))for(;d.length<c;)d="0"+d;return d},j=function(a,b,c,d){return h(a)?d[b]:c[b]},k="",l=!1;if(b)for(var m=0;m<a.length;m++)if(l)"'"!=a.charAt(m)||h("'")?k+=a.charAt(m):l=!1;else switch(a.charAt(m)){case"d":k+=i("d",b.getDate(),2);break;case"D":k+=j("D",b.getDay(),d,e);break;case"o":k+=i("o",Math.round((new Date(b.getFullYear(),b.getMonth(),b.getDate()).getTime()-new Date(b.getFullYear(),0,0).getTime())/864e5),3);break;case"m":k+=i("m",b.getMonth()+1,2);break;case"M":k+=j("M",b.getMonth(),f,g);break;case"y":k+=h("y")?b.getFullYear():(b.getYear()%100<10?"0":"")+b.getYear()%100;break;case"@":k+=b.getTime();break;case"!":k+=1e4*b.getTime()+this._ticksTo1970;break;case"'":h("'")?k+="'":l=!0;break;default:k+=a.charAt(m)}return k},_possibleChars:function(a){for(var b="",c=!1,d=function(b){var c=e+1<a.length&&a.charAt(e+1)==b;return c&&e++,c},e=0;e<a.length;e++)if(c)"'"!=a.charAt(e)||d("'")?b+=a.charAt(e):c=!1;else switch(a.charAt(e)){case"d":case"m":case"y":case"@":b+="0123456789";break;case"D":case"M":return null;case"'":d("'")?b+="'":c=!0;break;default:b+=a.charAt(e)}return b},_get:function(a,b){return a.settings[b]!==undefined?a.settings[b]:this._defaults[b]},_setDateFromField:function(a,b){if(a.input.val()!=a.lastVal){var c,d,e=this._get(a,"dateFormat"),f=a.lastVal=a.input?a.input.val():null;c=d=this._getDefaultDate(a);var g=this._getFormatConfig(a);try{c=this.parseDate(e,f,g)||d}catch(h){this.log(h),f=b?"":f}a.selectedDay=c.getDate(),a.drawMonth=a.selectedMonth=c.getMonth(),a.drawYear=a.selectedYear=c.getFullYear(),a.currentDay=f?c.getDate():0,a.currentMonth=f?c.getMonth():0,a.currentYear=f?c.getFullYear():0,this._adjustInstDate(a)}},_getDefaultDate:function(a){return this._restrictMinMax(a,this._determineDate(a,this._get(a,"defaultDate"),new Date))},_determineDate:function(a,b,c){var d=function(a){var b=new Date;return b.setDate(b.getDate()+a),b},e=function(b){try{return $.datepicker.parseDate($.datepicker._get(a,"dateFormat"),b,$.datepicker._getFormatConfig(a))}catch(c){}for(var d=(b.toLowerCase().match(/^c/)?$.datepicker._getDate(a):null)||new Date,e=d.getFullYear(),f=d.getMonth(),g=d.getDate(),h=/([+-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,i=h.exec(b);i;){switch(i[2]||"d"){case"d":case"D":g+=parseInt(i[1],10);break;case"w":case"W":g+=7*parseInt(i[1],10);break;case"m":case"M":f+=parseInt(i[1],10),g=Math.min(g,$.datepicker._getDaysInMonth(e,f));break;case"y":case"Y":e+=parseInt(i[1],10),g=Math.min(g,$.datepicker._getDaysInMonth(e,f))}i=h.exec(b)}return new Date(e,f,g)},f=null==b||""===b?c:"string"==typeof b?e(b):"number"==typeof b?isNaN(b)?c:d(b):new Date(b.getTime());return f=f&&"Invalid Date"==f.toString()?c:f,f&&(f.setHours(0),f.setMinutes(0),f.setSeconds(0),f.setMilliseconds(0)),this._daylightSavingAdjust(f)},_daylightSavingAdjust:function(a){return a?(a.setHours(a.getHours()>12?a.getHours()+2:0),a):null},_setDate:function(a,b,c){var d=!b,e=a.selectedMonth,f=a.selectedYear,g=this._restrictMinMax(a,this._determineDate(a,b,new Date));a.selectedDay=a.currentDay=g.getDate(),a.drawMonth=a.selectedMonth=a.currentMonth=g.getMonth(),a.drawYear=a.selectedYear=a.currentYear=g.getFullYear(),e==a.selectedMonth&&f==a.selectedYear||c||this._notifyChange(a),this._adjustInstDate(a),a.input&&a.input.val(d?"":this._formatDate(a))},_getDate:function(a){var b=!a.currentYear||a.input&&""==a.input.val()?null:this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay));return b},_attachHandlers:function(a){var b=this._get(a,"stepMonths"),c="#"+a.id.replace(/\\\\/g,"\\");a.dpDiv.find("[data-handler]").map(function(){var a={prev:function(){window["DP_jQuery_"+dpuuid].datepicker._adjustDate(c,-b,"M")},next:function(){window["DP_jQuery_"+dpuuid].datepicker._adjustDate(c,+b,"M")},hide:function(){window["DP_jQuery_"+dpuuid].datepicker._hideDatepicker()},today:function(){window["DP_jQuery_"+dpuuid].datepicker._gotoToday(c)},selectDay:function(){return window["DP_jQuery_"+dpuuid].datepicker._selectDay(c,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return window["DP_jQuery_"+dpuuid].datepicker._selectMonthYear(c,this,"M"),!1},selectYear:function(){return window["DP_jQuery_"+dpuuid].datepicker._selectMonthYear(c,this,"Y"),!1}};$(this).bind(this.getAttribute("data-event"),a[this.getAttribute("data-handler")])})},_generateHTML:function(a){var b=new Date;b=this._daylightSavingAdjust(new Date(b.getFullYear(),b.getMonth(),b.getDate()));var c=this._get(a,"isRTL"),d=this._get(a,"showButtonPanel"),e=this._get(a,"hideIfNoPrevNext"),f=this._get(a,"navigationAsDateFormat"),g=this._getNumberOfMonths(a),h=this._get(a,"showCurrentAtPos"),i=this._get(a,"stepMonths"),j=1!=g[0]||1!=g[1],k=this._daylightSavingAdjust(a.currentDay?new Date(a.currentYear,a.currentMonth,a.currentDay):new Date(9999,9,9)),l=this._getMinMaxDate(a,"min"),m=this._getMinMaxDate(a,"max"),n=a.drawMonth-h,o=a.drawYear;if(0>n&&(n+=12,o--),m){var p=this._daylightSavingAdjust(new Date(m.getFullYear(),m.getMonth()-g[0]*g[1]+1,m.getDate()));for(p=l&&l>p?l:p;this._daylightSavingAdjust(new Date(o,n,1))>p;)n--,0>n&&(n=11,o--)}a.drawMonth=n,a.drawYear=o;var q=this._get(a,"prevText");q=f?this.formatDate(q,this._daylightSavingAdjust(new Date(o,n-i,1)),this._getFormatConfig(a)):q;var r=this._canAdjustMonth(a,-1,o,n)?'<a class="ui-datepicker-prev ui-corner-all" data-handler="prev" data-event="click" title="'+q+'"><span class="ui-icon ui-icon-circle-triangle-'+(c?"e":"w")+'">'+q+"</span></a>":e?"":'<a class="ui-datepicker-prev ui-corner-all ui-state-disabled" title="'+q+'"><span class="ui-icon ui-icon-circle-triangle-'+(c?"e":"w")+'">'+q+"</span></a>",s=this._get(a,"nextText");s=f?this.formatDate(s,this._daylightSavingAdjust(new Date(o,n+i,1)),this._getFormatConfig(a)):s;var t=this._canAdjustMonth(a,1,o,n)?'<a class="ui-datepicker-next ui-corner-all" data-handler="next" data-event="click" title="'+s+'"><span class="ui-icon ui-icon-circle-triangle-'+(c?"w":"e")+'">'+s+"</span></a>":e?"":'<a class="ui-datepicker-next ui-corner-all ui-state-disabled" title="'+s+'"><span class="ui-icon ui-icon-circle-triangle-'+(c?"w":"e")+'">'+s+"</span></a>",u=this._get(a,"currentText"),v=this._get(a,"gotoCurrent")&&a.currentDay?k:b;u=f?this.formatDate(u,v,this._getFormatConfig(a)):u;var w=a.inline?"":'<button type="button" class="ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all" data-handler="hide" data-event="click">'+this._get(a,"closeText")+"</button>",x=d?'<div class="ui-datepicker-buttonpane ui-widget-content">'+(c?w:"")+(this._isInRange(a,v)?'<button type="button" class="ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all" data-handler="today" data-event="click">'+u+"</button>":"")+(c?"":w)+"</div>":"",y=parseInt(this._get(a,"firstDay"),10);y=isNaN(y)?0:y;for(var z=this._get(a,"showWeek"),A=this._get(a,"dayNames"),B=(this._get(a,"dayNamesShort"),this._get(a,"dayNamesMin")),C=this._get(a,"monthNames"),D=this._get(a,"monthNamesShort"),E=this._get(a,"beforeShowDay"),F=this._get(a,"showOtherMonths"),G=this._get(a,"selectOtherMonths"),H=(this._get(a,"calculateWeek")||this.iso8601Week,this._getDefaultDate(a)),I="",J=0;J<g[0];J++){var K="";this.maxRows=4;for(var L=0;L<g[1];L++){var M=this._daylightSavingAdjust(new Date(o,n,a.selectedDay)),N=" ui-corner-all",O="";if(j){if(O+='<div class="ui-datepicker-group',g[1]>1)switch(L){case 0:O+=" ui-datepicker-group-first",N=" ui-corner-"+(c?"right":"left");break;case g[1]-1:O+=" ui-datepicker-group-last",N=" ui-corner-"+(c?"left":"right");break;default:O+=" ui-datepicker-group-middle",N=""}O+='">'}O+='<div class="ui-datepicker-header ui-widget-header ui-helper-clearfix'+N+'">'+(/all|left/.test(N)&&0==J?c?t:r:"")+(/all|right/.test(N)&&0==J?c?r:t:"")+this._generateMonthYearHeader(a,n,o,l,m,J>0||L>0,C,D)+'</div><table class="ui-datepicker-calendar"><thead><tr>';for(var P=z?'<th class="ui-datepicker-week-col">'+this._get(a,"weekHeader")+"</th>":"",Q=0;7>Q;Q++){var R=(Q+y)%7;P+="<th"+((Q+y+6)%7>=5?' class="ui-datepicker-week-end"':"")+'><span title="'+A[R]+'">'+B[R]+"</span></th>"}O+=P+"</tr></thead><tbody>";var S=this._getDaysInMonth(o,n);o==a.selectedYear&&n==a.selectedMonth&&(a.selectedDay=Math.min(a.selectedDay,S));var T=(this._getFirstDayOfMonth(o,n)-y+7)%7,U=Math.ceil((T+S)/7),V=j&&this.maxRows>U?this.maxRows:U;this.maxRows=V;for(var W=this._daylightSavingAdjust(new Date(o,n,1-T)),X=0;V>X;X++){O+="<tr>";for(var Y=z?'<td class="ui-datepicker-week-col">'+this._get(a,"calculateWeek")(W)+"</td>":"",Q=0;7>Q;Q++){var Z=E?E.apply(a.input?a.input[0]:null,[W]):[!0,""],_=W.getMonth()!=n,aa=_&&!G||!Z[0]||l&&l>W||m&&W>m;Y+='<td class="'+((Q+y+6)%7>=5?" ui-datepicker-week-end":"")+(_?" ui-datepicker-other-month":"")+(W.getTime()==M.getTime()&&n==a.selectedMonth&&a._keyEvent||H.getTime()==W.getTime()&&H.getTime()==M.getTime()?" "+this._dayOverClass:"")+(aa?" "+this._unselectableClass+" ui-state-disabled":"")+(_&&!F?"":" "+Z[1]+(W.getTime()==k.getTime()?" "+this._currentClass:"")+(W.getTime()==b.getTime()?" ui-datepicker-today":""))+'"'+(_&&!F||!Z[2]?"":' title="'+Z[2]+'"')+(aa?"":' data-handler="selectDay" data-event="click" data-month="'+W.getMonth()+'" data-year="'+W.getFullYear()+'"')+">"+(_&&!F?"&#xa0;":aa?'<span class="ui-state-default">'+W.getDate()+"</span>":'<a class="ui-state-default'+(W.getTime()==b.getTime()?" ui-state-highlight":"")+(W.getTime()==k.getTime()?" ui-state-active":"")+(_?" ui-priority-secondary":"")+'" href="#">'+W.getDate()+"</a>")+"</td>",W.setDate(W.getDate()+1),W=this._daylightSavingAdjust(W)}O+=Y+"</tr>"}n++,n>11&&(n=0,o++),O+="</tbody></table>"+(j?"</div>"+(g[0]>0&&L==g[1]-1?'<div class="ui-datepicker-row-break"></div>':""):""),K+=O}I+=K}return I+=x+($.browser.msie&&parseInt($.browser.version,10)<7&&!a.inline?'<iframe src="javascript:false;" class="ui-datepicker-cover" frameborder="0"></iframe>':""),a._keyEvent=!1,I},_generateMonthYearHeader:function(a,b,c,d,e,f,g,h){var i=this._get(a,"changeMonth"),j=this._get(a,"changeYear"),k=this._get(a,"showMonthAfterYear"),l='<div class="ui-datepicker-title">',m="";if(f||!i)m+='<span class="ui-datepicker-month">'+g[b]+"</span>";else{var n=d&&d.getFullYear()==c,o=e&&e.getFullYear()==c;m+='<select class="ui-datepicker-month" data-handler="selectMonth" data-event="change">';for(var p=0;12>p;p++)(!n||p>=d.getMonth())&&(!o||p<=e.getMonth())&&(m+='<option value="'+p+'"'+(p==b?' selected="selected"':"")+">"+h[p]+"</option>");m+="</select>"}if(k||(l+=m+(!f&&i&&j?"":"&#xa0;")),!a.yearshtml)if(a.yearshtml="",f||!j)l+='<span class="ui-datepicker-year">'+c+"</span>";else{var q=this._get(a,"yearRange").split(":"),r=(new Date).getFullYear(),s=function(a){var b=a.match(/c[+-].*/)?c+parseInt(a.substring(1),10):a.match(/[+-].*/)?r+parseInt(a,10):parseInt(a,10);return isNaN(b)?r:b},t=s(q[0]),u=Math.max(t,s(q[1]||""));for(t=d?Math.max(t,d.getFullYear()):t,u=e?Math.min(u,e.getFullYear()):u,a.yearshtml+='<select class="ui-datepicker-year" data-handler="selectYear" data-event="change">';u>=t;t++)a.yearshtml+='<option value="'+t+'"'+(t==c?' selected="selected"':"")+">"+t+"</option>";a.yearshtml+="</select>",l+=a.yearshtml,a.yearshtml=null}return l+=this._get(a,"yearSuffix"),k&&(l+=(!f&&i&&j?"":"&#xa0;")+m),l+="</div>"},_adjustInstDate:function(a,b,c){var d=a.drawYear+("Y"==c?b:0),e=a.drawMonth+("M"==c?b:0),f=Math.min(a.selectedDay,this._getDaysInMonth(d,e))+("D"==c?b:0),g=this._restrictMinMax(a,this._daylightSavingAdjust(new Date(d,e,f)));a.selectedDay=g.getDate(),a.drawMonth=a.selectedMonth=g.getMonth(),a.drawYear=a.selectedYear=g.getFullYear(),("M"==c||"Y"==c)&&this._notifyChange(a)},_restrictMinMax:function(a,b){var c=this._getMinMaxDate(a,"min"),d=this._getMinMaxDate(a,"max"),e=c&&c>b?c:b;return e=d&&e>d?d:e},_notifyChange:function(a){var b=this._get(a,"onChangeMonthYear");b&&b.apply(a.input?a.input[0]:null,[a.selectedYear,a.selectedMonth+1,a])},_getNumberOfMonths:function(a){var b=this._get(a,"numberOfMonths");return null==b?[1,1]:"number"==typeof b?[1,b]:b},_getMinMaxDate:function(a,b){return this._determineDate(a,this._get(a,b+"Date"),null)},_getDaysInMonth:function(a,b){return 32-this._daylightSavingAdjust(new Date(a,b,32)).getDate()},_getFirstDayOfMonth:function(a,b){return new Date(a,b,1).getDay()},_canAdjustMonth:function(a,b,c,d){var e=this._getNumberOfMonths(a),f=this._daylightSavingAdjust(new Date(c,d+(0>b?b:e[0]*e[1]),1));return 0>b&&f.setDate(this._getDaysInMonth(f.getFullYear(),f.getMonth())),this._isInRange(a,f)},_isInRange:function(a,b){var c=this._getMinMaxDate(a,"min"),d=this._getMinMaxDate(a,"max");return(!c||b.getTime()>=c.getTime())&&(!d||b.getTime()<=d.getTime())},_getFormatConfig:function(a){var b=this._get(a,"shortYearCutoff");return b="string"!=typeof b?b:(new Date).getFullYear()%100+parseInt(b,10),{shortYearCutoff:b,dayNamesShort:this._get(a,"dayNamesShort"),dayNames:this._get(a,"dayNames"),monthNamesShort:this._get(a,"monthNamesShort"),monthNames:this._get(a,"monthNames")}},_formatDate:function(a,b,c,d){b||(a.currentDay=a.selectedDay,a.currentMonth=a.selectedMonth,a.currentYear=a.selectedYear);var e=b?"object"==typeof b?b:this._daylightSavingAdjust(new Date(d,c,b)):this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay));return this.formatDate(this._get(a,"dateFormat"),e,this._getFormatConfig(a))}}),$.fn.datepicker=function(a){if(!this.length)return this;$.datepicker.initialized||($(document).mousedown($.datepicker._checkExternalClick).find("body").append($.datepicker.dpDiv),$.datepicker.initialized=!0);var b=Array.prototype.slice.call(arguments,1);return"string"!=typeof a||"isDisabled"!=a&&"getDate"!=a&&"widget"!=a?"option"==a&&2==arguments.length&&"string"==typeof arguments[1]?$.datepicker["_"+a+"Datepicker"].apply($.datepicker,[this[0]].concat(b)):this.each(function(){"string"==typeof a?$.datepicker["_"+a+"Datepicker"].apply($.datepicker,[this].concat(b)):$.datepicker._attachDatepicker(this,a)}):$.datepicker["_"+a+"Datepicker"].apply($.datepicker,[this[0]].concat(b))},$.datepicker=new Datepicker,$.datepicker.initialized=!1,$.datepicker.uuid=(new Date).getTime(),$.datepicker.version="1.8.23",window["DP_jQuery_"+dpuuid]=$}(jQuery),function(a,b){var c="ui-dialog ui-widget ui-widget-content ui-corner-all ",d={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},e={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0};a.widget("ui.dialog",{options:{autoOpen:!0,buttons:{},closeOnEscape:!0,closeText:"close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:!1,maxWidth:!1,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",collision:"fit",using:function(b){var c=a(this).css(b).offset().top;0>c&&a(this).css("top",b.top-c)}},resizable:!0,show:null,stack:!0,title:"",width:300,zIndex:1e3},_create:function(){this.originalTitle=this.element.attr("title"),"string"!=typeof this.originalTitle&&(this.originalTitle=""),this.options.title=this.options.title||this.originalTitle;var b=this,d=b.options,e=d.title||"&#160;",f=a.ui.dialog.getTitleId(b.element),g=(b.uiDialog=a("<div></div>")).appendTo(document.body).hide().addClass(c+d.dialogClass).css({zIndex:d.zIndex}).attr("tabIndex",-1).css("outline",0).keydown(function(c){d.closeOnEscape&&!c.isDefaultPrevented()&&c.keyCode&&c.keyCode===a.ui.keyCode.ESCAPE&&(b.close(c),c.preventDefault())}).attr({role:"dialog","aria-labelledby":f}).mousedown(function(a){b.moveToTop(!1,a)}),h=(b.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(g),(b.uiDialogTitlebar=a("<div></div>")).addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(g)),i=a('<a href="#"></a>').addClass("ui-dialog-titlebar-close ui-corner-all").attr("role","button").hover(function(){i.addClass("ui-state-hover")},function(){i.removeClass("ui-state-hover")}).focus(function(){i.addClass("ui-state-focus")}).blur(function(){i.removeClass("ui-state-focus")}).click(function(a){return b.close(a),!1}).appendTo(h);(b.uiDialogTitlebarCloseText=a("<span></span>")).addClass("ui-icon ui-icon-closethick").text(d.closeText).appendTo(i),a("<span></span>").addClass("ui-dialog-title").attr("id",f).html(e).prependTo(h);a.isFunction(d.beforeclose)&&!a.isFunction(d.beforeClose)&&(d.beforeClose=d.beforeclose),h.find("*").add(h).disableSelection(),d.draggable&&a.fn.draggable&&b._makeDraggable(),d.resizable&&a.fn.resizable&&b._makeResizable(),b._createButtons(d.buttons),b._isOpen=!1,a.fn.bgiframe&&g.bgiframe()},_init:function(){this.options.autoOpen&&this.open()},destroy:function(){var a=this;return a.overlay&&a.overlay.destroy(),a.uiDialog.hide(),a.element.unbind(".dialog").removeData("dialog").removeClass("ui-dialog-content ui-widget-content").hide().appendTo("body"),a.uiDialog.remove(),a.originalTitle&&a.element.attr("title",a.originalTitle),a},widget:function(){return this.uiDialog},close:function(b){var c,d,e=this;if(!1!==e._trigger("beforeClose",b))return e.overlay&&e.overlay.destroy(),e.uiDialog.unbind("keypress.ui-dialog"),e._isOpen=!1,e.options.hide?e.uiDialog.hide(e.options.hide,function(){e._trigger("close",b)}):(e.uiDialog.hide(),e._trigger("close",b)),a.ui.dialog.overlay.resize(),e.options.modal&&(c=0,a(".ui-dialog").each(function(){this!==e.uiDialog[0]&&(d=a(this).css("z-index"),isNaN(d)||(c=Math.max(c,d)))}),a.ui.dialog.maxZ=c),e},isOpen:function(){return this._isOpen},moveToTop:function(b,c){var d,e=this,f=e.options;return f.modal&&!b||!f.stack&&!f.modal?e._trigger("focus",c):(f.zIndex>a.ui.dialog.maxZ&&(a.ui.dialog.maxZ=f.zIndex),e.overlay&&(a.ui.dialog.maxZ+=1,e.overlay.$el.css("z-index",a.ui.dialog.overlay.maxZ=a.ui.dialog.maxZ)),d={scrollTop:e.element.scrollTop(),scrollLeft:e.element.scrollLeft()},a.ui.dialog.maxZ+=1,e.uiDialog.css("z-index",a.ui.dialog.maxZ),e.element.attr(d),e._trigger("focus",c),e)},open:function(){if(!this._isOpen){var b=this,c=b.options,d=b.uiDialog;return b.overlay=c.modal?new a.ui.dialog.overlay(b):null,b._size(),b._position(c.position),d.show(c.show),b.moveToTop(!0),c.modal&&d.bind("keydown.ui-dialog",function(b){if(b.keyCode===a.ui.keyCode.TAB){var c=a(":tabbable",this),d=c.filter(":first"),e=c.filter(":last");return b.target!==e[0]||b.shiftKey?b.target===d[0]&&b.shiftKey?(e.focus(1),!1):void 0:(d.focus(1),!1)}}),a(b.element.find(":tabbable").get().concat(d.find(".ui-dialog-buttonpane :tabbable").get().concat(d.get()))).eq(0).focus(),b._isOpen=!0,b._trigger("open"),b}},_createButtons:function(b){var c=this,d=!1,e=a("<div></div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),f=a("<div></div>").addClass("ui-dialog-buttonset").appendTo(e);c.uiDialog.find(".ui-dialog-buttonpane").remove(),"object"==typeof b&&null!==b&&a.each(b,function(){return!(d=!0)}),d&&(a.each(b,function(b,d){d=a.isFunction(d)?{click:d,text:b}:d;var e=a('<button type="button"></button>').click(function(){d.click.apply(c.element[0],arguments)}).appendTo(f);a.each(d,function(a,b){"click"!==a&&(a in e?e[a](b):e.attr(a,b))}),a.fn.button&&e.button()}),e.appendTo(c.uiDialog))},_makeDraggable:function(){function b(a){return{position:a.position,offset:a.offset}}var c,d=this,e=d.options,f=a(document);d.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(f,g){c="auto"===e.height?"auto":a(this).height(),a(this).height(a(this).height()).addClass("ui-dialog-dragging"),d._trigger("dragStart",f,b(g))},drag:function(a,c){d._trigger("drag",a,b(c))},stop:function(g,h){e.position=[h.position.left-f.scrollLeft(),h.position.top-f.scrollTop()],a(this).removeClass("ui-dialog-dragging").height(c),d._trigger("dragStop",g,b(h)),a.ui.dialog.overlay.resize()}})},_makeResizable:function(c){function d(a){return{originalPosition:a.originalPosition,originalSize:a.originalSize,position:a.position,size:a.size}}c=c===b?this.options.resizable:c;var e=this,f=e.options,g=e.uiDialog.css("position"),h="string"==typeof c?c:"n,e,s,w,se,sw,ne,nw";e.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:e.element,maxWidth:f.maxWidth,maxHeight:f.maxHeight,minWidth:f.minWidth,minHeight:e._minHeight(),handles:h,start:function(b,c){a(this).addClass("ui-dialog-resizing"),e._trigger("resizeStart",b,d(c))},resize:function(a,b){e._trigger("resize",a,d(b))},stop:function(b,c){a(this).removeClass("ui-dialog-resizing"),f.height=a(this).height(),f.width=a(this).width(),e._trigger("resizeStop",b,d(c)),a.ui.dialog.overlay.resize()}}).css("position",g).find(".ui-resizable-se").addClass("ui-icon ui-icon-grip-diagonal-se")},_minHeight:function(){var a=this.options;return"auto"===a.height?a.minHeight:Math.min(a.minHeight,a.height)},_position:function(b){var c,d=[],e=[0,0];b?(("string"==typeof b||"object"==typeof b&&"0"in b)&&(d=b.split?b.split(" "):[b[0],b[1]],1===d.length&&(d[1]=d[0]),a.each(["left","top"],function(a,b){+d[a]===d[a]&&(e[a]=d[a],d[a]=b)}),b={my:d.join(" "),at:d.join(" "),offset:e.join(" ")}),b=a.extend({},a.ui.dialog.prototype.options.position,b)):b=a.ui.dialog.prototype.options.position,c=this.uiDialog.is(":visible"),c||this.uiDialog.show(),this.uiDialog.css({top:0,left:0}).position(a.extend({of:window},b)),c||this.uiDialog.hide()},_setOptions:function(b){var c=this,f={},g=!1;a.each(b,function(a,b){c._setOption(a,b),a in d&&(g=!0),a in e&&(f[a]=b)}),g&&this._size(),this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option",f)},_setOption:function(b,d){var e=this,f=e.uiDialog;switch(b){case"beforeclose":b="beforeClose";break;case"buttons":e._createButtons(d);break;case"closeText":e.uiDialogTitlebarCloseText.text(""+d);break;case"dialogClass":f.removeClass(e.options.dialogClass).addClass(c+d);break;case"disabled":d?f.addClass("ui-dialog-disabled"):f.removeClass("ui-dialog-disabled");break;case"draggable":var g=f.is(":data(draggable)");g&&!d&&f.draggable("destroy"),!g&&d&&e._makeDraggable();break;case"position":e._position(d);break;case"resizable":var h=f.is(":data(resizable)");h&&!d&&f.resizable("destroy"),h&&"string"==typeof d&&f.resizable("option","handles",d),h||d===!1||e._makeResizable(d);break;case"title":a(".ui-dialog-title",e.uiDialogTitlebar).html(""+(d||"&#160;"))}a.Widget.prototype._setOption.apply(e,arguments)},_size:function(){var b,c,d=this.options,e=this.uiDialog.is(":visible");if(this.element.show().css({width:"auto",minHeight:0,height:0}),d.minWidth>d.width&&(d.width=d.minWidth),b=this.uiDialog.css({height:"auto",width:d.width}).height(),c=Math.max(0,d.minHeight-b),"auto"===d.height)if(a.support.minHeight)this.element.css({minHeight:c,height:"auto"});else{this.uiDialog.show();var f=this.element.css("height","auto").height();e||this.uiDialog.hide(),this.element.height(Math.max(f,c))}else this.element.height(Math.max(d.height-b,0));this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())}}),a.extend(a.ui.dialog,{version:"1.8.23",uuid:0,maxZ:0,getTitleId:function(a){var b=a.attr("id");return b||(this.uuid+=1,b=this.uuid),"ui-dialog-title-"+b},overlay:function(b){this.$el=a.ui.dialog.overlay.create(b)}}),a.extend(a.ui.dialog.overlay,{instances:[],oldInstances:[],maxZ:0,events:a.map("focus,mousedown,mouseup,keydown,keypress,click".split(","),function(a){return a+".dialog-overlay"}).join(" "),create:function(b){0===this.instances.length&&(setTimeout(function(){a.ui.dialog.overlay.instances.length&&a(document).bind(a.ui.dialog.overlay.events,function(b){return a(b.target).zIndex()<a.ui.dialog.overlay.maxZ?!1:void 0})},1),a(document).bind("keydown.dialog-overlay",function(c){b.options.closeOnEscape&&!c.isDefaultPrevented()&&c.keyCode&&c.keyCode===a.ui.keyCode.ESCAPE&&(b.close(c),c.preventDefault())}),a(window).bind("resize.dialog-overlay",a.ui.dialog.overlay.resize));var c=(this.oldInstances.pop()||a("<div></div>").addClass("ui-widget-overlay")).appendTo(document.body).css({width:this.width(),height:this.height()});return a.fn.bgiframe&&c.bgiframe(),this.instances.push(c),c},destroy:function(b){var c=a.inArray(b,this.instances);-1!=c&&this.oldInstances.push(this.instances.splice(c,1)[0]),0===this.instances.length&&a([document,window]).unbind(".dialog-overlay"),b.remove();var d=0;a.each(this.instances,function(){d=Math.max(d,this.css("z-index"))}),this.maxZ=d},height:function(){var b,c;return a.browser.msie&&a.browser.version<7?(b=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight),c=Math.max(document.documentElement.offsetHeight,document.body.offsetHeight),c>b?a(window).height()+"px":b+"px"):a(document).height()+"px"},width:function(){var b,c;return a.browser.msie?(b=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth),c=Math.max(document.documentElement.offsetWidth,document.body.offsetWidth),c>b?a(window).width()+"px":b+"px"):a(document).width()+"px"},resize:function(){var b=a([]);a.each(a.ui.dialog.overlay.instances,function(){b=b.add(this)}),b.css({width:0,height:0}).css({width:a.ui.dialog.overlay.width(),height:a.ui.dialog.overlay.height()})}}),a.extend(a.ui.dialog.overlay.prototype,{destroy:function(){a.ui.dialog.overlay.destroy(this.$el)}})}(jQuery),function(a,b){a.ui=a.ui||{};var c=/left|center|right/,d=/top|center|bottom/,e="center",f={},g=a.fn.position,h=a.fn.offset;a.fn.position=function(b){if(!b||!b.of)return g.apply(this,arguments);b=a.extend({},b);var h,i,j,k=a(b.of),l=k[0],m=(b.collision||"flip").split(" "),n=b.offset?b.offset.split(" "):[0,0];return 9===l.nodeType?(h=k.width(),i=k.height(),j={top:0,left:0}):l.setTimeout?(h=k.width(),i=k.height(),j={top:k.scrollTop(),left:k.scrollLeft()}):l.preventDefault?(b.at="left top",h=i=0,j={top:b.of.pageY,left:b.of.pageX}):(h=k.outerWidth(),i=k.outerHeight(),j=k.offset()),a.each(["my","at"],function(){var a=(b[this]||"").split(" ");1===a.length&&(a=c.test(a[0])?a.concat([e]):d.test(a[0])?[e].concat(a):[e,e]),a[0]=c.test(a[0])?a[0]:e,a[1]=d.test(a[1])?a[1]:e,b[this]=a}),1===m.length&&(m[1]=m[0]),n[0]=parseInt(n[0],10)||0,1===n.length&&(n[1]=n[0]),n[1]=parseInt(n[1],10)||0,"right"===b.at[0]?j.left+=h:b.at[0]===e&&(j.left+=h/2),"bottom"===b.at[1]?j.top+=i:b.at[1]===e&&(j.top+=i/2),j.left+=n[0],j.top+=n[1],this.each(function(){var c,d=a(this),g=d.outerWidth(),k=d.outerHeight(),l=parseInt(a.curCSS(this,"marginLeft",!0))||0,o=parseInt(a.curCSS(this,"marginTop",!0))||0,p=g+l+(parseInt(a.curCSS(this,"marginRight",!0))||0),q=k+o+(parseInt(a.curCSS(this,"marginBottom",!0))||0),r=a.extend({},j);"right"===b.my[0]?r.left-=g:b.my[0]===e&&(r.left-=g/2),"bottom"===b.my[1]?r.top-=k:b.my[1]===e&&(r.top-=k/2),f.fractions||(r.left=Math.round(r.left),r.top=Math.round(r.top)),c={left:r.left-l,top:r.top-o},a.each(["left","top"],function(d,e){a.ui.position[m[d]]&&a.ui.position[m[d]][e](r,{targetWidth:h,targetHeight:i,elemWidth:g,elemHeight:k,collisionPosition:c,collisionWidth:p,collisionHeight:q,offset:n,my:b.my,at:b.at})}),a.fn.bgiframe&&d.bgiframe(),d.offset(a.extend(r,{using:b.using}))})},a.ui.position={fit:{left:function(b,c){var d=a(window),e=c.collisionPosition.left+c.collisionWidth-d.width()-d.scrollLeft();b.left=e>0?b.left-e:Math.max(b.left-c.collisionPosition.left,b.left)},top:function(b,c){var d=a(window),e=c.collisionPosition.top+c.collisionHeight-d.height()-d.scrollTop();b.top=e>0?b.top-e:Math.max(b.top-c.collisionPosition.top,b.top)}},flip:{left:function(b,c){if(c.at[0]!==e){var d=a(window),f=c.collisionPosition.left+c.collisionWidth-d.width()-d.scrollLeft(),g="left"===c.my[0]?-c.elemWidth:"right"===c.my[0]?c.elemWidth:0,h="left"===c.at[0]?c.targetWidth:-c.targetWidth,i=-2*c.offset[0];b.left+=c.collisionPosition.left<0?g+h+i:f>0?g+h+i:0}},top:function(b,c){if(c.at[1]!==e){var d=a(window),f=c.collisionPosition.top+c.collisionHeight-d.height()-d.scrollTop(),g="top"===c.my[1]?-c.elemHeight:"bottom"===c.my[1]?c.elemHeight:0,h="top"===c.at[1]?c.targetHeight:-c.targetHeight,i=-2*c.offset[1];b.top+=c.collisionPosition.top<0?g+h+i:f>0?g+h+i:0}}}},a.offset.setOffset||(a.offset.setOffset=function(b,c){/static/.test(a.curCSS(b,"position"))&&(b.style.position="relative");var d=a(b),e=d.offset(),f=parseInt(a.curCSS(b,"top",!0),10)||0,g=parseInt(a.curCSS(b,"left",!0),10)||0,h={
top:c.top-e.top+f,left:c.left-e.left+g};"using"in c?c.using.call(b,h):d.css(h)},a.fn.offset=function(b){var c=this[0];return c&&c.ownerDocument?b?a.isFunction(b)?this.each(function(c){a(this).offset(b.call(this,c,a(this).offset()))}):this.each(function(){a.offset.setOffset(this,b)}):h.call(this):null}),a.curCSS||(a.curCSS=a.css),function(){var b,c,d,e,g,h=document.getElementsByTagName("body")[0],i=document.createElement("div");b=document.createElement(h?"div":"body"),d={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},h&&a.extend(d,{position:"absolute",left:"-1000px",top:"-1000px"});for(var j in d)b.style[j]=d[j];b.appendChild(i),c=h||document.documentElement,c.insertBefore(b,c.firstChild),i.style.cssText="position: absolute; left: 10.7432222px; top: 10.432325px; height: 30px; width: 201px;",e=a(i).offset(function(a,b){return b}).offset(),b.innerHTML="",c.removeChild(b),g=e.top+e.left+(h?2e3:0),f.fractions=g>21&&22>g}()}(jQuery),function(a,b){a.widget("ui.progressbar",{options:{value:0,max:100},min:0,_create:function(){this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min,"aria-valuemax":this.options.max,"aria-valuenow":this._value()}),this.valueDiv=a("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this.oldValue=this._value(),this._refreshValue()},destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove(),a.Widget.prototype.destroy.apply(this,arguments)},value:function(a){return a===b?this._value():(this._setOption("value",a),this)},_setOption:function(b,c){"value"===b&&(this.options.value=c,this._refreshValue(),this._value()===this.options.max&&this._trigger("complete")),a.Widget.prototype._setOption.apply(this,arguments)},_value:function(){var a=this.options.value;return"number"!=typeof a&&(a=0),Math.min(this.options.max,Math.max(this.min,a))},_percentage:function(){return 100*this._value()/this.options.max},_refreshValue:function(){var a=this.value(),b=this._percentage();this.oldValue!==a&&(this.oldValue=a,this._trigger("change")),this.valueDiv.toggle(a>this.min).toggleClass("ui-corner-right",a===this.options.max).width(b.toFixed(0)+"%"),this.element.attr("aria-valuenow",a)}}),a.extend(a.ui.progressbar,{version:"1.8.23"})}(jQuery),function(a,b){var c=5;a.widget("ui.slider",a.ui.mouse,{widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null},_create:function(){var b=this,d=this.options,e=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),f="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",g=d.values&&d.values.length||1,h=[];this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"+(d.disabled?" ui-slider-disabled ui-disabled":"")),this.range=a([]),d.range&&(d.range===!0&&(d.values||(d.values=[this._valueMin(),this._valueMin()]),d.values.length&&2!==d.values.length&&(d.values=[d.values[0],d.values[0]])),this.range=a("<div></div>").appendTo(this.element).addClass("ui-slider-range ui-widget-header"+("min"===d.range||"max"===d.range?" ui-slider-range-"+d.range:"")));for(var i=e.length;g>i;i+=1)h.push(f);this.handles=e.add(a(h.join("")).appendTo(b.element)),this.handle=this.handles.eq(0),this.handles.add(this.range).filter("a").click(function(a){a.preventDefault()}).hover(function(){d.disabled||a(this).addClass("ui-state-hover")},function(){a(this).removeClass("ui-state-hover")}).focus(function(){d.disabled?a(this).blur():(a(".ui-slider .ui-state-focus").removeClass("ui-state-focus"),a(this).addClass("ui-state-focus"))}).blur(function(){a(this).removeClass("ui-state-focus")}),this.handles.each(function(b){a(this).data("index.ui-slider-handle",b)}),this.handles.keydown(function(d){var e,f,g,h,i=a(this).data("index.ui-slider-handle");if(!b.options.disabled){switch(d.keyCode){case a.ui.keyCode.HOME:case a.ui.keyCode.END:case a.ui.keyCode.PAGE_UP:case a.ui.keyCode.PAGE_DOWN:case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:if(d.preventDefault(),!b._keySliding&&(b._keySliding=!0,a(this).addClass("ui-state-active"),e=b._start(d,i),e===!1))return}switch(h=b.options.step,f=g=b.options.values&&b.options.values.length?b.values(i):b.value(),d.keyCode){case a.ui.keyCode.HOME:g=b._valueMin();break;case a.ui.keyCode.END:g=b._valueMax();break;case a.ui.keyCode.PAGE_UP:g=b._trimAlignValue(f+(b._valueMax()-b._valueMin())/c);break;case a.ui.keyCode.PAGE_DOWN:g=b._trimAlignValue(f-(b._valueMax()-b._valueMin())/c);break;case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:if(f===b._valueMax())return;g=b._trimAlignValue(f+h);break;case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:if(f===b._valueMin())return;g=b._trimAlignValue(f-h)}b._slide(d,i,g)}}).keyup(function(c){var d=a(this).data("index.ui-slider-handle");b._keySliding&&(b._keySliding=!1,b._stop(c,d),b._change(c,d),a(this).removeClass("ui-state-active"))}),this._refreshValue(),this._animateOff=!1},destroy:function(){return this.handles.remove(),this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-slider-disabled ui-widget ui-widget-content ui-corner-all").removeData("slider").unbind(".slider"),this._mouseDestroy(),this},_mouseCapture:function(b){var c,d,e,f,g,h,i,j,k,l=this.options;return l.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),c={x:b.pageX,y:b.pageY},d=this._normValueFromMouse(c),e=this._valueMax()-this._valueMin()+1,g=this,this.handles.each(function(b){var c=Math.abs(d-g.values(b));e>c&&(e=c,f=a(this),h=b)}),l.range===!0&&this.values(1)===l.min&&(h+=1,f=a(this.handles[h])),i=this._start(b,h),i===!1?!1:(this._mouseSliding=!0,g._handleIndex=h,f.addClass("ui-state-active").focus(),j=f.offset(),k=!a(b.target).parents().andSelf().is(".ui-slider-handle"),this._clickOffset=k?{left:0,top:0}:{left:b.pageX-j.left-f.width()/2,top:b.pageY-j.top-f.height()/2-(parseInt(f.css("borderTopWidth"),10)||0)-(parseInt(f.css("borderBottomWidth"),10)||0)+(parseInt(f.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(b,h,d),this._animateOff=!0,!0))},_mouseStart:function(a){return!0},_mouseDrag:function(a){var b={x:a.pageX,y:a.pageY},c=this._normValueFromMouse(b);return this._slide(a,this._handleIndex,c),!1},_mouseStop:function(a){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(a,this._handleIndex),this._change(a,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(a){var b,c,d,e,f;return"horizontal"===this.orientation?(b=this.elementSize.width,c=a.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(b=this.elementSize.height,c=a.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),d=c/b,d>1&&(d=1),0>d&&(d=0),"vertical"===this.orientation&&(d=1-d),e=this._valueMax()-this._valueMin(),f=this._valueMin()+d*e,this._trimAlignValue(f)},_start:function(a,b){var c={handle:this.handles[b],value:this.value()};return this.options.values&&this.options.values.length&&(c.value=this.values(b),c.values=this.values()),this._trigger("start",a,c)},_slide:function(a,b,c){var d,e,f;this.options.values&&this.options.values.length?(d=this.values(b?0:1),2===this.options.values.length&&this.options.range===!0&&(0===b&&c>d||1===b&&d>c)&&(c=d),c!==this.values(b)&&(e=this.values(),e[b]=c,f=this._trigger("slide",a,{handle:this.handles[b],value:c,values:e}),d=this.values(b?0:1),f!==!1&&this.values(b,c,!0))):c!==this.value()&&(f=this._trigger("slide",a,{handle:this.handles[b],value:c}),f!==!1&&this.value(c))},_stop:function(a,b){var c={handle:this.handles[b],value:this.value()};this.options.values&&this.options.values.length&&(c.value=this.values(b),c.values=this.values()),this._trigger("stop",a,c)},_change:function(a,b){if(!this._keySliding&&!this._mouseSliding){var c={handle:this.handles[b],value:this.value()};this.options.values&&this.options.values.length&&(c.value=this.values(b),c.values=this.values()),this._trigger("change",a,c)}},value:function(a){return arguments.length?(this.options.value=this._trimAlignValue(a),this._refreshValue(),void this._change(null,0)):this._value()},values:function(b,c){var d,e,f;if(arguments.length>1)return this.options.values[b]=this._trimAlignValue(c),this._refreshValue(),void this._change(null,b);if(!arguments.length)return this._values();if(!a.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(b):this.value();for(d=this.options.values,e=arguments[0],f=0;f<d.length;f+=1)d[f]=this._trimAlignValue(e[f]),this._change(null,f);this._refreshValue()},_setOption:function(b,c){var d,e=0;switch(a.isArray(this.options.values)&&(e=this.options.values.length),a.Widget.prototype._setOption.apply(this,arguments),b){case"disabled":c?(this.handles.filter(".ui-state-focus").blur(),this.handles.removeClass("ui-state-hover"),this.handles.propAttr("disabled",!0),this.element.addClass("ui-disabled")):(this.handles.propAttr("disabled",!1),this.element.removeClass("ui-disabled"));break;case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),d=0;e>d;d+=1)this._change(null,d);this._animateOff=!1}},_value:function(){var a=this.options.value;return a=this._trimAlignValue(a)},_values:function(a){var b,c,d;if(arguments.length)return b=this.options.values[a],b=this._trimAlignValue(b);for(c=this.options.values.slice(),d=0;d<c.length;d+=1)c[d]=this._trimAlignValue(c[d]);return c},_trimAlignValue:function(a){if(a<=this._valueMin())return this._valueMin();if(a>=this._valueMax())return this._valueMax();var b=this.options.step>0?this.options.step:1,c=(a-this._valueMin())%b,d=a-c;return 2*Math.abs(c)>=b&&(d+=c>0?b:-b),parseFloat(d.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var b,c,d,e,f,g=this.options.range,h=this.options,i=this,j=this._animateOff?!1:h.animate,k={};this.options.values&&this.options.values.length?this.handles.each(function(d,e){b=(i.values(d)-i._valueMin())/(i._valueMax()-i._valueMin())*100,k["horizontal"===i.orientation?"left":"bottom"]=b+"%",a(this).stop(1,1)[j?"animate":"css"](k,h.animate),i.options.range===!0&&("horizontal"===i.orientation?(0===d&&i.range.stop(1,1)[j?"animate":"css"]({left:b+"%"},h.animate),1===d&&i.range[j?"animate":"css"]({width:b-c+"%"},{queue:!1,duration:h.animate})):(0===d&&i.range.stop(1,1)[j?"animate":"css"]({bottom:b+"%"},h.animate),1===d&&i.range[j?"animate":"css"]({height:b-c+"%"},{queue:!1,duration:h.animate}))),c=b}):(d=this.value(),e=this._valueMin(),f=this._valueMax(),b=f!==e?(d-e)/(f-e)*100:0,k["horizontal"===i.orientation?"left":"bottom"]=b+"%",this.handle.stop(1,1)[j?"animate":"css"](k,h.animate),"min"===g&&"horizontal"===this.orientation&&this.range.stop(1,1)[j?"animate":"css"]({width:b+"%"},h.animate),"max"===g&&"horizontal"===this.orientation&&this.range[j?"animate":"css"]({width:100-b+"%"},{queue:!1,duration:h.animate}),"min"===g&&"vertical"===this.orientation&&this.range.stop(1,1)[j?"animate":"css"]({height:b+"%"},h.animate),"max"===g&&"vertical"===this.orientation&&this.range[j?"animate":"css"]({height:100-b+"%"},{queue:!1,duration:h.animate}))}}),a.extend(a.ui.slider,{version:"1.8.23"})}(jQuery),function(a,b){function c(){return++e}function d(){return++f}var e=0,f=0;a.widget("ui.tabs",{options:{add:null,ajaxOptions:null,cache:!1,cookie:null,collapsible:!1,disable:null,disabled:[],enable:null,event:"click",fx:null,idPrefix:"ui-tabs-",load:null,panelTemplate:"<div></div>",remove:null,select:null,show:null,spinner:"<em>Loading&#8230;</em>",tabTemplate:"<li><a href='#{href}'><span>#{label}</span></a></li>"},_create:function(){this._tabify(!0)},_setOption:function(a,b){if("selected"==a){if(this.options.collapsible&&b==this.options.selected)return;this.select(b)}else this.options[a]=b,this._tabify()},_tabId:function(a){return a.title&&a.title.replace(/\s/g,"_").replace(/[^\w\u00c0-\uFFFF-]/g,"")||this.options.idPrefix+c()},_sanitizeSelector:function(a){return a.replace(/:/g,"\\:")},_cookie:function(){var b=this.cookie||(this.cookie=this.options.cookie.name||"ui-tabs-"+d());return a.cookie.apply(null,[b].concat(a.makeArray(arguments)))},_ui:function(a,b){return{tab:a,panel:b,index:this.anchors.index(a)}},_cleanup:function(){this.lis.filter(".ui-state-processing").removeClass("ui-state-processing").find("span:data(label.tabs)").each(function(){var b=a(this);b.html(b.data("label.tabs")).removeData("label.tabs")})},_tabify:function(c){function d(b,c){b.css("display",""),!a.support.opacity&&c.opacity&&b[0].style.removeAttribute("filter")}var e=this,f=this.options,g=/^#.+/;this.list=this.element.find("ol,ul").eq(0),this.lis=a(" > li:has(a[href])",this.list),this.anchors=this.lis.map(function(){return a("a",this)[0]}),this.panels=a([]),this.anchors.each(function(b,c){var d,h=a(c).attr("href"),i=h.split("#")[0];if(i&&(i===location.toString().split("#")[0]||(d=a("base")[0])&&i===d.href)&&(h=c.hash,c.href=h),g.test(h))e.panels=e.panels.add(e.element.find(e._sanitizeSelector(h)));else if(h&&"#"!==h){a.data(c,"href.tabs",h),a.data(c,"load.tabs",h.replace(/#.*$/,""));var j=e._tabId(c);c.href="#"+j;var k=e.element.find("#"+j);k.length||(k=a(f.panelTemplate).attr("id",j).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").insertAfter(e.panels[b-1]||e.list),k.data("destroy.tabs",!0)),e.panels=e.panels.add(k)}else f.disabled.push(b)}),c?(this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all"),this.list.addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all"),this.lis.addClass("ui-state-default ui-corner-top"),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom"),f.selected===b?(location.hash&&this.anchors.each(function(a,b){return b.hash==location.hash?(f.selected=a,!1):void 0}),"number"!=typeof f.selected&&f.cookie&&(f.selected=parseInt(e._cookie(),10)),"number"!=typeof f.selected&&this.lis.filter(".ui-tabs-selected").length&&(f.selected=this.lis.index(this.lis.filter(".ui-tabs-selected"))),f.selected=f.selected||(this.lis.length?0:-1)):null===f.selected&&(f.selected=-1),f.selected=f.selected>=0&&this.anchors[f.selected]||f.selected<0?f.selected:0,f.disabled=a.unique(f.disabled.concat(a.map(this.lis.filter(".ui-state-disabled"),function(a,b){return e.lis.index(a)}))).sort(),-1!=a.inArray(f.selected,f.disabled)&&f.disabled.splice(a.inArray(f.selected,f.disabled),1),this.panels.addClass("ui-tabs-hide"),this.lis.removeClass("ui-tabs-selected ui-state-active"),f.selected>=0&&this.anchors.length&&(e.element.find(e._sanitizeSelector(e.anchors[f.selected].hash)).removeClass("ui-tabs-hide"),this.lis.eq(f.selected).addClass("ui-tabs-selected ui-state-active"),e.element.queue("tabs",function(){e._trigger("show",null,e._ui(e.anchors[f.selected],e.element.find(e._sanitizeSelector(e.anchors[f.selected].hash))[0]))}),this.load(f.selected)),a(window).bind("unload",function(){e.lis.add(e.anchors).unbind(".tabs"),e.lis=e.anchors=e.panels=null})):f.selected=this.lis.index(this.lis.filter(".ui-tabs-selected")),this.element[f.collapsible?"addClass":"removeClass"]("ui-tabs-collapsible"),f.cookie&&this._cookie(f.selected,f.cookie);for(var h,i=0;h=this.lis[i];i++)a(h)[-1==a.inArray(i,f.disabled)||a(h).hasClass("ui-tabs-selected")?"removeClass":"addClass"]("ui-state-disabled");if(f.cache===!1&&this.anchors.removeData("cache.tabs"),this.lis.add(this.anchors).unbind(".tabs"),"mouseover"!==f.event){var j=function(a,b){b.is(":not(.ui-state-disabled)")&&b.addClass("ui-state-"+a)},k=function(a,b){b.removeClass("ui-state-"+a)};this.lis.bind("mouseover.tabs",function(){j("hover",a(this))}),this.lis.bind("mouseout.tabs",function(){k("hover",a(this))}),this.anchors.bind("focus.tabs",function(){j("focus",a(this).closest("li"))}),this.anchors.bind("blur.tabs",function(){k("focus",a(this).closest("li"))})}var l,m;f.fx&&(a.isArray(f.fx)?(l=f.fx[0],m=f.fx[1]):l=m=f.fx);var n=m?function(b,c){a(b).closest("li").addClass("ui-tabs-selected ui-state-active"),c.hide().removeClass("ui-tabs-hide").animate(m,m.duration||"normal",function(){d(c,m),e._trigger("show",null,e._ui(b,c[0]))})}:function(b,c){a(b).closest("li").addClass("ui-tabs-selected ui-state-active"),c.removeClass("ui-tabs-hide"),e._trigger("show",null,e._ui(b,c[0]))},o=l?function(a,b){b.animate(l,l.duration||"normal",function(){e.lis.removeClass("ui-tabs-selected ui-state-active"),b.addClass("ui-tabs-hide"),d(b,l),e.element.dequeue("tabs")})}:function(a,b,c){e.lis.removeClass("ui-tabs-selected ui-state-active"),b.addClass("ui-tabs-hide"),e.element.dequeue("tabs")};this.anchors.bind(f.event+".tabs",function(){var b=this,c=a(b).closest("li"),d=e.panels.filter(":not(.ui-tabs-hide)"),g=e.element.find(e._sanitizeSelector(b.hash));if(c.hasClass("ui-tabs-selected")&&!f.collapsible||c.hasClass("ui-state-disabled")||c.hasClass("ui-state-processing")||e.panels.filter(":animated").length||e._trigger("select",null,e._ui(this,g[0]))===!1)return this.blur(),!1;if(f.selected=e.anchors.index(this),e.abort(),f.collapsible){if(c.hasClass("ui-tabs-selected"))return f.selected=-1,f.cookie&&e._cookie(f.selected,f.cookie),e.element.queue("tabs",function(){o(b,d)}).dequeue("tabs"),this.blur(),!1;if(!d.length)return f.cookie&&e._cookie(f.selected,f.cookie),e.element.queue("tabs",function(){n(b,g)}),e.load(e.anchors.index(this)),this.blur(),!1}if(f.cookie&&e._cookie(f.selected,f.cookie),!g.length)throw"jQuery UI Tabs: Mismatching fragment identifier.";d.length&&e.element.queue("tabs",function(){o(b,d)}),e.element.queue("tabs",function(){n(b,g)}),e.load(e.anchors.index(this)),a.browser.msie&&this.blur()}),this.anchors.bind("click.tabs",function(){return!1})},_getIndex:function(a){return"string"==typeof a&&(a=this.anchors.index(this.anchors.filter("[href$='"+a+"']"))),a},destroy:function(){var b=this.options;return this.abort(),this.element.unbind(".tabs").removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible").removeData("tabs"),this.list.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all"),this.anchors.each(function(){var b=a.data(this,"href.tabs");b&&(this.href=b);var c=a(this).unbind(".tabs");a.each(["href","load","cache"],function(a,b){c.removeData(b+".tabs")})}),this.lis.unbind(".tabs").add(this.panels).each(function(){a.data(this,"destroy.tabs")?a(this).remove():a(this).removeClass(["ui-state-default","ui-corner-top","ui-tabs-selected","ui-state-active","ui-state-hover","ui-state-focus","ui-state-disabled","ui-tabs-panel","ui-widget-content","ui-corner-bottom","ui-tabs-hide"].join(" "))}),b.cookie&&this._cookie(null,b.cookie),this},add:function(c,d,e){e===b&&(e=this.anchors.length);var f=this,g=this.options,h=a(g.tabTemplate.replace(/#\{href\}/g,c).replace(/#\{label\}/g,d)),i=c.indexOf("#")?this._tabId(a("a",h)[0]):c.replace("#","");h.addClass("ui-state-default ui-corner-top").data("destroy.tabs",!0);var j=f.element.find("#"+i);return j.length||(j=a(g.panelTemplate).attr("id",i).data("destroy.tabs",!0)),j.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide"),e>=this.lis.length?(h.appendTo(this.list),j.appendTo(this.list[0].parentNode)):(h.insertBefore(this.lis[e]),j.insertBefore(this.panels[e])),g.disabled=a.map(g.disabled,function(a,b){return a>=e?++a:a}),this._tabify(),1==this.anchors.length&&(g.selected=0,h.addClass("ui-tabs-selected ui-state-active"),j.removeClass("ui-tabs-hide"),this.element.queue("tabs",function(){f._trigger("show",null,f._ui(f.anchors[0],f.panels[0]))}),this.load(0)),this._trigger("add",null,this._ui(this.anchors[e],this.panels[e])),this},remove:function(b){b=this._getIndex(b);var c=this.options,d=this.lis.eq(b).remove(),e=this.panels.eq(b).remove();return d.hasClass("ui-tabs-selected")&&this.anchors.length>1&&this.select(b+(b+1<this.anchors.length?1:-1)),c.disabled=a.map(a.grep(c.disabled,function(a,c){return a!=b}),function(a,c){return a>=b?--a:a}),this._tabify(),this._trigger("remove",null,this._ui(d.find("a")[0],e[0])),this},enable:function(b){b=this._getIndex(b);var c=this.options;if(-1!=a.inArray(b,c.disabled))return this.lis.eq(b).removeClass("ui-state-disabled"),c.disabled=a.grep(c.disabled,function(a,c){return a!=b}),this._trigger("enable",null,this._ui(this.anchors[b],this.panels[b])),this},disable:function(a){a=this._getIndex(a);var b=this.options;return a!=b.selected&&(this.lis.eq(a).addClass("ui-state-disabled"),b.disabled.push(a),b.disabled.sort(),this._trigger("disable",null,this._ui(this.anchors[a],this.panels[a]))),this},select:function(a){if(a=this._getIndex(a),-1==a){if(!this.options.collapsible||-1==this.options.selected)return this;a=this.options.selected}return this.anchors.eq(a).trigger(this.options.event+".tabs"),this},load:function(b){b=this._getIndex(b);var c=this,d=this.options,e=this.anchors.eq(b)[0],f=a.data(e,"load.tabs");if(this.abort(),!f||0!==this.element.queue("tabs").length&&a.data(e,"cache.tabs"))return void this.element.dequeue("tabs");if(this.lis.eq(b).addClass("ui-state-processing"),d.spinner){var g=a("span",e);g.data("label.tabs",g.html()).html(d.spinner)}return this.xhr=a.ajax(a.extend({},d.ajaxOptions,{url:f,success:function(f,g){c.element.find(c._sanitizeSelector(e.hash)).html(f),c._cleanup(),d.cache&&a.data(e,"cache.tabs",!0),c._trigger("load",null,c._ui(c.anchors[b],c.panels[b]));try{d.ajaxOptions.success(f,g)}catch(h){}},error:function(a,f,g){c._cleanup(),c._trigger("load",null,c._ui(c.anchors[b],c.panels[b]));try{d.ajaxOptions.error(a,f,b,e)}catch(g){}}})),c.element.dequeue("tabs"),this},abort:function(){return this.element.queue([]),this.panels.stop(!1,!0),this.element.queue("tabs",this.element.queue("tabs").splice(-2,2)),this.xhr&&(this.xhr.abort(),delete this.xhr),this._cleanup(),this},url:function(a,b){return this.anchors.eq(a).removeData("cache.tabs").data("load.tabs",b),this},length:function(){return this.anchors.length}}),a.extend(a.ui.tabs,{version:"1.8.23"}),a.extend(a.ui.tabs.prototype,{rotation:null,rotate:function(a,b){var c=this,d=this.options,e=c._rotate||(c._rotate=function(b){clearTimeout(c.rotation),c.rotation=setTimeout(function(){var a=d.selected;c.select(++a<c.anchors.length?a:0)},a),b&&b.stopPropagation()}),f=c._unrotate||(c._unrotate=b?function(a){e()}:function(a){a.clientX&&c.rotate(null)});return a?(this.element.bind("tabsshow",e),this.anchors.bind(d.event+".tabs",f),e()):(clearTimeout(c.rotation),this.element.unbind("tabsshow",e),this.anchors.unbind(d.event+".tabs",f),delete this._rotate,delete this._unrotate),this}})}(jQuery),function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a(jQuery)}(function(a){function b(){var b=c(this),g=f.settings;return isNaN(b.datetime)||(0==g.cutoff||Math.abs(e(b.datetime))<g.cutoff)&&a(this).text(d(b.datetime)),this}function c(b){if(b=a(b),!b.data("timeago")){b.data("timeago",{datetime:f.datetime(b)});var c=a.trim(b.text()),d={year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"};f.settings.localeTitle?b.attr("title",b.data("timeago").datetime.toLocaleTimeString("en-us",d)):!(c.length>0)||f.isTime(b)&&b.attr("title")||b.attr("title",b.data("timeago").datetime.toLocaleTimeString("en-us",d))}return b.data("timeago")}function d(a){return f.inWords(e(a))}function e(a){return(new Date).getTime()-a.getTime()}a.timeago=function(b){return d(b instanceof Date?b:"string"==typeof b?a.timeago.parse(b):"number"==typeof b?new Date(b):a.timeago.datetime(b))};var f=a.timeago;a.extend(a.timeago,{settings:{refreshMillis:6e4,allowPast:!0,allowFuture:!1,localeTitle:!1,cutoff:0,strings:{prefixAgo:null,prefixFromNow:null,suffixAgo:"ago",suffixFromNow:"from now",inPast:"any moment now",seconds:"less than a minute",minute:"about a minute",minutes:"%d minutes",hour:"about an hour",hours:"about %d hours",day:"a day",days:"%d days",month:"about a month",months:"%d months",year:"about a year",years:"%d years",wordSeparator:" ",numbers:[]}},inWords:function(b){function c(c,e){var f=a.isFunction(c)?c(e,b):c,g=d.numbers&&d.numbers[e]||e;return f.replace(/%d/i,g)}if(!this.settings.allowPast&&!this.settings.allowFuture)throw"timeago allowPast and allowFuture settings can not both be set to false.";var d=this.settings.strings,e=d.prefixAgo,f=d.suffixAgo;if(this.settings.allowFuture&&0>b&&(e=d.prefixFromNow,f=d.suffixFromNow),!this.settings.allowPast&&b>=0)return this.settings.strings.inPast;var g=Math.abs(b)/1e3,h=g/60,i=h/60,j=i/24,k=j/365,l=45>g&&c(d.seconds,Math.round(g))||90>g&&c(d.minute,1)||45>h&&c(d.minutes,Math.round(h))||90>h&&c(d.hour,1)||24>i&&c(d.hours,Math.round(i))||42>i&&c(d.day,1)||30>j&&c(d.days,Math.round(j))||45>j&&c(d.month,1)||365>j&&c(d.months,Math.round(j/30))||1.5>k&&c(d.year,1)||c(d.years,Math.round(k)),m=d.wordSeparator||"";return void 0===d.wordSeparator&&(m=" "),a.trim([e,l,f].join(m))},parse:function(b){var c=a.trim(b);return c+=" "+SITE_TIMEZONE,c=c.replace(/\.\d+/,""),c=c.replace(/-/,"/").replace(/-/,"/"),c=c.replace(/T/," ").replace(/Z/," UTC"),c=c.replace(/([\+\-]\d\d)\:?(\d\d)/," $1$2"),c=c.replace(/([\+\-]\d\d)$/," $100"),new Date(c)},datetime:function(b){var c=f.isTime(b)?a(b).attr("datetime"):a(b).attr("title");return f.parse(c)},isTime:function(b){return"time"===a(b).get(0).tagName.toLowerCase()}});var g={init:function(){var c=a.proxy(b,this);c();var d=f.settings;d.refreshMillis>0&&(this._timeagoInterval=setInterval(c,d.refreshMillis))},update:function(c){var d=f.parse(c);a(this).data("timeago",{datetime:d}),f.settings.localeTitle&&a(this).attr("title",d.toLocaleString()),b.apply(this)},updateFromDOM:function(){a(this).data("timeago",{datetime:f.parse(f.isTime(this)?a(this).attr("datetime"):a(this).attr("title"))}),b.apply(this)},dispose:function(){this._timeagoInterval&&(window.clearInterval(this._timeagoInterval),this._timeagoInterval=null)}};a.fn.timeago=function(a,b){var c=a?g[a]:g.init;if(!c)throw new Error("Unknown function name '"+a+"' for timeago");return this.each(function(){c.call(this,b)}),this},document.createElement("abbr"),document.createElement("time")}),function(a,b){a.fn.drawDoughnutChart=function(b,c){function d(a,b){var c=-1.57,d=4.7131,e=u+w(c)*a,f=v+x(c)*a,g=u+w(c)*b,h=v+x(c)*b,i=u+w(d)*a,j=v+x(d)*a,k=u+w(d)*b,l=v+x(d)*b,m=["M",e,f,"A",a,a,0,1,1,i,j,"Z","M",k,l,"A",b,b,0,1,0,g,h,"Z"];return m=m.join(" ")}function e(c){var d=a(this).data().order;if(z.showTip&&L.text(b[d].title+": "+b[d].value).fadeIn(200),z.showLabel){O.text(b[d].title).css("font-size",q(O,b[d].title));var e=z.shortInt?p(b[d].value):b[d].value;P.html(e).css("font-size",q(P,e))}z.onPathEnter.apply(a(this),[c,b])}function f(c){if(z.showTip&&L.hide(),z.showLabel){O.text(z.summaryTitle).css("font-size",q(O,z.summaryTitle));var d=z.shortInt?p(H):H;P.html(d).css("font-size",q(P,d))}z.onPathLeave.apply(a(this),[c,b])}function g(a){z.showTip&&L.css({top:a.pageY+z.tipOffsetY,left:a.pageX-L.width()/2+z.tipOffsetX})}function h(c){var d=a(this).data().order;"undefined"!=typeof b[d].action&&b[d].action()}function i(a){var c=-y/2,e=1;if(z.animation&&z.animateRotate&&(e=a),j(a,H),K.attr("opacity",a),1===b.length&&4.7122<e*(b[0].value/H*(2*y))+c)return void D[0].attr("d",d(F,G));for(var f=0,g=b.length;g>f;f++){var h=e*(b[f].value/H*(2*y)),i=c+h,k=(i-c)%(2*y)>y?1:0,l=u+w(c)*F,m=v+x(c)*F,n=u+w(c)*G,o=v+x(c)*G,p=u+w(i)*F,q=v+x(i)*F,r=u+w(i)*G,s=v+x(i)*G,t=["M",l,m,"A",F,F,0,k,1,p,q,"L",r,s,"A",G,G,0,k,0,n,o,"Z"];D[f].attr("d",t.join(" ")),c+=h}}function j(a,b){P.css({opacity:a}).text((b*a).toFixed(1));var c=z.shortInt?p(b):b;P.html(c).css("font-size",q(P,c))}function k(a,b){var c=z.animation?o(E(a),null,0):1;b(c)}function l(a){var b=z.animation?1/o(z.animationSteps,Number.MAX_VALUE,1):1,c=z.animation?0:1;B(function(){c+=b,k(c,a),1>=c?B(arguments.callee):z.afterDrawed.call(r)})}function m(a){return Math.min.apply(null,a)}function n(a){return!isNaN(parseFloat(a))&&isFinite(a)}function o(a,b,c){return n(b)&&a>b?b:n(c)&&c>a?c:a}function p(a){a=a.toString();var b=a.length;return 5>b?a:8>b?'<span title="'+a+'">'+a.substring(0,b-3)+"K</span>":'<span title="'+a+'">'+a.substring(0,b-6)+"M</span>"}function q(a,b){a.css("font-size",""),b=b.toString().replace(/(<([^>]+)>)/gi,"");var c=a.width()/b.length*z.ratioFont,d=a.width()-b.length*a.css("font-size").replace(/px/,"")/z.ratioFont;return 0>d?c+"px":""}var r=this,s=r.width(),t=r.height(),u=s/2,v=t/2,w=Math.cos,x=Math.sin,y=Math.PI,z=a.extend({segmentShowStroke:!0,segmentStrokeColor:"#0C1013",segmentStrokeWidth:1,baseColor:"rgba(0,0,0,0.5)",baseOffset:4,edgeOffset:10,percentageInnerCutout:75,animation:!0,animationSteps:90,animationEasing:"easeInOutExpo",animateRotate:!0,tipOffsetX:-8,tipOffsetY:-45,showTip:!0,showLabel:!1,ratioFont:1.5,shortInt:!1,tipClass:"doughnutTip",summaryClass:"doughnutSummary",summaryTitle:"",summaryTitleClass:"doughnutSummaryTitle",summaryNumberClass:"doughnutSummaryNumber",beforeDraw:function(){},afterDrawed:function(){},onPathEnter:function(a,b){},onPathLeave:function(a,b){}},c),A={linear:function(a){return a},easeInOutExpo:function(a){var b=.5>a?8*a*a*a*a:1-8*--a*a*a*a;return b>1?1:b}},B=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){window.setTimeout(a,1e3/60)}}();z.beforeDraw.call(r);var C=a('<svg width="'+s+'" height="'+t+'" viewBox="0 0 '+s+" "+t+'" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"></svg>').appendTo(r),D=[],E=A[z.animationEasing],F=m([t/2,s/2])-z.edgeOffset,G=F*(z.percentageInnerCutout/100),H=0,I=F+z.baseOffset,J=G-z.baseOffset;a(document.createElementNS("http://www.w3.org/2000/svg","path")).attr({d:d(I,J),fill:z.baseColor}).appendTo(C);var K=a(document.createElementNS("http://www.w3.org/2000/svg","g"));if(K.attr({opacity:0}).appendTo(C),z.showTip){var L=a('<div class="'+z.tipClass+'" />').appendTo("body").hide();L.width(),L.height()}var M=2*(G-(F-G)),N=a('<div class="'+z.summaryClass+'" />').appendTo(r).css({width:M+"px",height:M+"px","margin-left":-(M/2)+"px","margin-top":-(M/2)+"px"}),O=a('<p class="'+z.summaryTitleClass+'">'+z.summaryTitle+"</p>").appendTo(N);O.css("font-size",q(O,z.summaryTitle));for(var P=a('<p class="'+z.summaryNumberClass+'"></p>').appendTo(N).css({opacity:0}),Q=0,R=b.length;R>Q;Q++)H+=b[Q].value,D[Q]=a(document.createElementNS("http://www.w3.org/2000/svg","path")).attr({"stroke-width":z.segmentStrokeWidth,stroke:z.segmentStrokeColor,fill:b[Q].color,"data-order":Q}).appendTo(K).on("mouseenter",e).on("mouseleave",f).on("mousemove",g).on("click",h);return l(i),r}}(jQuery),function(){var a=this,b=a._,c={},d=Array.prototype,e=Object.prototype,f=Function.prototype,g=d.push,h=d.slice,i=d.concat,j=e.toString,k=e.hasOwnProperty,l=Array.isArray,m=Object.keys,n=f.bind,o=function(a){return a instanceof o?a:this instanceof o?void(this._wrapped=a):new o(a)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=o),exports._=o):a._=o,o.VERSION="1.6.0";var p=function(a,b,c){if(!b)return a;switch(null==c?3:c){case 1:return function(c){return a.call(b,c)};case 2:return function(c,d){return a.call(b,c,d);
};case 3:return function(c,d,e){return a.call(b,c,d,e)};case 4:return function(c,d,e,f){return a.call(b,c,d,e,f)}}return function(){return a.apply(this,arguments)}},q=function(a,b,c){return null==a?o.identity:o.isFunction(a)?p(a,b,c):o.isObject(a)?o.matches(a):o.property(a)};o.each=o.forEach=function(a,b,d){var e,f;if(null==a)return a;if(b=p(b,d),a.length===+a.length)for(e=0,f=a.length;f>e&&b(a[e],e,a)!==c;e++);else{var g=o.keys(a);for(e=0,f=g.length;f>e&&b(a[g[e]],g[e],a)!==c;e++);}return a},o.map=o.collect=function(a,b,c){var d=[];return null==a?d:(b=q(b,c),o.each(a,function(a,c,e){d.push(b(a,c,e))}),d)};var r="Reduce of empty array with no initial value";o.reduce=o.foldl=o.inject=function(a,b,c,d){var e=arguments.length>2;if(null==a&&(a=[]),b=p(b,d,4),o.each(a,function(a,d,f){e?c=b(c,a,d,f):(c=a,e=!0)}),!e)throw TypeError(r);return c},o.reduceRight=o.foldr=function(a,b,c,d){var e=arguments.length>2;null==a&&(a=[]);var f=a.length;if(b=p(b,d,4),f!==+f){var g=o.keys(a);f=g.length}if(o.each(a,function(d,h,i){h=g?g[--f]:--f,e?c=b(c,a[h],h,i):(c=a[h],e=!0)}),!e)throw TypeError(r);return c},o.find=o.detect=function(a,b,c){var d;return b=q(b,c),o.some(a,function(a,c,e){return b(a,c,e)?(d=a,!0):void 0}),d},o.filter=o.select=function(a,b,c){var d=[];return null==a?d:(b=q(b,c),o.each(a,function(a,c,e){b(a,c,e)&&d.push(a)}),d)},o.reject=function(a,b,c){return o.filter(a,o.negate(q(b)),c)},o.every=o.all=function(a,b,d){var e=!0;return null==a?e:(b=q(b,d),o.each(a,function(a,d,f){return e=b(a,d,f),e?void 0:c}),!!e)},o.some=o.any=function(a,b,d){var e=!1;return null==a?e:(b=q(b,d),o.each(a,function(a,d,f){return e=b(a,d,f),e?c:void 0}),!!e)},o.contains=o.include=function(a,b){return null==a?!1:a.length===+a.length?o.indexOf(a,b)>=0:o.some(a,function(a){return a===b})},o.invoke=function(a,b){var c=h.call(arguments,2),d=o.isFunction(b);return o.map(a,function(a){return(d?b:a[b]).apply(a,c)})},o.pluck=function(a,b){return o.map(a,o.property(b))},o.where=function(a,b){return o.filter(a,o.matches(b))},o.findWhere=function(a,b){return o.find(a,o.matches(b))},o.max=function(a,b,c){var d,e,f=-(1/0),g=-(1/0);if(!b&&o.isArray(a))for(var h=0,i=a.length;i>h;h++)d=a[h],d>f&&(f=d);else b=q(b,c),o.each(a,function(a,c,d){e=b?b(a,c,d):a,(e>g||e===-(1/0)&&f===-(1/0))&&(f=a,g=e)});return f},o.min=function(a,b,c){var d,e,f=1/0,g=1/0;if(!b&&o.isArray(a))for(var h=0,i=a.length;i>h;h++)d=a[h],f>d&&(f=d);else b=q(b,c),o.each(a,function(a,c,d){e=b?b(a,c,d):a,(g>e||e===1/0&&f===1/0)&&(f=a,g=e)});return f},o.shuffle=function(a){var b,c=0,d=[];return o.each(a,function(a){b=o.random(c++),d[c-1]=d[b],d[b]=a}),d},o.sample=function(a,b,c){return null==b||c?(a.length!==+a.length&&(a=o.values(a)),a[o.random(a.length-1)]):o.shuffle(a).slice(0,Math.max(0,b))},o.sortBy=function(a,b,c){return b=q(b,c),o.pluck(o.map(a,function(a,c,d){return{value:a,index:c,criteria:b(a,c,d)}}).sort(function(a,b){var c=a.criteria,d=b.criteria;if(c!==d){if(c>d||void 0===c)return 1;if(d>c||void 0===d)return-1}return a.index-b.index}),"value")};var s=function(a){return function(b,c,d){var e={};return c=q(c,d),o.each(b,function(d,f){var g=c(d,f,b);a(e,d,g)}),e}};o.groupBy=s(function(a,b,c){o.has(a,c)?a[c].push(b):a[c]=[b]}),o.indexBy=s(function(a,b,c){a[c]=b}),o.countBy=s(function(a,b,c){o.has(a,c)?a[c]++:a[c]=1}),o.sortedIndex=function(a,b,c,d){c=q(c,d,1);for(var e=c(b),f=0,g=a.length;g>f;){var h=f+g>>>1;c(a[h])<e?f=h+1:g=h}return f},o.toArray=function(a){return a?o.isArray(a)?h.call(a):a.length===+a.length?o.map(a,o.identity):o.values(a):[]},o.size=function(a){return null==a?0:a.length===+a.length?a.length:o.keys(a).length},o.first=o.head=o.take=function(a,b,c){return null==a?void 0:null==b||c?a[0]:0>b?[]:h.call(a,0,b)},o.initial=function(a,b,c){return h.call(a,0,Math.max(0,a.length-(null==b||c?1:b)))},o.last=function(a,b,c){return null==a?void 0:null==b||c?a[a.length-1]:h.call(a,Math.max(a.length-b,0))},o.rest=o.tail=o.drop=function(a,b,c){return h.call(a,null==b||c?1:b)},o.compact=function(a){return o.filter(a,o.identity)};var t=function(a,b,c,d){if(b&&o.every(a,o.isArray))return i.apply(d,a);for(var e=0,f=a.length;f>e;e++){var h=a[e];o.isArray(h)||o.isArguments(h)?b?g.apply(d,h):t(h,b,c,d):c||d.push(h)}return d};o.flatten=function(a,b){return t(a,b,!1,[])},o.without=function(a){return o.difference(a,h.call(arguments,1))},o.partition=function(a,b,c){b=q(b,c,1);var d=[],e=[];return o.each(a,function(a,c,f){(b(a,c,f)?d:e).push(a)}),[d,e]},o.uniq=o.unique=function(a,b,c,d){if(null==a)return[];o.isFunction(b)&&(d=c,c=b,b=!1),c&&(c=q(c,d));for(var e=[],f=[],g=0,h=a.length;h>g;g++){var i=a[g];c&&(i=c(i,g,a)),(b?g&&f===i:o.contains(f,i))||(b?f=i:f.push(i),e.push(a[g]))}return e},o.union=function(){return o.uniq(t(arguments,!0,!0,[]))},o.intersection=function(a){if(null==a)return[];for(var b=[],c=arguments.length,d=0,e=a.length;e>d;d++){var f=a[d];if(!o.contains(b,f)){for(var g=1;c>g&&o.contains(arguments[g],f);g++);g===c&&b.push(f)}}return b},o.difference=function(a){var b=t(h.call(arguments,1),!0,!0,[]);return o.filter(a,function(a){return!o.contains(b,a)})},o.zip=function(){for(var a=o.max(o.pluck(arguments,"length").concat(0)),b=Array(a),c=0;a>c;c++)b[c]=o.pluck(arguments,""+c);return b},o.object=function(a,b){if(null==a)return{};for(var c={},d=0,e=a.length;e>d;d++)b?c[a[d]]=b[d]:c[a[d][0]]=a[d][1];return c},o.indexOf=function(a,b,c){if(null==a)return-1;var d=0,e=a.length;if(c){if("number"!=typeof c)return d=o.sortedIndex(a,b),a[d]===b?d:-1;d=0>c?Math.max(0,e+c):c}for(;e>d;d++)if(a[d]===b)return d;return-1},o.lastIndexOf=function(a,b,c){if(null==a)return-1;for(var d=null==c?a.length:c;d--;)if(a[d]===b)return d;return-1},o.range=function(a,b,c){arguments.length<=1&&(b=a||0,a=0),c=arguments[2]||1;for(var d=Math.max(Math.ceil((b-a)/c),0),e=0,f=Array(d);d>e;)f[e++]=a,a+=c;return f};var u=function(){};o.bind=function(a,b){var c,d;if(n&&a.bind===n)return n.apply(a,h.call(arguments,1));if(!o.isFunction(a))throw TypeError("Bind must be called on a function");return c=h.call(arguments,2),d=function(){if(!(this instanceof d))return a.apply(b,c.concat(h.call(arguments)));u.prototype=a.prototype;var e=new u;u.prototype=null;var f=a.apply(e,c.concat(h.call(arguments)));return Object(f)===f?f:e}},o.partial=function(a){var b=h.call(arguments,1);return function(){for(var c=0,d=b.slice(),e=0,f=d.length;f>e;e++)d[e]===o&&(d[e]=arguments[c++]);for(;c<arguments.length;)d.push(arguments[c++]);return a.apply(this,d)}},o.bindAll=function(a){var b=h.call(arguments,1);if(0===b.length)throw Error("bindAll must be passed function names");return o.each(b,function(b){a[b]=o.bind(a[b],a)}),a},o.memoize=function(a,b){b||(b=o.identity);var c=function(){var d=c.cache,e=b.apply(this,arguments);return o.has(d,e)||(d[e]=a.apply(this,arguments)),d[e]};return c.cache={},c},o.delay=function(a,b){var c=h.call(arguments,2);return setTimeout(function(){return a.apply(null,c)},b)},o.defer=function(a){return o.delay.apply(o,[a,1].concat(h.call(arguments,1)))},o.throttle=function(a,b,c){var d,e,f,g=null,h=0;c||(c={});var i=function(){h=c.leading===!1?0:o.now(),g=null,f=a.apply(d,e),g||(d=e=null)};return function(){var j=o.now();h||c.leading!==!1||(h=j);var k=b-(j-h);return d=this,e=arguments,0>=k||k>b?(clearTimeout(g),g=null,h=j,f=a.apply(d,e),g||(d=e=null)):g||c.trailing===!1||(g=setTimeout(i,k)),f}},o.debounce=function(a,b,c){var d,e,f,g,h,i=function(){var j=o.now()-g;b>j&&j>0?d=setTimeout(i,b-j):(d=null,c||(h=a.apply(f,e),d||(f=e=null)))};return function(){f=this,e=arguments,g=o.now();var j=c&&!d;return d||(d=setTimeout(i,b)),j&&(h=a.apply(f,e),f=e=null),h}},o.once=function(a){var b,c=!1;return function(){return c?b:(c=!0,b=a.apply(this,arguments),a=null,b)}},o.wrap=function(a,b){return o.partial(b,a)},o.negate=function(a){return function(){return!a.apply(this,arguments)}},o.compose=function(){var a=arguments;return function(){for(var b=arguments,c=a.length-1;c>=0;c--)b=[a[c].apply(this,b)];return b[0]}},o.after=function(a,b){return function(){return--a<1?b.apply(this,arguments):void 0}},o.keys=function(a){if(!o.isObject(a))return[];if(m)return m(a);var b=[];for(var c in a)o.has(a,c)&&b.push(c);return b},o.values=function(a){for(var b=o.keys(a),c=b.length,d=Array(c),e=0;c>e;e++)d[e]=a[b[e]];return d},o.pairs=function(a){for(var b=o.keys(a),c=b.length,d=Array(c),e=0;c>e;e++)d[e]=[b[e],a[b[e]]];return d},o.invert=function(a){for(var b={},c=o.keys(a),d=0,e=c.length;e>d;d++)b[a[c[d]]]=c[d];return b},o.functions=o.methods=function(a){var b=[];for(var c in a)o.isFunction(a[c])&&b.push(c);return b.sort()},o.extend=function(a){return o.isObject(a)?(o.each(h.call(arguments,1),function(b){for(var c in b)a[c]=b[c]}),a):a},o.pick=function(a,b,c){var d,e={};if(o.isFunction(b))for(d in a){var f=a[d];b.call(c,f,d,a)&&(e[d]=f)}else for(var g=i.apply([],h.call(arguments,1)),j=0,k=g.length;k>j;j++)d=g[j],d in a&&(e[d]=a[d]);return e},o.omit=function(a,b,c){var d;return o.isFunction(b)?b=o.negate(b):(d=o.map(i.apply([],h.call(arguments,1)),String),b=function(a,b){return!o.contains(d,b)}),o.pick(a,b,c)},o.defaults=function(a){return o.isObject(a)?(o.each(h.call(arguments,1),function(b){for(var c in b)void 0===a[c]&&(a[c]=b[c])}),a):a},o.clone=function(a){return o.isObject(a)?o.isArray(a)?a.slice():o.extend({},a):a},o.tap=function(a,b){return b(a),a};var v=function(a,b,c,d){if(a===b)return 0!==a||1/a===1/b;if(null==a||null==b)return a===b;a instanceof o&&(a=a._wrapped),b instanceof o&&(b=b._wrapped);var e=j.call(a);if(e!==j.call(b))return!1;switch(e){case"[object RegExp]":case"[object String]":return""+a==""+b;case"[object Number]":return a!=+a?b!=+b:0==a?1/a==1/b:a==+b;case"[object Date]":case"[object Boolean]":return+a===+b}if("object"!=typeof a||"object"!=typeof b)return!1;for(var f=c.length;f--;)if(c[f]===a)return d[f]===b;var g=a.constructor,h=b.constructor;if(g!==h&&"constructor"in a&&"constructor"in b&&!(o.isFunction(g)&&g instanceof g&&o.isFunction(h)&&h instanceof h))return!1;c.push(a),d.push(b);var i=0,k=!0;if("[object Array]"===e){if(i=a.length,k=i===b.length)for(;i--&&(k=v(a[i],b[i],c,d)););}else{for(var l in a)if(o.has(a,l)&&(i++,!(k=o.has(b,l)&&v(a[l],b[l],c,d))))break;if(k){for(l in b)if(o.has(b,l)&&!i--)break;k=!i}}return c.pop(),d.pop(),k};o.isEqual=function(a,b){return v(a,b,[],[])},o.isEmpty=function(a){if(null==a)return!0;if(o.isArray(a)||o.isString(a)||o.isArguments(a))return 0===a.length;for(var b in a)if(o.has(a,b))return!1;return!0},o.isElement=function(a){return!(!a||1!==a.nodeType)},o.isArray=l||function(a){return"[object Array]"===j.call(a)},o.isObject=function(a){return a===Object(a)},o.each(["Arguments","Function","String","Number","Date","RegExp"],function(a){o["is"+a]=function(b){return j.call(b)==="[object "+a+"]"}}),o.isArguments(arguments)||(o.isArguments=function(a){return o.has(a,"callee")}),"function"!=typeof/./&&(o.isFunction=function(a){return"function"==typeof a}),o.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a))},o.isNaN=function(a){return o.isNumber(a)&&a!==+a},o.isBoolean=function(a){return a===!0||a===!1||"[object Boolean]"===j.call(a)},o.isNull=function(a){return null===a},o.isUndefined=function(a){return void 0===a},o.has=function(a,b){return null!=a&&k.call(a,b)},o.noConflict=function(){return a._=b,this},o.identity=function(a){return a},o.constant=function(a){return function(){return a}},o.noop=function(){},o.property=function(a){return function(b){return b[a]}},o.matches=function(a){return function(b){if(null==b)return o.isEmpty(a);if(b===a)return!0;for(var c in a)if(a[c]!==b[c])return!1;return!0}},o.times=function(a,b,c){var d=Array(Math.max(0,a));b=p(b,c,1);for(var e=0;a>e;e++)d[e]=b(e);return d},o.random=function(a,b){return null==b&&(b=a,a=0),a+Math.floor(Math.random()*(b-a+1))},o.now=Date.now||function(){return(new Date).getTime()};var w={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};w.unescape=o.invert(w.escape);var x={escape:RegExp("["+o.keys(w.escape).join("")+"]","g"),unescape:RegExp("("+o.keys(w.unescape).join("|")+")","g")};o.each(["escape","unescape"],function(a){o[a]=function(b){return null==b?"":(""+b).replace(x[a],function(b){return w[a][b]})}}),o.result=function(a,b){if(null==a)return void 0;var c=a[b];return o.isFunction(c)?a[b]():c};var y=0;o.uniqueId=function(a){var b=++y+"";return a?a+b:b},o.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var z=/(.)^/,A={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},B=/\\|'|\r|\n|\u2028|\u2029/g,C=function(a){return"\\"+A[a]};o.template=function(a,b,c){c=o.defaults({},c,o.templateSettings);var d=RegExp([(c.escape||z).source,(c.interpolate||z).source,(c.evaluate||z).source].join("|")+"|$","g"),e=0,f="__p+='";a.replace(d,function(b,c,d,g,h){return f+=a.slice(e,h).replace(B,C),e=h+b.length,c?f+="'+\n((__t=("+c+"))==null?'':_.escape(__t))+\n'":d?f+="'+\n((__t=("+d+"))==null?'':__t)+\n'":g&&(f+="';\n"+g+"\n__p+='"),b}),f+="';\n",c.variable||(f="with(obj||{}){\n"+f+"}\n"),f="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+f+"return __p;\n";try{var g=Function(c.variable||"obj","_",f)}catch(h){throw h.source=f,h}if(b)return g(b,o);var i=function(a){return g.call(this,a,o)},j=c.variable||"obj";return i.source="function("+j+"){\n"+f+"}",i},o.chain=function(a){return o(a).chain()};var D=function(a){return this._chain?o(a).chain():a};o.mixin=function(a){o.each(o.functions(a),function(b){var c=o[b]=a[b];o.prototype[b]=function(){var a=[this._wrapped];return g.apply(a,arguments),D.call(this,c.apply(o,a))}})},o.mixin(o),o.each(["pop","push","reverse","shift","sort","splice","unshift"],function(a){var b=d[a];o.prototype[a]=function(){var c=this._wrapped;return b.apply(c,arguments),"shift"!==a&&"splice"!==a||0!==c.length||delete c[0],D.call(this,c)}}),o.each(["concat","join","slice"],function(a){var b=d[a];o.prototype[a]=function(){return D.call(this,b.apply(this._wrapped,arguments))}}),o.extend(o.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}}),"function"==typeof define&&define.amd&&define("underscore",[],function(){return o})}.call(this),function(a,b){if("function"==typeof define&&define.amd)define(["underscore","jquery","exports"],function(c,d,e){a.Backbone=b(a,e,c,d)});else if("undefined"!=typeof exports){var c=require("underscore");b(a,exports,c)}else a.Backbone=b(a,{},a._,a.jQuery||a.Zepto||a.ender||a.$)}(this,function(a,b,c,d){var e=a.Backbone,f=[],g=(f.push,f.slice);f.splice;b.VERSION="1.1.2",b.$=d,b.noConflict=function(){return a.Backbone=e,this},b.emulateHTTP=!1,b.emulateJSON=!1;var h=b.Events={on:function(a,b,c){if(!j(this,"on",a,[b,c])||!b)return this;this._events||(this._events={});var d=this._events[a]||(this._events[a]=[]);return d.push({callback:b,context:c,ctx:c||this}),this},once:function(a,b,d){if(!j(this,"once",a,[b,d])||!b)return this;var e=this,f=c.once(function(){e.off(a,f),b.apply(this,arguments)});return f._callback=b,this.on(a,f,d)},off:function(a,b,d){var e,f,g,h,i,k,l,m;if(!this._events||!j(this,"off",a,[b,d]))return this;if(!a&&!b&&!d)return this._events=void 0,this;for(h=a?[a]:c.keys(this._events),i=0,k=h.length;k>i;i++)if(a=h[i],g=this._events[a]){if(this._events[a]=e=[],b||d)for(l=0,m=g.length;m>l;l++)f=g[l],(b&&b!==f.callback&&b!==f.callback._callback||d&&d!==f.context)&&e.push(f);e.length||delete this._events[a]}return this},trigger:function(a){if(!this._events)return this;var b=g.call(arguments,1);if(!j(this,"trigger",a,b))return this;var c=this._events[a],d=this._events.all;return c&&k(c,b),d&&k(d,arguments),this},stopListening:function(a,b,d){var e=this._listeningTo;if(!e)return this;var f=!b&&!d;d||"object"!=typeof b||(d=this),a&&((e={})[a._listenId]=a);for(var g in e)a=e[g],a.off(b,d,this),(f||c.isEmpty(a._events))&&delete this._listeningTo[g];return this}},i=/\s+/,j=function(a,b,c,d){if(!c)return!0;if("object"==typeof c){for(var e in c)a[b].apply(a,[e,c[e]].concat(d));return!1}if(i.test(c)){for(var f=c.split(i),g=0,h=f.length;h>g;g++)a[b].apply(a,[f[g]].concat(d));return!1}return!0},k=function(a,b){var c,d=-1,e=a.length,f=b[0],g=b[1],h=b[2];switch(b.length){case 0:for(;++d<e;)(c=a[d]).callback.call(c.ctx);return;case 1:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f);return;case 2:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f,g);return;case 3:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f,g,h);return;default:for(;++d<e;)(c=a[d]).callback.apply(c.ctx,b);return}},l={listenTo:"on",listenToOnce:"once"};c.each(l,function(a,b){h[b]=function(b,d,e){var f=this._listeningTo||(this._listeningTo={}),g=b._listenId||(b._listenId=c.uniqueId("l"));return f[g]=b,e||"object"!=typeof d||(e=this),b[a](d,e,this),this}}),h.bind=h.on,h.unbind=h.off,c.extend(b,h);var m=b.Model=function(a,b){var d=a||{};b||(b={}),this.cid=c.uniqueId("c"),this.attributes={},b.collection&&(this.collection=b.collection),b.parse&&(d=this.parse(d,b)||{}),d=c.defaults({},d,c.result(this,"defaults")),this.set(d,b),this.changed={},this.initialize.apply(this,arguments)};c.extend(m.prototype,h,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(a){return c.clone(this.attributes)},sync:function(){return b.sync.apply(this,arguments)},get:function(a){return this.attributes[a]},escape:function(a){return c.escape(this.get(a))},has:function(a){return null!=this.get(a)},set:function(a,b,d){var e,f,g,h,i,j,k,l;if(null==a)return this;if("object"==typeof a?(f=a,d=b):(f={})[a]=b,d||(d={}),!this._validate(f,d))return!1;g=d.unset,i=d.silent,h=[],j=this._changing,this._changing=!0,j||(this._previousAttributes=c.clone(this.attributes),this.changed={}),l=this.attributes,k=this._previousAttributes,this.idAttribute in f&&(this.id=f[this.idAttribute]);for(e in f)b=f[e],c.isEqual(l[e],b)||h.push(e),c.isEqual(k[e],b)?delete this.changed[e]:this.changed[e]=b,g?delete l[e]:l[e]=b;if(!i){h.length&&(this._pending=d);for(var m=0,n=h.length;n>m;m++)this.trigger("change:"+h[m],this,l[h[m]],d)}if(j)return this;if(!i)for(;this._pending;)d=this._pending,this._pending=!1,this.trigger("change",this,d);return this._pending=!1,this._changing=!1,this},unset:function(a,b){return this.set(a,void 0,c.extend({},b,{unset:!0}))},clear:function(a){var b={};for(var d in this.attributes)b[d]=void 0;return this.set(b,c.extend({},a,{unset:!0}))},hasChanged:function(a){return null==a?!c.isEmpty(this.changed):c.has(this.changed,a)},changedAttributes:function(a){if(!a)return this.hasChanged()?c.clone(this.changed):!1;var b,d=!1,e=this._changing?this._previousAttributes:this.attributes;for(var f in a)c.isEqual(e[f],b=a[f])||((d||(d={}))[f]=b);return d},previous:function(a){return null!=a&&this._previousAttributes?this._previousAttributes[a]:null},previousAttributes:function(){return c.clone(this._previousAttributes)},fetch:function(a){a=a?c.clone(a):{},void 0===a.parse&&(a.parse=!0);var b=this,d=a.success;return a.success=function(c){return b.set(b.parse(c,a),a)?(d&&d(b,c,a),void b.trigger("sync",b,c,a)):!1},L(this,a),this.sync("read",this,a)},save:function(a,b,d){var e,f,g,h=this.attributes;if(null==a||"object"==typeof a?(e=a,d=b):(e={})[a]=b,d=c.extend({validate:!0},d),e&&!d.wait){if(!this.set(e,d))return!1}else if(!this._validate(e,d))return!1;e&&d.wait&&(this.attributes=c.extend({},h,e)),void 0===d.parse&&(d.parse=!0);var i=this,j=d.success;return d.success=function(a){i.attributes=h;var b=i.parse(a,d);return d.wait&&(b=c.extend(e||{},b)),c.isObject(b)&&!i.set(b,d)?!1:(j&&j(i,a,d),void i.trigger("sync",i,a,d))},L(this,d),f=this.isNew()?"create":d.patch?"patch":"update","patch"===f&&(d.attrs=e),g=this.sync(f,this,d),e&&d.wait&&(this.attributes=h),g},destroy:function(a){a=a?c.clone(a):{};var b=this,d=a.success,e=function(){b.trigger("destroy",b,b.collection,a)};if(a.success=function(c){(a.wait||b.isNew())&&e(),d&&d(b,c,a),b.isNew()||b.trigger("sync",b,c,a)},this.isNew())return a.success(),!1;L(this,a);var f=this.sync("delete",this,a);return a.wait||e(),f},url:function(){var a=c.result(this,"urlRoot")||c.result(this.collection,"url")||K();return this.isNew()?a:a.replace(/([^\/])$/,"$1/")+encodeURIComponent(this.id)},parse:function(a,b){return a},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(a){return this._validate({},c.extend(a||{},{validate:!0}))},_validate:function(a,b){if(!b.validate||!this.validate)return!0;a=c.extend({},this.attributes,a);var d=this.validationError=this.validate(a,b)||null;return d?(this.trigger("invalid",this,d,c.extend(b,{validationError:d})),!1):!0}});var n=["keys","values","pairs","invert","pick","omit"];c.each(n,function(a){m.prototype[a]=function(){var b=g.call(arguments);return b.unshift(this.attributes),c[a].apply(c,b)}});var o=b.Collection=function(a,b){b||(b={}),b.model&&(this.model=b.model),void 0!==b.comparator&&(this.comparator=b.comparator),this._reset(),this.initialize.apply(this,arguments),a&&this.reset(a,c.extend({silent:!0},b))},p={add:!0,remove:!0,merge:!0},q={add:!0,remove:!1};c.extend(o.prototype,h,{model:m,initialize:function(){},toJSON:function(a){return this.map(function(b){return b.toJSON(a)})},sync:function(){return b.sync.apply(this,arguments)},add:function(a,b){return this.set(a,c.extend({merge:!1},b,q))},remove:function(a,b){var d=!c.isArray(a);a=d?[a]:c.clone(a),b||(b={});var e,f,g,h;for(e=0,f=a.length;f>e;e++)h=a[e]=this.get(a[e]),h&&(delete this._byId[h.id],delete this._byId[h.cid],g=this.indexOf(h),this.models.splice(g,1),this.length--,b.silent||(b.index=g,h.trigger("remove",h,this,b)),this._removeReference(h,b));return d?a[0]:a},set:function(a,b){b=c.defaults({},b,p),b.parse&&(a=this.parse(a,b));var d=!c.isArray(a);a=d?a?[a]:[]:c.clone(a);var e,f,g,h,i,j,k,l=b.at,n=this.model,o=this.comparator&&null==l&&b.sort!==!1,q=c.isString(this.comparator)?this.comparator:null,r=[],s=[],t={},u=b.add,v=b.merge,w=b.remove,x=!o&&u&&w?[]:!1;for(e=0,f=a.length;f>e;e++){if(i=a[e]||{},g=i instanceof m?h=i:i[n.prototype.idAttribute||"id"],j=this.get(g))w&&(t[j.cid]=!0),v&&(i=i===h?h.attributes:i,b.parse&&(i=j.parse(i,b)),j.set(i,b),o&&!k&&j.hasChanged(q)&&(k=!0)),a[e]=j;else if(u){if(h=a[e]=this._prepareModel(i,b),!h)continue;r.push(h),this._addReference(h,b)}h=j||h,!x||!h.isNew()&&t[h.id]||x.push(h),t[h.id]=!0}if(w){for(e=0,f=this.length;f>e;++e)t[(h=this.models[e]).cid]||s.push(h);s.length&&this.remove(s,b)}if(r.length||x&&x.length)if(o&&(k=!0),this.length+=r.length,null!=l)for(e=0,f=r.length;f>e;e++)this.models.splice(l+e,0,r[e]);else{x&&(this.models.length=0);var y=x||r;for(e=0,f=y.length;f>e;e++)this.models.push(y[e])}if(k&&this.sort({silent:!0}),!b.silent){for(e=0,f=r.length;f>e;e++)(h=r[e]).trigger("add",h,this,b);(k||x&&x.length)&&this.trigger("sort",this,b)}return d?a[0]:a},reset:function(a,b){b||(b={});for(var d=0,e=this.models.length;e>d;d++)this._removeReference(this.models[d],b);return b.previousModels=this.models,this._reset(),a=this.add(a,c.extend({silent:!0},b)),b.silent||this.trigger("reset",this,b),a},push:function(a,b){return this.add(a,c.extend({at:this.length},b))},pop:function(a){var b=this.at(this.length-1);return this.remove(b,a),b},unshift:function(a,b){return this.add(a,c.extend({at:0},b))},shift:function(a){var b=this.at(0);return this.remove(b,a),b},slice:function(){return g.apply(this.models,arguments)},get:function(a){return null==a?void 0:this._byId[a]||this._byId[a.id]||this._byId[a.cid]},at:function(a){return this.models[a]},where:function(a,b){return c.isEmpty(a)?b?void 0:[]:this[b?"find":"filter"](function(b){for(var c in a)if(a[c]!==b.get(c))return!1;return!0})},findWhere:function(a){return this.where(a,!0)},sort:function(a){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return a||(a={}),c.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(c.bind(this.comparator,this)),a.silent||this.trigger("sort",this,a),this},pluck:function(a){return c.invoke(this.models,"get",a)},fetch:function(a){a=a?c.clone(a):{},void 0===a.parse&&(a.parse=!0);var b=a.success,d=this;return a.success=function(c){var e=a.reset?"reset":"set";d[e](c,a),b&&b(d,c,a),d.trigger("sync",d,c,a)},L(this,a),this.sync("read",this,a)},create:function(a,b){if(b=b?c.clone(b):{},!(a=this._prepareModel(a,b)))return!1;b.wait||this.add(a,b);var d=this,e=b.success;return b.success=function(a,c){b.wait&&d.add(a,b),e&&e(a,c,b)},a.save(null,b),a},parse:function(a,b){return a},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(a,b){if(a instanceof m)return a;b=b?c.clone(b):{},b.collection=this;var d=new this.model(a,b);return d.validationError?(this.trigger("invalid",this,d.validationError,b),!1):d},_addReference:function(a,b){this._byId[a.cid]=a,null!=a.id&&(this._byId[a.id]=a),a.collection||(a.collection=this),a.on("all",this._onModelEvent,this)},_removeReference:function(a,b){this===a.collection&&delete a.collection,a.off("all",this._onModelEvent,this)},_onModelEvent:function(a,b,c,d){("add"!==a&&"remove"!==a||c===this)&&("destroy"===a&&this.remove(b,d),b&&a==="change:"+b.idAttribute&&(delete this._byId[b.previous(b.idAttribute)],null!=b.id&&(this._byId[b.id]=b)),this.trigger.apply(this,arguments))}});var r=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","difference","indexOf","shuffle","lastIndexOf","isEmpty","chain","sample"];c.each(r,function(a){o.prototype[a]=function(){var b=g.call(arguments);return b.unshift(this.models),c[a].apply(c,b)}});var s=["groupBy","countBy","sortBy","indexBy"];c.each(s,function(a){o.prototype[a]=function(b,d){var e=c.isFunction(b)?b:function(a){return a.get(b)};return c[a](this.models,e,d)}});var t=b.View=function(a){this.cid=c.uniqueId("view"),a||(a={}),c.extend(this,c.pick(a,v)),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},u=/^(\S+)\s*(.*)$/,v=["model","collection","el","id","attributes","className","tagName","events"];c.extend(t.prototype,h,{tagName:"div",$:function(a){return this.$el.find(a)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(a,c){return this.$el&&this.undelegateEvents(),this.$el=a instanceof b.$?a:b.$(a),this.el=this.$el[0],c!==!1&&this.delegateEvents(),this},delegateEvents:function(a){if(!a&&!(a=c.result(this,"events")))return this;this.undelegateEvents();for(var b in a){var d=a[b];if(c.isFunction(d)||(d=this[a[b]]),d){var e=b.match(u),f=e[1],g=e[2];d=c.bind(d,this),f+=".delegateEvents"+this.cid,""===g?this.$el.on(f,d):this.$el.on(f,g,d)}}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_ensureElement:function(){if(this.el)this.setElement(c.result(this,"el"),!1);else{var a=c.extend({},c.result(this,"attributes"));this.id&&(a.id=c.result(this,"id")),this.className&&(a["class"]=c.result(this,"className"));var d=b.$("<"+c.result(this,"tagName")+">").attr(a);this.setElement(d,!1)}}}),b.sync=function(a,d,e){var f=x[a];c.defaults(e||(e={}),{emulateHTTP:b.emulateHTTP,emulateJSON:b.emulateJSON});var g={type:f,dataType:"json"};if(e.url||(g.url=c.result(d,"url")||K()),null!=e.data||!d||"create"!==a&&"update"!==a&&"patch"!==a||(g.contentType="application/json",g.data=JSON.stringify(e.attrs||d.toJSON(e))),e.emulateJSON&&(g.contentType="application/x-www-form-urlencoded",g.data=g.data?{model:g.data}:{}),e.emulateHTTP&&("PUT"===f||"DELETE"===f||"PATCH"===f)){g.type="POST",e.emulateJSON&&(g.data._method=f);var h=e.beforeSend;e.beforeSend=function(a){return a.setRequestHeader("X-HTTP-Method-Override",f),h?h.apply(this,arguments):void 0}}"GET"===g.type||e.emulateJSON||(g.processData=!1),"PATCH"===g.type&&w&&(g.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var i=e.xhr=b.ajax(c.extend(g,e));return d.trigger("request",d,i,e),i};var w=!("undefined"==typeof window||!window.ActiveXObject||window.XMLHttpRequest&&(new XMLHttpRequest).dispatchEvent),x={create:"POST",update:"PUT",patch:"PUT","delete":"DELETE",read:"GET"};b.ajax=function(){return b.$.ajax.apply(b.$,arguments)};var y=b.Router=function(a){a||(a={}),a.routes&&(this.routes=a.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},z=/\((.*?)\)/g,A=/(\(\?)?:\w+/g,B=/\*\w+/g,C=/[\-{}\[\]+?.,\\\^$|#\s]/g;c.extend(y.prototype,h,{initialize:function(){},route:function(a,d,e){c.isRegExp(a)||(a=this._routeToRegExp(a)),c.isFunction(d)&&(e=d,d=""),e||(e=this[d]);var f=this;return b.history.route(a,function(c){var g=f._extractParameters(a,c);f.execute(e,g),f.trigger.apply(f,["route:"+d].concat(g)),f.trigger("route",d,g),b.history.trigger("route",f,d,g)}),this},execute:function(a,b){a&&a.apply(this,b)},navigate:function(a,c){return b.history.navigate(a,c),this},_bindRoutes:function(){if(this.routes){this.routes=c.result(this,"routes");for(var a,b=c.keys(this.routes);null!=(a=b.pop());)this.route(a,this.routes[a])}},_routeToRegExp:function(a){return a=a.replace(C,"\\$&").replace(z,"(?:$1)?").replace(A,function(a,b){return b?a:"([^/?]+)"}).replace(B,"([^?]*?)"),new RegExp("^"+a+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(a,b){var d=a.exec(b).slice(1);return c.map(d,function(a,b){return b===d.length-1?a||null:a?decodeURIComponent(a):null})}});var D=b.History=function(){this.handlers=[],c.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},E=/^[#\/]|\s+$/g,F=/^\/+|\/+$/g,G=/msie [\w.]+/,H=/\/$/,I=/#.*$/;D.started=!1,c.extend(D.prototype,h,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root},getHash:function(a){var b=(a||this).location.href.match(/#(.*)$/);return b?b[1]:""},getFragment:function(a,b){if(null==a)if(this._hasPushState||!this._wantsHashChange||b){a=decodeURI(this.location.pathname+this.location.search);var c=this.root.replace(H,"");a.indexOf(c)||(a=a.slice(c.length))}else a=this.getHash();return a.replace(E,"")},start:function(a){if(D.started)throw new Error("Backbone.history has already been started");D.started=!0,this.options=c.extend({root:"/"},this.options,a),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var d=this.getFragment(),e=document.documentMode,f=G.exec(navigator.userAgent.toLowerCase())&&(!e||7>=e);if(this.trigger_function=!0,this.root=("/"+this.root+"/").replace(F,"/"),f&&this._wantsHashChange){var g=b.$('<iframe src="javascript:0" tabindex="-1">');this.iframe=g.hide().appendTo("body")[0].contentWindow,this.navigate(d)}this._hasPushState?b.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!f?b.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=d;var h=this.location;if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot())return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+"#"+this.fragment),!0;this._hasPushState&&this.atRoot()&&h.hash&&(this.fragment=this.getHash().replace(E,""),this.history.replaceState({},document.title,this.root+this.fragment))}return this.options.silent?void 0:this.loadUrl()},stop:function(){b.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),D.started=!1},route:function(a,b){this.handlers.unshift({route:a,callback:b})},checkUrl:function(a){var b=this.getFragment();return b===this.fragment&&this.iframe&&(b=this.getFragment(this.getHash(this.iframe))),b===this.fragment?!1:(this.iframe&&this.navigate(b),
void this.loadUrl())},loadUrl:function(a){return a=this.fragment=this.getFragment(a),this.trigger_function?c.any(this.handlers,function(b){return b.route.test(a)?(b.callback(a),!0):void 0}):void(this.trigger_function=!0)},navigate:function(a,b){if(!D.started)return!1;b&&b!==!0||(b={trigger:!!b});var c=this.root+(a=this.getFragment(a||""));if("undefined"!=typeof b.trigger_function&&(this.trigger_function=b.trigger_function),a=a.replace(I,""),this.fragment!==a){if(this.fragment=a,""===a&&"/"!==c&&(c=c.slice(0,-1)),this._hasPushState)this.history[b.replace?"replaceState":"pushState"]({},document.title,c);else{if(!this._wantsHashChange)return this.location.assign(c);this._updateHash(this.location,a,b.replace),this.iframe&&a!==this.getFragment(this.getHash(this.iframe))&&(b.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,a,b.replace))}return b.trigger?this.loadUrl(a):void 0}},_updateHash:function(a,b,c){if(c){var d=a.href.replace(/(javascript:|#).*$/,"");a.replace(d+"#"+b)}else a.hash="#"+b}}),b.history=new D;var J=function(a,b){var d,e=this;d=a&&c.has(a,"constructor")?a.constructor:function(){return e.apply(this,arguments)},c.extend(d,e,b);var f=function(){this.constructor=d};return f.prototype=e.prototype,d.prototype=new f,a&&c.extend(d.prototype,a),d.__super__=e.prototype,d};m.extend=o.extend=y.extend=t.extend=D.extend=J;var K=function(){throw new Error('A "url" property or function must be specified')},L=function(a,b){var c=b.error;b.error=function(d){c&&c(a,d,b),a.trigger("error",a,d,b)}};return b}),function(a){"function"==typeof define&&define.amd?define(["underscore","backbone"],a):"object"==typeof exports?a(require("underscore"),require("backbone")):a(_,Backbone)}(function(a,b){b.Stickit={_handlers:[],addHandler:function(b){b=a.map(a.flatten([b]),function(b){return a.extend({updateModel:!0,updateView:!0,updateMethod:"text"},b)}),this._handlers=this._handlers.concat(b)}},a.extend(b.View.prototype,{_modelBindings:null,unstickit:function(b){var c=[];a.each(this._modelBindings,function(a,d){return b&&a.model!==b?!1:(a.model.off(a.event,a.fn),c.push(a.model),void delete this._modelBindings[d])},this),a.invoke(a.uniq(c),"trigger","stickit:unstuck",this.cid),this._modelBindings=a.compact(this._modelBindings),this.$el.off(".stickit"+(b?"."+b.cid:""))},stickit:function(b,c){var e=b||this.model,n=".stickit."+e.cid,o=c||a.result(this,"bindings")||{};this._modelBindings||(this._modelBindings=[]),this.unstickit(e),a.each(o,function(b,c){var p,q,r,s,t=o[c]||{},u=a.uniqueId();p=":el"===c?this.$el:this.$(c),p.length&&(a.isString(t)&&(t={observe:t}),a.isFunction(t.observe)&&(t.observe=t.observe.call(this)),s=j(p,t),r=s.observe,s.bindId=u,s.view=this,q=a.extend({stickitChange:s},s.setOptions),k(this,p,s,e,r),l(this,p,s,e,r),r&&(a.each(s.events,function(b){var d=b+n,g=function(b){var c=s.getVal.call(this,p,b,s,a.rest(arguments));f(this,s.updateModel,c,b,s)&&h(e,r,c,q,this,s)};g=a.bind(g,this),":el"===c?this.$el.on(d,g):this.$el.on(d,c,g)},this),a.each(a.flatten([r]),function(a){g(e,this,"change:"+a,function(a,b,c){var d=c&&c.stickitChange&&c.stickitChange.bindId||null;d!==u&&m(this,p,s,i(a,r,s,this),a)})},this),m(this,p,s,i(e,r,s,this),e,!0)),e.once("stickit:unstuck",function(a){a===this.cid&&d(this,s.destroy,p,e,s)},this),d(this,s.initialize,p,e,s))},this);var p=this.remove;this.remove=function(){var b=this;return this.unstickit(),p&&(b=p.apply(this,a.rest(arguments))),b}}});var c=function(b,c){var d=(c||"").split("."),e=a.reduce(d,function(a,b){return a[b]},b);return null==e?b:e},d=function(b,d){return d?(a.isString(d)?c(b,d):d).apply(b,a.rest(arguments,2)):void 0},e=function(a){return a.find("option").not(function(){return!this.selected})},f=function(b,c){return a.isBoolean(c)?c:a.isFunction(c)||a.isString(c)?d.apply(this,arguments):!1},g=function(a,b,c,d){a.on(c,d,b),b._modelBindings.push({model:a,event:c,fn:d})},h=function(b,c,e,f,g,h){var i={};h.onSet&&(e=d(g,h.onSet,e,h)),h.set?d(g,h.set,c,e,f,h):(i[c]=e,a.isArray(c)&&a.isArray(e)&&(i=a.reduce(c,function(b,c,d){return b[c]=a.has(e,d)?e[d]:null,b},{})),b.set(i,f))},i=function(b,c,e,f){var g,h=function(a){return b[e.escape?"escape":"get"](a)},i=function(a){return null==a?"":a};return g=a.isArray(c)?a.map(c,h):h(c),e.onGet&&(g=d(f,e.onGet,g,e)),a.isArray(g)?a.map(g,i):i(g)},j=b.Stickit.getConfiguration=function(c,d){var e=[{updateModel:!1,updateMethod:"text",update:function(a,b,c,d){a[d.updateMethod]&&a[d.updateMethod](b)},getVal:function(a,b,c){return a[c.updateMethod]()}}];e=e.concat(a.filter(b.Stickit._handlers,function(a){return c.is(a.selector)})),e.push(d);var f=a.extend.apply(a,e);return f.visible&&!a.has(f,"updateView")?f.updateView=!1:a.has(f,"updateView")||(f.updateView=!0),delete f.selector,f},k=function(b,c,d,e,f){var h=["autofocus","autoplay","async","checked","controls","defer","disabled","hidden","indeterminate","loop","multiple","open","readonly","required","scoped","selected"];a.each(d.attributes||[],function(d){var j,k,l="";d=a.clone(d),j=d.observe||(d.observe=f),k=function(){var f=a.indexOf(h,d.name,!0)>-1?"prop":"attr",g=i(e,j,d,b);"class"===d.name?(c.removeClass(l).addClass(g),l=g):c[f](d.name,g)},a.each(a.flatten([j]),function(a){g(e,b,"change:"+a,k)}),k()})},l=function(b,c,e,f,h){if(null!=e.visible){var j=function(){var g=e.visible,j=e.visibleFn,k=i(f,h,e,b),l=!!k;(a.isFunction(g)||a.isString(g))&&(l=!!d(b,g,k,e)),j?d(b,j,c,l,e):c.toggle(l)};a.each(a.flatten([h]),function(a){g(f,b,"change:"+a,j)}),j()}},m=function(a,b,c,e,g,h){f(a,c.updateView,e,c)&&(d(a,c.update,b,e,g,c),h||d(a,c.afterUpdate,b,e,c))};b.Stickit.addHandler([{selector:'[contenteditable="true"]',updateMethod:"html",events:["input","change"]},{selector:"input",events:["propertychange","input","change"],update:function(a,b){a.val(b)},getVal:function(a){return a.val()}},{selector:"textarea",events:["propertychange","input","change"],update:function(a,b){a.val(b)},getVal:function(a){return a.val()}},{selector:'input[type="radio"]',events:["change"],update:function(a,b){a.filter('[value="'+b+'"]').prop("checked",!0)},getVal:function(a){return a.filter(":checked").val()}},{selector:'input[type="checkbox"]',events:["change"],update:function(c,d,e,f){if(c.length>1)d||(d=[]),c.each(function(c,e){var f=b.$(e),g=a.indexOf(d,f.val())>-1;f.prop("checked",g)});else{var g=a.isBoolean(d)?d:d===c.val();c.prop("checked",g)}},getVal:function(c){var d;if(c.length>1)d=a.reduce(c,function(a,c){var d=b.$(c);return d.prop("checked")&&a.push(d.val()),a},[]);else{d=c.prop("checked");var e=c.val();"on"!==e&&null!=e&&(d=d?c.val():null)}return d}},{selector:"select",events:["change"],update:function(e,f,g,h){var i,j=h.selectOptions,k=j&&j.collection||void 0,l=e.prop("multiple");if(!j){j={};var m=function(a){return a.map(function(){return{value:this.value,label:this.text}}).get()};e.find("optgroup").length?(k={opt_labels:[]},e.find("> option").length&&(k.opt_labels.push(void 0),a.each(e.find("> option"),function(a){k[void 0]=m(b.$(a))})),a.each(e.find("optgroup"),function(a){var c=b.$(a).attr("label");k.opt_labels.push(c),k[c]=m(b.$(a).find("option"))})):k=m(e.find("option"))}j.valuePath=j.valuePath||"value",j.labelPath=j.labelPath||"label";var n=function(d,e,f){a.each(d,function(d){var g=b.$("<option/>"),h=d,i=function(b,c){g.text(b),h=c,g.data("stickit_bind_val",h),a.isArray(h)||a.isObject(h)||g.val(h)};"__default__"===d?i(j.defaultOption.label,j.defaultOption.value):i(c(d,j.labelPath),c(d,j.valuePath)),!l&&null!=h&&null!=f&&h===f||a.isObject(f)&&a.isEqual(h,f)?g.prop("selected",!0):l&&a.isArray(f)&&a.each(f,function(b){a.isObject(b)&&(b=c(b,j.valuePath)),(b===h||a.isObject(b)&&a.isEqual(h,b))&&g.prop("selected",!0)}),e.append(g)})};e.html("");var o=function(a,b){var d=window;return 0===b.indexOf("this.")&&(d=a),b=b.replace(/^[a-z]*\.(.+)$/,"$1"),c(d,b)};if(i=a.isString(k)?o(this,k):a.isFunction(k)?d(this,k,e,h):k,i instanceof b.Collection&&(i=i.toJSON()),j.defaultOption&&n(["__default__"],e),a.isArray(i))n(i,e,f);else if(i.opt_labels)a.each(i.opt_labels,function(a){var c=b.$("<optgroup/>").attr("label",a);n(i[a],c,f),e.append(c)});else{var p,q=[];for(var r in i)p={},p[j.valuePath]=r,p[j.labelPath]=i[r],q.push(p);n(a.sortBy(q,j.comparator||j.labelPath),e,f)}},getVal:function(a){var c;return c=a.prop("multiple")?b.$(e(a).map(function(){return b.$(this).data("stickit_bind_val")})).get():e(a).data("stickit_bind_val")}}])});var global_uuid={};(function(){var a,b,c,d,e,f,g,h,i,j,k=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1};Backbone.DualStorage={offlineStatusCodes:[408,502]},Backbone.Model.prototype.hasTempId=function(){return _.isString(this.id)&&36===this.id.length&&0===this.id.indexOf("t")||!_.isUndefined(this.get("uuid"))&&this.get("uuid")===this.id},j=function(a){return _.isString(a)&&36===a.length&&0===a.indexOf("t")},e=function(a,b){return b||(b=a.model.prototype),_.result(a,"storeName")||_.result(b,"storeName")||_.result(a,"url")||_.result(b,"urlRoot")||_.result(b,"url")};var l={};recursive_save=function(a,b){var c=localStorage.getItem(a);if(localStorage.removeItem(a),!_.isUndefined(c)&&!_.isEmpty(c)){ids=c&&c.split(",")||[];var d={},e=ids.length;for(_i=0,_len=e;_i<_len;_i++){id=ids[_i];var f=api_url,g=JSON.parse(localStorage.getItem(a+id));if(localStorage.removeItem(a+id),Number(localStorage.syncDataCount)<=1?localStorage.setItem("syncDataCount",0):localStorage.setItem("syncDataCount",Number(localStorage.syncDataCount)-1),null!==g&&!_.isEmpty(g)){var h=new App[b];if(_.isUndefined(g.board_id)||(j(g.board_id)&&(g.board_id=l[g.board_id]),f+="boards/"+g.board_id),!_.isUndefined(g.list_id)){var i=global_uuid[g.list_id];_.isUndefined(i)||(g.list_id=l[i]),j(g.list_id)&&(g.list_id=l[g.list_id]),f+="/lists/"+g.list_id}if(!_.isUndefined(g.card_id)){var k=global_uuid[g.card_id];_.isUndefined(k)||(g.card_id=l[k]),j(g.card_id)&&(g.card_id=l[g.card_id]),f+="/cards/"+g.card_id}if(!_.isUndefined(g.checklist_id)&&"item"===a){var m=global_uuid[g.checklist_id];_.isUndefined(m)||(g.checklist_id=l[m]),j(g.checklist_id)&&(g.checklist_id=l[g.checklist_id]),0!==g.checklist_id&&"0"!==g.checklist_id&&(f+="/checklists/"+g.checklist_id)}if("card_user"===a&&(a="user"),f+="/"+a+"s",_.isUndefined(g.user_id)||"CardUser"!==b||(f+="/"+g.user_id),!_.isUndefined(g.id)&&!j(g.id)){j(g.id)&&(g.id=l[g.id]);var n=global_uuid[g.id];!_.isUndefined(n)&&j(n)&&(g.id=l[n]),_.isUndefined(g.id)?delete g.id:(f+="/"+g.id,h.set("id",g.id))}!_.isUndefined(g.id)&&j(g.id)&&delete g.id,h.url=f+".json",h.save(g,{async:!1,success:function(b,c,f){if(_.isUndefined(g.temp_id)){if(!_.isUndefined(g.id)){var h=g.id;_.isUndefined(c.id)||(h=c.id),d[g.id]=h,l[g.id]=h}}else d[g.temp_id]=c.id,l[g.temp_id]=c.id;_.isUndefined(c.uuid)||(l[c.uuid]=c.id),e==Object.keys(d).length&&("board"==a?recursive_save("list","List"):"list"==a?recursive_save("card","Card"):"card"==a?(recursive_save("checklist","CheckList"),recursive_save("comment","Activity"),recursive_save("card_user","CardUser")):"checklist"==a&&recursive_save("item","CheckListItem"))}})}}}},destroy_store=function(a,b){var c=localStorage.getItem(a);if(localStorage.removeItem(a),!_.isUndefined(c)&&!_.isEmpty(c)){ids=c&&c.split(",")||[];for(_i=0,_len=ids.length;_i<_len;_i++){id=ids[_i];var d=localStorage.getItem(a+id);if(localStorage.removeItem(a+id),Number(localStorage.syncDataCount)<=1?localStorage.setItem("syncDataCount",0):localStorage.setItem("syncDataCount",Number(localStorage.syncDataCount)-1),null!==d&&!_.isEmpty(d)){var e=new App[b];e.url=d,e.set("id",id),e.destroy()}}}},Backbone.Collection.prototype.syncDirty=function(a){var b,c,d,f,g,h,i;d=localStorage.getItem(""+e(this)+"_dirty");var j=localStorage.getItem("board"),k=localStorage.getItem("list"),l=localStorage.getItem("card"),m=localStorage.getItem("checklist"),n=localStorage.getItem("item"),o=localStorage.getItem("comment"),p=localStorage.getItem("card_user"),q=localStorage.getItem("label"),r=localStorage.getItem("card_voter"),s=localStorage.getItem("card_subscriber");_.isUndefined(j)||_.isEmpty(j)?_.isUndefined(k)||_.isEmpty(k)?_.isUndefined(l)||_.isEmpty(l)?_.isUndefined(m)||_.isEmpty(m)?_.isUndefined(n)||_.isEmpty(n)?_.isUndefined(o)||_.isEmpty(o)?_.isUndefined(p)||_.isEmpty(p)?_.isUndefined(q)||_.isEmpty(q)?_.isUndefined(r)||_.isEmpty(r)?_.isUndefined(s)||_.isEmpty(s)||recursive_save("card_subscriber","CardSubscriber"):recursive_save("card_voter","CardVoter"):recursive_save("label","Label"):recursive_save("card_user","CardUser"):recursive_save("comment","Activity"):recursive_save("item","CheckListItem"):recursive_save("checklist","CheckList"):recursive_save("card","Card"):recursive_save("list","List"):recursive_save("board","Board");var t=(localStorage.getItem("board_destroyed"),localStorage.getItem("list_destroyed")),u=localStorage.getItem("card_destroyed"),v=localStorage.getItem("checklist_destroyed"),w=localStorage.getItem("item_destroyed"),x=localStorage.getItem("board_user_destroyed"),y=localStorage.getItem("comment_destroyed"),z=localStorage.getItem("card_user_destroyed"),A=localStorage.getItem("card_voter_destroyed"),B=localStorage.getItem("card_voter_destroyed");for(_.isUndefined(j)||_.isEmpty(j)?_.isUndefined(t)||_.isEmpty(t)?_.isUndefined(u)||_.isEmpty(u)?_.isUndefined(v)||_.isEmpty(v)?_.isUndefined(w)||_.isEmpty(w)?_.isUndefined(x)||_.isEmpty(x)?_.isUndefined(y)||_.isEmpty(y)?_.isUndefined(z)||_.isEmpty(z)?_.isUndefined(A)||_.isEmpty(A)?_.isUndefined(B)||_.isEmpty(B)||destroy_store("card_voter_destroyed","CardSubscriber"):destroy_store("card_voter_destroyed","CardVoter"):destroy_store("card_user_destroyed","CardUser"):destroy_store("comment_destroyed","Activity"):destroy_store("board_user_destroyed","BoardsUser"):destroy_store("item_destroyed_store","CheckListItem"):(destroy_store("checklist_destroyed","CheckList"),destroy_store("item_destroyed_store","CheckListItem")):(destroy_store("card_destroyed","Card"),destroy_store("checklist_destroyed","CheckList"),destroy_store("item_destroyed_store","CheckListItem")):(destroy_store("list_destroyed","List"),destroy_store("card_destroyed","Card"),destroy_store("checklist_destroyed","CheckList"),destroy_store("item_destroyed_store","CheckListItem")):destroy_store("board_destroyed","Board"),c=d&&d.split(",")||[],i=[],f=0,g=c.length;g>f;f++)b=c[f],i.push(null!=(h=this.get(b))?h.save(null,a):void 0);return setInterval(function(){localStorage.syncDataCount?0==Number(localStorage.syncDataCount)&&(localStorage.removeItem("syncDataCount"),$("#js-footer-brand-img").attr("src","img/logo-icon.png").tooltip("hide"),location.reload(!0)):$("#js-footer-brand-img").attr("src","img/logo-icon.png").tooltip("hide")},1e4),i},Backbone.Collection.prototype.dirtyModels=function(){var a,b,c,d;return d=localStorage.getItem(""+e(this)+"_dirty"),b=d&&d.split(",")||[],c=function(){var c,d,e;for(e=[],c=0,d=b.length;d>c;c++)a=b[c],e.push(this.get(a));return e}.call(this),_.compact(c)},Backbone.Collection.prototype.syncDestroyed=function(a){var b,c,d,f,g,h,i;for(f=localStorage.getItem(""+e(this)+"_destroyed"),c=f&&f.split(",")||[],i=[],g=0,h=c.length;h>g;g++)b=c[g],d=new this.model,d.set(d.idAttribute,b),d.collection=this,i.push(d.destroy(a));return i},Backbone.Collection.prototype.destroyedModelIds=function(){var a,b;return b=localStorage.getItem(""+e(this)+"_destroyed"),a=b&&b.split(",")||[]},Backbone.Collection.prototype.syncDirtyAndDestroyed=function(a){return this.syncDirty(a),this.syncDestroyed(a)},a=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)},window.Store=function(){function b(a){this.name=a,this.records=this.recordsOn(this.name)}return b.prototype.sep="",b.prototype.generateId=function(){return"t"+a().substring(1)+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()},b.prototype.save=function(){return localStorage.setItem(this.name,this.records.join(","))},b.prototype.recordsOn=function(a){var b;return b=localStorage.getItem(a),b&&b.split(",")||[]},b.prototype.dirty=function(a){var b;return b=this.recordsOn(this.name+"_dirty"),(isNaN(a.id)||_.isUndefined(a.id))&&(a.id=a.get("temp_id")),_.include(b,a.id.toString())||b.push(a.id),a},b.prototype.cleanDepended=function(a,b,c){var d,e,f,g,h;for(g=this.recordsOn(a),h=[],e=0,f=g.length;f>e;e++){d=g[e];var i=JSON.parse(localStorage.getItem(a+this.sep+d));_.isUndefined(i)||_.isEmpty(i)||i[c].toString()===b.toString()&&(localStorage.removeItem(a+this.sep+d),localStorage.setItem(a,_.without(this.recordsOn(a),d).join(",")),Number(localStorage.syncDataCount)<=1?localStorage.setItem("syncDataCount",0):localStorage.setItem("syncDataCount",Number(localStorage.syncDataCount)-1),h.push(i.uuid))}return h},b.prototype.clean=function(a,b){var c,d,e,f,g,h,i,j,k,l,m;if(d=""+this.name+"_"+b,c=this.recordsOn(d),_.include(c,a.id.toString())&&localStorage.setItem(d,_.without(c,a.id.toString()).join(",")),!_.isUndefined(a.get("uuid"))&&!_.isEmpty(a.get("uuid")))switch(this.name){case"list":if(m=this.cleanDepended("list",a.get("uuid"),"uuid"),m.length>0)for(g=0,j=m.length;j>g;g++)if(k=this.cleanDepended("card",m[g],"list_id"),k.length>0)for(e=0,h=k.length;h>e;e++)if(l=this.cleanDepended("checklist",k[e],"card_id"),this.cleanDepended("card_user",k[e],"card_id"),this.cleanDepended("comment",k[e],"card_id"),l.length>0)for(f=0,i=l.length;i>f;f++)this.cleanDepended("item",l[f],"checklist_id");break;case"card":if(k=this.cleanDepended("card",a.get("uuid"),"uuid"),k.length>0)for(e=0,h=k.length;h>e;e++)if(l=this.cleanDepended("checklist",k[e],"card_id"),this.cleanDepended("card_user",k[e],"card_id"),this.cleanDepended("comment",k[e],"card_id"),l.length>0)for(f=0,i=l.length;i>f;f++)this.cleanDepended("item",l[f],"checklist_id");break;case"checklist":if(k=this.cleanDepended("checklist",a.get("uuid"),"uuid"),k.length>0)for(e=0,h=k.length;h>e;e++)this.cleanDepended("item",k[e],"checklist_id")}return a},b.prototype.destroyed=function(a){var b,c;return b=this.recordsOn(this.name+"_destroyed"),c=this.recordsOn(this.name+"_destroyed_url"),_.include(b,a.id.toString())||(b.push(a.id),c.push(a.url.substring(0,a.url.indexOf("?"))),localStorage.setItem(this.name+"_destroyed",b.join(",")),localStorage.setItem(this.name+"_destroyed"+a.id,c.join(",")),localStorage.syncDataCount?localStorage.setItem("syncDataCount",Number(localStorage.syncDataCount)+1):localStorage.setItem("syncDataCount",1)),a},b.prototype.create=function(a){return _.isObject(a)?(a.id||a.set(a.idAttribute,this.generateId()),j(a.get(a.idAttribute))&&a.set("temp_id",a.get(a.idAttribute)),localStorage.setItem(this.name+this.sep+a.id,JSON.stringify(a)),localStorage.syncDataCount?localStorage.setItem("syncDataCount",Number(localStorage.syncDataCount)+1):localStorage.setItem("syncDataCount",1),this.records.push(a.id.toString()),this.save(),a):a},b.prototype.update=function(a){isNaN(a.id)&&(a.id=a.get("temp_id"));var b=!1;if(!_.isUndefined(a.attributes.temp_id)||!_.isUndefined(a.attributes.id)){var c=this.name+this.sep+a.attributes.temp_id,d=localStorage.getItem(c);if(null===d&&(c=this.name+this.sep+a.attributes.id,d=localStorage.getItem(c)),!_.isUndefined(d)&&!_.isEmpty(d)&&null!==d){b=!0,d=JSON.parse(d);var e=JSON.stringify(a.attributes);d=$.extend(d,JSON.parse(e)),localStorage.setItem(c,JSON.stringify(d))}}return b||(localStorage.setItem(this.name+this.sep+a.id,JSON.stringify(a)),localStorage.syncDataCount?localStorage.setItem("syncDataCount",Number(localStorage.syncDataCount)+1):localStorage.setItem("syncDataCount",1),_.include(this.records,a.id.toString())||this.records.push(a.id.toString())),this.save(),a},b.prototype.clear=function(){var a,b,c,d;for(d=this.records,b=0,c=d.length;c>b;b++)a=d[b],localStorage.removeItem(this.name+this.sep+a);return this.records=[],this.save()},b.prototype.hasDirtyOrDestroyed=function(){return!_.isEmpty(localStorage.getItem(this.name+"_dirty"))||!_.isEmpty(localStorage.getItem(this.name+"_destroyed"))},b.prototype.find=function(a){var b;return b=localStorage.getItem(this.name+this.sep+a.id),null===b?null:JSON.parse(b)},b.prototype.findAll=function(){var a,b,c,d,e;for(d=this.records,e=[],b=0,c=d.length;c>b;b++)a=d[b],e.push(JSON.parse(localStorage.getItem(this.name+this.sep+a)));return e},b.prototype.destroy=function(a){return localStorage.removeItem(this.name+this.sep+a.id),this.records=_.reject(this.records,function(b){return b===a.id.toString()}),this.save(),a},b}(),window.Store.exists=function(a){return null!==localStorage.getItem(a)},c={needsTranslation:"0.9.10"===Backbone.VERSION,forBackboneCaller:function(a){return this.needsTranslation?function(b,c,d){return a.call(null,c)}:a},forDualstorageCaller:function(a,b,c){return this.needsTranslation?function(d){return a.call(null,b,d,c)}:a}},f=function(a,b,c){var d,e,f,g;if(d="clear"===a||"hasDirtyOrDestroyed"===a,d||(d=b instanceof Backbone.Model),d||(d=b instanceof Backbone.Collection),!d)throw new Error("model parameter is required to be a backbone model or collection.");return g=new Store(c.storeName),f=function(){switch(a){case"read":return b instanceof Backbone.Model?g.find(b):g.findAll();case"hasDirtyOrDestroyed":return g.hasDirtyOrDestroyed();case"clear":return g.clear();case"create":return c.add&&!c.merge&&(e=g.find(b))?e:(b=g.create(b),c.temp_id=b.attributes.temp_id,c.dirty&&g.dirty(b),b);case"patch":case"update":return isNaN(b.id)&&b.set("id",b.get("temp_id")),g.update(b),c.dirty?g.dirty(b):g.clean(b,"dirty");case"delete":return g.destroy(b),c.dirty&&!b.hasTempId()?g.destroyed(b):b.hasTempId()?g.clean(b,"dirty"):g.clean(b,"destroyed")}}(),(null!=f?f.attributes:void 0)&&(f=f.attributes),c.ignoreCallbacks||(f?c.success(f):c.error("Record not found")),f},i=function(a,b){return a&&a.parseBeforeLocalSave?_.isFunction(a.parseBeforeLocalSave)?a.parseBeforeLocalSave(b):void 0:b},g=function(a,b){var c;return c=new Backbone.Model,c.idAttribute=a.idAttribute,c.set(a.attributes),c.set(a.parse(b)),c},b=Backbone.sync,h=function(a,d,e){return e.success=c.forBackboneCaller(e.success),e.error=c.forBackboneCaller(e.error),b(a,d,e)},d=function(a,b,d){var l,m,n,o,p,q,r;if(d.storeName=e(b.collection,b),d.storeExists=Store.exists(d.storeName),d.success=c.forDualstorageCaller(d.success,b,d),d.error=c.forDualstorageCaller(d.error,b,d),_.result(b,"remote")||_.result(b.collection,"remote"))return h(a,b,d);if(n=_.result(b,"local")||_.result(b.collection,"local"),d.dirty=!0,d.remote===!1||n)return f(a,b,d);switch(d.ignoreCallbacks=!0,p=d.success,l=d.error,r=function(){return d.dirty=!0,p(f(a,b,d))},m=function(a){var b,c;return b=Backbone.DualStorage.offlineStatusCodes,_.isFunction(b)&&(b=b(a)),0===a.status||(c=a.status,k.call(b,c)>=0)},o=function(b){var c;return c=!m(b),c||"read"===a&&!d.storeExists?l(b):r()},a){case"read":return f("hasDirtyOrDestroyed",b,d)?r():(d.success=function(a,c,e){var f,h,j,k,l,n;if(d.async&&m(d.xhr))return r();if(a=i(b,a),b instanceof Backbone.Collection){if(f=b,h=f.model.prototype.idAttribute,!d.add,null!==a)for(l=0,n=a.length;n>l;l++)j=a[l],b=f.get(j[h]),k=b?g(b,j):new f.model(j)}else k=g(b,a);return p(a,c,e)},d.error=function(a){return o(a)},d.xhr=h(a,b,d));case"create":return d.success=function(c,e,h){var i;return d.async&&m(d.xhr)?r():(i=g(b,c),(200!=h.status||j(d.temp_id))&&f(a,i,d),p(c,e,h))},d.error=function(a){return o(a)},d.xhr=h(a,b,d);case"patch":case"update":return b.hasTempId()?(q=b.id,d.success=function(a,c,e){var h;return d.async&&m(d.xhr)?r():(h=g(b,a),b.set(b.idAttribute,q,{silent:!0}),f("delete",b,d),f("create",h,d),p(a,c,e))},d.error=function(a){return b.set(b.idAttribute,q,{silent:!0}),o(a)},b.set(b.idAttribute,null,{silent:!0}),d.xhr=h("create",b,d)):(d.success=function(c,e,h){var i;return d.async&&m(d.xhr)?r():(i=g(b,c),200!=h.status&&f(a,i,d),p(c,e,h))},d.error=function(a){return o(a)},d.xhr=h(a,b,d));case"delete":return b.hasTempId()?(d.ignoreCallbacks=!1,f(a,b,d)):(d.success=function(c,e,g){return d.async&&m(d.xhr)?r():(200!=g.status&&f(a,b,d),p(c,e,g))},d.error=function(a){return o(a)},d.xhr=h(a,b,d))}},Backbone.sync=d}).call(this),+function(a){"use strict";var b=function(c,d){this.options=a.extend({},b.DEFAULTS,d),this.$window=a(window).on("scroll.bs.affix.data-api",a.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",a.proxy(this.checkPositionWithEventLoop,this)),this.$element=a(c),this.affixed=this.unpin=this.pinnedOffset=null,this.checkPosition()};b.RESET="affix affix-top affix-bottom",b.DEFAULTS={offset:0},b.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(b.RESET).addClass("affix");var a=this.$window.scrollTop(),c=this.$element.offset();return this.pinnedOffset=c.top-a},b.prototype.checkPositionWithEventLoop=function(){setTimeout(a.proxy(this.checkPosition,this),1)},b.prototype.checkPosition=function(){if(this.$element.is(":visible")){var c=a(document).height(),d=this.$window.scrollTop(),e=this.$element.offset(),f=this.options.offset,g=f.top,h=f.bottom;"top"==this.affixed&&(e.top+=d),"object"!=typeof f&&(h=g=f),"function"==typeof g&&(g=f.top(this.$element)),"function"==typeof h&&(h=f.bottom(this.$element));var i=null!=this.unpin&&d+this.unpin<=e.top?!1:null!=h&&e.top+this.$element.height()>=c-h?"bottom":null!=g&&g>=d?"top":!1;if(this.affixed!==i){this.unpin&&this.$element.css("top","");var j="affix"+(i?"-"+i:""),k=a.Event(j+".bs.affix");this.$element.trigger(k),k.isDefaultPrevented()||(this.affixed=i,this.unpin="bottom"==i?this.getPinnedOffset():null,this.$element.removeClass(b.RESET).addClass(j).trigger(a.Event(j.replace("affix","affixed"))),"bottom"==i&&this.$element.offset({top:c-h-this.$element.height()}))}}};var c=a.fn.affix;a.fn.affix=function(c){return this.each(function(){var d=a(this),e=d.data("bs.affix"),f="object"==typeof c&&c;e||d.data("bs.affix",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.affix.Constructor=b,a.fn.affix.noConflict=function(){return a.fn.affix=c,this},a(window).on("load",function(){a('[data-spy="affix"]').each(function(){var b=a(this),c=b.data();c.offset=c.offset||{},c.offsetBottom&&(c.offset.bottom=c.offsetBottom),c.offsetTop&&(c.offset.top=c.offsetTop),b.affix(c)})})}(jQuery),!function(a){var b;a(document).ready(function(){a.support.transition=function(){var a=document.body||document.documentElement,b=a.style,c=void 0!==b.transition||void 0!==b.WebkitTransition||void 0!==b.MozTransition||void 0!==b.MsTransition||void 0!==b.OTransition;return c}(),a.support.transition&&(b="TransitionEnd",a.browser.webkit?b="webkitTransitionEnd":a.browser.mozilla?b="transitionend":a.browser.opera&&(b="oTransitionEnd"))});var c=function(b,c){this.$element=a(b),this.options=c,this.enabled=!0,this.fixTitle()};c.prototype={show:function(){var b,c,e,f,g,h;if(this.getTitle()&&this.enabled){switch(g=this.tip(),this.setContent(),this.options.animate&&g.addClass("fade"),g.remove().css({top:0,left:0,display:"block"}).prependTo(document.body),b=a.extend({},this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight}),c=g[0].offsetWidth,e=g[0].offsetHeight,f=d.maybeCall(this.options.placement,this.$element[0])){case"below":h={top:b.top+b.height+this.options.offset,left:b.left+b.width/2-c/2};break;case"above":h={top:b.top-e-this.options.offset,left:b.left+b.width/2-c/2};break;case"left":h={top:b.top+b.height/2-e/2,left:b.left-c-this.options.offset};break;case"right":h={top:b.top+b.height/2-e/2,left:b.left+b.width+this.options.offset}}g.css(h).addClass(f).addClass("in")}},setContent:function(){var a=this.tip();a.find(".twipsy-inner")[this.options.html?"html":"text"](this.getTitle()),a[0].className="twipsy"},hide:function(){function c(){d.remove()}var d=this.tip();d.removeClass("in"),a.support.transition&&this.$tip.hasClass("fade")?d.bind(b,c):c()},fixTitle:function(){var a=this.$element;(a.attr("title")||"string"!=typeof a.attr("data-original-title"))&&a.attr("data-original-title",a.attr("title")||"").removeAttr("title")},getTitle:function(){var a,b=this.$element,c=this.options;return this.fixTitle(),"string"==typeof c.title?a=b.attr("title"==c.title?"data-original-title":c.title):"function"==typeof c.title&&(a=c.title.call(b[0])),a=(""+a).replace(/(^\s*|\s*$)/,""),a||c.fallback},tip:function(){return this.$tip||(this.$tip=a('<div class="twipsy" />').html('<div class="twipsy-arrow"></div><div class="twipsy-inner"></div>')),this.$tip},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled}};var d={maybeCall:function(a,b){return"function"==typeof a?a.call(b):a}};a.fn.twipsy=function(b){return a.fn.twipsy.initWith.call(this,b,c,"twipsy"),this},a.fn.twipsy.initWith=function(b,c,d){function e(e){var f=a.data(e,d);return f||(f=new c(e,a.fn.twipsy.elementOptions(e,b)),a.data(e,d,f)),f}function f(){var a=e(this);a.hoverState="in",0==b.delayIn?a.show():(a.fixTitle(),setTimeout(function(){"in"==a.hoverState&&a.show()},b.delayIn))}function g(){var a=e(this);a.hoverState="out",0==b.delayOut?a.hide():setTimeout(function(){"out"==a.hoverState&&a.hide()},b.delayOut)}var h,i,j,k;return b===!0?this.data(d):"string"==typeof b?(h=this.data(d),h&&h[b](),this):(b=a.extend({},a.fn[d].defaults,b),b.live||this.each(function(){e(this)}),"manual"!=b.trigger&&(i=b.live?"live":"bind",j="hover"==b.trigger?"mouseenter":"focus",k="hover"==b.trigger?"mouseleave":"blur",this[i](j,f)[i](k,g)),this)},a.fn.twipsy.Twipsy=c,a.fn.twipsy.defaults={animate:!0,delayIn:0,delayOut:0,fallback:"",placement:"above",html:!1,live:!1,offset:0,title:"title",trigger:"hover"},a.fn.twipsy.elementOptions=function(b,c){return a.metadata?a.extend({},c,a(b).metadata()):c}}(window.jQuery||window.ender),!function(a){"use strict";var b=function(a,b){this.init("tooltip",a,b)};b.prototype={constructor:b,init:function(b,c,d){var e,f,g,h,i;for(this.type=b,this.$element=a(c),this.options=this.getOptions(d),this.enabled=!0,g=this.options.trigger.split(" "),i=g.length;i--;)h=g[i],"click"==h?this.$element.on("click."+this.type,this.options.selector,a.proxy(this.toggle,this)):"manual"!=h&&(e="hover"==h?"mouseenter":"focus",f="hover"==h?"mouseleave":"blur",this.$element.on(e+"."+this.type,this.options.selector,a.proxy(this.enter,this)),this.$element.on(f+"."+this.type,this.options.selector,a.proxy(this.leave,this)));this.options.selector?this._options=a.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(b){return b=a.extend({},a.fn[this.type].defaults,this.$element.data(),b),b.delay&&"number"==typeof b.delay&&(b.delay={show:b.delay,hide:b.delay}),b},enter:function(b){var c=a(b.currentTarget)[this.type](this._options).data(this.type);return c.options.delay&&c.options.delay.show?(clearTimeout(this.timeout),c.hoverState="in",void(this.timeout=setTimeout(function(){"in"==c.hoverState&&c.show()},c.options.delay.show))):c.show()},leave:function(b){var c=a(b.currentTarget)[this.type](this._options).data(this.type);return this.timeout&&clearTimeout(this.timeout),c.options.delay&&c.options.delay.hide?(c.hoverState="out",void(this.timeout=setTimeout(function(){"out"==c.hoverState&&c.hide()},c.options.delay.hide))):c.hide()},show:function(){var b,c,d,e,f,g,h=a.Event("show");if(this.hasContent()&&this.enabled){if(this.$element.trigger(h),h.isDefaultPrevented())return;switch(b=this.tip(),this.setContent(),this.options.animation&&b.addClass("fade"),f="function"==typeof this.options.placement?this.options.placement.call(this,b[0],this.$element[0]):this.options.placement,b.detach().css({top:0,left:0,display:"block"}),this.options.container?b.appendTo(this.options.container):b.insertAfter(this.$element),c=this.getPosition(),d=b[0].offsetWidth,e=b[0].offsetHeight,f){case"bottom":g={top:c.top+c.height,left:c.left+c.width/2-d/2};break;case"top":g={top:c.top-e,left:c.left+c.width/2-d/2};break;case"left":g={top:c.top+c.height/2-e/2,left:c.left-d};break;case"right":g={top:c.top+c.height/2-e/2,left:c.left+c.width}}this.applyPlacement(g,f),this.$element.trigger("shown")}},applyPlacement:function(a,b){
var c,d,e,f,g=this.tip(),h=g[0].offsetWidth,i=g[0].offsetHeight;g.offset(a).addClass(b).addClass("in"),c=g[0].offsetWidth,d=g[0].offsetHeight,"top"==b&&d!=i&&(a.top=a.top+i-d,f=!0),"bottom"==b||"top"==b?(e=0,a.left<0&&(e=-2*a.left,a.left=0,g.offset(a),c=g[0].offsetWidth,d=g[0].offsetHeight),this.replaceArrow(e-h+c,c,"left")):this.replaceArrow(d-i,d,"top"),f&&g.offset(a)},replaceArrow:function(a,b,c){this.arrow().css(c,a?50*(1-a/b)+"%":"")},setContent:function(){var a=this.tip(),b=this.getTitle();a.find(".tooltip-inner")[this.options.html?"html":"text"](b),a.removeClass("fade in top bottom left right")},hide:function(){function b(){var b=setTimeout(function(){c.off(a.support.transition.end).detach()},500);c.one(a.support.transition.end,function(){clearTimeout(b),c.detach()})}var c=this.tip(),d=a.Event("hide");return this.$element.trigger(d),d.isDefaultPrevented()?void 0:(c.removeClass("in"),a.support.transition&&this.$tip.hasClass("fade")?b():c.detach(),this.$element.trigger("hidden"),this)},fixTitle:function(){var a=this.$element;(a.attr("title")||"string"!=typeof a.attr("data-original-title"))&&a.attr("data-original-title",a.attr("title")||"").attr("title","")},hasContent:function(){return this.getTitle()},getPosition:function(){var b=this.$element[0];return a.extend({},"function"==typeof b.getBoundingClientRect?b.getBoundingClientRect():{width:b.offsetWidth,height:b.offsetHeight},this.$element.offset())},getTitle:function(){var a,b=this.$element,c=this.options;return a=b.attr("data-original-title")||("function"==typeof c.title?c.title.call(b[0]):c.title)},tip:function(){return this.$tip=this.$tip||a(this.options.template)},arrow:function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(b){var c=b?a(b.currentTarget)[this.type](this._options).data(this.type):this;c.tip().hasClass("in")?c.hide():c.show()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}};var c=a.fn.tooltip;a.fn.tooltip=function(c){return this.each(function(){var d=a(this),e=d.data("tooltip"),f="object"==typeof c&&c;e||d.data("tooltip",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.tooltip.Constructor=b,a.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},a.fn.tooltip.noConflict=function(){return a.fn.tooltip=c,this}}(window.jQuery),!function(a){"use strict";var b=function(a,b){this.init("popover",a,b)};b.prototype=a.extend({},a.fn.tooltip.Constructor.prototype,{constructor:b,setContent:function(){var a=this.tip(),b=this.getTitle(),c=this.getContent();a.find(".popover-title")[this.options.html?"html":"text"](b),a.find(".popover-content")[this.options.html?"html":"text"](c),a.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var a,b=this.$element,c=this.options;return a=("function"==typeof c.content?c.content.call(b[0]):c.content)||b.attr("data-content")},tip:function(){return this.$tip||(this.$tip=a(this.options.template)),this.$tip},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}});var c=a.fn.popover;a.fn.popover=function(c){return this.each(function(){var d=a(this),e=d.data("popover"),f="object"==typeof c&&c;e||d.data("popover",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.popover.Constructor=b,a.fn.popover.defaults=a.extend({},a.fn.tooltip.defaults,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),a.fn.popover.noConflict=function(){return a.fn.popover=c,this}}(window.jQuery),!function(a){"use strict";function b(){a(d).each(function(){c(a(this)).removeClass("open")})}function c(b){var c,d=b.attr("data-target");return d||(d=b.attr("href"),d=d&&/#/.test(d)&&d.replace(/.*(?=#[^\s]*$)/,"")),c=d&&a(d),c&&c.length||(c=b.parent()),c}var d="[data-toggle=dropdown]",e=function(b){var c=a(b).on("click.dropdown.data-api",this.toggle);a("html").on("click.dropdown.data-api",function(){c.parent().removeClass("open")})};e.prototype={constructor:e,toggle:function(d){var e,f,g=a(this);if(!g.is(".disabled, :disabled"))return e=c(g),f=e.hasClass("open"),b(),f||e.toggleClass("open"),g.focus(),!1},keydown:function(b){var e,f,g,h,i;if(/(38|40|27)/.test(b.keyCode)&&(e=a(this),b.preventDefault(),b.stopPropagation(),!e.is(".disabled, :disabled"))){if(g=c(e),h=g.hasClass("open"),!h||h&&27==b.keyCode)return 27==b.which&&g.find(d).focus(),e.click();f=a("[role=menu] li:not(.divider):visible a",g),f.length&&(i=f.index(f.filter(":focus")),38==b.keyCode&&i>0&&i--,40==b.keyCode&&i<f.length-1&&i++,~i||(i=0),f.eq(i).focus())}}};var f=a.fn.dropdown;a.fn.dropdown=function(b){return this.each(function(){var c=a(this),d=c.data("dropdown");d||c.data("dropdown",d=new e(this)),"string"==typeof b&&d[b].call(c)})},a.fn.dropdown.Constructor=e,a.fn.dropdown.noConflict=function(){return a.fn.dropdown=f,this},a(document).on("click.dropdown.data-api",b).on("click.dropdown.data-api",".dropdown form",function(a){a.stopPropagation()}).on(".dropdown-menu",function(a){a.stopPropagation()}).on("click.dropdown.data-api",d,e.prototype.toggle).on("keydown.dropdown.data-api",d+", [role=menu]",e.prototype.keydown)}(window.jQuery),!function(a){function b(){return new Date(Date.UTC.apply(Date,arguments))}var c=function(b,c){var d=this;this.element=a(b),this.container=c.container||"body",this.language=c.language||this.element.data("date-language")||"en",this.language=this.language in e?this.language:"en",this.isRTL=e[this.language].rtl||!1,this.formatType=c.formatType||this.element.data("format-type")||"standard",this.format=f.parseFormat(c.format||this.element.data("date-format")||e[this.language].format||f.getDefaultFormat(this.formatType,"input"),this.formatType),this.isInline=!1,this.isVisible=!1,this.isInput=this.element.is("input"),this.fontAwesome=c.fontAwesome||this.element.data("font-awesome")||!1,this.bootcssVer=c.bootcssVer||(this.isInput?this.element.is(".form-control")?3:2:this.bootcssVer=this.element.is(".input-group")?3:2),this.component=this.element.is(".date")?3==this.bootcssVer?this.element.find(".input-group-addon .glyphicon-th, .input-group-addon .glyphicon-time, .input-group-addon .glyphicon-calendar, .input-group-addon .glyphicon-calendar, .input-group-addon .fa-calendar, .input-group-addon .fa-clock-o").parent():this.element.find(".add-on .icon-th, .add-on .icon-time, .add-on .icon-calendar .fa-calendar .fa-clock-o").parent():!1,this.componentReset=this.element.is(".date")?3==this.bootcssVer?this.element.find(".input-group-addon .glyphicon-remove, .input-group-addon .fa-times").parent():this.element.find(".add-on .icon-remove, .add-on .fa-times").parent():!1,this.hasInput=this.component&&this.element.find("input").length,this.component&&0===this.component.length&&(this.component=!1),this.linkField=c.linkField||this.element.data("link-field")||!1,this.linkFormat=f.parseFormat(c.linkFormat||this.element.data("link-format")||f.getDefaultFormat(this.formatType,"link"),this.formatType),this.minuteStep=c.minuteStep||this.element.data("minute-step")||5,this.pickerPosition=c.pickerPosition||this.element.data("picker-position")||"bottom-right",this.showMeridian=c.showMeridian||this.element.data("show-meridian")||!1,this.initialDate=c.initialDate||new Date,this.zIndex=c.zIndex||this.element.data("z-index")||void 0,this.icons={leftArrow:this.fontAwesome?"icon-arrow-left":(3===this.bootcssVer,"icon-arrow-left"),rightArrow:this.fontAwesome?"icon-arrow-right":(3===this.bootcssVer,"icon-arrow-right")},this.icontype=(this.fontAwesome,"fa"),this._attachEvents(),this.formatViewType="datetime","formatViewType"in c?this.formatViewType=c.formatViewType:"formatViewType"in this.element.data()&&(this.formatViewType=this.element.data("formatViewType")),this.minView=0,"minView"in c?this.minView=c.minView:"minView"in this.element.data()&&(this.minView=this.element.data("min-view")),this.minView=f.convertViewMode(this.minView),this.maxView=f.modes.length-1,"maxView"in c?this.maxView=c.maxView:"maxView"in this.element.data()&&(this.maxView=this.element.data("max-view")),this.maxView=f.convertViewMode(this.maxView),this.wheelViewModeNavigation=!1,"wheelViewModeNavigation"in c?this.wheelViewModeNavigation=c.wheelViewModeNavigation:"wheelViewModeNavigation"in this.element.data()&&(this.wheelViewModeNavigation=this.element.data("view-mode-wheel-navigation")),this.wheelViewModeNavigationInverseDirection=!1,"wheelViewModeNavigationInverseDirection"in c?this.wheelViewModeNavigationInverseDirection=c.wheelViewModeNavigationInverseDirection:"wheelViewModeNavigationInverseDirection"in this.element.data()&&(this.wheelViewModeNavigationInverseDirection=this.element.data("view-mode-wheel-navigation-inverse-dir")),this.wheelViewModeNavigationDelay=100,"wheelViewModeNavigationDelay"in c?this.wheelViewModeNavigationDelay=c.wheelViewModeNavigationDelay:"wheelViewModeNavigationDelay"in this.element.data()&&(this.wheelViewModeNavigationDelay=this.element.data("view-mode-wheel-navigation-delay")),this.startViewMode=2,"startView"in c?this.startViewMode=c.startView:"startView"in this.element.data()&&(this.startViewMode=this.element.data("start-view")),this.startViewMode=f.convertViewMode(this.startViewMode),this.viewMode=this.startViewMode,this.viewSelect=this.minView,"viewSelect"in c?this.viewSelect=c.viewSelect:"viewSelect"in this.element.data()&&(this.viewSelect=this.element.data("view-select")),this.viewSelect=f.convertViewMode(this.viewSelect),this.forceParse=!0,"forceParse"in c?this.forceParse=c.forceParse:"dateForceParse"in this.element.data()&&(this.forceParse=this.element.data("date-force-parse"));for(var g=3===this.bootcssVer?f.templateV3:f.template;-1!==g.indexOf("{iconType}");)g=g.replace("{iconType}",this.icontype);for(;-1!==g.indexOf("{leftArrow}");)g=g.replace("{leftArrow}",this.icons.leftArrow);for(;-1!==g.indexOf("{rightArrow}");)g=g.replace("{rightArrow}",this.icons.rightArrow);if(this.picker=a(g).appendTo(this.isInline?this.element:this.container).on({click:a.proxy(this.click,this),mousedown:a.proxy(this.mousedown,this)}),this.wheelViewModeNavigation&&(a.fn.mousewheel?this.picker.on({mousewheel:a.proxy(this.mousewheel,this)}):console.log("Mouse Wheel event is not supported. Please include the jQuery Mouse Wheel plugin before enabling this option")),this.isInline?this.picker.addClass("datetimepicker-inline"):this.picker.addClass("datepicker-dropdown datetimepicker-dropdown-"+this.pickerPosition+" dropdown-menu"),this.isRTL){this.picker.addClass("datetimepicker-rtl");var h=3===this.bootcssVer?".prev span, .next span":".prev i, .next i";this.picker.find(h).toggleClass(this.icons.leftArrow+" "+this.icons.rightArrow)}a(document).on("mousedown",function(b){0===a(b.target).closest(".datetimepicker").length&&d.hide()}),this.autoclose=!1,"autoclose"in c?this.autoclose=c.autoclose:"dateAutoclose"in this.element.data()&&(this.autoclose=this.element.data("date-autoclose")),this.keyboardNavigation=!0,"keyboardNavigation"in c?this.keyboardNavigation=c.keyboardNavigation:"dateKeyboardNavigation"in this.element.data()&&(this.keyboardNavigation=this.element.data("date-keyboard-navigation")),this.todayBtn=c.todayBtn||this.element.data("date-today-btn")||!1,this.todayHighlight=c.todayHighlight||this.element.data("date-today-highlight")||!1,this.weekStart=(c.weekStart||this.element.data("date-weekstart")||e[this.language].weekStart||0)%7,this.weekEnd=(this.weekStart+6)%7,this.startDate=-(1/0),this.endDate=1/0,this.daysOfWeekDisabled=[],this.setStartDate(c.startDate||this.element.data("date-startdate")),this.setEndDate(c.endDate||this.element.data("date-enddate")),this.setDaysOfWeekDisabled(c.daysOfWeekDisabled||this.element.data("date-days-of-week-disabled")),this.setMinutesDisabled(c.minutesDisabled||this.element.data("date-minute-disabled")),this.setHoursDisabled(c.hoursDisabled||this.element.data("date-hour-disabled")),this.fillDow(),this.fillMonths(),this.update(),this.showMode(),this.isInline&&this.show()};c.prototype={constructor:c,_events:[],_attachEvents:function(){this._detachEvents(),this.isInput?this._events=[[this.element,{focus:a.proxy(this.show,this),keyup:a.proxy(this.update,this),keydown:a.proxy(this.keydown,this)}]]:this.component&&this.hasInput?(this._events=[[this.element.find("input"),{focus:a.proxy(this.show,this),keyup:a.proxy(this.update,this),keydown:a.proxy(this.keydown,this)}],[this.component,{click:a.proxy(this.show,this)}]],this.componentReset&&this._events.push([this.componentReset,{click:a.proxy(this.reset,this)}])):this.element.is("div")?this.isInline=!0:this._events=[[this.element,{click:a.proxy(this.show,this)}]];for(var b,c,d=0;d<this._events.length;d++)b=this._events[d][0],c=this._events[d][1],b.on(c)},_detachEvents:function(){for(var a,b,c=0;c<this._events.length;c++)a=this._events[c][0],b=this._events[c][1],a.off(b);this._events=[]},show:function(b){this.picker.show(),this.height=this.component?this.component.outerHeight():this.element.outerHeight(),this.forceParse&&this.update(),this.place(),a(window).on("resize",a.proxy(this.place,this)),b&&(b.stopPropagation(),b.preventDefault()),this.isVisible=!0,this.element.trigger({type:"show",date:this.date})},hide:function(b){this.isVisible&&(this.isInline||(this.picker.hide(),a(window).off("resize",this.place),this.viewMode=this.startViewMode,this.showMode(),this.isInput||a(document).off("mousedown",this.hide),this.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())&&this.setValue(),this.isVisible=!1,this.element.trigger({type:"hide",date:this.date})))},remove:function(){this._detachEvents(),this.picker.remove(),delete this.picker,delete this.element.data().datetimepicker},getDate:function(){var a=this.getUTCDate();return new Date(a.getTime()+6e4*a.getTimezoneOffset())},getUTCDate:function(){return this.date},setDate:function(a){this.setUTCDate(new Date(a.getTime()-6e4*a.getTimezoneOffset()))},setUTCDate:function(a){a>=this.startDate&&a<=this.endDate?(this.date=a,this.setValue(),this.viewDate=this.date,this.fill()):this.element.trigger({type:"outOfRange",date:a,startDate:this.startDate,endDate:this.endDate})},setFormat:function(a){this.format=f.parseFormat(a,this.formatType);var b;this.isInput?b=this.element:this.component&&(b=this.element.find("input")),b&&b.val()&&this.setValue()},setValue:function(){var b=this.getFormattedDate();this.isInput?this.element.val(b):(this.component&&this.element.find("input").val(b),this.element.data("date",b)),this.linkField&&a("#"+this.linkField).val(this.getFormattedDate(this.linkFormat))},getFormattedDate:function(a){return void 0==a&&(a=this.format),f.formatDate(this.date,a,this.language,this.formatType)},setStartDate:function(a){this.startDate=a||-(1/0),this.startDate!==-(1/0)&&(this.startDate=f.parseDate(this.startDate,this.format,this.language,this.formatType)),this.update(),this.updateNavArrows()},setEndDate:function(a){this.endDate=a||1/0,this.endDate!==1/0&&(this.endDate=f.parseDate(this.endDate,this.format,this.language,this.formatType)),this.update(),this.updateNavArrows()},setDaysOfWeekDisabled:function(b){this.daysOfWeekDisabled=b||[],a.isArray(this.daysOfWeekDisabled)||(this.daysOfWeekDisabled=this.daysOfWeekDisabled.split(/,\s*/)),this.daysOfWeekDisabled=a.map(this.daysOfWeekDisabled,function(a){return parseInt(a,10)}),this.update(),this.updateNavArrows()},setMinutesDisabled:function(b){this.minutesDisabled=b||[],a.isArray(this.minutesDisabled)||(this.minutesDisabled=this.minutesDisabled.split(/,\s*/)),this.minutesDisabled=a.map(this.minutesDisabled,function(a){return parseInt(a,10)}),this.update(),this.updateNavArrows()},setHoursDisabled:function(b){this.hoursDisabled=b||[],a.isArray(this.hoursDisabled)||(this.hoursDisabled=this.hoursDisabled.split(/,\s*/)),this.hoursDisabled=a.map(this.hoursDisabled,function(a){return parseInt(a,10)}),this.update(),this.updateNavArrows()},place:function(){if(!this.isInline){if(!this.zIndex){var b=0;a("div").each(function(){var c=parseInt(a(this).css("zIndex"),10);c>b&&(b=c)}),this.zIndex=b+10}var c,d,e,f;f=this.container instanceof a?this.container.offset():a(this.container).offset(),this.component?(c=this.component.offset(),e=c.left,("bottom-left"==this.pickerPosition||"top-left"==this.pickerPosition)&&(e+=this.component.outerWidth()-this.picker.outerWidth())):(c=this.element.offset(),e=c.left),e+220>document.body.clientWidth&&(e=document.body.clientWidth-220),d="top-left"==this.pickerPosition||"top-right"==this.pickerPosition?c.top-this.picker.outerHeight():c.top+this.height,d-=f.top,e-=f.left,this.picker.css({top:d,left:e,zIndex:this.zIndex})}},update:function(){var a,b=!1;arguments&&arguments.length&&("string"==typeof arguments[0]||arguments[0]instanceof Date)?(a=arguments[0],b=!0):(a=(this.isInput?this.element.val():this.element.find("input").val())||this.element.data("date")||this.initialDate,("string"==typeof a||a instanceof String)&&(a=a.replace(/^\s+|\s+$/g,""))),a||(a=new Date,b=!1),this.date=f.parseDate(a,this.format,this.language,this.formatType),b&&this.setValue(),this.date<this.startDate?this.viewDate=new Date(this.startDate):this.date>this.endDate?this.viewDate=new Date(this.endDate):this.viewDate=new Date(this.date),this.fill()},fillDow:function(){for(var a=this.weekStart,b="<tr>";a<this.weekStart+7;)b+='<th class="dow">'+e[this.language].daysMin[a++%7]+"</th>";b+="</tr>",this.picker.find(".datetimepicker-days thead").append(b)},fillMonths:function(){for(var a="",b=0;12>b;)a+='<span class="month">'+e[this.language].monthsShort[b++]+"</span>";this.picker.find(".datetimepicker-months td").html(a)},fill:function(){if(null!=this.date&&null!=this.viewDate){var c=new Date(this.viewDate),d=c.getUTCFullYear(),g=c.getUTCMonth(),h=c.getUTCDate(),i=c.getUTCHours(),j=c.getUTCMinutes(),k=this.startDate!==-(1/0)?this.startDate.getUTCFullYear():-(1/0),l=this.startDate!==-(1/0)?this.startDate.getUTCMonth()+1:-(1/0),m=this.endDate!==1/0?this.endDate.getUTCFullYear():1/0,n=this.endDate!==1/0?this.endDate.getUTCMonth()+1:1/0,o=new b(this.date.getUTCFullYear(),this.date.getUTCMonth(),this.date.getUTCDate()).valueOf(),p=new Date;if(this.picker.find(".datetimepicker-days thead th:eq(1)").text(e[this.language].months[g]+" "+d),"time"==this.formatViewType){var q=this.getFormattedDate();this.picker.find(".datetimepicker-hours thead th:eq(1)").text(q),this.picker.find(".datetimepicker-minutes thead th:eq(1)").text(q)}else this.picker.find(".datetimepicker-hours thead th:eq(1)").text(h+" "+e[this.language].months[g]+" "+d),this.picker.find(".datetimepicker-minutes thead th:eq(1)").text(h+" "+e[this.language].months[g]+" "+d);this.picker.find("tfoot th.today").text(e[this.language].today).toggle(this.todayBtn!==!1),this.updateNavArrows(),this.fillMonths();var r=b(d,g-1,28,0,0,0,0),s=f.getDaysInMonth(r.getUTCFullYear(),r.getUTCMonth());r.setUTCDate(s),r.setUTCDate(s-(r.getUTCDay()-this.weekStart+7)%7);var t=new Date(r);t.setUTCDate(t.getUTCDate()+42),t=t.valueOf();for(var u,v=[];r.valueOf()<t;)r.getUTCDay()==this.weekStart&&v.push("<tr>"),u="",r.getUTCFullYear()<d||r.getUTCFullYear()==d&&r.getUTCMonth()<g?u+=" old":(r.getUTCFullYear()>d||r.getUTCFullYear()==d&&r.getUTCMonth()>g)&&(u+=" new"),this.todayHighlight&&r.getUTCFullYear()==p.getFullYear()&&r.getUTCMonth()==p.getMonth()&&r.getUTCDate()==p.getDate()&&(u+=" today"),r.valueOf()==o&&(u+=" active"),(r.valueOf()+864e5<=this.startDate||r.valueOf()>this.endDate||-1!==a.inArray(r.getUTCDay(),this.daysOfWeekDisabled))&&(u+=" disabled"),v.push('<td class="day'+u+'">'+r.getUTCDate()+"</td>"),r.getUTCDay()==this.weekEnd&&v.push("</tr>"),r.setUTCDate(r.getUTCDate()+1);this.picker.find(".datetimepicker-days tbody").empty().append(v.join("")),v=[];for(var w="",x="",y="",z=this.hoursDisabled||[],A=0;24>A;A++)if(-1===z.indexOf(A)){var B=b(d,g,h,A);u="",B.valueOf()+36e5<=this.startDate||B.valueOf()>this.endDate?u+=" disabled":i==A&&(u+=" active"),this.showMeridian&&2==e[this.language].meridiem.length?(x=12>A?e[this.language].meridiem[0]:e[this.language].meridiem[1],x!=y&&(""!=y&&v.push("</fieldset>"),v.push('<fieldset class="hour"><legend>'+x.toUpperCase()+"</legend>")),y=x,w=A%12?A%12:12,v.push('<span class="hour'+u+" hour_"+(12>A?"am":"pm")+'">'+w+"</span>"),23==A&&v.push("</fieldset>")):(w=A+":00",v.push('<span class="hour'+u+'">'+w+"</span>"))}this.picker.find(".datetimepicker-hours td").html(v.join("")),v=[],w="",x="",y="";for(var C=this.minutesDisabled||[],A=0;60>A;A+=this.minuteStep)if(-1===C.indexOf(A)){var B=b(d,g,h,i,A,0);u="",B.valueOf()<this.startDate||B.valueOf()>this.endDate?u+=" disabled":Math.floor(j/this.minuteStep)==Math.floor(A/this.minuteStep)&&(u+=" active"),this.showMeridian&&2==e[this.language].meridiem.length?(x=12>i?e[this.language].meridiem[0]:e[this.language].meridiem[1],x!=y&&(""!=y&&v.push("</fieldset>"),v.push('<fieldset class="minute"><legend>'+x.toUpperCase()+"</legend>")),y=x,w=i%12?i%12:12,v.push('<span class="minute'+u+'">'+w+":"+(10>A?"0"+A:A)+"</span>"),59==A&&v.push("</fieldset>")):(w=A+":00",v.push('<span class="minute'+u+'">'+i+":"+(10>A?"0"+A:A)+"</span>"))}this.picker.find(".datetimepicker-minutes td").html(v.join(""));var D=this.date.getUTCFullYear(),E=this.picker.find(".datetimepicker-months").find("th:eq(1)").text(d).end().find("span").removeClass("active");D==d&&E.eq(this.date.getUTCMonth()+2).addClass("active"),(k>d||d>m)&&E.addClass("disabled"),d==k&&E.slice(0,l+1).addClass("disabled"),d==m&&E.slice(n).addClass("disabled"),v="",d=10*parseInt(d/10,10);var F=this.picker.find(".datetimepicker-years").find("th:eq(1)").text(d+"-"+(d+9)).end().find("td");d-=1;for(var A=-1;11>A;A++)v+='<span class="year'+(-1==A||10==A?" old":"")+(D==d?" active":"")+(k>d||d>m?" disabled":"")+'">'+d+"</span>",d+=1;F.html(v),this.place()}},updateNavArrows:function(){var a=new Date(this.viewDate),b=a.getUTCFullYear(),c=a.getUTCMonth(),d=a.getUTCDate(),e=a.getUTCHours();switch(this.viewMode){case 0:this.startDate!==-(1/0)&&b<=this.startDate.getUTCFullYear()&&c<=this.startDate.getUTCMonth()&&d<=this.startDate.getUTCDate()&&e<=this.startDate.getUTCHours()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.endDate!==1/0&&b>=this.endDate.getUTCFullYear()&&c>=this.endDate.getUTCMonth()&&d>=this.endDate.getUTCDate()&&e>=this.endDate.getUTCHours()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 1:this.startDate!==-(1/0)&&b<=this.startDate.getUTCFullYear()&&c<=this.startDate.getUTCMonth()&&d<=this.startDate.getUTCDate()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.endDate!==1/0&&b>=this.endDate.getUTCFullYear()&&c>=this.endDate.getUTCMonth()&&d>=this.endDate.getUTCDate()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 2:this.startDate!==-(1/0)&&b<=this.startDate.getUTCFullYear()&&c<=this.startDate.getUTCMonth()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.endDate!==1/0&&b>=this.endDate.getUTCFullYear()&&c>=this.endDate.getUTCMonth()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 3:case 4:this.startDate!==-(1/0)&&b<=this.startDate.getUTCFullYear()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.endDate!==1/0&&b>=this.endDate.getUTCFullYear()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"})}},mousewheel:function(b){if(b.preventDefault(),b.stopPropagation(),!this.wheelPause){this.wheelPause=!0;var c=b.originalEvent,d=c.wheelDelta,e=d>0?1:0===d?0:-1;this.wheelViewModeNavigationInverseDirection&&(e=-e),this.showMode(e),setTimeout(a.proxy(function(){this.wheelPause=!1},this),this.wheelViewModeNavigationDelay)}},click:function(c){c.stopPropagation(),c.preventDefault();var d=a(c.target).closest("span, td, th, legend");if(d.is("."+this.icontype)&&(d=a(d).parent().closest("span, td, th, legend")),1==d.length){if(d.is(".disabled"))return void this.element.trigger({type:"outOfRange",date:this.viewDate,startDate:this.startDate,endDate:this.endDate});switch(d[0].nodeName.toLowerCase()){case"th":switch(d[0].className){case"switch":this.showMode(1);break;case"prev":case"next":var e=f.modes[this.viewMode].navStep*("prev"==d[0].className?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveHour(this.viewDate,e);break;case 1:this.viewDate=this.moveDate(this.viewDate,e);break;case 2:this.viewDate=this.moveMonth(this.viewDate,e);break;case 3:case 4:this.viewDate=this.moveYear(this.viewDate,e)}this.fill(),this.element.trigger({type:d[0].className+":"+this.convertViewModeText(this.viewMode),date:this.viewDate,startDate:this.startDate,endDate:this.endDate});break;case"today":var g=new Date;g=b(g.getFullYear(),g.getMonth(),g.getDate(),g.getHours(),g.getMinutes(),g.getSeconds(),0),g<this.startDate?g=this.startDate:g>this.endDate&&(g=this.endDate),this.viewMode=this.startViewMode,this.showMode(0),this._setDate(g),this.fill(),this.autoclose&&this.hide()}break;case"span":if(!d.is(".disabled")){var h=this.viewDate.getUTCFullYear(),i=this.viewDate.getUTCMonth(),j=this.viewDate.getUTCDate(),k=this.viewDate.getUTCHours(),l=this.viewDate.getUTCMinutes(),m=this.viewDate.getUTCSeconds();if(d.is(".month")?(this.viewDate.setUTCDate(1),i=d.parent().find("span").index(d),j=this.viewDate.getUTCDate(),this.viewDate.setUTCMonth(i),this.element.trigger({type:"changeMonth",date:this.viewDate}),this.viewSelect>=3&&this._setDate(b(h,i,j,k,l,m,0))):d.is(".year")?(this.viewDate.setUTCDate(1),h=parseInt(d.text(),10)||0,this.viewDate.setUTCFullYear(h),this.element.trigger({type:"changeYear",date:this.viewDate}),this.viewSelect>=4&&this._setDate(b(h,i,j,k,l,m,0))):d.is(".hour")?(k=parseInt(d.text(),10)||0,(d.hasClass("hour_am")||d.hasClass("hour_pm"))&&(12==k&&d.hasClass("hour_am")?k=0:12!=k&&d.hasClass("hour_pm")&&(k+=12)),this.viewDate.setUTCHours(k),this.element.trigger({type:"changeHour",date:this.viewDate}),this.viewSelect>=1&&this._setDate(b(h,i,j,k,l,m,0))):d.is(".minute")&&(l=parseInt(d.text().substr(d.text().indexOf(":")+1),10)||0,this.viewDate.setUTCMinutes(l),this.element.trigger({type:"changeMinute",date:this.viewDate}),this.viewSelect>=0&&this._setDate(b(h,i,j,k,l,m,0))),0!=this.viewMode){var n=this.viewMode;this.showMode(-1),this.fill(),n==this.viewMode&&this.autoclose&&this.hide()}else this.fill(),this.autoclose&&this.hide()}break;case"td":if(d.is(".day")&&!d.is(".disabled")){var j=parseInt(d.text(),10)||1,h=this.viewDate.getUTCFullYear(),i=this.viewDate.getUTCMonth(),k=this.viewDate.getUTCHours(),l=this.viewDate.getUTCMinutes(),m=this.viewDate.getUTCSeconds();d.is(".old")?0===i?(i=11,h-=1):i-=1:d.is(".new")&&(11==i?(i=0,h+=1):i+=1),this.viewDate.setUTCFullYear(h),this.viewDate.setUTCMonth(i,j),this.element.trigger({type:"changeDay",date:this.viewDate}),this.viewSelect>=2&&this._setDate(b(h,i,j,k,l,m,0))}var n=this.viewMode;this.showMode(-1),this.fill(),n==this.viewMode&&this.autoclose&&this.hide()}}},_setDate:function(a,b){b&&"date"!=b||(this.date=a),b&&"view"!=b||(this.viewDate=a),this.fill(),this.setValue();var c;this.isInput?c=this.element:this.component&&(c=this.element.find("input")),c&&(c.change(),this.autoclose&&(!b||"date"==b)),this.element.trigger({type:"changeDate",date:this.date})},moveMinute:function(a,b){if(!b)return a;var c=new Date(a.valueOf());return c.setUTCMinutes(c.getUTCMinutes()+b*this.minuteStep),c},moveHour:function(a,b){if(!b)return a;var c=new Date(a.valueOf());return c.setUTCHours(c.getUTCHours()+b),c},moveDate:function(a,b){if(!b)return a;var c=new Date(a.valueOf());return c.setUTCDate(c.getUTCDate()+b),c},moveMonth:function(a,b){if(!b)return a;var c,d,e=new Date(a.valueOf()),f=e.getUTCDate(),g=e.getUTCMonth(),h=Math.abs(b);if(b=b>0?1:-1,1==h)d=-1==b?function(){return e.getUTCMonth()==g}:function(){return e.getUTCMonth()!=c},c=g+b,e.setUTCMonth(c),(0>c||c>11)&&(c=(c+12)%12);else{for(var i=0;h>i;i++)e=this.moveMonth(e,b);c=e.getUTCMonth(),e.setUTCDate(f),d=function(){return c!=e.getUTCMonth()}}for(;d();)e.setUTCDate(--f),e.setUTCMonth(c);return e},moveYear:function(a,b){return this.moveMonth(a,12*b)},dateWithinRange:function(a){return a>=this.startDate&&a<=this.endDate},keydown:function(a){if(this.picker.is(":not(:visible)"))return void(27==a.keyCode&&this.show());var b,c,d,e=!1;switch(a.keyCode){case 27:this.hide(),a.preventDefault();break;case 37:case 39:if(!this.keyboardNavigation)break;b=37==a.keyCode?-1:1,viewMode=this.viewMode,a.ctrlKey?viewMode+=2:a.shiftKey&&(viewMode+=1),4==viewMode?(c=this.moveYear(this.date,b),d=this.moveYear(this.viewDate,b)):3==viewMode?(c=this.moveMonth(this.date,b),d=this.moveMonth(this.viewDate,b)):2==viewMode?(c=this.moveDate(this.date,b),d=this.moveDate(this.viewDate,b)):1==viewMode?(c=this.moveHour(this.date,b),d=this.moveHour(this.viewDate,b)):0==viewMode&&(c=this.moveMinute(this.date,b),d=this.moveMinute(this.viewDate,b)),this.dateWithinRange(c)&&(this.date=c,this.viewDate=d,this.setValue(),this.update(),a.preventDefault(),e=!0);break;case 38:case 40:if(!this.keyboardNavigation)break;b=38==a.keyCode?-1:1,viewMode=this.viewMode,a.ctrlKey?viewMode+=2:a.shiftKey&&(viewMode+=1),4==viewMode?(c=this.moveYear(this.date,b),d=this.moveYear(this.viewDate,b)):3==viewMode?(c=this.moveMonth(this.date,b),d=this.moveMonth(this.viewDate,b)):2==viewMode?(c=this.moveDate(this.date,7*b),d=this.moveDate(this.viewDate,7*b)):1==viewMode?this.showMeridian?(c=this.moveHour(this.date,6*b),d=this.moveHour(this.viewDate,6*b)):(c=this.moveHour(this.date,4*b),d=this.moveHour(this.viewDate,4*b)):0==viewMode&&(c=this.moveMinute(this.date,4*b),d=this.moveMinute(this.viewDate,4*b)),this.dateWithinRange(c)&&(this.date=c,this.viewDate=d,this.setValue(),this.update(),a.preventDefault(),e=!0);break;case 13:if(0!=this.viewMode){var f=this.viewMode;this.showMode(-1),this.fill(),f==this.viewMode&&this.autoclose&&this.hide()}else this.fill(),this.autoclose&&this.hide();a.preventDefault();break;case 9:this.hide()}if(e){var g;this.isInput?g=this.element:this.component&&(g=this.element.find("input")),g&&g.change(),this.element.trigger({type:"changeDate",date:this.date})}},showMode:function(a){if(a){var b=Math.max(0,Math.min(f.modes.length-1,this.viewMode+a));b>=this.minView&&b<=this.maxView&&(this.element.trigger({type:"changeMode",date:this.viewDate,oldViewMode:this.viewMode,newViewMode:b}),this.viewMode=b)}this.picker.find(">div").hide().filter(".datetimepicker-"+f.modes[this.viewMode].clsName).css("display","block"),this.updateNavArrows()},reset:function(a){this._setDate(null,"date")},convertViewModeText:function(a){switch(a){case 4:return"decade";case 3:return"year";case 2:return"month";case 1:return"day";case 0:return"hour"}}};var d=a.fn.datetimepicker;a.fn.datetimepicker=function(b){var d=Array.apply(null,arguments);d.shift();var e;return this.each(function(){var f=a(this),g=f.data("datetimepicker"),h="object"==typeof b&&b;return g||f.data("datetimepicker",g=new c(this,a.extend({},a.fn.datetimepicker.defaults,h))),"string"==typeof b&&"function"==typeof g[b]&&(e=g[b].apply(g,d),void 0!==e)?!1:void 0}),void 0!==e?e:this},a.fn.datetimepicker.defaults={},a.fn.datetimepicker.Constructor=c;var e=a.fn.datetimepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],
daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],meridiem:["am","pm"],suffix:["st","nd","rd","th"],today:"Today"}},f={modes:[{clsName:"minutes",navFnc:"Hours",navStep:1},{clsName:"hours",navFnc:"Date",navStep:1},{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(a){return a%4===0&&a%100!==0||a%400===0},getDaysInMonth:function(a,b){return[31,f.isLeapYear(a)?29:28,31,30,31,30,31,31,30,31,30,31][b]},getDefaultFormat:function(a,b){if("standard"==a)return"input"==b?"yyyy-mm-dd hh:ii":"yyyy-mm-dd hh:ii:ss";if("php"==a)return"input"==b?"Y-m-d H:i":"Y-m-d H:i:s";throw new Error("Invalid format type.")},validParts:function(a){if("standard"==a)return/hh?|HH?|p|P|ii?|ss?|dd?|DD?|mm?|MM?|yy(?:yy)?/g;if("php"==a)return/[dDjlNwzFmMnStyYaABgGhHis]/g;throw new Error("Invalid format type.")},nonpunctuation:/[^ -\/:-@\[-`{-~\t\n\rTZ]+/g,parseFormat:function(a,b){var c=a.replace(this.validParts(b),"\x00").split("\x00"),d=a.match(this.validParts(b));if(!c||!c.length||!d||0==d.length)throw new Error("Invalid date format.");return{separators:c,parts:d}},parseDate:function(d,f,g,h){if(d instanceof Date){var i=new Date(d.valueOf()-6e4*d.getTimezoneOffset());return i.setMilliseconds(0),i}if(/^\d{4}\-\d{1,2}\-\d{1,2}$/.test(d)&&(f=this.parseFormat("yyyy-mm-dd",h)),/^\d{4}\-\d{1,2}\-\d{1,2}[T ]\d{1,2}\:\d{1,2}$/.test(d)&&(f=this.parseFormat("yyyy-mm-dd hh:ii",h)),/^\d{4}\-\d{1,2}\-\d{1,2}[T ]\d{1,2}\:\d{1,2}\:\d{1,2}[Z]{0,1}$/.test(d)&&(f=this.parseFormat("yyyy-mm-dd hh:ii:ss",h)),/^[-+]\d+[dmwy]([\s,]+[-+]\d+[dmwy])*$/.test(d)){var j,k,l=/([-+]\d+)([dmwy])/,m=d.match(/([-+]\d+)([dmwy])/g);d=new Date;for(var n=0;n<m.length;n++)switch(j=l.exec(m[n]),k=parseInt(j[1]),j[2]){case"d":d.setUTCDate(d.getUTCDate()+k);break;case"m":d=c.prototype.moveMonth.call(c.prototype,d,k);break;case"w":d.setUTCDate(d.getUTCDate()+7*k);break;case"y":d=c.prototype.moveYear.call(c.prototype,d,k)}return b(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate(),d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),0)}var o,p,j,m=d&&d.toString().match(this.nonpunctuation)||[],d=new Date(0,0,0,0,0,0,0),q={},r=["hh","h","ii","i","ss","s","yyyy","yy","M","MM","m","mm","D","DD","d","dd","H","HH","p","P"],s={hh:function(a,b){return a.setUTCHours(b)},h:function(a,b){return a.setUTCHours(b)},HH:function(a,b){return a.setUTCHours(12==b?0:b)},H:function(a,b){return a.setUTCHours(12==b?0:b)},ii:function(a,b){return a.setUTCMinutes(b)},i:function(a,b){return a.setUTCMinutes(b)},ss:function(a,b){return a.setUTCSeconds(b)},s:function(a,b){return a.setUTCSeconds(b)},yyyy:function(a,b){return a.setUTCFullYear(b)},yy:function(a,b){return a.setUTCFullYear(2e3+b)},m:function(a,b){for(b-=1;0>b;)b+=12;for(b%=12,a.setUTCMonth(b);a.getUTCMonth()!=b;){if(isNaN(a.getUTCMonth()))return a;a.setUTCDate(a.getUTCDate()-1)}return a},d:function(a,b){return a.setUTCDate(b)},p:function(a,b){return a.setUTCHours(1==b?a.getUTCHours()+12:a.getUTCHours())}};if(s.M=s.MM=s.mm=s.m,s.dd=s.d,s.P=s.p,d=b(d.getFullYear(),d.getMonth(),d.getDate(),d.getHours(),d.getMinutes(),d.getSeconds()),m.length==f.parts.length){for(var n=0,t=f.parts.length;t>n;n++){if(o=parseInt(m[n],10),j=f.parts[n],isNaN(o))switch(j){case"MM":p=a(e[g].months).filter(function(){var a=this.slice(0,m[n].length),b=m[n].slice(0,a.length);return a==b}),o=a.inArray(p[0],e[g].months)+1;break;case"M":p=a(e[g].monthsShort).filter(function(){var a=this.slice(0,m[n].length),b=m[n].slice(0,a.length);return a.toLowerCase()==b.toLowerCase()}),o=a.inArray(p[0],e[g].monthsShort)+1;break;case"p":case"P":o=a.inArray(m[n].toLowerCase(),e[g].meridiem)}q[j]=o}for(var u,n=0;n<r.length;n++)u=r[n],u in q&&!isNaN(q[u])&&s[u](d,q[u])}return d},formatDate:function(b,c,d,g){if(null==b)return"";var h;if("standard"==g)h={yy:b.getUTCFullYear().toString().substring(2),yyyy:b.getUTCFullYear(),m:b.getUTCMonth()+1,M:e[d].monthsShort[b.getUTCMonth()],MM:e[d].months[b.getUTCMonth()],d:b.getUTCDate(),D:e[d].daysShort[b.getUTCDay()],DD:e[d].days[b.getUTCDay()],p:2==e[d].meridiem.length?e[d].meridiem[b.getUTCHours()<12?0:1]:"",h:b.getUTCHours(),i:b.getUTCMinutes(),s:b.getUTCSeconds()},2==e[d].meridiem.length?h.H=h.h%12==0?12:h.h%12:h.H=h.h,h.HH=(h.H<10?"0":"")+h.H,h.P=h.p.toUpperCase(),h.hh=(h.h<10?"0":"")+h.h,h.ii=(h.i<10?"0":"")+h.i,h.ss=(h.s<10?"0":"")+h.s,h.dd=(h.d<10?"0":"")+h.d,h.mm=(h.m<10?"0":"")+h.m;else{if("php"!=g)throw new Error("Invalid format type.");h={y:b.getUTCFullYear().toString().substring(2),Y:b.getUTCFullYear(),F:e[d].months[b.getUTCMonth()],M:e[d].monthsShort[b.getUTCMonth()],n:b.getUTCMonth()+1,t:f.getDaysInMonth(b.getUTCFullYear(),b.getUTCMonth()),j:b.getUTCDate(),l:e[d].days[b.getUTCDay()],D:e[d].daysShort[b.getUTCDay()],w:b.getUTCDay(),N:0==b.getUTCDay()?7:b.getUTCDay(),S:b.getUTCDate()%10<=e[d].suffix.length?e[d].suffix[b.getUTCDate()%10-1]:"",a:2==e[d].meridiem.length?e[d].meridiem[b.getUTCHours()<12?0:1]:"",g:b.getUTCHours()%12==0?12:b.getUTCHours()%12,G:b.getUTCHours(),i:b.getUTCMinutes(),s:b.getUTCSeconds()},h.m=(h.n<10?"0":"")+h.n,h.d=(h.j<10?"0":"")+h.j,h.A=h.a.toString().toUpperCase(),h.h=(h.g<10?"0":"")+h.g,h.H=(h.G<10?"0":"")+h.G,h.i=(h.i<10?"0":"")+h.i,h.s=(h.s<10?"0":"")+h.s}for(var b=[],i=a.extend([],c.separators),j=0,k=c.parts.length;k>j;j++)i.length&&b.push(i.shift()),b.push(h[c.parts[j]]);return i.length&&b.push(i.shift()),b.join("")},convertViewMode:function(a){switch(a){case 4:case"decade":a=4;break;case 3:case"year":a=3;break;case 2:case"month":a=2;break;case 1:case"day":a=1;break;case 0:case"hour":a=0}return a},headTemplate:'<thead><tr><th class="prev"><i class="{leftArrow}"/></th><th colspan="5" class="switch"></th><th class="next"><i class="{rightArrow}"/></th></tr></thead>',headTemplateV3:'<thead><tr><th class="prev"><span class="{iconType} {leftArrow}"></span> </th><th colspan="5" class="switch"></th><th class="next"><span class="{iconType} {rightArrow}"></span> </th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr></tfoot>'};f.template='<div class="datetimepicker"><div class="datetimepicker-minutes"><table class=" table-condensed col-xs-12">'+f.contTemplate+f.footTemplate+'</table></div><div class="datetimepicker-hours"><table class=" table-condensed col-xs-12">'+f.contTemplate+f.footTemplate+'</table></div><div class="datetimepicker-days"><table class=" table-condensed col-xs-12">'+f.headTemplate+"<tbody></tbody>"+f.footTemplate+'</table></div><div class="datetimepicker-months"><table class="table-condensed">'+f.headTemplate+f.contTemplate+f.footTemplate+'</table></div><div class="datetimepicker-years"><table class="table-condensed">'+f.headTemplate+f.contTemplate+f.footTemplate+"</table></div></div>",f.templateV3='<div class="datetimepicker"><div class="datetimepicker-minutes"><table class=" table-condensed col-xs-12">'+f.contTemplate+f.footTemplate+'</table></div><div class="datetimepicker-hours"><table class=" table-condensed col-xs-12">'+f.contTemplate+f.footTemplate+'</table></div><div class="datetimepicker-days"><table class=" table-condensed col-xs-12">'+f.headTemplateV3+"<tbody></tbody>"+f.footTemplate+'</table></div><div class="datetimepicker-months"><table class="table-condensed">'+f.headTemplateV3+f.contTemplate+f.footTemplate+'</table></div><div class="datetimepicker-years"><table class="table-condensed">'+f.headTemplateV3+f.contTemplate+f.footTemplate+"</table></div></div>",a.fn.datetimepicker.DPGlobal=f,a.fn.datetimepicker.noConflict=function(){return a.fn.datetimepicker=d,this},a(document).on("focus.datetimepicker.data-api click.datetimepicker.data-api",'[data-provide="datetimepicker"]',function(b){var c=a(this);c.data("datetimepicker")||(b.preventDefault(),c.datetimepicker("show"))}),a(function(){a('[data-provide="datetimepicker-inline"]').datetimepicker()})}(window.jQuery),+function(a){"use strict";var b=function(c,d){this.$element=a(c),this.options=a.extend({},b.DEFAULTS,d),this.transitioning=null,this.options.parent&&(this.$parent=a(this.options.parent)),this.options.toggle&&this.toggle()};b.DEFAULTS={toggle:!0},b.prototype.dimension=function(){var a=this.$element.hasClass("width");return a?"width":"height"},b.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var b=a.Event("show.bs.collapse");if(this.$element.trigger(b),!b.isDefaultPrevented()){var c=this.$parent&&this.$parent.find("> .panel > .in");if(c&&c.length){var d=c.data("bs.collapse");if(d&&d.transitioning)return;c.collapse("hide"),d||c.data("bs.collapse",null)}var e=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[e](0),this.transitioning=1;var f=function(){this.$element.removeClass("collapsing").addClass("collapse in")[e]("auto"),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!a.support.transition)return f.call(this);var g=a.camelCase(["scroll",e].join("-"));this.$element.one(a.support.transition.end,a.proxy(f,this)).emulateTransitionEnd(350)[e](this.$element[0][g])}}},b.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var b=a.Event("hide.bs.collapse");if(this.$element.trigger(b),!b.isDefaultPrevented()){var c=this.dimension();this.$element[c](this.$element[c]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var d=function(){this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};return a.support.transition?void this.$element[c](0).one(a.support.transition.end,a.proxy(d,this)).emulateTransitionEnd(350):d.call(this)}}},b.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var c=a.fn.collapse;a.fn.collapse=function(c){return this.each(function(){var d=a(this),e=d.data("bs.collapse"),f=a.extend({},b.DEFAULTS,d.data(),"object"==typeof c&&c);!e&&f.toggle&&"show"==c&&(c=!c),e||d.data("bs.collapse",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.collapse.Constructor=b,a.fn.collapse.noConflict=function(){return a.fn.collapse=c,this},a(document).on("click.bs.collapse.data-api","[data-toggle=collapse]",function(b){var c,d=a(this),e=d.attr("data-target")||b.preventDefault()||(c=d.attr("href"))&&c.replace(/.*(?=#[^\s]+$)/,""),f=a(e),g=f.data("bs.collapse"),h=g?"toggle":d.data(),i=d.attr("data-parent"),j=i&&a(i);g&&g.transitioning||(j&&j.find('[data-toggle=collapse][data-parent="'+i+'"]').not(d).addClass("collapsed"),d[f.hasClass("in")?"addClass":"removeClass"]("collapsed")),f.collapse(h)})}(jQuery),+function(a){"use strict";var b='[data-dismiss="alert"]',c=function(c){a(c).on("click",b,this.close)};c.prototype.close=function(b){function c(){f.trigger("closed.bs.alert").remove()}var d=a(this),e=d.attr("data-target");e||(e=d.attr("href"),e=e&&e.replace(/.*(?=#[^\s]*$)/,""));var f=a(e);b&&b.preventDefault(),f.length||(f=d.hasClass("alert")?d:d.parent()),f.trigger(b=a.Event("close.bs.alert")),b.isDefaultPrevented()||(f.removeClass("in"),a.support.transition&&f.hasClass("fade")?f.one(a.support.transition.end,c).emulateTransitionEnd(150):c())};var d=a.fn.alert;a.fn.alert=function(b){return this.each(function(){var d=a(this),e=d.data("bs.alert");e||d.data("bs.alert",e=new c(this)),"string"==typeof b&&e[b].call(d)})},a.fn.alert.Constructor=c,a.fn.alert.noConflict=function(){return a.fn.alert=d,this},a(document).on("click.bs.alert.data-api",b,c.prototype.close)}(jQuery),+function(a){"use strict";function b(){var a=document.createElement("bootstrap"),b={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var c in b)if(void 0!==a.style[c])return{end:b[c]};return!1}a.fn.emulateTransitionEnd=function(b){var c=!1,d=this;a(this).one(a.support.transition.end,function(){c=!0});var e=function(){c||a(d).trigger(a.support.transition.end)};return setTimeout(e,b),this},a(function(){a.support.transition=b()})}(jQuery),!function(a){"use strict";var b=function(b){this.element=a(b)};b.prototype={constructor:b,show:function(){var b,c,d,e=this.element,f=e.closest("ul:not(.dropdown-menu)"),g=e.attr("data-target");g||(g=e.attr("href"),g=g&&g.replace(/.*(?=#[^\s]*$)/,"")),e.parent("li").hasClass("active")||(b=f.find(".active:last a")[0],d=a.Event("show",{relatedTarget:b}),e.trigger(d),d.isDefaultPrevented()||(c=a(g),this.activate(e.parent("li"),f),this.activate(c,c.parent(),function(){e.trigger({type:"shown",relatedTarget:b})})))},activate:function(b,c,d){function e(){f.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),b.addClass("active"),g?(b[0].offsetWidth,b.addClass("in")):b.removeClass("fade"),b.parent(".dropdown-menu")&&b.closest("li.dropdown").addClass("active"),d&&d()}var f=c.find("> .active"),g=d&&a.support.transition&&f.hasClass("fade");g?f.one(a.support.transition.end,e):e(),f.removeClass("in")}};var c=a.fn.tab;a.fn.tab=function(c){return this.each(function(){var d=a(this),e=d.data("tab");e||d.data("tab",e=new b(this)),"string"==typeof c&&e[c]()})},a.fn.tab.Constructor=b,a.fn.tab.noConflict=function(){return a.fn.tab=c,this},a(document).on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(b){b.preventDefault(),a(this).tab("show")})}(window.jQuery),+function(a){"use strict";var b=function(b,c){this.options=c,this.$element=a(b),this.$backdrop=this.isShown=null,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,a.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};b.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},b.prototype.toggle=function(a){return this[this.isShown?"hide":"show"](a)},b.prototype.show=function(b){var c=this,d=a.Event("show.bs.modal",{relatedTarget:b});this.$element.trigger(d),this.isShown||d.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',a.proxy(this.hide,this)),this.backdrop(function(){var d=a.support.transition&&c.$element.hasClass("fade");c.$element.parent().length||c.$element.appendTo(document.body),c.$element.show().scrollTop(0),d&&c.$element[0].offsetWidth,c.$element.addClass("in").attr("aria-hidden",!1),c.enforceFocus();var e=a.Event("shown.bs.modal",{relatedTarget:b});d?c.$element.find(".modal-dialog").one(a.support.transition.end,function(){c.$element.focus().trigger(e)}).emulateTransitionEnd(300):c.$element.focus().trigger(e)}))},b.prototype.hide=function(b){return b&&b.preventDefault(),b=a.Event("hide.bs.modal"),this.$element.trigger(b),this.isShown&&!b.isDefaultPrevented()?(this.isShown=!1,this.escape(),a(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),a.support.transition&&this.$element.hasClass("fade")?this.$element.one(a.support.transition.end,a.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal(),!1):void 0},b.prototype.enforceFocus=function(){a(document).off("focusin.bs.modal").on("focusin.bs.modal",a.proxy(function(a){this.$element[0]===a.target||this.$element.has(a.target).length||this.$element.focus()},this))},b.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",a.proxy(function(a){27==a.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},b.prototype.hideModal=function(){var a=this;this.$element.hide(),this.backdrop(function(){a.removeBackdrop(),a.$element.trigger("hidden.bs.modal")})},b.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},b.prototype.backdrop=function(b){var c=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var d=a.support.transition&&c;if(this.$backdrop=a('<div class="modal-backdrop '+c+'" />').appendTo(document.body),this.$element.on("click.dismiss.bs.modal",a.proxy(function(a){a.target===a.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),d&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!b)return;d?this.$backdrop.one(a.support.transition.end,b).emulateTransitionEnd(150):b()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),a.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(a.support.transition.end,b).emulateTransitionEnd(150):b()):b&&b()};var c=a.fn.modal;a.fn.modal=function(c,d){return this.each(function(){var e=a(this),f=e.data("bs.modal"),g=a.extend({},b.DEFAULTS,e.data(),"object"==typeof c&&c);f||e.data("bs.modal",f=new b(this,g)),"string"==typeof c?f[c](d):g.show&&f.show(d)})},a.fn.modal.Constructor=b,a.fn.modal.noConflict=function(){return a.fn.modal=c,this},a(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(b){var c=a(this),d=c.attr("href"),e=a(c.attr("data-target")||d&&d.replace(/.*(?=#[^\s]+$)/,"")),f=e.data("bs.modal")?"toggle":a.extend({remote:!/#/.test(d)&&d},e.data(),c.data());c.is("a")&&b.preventDefault(),e.modal(f,this).one("hide",function(){c.is(":visible")&&c.focus()})}),a(document).on("show.bs.modal",".modal",function(){a(document.body).addClass("modal-open")}).on("hidden.bs.modal",".modal",function(){a(document.body).removeClass("modal-open")})}(jQuery);var hex_chr="0123456789abcdef";!function(a){"undefined"==typeof a.fn.each2&&a.extend(a.fn,{each2:function(b){for(var c=a([0]),d=-1,e=this.length;++d<e&&(c.context=c[0]=this[d])&&b.call(c[0],d,c)!==!1;);return this}})}(jQuery),function(a,b){"use strict";function c(b){var c=a(document.createTextNode(""));b.before(c),c.before(b),c.remove()}function d(a){function b(a){return O[a]||a}return a.replace(/[^\u0000-\u007E]/g,b)}function e(a,b){for(var c=0,d=b.length;d>c;c+=1)if(g(a,b[c]))return c;return-1}function f(){var b=a(N);b.appendTo("body");var c={width:b.width()-b[0].clientWidth,height:b.height()-b[0].clientHeight};return b.remove(),c}function g(a,c){return a===c?!0:a===b||c===b?!1:null===a||null===c?!1:a.constructor===String?a+""==c+"":c.constructor===String?c+""==a+"":!1}function h(b,c){var d,e,f;if(null===b||b.length<1)return[];for(d=b.split(c),e=0,f=d.length;f>e;e+=1)d[e]=a.trim(d[e]);return d}function i(a){return a.outerWidth(!1)-a.width()}function j(c){var d="keyup-change-value";c.on("keydown",function(){a.data(c,d)===b&&a.data(c,d,c.val())}),c.on("keyup",function(){var e=a.data(c,d);e!==b&&c.val()!==e&&(a.removeData(c,d),c.trigger("keyup-change"))})}function k(c){c.on("mousemove",function(c){var d=M;(d===b||d.x!==c.pageX||d.y!==c.pageY)&&a(c.target).trigger("mousemove-filtered",c)})}function l(a,c,d){d=d||b;var e;return function(){var b=arguments;window.clearTimeout(e),e=window.setTimeout(function(){c.apply(d,b)},a)}}function m(a,b){var c=l(a,function(a){b.trigger("scroll-debounced",a)});b.on("scroll",function(a){e(a.target,b.get())>=0&&c(a)})}function n(a){a[0]!==document.activeElement&&window.setTimeout(function(){var b,c=a[0],d=a.val().length;a.focus();var e=c.offsetWidth>0||c.offsetHeight>0;e&&c===document.activeElement&&(c.setSelectionRange?c.setSelectionRange(d,d):c.createTextRange&&(b=c.createTextRange(),b.collapse(!1),b.select()))},0)}function o(b){b=a(b)[0];var c=0,d=0;if("selectionStart"in b)c=b.selectionStart,d=b.selectionEnd-c;else if("selection"in document){b.focus();var e=document.selection.createRange();d=document.selection.createRange().text.length,e.moveStart("character",-b.value.length),c=e.text.length-d}return{offset:c,length:d}}function p(a){a.preventDefault(),a.stopPropagation()}function q(a){a.preventDefault(),a.stopImmediatePropagation()}function r(b){if(!J){var c=b[0].currentStyle||window.getComputedStyle(b[0],null);J=a(document.createElement("div")).css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:c.fontSize,fontFamily:c.fontFamily,fontStyle:c.fontStyle,fontWeight:c.fontWeight,letterSpacing:c.letterSpacing,textTransform:c.textTransform,whiteSpace:"nowrap"}),J.attr("class","select2-sizer"),a("body").append(J)}return J.text(b.val()),J.width()}function s(b,c,d){var e,f,g=[];e=a.trim(b.attr("class")),e&&(e=""+e,a(e.split(/\s+/)).each2(function(){0===this.indexOf("select2-")&&g.push(this)})),e=a.trim(c.attr("class")),e&&(e=""+e,a(e.split(/\s+/)).each2(function(){0!==this.indexOf("select2-")&&(f=d(this),f&&g.push(f))})),b.attr("class",g.join(" "))}function t(a,b,c,e){var f=d(a.toUpperCase()).indexOf(d(b.toUpperCase())),g=b.length;return 0>f?void c.push(e(a)):(c.push(e(a.substring(0,f))),c.push("<span class='select2-match'>"),c.push(e(a.substring(f,f+g))),c.push("</span>"),void c.push(a.substring(f+g,a.length)))}function u(a){var b={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return String(a).replace(/[&<>"'\/\\]/g,function(a){return b[a]})}function v(c){var d,e=null,f=c.quietMillis||100,g=c.url,h=this;return function(i){window.clearTimeout(d),d=window.setTimeout(function(){var d=c.data,f=g,j=c.transport||a.fn.select2.ajaxDefaults.transport,k={type:c.type||"GET",cache:c.cache||!1,jsonpCallback:c.jsonpCallback||b,dataType:c.dataType||"json"},l=a.extend({},a.fn.select2.ajaxDefaults.params,k);d=d?d.call(h,i.term,i.page,i.context):null,f="function"==typeof f?f.call(h,i.term,i.page,i.context):f,e&&"function"==typeof e.abort&&e.abort(),c.params&&(a.isFunction(c.params)?a.extend(l,c.params.call(h)):a.extend(l,c.params)),a.extend(l,{url:f,dataType:c.dataType,data:d,success:function(a){var b=c.results(a,i.page,i);i.callback(b)}}),e=j.call(h,l)},f)}}function w(b){var c,d,e=b,f=function(a){return""+a.text};a.isArray(e)&&(d=e,e={results:d}),a.isFunction(e)===!1&&(d=e,e=function(){return d});var g=e();return g.text&&(f=g.text,a.isFunction(f)||(c=g.text,f=function(a){return a[c]})),function(b){var c,d=b.term,g={results:[]};return""===d?void b.callback(e()):(c=function(e,g){var h,i;if(e=e[0],e.children){h={};for(i in e)e.hasOwnProperty(i)&&(h[i]=e[i]);h.children=[],a(e.children).each2(function(a,b){c(b,h.children)}),(h.children.length||b.matcher(d,f(h),e))&&g.push(h)}else b.matcher(d,f(e),e)&&g.push(e)},a(e().results).each2(function(a,b){c(b,g.results)}),void b.callback(g))}}function x(c){var d=a.isFunction(c);return function(e){var f=e.term,g={results:[]},h=d?c(e):c;a.isArray(h)&&(a(h).each(function(){var a=this.text!==b,c=a?this.text:this;(""===f||e.matcher(f,c))&&g.results.push(a?this:{id:this,text:this})}),e.callback(g))}}function y(b,c){if(a.isFunction(b))return!0;if(!b)return!1;if("string"==typeof b)return!0;throw new Error(c+" must be a string, function, or falsy value")}function z(b,c){if(a.isFunction(b)){var d=Array.prototype.slice.call(arguments,2);return b.apply(c,d)}return b}function A(b){var c=0;return a.each(b,function(a,b){b.children?c+=A(b.children):c++}),c}function B(a,c,d,e){var f,h,i,j,k,l=a,m=!1;if(!e.createSearchChoice||!e.tokenSeparators||e.tokenSeparators.length<1)return b;for(;;){for(h=-1,i=0,j=e.tokenSeparators.length;j>i&&(k=e.tokenSeparators[i],h=a.indexOf(k),!(h>=0));i++);if(0>h)break;if(f=a.substring(0,h),a=a.substring(h+k.length),f.length>0&&(f=e.createSearchChoice.call(this,f,c),f!==b&&null!==f&&e.id(f)!==b&&null!==e.id(f))){for(m=!1,i=0,j=c.length;j>i;i++)if(g(e.id(f),e.id(c[i]))){m=!0;break}m||d(f)}}return l!==a?a:void 0}function C(){var b=this;a.each(arguments,function(a,c){b[c].remove(),b[c]=null})}function D(b,c){var d=function(){};return d.prototype=new b,d.prototype.constructor=d,d.prototype.parent=b.prototype,d.prototype=a.extend(d.prototype,c),d}if(window.Select2===b){var E,F,G,H,I,J,K,L,M={x:0,y:0},E={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(a){switch(a=a.which?a.which:a){case E.LEFT:case E.RIGHT:case E.UP:case E.DOWN:return!0}return!1},isControl:function(a){var b=a.which;switch(b){case E.SHIFT:case E.CTRL:case E.ALT:return!0}return a.metaKey?!0:!1},isFunctionKey:function(a){return a=a.which?a.which:a,a>=112&&123>=a}},N="<div class='select2-measure-scrollbar'></div>",O={"â¶":"A","ï¼¡":"A","Ã":"A","Ã":"A","Ã":"A","áº¦":"A","áº¤":"A","áºª":"A","áº¨":"A","Ã":"A","Ä":"A","Ä":"A","áº°":"A","áº®":"A","áº´":"A","áº²":"A","È¦":"A","Ç ":"A","Ã":"A","Ç":"A","áº¢":"A","Ã":"A","Çº":"A","Ç":"A","È":"A","È":"A","áº ":"A","áº¬":"A","áº¶":"A","á¸":"A","Ä":"A","Èº":"A","â±¯":"A","ê²":"AA","Ã":"AE","Ç¼":"AE","Ç¢":"AE","ê´":"AO","ê¶":"AU","ê¸":"AV","êº":"AV","ê¼":"AY","â·":"B","ï¼¢":"B","á¸":"B","á¸":"B","á¸":"B","É":"B","Æ":"B","Æ":"B","â¸":"C","ï¼£":"C","Ä":"C","Ä":"C","Ä":"C","Ä":"C","Ã":"C","á¸":"C","Æ":"C","È»":"C","ê¾":"C","â¹":"D","ï¼¤":"D","á¸":"D","Ä":"D","á¸":"D","á¸":"D","á¸":"D","á¸":"D","Ä":"D","Æ":"D","Æ":"D","Æ":"D","ê¹":"D","Ç±":"DZ","Ç":"DZ","Ç²":"Dz","Ç":"Dz","âº":"E","ï¼¥":"E","Ã":"E","Ã":"E","Ã":"E","á»":"E","áº¾":"E","á»":"E","á»":"E","áº¼":"E","Ä":"E","á¸":"E","á¸":"E","Ä":"E","Ä":"E","Ã":"E","áºº":"E","Ä":"E","È":"E","È":"E","áº¸":"E","á»":"E","È¨":"E","á¸":"E","Ä":"E","á¸":"E","á¸":"E","Æ":"E","Æ":"E","â»":"F","ï¼¦":"F","á¸":"F","Æ":"F","ê»":"F","â¼":"G","ï¼§":"G","Ç´":"G","Ä":"G","á¸ ":"G","Ä":"G","Ä ":"G","Ç¦":"G","Ä¢":"G","Ç¤":"G","Æ":"G","ê ":"G","ê½":"G","ê¾":"G","â½":"H","ï¼¨":"H","Ä¤":"H","á¸¢":"H","á¸¦":"H","È":"H","á¸¤":"H","á¸¨":"H","á¸ª":"H","Ä¦":"H","â±§":"H","â±µ":"H","ê":"H","â¾":"I","ï¼©":"I","Ã":"I","Ã":"I","Ã":"I","Ä¨":"I","Äª":"I","Ä¬":"I","Ä°":"I","Ã":"I","á¸®":"I","á»":"I","Ç":"I","È":"I","È":"I","á»":"I","Ä®":"I","á¸¬":"I","Æ":"I","â¿":"J","ï¼ª":"J","Ä´":"J","É":"J","â":"K","ï¼«":"K","á¸°":"K","Ç¨":"K","á¸²":"K","Ä¶":"K","á¸´":"K","Æ":"K","â±©":"K","ê":"K","ê":"K","ê":"K","ê¢":"K","â":"L","ï¼¬":"L","Ä¿":"L","Ä¹":"L","Ä½":"L","á¸¶":"L","á¸¸":"L","Ä»":"L","á¸¼":"L","á¸º":"L","Å":"L","È½":"L","â±¢":"L","â± ":"L","ê":"L","ê":"L","ê":"L","Ç":"LJ","Ç":"Lj","â":"M","ï¼­":"M","á¸¾":"M","á¹":"M","á¹":"M","â±®":"M","Æ":"M","â":"N","ï¼®":"N","Ç¸":"N","Å":"N","Ã":"N","á¹":"N","Å":"N","á¹":"N","Å":"N","á¹":"N","á¹":"N","È ":"N","Æ":"N","ê":"N","ê¤":"N","Ç":"NJ","Ç":"Nj","â":"O","ï¼¯":"O","Ã":"O","Ã":"O","Ã":"O","á»":"O","á»":"O","á»":"O","á»":"O","Ã":"O","á¹":"O","È¬":"O","á¹":"O","Å":"O","á¹":"O","á¹":"O","Å":"O","È®":"O","È°":"O","Ã":"O","Èª":"O","á»":"O","Å":"O","Ç":"O","È":"O","È":"O","Æ ":"O","á»":"O","á»":"O","á» ":"O","á»":"O","á»¢":"O","á»":"O","á»":"O","Çª":"O","Ç¬":"O","Ã":"O","Ç¾":"O","Æ":"O","Æ":"O","ê":"O","ê":"O","Æ¢":"OI","ê":"OO","È¢":"OU","â":"P","ï¼°":"P","á¹":"P","á¹":"P","Æ¤":"P","â±£":"P","ê":"P","ê":"P","ê":"P","â":"Q","ï¼±":"Q","ê":"Q","ê":"Q","É":"Q","â":"R","ï¼²":"R","Å":"R","á¹":"R","Å":"R","È":"R","È":"R","á¹":"R","á¹":"R","Å":"R","á¹":"R","É":"R","â±¤":"R","ê":"R","ê¦":"R","ê":"R","â":"S","ï¼³":"S","áº":"S","Å":"S","á¹¤":"S","Å":"S","á¹ ":"S","Å ":"S","á¹¦":"S","á¹¢":"S","á¹¨":"S","È":"S","Å":"S","â±¾":"S","ê¨":"S","ê":"S","â":"T","ï¼´":"T","á¹ª":"T","Å¤":"T","á¹¬":"T","È":"T","Å¢":"T","á¹°":"T","á¹®":"T","Å¦":"T","Æ¬":"T","Æ®":"T","È¾":"T","ê":"T","ê¨":"TZ","â":"U","ï¼µ":"U","Ã":"U","Ã":"U","Ã":"U","Å¨":"U","á¹¸":"U","Åª":"U","á¹º":"U","Å¬":"U","Ã":"U","Ç":"U","Ç":"U","Ç":"U","Ç":"U","á»¦":"U","Å®":"U","Å°":"U","Ç":"U","È":"U","È":"U","Æ¯":"U","á»ª":"U","á»¨":"U","á»®":"U","á»¬":"U","á»°":"U","á»¤":"U","á¹²":"U","Å²":"U","á¹¶":"U","á¹´":"U","É":"U","â":"V","ï¼¶":"V","á¹¼":"V","á¹¾":"V","Æ²":"V","ê":"V","É":"V","ê ":"VY","â":"W","ï¼·":"W","áº":"W","áº":"W","Å´":"W","áº":"W","áº":"W","áº":"W","â±²":"W","â":"X","ï¼¸":"X","áº":"X","áº":"X","â":"Y","ï¼¹":"Y","á»²":"Y","Ã":"Y","Å¶":"Y","á»¸":"Y","È²":"Y","áº":"Y","Å¸":"Y","á»¶":"Y","á»´":"Y","Æ³":"Y","É":"Y","á»¾":"Y","â":"Z","ï¼º":"Z","Å¹":"Z","áº":"Z","Å»":"Z","Å½":"Z","áº":"Z","áº":"Z","Æµ":"Z","È¤":"Z","â±¿":"Z","â±«":"Z","ê¢":"Z","â":"a","ï½":"a","áº":"a","Ã ":"a","Ã¡":"a","Ã¢":"a","áº§":"a","áº¥":"a","áº«":"a","áº©":"a","Ã£":"a","Ä":"a","Ä":"a","áº±":"a","áº¯":"a","áºµ":"a","áº³":"a","È§":"a","Ç¡":"a","Ã¤":"a","Ç":"a","áº£":"a","Ã¥":"a","Ç»":"a","Ç":"a","È":"a","È":"a","áº¡":"a","áº­":"a","áº·":"a","á¸":"a","Ä":"a","â±¥":"a","É":"a","ê³":"aa","Ã¦":"ae","Ç½":"ae","Ç£":"ae","êµ":"ao","ê·":"au","ê¹":"av","ê»":"av","ê½":"ay","â":"b","ï½":"b","á¸":"b","á¸":"b","á¸":"b","Æ":"b","Æ":"b","É":"b","â":"c","ï½":"c","Ä":"c","Ä":"c","Ä":"c","Ä":"c","Ã§":"c","á¸":"c","Æ":"c","È¼":"c","ê¿":"c","â":"c","â":"d","ï½":"d","á¸":"d","Ä":"d","á¸":"d","á¸":"d","á¸":"d","á¸":"d","Ä":"d","Æ":"d","É":"d","É":"d","êº":"d","Ç³":"dz","Ç":"dz","â":"e","ï½":"e","Ã¨":"e","Ã©":"e","Ãª":"e","á»":"e","áº¿":"e","á»":"e","á»":"e","áº½":"e","Ä":"e","á¸":"e","á¸":"e","Ä":"e","Ä":"e","Ã«":"e","áº»":"e","Ä":"e","È":"e","È":"e","áº¹":"e","á»":"e","È©":"e","á¸":"e","Ä":"e","á¸":"e","á¸":"e","É":"e","É":"e","Ç":"e","â":"f","ï½":"f","á¸":"f","Æ":"f","ê¼":"f","â":"g","ï½":"g","Çµ":"g","Ä":"g","á¸¡":"g","Ä":"g","Ä¡":"g","Ç§":"g","Ä£":"g","Ç¥":"g","É ":"g","ê¡":"g","áµ¹":"g","ê¿":"g","â":"h","ï½":"h","Ä¥":"h","á¸£":"h","á¸§":"h","È":"h","á¸¥":"h","á¸©":"h","á¸«":"h","áº":"h","Ä§":"h","â±¨":"h","â±¶":"h","É¥":"h","Æ":"hv","â":"i","ï½":"i","Ã¬":"i","Ã­":"i","Ã®":"i","Ä©":"i","Ä«":"i","Ä­":"i","Ã¯":"i","á¸¯":"i","á»":"i","Ç":"i","È":"i","È":"i","á»":"i","Ä¯":"i","á¸­":"i","É¨":"i","Ä±":"i","â":"j","ï½":"j","Äµ":"j","Ç°":"j","É":"j","â":"k","ï½":"k","á¸±":"k","Ç©":"k","á¸³":"k","Ä·":"k","á¸µ":"k","Æ":"k","â±ª":"k","ê":"k","ê":"k","ê":"k","ê£":"k","â":"l","ï½":"l","Å":"l","Äº":"l","Ä¾":"l","á¸·":"l","á¸¹":"l","Ä¼":"l","á¸½":"l","á¸»":"l","Å¿":"l","Å":"l","Æ":"l","É«":"l","â±¡":"l","ê":"l","ê":"l","ê":"l","Ç":"lj","â":"m","ï½":"m","á¸¿":"m","á¹":"m","á¹":"m","É±":"m","É¯":"m","â":"n","ï½":"n","Ç¹":"n","Å":"n","Ã±":"n","á¹":"n","Å":"n","á¹":"n","Å":"n","á¹":"n","á¹":"n","Æ":"n","É²":"n","Å":"n","ê":"n","ê¥":"n","Ç":"nj","â":"o","ï½":"o","Ã²":"o","Ã³":"o","Ã´":"o","á»":"o","á»":"o","á»":"o","á»":"o","Ãµ":"o","á¹":"o","È­":"o","á¹":"o","Å":"o","á¹":"o","á¹":"o","Å":"o","È¯":"o","È±":"o","Ã¶":"o","È«":"o","á»":"o","Å":"o","Ç":"o","È":"o","È":"o","Æ¡":"o","á»":"o","á»":"o","á»¡":"o","á»":"o","á»£":"o","á»":"o","á»":"o","Ç«":"o","Ç­":"o","Ã¸":"o","Ç¿":"o","É":"o","ê":"o","ê":"o","Éµ":"o","Æ£":"oi","È£":"ou","ê":"oo","â":"p","ï½":"p","á¹":"p","á¹":"p","Æ¥":"p","áµ½":"p","ê":"p","ê":"p","ê":"p","â ":"q","ï½":"q","É":"q","ê":"q","ê":"q","â¡":"r","ï½":"r","Å":"r","á¹":"r","Å":"r","È":"r","È":"r","á¹":"r","á¹":"r","Å":"r","á¹":"r","É":"r","É½":"r","ê":"r","ê§":"r","ê":"r","â¢":"s","ï½":"s","Ã":"s","Å":"s","á¹¥":"s","Å":"s","á¹¡":"s","Å¡":"s","á¹§":"s","á¹£":"s","á¹©":"s","È":"s","Å":"s","È¿":"s","ê©":"s","ê":"s","áº":"s","â£":"t","ï½":"t","á¹«":"t","áº":"t","Å¥":"t","á¹­":"t","È":"t","Å£":"t","á¹±":"t","á¹¯":"t","Å§":"t","Æ­":"t","Ê":"t","â±¦":"t","ê":"t","ê©":"tz","â¤":"u","ï½":"u","Ã¹":"u","Ãº":"u","Ã»":"u","Å©":"u","á¹¹":"u","Å«":"u","á¹»":"u","Å­":"u","Ã¼":"u","Ç":"u","Ç":"u","Ç":"u","Ç":"u","á»§":"u","Å¯":"u","Å±":"u","Ç":"u","È":"u","È":"u","Æ°":"u","á»«":"u","á»©":"u","á»¯":"u","á»­":"u","á»±":"u","á»¥":"u","á¹³":"u","Å³":"u","á¹·":"u","á¹µ":"u","Ê":"u","â¥":"v","ï½":"v","á¹½":"v","á¹¿":"v","Ê":"v","ê":"v","Ê":"v","ê¡":"vy","â¦":"w","ï½":"w","áº":"w","áº":"w","Åµ":"w","áº":"w","áº":"w","áº":"w","áº":"w","â±³":"w","â§":"x","ï½":"x","áº":"x","áº":"x","â¨":"y","ï½":"y","á»³":"y","Ã½":"y","Å·":"y","á»¹":"y","È³":"y","áº":"y","Ã¿":"y","á»·":"y","áº":"y","á»µ":"y","Æ´":"y","É":"y","á»¿":"y","â©":"z","ï½":"z","Åº":"z","áº":"z","Å¼":"z","Å¾":"z","áº":"z","áº":"z","Æ¶":"z","È¥":"z","É":"z","â±¬":"z","ê£":"z","Î":"Î","Î":"Î","Î":"Î","Î":"Î","Îª":"Î","Î":"Î","Î":"Î¥","Î«":"Î¥","Î":"Î©","Î¬":"Î±","Î­":"Îµ","Î®":"Î·","Î¯":"Î¹","Ï":"Î¹","Î":"Î¹","Ï":"Î¿","Ï":"Ï","Ï":"Ï","Î°":"Ï","Ï":"Ï","Ï":"Ï"};K=a(document),I=function(){var a=1;return function(){return a++}}(),F=D(Object,{bind:function(a){var b=this;return function(){a.apply(b,arguments)}},init:function(c){var d,e,g=".select2-results";this.opts=c=this.prepareOpts(c),this.id=c.id,c.element.data("select2")!==b&&null!==c.element.data("select2")&&c.element.data("select2").destroy(),this.container=this.createContainer(),this.liveRegion=a("<span>",{role:"status","aria-live":"polite"}).addClass("select2-hidden-accessible").appendTo(document.body),this.containerId="s2id_"+(c.element.attr("id")||"autogen"+I()),this.containerEventName=this.containerId.replace(/([.])/g,"_").replace(/([;&,\-\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1"),this.container.attr("id",this.containerId),this.container.attr("title",c.element.attr("title")),this.body=a("body"),s(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.attr("style",c.element.attr("style")),this.container.css(z(c.containerCss,this.opts.element)),this.container.addClass(z(c.containerCssClass,this.opts.element)),
this.elementTabIndex=this.opts.element.attr("tabindex"),this.opts.element.data("select2",this).attr("tabindex","-1").before(this.container).on("click.select2",p),this.container.data("select2",this),this.dropdown=this.container.find(".select2-drop"),s(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(z(c.dropdownCssClass,this.opts.element)),this.dropdown.data("select2",this),this.dropdown.on("click",p),this.results=d=this.container.find(g),this.search=e=this.container.find("input.select2-input"),this.queryCount=0,this.resultsPage=0,this.context=null,this.initContainer(),this.container.on("click",p),k(this.results),this.dropdown.on("mousemove-filtered",g,this.bind(this.highlightUnderEvent)),this.dropdown.on("touchstart touchmove touchend",g,this.bind(function(a){this._touchEvent=!0,this.highlightUnderEvent(a)})),this.dropdown.on("touchmove",g,this.bind(this.touchMoved)),this.dropdown.on("touchstart touchend",g,this.bind(this.clearTouchMoved)),this.dropdown.on("click",this.bind(function(a){this._touchEvent&&(this._touchEvent=!1,this.selectHighlighted())})),m(80,this.results),this.dropdown.on("scroll-debounced",g,this.bind(this.loadMoreIfNeeded)),a(this.container).on("change",".select2-input",function(a){a.stopPropagation()}),a(this.dropdown).on("change",".select2-input",function(a){a.stopPropagation()}),a.fn.mousewheel&&d.mousewheel(function(a,b,c,e){var f=d.scrollTop();e>0&&0>=f-e?(d.scrollTop(0),p(a)):0>e&&d.get(0).scrollHeight-d.scrollTop()+e<=d.height()&&(d.scrollTop(d.get(0).scrollHeight-d.height()),p(a))}),j(e),e.on("keyup-change input paste",this.bind(this.updateResults)),e.on("focus",function(){e.addClass("select2-focused")}),e.on("blur",function(){e.removeClass("select2-focused")}),this.dropdown.on("mouseup",g,this.bind(function(b){a(b.target).closest(".select2-result-selectable").length>0&&(this.highlightUnderEvent(b),this.selectHighlighted(b))})),this.dropdown.on("click mouseup mousedown touchstart touchend focusin",function(a){a.stopPropagation()}),this.nextSearchTerm=b,a.isFunction(this.opts.initSelection)&&(this.initSelection(),this.monitorSource()),null!==c.maximumInputLength&&this.search.attr("maxlength",c.maximumInputLength);var h=c.element.prop("disabled");h===b&&(h=!1),this.enable(!h);var i=c.element.prop("readonly");i===b&&(i=!1),this.readonly(i),L=L||f(),this.autofocus=c.element.prop("autofocus"),c.element.prop("autofocus",!1),this.autofocus&&this.focus(),this.search.attr("placeholder",c.searchInputPlaceholder)},destroy:function(){var a=this.opts.element,c=a.data("select2");this.close(),a.length&&a[0].detachEvent&&a.each(function(){this.detachEvent("onpropertychange",this._sync)}),this.propertyObserver&&(this.propertyObserver.disconnect(),this.propertyObserver=null),this._sync=null,c!==b&&(c.container.remove(),c.liveRegion.remove(),c.dropdown.remove(),a.removeClass("select2-offscreen").removeData("select2").off(".select2").prop("autofocus",this.autofocus||!1),this.elementTabIndex?a.attr({tabindex:this.elementTabIndex}):a.removeAttr("tabindex"),a.show()),C.call(this,"container","liveRegion","dropdown","results","search")},optionToData:function(a){return a.is("option")?{id:a.prop("value"),text:a.text(),element:a.get(),css:a.attr("class"),disabled:a.prop("disabled"),locked:g(a.attr("locked"),"locked")||g(a.data("locked"),!0)}:a.is("optgroup")?{text:a.attr("label"),children:[],element:a.get(),css:a.attr("class")}:void 0},prepareOpts:function(c){var d,e,f,i,j=this;if(d=c.element,"select"===d.get(0).tagName.toLowerCase()&&(this.select=e=c.element),e&&a.each(["id","multiple","ajax","query","createSearchChoice","initSelection","data","tags"],function(){if(this in c)throw new Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.")}),c=a.extend({},{populateResults:function(d,e,f){var g,h=this.opts.id,i=this.liveRegion;(g=function(d,e,k){var l,m,n,o,p,q,r,s,t,u;d=c.sortResults(d,e,f);var v=[];for(l=0,m=d.length;m>l;l+=1)n=d[l],p=n.disabled===!0,o=!p&&h(n)!==b,q=n.children&&n.children.length>0,r=a("<li></li>"),r.addClass("select2-results-dept-"+k),r.addClass("select2-result"),r.addClass(o?"select2-result-selectable":"select2-result-unselectable"),p&&r.addClass("select2-disabled"),q&&r.addClass("select2-result-with-children"),r.addClass(j.opts.formatResultCssClass(n)),r.attr("role","presentation"),s=a(document.createElement("div")),s.addClass("select2-result-label"),s.attr("id","select2-result-label-"+I()),s.attr("role","option"),u=c.formatResult(n,s,f,j.opts.escapeMarkup),u!==b&&(s.html(u),r.append(s)),q&&(t=a("<ul></ul>"),t.addClass("select2-result-sub"),g(n.children,t,k+1),r.append(t)),r.data("select2-data",n),v.push(r[0]);e.append(v),i.text(c.formatMatches(d.length))})(e,d,0)}},a.fn.select2.defaults,c),"function"!=typeof c.id&&(f=c.id,c.id=function(a){return a[f]}),a.isArray(c.element.data("select2Tags"))){if("tags"in c)throw"tags specified as both an attribute 'data-select2-tags' and in options of Select2 "+c.element.attr("id");c.tags=c.element.data("select2Tags")}if(e?(c.query=this.bind(function(a){var c,e,f,g={results:[],more:!1},h=a.term;f=function(b,c){var d;b.is("option")?a.matcher(h,b.text(),b)&&c.push(j.optionToData(b)):b.is("optgroup")&&(d=j.optionToData(b),b.children().each2(function(a,b){f(b,d.children)}),d.children.length>0&&c.push(d))},c=d.children(),this.getPlaceholder()!==b&&c.length>0&&(e=this.getPlaceholderOption(),e&&(c=c.not(e))),c.each2(function(a,b){f(b,g.results)}),a.callback(g)}),c.id=function(a){return a.id}):"query"in c||("ajax"in c?(i=c.element.data("ajax-url"),i&&i.length>0&&(c.ajax.url=i),c.query=v.call(c.element,c.ajax)):"data"in c?c.query=w(c.data):"tags"in c&&(c.query=x(c.tags),c.createSearchChoice===b&&(c.createSearchChoice=function(b){return{id:a.trim(b),text:a.trim(b)}}),c.initSelection===b&&(c.initSelection=function(b,d){var e=[];a(h(b.val(),c.separator)).each(function(){var b={id:this,text:this},d=c.tags;a.isFunction(d)&&(d=d()),a(d).each(function(){return g(this.id,b.id)?(b=this,!1):void 0}),e.push(b)}),d(e)}))),"function"!=typeof c.query)throw"query function not defined for Select2 "+c.element.attr("id");if("top"===c.createSearchChoicePosition)c.createSearchChoicePosition=function(a,b){a.unshift(b)};else if("bottom"===c.createSearchChoicePosition)c.createSearchChoicePosition=function(a,b){a.push(b)};else if("function"!=typeof c.createSearchChoicePosition)throw"invalid createSearchChoicePosition option must be 'top', 'bottom' or a custom function";return c},monitorSource:function(){var c,d=this.opts.element,e=this;d.on("change.select2",this.bind(function(a){this.opts.element.data("select2-change-triggered")!==!0&&this.initSelection()})),this._sync=this.bind(function(){var a=d.prop("disabled");a===b&&(a=!1),this.enable(!a);var c=d.prop("readonly");c===b&&(c=!1),this.readonly(c),s(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.addClass(z(this.opts.containerCssClass,this.opts.element)),s(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(z(this.opts.dropdownCssClass,this.opts.element))}),d.length&&d[0].attachEvent&&d.each(function(){this.attachEvent("onpropertychange",e._sync)}),c=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,c!==b&&(this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),this.propertyObserver=new c(function(b){a.each(b,e._sync)}),this.propertyObserver.observe(d.get(0),{attributes:!0,subtree:!1}))},triggerSelect:function(b){var c=a.Event("select2-selecting",{val:this.id(b),object:b,choice:b});return this.opts.element.trigger(c),!c.isDefaultPrevented()},triggerChange:function(b){b=b||{},b=a.extend({},b,{type:"change",val:this.val()}),this.opts.element.data("select2-change-triggered",!0),this.opts.element.trigger(b),this.opts.element.data("select2-change-triggered",!1),this.opts.element.click(),this.opts.blurOnChange&&this.opts.element.blur()},isInterfaceEnabled:function(){return this.enabledInterface===!0},enableInterface:function(){var a=this._enabled&&!this._readonly,b=!a;return a===this.enabledInterface?!1:(this.container.toggleClass("select2-container-disabled",b),this.close(),this.enabledInterface=a,!0)},enable:function(a){a===b&&(a=!0),this._enabled!==a&&(this._enabled=a,this.opts.element.prop("disabled",!a),this.enableInterface())},disable:function(){this.enable(!1)},readonly:function(a){a===b&&(a=!1),this._readonly!==a&&(this._readonly=a,this.opts.element.prop("readonly",a),this.enableInterface())},opened:function(){return this.container?this.container.hasClass("select2-dropdown-open"):!1},positionDropdown:function(){var b,c,d,e,f,g=this.dropdown,h=this.container.offset(),i=this.container.outerHeight(!1),j=this.container.outerWidth(!1),k=g.outerHeight(!1),l=a(window),m=l.width(),n=l.height(),o=l.scrollLeft()+m,p=l.scrollTop()+n,q=h.top+i,r=h.left,s=p>=q+k,t=h.top-k>=l.scrollTop(),u=g.outerWidth(!1),v=o>=r+u,w=g.hasClass("select2-drop-above");w?(c=!0,!t&&s&&(d=!0,c=!1)):(c=!1,!s&&t&&(d=!0,c=!0)),d&&(g.hide(),h=this.container.offset(),i=this.container.outerHeight(!1),j=this.container.outerWidth(!1),k=g.outerHeight(!1),o=l.scrollLeft()+m,p=l.scrollTop()+n,q=h.top+i,r=h.left,u=g.outerWidth(!1),v=o>=r+u,g.show(),this.focusSearch()),this.opts.dropdownAutoWidth?(f=a(".select2-results",g)[0],g.addClass("select2-drop-auto-width"),g.css("width",""),u=g.outerWidth(!1)+(f.scrollHeight===f.clientHeight?0:L.width),u>j?j=u:u=j,k=g.outerHeight(!1),v=o>=r+u):this.container.removeClass("select2-drop-auto-width"),"static"!==this.body.css("position")&&(b=this.body.offset(),q-=b.top,r-=b.left),v||(r=h.left+this.container.outerWidth(!1)-u),e={left:r,width:j},c?(e.top=h.top-k,e.bottom="auto",this.container.addClass("select2-drop-above"),g.addClass("select2-drop-above")):(e.top=q,e.bottom="auto",this.container.removeClass("select2-drop-above"),g.removeClass("select2-drop-above")),e=a.extend(e,z(this.opts.dropdownCss,this.opts.element)),g.css(e)},shouldOpen:function(){var b;return this.opened()?!1:this._enabled===!1||this._readonly===!0?!1:(b=a.Event("select2-opening"),this.opts.element.trigger(b),!b.isDefaultPrevented())},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")},open:function(){return this.shouldOpen()?(this.opening(),K.on("mousemove.select2Event",function(a){M.x=a.pageX,M.y=a.pageY}),!0):!1},opening:function(){var b,d=this.containerEventName,e="scroll."+d,f="resize."+d,g="orientationchange."+d;this.container.removeClass("form-control"),this.container.addClass("select2-dropdown-open").addClass("select2-container-active"),this.clearDropdownAlignmentPreference(),this.dropdown[0]!==this.body.children().last()[0]&&this.dropdown.detach().appendTo(this.body),b=a("#select2-drop-mask"),0==b.length&&(b=a(document.createElement("div")),b.attr("id","select2-drop-mask").attr("class","select2-drop-mask"),b.hide(),b.appendTo(this.body),b.on("mousedown touchstart click",function(d){c(b);var e,f=a("#select2-drop");f.length>0&&(e=f.data("select2"),e.opts.selectOnBlur&&e.selectHighlighted({noFocus:!0}),e.close(),d.preventDefault(),d.stopPropagation())})),this.dropdown.prev()[0]!==b[0]&&this.dropdown.before(b),a("#select2-drop").removeAttr("id"),this.dropdown.attr("id","select2-drop"),b.show(),this.positionDropdown(),this.dropdown.show(),this.positionDropdown(),this.dropdown.addClass("select2-drop-active");var h=this;this.container.parents().add(window).each(function(){a(this).on(f+" "+e+" "+g,function(a){h.opened()&&h.positionDropdown()})})},close:function(){if(this.opened()){var b=this.containerEventName,c="scroll."+b,d="resize."+b,e="orientationchange."+b;this.container.parents().add(window).each(function(){a(this).off(c).off(d).off(e)}),this.clearDropdownAlignmentPreference(),a("#select2-drop-mask").hide(),this.dropdown.removeAttr("id"),this.dropdown.hide(),this.container.removeClass("select2-dropdown-open").removeClass("select2-container-active"),this.results.empty(),K.off("mousemove.select2Event"),this.clearSearch(),this.search.removeClass("select2-active"),this.opts.element.trigger(a.Event("select2-close"))}},externalSearch:function(a){this.open(),this.search.val(a),this.updateResults(!1)},clearSearch:function(){},getMaximumSelectionSize:function(){return z(this.opts.maximumSelectionSize,this.opts.element)},ensureHighlightVisible:function(){var b,c,d,e,f,g,h,i,j=this.results;if(c=this.highlight(),!(0>c)){if(0==c)return void j.scrollTop(0);b=this.findHighlightableChoices().find(".select2-result-label"),d=a(b[c]),i=(d.offset()||{}).top||0,e=i+d.outerHeight(!0),c===b.length-1&&(h=j.find("li.select2-more-results"),h.length>0&&(e=h.offset().top+h.outerHeight(!0))),f=j.offset().top+j.outerHeight(!0),e>f&&j.scrollTop(j.scrollTop()+(e-f)),g=i-j.offset().top,0>g&&"none"!=d.css("display")&&j.scrollTop(j.scrollTop()+g)}},findHighlightableChoices:function(){return this.results.find(".select2-result-selectable:not(.select2-disabled):not(.select2-selected)")},moveHighlight:function(b){for(var c=this.findHighlightableChoices(),d=this.highlight();d>-1&&d<c.length;){d+=b;var e=a(c[d]);if(e.hasClass("select2-result-selectable")&&!e.hasClass("select2-disabled")&&!e.hasClass("select2-selected")){this.highlight(d);break}}},highlight:function(b){var c,d,f=this.findHighlightableChoices();return 0===arguments.length?e(f.filter(".select2-highlighted")[0],f.get()):(b>=f.length&&(b=f.length-1),0>b&&(b=0),this.removeHighlight(),c=a(f[b]),c.addClass("select2-highlighted"),this.search.attr("aria-activedescendant",c.find(".select2-result-label").attr("id")),this.ensureHighlightVisible(),this.liveRegion.text(c.text()),d=c.data("select2-data"),void(d&&this.opts.element.trigger({type:"select2-highlight",val:this.id(d),choice:d})))},removeHighlight:function(){this.results.find(".select2-highlighted").removeClass("select2-highlighted")},touchMoved:function(){this._touchMoved=!0},clearTouchMoved:function(){this._touchMoved=!1},countSelectableResults:function(){return this.findHighlightableChoices().length},highlightUnderEvent:function(b){var c=a(b.target).closest(".select2-result-selectable");if(c.length>0&&!c.is(".select2-highlighted")){var d=this.findHighlightableChoices();this.highlight(d.index(c))}else 0==c.length&&this.removeHighlight()},loadMoreIfNeeded:function(){var a,b=this.results,c=b.find("li.select2-more-results"),d=this.resultsPage+1,e=this,f=this.search.val(),g=this.context;0!==c.length&&(a=c.offset().top-b.offset().top-b.height(),a<=this.opts.loadMorePadding&&(c.addClass("select2-active"),this.opts.query({element:this.opts.element,term:f,page:d,context:g,matcher:this.opts.matcher,callback:this.bind(function(a){e.opened()&&(e.opts.populateResults.call(this,b,a.results,{term:f,page:d,context:g}),e.postprocessResults(a,!1,!1),a.more===!0?(c.detach().appendTo(b).text(z(e.opts.formatLoadMore,e.opts.element,d+1)),window.setTimeout(function(){e.loadMoreIfNeeded()},10)):c.remove(),e.positionDropdown(),e.resultsPage=d,e.context=a.context,this.opts.element.trigger({type:"select2-loaded",items:a}))})})))},tokenize:function(){},updateResults:function(c){function d(){j.removeClass("select2-active"),m.positionDropdown(),k.find(".select2-no-results,.select2-selection-limit,.select2-searching").length?m.liveRegion.text(k.text()):m.liveRegion.text(m.opts.formatMatches(k.find(".select2-result-selectable").length))}function e(a){k.html(a),d()}var f,h,i,j=this.search,k=this.results,l=this.opts,m=this,n=j.val(),o=a.data(this.container,"select2-last-term");if((c===!0||!o||!g(n,o))&&(a.data(this.container,"select2-last-term",n),c===!0||this.showSearchInput!==!1&&this.opened())){i=++this.queryCount;var p=this.getMaximumSelectionSize();if(p>=1&&(f=this.data(),a.isArray(f)&&f.length>=p&&y(l.formatSelectionTooBig,"formatSelectionTooBig")))return void e("<li class='select2-selection-limit'>"+z(l.formatSelectionTooBig,l.element,p)+"</li>");if(j.val().length<l.minimumInputLength)return e(y(l.formatInputTooShort,"formatInputTooShort")?"<li class='select2-no-results'>"+z(l.formatInputTooShort,l.element,j.val(),l.minimumInputLength)+"</li>":""),void(c&&this.showSearch&&this.showSearch(!0));if(l.maximumInputLength&&j.val().length>l.maximumInputLength)return void e(y(l.formatInputTooLong,"formatInputTooLong")?"<li class='select2-no-results'>"+z(l.formatInputTooLong,l.element,j.val(),l.maximumInputLength)+"</li>":"");l.formatSearching&&0===this.findHighlightableChoices().length&&e("<li class='select2-searching'>"+z(l.formatSearching,l.element)+"</li>"),j.addClass("select2-active"),this.removeHighlight(),h=this.tokenize(),h!=b&&null!=h&&j.val(h),this.resultsPage=1,l.query({element:l.element,term:j.val(),page:this.resultsPage,context:null,matcher:l.matcher,callback:this.bind(function(f){var h;if(i==this.queryCount){if(!this.opened())return void this.search.removeClass("select2-active");if(this.context=f.context===b?null:f.context,this.opts.createSearchChoice&&""!==j.val()&&(h=this.opts.createSearchChoice.call(m,j.val(),f.results),h!==b&&null!==h&&m.id(h)!==b&&null!==m.id(h)&&0===a(f.results).filter(function(){return g(m.id(this),m.id(h))}).length&&this.opts.createSearchChoicePosition(f.results,h)),0===f.results.length&&y(l.formatNoMatches,"formatNoMatches"))return void e("<li class='select2-no-results'>"+z(l.formatNoMatches,l.element,j.val())+"</li>");k.empty(),m.opts.populateResults.call(this,k,f.results,{term:j.val(),page:this.resultsPage,context:null}),f.more===!0&&y(l.formatLoadMore,"formatLoadMore")&&(k.append("<li class='select2-more-results'>"+l.escapeMarkup(z(l.formatLoadMore,l.element,this.resultsPage))+"</li>"),window.setTimeout(function(){m.loadMoreIfNeeded()},10)),this.postprocessResults(f,c),d(),this.opts.element.trigger({type:"select2-loaded",items:f})}})})}},cancel:function(){this.close()},blur:function(){this.opts.selectOnBlur&&this.selectHighlighted({noFocus:!0}),this.close(),this.container.removeClass("select2-container-active"),this.search[0]===document.activeElement&&this.search.blur(),this.clearSearch(),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},focusSearch:function(){n(this.search)},selectHighlighted:function(a){if(this._touchMoved)return void this.clearTouchMoved();var b=this.highlight(),c=this.results.find(".select2-highlighted"),d=c.closest(".select2-result").data("select2-data");d?(this.highlight(b),this.onSelect(d,a)):a&&a.noFocus&&this.close()},getPlaceholder:function(){var a;return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder||((a=this.getPlaceholderOption())!==b?a.text():b)},getPlaceholderOption:function(){if(this.select){var c=this.select.children("option").first();if(this.opts.placeholderOption!==b)return"first"===this.opts.placeholderOption&&c||"function"==typeof this.opts.placeholderOption&&this.opts.placeholderOption(this.select);if(""===a.trim(c.text())&&""===c.val())return c}},initContainerWidth:function(){function c(){var c,d,e,f,g,h;if("off"===this.opts.width)return null;if("element"===this.opts.width)return 0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px";if("copy"===this.opts.width||"resolve"===this.opts.width){if(c=this.opts.element.attr("style"),c!==b)for(d=c.split(";"),f=0,g=d.length;g>f;f+=1)if(h=d[f].replace(/\s/g,""),e=h.match(/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i),null!==e&&e.length>=1)return e[1];return"resolve"===this.opts.width?(c=this.opts.element.css("width"),c.indexOf("%")>0?c:0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px"):null}return a.isFunction(this.opts.width)?this.opts.width():this.opts.width}var d=c.call(this);null!==d&&this.container.css("width",d)}}),G=D(F,{createContainer:function(){var b=a(document.createElement("div")).attr({"class":"select2-container"}).html(["<a href='javascript:void(0)' class='select2-choice' tabindex='-1'>","   <span class='select2-chosen'>&#160;</span><abbr class='select2-search-choice-close'></abbr>","   <span class='select2-arrow' role='presentation'><b role='presentation'></b></span>","</a>","<label for='' class='select2-offscreen'></label>","<input class='select2-focusser select2-offscreen' type='text' aria-haspopup='true' role='button' />","<div class='select2-drop select2-display-none'>","   <div class='select2-search'>","       <label for='' class='select2-offscreen'></label>","       <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input' role='combobox' aria-expanded='true'","       aria-autocomplete='list' />","   </div>","   <ul class='select2-results' role='listbox'>","   </ul>","</div>"].join(""));return b},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.focusser.prop("disabled",!this.isInterfaceEnabled())},opening:function(){var c,d,e;this.opts.minimumResultsForSearch>=0&&this.showSearch(!0),this.parent.opening.apply(this,arguments),this.showSearchInput!==!1&&this.search.val(this.focusser.val()),this.opts.shouldFocusInput(this)&&(this.search.focus(),c=this.search.get(0),c.createTextRange?(d=c.createTextRange(),d.collapse(!1),d.select()):c.setSelectionRange&&(e=this.search.val().length,c.setSelectionRange(e,e))),""===this.search.val()&&this.nextSearchTerm!=b&&(this.search.val(this.nextSearchTerm),this.search.select()),this.focusser.prop("disabled",!0).val(""),this.updateResults(!0),this.opts.element.trigger(a.Event("select2-open"))},close:function(){this.opened()&&(this.parent.close.apply(this,arguments),this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus())},focus:function(){this.opened()?this.close():(this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus())},isFocused:function(){return this.container.hasClass("select2-container-active")},cancel:function(){this.parent.cancel.apply(this,arguments),this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus()},destroy:function(){a("label[for='"+this.focusser.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments),C.call(this,"selection","focusser")},initContainer:function(){var b,d,e=this.container,f=this.dropdown,g=I();this.opts.minimumResultsForSearch<0?this.showSearch(!1):this.showSearch(!0),this.selection=b=e.find(".select2-choice"),this.focusser=e.find(".select2-focusser"),b.find(".select2-chosen").attr("id","select2-chosen-"+g),this.focusser.attr("aria-labelledby","select2-chosen-"+g),this.results.attr("id","select2-results-"+g),this.search.attr("aria-owns","select2-results-"+g),this.focusser.attr("id","s2id_autogen"+g),d=a("label[for='"+this.opts.element.attr("id")+"']"),this.focusser.prev().text(d.text()).attr("for",this.focusser.attr("id"));var h=this.opts.element.attr("title");this.opts.element.attr("title",h||d.text()),this.focusser.attr("tabindex",this.elementTabIndex),this.search.attr("id",this.focusser.attr("id")+"_search"),this.search.prev().text(a("label[for='"+this.focusser.attr("id")+"']").text()).attr("for",this.search.attr("id")),this.search.on("keydown",this.bind(function(a){if(this.isInterfaceEnabled()){if(a.which===E.PAGE_UP||a.which===E.PAGE_DOWN)return void p(a);switch(a.which){case E.UP:case E.DOWN:return this.moveHighlight(a.which===E.UP?-1:1),void p(a);case E.ENTER:return this.selectHighlighted(),void p(a);case E.TAB:return void this.selectHighlighted({noFocus:!0});case E.ESC:return this.cancel(a),void p(a)}}})),this.search.on("blur",this.bind(function(a){document.activeElement===this.body.get(0)&&window.setTimeout(this.bind(function(){this.opened()&&this.search.focus()}),0)})),this.focusser.on("keydown",this.bind(function(a){if(this.isInterfaceEnabled()&&a.which!==E.TAB&&!E.isControl(a)&&!E.isFunctionKey(a)&&a.which!==E.ESC){if(this.opts.openOnEnter===!1&&a.which===E.ENTER)return void p(a);if(a.which==E.DOWN||a.which==E.UP||a.which==E.ENTER&&this.opts.openOnEnter){if(a.altKey||a.ctrlKey||a.shiftKey||a.metaKey)return;return this.open(),void p(a)}return a.which==E.DELETE||a.which==E.BACKSPACE?(this.opts.allowClear&&this.clear(),void p(a)):void 0}})),j(this.focusser),this.focusser.on("keyup-change input",this.bind(function(a){if(this.opts.minimumResultsForSearch>=0){if(a.stopPropagation(),this.opened())return;this.open()}})),b.on("mousedown touchstart","abbr",this.bind(function(a){this.isInterfaceEnabled()&&(this.clear(),q(a),this.close(),this.selection.focus())})),b.on("mousedown touchstart",this.bind(function(d){c(b),this.container.hasClass("select2-container-active")||this.opts.element.trigger(a.Event("select2-focus")),this.opened()?this.close():this.isInterfaceEnabled()&&this.open(),p(d)})),f.on("mousedown touchstart",this.bind(function(){this.opts.shouldFocusInput(this)&&this.search.focus()})),b.on("focus",this.bind(function(a){p(a)})),this.focusser.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(a.Event("select2-focus")),this.container.addClass("select2-container-active")})).on("blur",this.bind(function(){this.opened()||(this.container.removeClass("select2-container-active"),this.opts.element.trigger(a.Event("select2-blur")))})),this.search.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(a.Event("select2-focus")),this.container.addClass("select2-container-active")})),this.initContainerWidth(),this.opts.element.addClass("select2-offscreen"),this.setPlaceholder()},clear:function(b){var c=this.selection.data("select2-data");if(c){var d=a.Event("select2-clearing");if(this.opts.element.trigger(d),d.isDefaultPrevented())return;var e=this.getPlaceholderOption();this.opts.element.val(e?e.val():""),this.selection.find(".select2-chosen").empty(),this.selection.removeData("select2-data"),this.setPlaceholder(),b!==!1&&(this.opts.element.trigger({type:"select2-removed",val:this.id(c),choice:c}),this.triggerChange({removed:c}))}},initSelection:function(){if(this.isPlaceholderOptionSelected())this.updateSelection(null),this.close(),this.setPlaceholder();else{var a=this;this.opts.initSelection.call(null,this.opts.element,function(c){c!==b&&null!==c&&(a.updateSelection(c),a.close(),a.setPlaceholder(),a.nextSearchTerm=a.opts.nextSearchTerm(c,a.search.val()))})}},isPlaceholderOptionSelected:function(){var a;return this.getPlaceholder()===b?!1:(a=this.getPlaceholderOption())!==b&&a.prop("selected")||""===this.opts.element.val()||this.opts.element.val()===b||null===this.opts.element.val()},prepareOpts:function(){var b=this.parent.prepareOpts.apply(this,arguments),c=this;return"select"===b.element.get(0).tagName.toLowerCase()?b.initSelection=function(a,b){var d=a.find("option").filter(function(){return this.selected&&!this.disabled});b(c.optionToData(d))}:"data"in b&&(b.initSelection=b.initSelection||function(c,d){var e=c.val(),f=null;b.query({matcher:function(a,c,d){var h=g(e,b.id(d));return h&&(f=d),h},callback:a.isFunction(d)?function(){d(f)}:a.noop})}),b},getPlaceholder:function(){return this.select&&this.getPlaceholderOption()===b?b:this.parent.getPlaceholder.apply(this,arguments)},setPlaceholder:function(){var a=this.getPlaceholder();if(this.isPlaceholderOptionSelected()&&a!==b){if(this.select&&this.getPlaceholderOption()===b)return;this.selection.find(".select2-chosen").html(this.opts.escapeMarkup(a)),this.selection.addClass("select2-default"),this.container.removeClass("select2-allowclear")}},postprocessResults:function(a,b,c){var d=0,e=this;if(this.findHighlightableChoices().each2(function(a,b){return g(e.id(b.data("select2-data")),e.opts.element.val())?(d=a,!1):void 0}),c!==!1&&(b===!0&&d>=0?this.highlight(d):this.highlight(0)),b===!0){var f=this.opts.minimumResultsForSearch;f>=0&&this.showSearch(A(a.results)>=f)}},showSearch:function(b){this.showSearchInput!==b&&(this.showSearchInput=b,this.dropdown.find(".select2-search").toggleClass("select2-search-hidden",!b),this.dropdown.find(".select2-search").toggleClass("select2-offscreen",!b),a(this.dropdown,this.container).toggleClass("select2-with-searchbox",b))},onSelect:function(a,b){if(this.triggerSelect(a)){var c=this.opts.element.val(),d=this.data();this.opts.element.val(this.id(a)),this.updateSelection(a),this.opts.element.trigger({type:"select2-selected",val:this.id(a),choice:a}),this.nextSearchTerm=this.opts.nextSearchTerm(a,this.search.val()),this.close(),b&&b.noFocus||!this.opts.shouldFocusInput(this)||this.focusser.focus(),g(c,this.id(a))||this.triggerChange({added:a,removed:d})}},updateSelection:function(a){var c,d,e=this.selection.find(".select2-chosen");this.selection.data("select2-data",a),e.empty(),null!==a&&(c=this.opts.formatSelection(a,e,this.opts.escapeMarkup)),c!==b&&e.append(c),d=this.opts.formatSelectionCssClass(a,e),d!==b&&e.addClass(d),this.selection.removeClass("select2-default"),this.opts.allowClear&&this.getPlaceholder()!==b&&this.container.addClass("select2-allowclear")},val:function(){var a,c=!1,d=null,e=this,f=this.data();if(0===arguments.length)return this.opts.element.val();if(a=arguments[0],arguments.length>1&&(c=arguments[1]),this.select)this.select.val(a).find("option").filter(function(){return this.selected}).each2(function(a,b){return d=e.optionToData(b),!1}),this.updateSelection(d),this.setPlaceholder(),c&&this.triggerChange({added:d,removed:f});else{if(!a&&0!==a)return void this.clear(c);if(this.opts.initSelection===b)throw new Error("cannot call val() if initSelection() is not defined");this.opts.element.val(a),this.opts.initSelection(this.opts.element,function(a){e.opts.element.val(a?e.id(a):""),e.updateSelection(a),e.setPlaceholder(),c&&e.triggerChange({added:a,removed:f})})}},clearSearch:function(){this.search.val(""),this.focusser.val("")},data:function(a){var c,d=!1;return 0===arguments.length?(c=this.selection.data("select2-data"),c==b&&(c=null),c):(arguments.length>1&&(d=arguments[1]),void(a?(c=this.data(),this.opts.element.val(a?this.id(a):""),this.updateSelection(a),d&&this.triggerChange({added:a,removed:c})):this.clear(d)))}}),H=D(F,{createContainer:function(){var b=a(document.createElement("div")).attr({"class":"select2-container select2-container-multi"}).html(["<ul class='select2-choices'>","  <li class='select2-search-field'>","    <label for='' class='select2-offscreen'></label>","    <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'>","  </li>","</ul>","<div class='select2-drop select2-drop-multi select2-display-none'>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return b},prepareOpts:function(){var b=this.parent.prepareOpts.apply(this,arguments),c=this;return"select"===b.element.get(0).tagName.toLowerCase()?b.initSelection=function(a,b){var d=[];a.find("option").filter(function(){return this.selected&&!this.disabled}).each2(function(a,b){d.push(c.optionToData(b))}),b(d)}:"data"in b&&(b.initSelection=b.initSelection||function(c,d){var e=h(c.val(),b.separator),f=[];b.query({matcher:function(c,d,h){var i=a.grep(e,function(a){return g(a,b.id(h))}).length;return i&&f.push(h),i},callback:a.isFunction(d)?function(){for(var a=[],c=0;c<e.length;c++)for(var h=e[c],i=0;i<f.length;i++){var j=f[i];if(g(h,b.id(j))){a.push(j),f.splice(i,1);break}}d(a)}:a.noop})}),b},selectChoice:function(a){var b=this.container.find(".select2-search-choice-focus");b.length&&a&&a[0]==b[0]||(b.length&&this.opts.element.trigger("choice-deselected",b),b.removeClass("select2-search-choice-focus"),a&&a.length&&(this.close(),a.addClass("select2-search-choice-focus"),this.opts.element.trigger("choice-selected",a)))},destroy:function(){a("label[for='"+this.search.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments),C.call(this,"searchContainer","selection")},initContainer:function(){var b,c=".select2-choices";this.searchContainer=this.container.find(".select2-search-field"),
this.selection=b=this.container.find(c);var d=this;this.selection.on("click",".select2-search-choice:not(.select2-locked)",function(b){d.search[0].focus(),d.selectChoice(a(this))}),this.search.attr("id","s2id_autogen"+I()),this.search.prev().text(a("label[for='"+this.opts.element.attr("id")+"']").text()).attr("for",this.search.attr("id")),this.search.on("input paste",this.bind(function(){this.search.attr("placeholder")&&0==this.search.val().length||this.isInterfaceEnabled()&&(this.opened()||this.open())})),this.search.attr("tabindex",this.elementTabIndex),this.keydowns=0,this.search.on("keydown",this.bind(function(a){if(this.isInterfaceEnabled()){++this.keydowns;var c=b.find(".select2-search-choice-focus"),d=c.prev(".select2-search-choice:not(.select2-locked)"),e=c.next(".select2-search-choice:not(.select2-locked)"),f=o(this.search);if(c.length&&(a.which==E.LEFT||a.which==E.RIGHT||a.which==E.BACKSPACE||a.which==E.DELETE||a.which==E.ENTER)){var g=c;return a.which==E.LEFT&&d.length?g=d:a.which==E.RIGHT?g=e.length?e:null:a.which===E.BACKSPACE?this.unselect(c.first())&&(this.search.width(10),g=d.length?d:e):a.which==E.DELETE?this.unselect(c.first())&&(this.search.width(10),g=e.length?e:null):a.which==E.ENTER&&(g=null),this.selectChoice(g),p(a),void(g&&g.length||this.open())}if((a.which===E.BACKSPACE&&1==this.keydowns||a.which==E.LEFT)&&0==f.offset&&!f.length)return this.selectChoice(b.find(".select2-search-choice:not(.select2-locked)").last()),void p(a);if(this.selectChoice(null),this.opened())switch(a.which){case E.UP:case E.DOWN:return this.moveHighlight(a.which===E.UP?-1:1),void p(a);case E.ENTER:return this.selectHighlighted(),void p(a);case E.TAB:return this.selectHighlighted({noFocus:!0}),void this.close();case E.ESC:return this.cancel(a),void p(a)}if(a.which!==E.TAB&&!E.isControl(a)&&!E.isFunctionKey(a)&&a.which!==E.BACKSPACE&&a.which!==E.ESC){if(a.which===E.ENTER){if(this.opts.openOnEnter===!1)return;if(a.altKey||a.ctrlKey||a.shiftKey||a.metaKey)return}this.open(),(a.which===E.PAGE_UP||a.which===E.PAGE_DOWN)&&p(a),a.which===E.ENTER&&p(a)}}})),this.search.on("keyup",this.bind(function(a){this.keydowns=0,this.resizeSearch()})),this.search.on("blur",this.bind(function(b){this.container.removeClass("select2-container-active"),this.search.removeClass("select2-focused"),this.selectChoice(null),this.opened()||this.clearSearch(),b.stopImmediatePropagation(),this.opts.element.trigger(a.Event("select2-blur"))})),this.container.on("click",c,this.bind(function(b){this.isInterfaceEnabled()&&(a(b.target).closest(".select2-search-choice").length>0||(this.selectChoice(null),this.clearPlaceholder(),this.container.hasClass("select2-container-active")||this.opts.element.trigger(a.Event("select2-focus")),this.open(),this.focusSearch(),b.preventDefault()))})),this.container.on("focus",c,this.bind(function(){this.isInterfaceEnabled()&&(this.container.hasClass("select2-container-active")||this.opts.element.trigger(a.Event("select2-focus")),this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"),this.clearPlaceholder())})),this.initContainerWidth(),this.opts.element.addClass("select2-offscreen"),this.clearSearch()},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.search.prop("disabled",!this.isInterfaceEnabled())},initSelection:function(){if(""===this.opts.element.val()&&""===this.opts.element.text()&&(this.updateSelection([]),this.close(),this.clearSearch()),this.select||""!==this.opts.element.val()){var a=this;this.opts.initSelection.call(null,this.opts.element,function(c){c!==b&&null!==c&&(a.updateSelection(c),a.close(),a.clearSearch())})}},clearSearch:function(){var a=this.getPlaceholder(),c=this.getMaxSearchWidth();a!==b&&0===this.getVal().length&&this.search.hasClass("select2-focused")===!1?(this.search.val(a).addClass("select2-default"),this.search.width(c>0?c:this.container.css("width"))):this.search.val("").width(10)},clearPlaceholder:function(){this.search.hasClass("select2-default")&&this.search.val("").removeClass("select2-default")},opening:function(){this.clearPlaceholder(),this.resizeSearch(),this.parent.opening.apply(this,arguments),this.focusSearch(),""===this.search.val()&&this.nextSearchTerm!=b&&(this.search.val(this.nextSearchTerm),this.search.select()),this.updateResults(!0),this.opts.shouldFocusInput(this)&&this.search.focus(),this.opts.element.trigger(a.Event("select2-open"))},close:function(){this.opened()&&this.parent.close.apply(this,arguments)},focus:function(){this.close(),this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(b){var c=[],d=[],f=this;a(b).each(function(){e(f.id(this),c)<0&&(c.push(f.id(this)),d.push(this))}),b=d,this.selection.find(".select2-search-choice").remove(),a(b).each(function(){f.addSelectedChoice(this)}),f.postprocessResults()},tokenize:function(){var a=this.search.val();a=this.opts.tokenizer.call(this,a,this.data(),this.bind(this.onSelect),this.opts),null!=a&&a!=b&&(this.search.val(a),a.length>0&&this.open())},onSelect:function(a,c){this.triggerSelect(a)&&(this.addSelectedChoice(a),this.opts.element.trigger({type:"selected",val:this.id(a),choice:a}),this.nextSearchTerm=this.opts.nextSearchTerm(a,this.search.val()),this.clearSearch(),this.updateResults(),(this.select||!this.opts.closeOnSelect)&&this.postprocessResults(a,!1,this.opts.closeOnSelect===!0),this.opts.closeOnSelect?(this.close(),this.search.width(10)):this.countSelectableResults()>0?(this.search.width(10),this.resizeSearch(),this.getMaximumSelectionSize()>0&&this.val().length>=this.getMaximumSelectionSize()?this.updateResults(!0):this.nextSearchTerm!=b&&(this.search.val(this.nextSearchTerm),this.updateResults(),this.search.select()),this.positionDropdown()):(this.close(),this.search.width(10)),this.triggerChange({added:a}),c&&c.noFocus||this.focusSearch())},cancel:function(){this.close(),this.focusSearch()},getLabelcolor:function(a){return calcMD5(a).slice(0,6)},addSelectedChoice:function(c){var d,e,f=!c.locked,g=a("<li class='select2-search-choice'>    <div></div>    <a href='#' class='select2-search-choice-close' tabindex='-1'></a></li>"),h=a("<li class='select2-search-choice select2-locked'><div></div></li>"),i=f?g:h,j=this.id(c),k=this.getVal();d=this.opts.formatSelection(c,i.find("div"),this.opts.escapeMarkup),d!=b&&(i.find("div").replaceWith("<div>"+d+"</div>"),i.attr("style","background:#"+this.getLabelcolor(d).substring(0,6)+";color:#fff;")),e=this.opts.formatSelectionCssClass(c,i.find("div")),e!=b&&i.addClass(e),f&&i.find(".select2-search-choice-close").on("mousedown",p).on("click dblclick",this.bind(function(b){this.isInterfaceEnabled()&&(this.unselect(a(b.target)),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus"),p(b),this.close(),this.focusSearch())})).on("focus",this.bind(function(){this.isInterfaceEnabled()&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"))})),i.data("select2-data",c),i.insertBefore(this.searchContainer),k.push(j),this.setVal(k)},unselect:function(b){var c,d,f=this.getVal();if(b=b.closest(".select2-search-choice"),0===b.length)throw"Invalid argument: "+b+". Must be .select2-search-choice";if(c=b.data("select2-data")){var g=a.Event("select2-removing");if(g.val=this.id(c),g.choice=c,this.opts.element.trigger(g),g.isDefaultPrevented())return!1;for(;(d=e(this.id(c),f))>=0;)f.splice(d,1),this.setVal(f),this.select&&this.postprocessResults();return b.remove(),this.opts.element.trigger({type:"select2-removed",val:this.id(c),choice:c}),this.triggerChange({removed:c}),!0}},postprocessResults:function(a,b,c){var d=this.getVal(),f=this.results.find(".select2-result"),g=this.results.find(".select2-result-with-children"),h=this;f.each2(function(a,b){var c=h.id(b.data("select2-data"));e(c,d)>=0&&(b.addClass("select2-selected"),b.find(".select2-result-selectable").addClass("select2-selected"))}),g.each2(function(a,b){b.is(".select2-result-selectable")||0!==b.find(".select2-result-selectable:not(.select2-selected)").length||b.addClass("select2-selected")}),-1==this.highlight()&&c!==!1&&h.highlight(0),!this.opts.createSearchChoice&&!f.filter(".select2-result:not(.select2-selected)").length>0&&(!a||a&&!a.more&&0===this.results.find(".select2-no-results").length)&&y(h.opts.formatNoMatches,"formatNoMatches")&&this.results.append("<li class='select2-no-results'>"+z(h.opts.formatNoMatches,h.opts.element,h.search.val())+"</li>")},getMaxSearchWidth:function(){return this.selection.width()-i(this.search)},resizeSearch:function(){var a,b,c,d,e,f=i(this.search);a=r(this.search)+10,b=this.search.offset().left,c=this.selection.width(),d=this.selection.offset().left,e=c-(b-d)-f,a>e&&(e=c-f),40>e&&(e=c-f),0>=e&&(e=a),this.search.width(Math.floor(e))},getVal:function(){var a;return this.select?(a=this.select.val(),null===a?[]:a):(a=this.opts.element.val(),h(a,this.opts.separator))},setVal:function(b){var c;this.select?this.select.val(b):(c=[],a(b).each(function(){e(this,c)<0&&c.push(this)}),this.opts.element.val(0===c.length?"":c.join(this.opts.separator)))},buildChangeDetails:function(a,b){for(var b=b.slice(0),a=a.slice(0),c=0;c<b.length;c++)for(var d=0;d<a.length;d++)g(this.opts.id(b[c]),this.opts.id(a[d]))&&(b.splice(c,1),c>0&&c--,a.splice(d,1),d--);return{added:b,removed:a}},val:function(c,d){var e,f=this;if(0===arguments.length)return this.getVal();if(e=this.data(),e.length||(e=[]),!c&&0!==c)return this.opts.element.val(""),this.updateSelection([]),this.clearSearch(),void(d&&this.triggerChange({added:this.data(),removed:e}));if(this.setVal(c),this.select)this.opts.initSelection(this.select,this.bind(this.updateSelection)),d&&this.triggerChange(this.buildChangeDetails(e,this.data()));else{if(this.opts.initSelection===b)throw new Error("val() cannot be called if initSelection() is not defined");this.opts.initSelection(this.opts.element,function(b){var c=a.map(b,f.id);f.setVal(c),f.updateSelection(b),f.clearSearch(),d&&f.triggerChange(f.buildChangeDetails(e,f.data()))})}this.clearSearch()},onSortStart:function(){if(this.select)throw new Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");this.search.width(0),this.searchContainer.hide()},onSortEnd:function(){var b=[],c=this;this.searchContainer.show(),this.searchContainer.appendTo(this.searchContainer.parent()),this.resizeSearch(),this.selection.find(".select2-search-choice").each(function(){b.push(c.opts.id(a(this).data("select2-data")))}),this.setVal(b),this.triggerChange()},data:function(b,c){var d,e,f=this;return 0===arguments.length?this.selection.children(".select2-search-choice").map(function(){return a(this).data("select2-data")}).get():(e=this.data(),b||(b=[]),d=a.map(b,function(a){return f.opts.id(a)}),this.setVal(d),this.updateSelection(b),this.clearSearch(),c&&this.triggerChange(this.buildChangeDetails(e,this.data())),void 0)}}),a.fn.select2=function(){var c,d,f,g,h,i=Array.prototype.slice.call(arguments,0),j=["val","destroy","opened","open","close","focus","isFocused","container","dropdown","onSortStart","onSortEnd","enable","disable","readonly","positionDropdown","data","search"],k=["opened","isFocused","container","dropdown"],l=["val","data"],m={search:"externalSearch"};return this.each(function(){if(0===i.length||"object"==typeof i[0])c=0===i.length?{}:a.extend({},i[0]),c.element=a(this),"select"===c.element.get(0).tagName.toLowerCase()?h=c.element.prop("multiple"):(h=c.multiple||!1,"tags"in c&&(c.multiple=h=!0)),d=h?new window.Select2["class"].multi:new window.Select2["class"].single,d.init(c);else{if("string"!=typeof i[0])throw"Invalid arguments to select2 plugin: "+i;if(e(i[0],j)<0)throw"Unknown method: "+i[0];if(g=b,d=a(this).data("select2"),d===b)return;if(f=i[0],"container"===f?g=d.container:"dropdown"===f?g=d.dropdown:(m[f]&&(f=m[f]),g=d[f].apply(d,i.slice(1))),e(i[0],k)>=0||e(i[0],l)>=0&&1==i.length)return!1}}),g===b?this:g},a.fn.select2.defaults={width:"copy",loadMorePadding:0,closeOnSelect:!0,openOnEnter:!0,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(a,b,c,d){var e=[];return t(a.text,c.term,e,d),e.join("")},formatSelection:function(a,c,d){return a?a.text:b},sortResults:function(a,b,c){return a},formatResultCssClass:function(a){return a.css},formatSelectionCssClass:function(a,c){return b},formatMatches:function(a){return 1===a?"One result is available, press enter to select it.":a+" results are available, use up and down arrow keys to navigate."},formatNoMatches:function(){return"No matches found"},formatInputTooShort:function(a,b){var c=b-a.length;return"Please enter "+c+" or more character"+(1==c?"":"s")},formatInputTooLong:function(a,b){var c=a.length-b;return"Please delete "+c+" character"+(1==c?"":"s")},formatSelectionTooBig:function(a){return"You can only select "+a+" item"+(1==a?"":"s")},formatLoadMore:function(a){return"Loading more resultsâ¦"},formatSearching:function(){return"Searchingâ¦"},minimumResultsForSearch:0,minimumInputLength:0,maximumInputLength:null,maximumSelectionSize:0,id:function(a){return a==b?null:a.id},matcher:function(a,b){return d(""+b).toUpperCase().indexOf(d(""+a).toUpperCase())>=0},separator:",",tokenSeparators:[],tokenizer:B,escapeMarkup:u,blurOnChange:!1,selectOnBlur:!1,adaptContainerCssClass:function(a){return a},adaptDropdownCssClass:function(a){return null},nextSearchTerm:function(a,c){return b},searchInputPlaceholder:"",createSearchChoicePosition:"top",shouldFocusInput:function(a){var b="ontouchstart"in window||navigator.msMaxTouchPoints>0;return b&&a.opts.minimumResultsForSearch<0?!1:!0}},a.fn.select2.ajaxDefaults={transport:a.ajax,params:{type:"GET",cache:!1,dataType:"json"}},window.Select2={query:{ajax:v,local:w,tags:x},util:{debounce:l,markMatch:t,escapeMarkup:u,stripDiacritics:d},"class":{"abstract":F,single:G,multi:H}}}}(jQuery),function(a){var b='<img class="{class_name}" src="{url}" />',c='<i class="{class_name}"> </i>',d=a.fn.chosen;a.fn.extend({chosen:function(e){e=e||{};var f=e.html_template||b;this.each(function(b){$this=a(this),$this.on("chosen:ready",function(b,d){d=d.chosen;var e=d.form_field,g=e.options,h=a(d.container).find(".chosen-choices span");if(g&&g.length)for(var i=0;i<g.length;i++){var j=g[i],k=a(j).attr("selected"),l=a(j).attr("data-img-src"),m=a(j).attr("data-icon-class"),n=a(j).text();if(k&&l){var o=f.replace("{url}",l);if(h.length)for(var p=0;p<h.length;p++)n==a(h[p]).text()&&a(h[p]).prepend(o.replace("{class_name}","chose-image"));else a(d.container).find(".chosen-single span").prepend(o.replace("{class_name}","chose-image-small"))}else if(k&&m){var o=c.replace("{class_name}",m);if(h.length)for(var p=0;p<h.length;p++)n==a(h[p]).text()&&a(h[p]).prepend(o);else a(d.container).find(".chosen-single span").prepend(o)}}})});var g=d.apply(this,arguments);return this.each(function(b){var d,e;d=a(this),e=d.data("chosen"),d.on("change",function(b,d){var g=e.form_field.options;if(void 0!=d&&void 0!=d.selected&&g&&g.length)for(var h=0;h<g.length;h++){var i=g[h],j=a(i).attr("value")?a(i).attr("value"):a(i).text(),k=a(i).attr("data-img-src"),l=a(i).attr("data-icon-class");if(void 0!=k&&d.selected==j){var m=f.replace("{url}",k);a(e.container).find(".chosen-choices span").last().prepend(m.replace("{class_name}","chose-image")),a(e.container).find(".chosen-single span").prepend(m.replace("{class_name}","chose-image-small"))}else if(void 0!=l&&d.selected==j){var m=c.replace("{class_name}",l);a(e.container).find(".chosen-choices span").last().prepend(m),a(e.container).find(".chosen-single span").prepend(m)}}}),d.on("chosen:showing_dropdown",function(b,d){for(var g=a(e.container).find(".chosen-drop ul li"),h=e.form_field.options,i=0;i<g.length;i++){var j=g[i],k=h[i],l=a(k).attr("data-img-src"),m=a(k).attr("data-icon-class");if(void 0!=l){var n=f.replace("{url}",l);a(j).prepend(n.replace("{class_name}","chose-image-list"))}else if(void 0!=m){var n=c.replace("{class_name}",m);a(j).prepend(n)}}})}),g}})}(jQuery);var dateFormat=function(){var a=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g,b=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,c=/[^-+\dA-Z]/g,d=function(a,b){for(a=String(a),b=b||2;a.length<b;)a="0"+a;return a};return function(e,f,g){var h=dateFormat;if(1!=arguments.length||"[object String]"!=Object.prototype.toString.call(e)||/\d/.test(e)||(f=e,e=void 0),new_date=e.replace(/-/g,"/"),e=e?new Date(new_date):new Date,isNaN(e))throw SyntaxError("invalid date");f=String(h.masks[f]||f||h.masks["default"]),"UTC:"==f.slice(0,4)&&(f=f.slice(4),g=!0);var i=g?"getUTC":"get",j=e[i+"Date"](),k=e[i+"Day"](),l=e[i+"Month"](),m=e[i+"FullYear"](),n=e[i+"Hours"](),o=e[i+"Minutes"](),p=e[i+"Seconds"](),q=e[i+"Milliseconds"](),r=g?0:e.getTimezoneOffset(),s={d:j,dd:d(j),ddd:h.i18n.dayNames[k],dddd:h.i18n.dayNames[k+7],m:l+1,mm:d(l+1),mmm:h.i18n.monthNames[l],mmmm:h.i18n.monthNames[l+12],yy:String(m).slice(2),yyyy:m,h:n%12||12,hh:d(n%12||12),H:n,HH:d(n),M:o,MM:d(o),s:p,ss:d(p),l:d(q,3),L:d(q>99?Math.round(q/10):q),t:12>n?"a":"p",tt:12>n?"am":"pm",T:12>n?"A":"P",TT:12>n?"AM":"PM",Z:g?"UTC":(String(e).match(b)||[""]).pop().replace(c,""),o:(r>0?"-":"+")+d(100*Math.floor(Math.abs(r)/60)+Math.abs(r)%60,4),S:["th","st","nd","rd"][j%10>3?0:(j%100-j%10!=10)*j%10]};return f.replace(a,function(a){return a in s?s[a]:a.slice(1,a.length-1)})}}();dateFormat.masks={"default":"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"},dateFormat.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"]},Date.prototype.format=function(a,b,c){return dateFormat(a,b,c)},function(a){a.gritter={},a.gritter.options={position:"",fade_in_speed:"medium",fade_out_speed:1e3,time:6e3},a.gritter.add=function(a){try{return b.add(a||{})}catch(c){var d="Gritter Error: "+c;"undefined"!=typeof console&&console.error?console.error(d,a):alert(d)}},a.gritter.remove=function(a,c){b.removeSpecific(a,c||{})},a.gritter.removeAll=function(a){b.stop(a||{})};var b={position:"",fade_in_speed:"",fade_out_speed:"",time:"",_custom_timer:0,_item_count:0,_is_setup:0,_tpl_close:'<div class="gritter-close"></div>',_tpl_item:'<div id="gritter-item-[[number]]" class="gritter-item-wrapper [[item_class]]" style="display:none"><div class="gritter-top"></div><div class="gritter-item">[[image]]<div class="[[class_name]]"><span class="gritter-title">[[username]]</span><p>[[text]]</p></div><div style="clear:both"></div></div><div class="gritter-bottom"></div></div>',_tpl_wrap:'<div id="gritter-notice-wrapper"></div>',add:function(c){if(!c.title||!c.text)throw'You need to fill out the first 2 params: "title" and "text"';this._is_setup||this._runSetup();var d=c.title,e=c.text,f=c.image||"",g=c.sticky||!1,h=c.class_name||"",i=a.gritter.options.position,j=c.time||"";this._verifyWrapper(),this._item_count++;var k=this._item_count,l=this._tpl_item;a(["before_open","after_open","before_close","after_close"]).each(function(d,e){b["_"+e+"_"+k]=a.isFunction(c[e])?c[e]:function(){}}),this._custom_timer=0,j&&(this._custom_timer=j);var m=""!=f?'<img src="'+f+'" class="gritter-image" />':"",n=""!=f?"gritter-with-image":"gritter-without-image";l=this._str_replace(["[[username]]","[[text]]","[[image]]","[[number]]","[[class_name]]","[[item_class]]"],[d,e,m,this._item_count,n,h],l),this["_before_open_"+k](),a("#gritter-notice-wrapper").addClass(i).append(l);var o=a("#gritter-item-"+this._item_count);return o.fadeIn(this.fade_in_speed,function(){b["_after_open_"+k](a(this))}),g||this._setFadeTimer(o,k),a(o).bind("mouseenter mouseleave",function(c){"mouseenter"==c.type?g||b._restoreItemIfFading(a(this),k):g||b._setFadeTimer(a(this),k),b._hoverState(a(this),c.type)}),k},_countRemoveWrapper:function(b,c,d){c.remove(),this["_after_close_"+b](c,d),0==a(".gritter-item-wrapper").length&&a("#gritter-notice-wrapper").remove()},_fade:function(a,c,d,e){var d=d||{},f="undefined"!=typeof d.fade?d.fade:!0;fade_out_speed=d.speed||this.fade_out_speed,manual_close=e,this["_before_close_"+c](a,manual_close),e&&a.unbind("mouseenter mouseleave"),f?a.animate({opacity:0},fade_out_speed,function(){a.animate({height:0},300,function(){b._countRemoveWrapper(c,a,manual_close)})}):this._countRemoveWrapper(c,a)},_hoverState:function(a,c){if("mouseenter"==c){a.addClass("hover");var d=a.find("img");d.length?d.before(this._tpl_close):a.find("span").before(this._tpl_close),a.find(".gritter-close").click(function(){var c=a.attr("id").split("-")[2];b.removeSpecific(c,{},a,!0)})}else a.removeClass("hover"),a.find(".gritter-close").remove()},removeSpecific:function(b,c,d,e){if(!d)var d=a("#gritter-item-"+b);this._fade(d,b,c||{},e)},_restoreItemIfFading:function(a,b){clearTimeout(this["_int_id_"+b]),a.stop().css({opacity:""})},_runSetup:function(){for(opt in a.gritter.options)this[opt]=a.gritter.options[opt];this._is_setup=1},_setFadeTimer:function(a,c){var d=this._custom_timer?this._custom_timer:this.time;this["_int_id_"+c]=setTimeout(function(){b._fade(a,c)},d)},stop:function(b){var c=a.isFunction(b.before_close)?b.before_close:function(){},d=a.isFunction(b.after_close)?b.after_close:function(){},e=a("#gritter-notice-wrapper");c(e),e.fadeOut(function(){a(this).remove(),d()})},_str_replace:function(a,b,c,d){var e=0,f=0,g="",h="",i=0,j=0,k=[].concat(a),l=[].concat(b),m=c,n=l instanceof Array,o=m instanceof Array;for(m=[].concat(m),d&&(this.window[d]=0),e=0,i=m.length;i>e;e++)if(""!==m[e])for(f=0,j=k.length;j>f;f++)g=m[e]+"",h=n?void 0!==l[f]?l[f]:"":l[0],m[e]=g.split(k[f]).join(h),d&&m[e]!==g&&(this.window[d]+=(g.length-m[e].length)/k[f].length);return o?m:m[0]},_verifyWrapper:function(){0==a("#gritter-notice-wrapper").length&&a("body").append(this._tpl_wrap)}}}(jQuery),function(a){function b(a){return"object"==typeof a?a:{top:a,left:a}}var c=a.scrollTo=function(b,c,d){a(window).scrollTo(b,c,d)};c.defaults={axis:"xy",duration:parseFloat(a.fn.jquery)>=1.3?0:1},c.window=function(b){return a(window)._scrollable()},a.fn._scrollable=function(){return this.map(function(){var b=this,c=!b.nodeName||-1!=a.inArray(b.nodeName.toLowerCase(),["iframe","#document","html","body"]);if(!c)return b;var d=(b.contentWindow||b).document||b.ownerDocument||b;return a.browser.safari||"BackCompat"==d.compatMode?d.body:d.documentElement})},a.fn.scrollTo=function(d,e,f){return"object"==typeof e&&(f=e,e=0),"function"==typeof f&&(f={onAfter:f}),"max"==d&&(d=9e9),f=a.extend({},c.defaults,f),e=e||f.speed||f.duration,f.queue=f.queue&&f.axis.length>1,f.queue&&(e/=2),f.offset=b(f.offset),f.over=b(f.over),this._scrollable().each(function(){function g(a){j.animate(l,e,f.easing,a&&function(){a.call(this,d,f)})}var h,i=this,j=a(i),k=d,l={},m=j.is("html,body");switch(typeof k){case"number":case"string":if(/^([+-]=)?\d+(\.\d+)?(px|%)?$/.test(k)){k=b(k);break}k=a(k,this);case"object":(k.is||k.style)&&(h=(k=a(k)).offset())}a.each(f.axis.split(""),function(a,b){var d="x"==b?"Left":"Top",e=d.toLowerCase(),n="scroll"+d,o=i[n],p=c.max(i,b);if(h)l[n]=h[e]+(m?0:o-j.offset()[e]),f.margin&&(l[n]-=parseInt(k.css("margin"+d))||0,l[n]-=parseInt(k.css("border"+d+"Width"))||0),l[n]+=f.offset[e]||0,f.over[e]&&(l[n]+=k["x"==b?"width":"height"]()*f.over[e]);else{var q=k[e];l[n]=q.slice&&"%"==q.slice(-1)?parseFloat(q)/100*p:q}/^\d+$/.test(l[n])&&(l[n]=l[n]<=0?0:Math.min(l[n],p)),!a&&f.queue&&(o!=l[n]&&g(f.onAfterFirst),delete l[n])}),g(f.onAfter)}).end()},c.max=function(b,c){var d="x"==c?"Width":"Height",e="scroll"+d;if(!a(b).is("html,body"))return b[e]-a(b)[d.toLowerCase()]();var f="client"+d,g=b.ownerDocument.documentElement,h=b.ownerDocument.body;return Math.max(g[e],h[e])-Math.min(g[f],h[f])}}(jQuery),function(a){function b(a,b){var c=a.options.animationSpeed/1e3;return b.css({transition:c+"s right, "+c+"s left, "+c+"s top, "+c+"s height, "+c+"s width"}),!0}function c(a){return a.css({transition:"none"}),!0}var d={width:750,height:"65%",minimizedWidth:200,gutter:10,poppedOutDistance:"6%",title:"",dialogClass:"",buttons:[],animationSpeed:1e3,opacity:1,initialState:"modal",showClose:!0,showPopout:!0,showMinimize:!0,create:void 0,open:void 0,beforeClose:void 0,close:void 0,beforeMinimize:void 0,minimize:void 0,beforeRestore:void 0,restore:void 0,beforePopout:void 0,popout:void 0},e="dockmodal",f=(a(window).width(),{init:function(c){return this.each(function(){var g=a(this),h=g.data("dockmodal");if(g.options=a.extend({},d,c),h)return a("body").append(g.closest("."+e).show()),f.refreshLayout(),void setTimeout(function(){f.restore.apply(g)},g.options.animationSpeed);g.data("dockmodal",g);var i=a("body"),j=a(window),k=a("<div/>").addClass(e).addClass(g.options.dialogClass);"modal"==g.options.initialState?k.addClass("popped-out"):"minimized"==g.options.initialState&&k.addClass("minimized"),k.height(0),b(g,k);var l=a("<div></div>").addClass(e+"-header");g.options.showClose&&a('<a href="#" class="header-action action-close" title="Close"><i class="icon-remove icon-light"></i></a>').appendTo(l).click(function(a){return f.destroy.apply(g),!1}),g.options.showPopout&&a('<a href="#" class="header-action action-popout" title="Pop out"><i class="icon-resize-full icon-light"></i></a>').appendTo(l).click(function(a){return k.hasClass("popped-out")?f.restore.apply(g):f.popout.apply(g),!1}),g.options.showMinimize&&a('<a href="#" class="header-action action-minimize" title="Minimize"><i class="icon-minus icon-light"></i></a>').appendTo(l).click(function(a){return k.hasClass("minimized")?k.hasClass("popped-out")?f.popout.apply(g):f.restore.apply(g):f.minimize.apply(g),!1}),g.options.showMinimize&&g.options.showPopout&&l.click(function(){return k.hasClass("minimized")?k.hasClass("popped-out")?f.popout.apply(g):f.restore.apply(g):f.minimize.apply(g),!1}),l.append('<div class="title-text">'+(g.options.title||g.attr("title"))+"</div>"),k.append(l);var m=a('<div class="modal-placeholder"></div>').insertAfter(g);g.placeholder=m;var n=a("<div></div>").addClass(e+"-body").append(g);if(k.append(n),g.options.buttons.length){var o=a("<div></div>").addClass(e+"-footer"),p=a("<div></div>").addClass(e+"-footer-buttonset");o.append(p),a.each(g.options.buttons,function(b,c){var d=a('<a href="#" class="btn"></a>');d.attr({id:c.id,"class":c.buttonClass}),d.html(c.html),d.click(function(a){return c.click(a,g),!1}),p.append(d)}),k.append(o)}else k.addClass("no-footer");var q=a("."+e+"-overlay");q.length||(q=a("<div/>").addClass(e+"-overlay")),a.isFunction(g.options.create)&&g.options.create(g),i.append(k),k.after(q),n.focus(),a.isFunction(g.options.open)&&setTimeout(function(){g.options.open(g)},g.options.animationSpeed),k.hasClass("minimized")?(k.find(".dockmodal-body, .dockmodal-footer").hide(),f.minimize.apply(g)):k.hasClass("popped-out")?f.popout.apply(g):f.restore.apply(g),i.data("windowWidth",j.width()),j.unbind("resize.dockmodal").bind("resize.dockmodal",function(){j.width()!=i.data("windowWidth")&&(i.data("windowWidth",j.width()),f.refreshLayout())})})},destroy:function(){return this.each(function(){var b=a(this).data("dockmodal");if(b&&(!a.isFunction(b.options.beforeClose)||b.options.beforeClose(b)!==!1))try{var c=b.closest("."+e);c.hasClass("popped-out")&&!c.hasClass("minimized")?c.css({left:"50%",right:"50%",top:"50%",bottom:"50%"}):c.css({width:"0",height:"0"}),setTimeout(function(){b.removeData("dockmodal"),b.placeholder.replaceWith(b),c.remove(),a("."+e+"-overlay").hide(),f.refreshLayout(),a.isFunction(b.options.close)&&b.options.close(b)},b.options.animationSpeed)}catch(d){alert(d.message)}})},close:function(){f.destroy.apply(this)},minimize:function(){return this.each(function(){var b=a(this).data("dockmodal");if(b&&(!a.isFunction(b.options.beforeMinimize)||b.options.beforeMinimize(b)!==!1)){var c=b.closest("."+e),d=c.find(".dockmodal-header").outerHeight();c.addClass("minimized").css({width:b.options.minimizedWidth+"px",height:d+"px",left:"auto",right:"auto",top:"auto",bottom:"42px"}),setTimeout(function(){c.find(".dockmodal-body, .dockmodal-footer").hide(),a.isFunction(b.options.minimize)&&b.options.minimize(b)},b.options.animationSpeed),a("."+e+"-overlay").hide(),c.find(".action-minimize").attr("title","Restore"),f.refreshLayout()}})},restore:function(){return a("ul.dropdown-menu").parent().removeClass("open"),this.each(function(){var b=a(this).data("dockmodal");if(b&&(!a.isFunction(b.options.beforeRestore)||b.options.beforeRestore(b)!==!1)){var c=b.closest("."+e);c.removeClass("minimized popped-out"),c.find(".dockmodal-body, .dockmodal-footer").show(),c.css({width:b.options.width+"px",height:b.options.height,left:"auto",right:"auto",top:"auto",bottom:"42px"}),a("."+e+"-overlay").hide(),c.find(".action-minimize").attr("title","Minimize"),c.find(".action-popout").attr("title","Pop-out (ctrl+click)"),setTimeout(function(){a.isFunction(b.options.restore)&&b.options.restore(b)},b.options.animationSpeed),f.refreshLayout()}})},popout:function(){return a("ul.dropdown-menu").parent().removeClass("open"),this.each(function(){var d=a(this).data("dockmodal");if(d&&(!a.isFunction(d.options.beforePopout)||d.options.beforePopout(d)!==!1)){var g=d.closest("."+e);g.find(".dockmodal-body, .dockmodal-footer").show(),c(g);var h=g.position(),i=a(window).width();g.css({width:"auto",height:"auto",left:h.left+"px",right:i-h.left-g.outerWidth(!0)+"px",top:h.top+"px",bottom:"42px"}),b(d,g),setTimeout(function(){g.removeClass("minimized").addClass("popped-out").css({width:"auto",height:"auto",left:d.options.poppedOutDistance,right:d.options.poppedOutDistance,top:d.options.poppedOutDistance,bottom:"42px"}),a("."+e+"-overlay").show(),g.find(".action-popout").attr("title","Pop-in"),f.refreshLayout()},10),setTimeout(function(){a.isFunction(d.options.popout)&&d.options.popout(d)},d.options.animationSpeed)}})},refreshLayout:function(){var b=0,c=a(window).width();a.each(a("."+e).toArray().reverse(),function(d,f){var g=a(this),h=g.find("."+e+"-body > div").data("dockmodal");(!g.hasClass("popped-out")||g.hasClass("minimized"))&&(b+=h.options.gutter,g.css({right:b+"px"}),b+=g.hasClass("minimized")?h.options.minimizedWidth:h.options.width,b>c?g.hide():setTimeout(function(){g.show()},h.options.animationSpeed))})}});a.fn.dockmodal=function(b){return f[b]?f[b].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof b&&b?void a.error("Method "+b+" does not exist on jQuery.dockmodal"):f.init.apply(this,arguments)}}(jQuery);var Markdown;Markdown="object"==typeof exports&&"function"==typeof require?exports:{},function(){function a(a){return a}function b(a){return!1}function c(){}function d(){}c.prototype={chain:function(b,c){var d=this[b];if(!d)throw new Error("unknown hook "+b);d===a?this[b]=c:this[b]=function(a){return c(d(a))}},set:function(a,b){if(!this[a])throw new Error("unknown hook "+a);this[a]=b},addNoop:function(b){this[b]=a},addFalse:function(a){this[a]=b}},Markdown.HookCollection=c,d.prototype={set:function(a,b){this["s_"+a]=b},get:function(a){return this["s_"+a]}},Markdown.Converter=function(){function a(a){return a=a.replace(/^[ ]{0,3}\[(.+)\]:[ \t]*\n?[ \t]*<?(\S+?)>?(?=\s|$)[ \t]*\n?[ \t]*((\n*)["(](.+?)[")][ \t]*)?(?:\n+)/gm,function(a,b,c,d,e,f){return b=b.toLowerCase(),H.set(b,x(c)),e?d:(f&&I.set(b,f.replace(/"/g,"&quot;")),"")})}function b(a){return a=a.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|ins|del)\b[^\r]*?\n<\/\2>[ \t]*(?=\n+))/gm,e),a=a.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math)\b[^\r]*?.*<\/\2>[ \t]*(?=\n+)\n)/gm,e),
a=a.replace(/\n[ ]{0,3}((<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,e),a=a.replace(/\n\n[ ]{0,3}(<!(--(?:|(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>[ \t]*(?=\n{2,}))/g,e),a=a.replace(/(?:\n\n)([ ]{0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,e)}function e(a,b){var c=b;return c=c.replace(/^\n+/,""),c=c.replace(/\n+$/g,""),c="\n\n~K"+(J.push(c)-1)+"K\n\n"}function f(a,c){a=n(a);var d="<hr />\n";return a=a.replace(/^[ ]{0,2}([ ]?\*[ ]?){3,}[ \t]*$/gm,d),a=a.replace(/^[ ]{0,2}([ ]?-[ ]?){3,}[ \t]*$/gm,d),a=a.replace(/^[ ]{0,2}([ ]?_[ ]?){3,}[ \t]*$/gm,d),a=o(a),a=q(a),a=v(a),a=b(a),a=w(a,c)}function g(a){return a=s(a),a=h(a),a=y(a),a=k(a),a=i(a),a=z(a),a=a.replace(/~P/g,"://"),a=x(a),a=u(a),a=a.replace(/  +\n/g," <br>\n")}function h(a){var b=/(<[a-z\/!$]("[^"]*"|'[^']*'|[^'">])*>|<!(--(?:|(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>)/gi;return a=a.replace(b,function(a){var b=a.replace(/(.)<\/?code>(?=.)/g,"$1`");return b=E(b,"!"==a.charAt(1)?"\\`*_/":"\\`*_")})}function i(a){return a=a.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,j),a=a.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\]\([ \t]*()<?((?:\([^)]*\)|[^()])*?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,j),a=a.replace(/(\[([^\[\]]+)\])()()()()()/g,j)}function j(a,b,c,d,e,f,g,h){void 0==h&&(h="");var i=b,j=c.replace(/:\/\//g,"~P"),k=d.toLowerCase(),m=e,n=h;if(""==m)if(""==k&&(k=j.toLowerCase().replace(/ ?\n/g," ")),m="#"+k,void 0!=H.get(k))m=H.get(k),void 0!=I.get(k)&&(n=I.get(k));else{if(!(i.search(/\(\s*\)$/m)>-1))return i;m=""}m=D(m),m=E(m,"*_");var o='<a href="'+m+'"';return""!=n&&(n=l(n),n=E(n,"*_"),o+=' title="'+n+'"'),o+=">"+j+"</a>"}function k(a){return a=a.replace(/(!\[(.*?)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,m),a=a.replace(/(!\[(.*?)\]\s?\([ \t]*()<?(\S+?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,m)}function l(a){return a.replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;")}function m(a,b,c,d,e,f,g,h){var i=b,j=c,k=d.toLowerCase(),m=e,n=h;if(n||(n=""),""==m){if(""==k&&(k=j.toLowerCase().replace(/ ?\n/g," ")),m="#"+k,void 0==H.get(k))return i;m=H.get(k),void 0!=I.get(k)&&(n=I.get(k))}j=E(l(j),"*_[]()"),m=E(m,"*_");var o='<img src="'+m+'" alt="'+j+'"';return n=l(n),n=E(n,"*_"),o+=' title="'+n+'"',o+=" />"}function n(a){return a=a.replace(/^(.+)[ \t]*\n=+[ \t]*\n+/gm,function(a,b){return"<h1>"+g(b)+"</h1>\n\n"}),a=a.replace(/^(.+)[ \t]*\n-+[ \t]*\n+/gm,function(a,b){return"<h2>"+g(b)+"</h2>\n\n"}),a=a.replace(/^(\#{1,6})[ \t]*(.+?)[ \t]*\#*\n+/gm,function(a,b,c){var d=b.length;return"<h"+d+">"+g(c)+"</h"+d+">\n\n"})}function o(a){a+="~0";var b=/^(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm;return K?a=a.replace(b,function(a,b,c){var d=b,e=c.search(/[*+-]/g)>-1?"ul":"ol",f=p(d,e);return f=f.replace(/\s+$/,""),f="<"+e+">"+f+"</"+e+">\n"}):(b=/(\n\n|^\n?)(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/g,a=a.replace(b,function(a,b,c,d){var e=b,f=c,g=d.search(/[*+-]/g)>-1?"ul":"ol",h=p(f,g);return h=e+"<"+g+">\n"+h+"</"+g+">\n"})),a=a.replace(/~0/,"")}function p(a,b){K++,a=a.replace(/\n{2,}$/,"\n"),a+="~0";var c=L[b],d=new RegExp("(^[ \\t]*)("+c+")[ \\t]+([^\\r]+?(\\n+))(?=(~0|\\1("+c+")[ \\t]+))","gm"),e=!1;return a=a.replace(d,function(a,b,c,d){var h=d,i=/\n\n$/.test(h),j=i||h.search(/\n{2,}/)>-1;return j||e?h=f(B(h),!0):(h=o(B(h)),h=h.replace(/\n$/,""),h=g(h)),e=i,"<li>"+h+"</li>\n"}),a=a.replace(/~0/g,""),K--,a}function q(a){return a+="~0",a=a.replace(/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=~0))/g,function(a,b,c){var d=b,e=c;return d=t(B(d)),d=C(d),d=d.replace(/^\n+/g,""),d=d.replace(/\n+$/g,""),d="<pre><code>"+d+"\n</code></pre>","\n\n"+d+"\n\n"+e}),a=a.replace(/~0/,"")}function r(a){return a=a.replace(/(^\n+|\n+$)/g,""),"\n\n~K"+(J.push(a)-1)+"K\n\n"}function s(a){return a=a.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,function(a,b,c,d,e){var f=d;return f=f.replace(/^([ \t]*)/g,""),f=f.replace(/[ \t]*$/g,""),f=t(f),f=f.replace(/:\/\//g,"~P"),b+"<code>"+f+"</code>"})}function t(a){return a=a.replace(/&/g,"&amp;"),a=a.replace(/</g,"&lt;"),a=a.replace(/>/g,"&gt;"),a=E(a,"*_{}[]\\",!1)}function u(a){return a=a.replace(/([\W_]|^)(\*\*|__)(?=\S)([^\r]*?\S[\*_]*)\2([\W_]|$)/g,"$1<strong>$3</strong>$4"),a=a.replace(/([\W_]|^)(\*|_)(?=\S)([^\r\*_]*?\S)\2([\W_]|$)/g,"$1<em>$3</em>$4")}function v(a){return a=a.replace(/((^[ \t]*>[ \t]?.+\n(.+\n)*\n*)+)/gm,function(a,b){var c=b;return c=c.replace(/^[ \t]*>[ \t]?/gm,"~0"),c=c.replace(/~0/g,""),c=c.replace(/^[ \t]+$/gm,""),c=f(c),c=c.replace(/(^|\n)/g,"$1  "),c=c.replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,function(a,b){var c=b;return c=c.replace(/^  /gm,"~0"),c=c.replace(/~0/g,"")}),r("<blockquote>\n"+c+"\n</blockquote>")})}function w(a,b){a=a.replace(/^\n+/g,""),a=a.replace(/\n+$/g,"");for(var c=a.split(/\n{2,}/g),d=[],e=/~K(\d+)K/,f=c.length,h=0;f>h;h++){var i=c[h];e.test(i)?d.push(i):/\S/.test(i)&&(i=g(i),i=i.replace(/^([ \t]*)/g,"<p>"),i+="</p>",d.push(i))}if(!b){f=d.length;for(var h=0;f>h;h++)for(var j=!0;j;)j=!1,d[h]=d[h].replace(/~K(\d+)K/g,function(a,b){return j=!0,J[b]})}return d.join("\n\n")}function x(a){return a=a.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;"),a=a.replace(/<(?![a-z\/?\$!])/gi,"&lt;")}function y(a){return a=a.replace(/\\(\\)/g,F),a=a.replace(/\\([`*_{}\[\]()>#+-.!])/g,F)}function z(a){a=a.replace(/(^|\s)(https?|ftp)(:\/\/[-A-Z0-9+&@#\/%?=~_|\[\]\(\)!:,\.;]*[-A-Z0-9+&@#\/%=~_|\[\]])($|\W)/gi,"$1<$2$3>$4");var b=function(a,b){return'<a href="'+b+'">'+G.plainLinkText(b)+"</a>"};return a=a.replace(/<((https?|ftp):[^'">\s]+)>/gi,b)}function A(a){return a=a.replace(/~E(\d+)E/g,function(a,b){var c=parseInt(b);return String.fromCharCode(c)})}function B(a){return a=a.replace(/^(\t|[ ]{1,4})/gm,"~0"),a=a.replace(/~0/g,"")}function C(a){if(!/\t/.test(a))return a;var b,c=["    ","   ","  "," "],d=0;return a.replace(/[\n\t]/g,function(a,e){return"\n"===a?(d=e+1,a):(b=(e-d)%4,d=e+1,c[b])})}function D(a){if(!a)return"";var b=a.length;return a.replace(M,function(c,d){return"~D"==c?"%24":":"!=c||d!=b-1&&!/[0-9\/]/.test(a.charAt(d+1))&&"&#x2F;"!==a.substr(d+1,6)?"%"+c.charCodeAt(0).toString(16):":"})}function E(a,b,c){var d="(["+b.replace(/([\[\]\\])/g,"\\$1")+"])";c&&(d="\\\\"+d);var e=new RegExp(d,"g");return a=a.replace(e,F)}function F(a,b){var c=b.charCodeAt(0);return"~E"+c+"E"}var G=this.hooks=new c;G.addNoop("plainLinkText"),G.addNoop("preConversion"),G.addNoop("postConversion");var H,I,J,K;this.makeHtml=function(c){if(H)throw new Error("Recursive call to converter.makeHtml");return H=new d,I=new d,J=[],K=0,c=G.preConversion(c),c=c.replace(/~/g,"~T"),c=c.replace(/\$/g,"~D"),c=c.replace(/\r\n/g,"\n"),c=c.replace(/\r/g,"\n"),c="\n\n"+c+"\n\n",c=C(c),c=c.replace(/^[ \t]+$/gm,""),c=b(c),c=a(c),c=f(c),c=A(c),c=c.replace(/~D/g,"$$"),c=c.replace(/~T/g,"~"),c=G.postConversion(c),J=I=H=null,c};var L={ol:"\\d+[.]",ul:"[*+-]"},M=/(?:["'*()[\]:]|~D)/g}}(),function(a){a.widget("ui.tagit",{options:{itemName:"item",fieldName:"tags",availableTags:[],tagSource:null,removeConfirmation:!1,caseSensitive:!0,allowSpaces:!1,animate:!0,singleField:!1,singleFieldDelimiter:",",singleFieldNode:null,tabIndex:null,onTagAdded:null,onTagRemoved:null,onTagClicked:null},_create:function(){var b=this;if(this.element.is("input")?(this.tagList=a("<ul></ul>").insertAfter(this.element),this.options.singleField=!0,this.options.singleFieldNode=this.element,this.element.css("display","none")):this.tagList=this.element.find("ul, ol").andSelf().last(),this._tagInput=a('<input type="text" />').addClass("ui-widget-content"),this.options.tabIndex&&this._tagInput.attr("tabindex",this.options.tabIndex),this.options.tagSource=this.options.tagSource||function(b,c){var d=b.term.toLowerCase(),e=a.grep(this.options.availableTags,function(a){return 0===a.toLowerCase().indexOf(d)});c(this._subtractArray(e,this.assignedTags()))},a.isFunction(this.options.tagSource)&&(this.options.tagSource=a.proxy(this.options.tagSource,this)),this.tagList.addClass("tagit unstyled").addClass("ui-widget ui-widget-content ui-corner-all").append(a('<li class="tagit-new"></li>').append(this._tagInput)).click(function(c){var d=a(c.target);d.hasClass("tagit-label")?b._trigger("onTagClicked",c,d.closest(".tagit-choice")):b._tagInput.focus()}),this.tagList.children("li").each(function(){a(this).hasClass("tagit-new")||(b.createTag(a(this).html(),a(this).attr("class")),a(this).remove())}),this.options.singleField)if(this.options.singleFieldNode){var c=a(this.options.singleFieldNode),d=c.val().split(this.options.singleFieldDelimiter);c.val(""),a.each(d,function(a,c){b.createTag(c)})}else this.options.singleFieldNode=this.tagList.after('<input type="hidden" style="display:none;" value="" name="'+this.options.fieldName+'" />');this._tagInput.keydown(function(c){if(c.which==a.ui.keyCode.BACKSPACE&&""===b._tagInput.val()){var d=b._lastTag();!b.options.removeConfirmation||d.hasClass("remove")?b.removeTag(d):b.options.removeConfirmation&&d.addClass("remove ui-state-highlight")}else b.options.removeConfirmation&&b._lastTag().removeClass("remove ui-state-highlight");(c.which==a.ui.keyCode.COMMA||c.which==a.ui.keyCode.ENTER||c.which==a.ui.keyCode.TAB&&""!==b._tagInput.val()||c.which==a.ui.keyCode.SPACE&&b.options.allowSpaces!==!0&&('"'!=a.trim(b._tagInput.val()).replace(/^s*/,"").charAt(0)||'"'==a.trim(b._tagInput.val()).charAt(0)&&'"'==a.trim(b._tagInput.val()).charAt(a.trim(b._tagInput.val()).length-1)&&a.trim(b._tagInput.val()).length-1!==0))&&(c.preventDefault(),b.createTag(b._cleanedInput()),b._tagInput.autocomplete("close"))}).blur(function(a){b.createTag(b._cleanedInput())}),(this.options.availableTags||this.options.tagSource)&&this._tagInput.autocomplete({source:this.options.tagSource,select:function(a,c){return""===b._tagInput.val()&&b.removeTag(b._lastTag(),!1),b.createTag(c.item.value),!1}})},_cleanedInput:function(){return a.trim(this._tagInput.val().replace(/^"(.*)"$/,"$1"))},_lastTag:function(){return this.tagList.children(".tagit-choice:last")},assignedTags:function(){var b=this,c=[];return this.options.singleField?(c=a(this.options.singleFieldNode).val().split(this.options.singleFieldDelimiter),""===c[0]&&(c=[])):this.tagList.children(".tagit-choice").each(function(){c.push(b.tagLabel(this))}),c},_updateSingleTagsField:function(b){a(this.options.singleFieldNode).val(b.join(this.options.singleFieldDelimiter)).change()},_subtractArray:function(b,c){for(var d=[],e=0;e<b.length;e++)-1==a.inArray(b[e],c)&&d.push(b[e]);return d},tagLabel:function(b){return this.options.singleField?a(b).children(".tagit-label").text():a(b).children("input").val()},_isNew:function(a){var b=this,c=!0;return this.tagList.children(".tagit-choice").each(function(d){return b._formatStr(a)==b._formatStr(b.tagLabel(this))?(c=!1,!1):void 0}),c},_formatStr:function(b){return this.options.caseSensitive?b:a.trim(b.toLowerCase())},createTag:function(b,c){var d=this;if(b=a.trim(b),!this._isNew(b)||""===b)return!1;var e=a(this.options.onTagClicked?'<a class="tagit-label"></a>':'<span class="tagit-label"></span>').text(b),f=a("<li></li>").addClass("tagit-choice ui-widget-content ui-state-default ui-corner-all").addClass(c).append(e),g=a("<i></i>").addClass("icon-remove"),h=a('<a><span class="text-icon">Ã</span></a>').addClass("tagit-close").append(g).click(function(a){d.removeTag(f)});if(f.append(h),this.options.singleField){var i=this.assignedTags();i.push(b),this._updateSingleTagsField(i)}else{var j=e.html();f.append('<input type="hidden" style="display:none;" value="'+j+'" name="'+this.options.itemName+"["+this.options.fieldName+'][]" />')}this._trigger("onTagAdded",null,f),this._tagInput.val(""),this._tagInput.parent().before(f)},removeTag:function(b,c){if(c=c||this.options.animate,b=a(b),this._trigger("onTagRemoved",null,b),this.options.singleField){var d=this.assignedTags(),e=this.tagLabel(b);d=a.grep(d,function(a){return a!=e}),this._updateSingleTagsField(d)}c?b.fadeOut("fast").hide("blind",{direction:"horizontal"},"fast",function(){b.remove()}).dequeue():b.remove()},removeAll:function(){var a=this;this.tagList.children(".tagit-choice").each(function(b,c){a.removeTag(c,!1)})}})}(jQuery),function(a){"use strict";"function"==typeof define&&define.amd?define(["jquery"],a):a(window.jQuery)}(function(a){"use strict";var b=0;a.ajaxTransport("iframe",function(c){if(c.async){var d,e,f;return{send:function(g,h){d=a('<form style="display:none;"></form>'),d.attr("accept-charset",c.formAcceptCharset),f=/\?/.test(c.url)?"&":"?","DELETE"===c.type?(c.url=c.url+f+"_method=DELETE",c.type="POST"):"PUT"===c.type?(c.url=c.url+f+"_method=PUT",c.type="POST"):"PATCH"===c.type&&(c.url=c.url+f+"_method=PATCH",c.type="POST"),b+=1,e=a('<iframe src="javascript:false;" name="iframe-transport-'+b+'"></iframe>').bind("load",function(){var b,f=a.isArray(c.paramName)?c.paramName:[c.paramName];e.unbind("load").bind("load",function(){var b;try{if(b=e.contents(),!b.length||!b[0].firstChild)throw new Error}catch(c){b=void 0}h(200,"success",{iframe:b}),a('<iframe src="javascript:false;"></iframe>').appendTo(d),window.setTimeout(function(){d.remove()},0)}),d.prop("target",e.prop("name")).prop("action",c.url).prop("method",c.type),c.formData&&a.each(c.formData,function(b,c){a('<input type="hidden"/>').prop("name",c.name).val(c.value).appendTo(d)}),c.fileInput&&c.fileInput.length&&"POST"===c.type&&(b=c.fileInput.clone(),c.fileInput.after(function(a){return b[a]}),c.paramName&&c.fileInput.each(function(b){a(this).prop("name",f[b]||c.paramName)}),d.append(c.fileInput).prop("enctype","multipart/form-data").prop("encoding","multipart/form-data")),d.submit(),b&&b.length&&c.fileInput.each(function(c,d){var e=a(b[c]);a(d).prop("name",e.prop("name")),e.replaceWith(d)})}),d.append(e).appendTo(document.body)},abort:function(){e&&e.unbind("load").prop("src","javascript".concat(":false;")),d&&d.remove()}}}}),a.ajaxSetup({converters:{"iframe text":function(b){return b&&a(b[0].body).text()},"iframe json":function(b){return b&&a.parseJSON(a(b[0].body).text())},"iframe html":function(b){return b&&a(b[0].body).html()},"iframe xml":function(b){var c=b&&b[0];return c&&a.isXMLDoc(c)?c:a.parseXML(c.XMLDocument&&c.XMLDocument.xml||a(c.body).html())},"iframe script":function(b){return b&&a.globalEval(a(b[0].body).text())}}})}),function(){function a(a){"use strict";var b={omitExtraWLInCodeBlocks:{"default":!1,describe:"Omit the default extra whiteline added to code blocks",type:"boolean"},noHeaderId:{"default":!1,describe:"Turn on/off generated header id",type:"boolean"},prefixHeaderId:{"default":!1,describe:"Specify a prefix to generated header ids",type:"string"},headerLevelStart:{"default":!1,describe:"The header blocks level start",type:"integer"},parseImgDimensions:{"default":!1,describe:"Turn on/off image dimension parsing",type:"boolean"},simplifiedAutoLink:{"default":!0,describe:"Turn on/off GFM autolink style",type:"boolean"},literalMidWordUnderscores:{"default":!1,describe:"Parse midword underscores as literal underscores",type:"boolean"},strikethrough:{"default":!1,describe:"Turn on/off strikethrough support",type:"boolean"},tables:{"default":!1,describe:"Turn on/off tables support",type:"boolean"},tablesHeaderId:{"default":!1,describe:"Add an id to table headers",type:"boolean"},ghCodeBlocks:{"default":!0,describe:"Turn on/off GFM fenced code blocks support",type:"boolean"},tasklists:{"default":!1,describe:"Turn on/off GFM tasklist support",type:"boolean"},smoothLivePreview:{"default":!1,describe:"Prevents weird effects in live previews due to incomplete input",type:"boolean"}};if(a===!1)return JSON.parse(JSON.stringify(b));var c={};for(var d in b)b.hasOwnProperty(d)&&(c[d]=b[d]["default"]);return c}function b(a,b){"use strict";var c=b?"Error in "+b+" extension->":"Error in unnamed extension",e={valid:!0,error:""};d.helper.isArray(a)||(a=[a]);for(var f=0;f<a.length;++f){var g=c+" sub-extension "+f+": ",h=a[f];if("object"!=typeof h)return e.valid=!1,e.error=g+"must be an object, but "+typeof h+" given",e;if(!d.helper.isString(h.type))return e.valid=!1,e.error=g+'property "type" must be a string, but '+typeof h.type+" given",e;var i=h.type=h.type.toLowerCase();if("language"===i&&(i=h.type="lang"),"html"===i&&(i=h.type="output"),"lang"!==i&&"output"!==i&&"listener"!==i)return e.valid=!1,e.error=g+"type "+i+' is not recognized. Valid values: "lang/language", "output/html" or "listener"',e;if("listener"===i){if(d.helper.isUndefined(h.listeners))return e.valid=!1,e.error=g+'. Extensions of type "listener" must have a property called "listeners"',e}else if(d.helper.isUndefined(h.filter)&&d.helper.isUndefined(h.regex))return e.valid=!1,e.error=g+i+' extensions must define either a "regex" property or a "filter" method',e;if(h.listeners){if("object"!=typeof h.listeners)return e.valid=!1,e.error=g+'"listeners" property must be an object but '+typeof h.listeners+" given",e;for(var j in h.listeners)if(h.listeners.hasOwnProperty(j)&&"function"!=typeof h.listeners[j])return e.valid=!1,e.error=g+'"listeners" property must be an hash of [event name]: [callback]. listeners.'+j+" must be a function but "+typeof h.listeners[j]+" given",e}if(h.filter){if("function"!=typeof h.filter)return e.valid=!1,e.error=g+'"filter" must be a function, but '+typeof h.filter+" given",e}else if(h.regex){if(d.helper.isString(h.regex)&&(h.regex=new RegExp(h.regex,"g")),!h.regex instanceof RegExp)return e.valid=!1,e.error=g+'"regex" property must either be a string or a RegExp object, but '+typeof h.regex+" given",e;if(d.helper.isUndefined(h.replace))return e.valid=!1,e.error=g+'"regex" extensions must implement a replace string or function',e}}return e}function c(a,b){"use strict";var c=b.charCodeAt(0);return"~E"+c+"E"}var d={},e={},f={},g=a(!0),h={github:{omitExtraWLInCodeBlocks:!0,prefixHeaderId:"user-content-",simplifiedAutoLink:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0},vanilla:a(!0)};d.helper={},d.extensions={},d.setOption=function(a,b){"use strict";return g[a]=b,this},d.getOption=function(a){"use strict";return g[a]},d.getOptions=function(){"use strict";return g},d.resetOptions=function(){"use strict";g=a(!0)},d.setFlavor=function(a){"use strict";if(h.hasOwnProperty(a)){var b=h[a];for(var c in b)b.hasOwnProperty(c)&&(g[c]=b[c])}},d.getDefaultOptions=function(b){"use strict";return a(b)},d.subParser=function(a,b){"use strict";if(d.helper.isString(a)){if("undefined"==typeof b){if(e.hasOwnProperty(a))return e[a];throw Error("SubParser named "+a+" not registered!")}e[a]=b}},d.extension=function(a,c){"use strict";if(!d.helper.isString(a))throw Error("Extension 'name' must be a string");if(a=d.helper.stdExtName(a),d.helper.isUndefined(c)){if(!f.hasOwnProperty(a))throw Error("Extension named "+a+" is not registered!");return f[a]}"function"==typeof c&&(c=c()),d.helper.isArray(c)||(c=[c]);var e=b(c,a);if(!e.valid)throw Error(e.error);f[a]=c},d.getAllExtensions=function(){"use strict";return f},d.removeExtension=function(a){"use strict";delete f[a]},d.resetExtensions=function(){"use strict";f={}},d.validateExtension=function(a){"use strict";var c=b(a,null);return c.valid?!0:(console.warn(c.error),!1)},d.hasOwnProperty("helper")||(d.helper={}),d.helper.isString=function(a){"use strict";return"string"==typeof a||a instanceof String},d.helper.isFunction=function(a){"use strict";var b={};return a&&"[object Function]"===b.toString.call(a)},d.helper.forEach=function(a,b){"use strict";if("function"==typeof a.forEach)a.forEach(b);else for(var c=0;c<a.length;c++)b(a[c],c,a)},d.helper.isArray=function(a){"use strict";return a.constructor===Array},d.helper.isUndefined=function(a){"use strict";return"undefined"==typeof a},d.helper.stdExtName=function(a){"use strict";return a.replace(/[_-]||\s/g,"").toLowerCase()},d.helper.escapeCharactersCallback=c,d.helper.escapeCharacters=function(a,b,d){"use strict";var e="(["+b.replace(/([\[\]\\])/g,"\\$1")+"])";d&&(e="\\\\"+e);var f=new RegExp(e,"g");return a=a.replace(f,c)};var i=function(a,b,c,d){"use strict";var e,f,g,h,i,j=d||"",k=j.indexOf("g")>-1,l=new RegExp(b+"|"+c,"g"+j.replace(/g/g,"")),m=new RegExp(b,j.replace(/g/g,"")),n=[];do for(e=0;g=l.exec(a);)if(m.test(g[0]))e++||(f=l.lastIndex,h=f-g[0].length);else if(e&&!--e){i=g.index+g[0].length;var o={left:{start:h,end:f},match:{start:f,end:g.index},right:{start:g.index,end:i},wholeMatch:{start:h,end:i}};if(n.push(o),!k)return n}while(e&&(l.lastIndex=f));return n};d.helper.matchRecursiveRegExp=function(a,b,c,d){"use strict";for(var e=i(a,b,c,d),f=[],g=0;g<e.length;++g)f.push([a.slice(e[g].wholeMatch.start,e[g].wholeMatch.end),a.slice(e[g].match.start,e[g].match.end),a.slice(e[g].left.start,e[g].left.end),a.slice(e[g].right.start,e[g].right.end)]);return f},d.helper.replaceRecursiveRegExp=function(a,b,c,e,f){"use strict";if(!d.helper.isFunction(b)){var g=b;b=function(){return g}}var h=i(a,c,e,f),j=a,k=h.length;if(k>0){var l=[];0!==h[0].wholeMatch.start&&l.push(a.slice(0,h[0].wholeMatch.start));for(var m=0;k>m;++m)l.push(b(a.slice(h[m].wholeMatch.start,h[m].wholeMatch.end),a.slice(h[m].match.start,h[m].match.end),a.slice(h[m].left.start,h[m].left.end),a.slice(h[m].right.start,h[m].right.end))),k-1>m&&l.push(a.slice(h[m].wholeMatch.end,h[m+1].wholeMatch.start));h[k-1].wholeMatch.end<a.length&&l.push(a.slice(h[k-1].wholeMatch.end)),j=l.join("")}return j},d.helper.isUndefined(console)&&(console={warn:function(a){"use strict";alert(a)},log:function(a){"use strict";alert(a)},error:function(a){"use strict";throw a}}),d.Converter=function(a){"use strict";function c(){a=a||{};for(var b in g)g.hasOwnProperty(b)&&(k[b]=g[b]);if("object"!=typeof a)throw Error("Converter expects the passed parameter to be an object, but "+typeof a+" was passed instead.");for(var c in a)a.hasOwnProperty(c)&&(k[c]=a[c]);k.extensions&&d.helper.forEach(k.extensions,e)}function e(a,c){if(c=c||null,d.helper.isString(a)){if(a=d.helper.stdExtName(a),c=a,d.extensions[a])return console.warn("DEPRECATION WARNING: "+a+" is an old extension that uses a deprecated loading method.Please inform the developer that the extension should be updated!"),void i(d.extensions[a],a);if(d.helper.isUndefined(f[a]))throw Error('Extension "'+a+'" could not be loaded. It was either not found or is not a valid extension.');a=f[a]}"function"==typeof a&&(a=a()),d.helper.isArray(a)||(a=[a]);var e=b(a,c);if(!e.valid)throw Error(e.error);for(var g=0;g<a.length;++g){switch(a[g].type){case"lang":l.push(a[g]);break;case"output":m.push(a[g])}if(a[g].hasOwnProperty(n))for(var h in a[g].listeners)a[g].listeners.hasOwnProperty(h)&&j(h,a[g].listeners[h])}}function i(a,c){"function"==typeof a&&(a=a(new d.Converter)),d.helper.isArray(a)||(a=[a]);var e=b(a,c);if(!e.valid)throw Error(e.error);for(var f=0;f<a.length;++f)switch(a[f].type){case"lang":l.push(a[f]);break;case"output":m.push(a[f]);break;default:throw Error("Extension loader error: Type unrecognized!!!")}}function j(a,b){if(!d.helper.isString(a))throw Error("Invalid argument in converter.listen() method: name must be a string, but "+typeof a+" given");if("function"!=typeof b)throw Error("Invalid argument in converter.listen() method: callback must be a function, but "+typeof b+" given");n.hasOwnProperty(a)||(n[a]=[]),n[a].push(b)}var k={},l=[],m=[],n={};c(),this._dispatch=function(a,b,c){if(n.hasOwnProperty(a))for(var d=0;d<n[a].length;++d){var e=n[a][d](a,b,this,c);e&&"undefined"!=typeof e&&(b=e)}return b},this.listen=function(a,b){return j(a,b),this},this.makeHtml=function(a){if(!a)return a;var b={gHtmlBlocks:[],gHtmlMdBlocks:[],gHtmlSpans:[],gUrls:{},gTitles:{},gDimensions:{},gListLevel:0,hashLinkCounts:{},langExtensions:l,outputModifiers:m,converter:this,ghCodeBlocks:[]};return a=a.replace(/~/g,"~T"),a=a.replace(/\$/g,"~D"),a=a.replace(/\r\n/g,"\n"),a=a.replace(/\r/g,"\n"),a="\n\n"+a+"\n\n",a=d.subParser("detab")(a,k,b),a=d.subParser("stripBlankLines")(a,k,b),d.helper.forEach(l,function(c){a=d.subParser("runExtension")(c,a,k,b)}),a=d.subParser("hashPreCodeTags")(a,k,b),a=d.subParser("githubCodeBlocks")(a,k,b),a=d.subParser("hashHTMLBlocks")(a,k,b),a=d.subParser("hashHTMLSpans")(a,k,b),a=d.subParser("stripLinkDefinitions")(a,k,b),a=d.subParser("blockGamut")(a,k,b),a=d.subParser("unhashHTMLSpans")(a,k,b),a=d.subParser("unescapeSpecialChars")(a,k,b),a=a.replace(/~D/g,"$$"),a=a.replace(/~T/g,"~"),d.helper.forEach(m,function(c){a=d.subParser("runExtension")(c,a,k,b)}),a},this.setOption=function(a,b){k[a]=b},this.getOption=function(a){return k[a]},this.getOptions=function(){return k},this.addExtension=function(a,b){b=b||null,e(a,b)},this.useExtension=function(a){e(a)},this.setFlavor=function(a){if(h.hasOwnProperty(a)){var b=h[a];for(var c in b)b.hasOwnProperty(c)&&(k[c]=b[c])}},this.removeExtension=function(a){d.helper.isArray(a)||(a=[a]);for(var b=0;b<a.length;++b){for(var c=a[b],e=0;e<l.length;++e)l[e]===c&&l[e].splice(e,1);for(var f=0;f<m.length;++e)m[f]===c&&m[f].splice(e,1)}},this.getAllExtensions=function(){return{language:l,output:m}},this.colorCode=function(a){return calcMD5(a).slice(0,6)}},d.subParser("anchors",function(a,b,c){"use strict";a=c.converter._dispatch("anchors.before",a,b);var e=function(a,b,e,f,g,h,i,j){d.helper.isUndefined(j)&&(j=""),a=b;var k=e,l=f.toLowerCase(),m=g,n=j;if(!m)if(l||(l=k.toLowerCase().replace(/ ?\n/g," ")),m="#"+l,d.helper.isUndefined(c.gUrls[l])){if(!(a.search(/\(\s*\)$/m)>-1))return a;m=""}else m=c.gUrls[l],d.helper.isUndefined(c.gTitles[l])||(n=c.gTitles[l]);m=d.helper.escapeCharacters(m,"*_",!1);var o='<a href="'+m+'"';return""!==n&&null!==n&&(n=n.replace(/"/g,"&quot;"),n=d.helper.escapeCharacters(n,"*_",!1),o+=' title="'+n+'"'),o+=">"+k+"</a>"};return a=a.replace(/(\[((?:\[[^\]]*]|[^\[\]])*)][ ]?(?:\n[ ]*)?\[(.*?)])()()()()/g,e),a=a.replace(/(\[((?:\[[^\]]*]|[^\[\]])*)]\([ \t]*()<?(.*?(?:\(.*?\).*?)?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,e),a=a.replace(/(\[([^\[\]]+)])()()()()()/g,e),a=c.converter._dispatch("anchors.after",a,b)}),d.subParser("autoLinks",function(a,b,c){"use strict";function e(a,b){var c=d.subParser("unescapeSpecialChars")(b);return d.subParser("encodeEmailAddress")(c)}a=c.converter._dispatch("autoLinks.before",a,b);var f=/\b(((https?|ftp|dict):\/\/|www\.)[^'">\s]+\.[^'">\s]+)(?=\s|$)(?!["<>])/gi,g=/<(((https?|ftp|dict):\/\/|www\.)[^'">\s]+)>/gi,h=/(?:^|[ \n\t])([A-Za-z0-9!#$%&'*+-\/=?^_`\{|}~\.]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)(?:$|[ \n\t])/gi,i=/<(?:mailto:)?([-.\w]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)>/gi;return a=a.replace(g,'<a href="$1">$1</a>'),a=a.replace(i,e),b.simplifiedAutoLink&&(a=a.replace(f,'<a href="$1">$1</a>'),a=a.replace(h,e)),a=c.converter._dispatch("autoLinks.after",a,b)}),d.subParser("blockGamut",function(a,b,c){"use strict";a=c.converter._dispatch("blockGamut.before",a,b),a=d.subParser("blockQuotes")(a,b,c),a=d.subParser("headers")(a,b,c);var e=d.subParser("hashBlock")("<hr />",b,c);return a=a.replace(/^[ ]{0,2}([ ]?\*[ ]?){3,}[ \t]*$/gm,e),a=a.replace(/^[ ]{0,2}([ ]?\-[ ]?){3,}[ \t]*$/gm,e),a=a.replace(/^[ ]{0,2}([ ]?_[ ]?){3,}[ \t]*$/gm,e),a=d.subParser("lists")(a,b,c),a=d.subParser("codeBlocks")(a,b,c),a=d.subParser("tables")(a,b,c),a=d.subParser("hashHTMLBlocks")(a,b,c),a=d.subParser("paragraphs")(a,b,c),a=c.converter._dispatch("blockGamut.after",a,b)}),d.subParser("blockQuotes",function(a,b,c){"use strict";return a=c.converter._dispatch("blockQuotes.before",a,b),a=a.replace(/((^[ \t]{0,3}>[ \t]?.+\n(.+\n)*\n*)+)/gm,function(a,e){var f=e;return f=f.replace(/^[ \t]*>[ \t]?/gm,"~0"),f=f.replace(/~0/g,""),f=f.replace(/^[ \t]+$/gm,""),f=d.subParser("githubCodeBlocks")(f,b,c),f=d.subParser("blockGamut")(f,b,c),f=f.replace(/(^|\n)/g,"$1  "),f=f.replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,function(a,b){var c=b;return c=c.replace(/^  /gm,"~0"),c=c.replace(/~0/g,"")}),d.subParser("hashBlock")("<blockquote>\n"+f+"\n</blockquote>",b,c)}),a=c.converter._dispatch("blockQuotes.after",a,b)}),d.subParser("codeBlocks",function(a,b,c){"use strict";a=c.converter._dispatch("codeBlocks.before",a,b),a+="~0";var e=/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=~0))/g;return a=a.replace(e,function(a,e,f){var g=e,h=f,i="\n";return g=d.subParser("outdent")(g),g=d.subParser("encodeCode")(g),g=d.subParser("detab")(g),g=g.replace(/^\n+/g,""),g=g.replace(/\n+$/g,""),b.omitExtraWLInCodeBlocks&&(i=""),g="<pre><code>"+g+i+"</code></pre>",d.subParser("hashBlock")(g,b,c)+h}),a=a.replace(/~0/,""),a=c.converter._dispatch("codeBlocks.after",a,b)}),d.subParser("codeSpans",function(a,b,c){"use strict";return a=c.converter._dispatch("codeSpans.before",a,b),a=a.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,function(a,b,c,e){var f=e;return f=f.replace(/^([ \t]*)/g,""),f=f.replace(/[ \t]*$/g,""),f=d.subParser("encodeCode")(f),b+"<code>"+f+"</code>"}),a=c.converter._dispatch("codeSpans.after",a,b)}),d.subParser("detab",function(a){"use strict";return a=a.replace(/\t(?=\t)/g,"    "),a=a.replace(/\t/g,"~A~B"),a=a.replace(/~B(.+?)~A/g,function(a,b){for(var c=b,d=4-c.length%4,e=0;d>e;e++)c+=" ";return c}),a=a.replace(/~A/g,"    "),a=a.replace(/~B/g,"")}),d.subParser("encodeAmpsAndAngles",function(a){"use strict";return a=a.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;"),a=a.replace(/<(?![a-z\/?\$!])/gi,"&lt;")}),d.subParser("encodeBackslashEscapes",function(a){"use strict";return a=a.replace(/\\(\\)/g,d.helper.escapeCharactersCallback),a=a.replace(/\\([`*_{}\[\]()>#+-.!])/g,d.helper.escapeCharactersCallback)}),d.subParser("encodeCode",function(a){"use strict";return a=a.replace(/&/g,"&amp;"),a=a.replace(/</g,"&lt;"),a=a.replace(/>/g,"&gt;"),a=d.helper.escapeCharacters(a,"*_{}[]\\",!1)}),d.subParser("encodeEmailAddress",function(a){"use strict";var b=[function(a){return"&#"+a.charCodeAt(0)+";"},function(a){return"&#x"+a.charCodeAt(0).toString(16)+";"},function(a){return a}];return a="mailto:"+a,a=a.replace(/./g,function(a){if("@"===a)a=b[Math.floor(2*Math.random())](a);else if(":"!==a){var c=Math.random();a=c>.9?b[2](a):c>.45?b[1](a):b[0](a)}return a}),a='<a href="'+a+'">'+a+"</a>",a=a.replace(/">.+:/g,'">')}),d.subParser("escapeSpecialCharsWithinTagAttributes",function(a){"use strict";var b=/(<[a-z\/!$]("[^"]*"|'[^']*'|[^'">])*>|<!(--.*?--\s*)+>)/gi;return a=a.replace(b,function(a){var b=a.replace(/(.)<\/?code>(?=.)/g,"$1`");return b=d.helper.escapeCharacters(b,"\\`*_",!1)})}),d.subParser("githubCodeBlocks",function(a,b,c){"use strict";return b.ghCodeBlocks?(a=c.converter._dispatch("githubCodeBlocks.before",a,b),a+="~0",a=a.replace(/(?:^|\n)```(.*)\n([\s\S]*?)\n```/g,function(a,e,f){var g=b.omitExtraWLInCodeBlocks?"":"\n";return f=d.subParser("encodeCode")(f),f=d.subParser("detab")(f),f=f.replace(/^\n+/g,""),f=f.replace(/\n+$/g,""),f="<pre><code"+(e?' class="'+e+" language-"+e+'"':"")+">"+f+g+"</code></pre>",f=d.subParser("hashBlock")(f,b,c),"\n\n~G"+(c.ghCodeBlocks.push({text:a,codeblock:f})-1)+"G\n\n"}),a=a.replace(/~0/,""),c.converter._dispatch("githubCodeBlocks.after",a,b)):a}),d.subParser("hashBlock",function(a,b,c){"use strict";return a=a.replace(/(^\n+|\n+$)/g,""),"\n\n~K"+(c.gHtmlBlocks.push(a)-1)+"K\n\n"}),d.subParser("hashElement",function(a,b,c){"use strict";return function(a,b){var d=b;return d=d.replace(/\n\n/g,"\n"),d=d.replace(/^\n/,""),d=d.replace(/\n+$/g,""),d="\n\n~K"+(c.gHtmlBlocks.push(d)-1)+"K\n\n"}}),d.subParser("hashHTMLBlocks",function(a,b,c){"use strict";for(var e=["pre","div","h1","h2","h3","h4","h5","h6","blockquote","table","dl","ol","ul","script","noscript","form","fieldset","iframe","math","style","section","header","footer","nav","article","aside","address","audio","canvas","figure","hgroup","output","video","p"],f=function(a,b,d,e){var f=a;return-1!==d.search(/\bmarkdown\b/)&&(f=d+c.converter.makeHtml(b)+e),"\n\n~K"+(c.gHtmlBlocks.push(f)-1)+"K\n\n"},g=0;g<e.length;++g)a=d.helper.replaceRecursiveRegExp(a,f,"^(?: |\\t){0,3}<"+e[g]+"\\b[^>]*>","</"+e[g]+">","gim");return a=a.replace(/(\n[ ]{0,3}(<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,d.subParser("hashElement")(a,b,c)),a=a.replace(/(<!(--[^\r]*?--\s*)+>[ \t]*(?=\n{2,}))/g,d.subParser("hashElement")(a,b,c)),
a=a.replace(/(?:\n\n)([ ]{0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,d.subParser("hashElement")(a,b,c))}),d.subParser("hashHTMLSpans",function(a,b,c){"use strict";for(var e=d.helper.matchRecursiveRegExp(a,"<code\\b[^>]*>","</code>","gi"),f=0;f<e.length;++f)a=a.replace(e[f][0],"~L"+(c.gHtmlSpans.push(e[f][0])-1)+"L");return a}),d.subParser("unhashHTMLSpans",function(a,b,c){"use strict";for(var d=0;d<c.gHtmlSpans.length;++d)a=a.replace("~L"+d+"L",c.gHtmlSpans[d]);return a}),d.subParser("hashPreCodeTags",function(a,b,c){"use strict";var e=function(a,b,e,f){var g=e+d.subParser("encodeCode")(b)+f;return"\n\n~G"+(c.ghCodeBlocks.push({text:a,codeblock:g})-1)+"G\n\n"};return a=d.helper.replaceRecursiveRegExp(a,e,"^(?: |\\t){0,3}<pre\\b[^>]*>\\s*<code\\b[^>]*>","^(?: |\\t){0,3}</code>\\s*</pre>","gim")}),d.subParser("headers",function(a,b,c){"use strict";function e(a){var b,e=a.replace(/[^\w]/g,"").toLowerCase();return c.hashLinkCounts[e]?b=e+"-"+c.hashLinkCounts[e]++:(b=e,c.hashLinkCounts[e]=1),f===!0&&(f="section"),d.helper.isString(f)?f+b:b}a=c.converter._dispatch("headers.before",a,b);var f=b.prefixHeaderId,g=isNaN(parseInt(b.headerLevelStart))?1:parseInt(b.headerLevelStart),h=b.smoothLivePreview?/^(.+)[ \t]*\n={2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n=+[ \t]*\n+/gm,i=b.smoothLivePreview?/^(.+)[ \t]*\n-{2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n-+[ \t]*\n+/gm;return a=a.replace(h,function(a,f){var h=d.subParser("spanGamut")(f,b,c),i=b.noHeaderId?"":' id="'+e(f)+'"',j=g,k="<h"+j+i+">"+h+"</h"+j+">";return d.subParser("hashBlock")(k,b,c)}),a=a.replace(i,function(a,f){var h=d.subParser("spanGamut")(f,b,c),i=b.noHeaderId?"":' id="'+e(f)+'"',j=g+1,k="<h"+j+i+">"+h+"</h"+j+">";return d.subParser("hashBlock")(k,b,c)}),a=a.replace(/^(#{1,6})[ \t]*(.+?)[ \t]*#*\n+/gm,function(a,f,h){var i=d.subParser("spanGamut")(h,b,c),j=b.noHeaderId?"":' id="'+e(h)+'"',k=g-1+f.length,l="<h"+k+j+">"+i+"</h"+k+">";return d.subParser("hashBlock")(l,b,c)}),a=c.converter._dispatch("headers.after",a,b)}),d.subParser("images",function(a,b,c){"use strict";function e(a,b,e,f,g,h,i,j){var k=c.gUrls,l=c.gTitles,m=c.gDimensions;if(e=e.toLowerCase(),j||(j=""),""===f||null===f){if((""===e||null===e)&&(e=b.toLowerCase().replace(/ ?\n/g," ")),f="#"+e,d.helper.isUndefined(k[e]))return a;f=k[e],d.helper.isUndefined(l[e])||(j=l[e]),d.helper.isUndefined(m[e])||(g=m[e].width,h=m[e].height)}b=b.replace(/"/g,"&quot;"),b=d.helper.escapeCharacters(b,"*_",!1),f=d.helper.escapeCharacters(f,"*_",!1);var n='<img src="'+f+'" alt="'+b+'"';return j&&(j=j.replace(/"/g,"&quot;"),j=d.helper.escapeCharacters(j,"*_",!1),n+=' title="'+j+'"'),g&&h&&(g="*"===g?"auto":g,h="*"===h?"auto":h,n+=' width="'+g+'"',n+=' height="'+h+'"'),n+=" />"}a=c.converter._dispatch("images.before",a,b);var f=/!\[(.*?)]\s?\([ \t]*()<?(\S+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(['"])(.*?)\6[ \t]*)?\)/g,g=/!\[(.*?)][ ]?(?:\n[ ]*)?\[(.*?)]()()()()()/g;return a=a.replace(g,e),a=a.replace(f,e),a=c.converter._dispatch("images.after",a,b)}),d.subParser("italicsAndBold",function(a,b,c){"use strict";return a=c.converter._dispatch("italicsAndBold.before",a,b),b.literalMidWordUnderscores?(a=a.replace(/(^|\s|>|\b)__(?=\S)([^]+?)__(?=\b|<|\s|$)/gm,"$1<strong>$2</strong>"),a=a.replace(/(^|\s|>|\b)_(?=\S)([^]+?)_(?=\b|<|\s|$)/gm,"$1<em>$2</em>"),a=a.replace(/(\*\*)(?=\S)([^\r]*?\S[*]*)\1/g,"<strong>$2</strong>"),a=a.replace(/(\*)(?=\S)([^\r]*?\S)\1/g,"<em>$2</em>")):(a=a.replace(/(\*\*|__)(?=\S)([^\r]*?\S[*_]*)\1/g,"<strong>$2</strong>"),a=a.replace(/(\*|_)(?=\S)([^\r]*?\S)\1/g,"<em>$2</em>")),a=c.converter._dispatch("italicsAndBold.after",a,b)}),d.subParser("lists",function(a,b,c){"use strict";function e(a,e){c.gListLevel++,a=a.replace(/\n{2,}$/,"\n"),a+="~0";var f=/(\n)?(^[ \t]*)([*+-]|\d+[.])[ \t]+((\[(x| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(~0|\2([*+-]|\d+[.])[ \t]+))/gm,g=/\n[ \t]*\n(?!~0)/.test(a);return a=a.replace(f,function(a,e,f,h,i,j,k){k=k&&""!==k.trim();var l=d.subParser("outdent")(i,b,c),m="";return j&&b.tasklists&&(m=' class="task-list-item" style="list-style-type: none;"',l=l.replace(/^[ \t]*\[(x| )?]/m,function(){var a='<input type="checkbox" disabled style="margin: 0px 0.35em 0.25em -1.6em; vertical-align: middle;"';return k&&(a+=" checked"),a+=">"})),e||l.search(/\n{2,}/)>-1?(l=d.subParser("githubCodeBlocks")(l,b,c),l=d.subParser("blockGamut")(l,b,c)):(l=d.subParser("lists")(l,b,c),l=l.replace(/\n$/,""),l=g?d.subParser("paragraphs")(l,b,c):d.subParser("spanGamut")(l,b,c)),l="\n<li"+m+">"+l+"</li>\n"}),a=a.replace(/~0/g,""),c.gListLevel--,e&&(a=a.replace(/\s+$/,"")),a}function f(a,b,c){var d="ul"===b?/^ {0,2}\d+\.[ \t]/gm:/^ {0,2}[*+-][ \t]/gm,f=[],g="";if(-1!==a.search(d)){!function i(a){var f=a.search(d);-1!==f?(g+="\n\n<"+b+">"+e(a.slice(0,f),!!c)+"</"+b+">\n\n",b="ul"===b?"ol":"ul",d="ul"===b?/^ {0,2}\d+\.[ \t]/gm:/^ {0,2}[*+-][ \t]/gm,i(a.slice(f))):g+="\n\n<"+b+">"+e(a,!!c)+"</"+b+">\n\n"}(a);for(var h=0;h<f.length;++h);}else g="\n\n<"+b+">"+e(a,!!c)+"</"+b+">\n\n";return g}a=c.converter._dispatch("lists.before",a,b),a+="~0";var g=/^(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm;return c.gListLevel?a=a.replace(g,function(a,b,c){var d=c.search(/[*+-]/g)>-1?"ul":"ol";return f(b,d,!0)}):(g=/(\n\n|^\n?)(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,a=a.replace(g,function(a,b,c,d){var e=d.search(/[*+-]/g)>-1?"ul":"ol";return f(c,e)})),a=a.replace(/~0/,""),a=c.converter._dispatch("lists.after",a,b)}),d.subParser("outdent",function(a){"use strict";return a=a.replace(/^(\t|[ ]{1,4})/gm,"~0"),a=a.replace(/~0/g,"")}),d.subParser("paragraphs",function(a,b,c){"use strict";a=c.converter._dispatch("paragraphs.before",a,b),a=a.replace(/^\n+/g,""),a=a.replace(/\n+$/g,"");for(var e=a.split(/\n{2,}/g),f=[],g=e.length,h=0;g>h;h++){var i=e[h];i.search(/~(K|G)(\d+)\1/g)>=0?f.push(i):(i=d.subParser("spanGamut")(i,b,c),i=i.replace(/^([ \t]*)/g,"<p>"),i+="</p>",f.push(i))}for(g=f.length,h=0;g>h;h++){for(var j="",k=f[h],l=!1;k.search(/~(K|G)(\d+)\1/)>=0;){var m=RegExp.$1,n=RegExp.$2;j="K"===m?c.gHtmlBlocks[n]:l?d.subParser("encodeCode")(c.ghCodeBlocks[n].text):c.ghCodeBlocks[n].codeblock,j=j.replace(/\$/g,"$$$$"),k=k.replace(/(\n\n)?~(K|G)\d+\2(\n\n)?/,j),/^<pre\b[^>]*>\s*<code\b[^>]*>/.test(k)&&(l=!0)}f[h]=k}return a=f.join("\n\n"),a=a.replace(/^\n+/g,""),a=a.replace(/\n+$/g,""),c.converter._dispatch("paragraphs.after",a,b)}),d.subParser("runExtension",function(a,b,c,d){"use strict";if(a.filter)b=a.filter(b,d.converter,c);else if(a.regex){var e=a.regex;!e instanceof RegExp&&(e=new RegExp(e,"g")),b=b.replace(e,a.replace)}return b}),d.subParser("spanGamut",function(a,b,c){"use strict";return a=c.converter._dispatch("spanGamut.before",a,b),a=d.subParser("codeSpans")(a,b,c),a=d.subParser("escapeSpecialCharsWithinTagAttributes")(a,b,c),a=d.subParser("encodeBackslashEscapes")(a,b,c),a=d.subParser("images")(a,b,c),a=d.subParser("anchors")(a,b,c),a=d.subParser("autoLinks")(a,b,c),a=d.subParser("encodeAmpsAndAngles")(a,b,c),a=d.subParser("italicsAndBold")(a,b,c),a=d.subParser("strikethrough")(a,b,c),a=a.replace(/  +\n/g," <br />\n"),a=c.converter._dispatch("spanGamut.after",a,b)}),d.subParser("strikethrough",function(a,b,c){"use strict";return b.strikethrough&&(a=c.converter._dispatch("strikethrough.before",a,b),a=a.replace(/(?:~T){2}([\s\S]+?)(?:~T){2}/g,"<del>$1</del>"),a=c.converter._dispatch("strikethrough.after",a,b)),a}),d.subParser("stripBlankLines",function(a){"use strict";return a.replace(/^[ \t]+$/gm,"")}),d.subParser("stripLinkDefinitions",function(a,b,c){"use strict";var e=/^ {0,3}\[(.+)]:[ \t]*\n?[ \t]*<?(\S+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n+|(?=~0))/gm;return a+="~0",a=a.replace(e,function(a,e,f,g,h,i,j){return e=e.toLowerCase(),c.gUrls[e]=d.subParser("encodeAmpsAndAngles")(f),i?i+j:(j&&(c.gTitles[e]=j.replace(/"|'/g,"&quot;")),b.parseImgDimensions&&g&&h&&(c.gDimensions[e]={width:g,height:h}),"")}),a=a.replace(/~0/,"")}),d.subParser("tables",function(a,b,c){"use strict";function e(a){return/^:[ \t]*---*$/.test(a)?' style="text-align:left;"':/^---*[ \t]*:[ \t]*$/.test(a)?' style="text-align:right;"':/^:[ \t]*---*[ \t]*:$/.test(a)?' style="text-align:center;"':""}function f(a,e){var f="";return a=a.trim(),b.tableHeaderId&&(f=' id="'+a.replace(/ /g,"_").toLowerCase()+'"'),a=d.subParser("spanGamut")(a,b,c),"<th"+f+e+">"+a+"</th>\n"}function g(a,e){var f=d.subParser("spanGamut")(a,b,c);return"<td"+e+">"+f+"</td>\n"}function h(a,b){for(var c="<table>\n<thead>\n<tr>\n",d=a.length,e=0;d>e;++e)c+=a[e];for(c+="</tr>\n</thead>\n<tbody>\n",e=0;e<b.length;++e){c+="<tr>\n";for(var f=0;d>f;++f)c+=b[e][f];c+="</tr>\n"}return c+="</tbody>\n</table>\n"}if(!b.tables)return a;var i=/^[ \t]{0,3}\|?.+\|.+\n[ \t]{0,3}\|?[ \t]*:?[ \t]*(?:-|=){3,}[ \t]*:?[ \t]*\|[ \t]*:?[ \t]*(?:-|=){3,}[^]+?(?:\n\n|~0)/gm;return a=c.converter._dispatch("tables.before",a,b),a=a.replace(i,function(a){var b,c=a.split("\n");for(b=0;b<c.length;++b)/^[ \t]{0,3}\|/.test(c[b])&&(c[b]=c[b].replace(/^[ \t]{0,3}\|/,"")),/\|[ \t]*$/.test(c[b])&&(c[b]=c[b].replace(/\|[ \t]*$/,""));var i=c[0].split("|").map(function(a){return a.trim()}),j=c[1].split("|").map(function(a){return a.trim()}),k=[],l=[],m=[],n=[];for(c.shift(),c.shift(),b=0;b<c.length;++b)""!==c[b].trim()&&k.push(c[b].split("|").map(function(a){return a.trim()}));if(i.length<j.length)return a;for(b=0;b<j.length;++b)m.push(e(j[b]));for(b=0;b<i.length;++b)d.helper.isUndefined(m[b])&&(m[b]=""),l.push(f(i[b],m[b]));for(b=0;b<k.length;++b){for(var o=[],p=0;p<l.length;++p)d.helper.isUndefined(k[b][p]),o.push(g(k[b][p],m[p]));n.push(o)}return h(l,n)}),a=c.converter._dispatch("tables.after",a,b)}),d.subParser("unescapeSpecialChars",function(a){"use strict";return a=a.replace(/~E(\d+)E/g,function(a,b){var c=parseInt(b);return String.fromCharCode(c)})});var j=this;"undefined"!=typeof module&&module.exports?module.exports=d:"function"==typeof define&&define.amd?define(function(){"use strict";return d}):j.showdown=d}.call(this),function(a,b){function c(b){a.extend(!0,qa,b)}function d(c,d,j){function k(a){$?(y(),x(),G(),t(a)):l()}function l(){_=d.theme?"ui":"fc",c.addClass("fc"),d.isRTL&&c.addClass("fc-rtl"),d.theme&&c.addClass("ui-widget"),$=a("<div class='fc-content' style='position:relative'/>").prependTo(c),Y=new e(X,d),(Z=Y.render())&&c.prepend(Z),s(d.defaultView),a(window).resize(A),r()||n()}function n(){setTimeout(function(){!aa.start&&r()&&t()},0)}function o(){a(window).unbind("resize",A),Y.destroy(),$.remove(),c.removeClass("fc fc-rtl ui-widget")}function p(){return 0!==ha.offsetWidth}function r(){return 0!==a("body")[0].offsetWidth}function s(b){if(!aa||b!=aa.name){ka++,I();var c,d=aa;d?((d.beforeHide||O)(),N($,$.height()),d.element.hide()):N($,1),$.css("overflow","hidden"),(aa=ia[b])?aa.element.show():aa=ia[b]=new ta[b](c=da=a("<div class='fc-view fc-view-"+b+"' style='position:absolute'/>").appendTo($),X),d&&Y.deactivateButton(d.name),Y.activateButton(b),t(),$.css("overflow",""),d&&N($,1),c||(aa.afterShow||O)(),ka--}}function t(a){if(p()){ka++,I(),ca===b&&y();var d=!1;!aa.start||a||la<aa.start||la>=aa.end?(aa.render(la,a||0),z(!0),d=!0):aa.sizeDirty?(aa.clearEvents(),z(),d=!0):aa.eventsDirty&&(aa.clearEvents(),d=!0),aa.sizeDirty=!1,aa.eventsDirty=!1,B(d),ba=c.outerWidth(),Y.updateTitle(aa.title),a=new Date,a>=aa.start&&a<aa.end?Y.disableButton("today"):Y.enableButton("today"),ka--,aa.trigger("viewDisplay",ha)}}function w(){x(),p()&&(y(),z(),I(),aa.clearEvents(),aa.renderEvents(ma),aa.sizeDirty=!1)}function x(){a.each(ia,function(a,b){b.sizeDirty=!0})}function y(){ca=d.contentHeight?d.contentHeight:d.height?d.height-(Z?Z.height():0)-J($):Math.round($.width()/Math.max(d.aspectRatio,.5))}function z(a){ka++,aa.setHeight(ca,a),da&&(da.css("position","relative"),da=null),aa.setWidth($.width(),a),ka--}function A(){if(!ka)if(aa.start){var a=++ja;setTimeout(function(){a==ja&&!ka&&p()&&ba!=(ba=c.outerWidth())&&(ka++,w(),aa.trigger("windowResize",ha),ka--)},200)}else n()}function B(a){!d.lazyFetching||fa(aa.visStart,aa.visEnd)?C():a&&F()}function C(){ga(aa.visStart,aa.visEnd)}function D(a){ma=a,F()}function E(a){F(a)}function F(a){G(),p()&&(aa.clearEvents(),aa.renderEvents(ma,a),aa.eventsDirty=!1)}function G(){a.each(ia,function(a,b){b.eventsDirty=!0})}function H(a,c,d){aa.select(a,c,d===b?!0:d)}function I(){aa&&aa.unselect()}function K(){t(-1)}function L(){t(1)}function M(){g(la,-1),t()}function P(){g(la,1),t()}function Q(){la=new Date,t()}function R(a,b,c){a instanceof Date?la=m(a):q(la,a,b,c),t()}function S(a,c,d){a!==b&&g(la,a),c!==b&&h(la,c),d!==b&&i(la,d),t()}function T(){return m(la)}function U(){return aa}function V(a,c){return c===b?d[a]:void(("height"==a||"contentHeight"==a||"aspectRatio"==a)&&(d[a]=c,w()))}function W(a,b){return d[a]?d[a].apply(b||ha,Array.prototype.slice.call(arguments,2)):void 0}var X=this;X.options=d,X.render=k,X.destroy=o,X.refetchEvents=C,X.reportEvents=D,X.reportEventChange=E,X.rerenderEvents=F,X.changeView=s,X.select=H,X.unselect=I,X.prev=K,X.next=L,X.prevYear=M,X.nextYear=P,X.today=Q,X.gotoDate=R,X.incrementDate=S,X.formatDate=function(a,b){return u(a,b,d)},X.formatDates=function(a,b,c){return v(a,b,c,d)},X.getDate=T,X.getView=U,X.option=V,X.trigger=W,f.call(X,d,j);var Y,Z,$,_,aa,ba,ca,da,ea,fa=X.isFetchNeeded,ga=X.fetchEvents,ha=c[0],ia={},ja=0,ka=0,la=new Date,ma=[];q(la,d.year,d.month,d.date),d.droppable&&a(document).bind("dragstart",function(b,c){var e=b.target,f=a(e);if(!f.parents(".fc").length){var g=d.dropAccept;(a.isFunction(g)?g.call(e,f):f.is(g))&&(ea=e,aa.dragStart(ea,b,c))}}).bind("dragstop",function(a,b){ea&&(aa.dragStop(ea,a,b),ea=null)})}function e(b,c){function d(){return m=c.theme?"ui":"fc",c.header?n=a("<table class='fc-header' style='width:100%'/>").append(a("<tr/>").append(f("left")).append(f("center")).append(f("right"))):void 0}function e(){n.remove()}function f(d){var e=a("<td class='fc-header-"+d+"'/>");return(d=c.header[d])&&a.each(d.split(" "),function(d){d>0&&e.append("<span class='fc-header-space'/>");var f;a.each(this.split(","),function(d,g){if("title"==g)e.append("<span class='fc-header-title'><h2>&nbsp;</h2></span>"),f&&f.addClass(m+"-corner-right"),f=null;else{var h;if(b[g]?h=b[g]:ta[g]&&(h=function(){j.removeClass(m+"-state-hover"),b.changeView(g)}),h){d=c.theme?S(c.buttonIcons,g):null;var i=S(c.buttonText,g),j=a("<span class='fc-button fc-button-"+g+" "+m+"-state-default'><span class='fc-button-inner'><span class='fc-button-content'>"+(d?"<span class='fc-icon-wrap'><span class='ui-icon ui-icon-"+d+"'/></span>":i)+"</span><span class='fc-button-effect'><span></span></span></span></span>");j&&(j.click(function(){j.hasClass(m+"-state-disabled")||h()}).mousedown(function(){j.not("."+m+"-state-active").not("."+m+"-state-disabled").addClass(m+"-state-down")}).mouseup(function(){j.removeClass(m+"-state-down")}).hover(function(){j.not("."+m+"-state-active").not("."+m+"-state-disabled").addClass(m+"-state-hover")},function(){j.removeClass(m+"-state-hover").removeClass(m+"-state-down")}).appendTo(e),f||j.addClass(m+"-corner-left"),f=j)}}}),f&&f.addClass(m+"-corner-right")}),e}function g(a){n.find("h2").html(a)}function h(a){n.find("span.fc-button-"+a).addClass(m+"-state-active")}function i(a){n.find("span.fc-button-"+a).removeClass(m+"-state-active")}function j(a){n.find("span.fc-button-"+a).addClass(m+"-state-disabled")}function k(a){n.find("span.fc-button-"+a).removeClass(m+"-state-disabled")}var l=this;l.render=d,l.destroy=e,l.updateTitle=g,l.activateButton=h,l.deactivateButton=i,l.disableButton=j,l.enableButton=k;var m,n=a([])}function f(c,d){function e(a,b){return!y||y>a||b>z}function f(a,b){y=a,z=b,I=[],a=++F,G=b=E.length;for(var c=0;b>c;c++)g(E[c],a)}function g(a,b){h(a,function(c){if(b==F){if(c){for(var d=0;d<c.length;d++)c[d].source=a,t(c[d]);I=I.concat(c)}G--,G||C(I)}})}function h(b,d){var e,f,g=sa.sourceFetchers;for(e=0;e<g.length;e++){if(f=g[e](b,y,z,d),f===!0)return;if("object"==typeof f)return void h(f,d)}if(e=b.events)a.isFunction(e)?(q(),e(m(y),m(z),function(a){d(a),s()})):a.isArray(e)?d(e):d();else if(b.url){var i=b.success,j=b.error,k=b.complete;e=a.extend({},b.data||{}),g=$(b.startParam,c.startParam),f=$(b.endParam,c.endParam),g&&(e[g]=Math.round(+y/1e3)),f&&(e[f]=Math.round(+z/1e3)),q(),a.ajax(a.extend({},ua,b,{data:e,success:function(b){b=b||[];var c=Z(i,this,arguments);a.isArray(c)&&(b=c),d(b)},error:function(){Z(j,this,arguments),d()},complete:function(){Z(k,this,arguments),s()}}))}else d()}function i(a){(a=j(a))&&(G++,g(a,F))}function j(b){return a.isFunction(b)||a.isArray(b)?b={events:b}:"string"==typeof b&&(b={url:b}),"object"==typeof b?(u(b),E.push(b),b):void 0}function k(b){E=a.grep(E,function(a){return!v(a,b)}),I=a.grep(I,function(a){return!v(a.source,b)}),C(I)}function l(a){var b,c,d=I.length,e=B().defaultEventEnd,f=a.start-a._start,g=a.end?a.end-(a._end||e(a)):0;for(b=0;d>b;b++)c=I[b],c._id==a._id&&c!=a&&(c.start=new Date(+c.start+f),c.end=a.end?c.end?new Date(+c.end+g):new Date(+e(c)+g):null,c.title=a.title,c.url=a.url,c.allDay=a.allDay,c.className=a.className,c.editable=a.editable,c.color=a.color,c.backgroudColor=a.backgroudColor,c.borderColor=a.borderColor,c.textColor=a.textColor,t(c));t(a),C(I)}function n(a,b){t(a),a.source||(b&&(D.events.push(a),a.source=D),I.push(a)),C(I)}function o(b){if(b){if(!a.isFunction(b)){var c=b+"";b=function(a){return a._id==c}}for(I=a.grep(I,b,!0),d=0;d<E.length;d++)a.isArray(E[d].events)&&(E[d].events=a.grep(E[d].events,b,!0))}else{I=[];for(var d=0;d<E.length;d++)a.isArray(E[d].events)&&(E[d].events=[])}C(I)}function p(b){return a.isFunction(b)?a.grep(I,b):b?(b+="",a.grep(I,function(a){return a._id==b})):I}function q(){H++||A("loading",null,!0)}function s(){--H||A("loading",null,!1)}function t(a){var d=a.source||{},e=$(d.ignoreTimezone,c.ignoreTimezone);a._id=a._id||(a.id===b?"_fc"+va++:a.id+""),a.date&&(a.start||(a.start=a.date),delete a.date),a._start=m(a.start=r(a.start,e)),a.end=r(a.end,e),a.end&&a.end<=a.start&&(a.end=null),a._end=a.end?m(a.end):null,a.allDay===b&&(a.allDay=$(d.allDayDefault,c.allDayDefault)),a.className?"string"==typeof a.className&&(a.className=a.className.split(/\s+/)):a.className=[]}function u(a){a.className?"string"==typeof a.className&&(a.className=a.className.split(/\s+/)):a.className=[];for(var b=sa.sourceNormalizers,c=0;c<b.length;c++)b[c](a)}function v(a,b){return a&&b&&w(a)==w(b)}function w(a){return("object"==typeof a?a.events||a.url:"")||a}var x=this;x.isFetchNeeded=e,x.fetchEvents=f,x.addEventSource=i,x.removeEventSource=k,x.updateEvent=l,x.renderEvent=n,x.removeEvents=o,x.clientEvents=p,x.normalizeEvent=t;var y,z,A=x.trigger,B=x.getView,C=x.reportEvents,D={events:[]},E=[D],F=0,G=0,H=0,I=[];for(x=0;x<d.length;x++)j(d[x])}function g(a,b,c){return a.setFullYear(a.getFullYear()+b),c||l(a),a}function h(a,b,c){if(+a){b=a.getMonth()+b;var d=m(a);for(d.setDate(1),d.setMonth(b),a.setMonth(b),c||l(a);a.getMonth()!=d.getMonth();)a.setDate(a.getDate()+(d>a?1:-1))}return a}function i(a,b,c){if(+a){b=a.getDate()+b;var d=m(a);d.setHours(9),d.setDate(b),a.setDate(b),c||l(a),j(a,d)}return a}function j(a,b){if(+a)for(;a.getDate()!=b.getDate();)a.setTime(+a+(b>a?1:-1)*ya)}function k(a,b){return a.setMinutes(a.getMinutes()+b),a}function l(a){return a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0),a}function m(a,b){return b?l(new Date(+a)):new Date(+a)}function n(){var a,b=0;do a=new Date(1970,b++,1);while(a.getHours());return a}function o(a,b,c){for(b=b||1;!a.getDay()||c&&1==a.getDay()||!c&&6==a.getDay();)i(a,b);return a}function p(a,b){return Math.round((m(a,!0)-m(b,!0))/xa)}function q(a,c,d,e){c!==b&&c!=a.getFullYear()&&(a.setDate(1),a.setMonth(0),a.setFullYear(c)),d!==b&&d!=a.getMonth()&&(a.setDate(1),a.setMonth(d)),e!==b&&a.setDate(e)}function r(a,c){return"object"==typeof a?a:"number"==typeof a?new Date(1e3*a):"string"==typeof a?a.match(/^\d+(\.\d+)?$/)?new Date(1e3*parseFloat(a)):(c===b&&(c=!0),s(a,c)||(a?new Date(a):null)):null}function s(a,b){if(a=a.match(/^([0-9]{4})(-([0-9]{2})(-([0-9]{2})([T ]([0-9]{2}):([0-9]{2})(:([0-9]{2})(\.([0-9]+))?)?(Z|(([-+])([0-9]{2})(:?([0-9]{2}))?))?)?)?)?$/),!a)return null;var c=new Date(a[1],0,1);return b||!a[13]?(b=new Date(a[1],0,1,9,0),a[3]&&(c.setMonth(a[3]-1),b.setMonth(a[3]-1)),a[5]&&(c.setDate(a[5]),b.setDate(a[5])),j(c,b),a[7]&&c.setHours(a[7]),a[8]&&c.setMinutes(a[8]),a[10]&&c.setSeconds(a[10]),a[12]&&c.setMilliseconds(1e3*Number("0."+a[12])),j(c,b)):(c.setUTCFullYear(a[1],a[3]?a[3]-1:0,a[5]||1),c.setUTCHours(a[7]||0,a[8]||0,a[10]||0,a[12]?1e3*Number("0."+a[12]):0),a[14]&&(b=60*Number(a[16])+(a[18]?Number(a[18]):0),b*="-"==a[15]?1:-1,c=new Date(+c+60*b*1e3))),c}function t(a){if("number"==typeof a)return 60*a;if("object"==typeof a)return 60*a.getHours()+a.getMinutes();if(a=a.match(/(\d+)(?::(\d+))?\s*(\w+)?/)){var b=parseInt(a[1],10);return a[3]&&(b%=12,"p"==a[3].toLowerCase().charAt(0)&&(b+=12)),60*b+(a[2]?parseInt(a[2],10):0)}}function u(a,b,c){return v(a,null,b,c)}function v(a,b,c,d){d=d||qa;var e,f,g,h,i=a,j=b,k=c.length,l="";for(e=0;k>e;e++)if(f=c.charAt(e),"'"==f){for(g=e+1;k>g;g++)if("'"==c.charAt(g)){i&&(l+=g==e+1?"'":c.substring(e+1,g),e=g);break}}else if("("==f){for(g=e+1;k>g;g++)if(")"==c.charAt(g)){e=u(i,c.substring(e+1,g),d),parseInt(e.replace(/\D/,""),10)&&(l+=e),e=g;break}}else if("["==f){for(g=e+1;k>g;g++)if("]"==c.charAt(g)){f=c.substring(e+1,g),e=u(i,f,d),e!=u(j,f,d)&&(l+=e),e=g;break}}else if("{"==f)i=b,j=a;else if("}"==f)i=a,j=b;else{for(g=k;g>e;g--)if(h=Aa[c.substring(e,g)]){i&&(l+=h(i,d)),e=g-1;break}g==e&&i&&(l+=f)}return l}function w(a){return a.end?x(a.end,a.allDay):i(m(a.start),1)}function x(a,b){return a=m(a),b||a.getHours()||a.getMinutes()?i(a,1):l(a)}function y(a,b){return 100*(b.msLength-a.msLength)+(a.event.start-b.event.start)}function z(a,b){return a.end>b.start&&a.start<b.end}function A(a,b,c,d){var e,f,g,h,i,j,k=[],l=a.length;for(e=0;l>e;e++)f=a[e],g=f.start,h=b[e],h>c&&d>g&&(c>g?(g=m(c),i=!1):(g=g,i=!0),h>d?(h=m(d),j=!1):(h=h,j=!0),k.push({event:f,start:g,end:h,isStart:i,isEnd:j,msLength:h-g}));return k.sort(y)}function B(a){var b,c,d,e,f,g=[],h=a.length;for(b=0;h>b;b++){for(c=a[b],d=0;;){if(e=!1,g[d])for(f=0;f<g[d].length;f++)if(z(g[d][f],c)){e=!0;break}if(!e)break;d++}g[d]?g[d].push(c):g[d]=[c]}return g}function C(c,d,e){c.unbind("mouseover").mouseover(function(c){for(var f,g=c.target;g!=this;)f=g,g=g.parentNode;(g=f._fci)!==b&&(f._fci=b,f=d[g],e(f.event,f.element,f),a(c.target).trigger(c)),c.stopPropagation()})}function D(b,c,d){for(var e,f=0;f<b.length;f++)e=a(b[f]),e.width(Math.max(0,c-F(e,d)))}function E(b,c,d){for(var e,f=0;f<b.length;f++)e=a(b[f]),e.height(Math.max(0,c-J(e,d)))}function F(a,b){return G(a)+I(a)+(b?H(a):0)}function G(b){return(parseFloat(a.curCSS(b[0],"paddingLeft",!0))||0)+(parseFloat(a.curCSS(b[0],"paddingRight",!0))||0)}function H(b){return(parseFloat(a.curCSS(b[0],"marginLeft",!0))||0)+(parseFloat(a.curCSS(b[0],"marginRight",!0))||0)}function I(b){return(parseFloat(a.curCSS(b[0],"borderLeftWidth",!0))||0)+(parseFloat(a.curCSS(b[0],"borderRightWidth",!0))||0)}function J(a,b){return K(a)+M(a)+(b?L(a):0)}function K(b){return(parseFloat(a.curCSS(b[0],"paddingTop",!0))||0)+(parseFloat(a.curCSS(b[0],"paddingBottom",!0))||0)}function L(b){return(parseFloat(a.curCSS(b[0],"marginTop",!0))||0)+(parseFloat(a.curCSS(b[0],"marginBottom",!0))||0)}function M(b){return(parseFloat(a.curCSS(b[0],"borderTopWidth",!0))||0)+(parseFloat(a.curCSS(b[0],"borderBottomWidth",!0))||0)}function N(a,b){b="number"==typeof b?b+"px":b,a.each(function(a,c){c.style.cssText+=";min-height:"+b+";_height:"+b})}function O(){}function P(a,b){return a-b}function Q(a){return Math.max.apply(Math,a)}function R(a){return(10>a?"0":"")+a}function S(a,c){if(a[c]!==b)return a[c];c=c.split(/(?=[A-Z])/);for(var d,e=c.length-1;e>=0;e--)if(d=a[c[e].toLowerCase()],d!==b)return d;return a[""]}function T(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function U(a){return a.id+"/"+a.className+"/"+a.style.cssText.replace(/(^|;)\s*(top|left|width|height)\s*:[^;]*/gi,"")}function V(a){a.attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",function(){return!1})}function W(a){a.children().removeClass("fc-first fc-last").filter(":first-child").addClass("fc-first").end().filter(":last-child").addClass("fc-last")}function X(a,b){a.each(function(a,c){c.className=c.className.replace(/^fc-\w*/,"fc-"+wa[b.getDay()])})}function Y(a,b){var c=a.source||{},d=a.color,e=c.color,f=b("eventColor"),g=a.backgroundColor||d||c.backgroundColor||e||b("eventBackgroundColor")||f;return d=a.borderColor||d||c.borderColor||e||b("eventBorderColor")||f,a=a.textColor||c.textColor||b("eventTextColor"),b=[],g&&b.push("background-color:"+g),d&&b.push("border-color:"+d),a&&b.push("color:"+a),b.join(";")}function Z(b,c,d){if(a.isFunction(b)&&(b=[b]),b){var e,f;for(e=0;e<b.length;e++)f=b[e].apply(c,d)||f;return f}}function $(){for(var a=0;a<arguments.length;a++)if(arguments[a]!==b)return arguments[a]}function _(a,b){function c(a,b){b&&(h(a,b),a.setDate(1)),a=m(a,!0),a.setDate(1),b=h(m(a),1);var c=m(a),j=m(b),k=e("firstDay"),l=e("weekends")?0:1;l&&(o(c),o(j,-1,!0)),i(c,-((c.getDay()-Math.max(k,l)+7)%7)),i(j,(7-j.getDay()+Math.max(k,l))%7),k=Math.round((j-c)/(7*xa)),"fixed"==e("weekMode")&&(i(j,7*(6-k)),k=6),d.title=g(a,e("titleFormat")),d.start=a,d.end=b,d.visStart=c,d.visEnd=j,f(6,k,l?5:7,!0)}var d=this;d.render=c,ca.call(d,a,b,"month");var e=d.opt,f=d.renderBasic,g=b.formatDate}function aa(a,b){function c(a,b){b&&i(a,7*b),a=i(m(a),-((a.getDay()-e("firstDay")+7)%7)),b=i(m(a),7);var c=m(a),h=m(b),j=e("weekends");j||(o(c),o(h,-1,!0)),d.title=g(c,i(m(h),-1),e("titleFormat")),d.start=a,d.end=b,d.visStart=c,d.visEnd=h,f(1,1,j?7:5,!1)}var d=this;d.render=c,ca.call(d,a,b,"basicWeek");var e=d.opt,f=d.renderBasic,g=b.formatDates}function ba(a,b){function c(a,b){b&&(i(a,b),e("weekends")||o(a,0>b?-1:1)),d.title=g(a,e("titleFormat")),d.start=d.visStart=m(a,!0),d.end=d.visEnd=i(m(d.start),1),f(1,1,1,!1)}var d=this;d.render=c,ca.call(d,a,b,"basicDay");var e=d.opt,f=d.renderBasic,g=b.formatDate}function ca(b,c,d){function e(a,b,c,d){$=b,_=c,f(),(b=!O)?g(a,d):ta(),h(b)}function f(){(ea=ra("isRTL"))?(fa=-1,ga=_-1):(fa=1,ga=0),ha=ra("firstDay"),ia=ra("weekends")?0:1,ka=ra("theme")?"ui":"fc",qa=ra("columnFormat")}function g(c,d){var e,f,g=ka+"-widget-header",h=ka+"-widget-content";for(e="<table class='fc-border-separate' style='width:100%' cellspacing='0'><thead><tr>",f=0;_>f;f++)e+="<th class='fc- "+g+"'/>";for(e+="</tr></thead><tbody>",f=0;c>f;f++){for(e+="<tr class='fc-week"+f+"'>",g=0;_>g;g++)e+="<td class='fc- "+h+" fc-day"+(f*_+g)+"'><div>"+(d?"<div class='fc-day-number'/>":"")+"<div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>";e+="</tr>"}e+="</tbody></table>",c=a(e).appendTo(b),L=c.find("thead"),M=L.find("th"),O=c.find("tbody"),P=O.find("tr"),Q=O.find("td"),R=Q.filter(":first-child"),S=P.eq(0).find("div.fc-day-content div"),W(L.add(L.find("tr"))),W(P),P.eq(0).addClass("fc-first"),n(Q),T=a("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(b)}function h(b){var c,d,e,f=b||1==$,g=K.start.getMonth(),h=l(new Date);f&&M.each(function(b,e){c=a(e),d=F(b),c.html(xa(d,qa)),X(c,d)}),Q.each(function(b,e){c=a(e),d=F(b),d.getMonth()==g?c.removeClass("fc-other-month"):c.addClass("fc-other-month"),+d==+h?c.addClass(ka+"-state-highlight fc-today"):c.removeClass(ka+"-state-highlight fc-today"),c.find("div.fc-day-number").text(d.getDate()),f&&X(c,d)}),P.each(function(b,c){e=a(c),$>b?(e.show(),b==$-1?e.addClass("fc-last"):e.removeClass("fc-last")):e.hide()})}function j(b){Y=b,b=Y-L.height();var c,d,e;"variable"==ra("weekMode")?c=d=Math.floor(b/(1==$?2:6)):(c=Math.floor(b/$),d=b-c*($-1)),R.each(function(b,f){$>b&&(e=a(f),N(e.find("> div"),(b==$-1?d:c)-J(e)))})}function k(a){U=a,ca.clear(),Z=Math.floor(U/_),D(M.slice(0,-1),Z)}function n(a){a.click(o).mousedown(wa)}function o(a){if(!ra("selectable")){var b=parseInt(this.className.match(/fc\-day(\d+)/)[1]);b=F(b),sa("dayClick",this,b,!0,a)}}function q(a,b,c){c&&aa.build(),c=m(K.visStart);for(var d=i(m(c),_),e=0;$>e;e++){var f=new Date(Math.max(c,a)),g=new Date(Math.min(d,b));if(g>f){var h;ea?(h=p(g,c)*fa+ga+1,f=p(f,c)*fa+ga+1):(h=p(f,c),f=p(g,c)),n(r(e,h,e,f-1))}i(c,7),i(d,7)}}function r(a,c,d,e){return a=aa.rect(a,c,d,e,b),ua(a,b)}function s(a){return m(a)}function t(a,b){q(a,i(m(b),1),!0)}function u(){va()}function v(a,b,c){var d=B(a);sa("dayClick",Q[d.row*_+d.col],a,b,c)}function w(a,b){ba.start(function(a){va(),a&&r(a.row,a.col,a.row,a.col)},b)}function x(a,b,c){var d=ba.stop();va(),d&&(d=C(d),sa("drop",a,d,!0,b,c))}function y(a){return m(a.start)}function z(a){return ca.left(a)}function A(a){return ca.right(a)}function B(a){return{row:Math.floor(p(a,K.visStart)/7),col:G(a.getDay())}}function C(a){return E(a.row,a.col)}function E(a,b){return i(m(K.visStart),7*a+b*fa+ga)}function F(a){return E(Math.floor(a/_),a%_)}function G(a){return(a-Math.max(ha,ia)+_)%_*fa+ga}function H(a){return P.eq(a)}function I(){return{left:0,right:U}}var K=this;K.renderBasic=e,K.setHeight=j,K.setWidth=k,K.renderDayOverlay=q,K.defaultSelectionEnd=s,K.renderSelection=t,K.clearSelection=u,K.reportDayClick=v,K.dragStart=w,K.dragStop=x,K.defaultEventEnd=y,K.getHoverListener=function(){return ba},K.colContentLeft=z,K.colContentRight=A,K.dayOfWeekCol=G,K.dateCell=B,K.cellDate=C,K.cellIsAllDay=function(){return!0},K.allDayRow=H,K.allDayBounds=I,K.getRowCnt=function(){return $},K.getColCnt=function(){return _},K.getColWidth=function(){return Z},K.getDaySegmentContainer=function(){return T},ja.call(K,b,c,d),ma.call(K),la.call(K),da.call(K);var L,M,O,P,Q,R,S,T,U,Y,Z,$,_,aa,ba,ca,ea,fa,ga,ha,ia,ka,qa,ra=K.opt,sa=K.trigger,ta=K.clearEvents,ua=K.renderOverlay,va=K.clearOverlays,wa=K.daySelectionMousedown,xa=c.formatDate;V(b.addClass("fc-grid")),aa=new na(function(b,c){var d,e,f;M.each(function(b,g){d=a(g),e=d.offset().left,b&&(f[1]=e),f=[e],c[b]=f}),f[1]=e+d.outerWidth(),P.each(function(c,g){$>c&&(d=a(g),e=d.offset().top,c&&(f[1]=e),f=[e],b[c]=f)}),f[1]=e+d.outerHeight()}),ba=new oa(aa),ca=new pa(function(a){return S.eq(a)})}function da(){function b(a,b){n(a),C(d(a),b)}function c(){o(),t().empty()}function d(b){var c=y(),d=z(),e=m(g.visStart);d=i(m(e),d);var f,h,j,k,l,n,o=a.map(b,w),p=[];for(f=0;c>f;f++){for(h=B(A(b,o,e,d)),j=0;j<h.length;j++)for(k=h[j],l=0;l<k.length;l++)n=k[l],n.row=f,n.level=j,p.push(n);i(e,7),i(d,7)}return p}function e(a,b,c){k(a)&&f(a,b),c.isEnd&&l(a)&&D(a,b,c),p(a,b)}function f(a,b){var c,d=u();b.draggable({zIndex:9,delay:50,opacity:h("dragOpacity"),revertDuration:h("dragRevertDuration"),start:function(e,f){j("eventDragStart",b,a,e,f),r(a,b),d.start(function(d,e,f,g){b.draggable("option","revert",!d||!f&&!g),x(),d?(c=7*f+g*(h("isRTL")?-1:1),v(i(m(a.start),c),i(w(a),c))):c=0},e,"drag")},stop:function(e,f){d.stop(),x(),j("eventDragStop",b,a,e,f),c?s(this,a,c,0,a.allDay,e,f):(b.css("filter",""),q(a,b))}})}var g=this;g.renderEvents=b,g.compileDaySegs=d,g.clearEvents=c,g.bindDaySeg=e,ka.call(g);var h=g.opt,j=g.trigger,k=g.isEventDraggable,l=g.isEventResizable,n=g.reportEvents,o=g.reportEventClear,p=g.eventElementHandlers,q=g.showEvents,r=g.hideEvents,s=g.eventDrop,t=g.getDaySegmentContainer,u=g.getHoverListener,v=g.renderDayOverlay,x=g.clearOverlays,y=g.getRowCnt,z=g.getColCnt,C=g.renderDaySegs,D=g.resizableDayEvent}function ea(a,b){function c(a,b){b&&i(a,7*b),a=i(m(a),-((a.getDay()-e("firstDay")+7)%7)),b=i(m(a),7);var c=m(a),h=m(b),j=e("weekends");j||(o(c),o(h,-1,!0)),d.title=g(c,i(m(h),-1),e("titleFormat")),d.start=a,d.end=b,d.visStart=c,d.visEnd=h,f(j?7:5)}var d=this;d.render=c,ga.call(d,a,b,"agendaWeek");var e=d.opt,f=d.renderAgenda,g=b.formatDates}function fa(a,b){function c(a,b){b&&(i(a,b),e("weekends")||o(a,0>b?-1:1)),b=m(a,!0);var c=i(m(b),1);d.title=g(a,e("titleFormat")),
d.start=d.visStart=b,d.end=d.visEnd=c,f(1)}var d=this;d.render=c,ga.call(d,a,b,"agendaDay");var e=d.opt,f=d.renderAgenda,g=b.formatDate}function ga(c,d,e){function f(a){Ia=a,g(),aa?Ya():h(),j()}function g(){Na=Wa("theme")?"ui":"fc",Pa=Wa("weekends")?0:1,Oa=Wa("firstDay"),(Qa=Wa("isRTL"))?(Ra=-1,Sa=Ia-1):(Ra=1,Sa=0),Ta=t(Wa("minTime")),Ua=t(Wa("maxTime")),Va=Wa("columnFormat")}function h(){var b,d,e,f,g,h=Na+"-widget-header",i=Na+"-widget-content",j=Wa("slotMinutes")%15==0;for(b="<table style='width:100%' class='fc-agenda-days fc-border-separate' cellspacing='0'><thead><tr><th class='fc-agenda-axis "+h+"'>&nbsp;</th>",d=0;Ia>d;d++)b+="<th class='fc- fc-col"+d+" "+h+"'/>";for(b+="<th class='fc-agenda-gutter "+h+"'>&nbsp;</th></tr></thead><tbody><tr><th class='fc-agenda-axis "+h+"'>&nbsp;</th>",d=0;Ia>d;d++)b+="<td class='fc- fc-col"+d+" "+i+"'><div><div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>";for(b+="<td class='fc-agenda-gutter "+i+"'>&nbsp;</td></tr></tbody></table>",aa=a(b).appendTo(c),ba=aa.find("thead"),ca=ba.find("th").slice(1,-1),da=aa.find("tbody"),ea=da.find("td").slice(0,-1),fa=ea.find("div.fc-day-content div"),ga=ea.eq(0),ia=ga.find("> div"),W(ba.add(ba.find("tr"))),W(da.add(da.find("tr"))),ya=ba.find("th:first"),za=aa.find(".fc-agenda-gutter"),ka=a("<div style='position:absolute;z-index:2;left:0;width:100%'/>").appendTo(c),Wa("allDaySlot")?(qa=a("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(ka),b="<table style='width:100%' class='fc-agenda-allday' cellspacing='0'><tr><th class='"+h+" fc-agenda-axis'>"+Wa("allDayText")+"</th><td><div class='fc-day-content'><div style='position:relative'/></div></td><th class='"+h+" fc-agenda-gutter'>&nbsp;</th></tr></table>",ra=a(b).appendTo(ka),sa=ra.find("tr"),v(sa.find("td")),ya=ya.add(ra.find("th:first")),za=za.add(ra.find("th.fc-agenda-gutter")),ka.append("<div class='fc-agenda-divider "+h+"'><div class='fc-agenda-divider-inner'/></div>")):qa=a([]),ta=a("<div style='position:absolute;width:100%;overflow-x:hidden;overflow-y:auto'/>").appendTo(ka),ua=a("<div style='position:relative;width:100%;overflow:hidden'/>").appendTo(ta),va=a("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(ua),b="<table class='fc-agenda-slots' style='width:100%' cellspacing='0'><tbody>",e=n(),f=k(m(e),Ua),k(e,Ta),d=Ja=0;f>e;d++)g=e.getMinutes(),b+="<tr class='fc-slot"+d+" "+(g?"fc-minor":"")+"'><th class='fc-agenda-axis "+h+"'>"+(j&&g?"&nbsp;":db(e,Wa("axisFormat")))+"</th><td class='"+i+"'><div style='position:relative'>&nbsp;</div></td></tr>",k(e,Wa("slotMinutes")),Ja++;b+="</tbody></table>",wa=a(b).appendTo(ua),xa=wa.find("div:first"),w(wa.find("td")),ya=ya.add(wa.find("th:first"))}function j(){var a,b,c,d,e=l(new Date);for(a=0;Ia>a;a++)d=H(a),b=ca.eq(a),b.html(db(d,Va)),c=ea.eq(a),+d==+e?c.addClass(Na+"-state-highlight fc-today"):c.removeClass(Na+"-state-highlight fc-today"),X(b.add(c),d)}function o(a,c){a===b&&(a=Ca),Ca=a,eb={};var d=da.position().top,e=ta.position().top;a=Math.min(a-d,wa.height()+e+1),ia.height(a-J(ga)),ka.css("top",d),ta.height(a-e-1),Ga=xa.height()+1,c&&r()}function q(b){Ba=b,Ma.clear(),Da=0,D(ya.width("").each(function(b,c){Da=Math.max(Da,a(c).outerWidth())}),Da),b=ta[0].clientWidth,(Fa=ta.width()-b)?(D(za,Fa),za.show().prev().removeClass("fc-last")):za.hide().prev().addClass("fc-last"),Ea=Math.floor((b-Da)/Ia),D(ca.slice(0,-1),Ea)}function r(){function a(){ta.scrollTop(d)}var b=n(),c=m(b);c.setHours(Wa("firstHour"));var d=L(b,c)+1;a(),setTimeout(a,0)}function s(){Ha=ta.scrollTop()}function u(){ta.scrollTop(Ha)}function v(a){a.click(x).mousedown(bb)}function w(a){a.click(x).mousedown(U)}function x(a){if(!Wa("selectable")){var b=Math.min(Ia-1,Math.floor((a.pageX-aa.offset().left-Da)/Ea)),c=H(b),d=this.parentNode.className.match(/fc-slot(\d+)/);if(d){d=parseInt(d[1])*Wa("slotMinutes");var e=Math.floor(d/60);c.setHours(e),c.setMinutes(d%60+Ta),Xa("dayClick",ea[b],c,!1,a)}else Xa("dayClick",ea[b],c,!0,a)}}function y(a,b,c){c&&Ka.build();var d=m(_.visStart);Qa?(c=p(b,d)*Ra+Sa+1,a=p(a,d)*Ra+Sa+1):(c=p(a,d),a=p(b,d)),c=Math.max(0,c),a=Math.min(Ia,a),a>c&&v(z(0,c,0,a-1))}function z(a,b,c,d){return a=Ka.rect(a,b,c,d,ka),Za(a,ka)}function A(a,b){for(var c=m(_.visStart),d=i(m(c),1),e=0;Ia>e;e++){var f=new Date(Math.max(c,a)),g=new Date(Math.min(d,b));if(g>f){var h=e*Ra+Sa;h=Ka.rect(0,h,0,h,ua),f=L(c,f),g=L(c,g),h.top=f,h.height=g-f,w(Za(h,ua))}i(c,1),i(d,1)}}function B(a){return Ma.left(a)}function C(a){return Ma.right(a)}function F(a){return{row:Math.floor(p(a,_.visStart)/7),col:K(a.getDay())}}function G(a){var b=H(a.col);return a=a.row,Wa("allDaySlot")&&a--,a>=0&&k(b,Ta+a*Wa("slotMinutes")),b}function H(a){return i(m(_.visStart),a*Ra+Sa)}function I(a){return Wa("allDaySlot")&&!a.row}function K(a){return(a-Math.max(Oa,Pa)+Ia)%Ia*Ra+Sa}function L(a,c){if(a=m(a,!0),c<k(m(a),Ta))return 0;if(c>=k(m(a),Ua))return wa.height();a=Wa("slotMinutes"),c=60*c.getHours()+c.getMinutes()-Ta;var d=Math.floor(c/a),e=eb[d];return e===b&&(e=eb[d]=wa.find("tr:eq("+d+") td div")[0].offsetTop),Math.max(0,Math.round(e-1+Ga*(c%a/a)))}function M(){return{left:Da,right:Ba-Fa}}function N(){return sa}function O(a){var b=m(a.start);return a.allDay?b:k(b,Wa("defaultEventMinutes"))}function Q(a,b){return b?m(a):k(m(a),Wa("slotMinutes"))}function R(a,b,c){c?Wa("allDaySlot")&&y(a,i(m(b),1),!0):S(a,b)}function S(b,c){var d=Wa("selectHelper");if(Ka.build(),d){var e=p(b,_.visStart)*Ra+Sa;if(e>=0&&Ia>e){e=Ka.rect(0,e,0,e,ua);var f=L(b,b),g=L(b,c);g>f&&(e.top=f,e.height=g-f,e.left+=2,e.width-=5,a.isFunction(d)?(b=d(b,c))&&(e.position="absolute",e.zIndex=8,Aa=a(b).css(e).appendTo(ua)):(e.isStart=!0,e.isEnd=!0,Aa=a(cb({title:"",start:b,end:c,className:["fc-select-helper"],editable:!1},e)),Aa.css("opacity",Wa("dragOpacity"))),Aa&&(w(Aa),ua.append(Aa),D(Aa,e.width,!0),E(Aa,e.height,!0)))}}else A(b,c)}function T(){$a(),Aa&&(Aa.remove(),Aa=null)}function U(b){if(1==b.which&&Wa("selectable")){ab(b);var c;La.start(function(a,b){T(),a&&a.col==b.col&&!I(a)?(b=G(b),a=G(a),c=[b,k(m(b),Wa("slotMinutes")),a,k(m(a),Wa("slotMinutes"))].sort(P),S(c[0],c[3])):c=null},b),a(document).one("mouseup",function(a){La.stop(),c&&(+c[0]==+c[1]&&Y(c[0],!1,a),_a(c[0],c[3],!1,a))})}}function Y(a,b,c){Xa("dayClick",ea[K(a.getDay())],a,b,c)}function Z(a,b){La.start(function(a){if($a(),a)if(I(a))z(a.row,a.col,a.row,a.col);else{a=G(a);var b=k(m(a),Wa("defaultEventMinutes"));A(a,b)}},b)}function $(a,b,c){var d=La.stop();$a(),d&&Xa("drop",a,G(d),I(d),b,c)}var _=this;_.renderAgenda=f,_.setWidth=q,_.setHeight=o,_.beforeHide=s,_.afterShow=u,_.defaultEventEnd=O,_.timePosition=L,_.dayOfWeekCol=K,_.dateCell=F,_.cellDate=G,_.cellIsAllDay=I,_.allDayRow=N,_.allDayBounds=M,_.getHoverListener=function(){return La},_.colContentLeft=B,_.colContentRight=C,_.getDaySegmentContainer=function(){return qa},_.getSlotSegmentContainer=function(){return va},_.getMinMinute=function(){return Ta},_.getMaxMinute=function(){return Ua},_.getBodyContent=function(){return ua},_.getRowCnt=function(){return 1},_.getColCnt=function(){return Ia},_.getColWidth=function(){return Ea},_.getSlotHeight=function(){return Ga},_.defaultSelectionEnd=Q,_.renderDayOverlay=y,_.renderSelection=R,_.clearSelection=T,_.reportDayClick=Y,_.dragStart=Z,_.dragStop=$,ja.call(_,c,d,e),ma.call(_),la.call(_),ha.call(_);var aa,ba,ca,da,ea,fa,ga,ia,ka,qa,ra,sa,ta,ua,va,wa,xa,ya,za,Aa,Ba,Ca,Da,Ea,Fa,Ga,Ha,Ia,Ja,Ka,La,Ma,Na,Oa,Pa,Qa,Ra,Sa,Ta,Ua,Va,Wa=_.opt,Xa=_.trigger,Ya=_.clearEvents,Za=_.renderOverlay,$a=_.clearOverlays,_a=_.reportSelection,ab=_.unselect,bb=_.daySelectionMousedown,cb=_.slotSegHtml,db=d.formatDate,eb={};V(c.addClass("fc-agenda")),Ka=new na(function(b,c){function d(a){return Math.max(i,Math.min(j,a))}var e,f,g;ca.each(function(b,d){e=a(d),f=e.offset().left,b&&(g[1]=f),g=[f],c[b]=g}),g[1]=f+e.outerWidth(),Wa("allDaySlot")&&(e=sa,f=e.offset().top,b[0]=[f,f+e.outerHeight()]);for(var h=ua.offset().top,i=ta.offset().top,j=i+ta.outerHeight(),k=0;Ja>k;k++)b.push([d(h+Ga*k),d(h+Ga*(k+1))])}),La=new oa(Ka),Ma=new pa(function(a){return fa.eq(a)})}function ha(){function c(a,b){y(a);var c,d=a.length,g=[],i=[];for(c=0;d>c;c++)a[c].allDay?g.push(a[c]):i.push(a[c]);s("allDaySlot")&&(Q(e(g),b),G()),h(f(i),b)}function d(){z(),H().empty(),I().empty()}function e(b){b=B(A(b,a.map(b,w),r.visStart,r.visEnd));var c,d,e,f,g=b.length,h=[];for(c=0;g>c;c++)for(d=b[c],e=0;e<d.length;e++)f=d[e],f.row=0,f.level=c,h.push(f);return h}function f(b){var c,d,e,f,h,j,l=S(),n=M(),o=L(),p=k(m(r.visStart),n),q=a.map(b,g),s=[];for(c=0;l>c;c++){for(d=B(A(b,q,p,k(m(p),o-n))),ia(d),e=0;e<d.length;e++)for(f=d[e],h=0;h<f.length;h++)j=f[h],j.col=c,j.level=e,s.push(j);i(p,1,!0)}return s}function g(a){return a.end?m(a.end):k(m(a.start),s("defaultEventMinutes"))}function h(c,d){var e,f,g,h,i,k,l,m,o,p,q,r,u,v=c.length,w="",x={},y={},z=I();for(e=S(),(q=s("isRTL"))?(r=-1,u=e-1):(r=1,u=0),e=0;v>e;e++)f=c[e],g=f.event,h=N(f.start,f.start),i=N(f.start,f.end),k=f.col,l=f.level,m=f.forward||0,o=O(k*r+u),p=P(k*r+u)-o,p=Math.min(p-6,.95*p),k=l?p/(l+m+1):m?2*(p/(m+1)-6):p,l=o+p/(l+m+1)*l*r+(q?p-k:0),f.top=h,f.left=l,f.outerWidth=k,f.outerHeight=i-h,w+=j(g,f);for(z[0].innerHTML=w,q=z.children(),e=0;v>e;e++)f=c[e],g=f.event,w=a(q[e]),r=t("eventRender",g,g,w),r===!1?w.remove():(r&&r!==!0&&(w.remove(),w=a(r).css({position:"absolute",top:f.top,left:f.left}).appendTo(z)),f.element=w,g._id===d?n(g,w,f):w[0]._fci=e,Z(g,w));for(C(z,c,n),e=0;v>e;e++)f=c[e],(w=f.element)&&(g=x[d=f.key=U(w[0])],f.vsides=g===b?x[d]=J(w,!0):g,g=y[d],f.hsides=g===b?y[d]=F(w,!0):g,d=w.find("div.fc-event-content"),d.length&&(f.contentTop=d[0].offsetTop));for(e=0;v>e;e++)f=c[e],(w=f.element)&&(w[0].style.width=Math.max(0,f.outerWidth-f.hsides)+"px",x=Math.max(0,f.outerHeight-f.vsides),w[0].style.height=x+"px",g=f.event,f.contentTop!==b&&x-f.contentTop<10&&(w.find("div.fc-event-time").text(fa(g.start,s("timeFormat"))+" - "+g.title),w.find("div.fc-event-title").remove()),t("eventAfterRender",g,g,w))}function j(a,b){var c="<",d=a.url,e=Y(a,s),f=e?" style='"+e+"'":"",g=["fc-event","fc-event-skin","fc-event-vert"];return u(a)&&g.push("fc-event-draggable"),b.isStart&&g.push("fc-corner-top"),b.isEnd&&g.push("fc-corner-bottom"),g=g.concat(a.className),a.source&&(g=g.concat(a.source.className||[])),c+=d?"a href='"+T(a.url)+"'":"div",c+=" class='"+g.join(" ")+"' style='position:absolute;z-index:8;top:"+b.top+"px;left:"+b.left+"px;"+e+"'><div class='fc-event-inner fc-event-skin'"+f+"><div class='fc-event-head fc-event-skin'"+f+"><div class='fc-event-time'>"+T(ga(a.start,a.end,s("timeFormat")))+"</div></div><div class='fc-event-content'><div class='fc-event-title'>"+T(a.title)+"</div></div><div class='fc-event-bg'></div></div>",b.isEnd&&v(a)&&(c+="<div class='ui-resizable-handle ui-resizable-s'>=</div>"),c+="</"+(d?"a":"div")+">"}function l(a,b,c){u(a)&&o(a,b,c.isStart),c.isEnd&&v(a)&&R(a,b,c),D(a,b)}function n(a,b,c){var d=b.find("div.fc-event-time");u(a)&&p(a,b,d),c.isEnd&&v(a)&&q(a,b,d),D(a,b)}function o(a,b,c){function d(){h||(b.width(e).height("").draggable("option","grid",null),h=!0)}var e,f,g,h=!0,j=s("isRTL")?-1:1,k=K(),l=V(),n=W(),o=M();b.draggable({zIndex:9,opacity:s("dragOpacity","month"),revertDuration:s("dragRevertDuration"),start:function(o,p){t("eventDragStart",b,a,o,p),_(a,b),e=b.width(),k.start(function(e,k,o,p){da(),e?(f=!1,g=p*j,e.row?c?h&&(b.width(l-10),E(b,n*Math.round((a.end?(a.end-a.start)/za:s("defaultEventMinutes"))/s("slotMinutes"))),b.draggable("option","grid",[l,1]),h=!1):f=!0:(ca(i(m(a.start),g),i(w(a),g)),d()),f=f||h&&!g):(d(),f=!0),b.draggable("option","revert",f)},o,"drag")},stop:function(c,e){if(k.stop(),da(),t("eventDragStop",b,a,c,e),f)d(),b.css("filter",""),$(a,b);else{var i=0;h||(i=Math.round((b.offset().top-X().offset().top)/n)*s("slotMinutes")+o-(60*a.start.getHours()+a.start.getMinutes())),aa(this,a,g,i,h,c,e)}}})}function p(a,b,c){function d(b){var d,e=k(m(a.start),b);a.end&&(d=k(m(a.end),b)),c.text(ga(e,d,s("timeFormat")))}function e(){l&&(c.css("display",""),b.draggable("option","grid",[q,r]),l=!1)}var f,g,h,j,l=!1,n=s("isRTL")?-1:1,o=K(),p=S(),q=V(),r=W();b.draggable({zIndex:9,scroll:!1,grid:[q,r],axis:1==p?"y":!1,opacity:s("dragOpacity"),revertDuration:s("dragRevertDuration"),start:function(d,k){t("eventDragStart",b,a,d,k),_(a,b),f=b.position(),h=j=0,o.start(function(d,f,h,j){b.draggable("option","revert",!d),da(),d&&(g=j*n,s("allDaySlot")&&!d.row?(l||(l=!0,c.hide(),b.draggable("option","grid",null)),ca(i(m(a.start),g),i(w(a),g))):e())},d,"drag")},drag:function(a,b){h=Math.round((b.position.top-f.top)/r)*s("slotMinutes"),h!=j&&(l||d(h),j=h)},stop:function(c,i){var j=o.stop();da(),t("eventDragStop",b,a,c,i),j&&(g||h||l)?aa(this,a,g,l?0:h,l,c,i):(e(),b.css("filter",""),b.css(f),d(0),$(a,b))}})}function q(a,b,c){var d,e,f=W();b.resizable({handles:{s:"div.ui-resizable-s"},grid:f,start:function(c,f){d=e=0,_(a,b),b.css("z-index",9),t("eventResizeStart",this,a,c,f)},resize:function(g,h){d=Math.round((Math.max(f,b.height())-h.originalSize.height)/f),d!=e&&(c.text(ga(a.start,d||a.end?k(x(a),s("slotMinutes")*d):null,s("timeFormat"))),e=d)},stop:function(c,e){t("eventResizeStop",this,a,c,e),d?ba(this,a,0,s("slotMinutes")*d,c,e):(b.css("z-index",8),$(a,b))}})}var r=this;r.renderEvents=c,r.compileDaySegs=e,r.clearEvents=d,r.slotSegHtml=j,r.bindDaySeg=l,ka.call(r);var s=r.opt,t=r.trigger,u=r.isEventDraggable,v=r.isEventResizable,x=r.eventEnd,y=r.reportEvents,z=r.reportEventClear,D=r.eventElementHandlers,G=r.setHeight,H=r.getDaySegmentContainer,I=r.getSlotSegmentContainer,K=r.getHoverListener,L=r.getMaxMinute,M=r.getMinMinute,N=r.timePosition,O=r.colContentLeft,P=r.colContentRight,Q=r.renderDaySegs,R=r.resizableDayEvent,S=r.getColCnt,V=r.getColWidth,W=r.getSlotHeight,X=r.getBodyContent,Z=r.reportEventElement,$=r.showEvents,_=r.hideEvents,aa=r.eventDrop,ba=r.eventResize,ca=r.renderDayOverlay,da=r.clearOverlays,ea=r.calendar,fa=ea.formatDate,ga=ea.formatDates}function ia(a){var b,c,d,e,f,g;for(b=a.length-1;b>0;b--)for(e=a[b],c=0;c<e.length;c++)for(f=e[c],d=0;d<a[b-1].length;d++)g=a[b-1][d],z(f,g)&&(g.forward=Math.max(g.forward||0,(f.forward||0)+1))}function ja(a,c,d){function e(a,b){return a=F[a],"object"==typeof a?S(a,b||d):a}function f(a,b){return c.trigger.apply(c,[a,b||y].concat(Array.prototype.slice.call(arguments,2),[y]))}function g(a){return j(a)&&!e("disableDragging")}function h(a){return j(a)&&!e("disableResizing")}function j(a){return $(a.editable,(a.source||{}).editable,e("editable"))}function l(a){C={};var b,c,d=a.length;for(b=0;d>b;b++)c=a[b],C[c._id]?C[c._id].push(c):C[c._id]=[c]}function n(a){return a.end?m(a.end):z(a)}function o(a,b){D.push(b),E[a._id]?E[a._id].push(b):E[a._id]=[b]}function p(){D=[],E={}}function q(a,b){b.click(function(c){return b.hasClass("ui-draggable-dragging")||b.hasClass("ui-resizable-resizing")?void 0:f("eventClick",this,a,c)}).hover(function(b){f("eventMouseover",this,a,b)},function(b){f("eventMouseout",this,a,b)})}function r(a,b){t(a,b,"show")}function s(a,b){t(a,b,"hide")}function t(a,b,c){a=E[a._id];var d,e=a.length;for(d=0;e>d;d++)b&&a[d][0]==b[0]||a[d][c]()}function u(a,b,c,d,e,g,h){var i=b.allDay,j=b._id;w(C[j],c,d,e),f("eventDrop",a,b,c,d,e,function(){w(C[j],-c,-d,i),B(j)},g,h),B(j)}function v(a,b,c,d,e,g){var h=b._id;x(C[h],c,d),f("eventResize",a,b,c,d,function(){x(C[h],-c,-d),B(h)},e,g),B(h)}function w(a,c,d,e){d=d||0;for(var f,g=a.length,h=0;g>h;h++)f=a[h],e!==b&&(f.allDay=e),k(i(f.start,c,!0),d),f.end&&(f.end=k(i(f.end,c,!0),d)),A(f,F)}function x(a,b,c){c=c||0;for(var d,e=a.length,f=0;e>f;f++)d=a[f],d.end=k(i(n(d),b,!0),c),A(d,F)}var y=this;y.element=a,y.calendar=c,y.name=d,y.opt=e,y.trigger=f,y.isEventDraggable=g,y.isEventResizable=h,y.reportEvents=l,y.eventEnd=n,y.reportEventElement=o,y.reportEventClear=p,y.eventElementHandlers=q,y.showEvents=r,y.hideEvents=s,y.eventDrop=u,y.eventResize=v;var z=y.defaultEventEnd,A=c.normalizeEvent,B=c.reportEventChange,C={},D=[],E={},F=c.options}function ka(){function c(a,b){var c,d,i,m,q=N(),r=B(),s=D(),t=0,u=a.length;for(q[0].innerHTML=e(a),f(a,q.children()),g(a),h(a,q,b),j(a),k(a),l(a),b=n(),q=0;r>q;q++){for(c=[],d=0;s>d;d++)c[d]=0;for(;u>t&&(i=a[t]).row==q;){for(d=Q(c.slice(i.startCol,i.endCol)),i.top=d,d+=i.outerHeight,m=i.startCol;m<i.endCol;m++)c[m]=d;t++}b[q].height(Q(c))}p(a,o(b))}function d(b,c,d){var g,h=a("<div/>"),i=N(),m=b.length;for(h[0].innerHTML=e(b),h=h.children(),i.append(h),f(b,h),j(b),k(b),l(b),p(b,o(n())),h=[],i=0;m>i;i++)(g=b[i].element)&&(b[i].row===c&&g.css("top",d),h.push(g[0]));return a(h)}function e(a){var b,c,d,e,f,g=s("isRTL"),h=a.length;b=G();var i,j,k,l,m,n=b.left,o=b.right,p="";for(b=0;h>b;b++)c=a[b],d=c.event,f=["fc-event","fc-event-skin","fc-event-hori"],u(d)&&f.push("fc-event-draggable"),g?(c.isStart&&f.push("fc-corner-right"),c.isEnd&&f.push("fc-corner-left"),i=J(c.end.getDay()-1),j=J(c.start.getDay()),k=c.isEnd?H(i):n,l=c.isStart?I(j):o):(c.isStart&&f.push("fc-corner-left"),c.isEnd&&f.push("fc-corner-right"),i=J(c.start.getDay()),j=J(c.end.getDay()-1),k=c.isStart?H(i):n,l=c.isEnd?I(j):o),f=f.concat(d.className),d.source&&(f=f.concat(d.source.className||[])),e=d.url,m=Y(d,s),p+=e?"<a href='"+T(e)+"'":"<div",p+=" class='"+f.join(" ")+"' style='position:absolute;z-index:8;left:"+k+"px;"+m+"'><div class='fc-event-inner fc-event-skin'"+(m?" style='"+m+"'":"")+">",!d.allDay&&c.isStart&&(p+="<span class='fc-event-time'>"+T(P(d.start,d.end,s("timeFormat")))+"</span>"),p+="<span class='fc-event-title'>"+T(d.title)+"</span></div>",c.isEnd&&v(d)&&(p+="<div class='ui-resizable-handle ui-resizable-"+(g?"w":"e")+"'>&nbsp;&nbsp;&nbsp;</div>"),p+="</"+(e?"a":"div")+">",c.left=k,c.outerWidth=l-k,c.startCol=i,c.endCol=j+1;return p}function f(b,c){var d,e,f,g,h=b.length;for(d=0;h>d;d++)e=b[d],f=e.event,g=a(c[d]),f=t("eventRender",f,f,g),f===!1?g.remove():(f&&f!==!0&&(f=a(f).css({position:"absolute",left:e.left}),g.replaceWith(f),g=f),e.element=g)}function g(a){var b,c,d,e=a.length;for(b=0;e>b;b++)c=a[b],(d=c.element)&&x(c.event,d)}function h(a,b,c){var d,e,f,g,h=a.length;for(d=0;h>d;d++)e=a[d],(f=e.element)&&(g=e.event,g._id===c?O(g,f,e):f[0]._fci=d);C(b,a,O)}function j(a){var c,d,e,f,g,h=a.length,i={};for(c=0;h>c;c++)d=a[c],(e=d.element)&&(f=d.key=U(e[0]),g=i[f],g===b&&(g=i[f]=F(e,!0)),d.hsides=g)}function k(a){var b,c,d,e=a.length;for(b=0;e>b;b++)c=a[b],(d=c.element)&&(d[0].style.width=Math.max(0,c.outerWidth-c.hsides)+"px")}function l(a){var c,d,e,f,g,h=a.length,i={};for(c=0;h>c;c++)d=a[c],(e=d.element)&&(f=d.key,g=i[f],g===b&&(g=i[f]=L(e)),d.outerHeight=e[0].offsetHeight+g)}function n(){var a,b=B(),c=[];for(a=0;b>a;a++)c[a]=E(a).find("td:first div.fc-day-content > div");return c}function o(a){var b,c=a.length,d=[];for(b=0;c>b;b++)d[b]=a[b][0].offsetTop;return d}function p(a,b){var c,d,e,f=a.length;for(c=0;f>c;c++)d=a[c],(e=d.element)&&(e[0].style.top=b[d.row]+(d.top||0)+"px",d=d.event,t("eventAfterRender",d,d,e))}function q(b,c,e){var f=s("isRTL"),g=f?"w":"e",h=c.find("div.ui-resizable-"+g),j=!1;V(c),c.mousedown(function(a){a.preventDefault()}).click(function(a){j&&(a.preventDefault(),a.stopImmediatePropagation())}),h.mousedown(function(h){function k(c){t("eventResizeStop",this,b,c),a("body").css("cursor",""),o.stop(),S(),l&&A(this,b,l,0,c),setTimeout(function(){j=!1},0)}if(1==h.which){j=!0;var l,n,o=r.getHoverListener(),p=B(),q=D(),s=f?-1:1,u=f?q-1:0,v=c.css("top"),x=a.extend({},b),C=K(b.start);W(),a("body").css("cursor",g+"-resize").one("mouseup",k),t("eventResizeStart",this,b,h),o.start(function(a,c){if(a){var h=Math.max(C.row,a.row);a=a.col,1==p&&(h=0),h==C.row&&(a=f?Math.min(C.col,a):Math.max(C.col,a)),l=7*h+a*s+u-(7*c.row+c.col*s+u),c=i(w(b),l,!0),l?(x.end=c,h=n,n=d(M([x]),e.row,v),n.find("*").css("cursor",g+"-resize"),h&&h.remove(),z(b)):n&&(y(b),n.remove(),n=null),S(),R(b.start,i(m(c),1))}},h)}})}var r=this;r.renderDaySegs=c,r.resizableDayEvent=q;var s=r.opt,t=r.trigger,u=r.isEventDraggable,v=r.isEventResizable,w=r.eventEnd,x=r.reportEventElement,y=r.showEvents,z=r.hideEvents,A=r.eventResize,B=r.getRowCnt,D=r.getColCnt,E=r.allDayRow,G=r.allDayBounds,H=r.colContentLeft,I=r.colContentRight,J=r.dayOfWeekCol,K=r.dateCell,M=r.compileDaySegs,N=r.getDaySegmentContainer,O=r.bindDaySeg,P=r.calendar.formatDates,R=r.renderDayOverlay,S=r.clearOverlays,W=r.clearSelection}function la(){function b(a,b,e){c(),b||(b=i(a,e)),j(a,b,e),d(a,b,e)}function c(a){l&&(l=!1,k(),h("unselect",null,a))}function d(a,b,c,d){l=!0,h("select",null,a,b,c,d)}function e(b){var e=f.cellDate,h=f.cellIsAllDay,i=f.getHoverListener(),l=f.reportDayClick;if(1==b.which&&g("selectable")){c(b);var m;i.start(function(a,b){k(),a&&h(a)?(m=[e(b),e(a)].sort(P),j(m[0],m[1],!0)):m=null},b),a(document).one("mouseup",function(a){i.stop(),m&&(+m[0]==+m[1]&&l(m[0],!0,a),d(m[0],m[1],!0,a))})}}var f=this;f.select=b,f.unselect=c,f.reportSelection=d,f.daySelectionMousedown=e;var g=f.opt,h=f.trigger,i=f.defaultSelectionEnd,j=f.renderSelection,k=f.clearSelection,l=!1;g("selectable")&&g("unselectAuto")&&a(document).mousedown(function(b){var d=g("unselectCancel");d&&a(b.target).parents(d).length||c(b)})}function ma(){function b(b,c){var d=f.shift();return d||(d=a("<div class='fc-cell-overlay' style='position:absolute;z-index:3'/>")),d[0].parentNode!=c[0]&&d.appendTo(c),e.push(d.css(b).show()),d}function c(){for(var a;a=e.shift();)f.push(a.hide().unbind())}var d=this;d.renderOverlay=b,d.clearOverlays=c;var e=[],f=[]}function na(a){var b,c,d=this;d.build=function(){b=[],c=[],a(b,c)},d.cell=function(a,d){var e,f=b.length,g=c.length,h=-1,i=-1;for(e=0;f>e;e++)if(d>=b[e][0]&&d<b[e][1]){h=e;break}for(e=0;g>e;e++)if(a>=c[e][0]&&a<c[e][1]){i=e;break}return h>=0&&i>=0?{row:h,col:i}:null},d.rect=function(a,d,e,f,g){return g=g.offset(),{top:b[a][0]-g.top,left:c[d][0]-g.left,width:c[f][1]-c[d][0],height:b[e][1]-b[a][0]}}}function oa(b){function c(a){a=b.cell(a.pageX,a.pageY),(!a!=!g||a&&(a.row!=g.row||a.col!=g.col))&&(a?(f||(f=a),e(a,f,a.row-f.row,a.col-f.col)):e(a,f),g=a)}var d,e,f,g,h=this;h.start=function(h,i,j){e=h,f=g=null,b.build(),c(i),d=j||"mousemove",a(document).bind(d,c)},h.stop=function(){return a(document).unbind(d,c),g}}function pa(a){function c(b){return e[b]=e[b]||a(b)}var d=this,e={},f={},g={};d.left=function(a){return f[a]=f[a]===b?c(a).position().left:f[a]},d.right=function(a){return g[a]=g[a]===b?d.left(a)+c(a).width():g[a]},d.clear=function(){e={},f={},g={}}}var qa={defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:!0,allDayDefault:!0,ignoreTimezone:!0,lazyFetching:!0,startParam:"start",endParam:"end",titleFormat:{month:"MMMM yyyy",week:"MMM d[ yyyy]{ '&#8212;'[ MMM] d yyyy}",day:"dddd, MMM d, yyyy"},columnFormat:{month:"ddd",week:"ddd M/d",day:"dddd M/d"},timeFormat:{"":"h(:mm)t"},isRTL:!1,firstDay:0,monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],buttonText:{prev:"&nbsp;&#9668;&nbsp;",next:"&nbsp;&#9658;&nbsp;",prevYear:"&nbsp;&lt;&lt;&nbsp;",nextYear:"&nbsp;&gt;&gt;&nbsp;",today:"today",month:"month",week:"week",day:"day"},theme:!1,buttonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e"},unselectAuto:!0,dropAccept:"*"},ra={header:{left:"next,prev today",center:"",right:"title"},buttonText:{prev:"&nbsp;&#9658;&nbsp;",next:"&nbsp;&#9668;&nbsp;",prevYear:"&nbsp;&gt;&gt;&nbsp;",nextYear:"&nbsp;&lt;&lt;&nbsp;"},buttonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w"}},sa=a.fullCalendar={version:"1.5.2"},ta=sa.views={};a.fn.fullCalendar=function(c){if("string"==typeof c){var e,f=Array.prototype.slice.call(arguments,1);return this.each(function(){var d=a.data(this,"fullCalendar");d&&a.isFunction(d[c])&&(d=d[c].apply(d,f),e===b&&(e=d),"destroy"==c&&a.removeData(this,"fullCalendar"))}),e!==b?e:this}var g=c.eventSources||[];return delete c.eventSources,c.events&&(g.push(c.events),delete c.events),c=a.extend(!0,{},qa,c.isRTL||c.isRTL===b&&qa.isRTL?ra:{},c),this.each(function(b,e){b=a(e),e=new d(b,c,g),b.data("fullCalendar",e),e.render()}),this},sa.sourceNormalizers=[],sa.sourceFetchers=[];var ua={dataType:"json",cache:!1},va=1;sa.addDays=i,sa.cloneDate=m,sa.parseDate=r,sa.parseISO8601=s,sa.parseTime=t,sa.formatDate=u,sa.formatDates=v;var wa=["sun","mon","tue","wed","thu","fri","sat"],xa=864e5,ya=36e5,za=6e4,Aa={s:function(a){return a.getSeconds()},ss:function(a){return R(a.getSeconds())},m:function(a){return a.getMinutes()},mm:function(a){return R(a.getMinutes())},h:function(a){return a.getHours()%12||12},hh:function(a){return R(a.getHours()%12||12)},H:function(a){return a.getHours()},HH:function(a){return R(a.getHours())},d:function(a){return a.getDate()},dd:function(a){return R(a.getDate())},ddd:function(a,b){return b.dayNamesShort[a.getDay()]},dddd:function(a,b){return b.dayNames[a.getDay()]},M:function(a){return a.getMonth()+1},MM:function(a){return R(a.getMonth()+1)},MMM:function(a,b){return b.monthNamesShort[a.getMonth()]},MMMM:function(a,b){return b.monthNames[a.getMonth()]},yy:function(a){return(a.getFullYear()+"").substring(2)},yyyy:function(a){return a.getFullYear()},t:function(a){return a.getHours()<12?"a":"p"},tt:function(a){return a.getHours()<12?"am":"pm"},T:function(a){return a.getHours()<12?"A":"P"},TT:function(a){return a.getHours()<12?"AM":"PM"},u:function(a){return u(a,"yyyy-MM-dd'T'HH:mm:ss'Z'")},S:function(a){return a=a.getDate(),a>10&&20>a?"th":["st","nd","rd"][a%10-1]||"th"}};sa.applyAll=Z,ta.month=_,ta.basicWeek=aa,ta.basicDay=ba,c({weekMode:"fixed"}),ta.agendaWeek=ea,ta.agendaDay=fa,c({allDaySlot:!0,allDayText:"all-day",firstHour:6,slotMinutes:30,defaultEventMinutes:120,axisFormat:"h(:mm)tt",timeFormat:{agenda:"h:mm{ - h:mm}"},dragOpacity:{agenda:.5},minTime:0,maxTime:24})}(jQuery),!function(a){"use strict";var b=function(a,c,d){var e,f,g=document.createElement("img");if(g.onerror=c,g.onload=function(){!f||d&&d.noRevoke||b.revokeObjectURL(f),c&&c(b.scale(g,d))},b.isInstanceOf("Blob",a)||b.isInstanceOf("File",a))e=f=b.createObjectURL(a),g._type=a.type;else{if("string"!=typeof a)return!1;e=a,d&&d.crossOrigin&&(g.crossOrigin=d.crossOrigin)}return e?(g.src=e,g):b.readFile(a,function(a){var b=a.target;b&&b.result?g.src=b.result:c&&c(a)})},c=window.createObjectURL&&window||window.URL&&URL.revokeObjectURL&&URL||window.webkitURL&&webkitURL;b.isInstanceOf=function(a,b){return Object.prototype.toString.call(b)==="[object "+a+"]"},b.transformCoordinates=function(){},b.getTransformedOptions=function(a){return a},b.renderImageToCanvas=function(a,b,c,d,e,f,g,h,i,j){return a.getContext("2d").drawImage(b,c,d,e,f,g,h,i,j),a},b.hasCanvasOption=function(a){return a.canvas||a.crop},b.scale=function(a,c){c=c||{};var d,e,f,g,h,i,j,k,l,m=document.createElement("canvas"),n=a.getContext||b.hasCanvasOption(c)&&m.getContext,o=a.naturalWidth||a.width,p=a.naturalHeight||a.height,q=o,r=p,s=function(){var a=Math.max((f||q)/q,(g||r)/r);a>1&&(q=Math.ceil(q*a),r=Math.ceil(r*a))},t=function(){var a=Math.min((d||q)/q,(e||r)/r);1>a&&(q=Math.ceil(q*a),r=Math.ceil(r*a))};return n&&(c=b.getTransformedOptions(c),j=c.left||0,k=c.top||0,c.sourceWidth?(h=c.sourceWidth,void 0!==c.right&&void 0===c.left&&(j=o-h-c.right)):h=o-j-(c.right||0),c.sourceHeight?(i=c.sourceHeight,void 0!==c.bottom&&void 0===c.top&&(k=p-i-c.bottom)):i=p-k-(c.bottom||0),q=h,r=i),d=c.maxWidth,e=c.maxHeight,f=c.minWidth,g=c.minHeight,n&&d&&e&&c.crop?(q=d,r=e,l=h/i-d/e,0>l?(i=e*h/d,void 0===c.top&&void 0===c.bottom&&(k=(p-i)/2)):l>0&&(h=d*i/e,void 0===c.left&&void 0===c.right&&(j=(o-h)/2))):((c.contain||c.cover)&&(f=d=d||f,g=e=e||g),c.cover?(t(),s()):(s(),t())),n?(m.width=q,m.height=r,b.transformCoordinates(m,c),b.renderImageToCanvas(m,a,j,k,h,i,0,0,q,r)):(a.width=q,a.height=r,a)},b.createObjectURL=function(a){return c?c.createObjectURL(a):!1},b.revokeObjectURL=function(a){return c?c.revokeObjectURL(a):!1},b.readFile=function(a,b,c){if(window.FileReader){var d=new FileReader;if(d.onload=d.onerror=b,c=c||"readAsDataURL",d[c])return d[c](a),d}return!1},"function"==typeof define&&define.amd?define(function(){return b}):a.loadImage=b}(this),function(a){"use strict";"function"==typeof define&&define.amd?define(["load-image"],a):a(window.loadImage)}(function(a){"use strict";if(window.navigator&&window.navigator.platform&&/iP(hone|od|ad)/.test(window.navigator.platform)){var b=a.renderImageToCanvas;a.detectSubsampling=function(a){var b,c;return a.width*a.height>1048576?(b=document.createElement("canvas"),b.width=b.height=1,c=b.getContext("2d"),c.drawImage(a,-a.width+1,0),0===c.getImageData(0,0,1,1).data[3]):!1},a.detectVerticalSquash=function(a,b){var c,d,e,f,g,h=a.naturalHeight||a.height,i=document.createElement("canvas"),j=i.getContext("2d");for(b&&(h/=2),i.width=1,i.height=h,j.drawImage(a,0,0),c=j.getImageData(0,0,1,h).data,d=0,e=h,f=h;f>d;)g=c[4*(f-1)+3],0===g?e=f:d=f,f=e+d>>1;return f/h||1},a.renderImageToCanvas=function(c,d,e,f,g,h,i,j,k,l){if("image/jpeg"===d._type){var m,n,o,p,q=c.getContext("2d"),r=document.createElement("canvas"),s=1024,t=r.getContext("2d");if(r.width=s,r.height=s,q.save(),m=a.detectSubsampling(d),m&&(e/=2,f/=2,g/=2,h/=2),n=a.detectVerticalSquash(d,m),m||1!==n){for(f*=n,k=Math.ceil(s*k/g),l=Math.ceil(s*l/h/n),j=0,p=0;h>p;){for(i=0,o=0;g>o;)t.clearRect(0,0,s,s),t.drawImage(d,e,f,g,h,-o,-p,g,h),q.drawImage(r,0,0,s,s,i,j,k,l),o+=s,i+=k;p+=s,j+=l}return q.restore(),c}}return b(c,d,e,f,g,h,i,j,k,l)}}}),function(a){"use strict";"function"==typeof define&&define.amd?define(["load-image"],a):a(window.loadImage)}(function(a){"use strict";var b=a.hasCanvasOption;a.hasCanvasOption=function(a){return b(a)||a.orientation},a.transformCoordinates=function(a,b){var c=a.getContext("2d"),d=a.width,e=a.height,f=b.orientation;if(f)switch(f>4&&(a.width=e,a.height=d),f){case 2:c.translate(d,0),c.scale(-1,1);break;case 3:c.translate(d,e),c.rotate(Math.PI);break;case 4:c.translate(0,e),c.scale(1,-1);break;case 5:c.rotate(.5*Math.PI),c.scale(1,-1);break;case 6:c.rotate(.5*Math.PI),c.translate(0,-e);break;case 7:c.rotate(.5*Math.PI),c.translate(d,-e),c.scale(-1,1);break;case 8:c.rotate(-.5*Math.PI),c.translate(-d,0)}},a.getTransformedOptions=function(a){if(!a.orientation||1===a.orientation)return a;var b,c={};for(b in a)a.hasOwnProperty(b)&&(c[b]=a[b]);switch(a.orientation){case 2:c.left=a.right,c.right=a.left;break;case 3:c.left=a.right,c.top=a.bottom,c.right=a.left,c.bottom=a.top;break;case 4:c.top=a.bottom,c.bottom=a.top;break;case 5:c.left=a.top,c.top=a.left,c.right=a.bottom,c.bottom=a.right;break;case 6:c.left=a.top,c.top=a.right,c.right=a.bottom,c.bottom=a.left;break;case 7:c.left=a.bottom,c.top=a.right,c.right=a.top,c.bottom=a.left;break;case 8:c.left=a.bottom,c.top=a.left,c.right=a.top,c.bottom=a.right}return a.orientation>4&&(c.maxWidth=a.maxHeight,c.maxHeight=a.maxWidth,c.minWidth=a.minHeight,c.minHeight=a.minWidth,c.sourceWidth=a.sourceHeight,c.sourceHeight=a.sourceWidth),c}}),function(a){"use strict";"function"==typeof define&&define.amd?define(["load-image"],a):a(window.loadImage)}(function(a){"use strict";var b=window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice);a.blobSlice=b&&function(){var a=this.slice||this.webkitSlice||this.mozSlice;return a.apply(this,arguments)},a.metaDataParsers={jpeg:{65505:[]}},a.parseMetaData=function(b,c,d){d=d||{};var e=this,f=d.maxMetaDataSize||262144,g={},h=!(window.DataView&&b&&b.size>=12&&"image/jpeg"===b.type&&a.blobSlice);(h||!a.readFile(a.blobSlice.call(b,0,f),function(b){var f,h,i,j,k=b.target.result,l=new DataView(k),m=2,n=l.byteLength-4,o=m;if(65496===l.getUint16(0)){for(;n>m&&(f=l.getUint16(m),f>=65504&&65519>=f||65534===f);){if(h=l.getUint16(m+2)+2,m+h>l.byteLength){console.log("Invalid meta data: Invalid segment size.");break}if(i=a.metaDataParsers.jpeg[f])for(j=0;j<i.length;j+=1)i[j].call(e,l,m,h,g,d);m+=h,
o=m}!d.disableImageHead&&o>6&&(g.imageHead=k.slice?k.slice(0,o):new Uint8Array(k).subarray(0,o))}else console.log("Invalid JPEG file: Missing JPEG marker.");c(g)},"readAsArrayBuffer"))&&c(g)}}),function(a){"use strict";"function"==typeof define&&define.amd?define(["load-image","load-image-meta"],a):a(window.loadImage)}(function(a){"use strict";a.ExifMap=function(){return this},a.ExifMap.prototype.map={Orientation:274},a.ExifMap.prototype.get=function(a){return this[a]||this[this.map[a]]},a.getExifThumbnail=function(a,b,c){var d,e,f;if(!c||b+c>a.byteLength)return void console.log("Invalid Exif data: Invalid thumbnail data.");for(d=[],e=0;c>e;e+=1)f=a.getUint8(b+e),d.push((16>f?"0":"")+f.toString(16));return"data:image/jpeg,%"+d.join("%")},a.exifTagTypes={1:{getValue:function(a,b){return a.getUint8(b)},size:1},2:{getValue:function(a,b){return String.fromCharCode(a.getUint8(b))},size:1,ascii:!0},3:{getValue:function(a,b,c){return a.getUint16(b,c)},size:2},4:{getValue:function(a,b,c){return a.getUint32(b,c)},size:4},5:{getValue:function(a,b,c){return a.getUint32(b,c)/a.getUint32(b+4,c)},size:8},9:{getValue:function(a,b,c){return a.getInt32(b,c)},size:4},10:{getValue:function(a,b,c){return a.getInt32(b,c)/a.getInt32(b+4,c)},size:8}},a.exifTagTypes[7]=a.exifTagTypes[1],a.getExifValue=function(b,c,d,e,f,g){var h,i,j,k,l,m,n=a.exifTagTypes[e];if(!n)return void console.log("Invalid Exif data: Invalid tag type.");if(h=n.size*f,i=h>4?c+b.getUint32(d+8,g):d+8,i+h>b.byteLength)return void console.log("Invalid Exif data: Invalid data offset.");if(1===f)return n.getValue(b,i,g);for(j=[],k=0;f>k;k+=1)j[k]=n.getValue(b,i+k*n.size,g);if(n.ascii){for(l="",k=0;k<j.length&&(m=j[k],"\x00"!==m);k+=1)l+=m;return l}return j},a.parseExifTag=function(b,c,d,e,f){var g=b.getUint16(d,e);f.exif[g]=a.getExifValue(b,c,d,b.getUint16(d+2,e),b.getUint32(d+4,e),e)},a.parseExifTags=function(a,b,c,d,e){var f,g,h;if(c+6>a.byteLength)return void console.log("Invalid Exif data: Invalid directory offset.");if(f=a.getUint16(c,d),g=c+2+12*f,g+4>a.byteLength)return void console.log("Invalid Exif data: Invalid directory size.");for(h=0;f>h;h+=1)this.parseExifTag(a,b,c+2+12*h,d,e);return a.getUint32(g,d)},a.parseExifData=function(b,c,d,e,f){if(!f.disableExif){var g,h,i,j=c+10;if(1165519206===b.getUint32(c+4)){if(j+8>b.byteLength)return void console.log("Invalid Exif data: Invalid segment size.");if(0!==b.getUint16(c+8))return void console.log("Invalid Exif data: Missing byte alignment offset.");switch(b.getUint16(j)){case 18761:g=!0;break;case 19789:g=!1;break;default:return void console.log("Invalid Exif data: Invalid byte alignment marker.")}if(42!==b.getUint16(j+2,g))return void console.log("Invalid Exif data: Missing TIFF marker.");h=b.getUint32(j+4,g),e.exif=new a.ExifMap,h=a.parseExifTags(b,j,j+h,g,e),h&&!f.disableExifThumbnail&&(i={exif:{}},h=a.parseExifTags(b,j,j+h,g,i),i.exif[513]&&(e.exif.Thumbnail=a.getExifThumbnail(b,j+i.exif[513],i.exif[514]))),e.exif[34665]&&!f.disableExifSub&&a.parseExifTags(b,j,j+e.exif[34665],g,e),e.exif[34853]&&!f.disableExifGps&&a.parseExifTags(b,j,j+e.exif[34853],g,e)}}},a.metaDataParsers.jpeg[65505].push(a.parseExifData)}),function(a){"use strict";"function"==typeof define&&define.amd?define(["load-image","load-image-exif"],a):a(window.loadImage)}(function(a){"use strict";a.ExifMap.prototype.tags={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright",36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",42240:"Gamma",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubSecTime",37521:"SubSecTimeOriginal",37522:"SubSecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"PhotographicSensitivity",34856:"OECF",34864:"SensitivityType",34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRatio",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",42016:"ImageUniqueID",42032:"CameraOwnerName",42033:"BodySerialNumber",42034:"LensSpecification",42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber",0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential",31:"GPSHPositioningError"},a.ExifMap.prototype.stringValues={ExposureProgram:{0:"Undefined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Undefined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},ComponentsConfiguration:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"},Orientation:{1:"top-left",2:"top-right",3:"bottom-right",4:"bottom-left",5:"left-top",6:"right-top",7:"right-bottom",8:"left-bottom"}},a.ExifMap.prototype.getText=function(a){var b=this.get(a);switch(a){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":case"Orientation":return this.stringValues[a][b];case"ExifVersion":case"FlashpixVersion":return String.fromCharCode(b[0],b[1],b[2],b[3]);case"ComponentsConfiguration":return this.stringValues[a][b[0]]+this.stringValues[a][b[1]]+this.stringValues[a][b[2]]+this.stringValues[a][b[3]];case"GPSVersionID":return b[0]+"."+b[1]+"."+b[2]+"."+b[3]}return String(b)},function(a){var b,c=a.tags,d=a.map;for(b in c)c.hasOwnProperty(b)&&(d[c[b]]=b)}(a.ExifMap.prototype),a.ExifMap.prototype.getAll=function(){var a,b,c={};for(a in this)this.hasOwnProperty(a)&&(b=this.tags[a],b&&(c[b]=this.getText(b)));return c}}),function(a){"use strict";var b=function(a,c){var d=/[^\w\-\.:]/.test(a)?new Function(b.arg+",tmpl","var _e=tmpl.encode"+b.helper+",_s='"+a.replace(b.regexp,b.func)+"';return _s;"):b.cache[a]=b.cache[a]||b(b.load(a));return c?d(c,b):function(a){return d(a,b)}};b.cache={},b.load=function(a){return document.getElementById(a).innerHTML},b.regexp=/([\s'\\])(?!(?:[^{]|\{(?!%))*%\})|(?:\{%(=|#)([\s\S]+?)%\})|(\{%)|(%\})/g,b.func=function(a,b,c,d,e,f){return b?{"\n":"\\n","\r":"\\r","	":"\\t"," ":" "}[b]||"\\"+b:c?"="===c?"'+_e("+d+")+'":"'+"+d+"+'":e?"';":f?"_s+='":void 0},b.encReg=/[<>&"'\x00]/g,b.encMap={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;","'":"&#39;"},b.encode=function(a){return String(a).replace(b.encReg,function(a){return b.encMap[a]||""})},b.arg="o",b.helper=",print=function(s,e){_s+=e&&(s||'')||_e(s);},include=function(s,d){_s+=tmpl(s,d);}","function"==typeof define&&define.amd?define(function(){return b}):a.tmpl=b}(this),function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a(jQuery)}(function(a,b){var c=0,d=Array.prototype.slice,e=a.cleanData;a.cleanData=function(b){for(var c,d=0;null!=(c=b[d]);d++)try{a(c).triggerHandler("remove")}catch(f){}e(b)},a.widget=function(b,c,d){var e,f,g,h,i={},j=b.split(".")[0];b=b.split(".")[1],e=j+"-"+b,d||(d=c,c=a.Widget),a.expr[":"][e.toLowerCase()]=function(b){return!!a.data(b,e)},a[j]=a[j]||{},f=a[j][b],g=a[j][b]=function(a,b){return this._createWidget?void(arguments.length&&this._createWidget(a,b)):new g(a,b)},a.extend(g,f,{version:d.version,_proto:a.extend({},d),_childConstructors:[]}),h=new c,h.options=a.widget.extend({},h.options),a.each(d,function(b,d){return a.isFunction(d)?void(i[b]=function(){var a=function(){return c.prototype[b].apply(this,arguments)},e=function(a){return c.prototype[b].apply(this,a)};return function(){var b,c=this._super,f=this._superApply;return this._super=a,this._superApply=e,b=d.apply(this,arguments),this._super=c,this._superApply=f,b}}()):void(i[b]=d)}),g.prototype=a.widget.extend(h,{widgetEventPrefix:f?h.widgetEventPrefix:b},i,{constructor:g,namespace:j,widgetName:b,widgetFullName:e}),f?(a.each(f._childConstructors,function(b,c){var d=c.prototype;a.widget(d.namespace+"."+d.widgetName,g,c._proto)}),delete f._childConstructors):c._childConstructors.push(g),a.widget.bridge(b,g)},a.widget.extend=function(c){for(var e,f,g=d.call(arguments,1),h=0,i=g.length;i>h;h++)for(e in g[h])f=g[h][e],g[h].hasOwnProperty(e)&&f!==b&&(a.isPlainObject(f)?c[e]=a.isPlainObject(c[e])?a.widget.extend({},c[e],f):a.widget.extend({},f):c[e]=f);return c},a.widget.bridge=function(c,e){var f=e.prototype.widgetFullName||c;a.fn[c]=function(g){var h="string"==typeof g,i=d.call(arguments,1),j=this;return g=!h&&i.length?a.widget.extend.apply(null,[g].concat(i)):g,h?this.each(function(){var d,e=a.data(this,f);return e?a.isFunction(e[g])&&"_"!==g.charAt(0)?(d=e[g].apply(e,i),d!==e&&d!==b?(j=d&&d.jquery?j.pushStack(d.get()):d,!1):void 0):a.error("no such method '"+g+"' for "+c+" widget instance"):a.error("cannot call methods on "+c+" prior to initialization; attempted to call method '"+g+"'")}):this.each(function(){var b=a.data(this,f);b?b.option(g||{})._init():a.data(this,f,new e(g,this))}),j}},a.Widget=function(){},a.Widget._childConstructors=[],a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(b,d){d=a(d||this.defaultElement||this)[0],this.element=a(d),this.uuid=c++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=a.widget.extend({},this.options,this._getCreateOptions(),b),this.bindings=a(),this.hoverable=a(),this.focusable=a(),d!==this&&(a.data(d,this.widgetFullName,this),this._on(!0,this.element,{remove:function(a){a.target===d&&this.destroy()}}),this.document=a(d.style?d.ownerDocument:d.document||d),this.window=a(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:a.noop,_getCreateEventData:a.noop,_create:a.noop,_init:a.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(a.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:a.noop,widget:function(){return this.element},option:function(c,d){var e,f,g,h=c;if(0===arguments.length)return a.widget.extend({},this.options);if("string"==typeof c)if(h={},e=c.split("."),c=e.shift(),e.length){for(f=h[c]=a.widget.extend({},this.options[c]),g=0;g<e.length-1;g++)f[e[g]]=f[e[g]]||{},f=f[e[g]];if(c=e.pop(),d===b)return f[c]===b?null:f[c];f[c]=d}else{if(d===b)return this.options[c]===b?null:this.options[c];h[c]=d}return this._setOptions(h),this},_setOptions:function(a){var b;for(b in a)this._setOption(b,a[b]);return this},_setOption:function(a,b){return this.options[a]=b,"disabled"===a&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!b).attr("aria-disabled",b),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(b,c,d){var e,f=this;"boolean"!=typeof b&&(d=c,c=b,b=!1),d?(c=e=a(c),this.bindings=this.bindings.add(c)):(d=c,c=this.element,e=this.widget()),a.each(d,function(d,g){function h(){return b||f.options.disabled!==!0&&!a(this).hasClass("ui-state-disabled")?("string"==typeof g?f[g]:g).apply(f,arguments):void 0}"string"!=typeof g&&(h.guid=g.guid=g.guid||h.guid||a.guid++);var i=d.match(/^(\w+)\s*(.*)$/),j=i[1]+f.eventNamespace,k=i[2];k?e.delegate(k,j,h):c.bind(j,h)})},_off:function(a,b){b=(b||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,a.unbind(b).undelegate(b)},_delay:function(a,b){function c(){return("string"==typeof a?d[a]:a).apply(d,arguments)}var d=this;return setTimeout(c,b||0)},_hoverable:function(b){this.hoverable=this.hoverable.add(b),this._on(b,{mouseenter:function(b){a(b.currentTarget).addClass("ui-state-hover")},mouseleave:function(b){a(b.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(b){this.focusable=this.focusable.add(b),this._on(b,{focusin:function(b){a(b.currentTarget).addClass("ui-state-focus")},focusout:function(b){a(b.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(b,c,d){var e,f,g=this.options[b];if(d=d||{},c=a.Event(c),c.type=(b===this.widgetEventPrefix?b:this.widgetEventPrefix+b).toLowerCase(),c.target=this.element[0],f=c.originalEvent)for(e in f)e in c||(c[e]=f[e]);return this.element.trigger(c,d),!(a.isFunction(g)&&g.apply(this.element[0],[c].concat(d))===!1||c.isDefaultPrevented())}},a.each({show:"fadeIn",hide:"fadeOut"},function(b,c){a.Widget.prototype["_"+b]=function(d,e,f){"string"==typeof e&&(e={effect:e});var g,h=e?e===!0||"number"==typeof e?c:e.effect||c:b;e=e||{},"number"==typeof e&&(e={duration:e}),g=!a.isEmptyObject(e),e.complete=f,e.delay&&d.delay(e.delay),g&&a.effects&&a.effects.effect[h]?d[b](e):h!==b&&d[h]?d[h](e.duration,e.easing,f):d.queue(function(c){a(this)[b](),f&&f.call(d[0]),c()})}})}),function(a){"use strict";"function"==typeof define&&define.amd?define(["jquery","jquery.ui.widget"],a):a(window.jQuery)}(function(a){"use strict";a.support.xhrFileUpload=!(!window.XMLHttpRequestUpload||!window.FileReader),a.support.xhrFormDataFileUpload=!!window.FormData,a.support.blobSlice=window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice),a.widget("blueimp.fileupload",{options:{dropZone:a(document),pasteZone:a(document),fileInput:void 0,replaceFileInput:!0,paramName:void 0,singleFileUploads:!0,limitMultiFileUploads:void 0,sequentialUploads:!1,limitConcurrentUploads:void 0,forceIframeTransport:!1,redirect:void 0,redirectParamName:void 0,postMessage:void 0,multipart:!0,maxChunkSize:void 0,uploadedBytes:void 0,recalculateProgress:!0,progressInterval:100,bitrateInterval:500,autoUpload:!0,messages:{uploadedBytes:"Uploaded bytes exceed file size"},i18n:function(b,c){return b=this.messages[b]||b.toString(),c&&a.each(c,function(a,c){b=b.replace("{"+a+"}",c)}),b},formData:function(a){return a.serializeArray()},add:function(b,c){(c.autoUpload||c.autoUpload!==!1&&a(this).fileupload("option","autoUpload"))&&c.process().done(function(){c.submit()})},processData:!1,contentType:!1,cache:!1},_specialOptions:["fileInput","dropZone","pasteZone","multipart","forceIframeTransport"],_blobSlice:a.support.blobSlice&&function(){var a=this.slice||this.webkitSlice||this.mozSlice;return a.apply(this,arguments)},_BitrateTimer:function(){this.timestamp=Date.now?Date.now():(new Date).getTime(),this.loaded=0,this.bitrate=0,this.getBitrate=function(a,b,c){var d=a-this.timestamp;return(!this.bitrate||!c||d>c)&&(this.bitrate=(b-this.loaded)*(1e3/d)*8,this.loaded=b,this.timestamp=a),this.bitrate}},_isXHRUpload:function(b){return!b.forceIframeTransport&&(!b.multipart&&a.support.xhrFileUpload||a.support.xhrFormDataFileUpload)},_getFormData:function(b){var c;return"function"==typeof b.formData?b.formData(b.form):a.isArray(b.formData)?b.formData:"object"===a.type(b.formData)?(c=[],a.each(b.formData,function(a,b){c.push({name:a,value:b})}),c):[]},_getTotal:function(b){var c=0;return a.each(b,function(a,b){c+=b.size||1}),c},_initProgressObject:function(b){var c={loaded:0,total:0,bitrate:0};b._progress?a.extend(b._progress,c):b._progress=c},_initResponseObject:function(a){var b;if(a._response)for(b in a._response)a._response.hasOwnProperty(b)&&delete a._response[b];else a._response={}},_onProgress:function(a,b){if(a.lengthComputable){var c,d=Date.now?Date.now():(new Date).getTime();if(b._time&&b.progressInterval&&d-b._time<b.progressInterval&&a.loaded!==a.total)return;b._time=d,c=Math.floor(a.loaded/a.total*(b.chunkSize||b._progress.total))+(b.uploadedBytes||0),this._progress.loaded+=c-b._progress.loaded,this._progress.bitrate=this._bitrateTimer.getBitrate(d,this._progress.loaded,b.bitrateInterval),b._progress.loaded=b.loaded=c,b._progress.bitrate=b.bitrate=b._bitrateTimer.getBitrate(d,c,b.bitrateInterval),this._trigger("progress",a,b),this._trigger("progressall",a,this._progress)}},_initProgressListener:function(b){var c=this,d=b.xhr?b.xhr():a.ajaxSettings.xhr();d.upload&&(a(d.upload).bind("progress",function(a){var d=a.originalEvent;a.lengthComputable=d.lengthComputable,a.loaded=d.loaded,a.total=d.total,c._onProgress(a,b)}),b.xhr=function(){return d})},_isInstanceOf:function(a,b){return Object.prototype.toString.call(b)==="[object "+a+"]"},_initXHRData:function(b){var c,d=this,e=b.files[0],f=b.multipart||!a.support.xhrFileUpload,g=b.paramName[0];b.headers=b.headers||{},b.contentRange&&(b.headers["Content-Range"]=b.contentRange),f&&!b.blob&&this._isInstanceOf("File",e)||(b.headers["Content-Disposition"]='attachment; filename="'+encodeURI(e.name)+'"'),f?a.support.xhrFormDataFileUpload&&(b.postMessage?(c=this._getFormData(b),b.blob?c.push({name:g,value:b.blob}):a.each(b.files,function(a,d){c.push({name:b.paramName[a]||g,value:d})})):(d._isInstanceOf("FormData",b.formData)?c=b.formData:(c=new FormData,a.each(this._getFormData(b),function(a,b){c.append(b.name,b.value)})),b.blob?c.append(g,b.blob,e.name):a.each(b.files,function(a,e){(d._isInstanceOf("File",e)||d._isInstanceOf("Blob",e))&&c.append(b.paramName[a]||g,e,e.name)})),b.data=c):(b.contentType=e.type,b.data=b.blob||e),b.blob=null},_initIframeSettings:function(b){var c=a("<a></a>").prop("href",b.url).prop("host");b.dataType="iframe "+(b.dataType||""),b.formData=this._getFormData(b),b.redirect&&c&&c!==location.host&&b.formData.push({name:b.redirectParamName||"redirect",value:b.redirect})},_initDataSettings:function(a){this._isXHRUpload(a)?(this._chunkedUpload(a,!0)||(a.data||this._initXHRData(a),this._initProgressListener(a)),a.postMessage&&(a.dataType="postmessage "+(a.dataType||""))):this._initIframeSettings(a)},_getParamName:function(b){var c=a(b.fileInput),d=b.paramName;return d?a.isArray(d)||(d=[d]):(d=[],c.each(function(){for(var b=a(this),c=b.prop("name")||"files[]",e=(b.prop("files")||[1]).length;e;)d.push(c),e-=1}),d.length||(d=[c.prop("name")||"files[]"])),d},_initFormSettings:function(b){b.form&&b.form.length||(b.form=a(b.fileInput.prop("form")),b.form.length||(b.form=a(this.options.fileInput.prop("form")))),b.paramName=this._getParamName(b),b.url||(b.url=b.form.prop("action")||location.href),b.type=(b.type||b.form.prop("method")||"").toUpperCase(),"POST"!==b.type&&"PUT"!==b.type&&"PATCH"!==b.type&&(b.type="POST"),b.formAcceptCharset||(b.formAcceptCharset=b.form.attr("accept-charset"))},_getAJAXSettings:function(b){var c=a.extend({},this.options,b);return this._initFormSettings(c),this._initDataSettings(c),c},_getDeferredState:function(a){return a.state?a.state():a.isResolved()?"resolved":a.isRejected()?"rejected":"pending"},_enhancePromise:function(a){return a.success=a.done,a.error=a.fail,a.complete=a.always,a},_getXHRPromise:function(b,c,d){var e=a.Deferred(),f=e.promise();return c=c||this.options.context||f,b===!0?e.resolveWith(c,d):b===!1&&e.rejectWith(c,d),f.abort=e.promise,this._enhancePromise(f)},_addConvenienceMethods:function(b,c){var d=this,e=function(b){return a.Deferred().resolveWith(d,[b]).promise()};c.process=function(a,b){return(a||b)&&(c._processQueue=this._processQueue=(this._processQueue||e(this)).pipe(a,b)),this._processQueue||e(this)},c.submit=function(){return"pending"!==this.state()&&(c.jqXHR=this.jqXHR=d._trigger("submit",b,this)!==!1&&d._onSend(b,this)),this.jqXHR||d._getXHRPromise()},c.abort=function(){return this.jqXHR?this.jqXHR.abort():d._getXHRPromise()},c.state=function(){return this.jqXHR?d._getDeferredState(this.jqXHR):this._processQueue?d._getDeferredState(this._processQueue):void 0},c.progress=function(){return this._progress},c.response=function(){return this._response}},_getUploadedBytes:function(a){var b=a.getResponseHeader("Range"),c=b&&b.split("-"),d=c&&c.length>1&&parseInt(c[1],10);return d&&d+1},_chunkedUpload:function(b,c){b.uploadedBytes=b.uploadedBytes||0;var d,e,f=this,g=b.files[0],h=g.size,i=b.uploadedBytes,j=b.maxChunkSize||h,k=this._blobSlice,l=a.Deferred(),m=l.promise();return this._isXHRUpload(b)&&k&&(i||h>j)&&!b.data?c?!0:i>=h?(g.error=b.i18n("uploadedBytes"),this._getXHRPromise(!1,b.context,[null,"error",g.error])):(e=function(){var c=a.extend({},b),m=c._progress.loaded;c.blob=k.call(g,i,i+j,g.type),c.chunkSize=c.blob.size,c.contentRange="bytes "+i+"-"+(i+c.chunkSize-1)+"/"+h,f._initXHRData(c),f._initProgressListener(c),d=(f._trigger("chunksend",null,c)!==!1&&a.ajax(c)||f._getXHRPromise(!1,c.context)).done(function(d,g,j){i=f._getUploadedBytes(j)||i+c.chunkSize,m+c.chunkSize-c._progress.loaded&&f._onProgress(a.Event("progress",{lengthComputable:!0,loaded:i-c.uploadedBytes,total:i-c.uploadedBytes}),c),b.uploadedBytes=c.uploadedBytes=i,c.result=d,c.textStatus=g,c.jqXHR=j,f._trigger("chunkdone",null,c),f._trigger("chunkalways",null,c),h>i?e():l.resolveWith(c.context,[d,g,j])}).fail(function(a,b,d){c.jqXHR=a,c.textStatus=b,c.errorThrown=d,f._trigger("chunkfail",null,c),f._trigger("chunkalways",null,c),l.rejectWith(c.context,[a,b,d])})},this._enhancePromise(m),m.abort=function(){return d.abort()},e(),m):!1},_beforeSend:function(a,b){0===this._active&&(this._trigger("start"),this._bitrateTimer=new this._BitrateTimer,this._progress.loaded=this._progress.total=0,this._progress.bitrate=0),this._initResponseObject(b),this._initProgressObject(b),b._progress.loaded=b.loaded=b.uploadedBytes||0,b._progress.total=b.total=this._getTotal(b.files)||1,b._progress.bitrate=b.bitrate=0,this._active+=1,this._progress.loaded+=b.loaded,this._progress.total+=b.total},_onDone:function(b,c,d,e){var f=e._progress.total,g=e._response;e._progress.loaded<f&&this._onProgress(a.Event("progress",{lengthComputable:!0,loaded:f,total:f}),e),g.result=e.result=b,g.textStatus=e.textStatus=c,g.jqXHR=e.jqXHR=d,this._trigger("done",null,e)},_onFail:function(a,b,c,d){var e=d._response;d.recalculateProgress&&(this._progress.loaded-=d._progress.loaded,this._progress.total-=d._progress.total),e.jqXHR=d.jqXHR=a,e.textStatus=d.textStatus=b,e.errorThrown=d.errorThrown=c,this._trigger("fail",null,d)},_onAlways:function(a,b,c,d){this._trigger("always",null,d)},_onSend:function(b,c){c.submit||this._addConvenienceMethods(b,c);var d,e,f,g,h=this,i=h._getAJAXSettings(c),j=function(){return h._sending+=1,i._bitrateTimer=new h._BitrateTimer,d=d||((e||h._trigger("send",b,i)===!1)&&h._getXHRPromise(!1,i.context,e)||h._chunkedUpload(i)||a.ajax(i)).done(function(a,b,c){h._onDone(a,b,c,i)}).fail(function(a,b,c){h._onFail(a,b,c,i)}).always(function(a,b,c){if(h._onAlways(a,b,c,i),h._sending-=1,h._active-=1,i.limitConcurrentUploads&&i.limitConcurrentUploads>h._sending)for(var d=h._slots.shift();d;){if("pending"===h._getDeferredState(d)){d.resolve();break}d=h._slots.shift()}0===h._active&&h._trigger("stop")})};return this._beforeSend(b,i),this.options.sequentialUploads||this.options.limitConcurrentUploads&&this.options.limitConcurrentUploads<=this._sending?(this.options.limitConcurrentUploads>1?(f=a.Deferred(),this._slots.push(f),g=f.pipe(j)):(this._sequence=this._sequence.pipe(j,j),g=this._sequence),g.abort=function(){return e=[void 0,"abort","abort"],d?d.abort():(f&&f.rejectWith(i.context,e),j())},this._enhancePromise(g)):j()},_onAdd:function(b,c){var d,e,f,g,h=this,i=!0,j=a.extend({},this.options,c),k=j.limitMultiFileUploads,l=this._getParamName(j);if((j.singleFileUploads||k)&&this._isXHRUpload(j))if(!j.singleFileUploads&&k)for(f=[],d=[],g=0;g<c.files.length;g+=k)f.push(c.files.slice(g,g+k)),e=l.slice(g,g+k),e.length||(e=l),d.push(e);else d=l;else f=[c.files],d=[l];return c.originalFiles=c.files,a.each(f||c.files,function(e,g){var j=a.extend({},c);return j.files=f?g:[g],j.paramName=d[e],h._initResponseObject(j),h._initProgressObject(j),h._addConvenienceMethods(b,j),i=h._trigger("add",b,j)}),i},_replaceFileInput:function(b){var c=b.clone(!0);a("<form></form>").append(c)[0].reset(),b.after(c).detach(),a.cleanData(b.unbind("remove")),this.options.fileInput=this.options.fileInput.map(function(a,d){return d===b[0]?c[0]:d}),b[0]===this.element[0]&&(this.element=c)},_handleFileTreeEntry:function(b,c){var d,e=this,f=a.Deferred(),g=function(a){a&&!a.entry&&(a.entry=b),f.resolve([a])};return c=c||"",b.isFile?b._file?(b._file.relativePath=c,f.resolve(b._file)):b.file(function(a){a.relativePath=c,f.resolve(a)},g):b.isDirectory?(d=b.createReader(),d.readEntries(function(a){e._handleFileTreeEntries(a,c+b.name+"/").done(function(a){f.resolve(a)}).fail(g)},g)):f.resolve([]),f.promise()},_handleFileTreeEntries:function(b,c){var d=this;return a.when.apply(a,a.map(b,function(a){return d._handleFileTreeEntry(a,c)})).pipe(function(){return Array.prototype.concat.apply([],arguments)})},_getDroppedFiles:function(b){b=b||{};var c=b.items;return c&&c.length&&(c[0].webkitGetAsEntry||c[0].getAsEntry)?this._handleFileTreeEntries(a.map(c,function(a){var b;return a.webkitGetAsEntry?(b=a.webkitGetAsEntry(),b&&(b._file=a.getAsFile()),b):a.getAsEntry()})):a.Deferred().resolve(a.makeArray(b.files)).promise()},_getSingleFileInputFiles:function(b){b=a(b);var c,d,e=b.prop("webkitEntries")||b.prop("entries");if(e&&e.length)return this._handleFileTreeEntries(e);if(c=a.makeArray(b.prop("files")),c.length)void 0===c[0].name&&c[0].fileName&&a.each(c,function(a,b){b.name=b.fileName,b.size=b.fileSize});else{if(d=b.prop("value"),!d)return a.Deferred().resolve([]).promise();c=[{name:d.replace(/^.*\\/,"")}]}return a.Deferred().resolve(c).promise()},_getFileInputFiles:function(b){return b instanceof a&&1!==b.length?a.when.apply(a,a.map(b,this._getSingleFileInputFiles)).pipe(function(){return Array.prototype.concat.apply([],arguments)}):this._getSingleFileInputFiles(b)},_onChange:function(b){var c=this,d={fileInput:a(b.target),form:a(b.target.form)};this._getFileInputFiles(d.fileInput).always(function(a){d.files=a,c.options.replaceFileInput&&c._replaceFileInput(d.fileInput),c._trigger("change",b,d)!==!1&&c._onAdd(b,d)})},_onPaste:function(b){var c=b.originalEvent&&b.originalEvent.clipboardData&&b.originalEvent.clipboardData.items,d={files:[]};return c&&c.length&&(a.each(c,function(a,b){var c=b.getAsFile&&b.getAsFile();c&&d.files.push(c)}),this._trigger("paste",b,d)===!1||this._onAdd(b,d)===!1)?!1:void 0},_onDrop:function(a){a.dataTransfer=a.originalEvent&&a.originalEvent.dataTransfer;var b=this,c=a.dataTransfer,d={};c&&c.files&&c.files.length&&(a.preventDefault(),this._getDroppedFiles(c).always(function(c){d.files=c,b._trigger("drop",a,d)!==!1&&b._onAdd(a,d)}))},_onDragOver:function(b){b.dataTransfer=b.originalEvent&&b.originalEvent.dataTransfer;var c=b.dataTransfer;if(c){if(this._trigger("dragover",b)===!1)return!1;-1!==a.inArray("Files",c.types)&&(c.dropEffect="copy",b.preventDefault())}},_initEventHandlers:function(){this._isXHRUpload(this.options)&&(this._on(this.options.dropZone,{dragover:this._onDragOver,drop:this._onDrop}),this._on(this.options.pasteZone,{paste:this._onPaste})),this._on(this.options.fileInput,{change:this._onChange})},_destroyEventHandlers:function(){this._off(this.options.dropZone,"dragover drop"),this._off(this.options.pasteZone,"paste"),this._off(this.options.fileInput,"change")},_setOption:function(b,c){var d=-1!==a.inArray(b,this._specialOptions);d&&this._destroyEventHandlers(),this._super(b,c),d&&(this._initSpecialOptions(),this._initEventHandlers())},_initSpecialOptions:function(){var b=this.options;void 0===b.fileInput?b.fileInput=this.element.is('input[type="file"]')?this.element:this.element.find('input[type="file"]'):b.fileInput instanceof a||(b.fileInput=a(b.fileInput)),
b.dropZone instanceof a||(b.dropZone=a(b.dropZone)),b.pasteZone instanceof a||(b.pasteZone=a(b.pasteZone))},_getRegExp:function(a){var b=a.split("/"),c=b.pop();return b.shift(),new RegExp(b.join("/"),c)},_isRegExpOption:function(b,c){return"url"!==b&&"string"===a.type(c)&&/^\/.*\/[igm]{0,3}$/.test(c)},_initDataAttributes:function(){var b=this,c=this.options;a.each(a(this.element[0].cloneNode(!1)).data(),function(a,d){b._isRegExpOption(a,d)&&(d=b._getRegExp(d)),c[a]=d})},_create:function(){this._initDataAttributes(),this._initSpecialOptions(),this._slots=[],this._sequence=this._getXHRPromise(!0),this._sending=this._active=0,this._initProgressObject(this),this._initEventHandlers()},active:function(){return this._active},progress:function(){return this._progress},add:function(b){var c=this;b&&!this.options.disabled&&(b.fileInput&&!b.files?this._getFileInputFiles(b.fileInput).always(function(a){b.files=a,c._onAdd(null,b)}):(b.files=a.makeArray(b.files),this._onAdd(null,b)))},send:function(b){if(b&&!this.options.disabled){if(b.fileInput&&!b.files){var c,d,e=this,f=a.Deferred(),g=f.promise();return g.abort=function(){return d=!0,c?c.abort():(f.reject(null,"abort","abort"),g)},this._getFileInputFiles(b.fileInput).always(function(a){d||(b.files=a,c=e._onSend(null,b).then(function(a,b,c){f.resolve(a,b,c)},function(a,b,c){f.reject(a,b,c)}))}),this._enhancePromise(g)}if(b.files=a.makeArray(b.files),b.files.length)return this._onSend(null,b)}return this._getXHRPromise(!1,b&&b.context)}})}),function(a){"use strict";"function"==typeof define&&define.amd?define(["jquery","./jquery.fileupload"],a):a(window.jQuery)}(function(a){"use strict";var b=a.blueimp.fileupload.prototype.options.add;a.widget("blueimp.fileupload",a.blueimp.fileupload,{options:{processQueue:[],add:function(c,d){var e=a(this);d.process(function(){return e.fileupload("process",d)}),b.call(this,c,d)}},processActions:{},_processFile:function(b){var c=this,d=a.Deferred().resolveWith(c,[b]),e=d.promise();return this._trigger("process",null,b),a.each(b.processQueue,function(a,b){var d=function(a){return c.processActions[b.action].call(c,a,b)};e=e.pipe(d,b.always&&d)}),e.done(function(){c._trigger("processdone",null,b),c._trigger("processalways",null,b)}).fail(function(){c._trigger("processfail",null,b),c._trigger("processalways",null,b)}),e},_transformProcessQueue:function(b){var c=[];a.each(b.processQueue,function(){var d={},e=this.action,f=this.prefix===!0?e:this.prefix;a.each(this,function(c,e){"string"===a.type(e)&&"@"===e.charAt(0)?d[c]=b[e.slice(1)||(f?f+c.charAt(0).toUpperCase()+c.slice(1):c)]:d[c]=e}),c.push(d)}),b.processQueue=c},processing:function(){return this._processing},process:function(b){var c=this,d=a.extend({},this.options,b);return d.processQueue&&d.processQueue.length&&(this._transformProcessQueue(d),0===this._processing&&this._trigger("processstart"),a.each(b.files,function(b){var e=b?a.extend({},d):d,f=function(){return c._processFile(e)};e.index=b,c._processing+=1,c._processingQueue=c._processingQueue.pipe(f,f).always(function(){c._processing-=1,0===c._processing&&c._trigger("processstop")})})),this._processingQueue},_create:function(){this._super(),this._processing=0,this._processingQueue=a.Deferred().resolveWith(this).promise()}})}),function(a){"use strict";"function"==typeof define&&define.amd?define(["jquery","load-image","load-image-meta","load-image-exif","load-image-ios","canvas-to-blob","./jquery.fileupload-process"],a):a(window.jQuery,window.loadImage)}(function(a,b){"use strict";a.blueimp.fileupload.prototype.options.processQueue.unshift({action:"loadImageMetaData",disableImageHead:"@",disableExif:"@",disableExifThumbnail:"@",disableExifSub:"@",disableExifGps:"@",disabled:"@disableImageMetaDataLoad"},{action:"loadImage",prefix:!0,fileTypes:"@",maxFileSize:"@",noRevoke:"@",disabled:"@disableImageLoad"},{action:"resizeImage",prefix:"image",maxWidth:"@",maxHeight:"@",minWidth:"@",minHeight:"@",crop:"@",orientation:"@",forceResize:"@",disabled:"@disableImageResize"},{action:"saveImage",quality:"@imageQuality",type:"@imageType",disabled:"@disableImageResize"},{action:"saveImageMetaData",disabled:"@disableImageMetaDataSave"},{action:"resizeImage",prefix:"preview",maxWidth:"@",maxHeight:"@",minWidth:"@",minHeight:"@",crop:"@",orientation:"@",thumbnail:"@",canvas:"@",disabled:"@disableImagePreview"},{action:"setImage",name:"@imagePreviewName",disabled:"@disableImagePreview"},{action:"deleteImageReferences",disabled:"@disableImageReferencesDeletion"}),a.widget("blueimp.fileupload",a.blueimp.fileupload,{options:{loadImageFileTypes:/^image\/(gif|jpeg|png)$/,loadImageMaxFileSize:1e7,imageMaxWidth:1920,imageMaxHeight:1080,imageOrientation:!1,imageCrop:!1,disableImageResize:!0,previewMaxWidth:80,previewMaxHeight:80,previewOrientation:!0,previewThumbnail:!0,previewCrop:!1,previewCanvas:!0},processActions:{loadImage:function(c,d){if(d.disabled)return c;var e=this,f=c.files[c.index],g=a.Deferred();return"number"===a.type(d.maxFileSize)&&f.size>d.maxFileSize||d.fileTypes&&!d.fileTypes.test(f.type)||!b(f,function(a){a.src&&(c.img=a),g.resolveWith(e,[c])},d)?c:g.promise()},resizeImage:function(c,d){if(d.disabled||!c.canvas&&!c.img)return c;d=a.extend({canvas:!0},d);var e,f=this,g=a.Deferred(),h=d.canvas&&c.canvas||c.img,i=function(a){a&&(a.width!==h.width||a.height!==h.height||d.forceResize)&&(c[a.getContext?"canvas":"img"]=a),c.preview=a,g.resolveWith(f,[c])};return c.exif&&(d.orientation===!0&&(d.orientation=c.exif.get("Orientation")),d.thumbnail&&(e=c.exif.get("Thumbnail")))?(b(e,i,d),g.promise()):h?(i(b.scale(h,d)),g.promise()):c},saveImage:function(b,c){if(!b.canvas||c.disabled)return b;var d=this,e=b.files[b.index],f=a.Deferred();return b.canvas.toBlob?(b.canvas.toBlob(function(a){a.name||(e.type===a.type?a.name=e.name:e.name&&(a.name=e.name.replace(/\..+$/,"."+a.type.substr(6)))),e.type!==a.type&&delete b.imageHead,b.files[b.index]=a,f.resolveWith(d,[b])},c.type||e.type,c.quality),f.promise()):b},loadImageMetaData:function(c,d){if(d.disabled)return c;var e=this,f=a.Deferred();return b.parseMetaData(c.files[c.index],function(b){a.extend(c,b),f.resolveWith(e,[c])},d),f.promise()},saveImageMetaData:function(a,b){if(!(a.imageHead&&a.canvas&&a.canvas.toBlob)||b.disabled)return a;var c=a.files[a.index],d=new Blob([a.imageHead,this._blobSlice.call(c,20)],{type:c.type});return d.name=c.name,a.files[a.index]=d,a},setImage:function(a,b){return a.preview&&!b.disabled&&(a.files[a.index][b.name||"preview"]=a.preview),a},deleteImageReferences:function(a,b){return b.disabled||(delete a.img,delete a.canvas,delete a.preview,delete a.imageHead),a}}})}),function(a){"use strict";"function"==typeof define&&define.amd?define(["jquery","./jquery.fileupload-process"],a):a(window.jQuery)}(function(a){"use strict";a.blueimp.fileupload.prototype.options.processQueue.push({action:"validate",always:!0,acceptFileTypes:"@",maxFileSize:"@",minFileSize:"@",maxNumberOfFiles:"@",disabled:"@disableValidation"}),a.widget("blueimp.fileupload",a.blueimp.fileupload,{options:{getNumberOfFiles:a.noop,messages:{maxNumberOfFiles:"Maximum number of files exceeded",acceptFileTypes:"File type not allowed",maxFileSize:"File is too large",minFileSize:"File is too small"}},processActions:{validate:function(b,c){if(c.disabled)return b;var d=a.Deferred(),e=this.options,f=b.files[b.index];return"number"===a.type(c.maxNumberOfFiles)&&(e.getNumberOfFiles()||0)+b.files.length>c.maxNumberOfFiles?f.error=e.i18n("maxNumberOfFiles"):!c.acceptFileTypes||c.acceptFileTypes.test(f.type)||c.acceptFileTypes.test(f.name)?c.maxFileSize&&f.size>c.maxFileSize?f.error=e.i18n("maxFileSize"):"number"===a.type(f.size)&&f.size<c.minFileSize?f.error=e.i18n("minFileSize"):delete f.error:f.error=e.i18n("acceptFileTypes"),f.error||b.files.error?(b.files.error=!0,d.rejectWith(this,[b])):d.resolveWith(this,[b]),d.promise()}}})}),function(){var a;a=jQuery,a.bootstrapGrowl=function(b,c){var d,e,f;switch(c=a.extend({},a.bootstrapGrowl.default_options,c),d=a("<div>"),d.attr("class","bootstrap-growl alert"),c.type&&d.addClass("alert-"+c.type),c.allow_dismiss&&(d.addClass("alert-dismissible"),d.append('<button  class="close" data-dismiss="alert" type="button"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>')),d.append(b),c.top_offset&&(c.offset={from:"top",amount:c.top_offset}),f=c.offset.amount,a(".bootstrap-growl").each(function(){return f=Math.max(f,parseInt(a(this).css(c.offset.from))+a(this).outerHeight()+c.stackup_spacing)}),e={position:"body"===c.ele?"fixed":"absolute",margin:0,"z-index":"9999",display:"none"},e[c.offset.from]=f+"px",d.css(e),"auto"!==c.width&&d.css("width",c.width+"px"),a(c.ele).append(d),c.align){case"center":d.css({left:"50%","margin-left":"-"+d.outerWidth()/2+"px"});break;case"left":d.css("left","20px");break;default:d.css("right","20px")}return d.fadeIn(),c.delay>0&&d.delay(c.delay).fadeOut(function(){return a(this).alert("close")}),d},a.bootstrapGrowl.default_options={ele:"body",type:"info",offset:{from:"top",amount:20},align:"right",width:250,delay:4e3,allow_dismiss:!0,stackup_spacing:10}}.call(this),function(){Backbone.TemplateManager={templates:{},baseUrl:"/templates/{name}",loadings:new Array,currentViews:{},queues:{},set:function(a,b){this.templates[a]=b;var c=this.queues[a];if(c)for(var d=0;d<c.length;d++)c[d].dfd.resolveWith(c[d].context,[b]);this.queues[a]=new Array},notLoading:function(a){var b=this.loadings.indexOf(a);if(-1!=b){var c=this.loadings.slice(b+1||this.loadings.length);return this.loadings.length=0>b?this.loadings.length+b:b,this.loadings.push.apply(this,c)}},get:function(a,b){if(null==a)throw"Template name must be defined";var c=$.Deferred();if(this.templates[a])c.resolveWith(b,[this.templates[a]]);else if(this.queues[a]||(this.queues[a]=new Array),this.queues[a].push({dfd:c,context:b}),-1==this.loadings.indexOf(a)){this.loadings.push(a);var d=Backbone.TemplateManager.baseUrl.replace("{name}",a);$.get(d,function(b){var c=_.template(b);Backbone.TemplateManager.notLoading(a),Backbone.TemplateManager.set(a,c)}).error(function(){Backbone.TemplateManager.notLoading(a)})}return c.promise()}},Backbone.DeferedView=Backbone.View.extend({templateName:null,container:null,loadedCountDown:1,deferedRender:function(a){this.templateName;return this},getHelpers:function(){return{displaySize:function(a){var b=["B","KB","MB","GB","TB"];if(0==a)return"0 B";var c=parseInt(Math.floor(Math.log(a)/Math.log(1024)));return(a/Math.pow(1024,c)).toFixed(2)+" "+b[c]},displayDate:function(a){return new Date(a).toLocaleString()}}},renderTo:function(a,b){return Backbone.TemplateManager.currentViews[a]&&Backbone.TemplateManager.currentViews[a].close(),Backbone.TemplateManager.currentViews[a]=this,this.isLoaded(!1),$(a).html(this.deferedRender(b).el),this},isLoaded:function(a){return void 0!=a&&(this.loadedCountDown+=a?-1:1,this.loadedCountDown>0?$(this.el).addClass("loading"):$(this.el).removeClass("loading")),0==this.loadedCountDown},close:function(){"function"==typeof this.onPreClose&&this.onPreClose(),this.remove(),this.unbind(),"function"==typeof this.onClose&&this.onClose()}})}(),function(a){a.UploadManager=a.DeferedView.extend({defaults:{uploadUrl:"/upload",autoUpload:!1,fileUploadId:"fileupload",startUploadsId:"start-uploads-button",cancelUploadsId:"cancel-uploads-button",dataType:"json"},file_id:0,className:"upload-manager",initialize:function(b){this.options=$.extend(this.defaults,b),this.files=new a.UploadManager.FileCollection,this.options.fileUploadHTML||(this.options.fileUploadHTML='<input id="'+this.options.fileUploadId+'" type="file" name="attachment[]" multiple="multiple" >'),this.uploadProcess=$(this.options.fileUploadHTML).fileupload({dataType:this.options.dataType,url:this.options.uploadUrl,formData:this.options.formData,autoUpload:this.options.autoUpload,singleFileUploads:this.options.singleFileUploads,maxNumberOfFiles:this.options.maxNumberOfFiles,dropZone:this.options.dropZone,pasteZone:this.options.pasteZone,acceptFileTypes:this.options.acceptFileTypes}),this.bindProcessEvents(),this.bindLocal()},bindLocal:function(){var a=this;this.on("fileadd",function(b){a.files.add(b),a.renderFile(b)}).on("fileprogress",function(a,b){a.progress(b)}).on("filefail",function(a,b){a.fail(b)}).on("filedone",function(a,b){a.done(b.result)}),this.files.on("all",this.update,this)},renderFile:function(b){var c=new a.UploadManager.FileView($.extend(this.options,{model:b}));$("#file-list",self.el).append(c.deferedRender().el)},update:function(){var a=$("#"+this.options.cancelUploadsId+", #"+this.options.startUploadsId,this.el),b=$("#file-list .no-data",this.el);this.files.length>0?(a.removeClass("hidden"),b.addClass("hidden")):(a.addClass("hidden"),b.removeClass("hidden"))},bindProcessEvents:function(){_.isUndefined(authuser.user)||this.$el.html(i18next.t("Drop files to upload"));var b=this;this.uploadProcess.on("fileuploaddragover",function(a){b.trigger("fileuploaddragover",a)}).on("fileuploaddrop",function(a,c){b.trigger("fileuploaddrop",a,c)}).on("fileuploadadd",function(c,d){d.uploadManagerFiles=[],$.each(d.files,function(c,e){e.id=b.file_id++;var f=new a.UploadManager.File({data:e,processor:d});d.uploadManagerFiles.push(f),b.trigger("fileadd",f)})}).on("fileuploadprogress",function(a,c){$.each(c.uploadManagerFiles,function(a,d){b.trigger("fileprogress",d,c)})}).on("fileuploadfail",function(a,c){$.each(c.uploadManagerFiles,function(a,d){var e="Unknown error";"string"==typeof c.errorThrown?e=c.errorThrown:"object"==typeof c.errorThrown?e=c.errorThrown.message:c.result&&(e=c.result.error?c.result.error:c.result.files&&c.result.files[a]&&c.result.files[a].error?c.result.files[a].error:"Unknown remote error"),b.trigger("filefail",d,e)})}).on("fileuploaddone",function(a,c){$.each(c.uploadManagerFiles,function(a,d){b.trigger("filedone",d,c)})})},render:function(){$(this.el).html(this.template()),this.update();var a=$("#"+this.options.fileUploadId,this.el),b=this;a.on("change",function(){b.uploadProcess.fileupload("add",{fileInput:$(this)})}),$("#"+this.options.cancelUploadsId,this.el).click(function(){for(;b.files.length;)b.files.at(0).cancel()}),$("#"+this.options.startUploadsId,this.el).click(function(){b.files.each(function(a){a.start()})}),$.each(this.files,function(a,c){b.renderFile(c)})}},{File:a.Model.extend({state:"pending",start:function(){this.isPending()&&(this.get("processor").submit(),this.state="running",this.trigger("filestarted",this))},cancel:function(){this.get("processor").abort(),this.destroy(),this.state="canceled",this.trigger("filecanceled",this)},progress:function(a){this.trigger("fileprogress",this.get("processor").progress())},fail:function(a){this.state="error",this.trigger("filefailed",a)},done:function(a){this.state="error",this.trigger("filedone",a)},isPending:function(){return"pending"==this.getState()},isRunning:function(){return"running"==this.getState()},isDone:function(){return"done"==this.getState()},isError:function(){return"error"==this.getState()||"canceled"==this.getState},getState:function(){return this.state}}),FileCollection:a.Collection.extend({model:this.File}),FileView:a.DeferedView.extend({className:"upload-manager-file row-fluid",initialize:function(a){this.processUploadMsg=a.processUploadMsg,this.doneMsg=a.doneMsg,this.model.on("destroy",this.close,this),this.model.on("fileprogress",this.updateProgress,this),this.model.on("filefailed",this.hasFailed,this),this.model.on("filedone",this.hasDone,this),this.model.on("all",this.update,this)},render:function(){$(this.el).html(this.template(this.computeData())),this.bindEvents(),this.update()},updateProgress:function(a){var b=parseInt(a.loaded/a.total*100,10),c=this.getHelpers().displaySize(a.loaded)+" of "+this.getHelpers().displaySize(a.total);b>=100&&this.processUploadMsg&&(c=this.processUploadMsg),$(".progress",this.el).find(".bar").css("width",b+"%").parent().find(".progress-label").html(c)},hasFailed:function(a){$(".message",this.el).html('<i class="icon-error"></i> '+a)},hasDone:function(a){$(".message",this.el).html('<i class="icon-success"></i> '+(this.doneMsg||"Uploaded"))},update:function(){var a=$(".size, #btn-cancel",this.el),b=$(".progress, #btn-cancel",this.el),c=$(".message, #btn-clear",this.el);this.model.isPending()?(b.add(c).addClass("hidden"),a.removeClass("hidden")):this.model.isRunning()?(a.add(c).addClass("hidden"),b.removeClass("hidden")):(this.model.isDone()||this.model.isError())&&(a.add(b).addClass("hidden"),c.removeClass("hidden"))},bindEvents:function(){var a=this;$("#btn-cancel",this.el).click(function(){a.model.cancel(),a.collection.remove(a.model)}),$("#btn-clear",this.el).click(function(){a.model.destroy(),a.collection.remove(a.model)})},computeData:function(){return $.extend(this.getHelpers(),this.model.get("data"))}})})}(Backbone),function(){Backbone.BatchCollection=Backbone.Collection.extend({isNew:function(){var a=this.all(function(a){return!_.has(a,"id")});return a},isChanged:function(){var a=this.some(function(a){return a.hasChanged()});return a},save:function(a){return _.isUndefined(a)&&(a={}),_.defaults(a,{url:_.result(this,"url"),contentType:"application/json",silent:!1,data:this.toJSON()}),this.isEmpty()?this.batchDelete(a):this.isNew()?this.batchAdd(a):this.batchUpdate(a)},batch:function(a){var b={type:a.type,url:a.url,data:JSON.stringify(a.data),contentType:a.contentType,success:a.success,error:a.error,complete:a.complete,context:this},c=$.ajax(b);return c.done(function(b){a.silent||this.trigger("sync",this.models)}),a.silent||this.trigger("request",this.models),c},batchDelete:function(a){return _.isUndefined(a.type)&&(a.type="PUT"),this.batch(a)},batchUpdate:function(a){return _.isUndefined(a.type)&&(a.type="PUT"),this.batch(a)},batchAdd:function(a){return _.isUndefined(a.type)&&(a.type="POST"),this.batch(a)}}),_.extend(Backbone.BatchCollection.prototype,Backbone.Event)}.call(this),function(){var a=function(a,b){return function(){return a.apply(b,arguments)}},b=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1};!function(c){var d;return c.fn.pagination=function(a){return this.each(function(){return new d(c(this),a).render()})},d=function(){function d(b,d){var e;this.el=b,this.change=a(this.change,this),this.clicked=a(this.clicked,this),this.isValidPage=a(this.isValidPage,this),this.render=a(this.render,this),this.pages=a(this.pages,this),this.buildLink=a(this.buildLink,this),this.buildLi=a(this.buildLi,this),this.buildLinks=a(this.buildLinks,this),e={current_page:1,total_pages:1,next:"&gt;",prev:"&lt;",first:!1,last:!1,display_max:8,ignore_single_page:!0,no_turbolink:!1},this.settings=c.extend(e,d),c(document).on?c(this.el).on("click","a",this.clicked):c("a",this.el).live("click",this.clicked),this.el.data("paginationView",this)}return d.prototype.buildLinks=function(){var a,b,c,d,e,f;for(a=this.settings.current_page,b=[],this.settings.first&&b.push(this.buildLi(1,this.settings.first)),this.settings.prev&&b.push(this.buildLi(a-1,this.settings.prev)),f=this.pages(),d=0,e=f.length;e>d;d++)c=f[d],b.push(this.buildLi(c,c));return this.settings.next&&b.push(this.buildLi(a+1,this.settings.next)),this.settings.last&&b.push(this.buildLi(this.settings.total_pages,this.settings.last)),b},d.prototype.buildLi=function(a,b){return null==b&&(b=a),"<li>"+this.buildLink(a,b)+"</li>"},d.prototype.buildLink=function(a,b){var c;return null==b&&(b=a),c=this.settings.no_turbolink?" data-no-turbolink='1'":"","<a href='#' data-page='"+a+"'"+c+">"+b+"</a>"},d.prototype.pages=function(){var a,d,e,f,g,h,i,j,k,l,m,n,o,p,q;if(h=this.settings.total_pages,d=this.settings.current_page,g=[],e=this.settings.display_max,h>10){if(g.push(1),d>e-1&&g.push(".."),d===h)for(f=i=n=h-e;h>=n?h>=i:i>=h;f=h>=n?++i:--i)g.push(f);if(e-1>h-d)for(f=j=o=h-e;h>=o?h>=j:j>=h;f=h>=o?++j:--j)g.push(f);else if(d>e-1)for(a=e/2,f=k=p=d-a,q=d+a;q>=p?q>=k:k>=q;f=q>=p?++k:--k)g.push(f);else if(e-1>=d)for(f=l=2;e>=2?e>=l:l>=e;f=e>=2?++l:--l)g.push(f);g=c.grep(g,function(a,b){return c.inArray(a,g)===b}),b.call(g,h)<0&&(e-1>h-d||g.push(".."),g.push(h))}else for(f=m=1;h>=1?h>=m:m>=h;f=h>=1?++m:--m)g.push(f);return g},d.prototype.render=function(){var a,b,d,e,f;if(this.el.html(""),1!==this.settings.total_pages||!this.settings.ignore_single_page){for(a=["<div class='jquery-bootstrap-pagination'>"],a.push("<ul class='pagination list-group-item-heading'>"),f=this.buildLinks(),d=0,e=f.length;e>d;d++)b=f[d],a.push(b);return a.push("</ul>"),a.push("</div>"),this.el.html(a.join("\n")),c("[data-page="+this.settings.current_page+"]",this.el).closest("li").addClass("active"),c("[data-page='..']",this.el).closest("li").addClass("disabled"),c("[data-page='0']",this.el).closest("li").addClass("disabled"),c("[data-page='"+(this.settings.total_pages+1)+"']",this.el).closest("li").addClass("disabled"),1===this.settings.current_page&&this.settings.first&&c("li:first",this.el).removeClass("active").addClass("disabled"),this.settings.current_page===this.settings.total_pages&&this.settings.last?c("li:last",this.el).removeClass("active").addClass("disabled"):void 0}},d.prototype.isValidPage=function(a){return a>0&&a!==this.settings.current_page&&a<=this.settings.total_pages},d.prototype.clicked=function(a){var b;return b=parseInt(c(a.target).attr("data-page")),this.isValidPage(b)?(null!=this.settings.callback&&this.settings.callback(a,b),this.change(b)):void 0},d.prototype.change=function(a){return a=parseInt(a),this.isValidPage(a)?(this.settings.current_page=a,this.render()):void 0},d}()}(jQuery)}.call(this),function(a,b){"use strict";a.fn.gantt=function(c){function d(a,b){for(var c=1;;c++){var d=new Date(a);if(d.setHours(a.getHours()+b*c),d.getTime()!==a.getTime())return d}}var e=["hours","days","weeks","months"],f={source:[],itemsPerPage:7,months:["January","February","March","April","May","June","July","August","September","October","November","December"],dow:["S","M","T","W","T","F","S"],navigate:"buttons",scale:"days",useCookie:!1,maxScale:"months",minScale:"hours",waitText:"",onItemClick:function(a){},onAddClick:function(a){},onRender:function(){},scrollToToday:!0};c&&a.extend(f,c),f.useCookie=f.useCookie&&a.isFunction(a.cookie),a.extend(a.expr[":"],{findday:function(b,c,d){var e=new Date(parseInt(d[3],10)),f=a(b).attr("id");f=f?f:"";var g=f.indexOf("-")+1,h=new Date(parseInt(f.substring(g,f.length),10));return e=new Date(e.getFullYear(),e.getMonth(),e.getDate()),h=new Date(h.getFullYear(),h.getMonth(),h.getDate()),e.getTime()===h.getTime()}}),a.extend(a.expr[":"],{findweek:function(b,c,d){var e=new Date(parseInt(d[3],10)),f=a(b).attr("id");f=f?f:"";var g=f.indexOf("-")+1;e=e.getFullYear()+"-"+e.getDayForWeek().getWeekOfYear();var h=f.substring(g,f.length);return e===h}}),a.extend(a.expr[":"],{findmonth:function(b,c,d){var e=new Date(parseInt(d[3],10));e=e.getFullYear()+"-"+e.getMonth();var f=a(b).attr("id");f=f?f:"";var g=f.indexOf("-")+1,h=f.substring(g,f.length);return e===h}}),Date.prototype.getWeekId=function(){var a=this.getFullYear(),b=this.getDayForWeek().getWeekOfYear(),c=this.getMonth();return 11===c&&1===b&&a++,"dh-"+a+"-"+b},Date.prototype.getRepDate=function(){switch(f.scale){case"hours":return this.getTime();case"weeks":return this.getDayForWeek().getTime();case"months":return new Date(this.getFullYear(),this.getMonth(),1).getTime();default:return this.getTime()}},Date.prototype.getDayOfYear=function(){var a=new Date(this.getFullYear(),0,0),b=new Date(this.getFullYear(),this.getMonth(),this.getDate());return Math.ceil((b-a)/864e5)},Date.prototype.getWeekOfYear=function(){var a=new Date(this.getFullYear(),0,1),b=new Date(this.getFullYear(),this.getMonth(),this.getDate());a.getDay()>3&&(a=new Date(b.getFullYear(),0,7-a.getDay()));var c=b.getDayOfYear()-a.getDayOfYear();return Math.ceil(c/7)},Date.prototype.getDaysInMonth=function(){return 32-new Date(this.getFullYear(),this.getMonth(),32).getDate()},Date.prototype.hasWeek=function(){var a=new Date(this.valueOf());a.setDate(a.getDate()-a.getDay());var b=new Date(this.valueOf());return b.setDate(b.getDate()+(6-b.getDay())),a.getMonth()===b.getMonth()?!0:a.getMonth()===this.getMonth()&&b.getDate()<4||a.getMonth()!==this.getMonth()&&b.getDate()>=4},Date.prototype.getDayForWeek=function(){var a=new Date(this.valueOf());a.setDate(a.getDate()-a.getDay());var b=new Date(this.valueOf());return b.setDate(b.getDate()+(6-b.getDay())),a.getMonth()===b.getMonth()||a.getMonth()!==b.getMonth()&&b.getDate()>=4?new Date(b.setDate(b.getDate()-3)):new Date(a.setDate(a.getDate()+3))};var g={elementFromPoint:function(){return"CSS1Compat"===document.compatMode?function(a,b){return a-=window.pageXOffset,b-=window.pageYOffset,document.elementFromPoint(a,b)}:function(b,c){return b-=a(document).scrollLeft(),c-=a(document).scrollTop(),document.elementFromPoint(b,c)}}(),create:function(b){"string"!=typeof f.source?(b.data=f.source,g.init(b)):a.getJSON(f.source,function(a){b.data=a,g.init(b)})},init:function(a){a.rowsNum=a.data.length,a.pageCount=Math.ceil(a.rowsNum/f.itemsPerPage),a.rowsOnLastPage=a.rowsNum-Math.floor(a.rowsNum/f.itemsPerPage)*f.itemsPerPage,a.dateStart=h.getMinDate(a),a.dateEnd=h.getMaxDate(a),g.waitToggle(a,!0,function(){g.render(a)})},render:function(b){var c=a('<div class="fn-content"/>'),d=g.leftPanel(b);c.append(d);var e,h,i=g.rightPanel(b,d);c.append(i),c.append(g.navigation(b));var j=i.find(".dataPanel");if(b.gantt=a('<div class="fn-gantt" />').append(c),a(b).empty().append(b.gantt),b.scrollNavigation.panelMargin=parseInt(j.css("margin-left").replace("px",""),10),b.scrollNavigation.panelMaxPos=j.width()-i.width(),b.scrollNavigation.canScroll=j.width()>i.width(),g.markNow(b),g.fillData(b,j,d),f.useCookie){var k=a.cookie(this.cookieKey+"ScrollPos");k&&(b.hPosition=k)}f.scrollToToday?(g.navigateTo(b,"now"),g.scrollPanel(b,0)):(0!==b.hPosition&&(b.scaleOldWidth?(e=j.width()-i.width(),h=e*b.hPosition/b.scaleOldWidth,h=h>0?0:h,j.css({"margin-left":h+"px"}),b.scrollNavigation.panelMargin=h,b.hPosition=h,b.scaleOldWidth=null):(j.css({"margin-left":b.hPosition+"px"}),b.scrollNavigation.panelMargin=b.hPosition)),g.repositionLabel(b)),j.css({height:d.height()}),g.waitToggle(b,!1),f.onRender()},leftPanel:function(b){var c=a('<div class="leftPanel"/>').append(a('<div class="row spacer"/>').css("height",h.getCellSize()*b.headerRows+"px").css("width","100%")),d=[];return a.each(b.data,function(a,c){a>=b.pageNum*f.itemsPerPage&&a<b.pageNum*f.itemsPerPage+f.itemsPerPage&&(d.push('<div class="row name row'+a+(c.desc?"":" fn-wide")+'" id="rowheader'+a+'" offset="'+a%f.itemsPerPage*h.getCellSize()+'">'),d.push('<span title="'+(c.name||"")+'" class="fn-label'+(c.cssClass?" "+c.cssClass:"")+'">'+(c.name||"")+"</span>"),d.push("</div>"),c.desc&&(d.push('<div class="row desc row'+a+' " id="RowdId_'+a+'" data-id="'+c.id+'">'),d.push('<span title="'+(c.desc||"")+'" class="fn-label'+(c.cssClass?" "+c.cssClass:"")+'">'+c.desc+"</span>"),d.push("</div>")))}),c.append(d.join("")),c},dataPanel:function(c,d){var e=a('<div class="dataPanel" style="width: '+d+'px;"/>'),i="onwheel"in c?"wheel":document.onmousewheel!==b?"mousewheel":"DOMMouseScroll";return a(c).on(i,function(a){g.wheelScroll(c,a)}),e.click(function(b){b.stopPropagation();var d,e=a(c).find(".fn-gantt .leftPanel"),i=a(c).find(".fn-gantt .dataPanel");switch(f.scale){case"weeks":d=2*h.getCellSize();break;case"months":d=h.getCellSize();break;case"hours":d=4*h.getCellSize();break;case"days":d=3*h.getCellSize();break;default:d=2*h.getCellSize()}var j=g.elementFromPoint(b.pageX,i.offset().top+d);j=a("fn-label"===j.className?j.parentNode:j);var k=j.attr("repdate"),l=g.elementFromPoint(e.offset().left+e.width()-10,b.pageY);l=a(0===l.className.indexOf("fn-label")?l.parentNode:l);var m=l.data().id;f.onAddClick(k,m)}),e},rightPanel:function(b,c){var e=null,i=["sn","wd","wd","wd","wd","wd","sa"],j=['<div class="row"/>'],k=0,l=['<div class="row"/>'],m=0,n=[],o=0,p=[],q=[],r=new Date;switch(r=new Date(r.getFullYear(),r.getMonth(),r.getDate()),f.scale){case"hours":e=h.parseTimeRange(b.dateStart,b.dateEnd,b.scaleStep);for(var s=e[0].getFullYear(),t=e[0].getMonth(),u=e[0],v=0,w=e.length;w>v;v++){var x=e[v],y=x.getFullYear();y!==s&&(j.push('<div class="row header year" style="width: '+h.getCellSize()*k+'px;"><div class="fn-label">'+s+"</div></div>"),s=y,k=0),k++;var z=x.getMonth();z!==t&&(l.push('<div class="row header month" style="width: '+h.getCellSize()*m+'px"><div class="fn-label">'+f.months[t]+"</div></div>"),t=z,m=0),m++;var A=x.getDay(),B=u.getDay(),C=i[A];if(h.isHoliday(x)&&(C="holiday"),A!==B){var D=r-u===0?"today":h.isHoliday(u.getTime())?"holiday":i[B];n.push('<div class="row date '+D+'"  style="width: '+h.getCellSize()*o+'px;">  <div class="fn-label">'+u.getDate()+"</div></div>"),p.push('<div class="row day '+D+'"  style="width: '+h.getCellSize()*o+'px;">  <div class="fn-label">'+f.dow[B]+"</div></div>"),u=x,o=0}o++,q.push('<div class="row day '+C+'" id="dh-'+x.getTime()+'"  offset="'+v*h.getCellSize()+'" repdate="'+x.getRepDate()+'"><div class="fn-label">'+x.getHours()+"</div></div>")}j.push('<div class="row header year" style="width: '+h.getCellSize()*k+'px;"><div class="fn-label">'+s+"</div></div>"),l.push('<div class="row header month" style="width: '+h.getCellSize()*m+'px"><div class="fn-label">'+f.months[t]+"</div></div>");var C=i[u.getDay()];h.isHoliday(u)&&(C="holiday"),n.push('<div class="row date '+C+'"  style="width: '+h.getCellSize()*o+'px;">  <div class="fn-label">'+u.getDate()+"</div></div>"),p.push('<div class="row day '+C+'"  style="width: '+h.getCellSize()*o+'px;">  <div class="fn-label">'+f.dow[u.getDay()]+"</div></div>");var E=g.dataPanel(b,e.length*h.getCellSize());E.append(j.join("")),E.append(l.join("")),E.append(a('<div class="row"/>').html(n.join(""))),E.append(a('<div class="row"/>').html(p.join(""))),E.append(a('<div class="row"/>').html(q.join("")));break;case"weeks":e=h.parseWeeksRange(b.dateStart,b.dateEnd),j=['<div class="row"/>'],l=['<div class="row"/>'];for(var s=e[0].getFullYear(),t=e[0].getMonth(),u=e[0],v=0,w=e.length;w>v;v++){var x=e[v];x.getFullYear()!==s&&(j.push('<div class="row header year" style="width: '+h.getCellSize()*k+'px;"><div class="fn-label">'+s+"</div></div>"),s=x.getFullYear(),k=0),k++,x.getMonth()!==t&&(l.push('<div class="row header month" style="width:'+h.getCellSize()*m+'px;"><div class="fn-label">'+f.months[t]+"</div></div>"),t=x.getMonth(),m=0),m++,n.push('<div class="row day wd"  id="'+x.getWeekId()+'" offset="'+v*h.getCellSize()+'" repdate="'+x.getRepDate()+'">  <div class="fn-label">'+x.getWeekOfYear()+"</div></div>")}j.push('<div class="row header year" style="width: '+h.getCellSize()*k+'px;"><div class="fn-label">'+s+"</div></div>"),l.push('<div class="row header month" style="width: '+h.getCellSize()*m+'px"><div class="fn-label">'+f.months[t]+"</div></div>");var E=g.dataPanel(b,e.length*h.getCellSize());E.append(j.join("")+l.join("")+n.join("")+p.join(""));break;case"months":e=h.parseMonthsRange(b.dateStart,b.dateEnd);for(var s=e[0].getFullYear(),t=e[0].getMonth(),u=e[0],v=0,w=e.length;w>v;v++){var x=e[v];x.getFullYear()!==s&&(j.push('<div class="row header year" style="width: '+h.getCellSize()*k+'px;"><div class="fn-label">'+s+"</div></div>"),s=x.getFullYear(),k=0),k++,l.push('<div class="row day wd" id="dh-'+h.genId(x.getTime())+'" offset="'+v*h.getCellSize()+'" repdate="'+x.getRepDate()+'">'+(1+x.getMonth())+"</div>")}j.push('<div class="row header year" style="width: '+h.getCellSize()*k+'px;"><div class="fn-label">'+s+"</div></div>"),l.push('<div class="row header month" style="width: '+h.getCellSize()*m+'px"><div class="fn-label">'+f.months[t]+"</div></div>");var E=g.dataPanel(b,e.length*h.getCellSize());E.append(j.join("")),E.append(l.join("")),E.append(a('<div class="row"/>').html(n.join(""))),E.append(a('<div class="row"/>').html(p.join("")));break;default:e=h.parseDateRange(b.dateStart,b.dateEnd);for(var F=d(e[0],-1),s=F.getFullYear(),t=F.getMonth(),u=F,v=0,w=e.length;w>v;v++){var x=e[v];
x.getFullYear()!==s&&(j.push('<div class="row header year" style="width:'+h.getCellSize()*k+'px;"><div class="fn-label">'+s+"</div></div>"),s=x.getFullYear(),k=0),k++,x.getMonth()!==t&&(l.push('<div class="row header month" style="width:'+h.getCellSize()*m+'px;"><div class="fn-label">'+f.months[t]+"</div></div>"),t=x.getMonth(),m=0),m++;var B=x.getDay(),C=i[B];h.isHoliday(x)&&(C="holiday"),n.push('<div class="row date '+C+'"  id="dh-'+h.genId(x.getTime())+'" offset="'+v*h.getCellSize()+'" repdate="'+x.getRepDate()+'">  <div class="fn-label">'+x.getDate()+"</div></div>"),p.push('<div class="row day '+C+'"  id="dw-'+h.genId(x.getTime())+'"  repdate="'+x.getRepDate()+'">  <div class="fn-label">'+f.dow[B]+"</div></div>")}j.push('<div class="row header year" style="width: '+h.getCellSize()*k+'px;"><div class="fn-label">'+s+"</div></div>"),l.push('<div class="row header month" style="width: '+h.getCellSize()*m+'px"><div class="fn-label">'+f.months[t]+"</div></div>");var E=g.dataPanel(b,e.length*h.getCellSize());E.append(j.join("")),E.append(l.join("")),E.append(a('<div class="row" style="margin-left: 0;" />').html(n.join(""))),E.append(a('<div class="row" style="margin-left: 0;" />').html(p.join("")))}return a('<div class="rightPanel"></div>').append(E)},navigation:function(b){var c=null;return"scroll"===f.navigate?(c=a('<div class="navigate" />').append(a('<div class="nav-slider" />').append(a('<div class="nav-slider-left" />').append(a('<button type="button" class="nav-link nav-page-back"/>').html("&lt;").click(function(){g.navigatePage(b,-1)})).append(a('<div class="page-number"/>').append(a("<span/>").html(b.pageNum+1+" / "+b.pageCount))).append(a('<button type="button" class="nav-link nav-page-next"/>').html("&gt;").click(function(){g.navigatePage(b,1)})).append(a('<button type="button" class="nav-link nav-now"/>').html("&#9679;").click(function(){g.navigateTo(b,"now")})).append(a('<button type="button" class="nav-link nav-prev-day"/>').html("&lt;").click(function(){"hours"===f.scale?g.navigateTo(b,4*h.getCellSize()):"days"===f.scale?g.navigateTo(b,7*h.getCellSize()):"weeks"===f.scale?g.navigateTo(b,4*h.getCellSize()):"months"===f.scale&&g.navigateTo(b,3*h.getCellSize())}))).append(a('<div class="nav-slider-content" />').append(a('<div class="nav-slider-bar" />').append(a('<a class="nav-slider-button" />')).mousedown(function(a){a.preventDefault(),b.scrollNavigation.scrollerMouseDown=!0,g.sliderScroll(b,a)}).mousemove(function(a){b.scrollNavigation.scrollerMouseDown&&g.sliderScroll(b,a)}))).append(a('<div class="nav-slider-right" />').append(a('<button type="button" class="nav-link nav-next-day"/>').html("&gt;").click(function(){"hours"===f.scale?g.navigateTo(b,-4*h.getCellSize()):"days"===f.scale?g.navigateTo(b,-7*h.getCellSize()):"weeks"===f.scale?g.navigateTo(b,-4*h.getCellSize()):"months"===f.scale&&g.navigateTo(b,-3*h.getCellSize())})).append(a('<button type="button" class="nav-link nav-zoomIn"/>').html("&#43;").click(function(){g.zoomInOut(b,-1)})).append(a('<button type="button" class="nav-link nav-zoomOut"/>').html("&#45;").click(function(){g.zoomInOut(b,1)})))),a(document).mouseup(function(){b.scrollNavigation.scrollerMouseDown=!1})):c=a('<div class="navigate" />').append(a('<button type="button" class="nav-link nav-page-back"/>').html("&lt;").click(function(){g.navigatePage(b,-1)})).append(a('<div class="page-number"/>').append(a("<span/>").html(b.pageNum+1+" of "+b.pageCount))).append(a('<button type="button" class="nav-link nav-page-next"/>').html("&gt;").click(function(){g.navigatePage(b,1)})).append(a('<button type="button" class="nav-link nav-begin"/>').html("&#124;&lt;").click(function(){g.navigateTo(b,"begin")})).append(a('<button type="button" class="nav-link nav-prev-week"/>').html("&lt;&lt;").click(function(){g.navigateTo(b,7*h.getCellSize())})).append(a('<button type="button" class="nav-link nav-prev-day"/>').html("&lt;").click(function(){g.navigateTo(b,h.getCellSize())})).append(a('<button type="button" class="nav-link nav-now"/>').html("&#9679;").click(function(){g.navigateTo(b,"now")})).append(a('<button type="button" class="nav-link nav-next-day"/>').html("&gt;").click(function(){g.navigateTo(b,-1*h.getCellSize())})).append(a('<button type="button" class="nav-link nav-next-week"/>').html("&gt;&gt;").click(function(){g.navigateTo(b,-7*h.getCellSize())})).append(a('<button type="button" class="nav-link nav-end"/>').html("&gt;&#124;").click(function(){g.navigateTo(b,"end")})).append(a('<button type="button" class="nav-link nav-zoomIn"/>').html("&#43;").click(function(){g.zoomInOut(b,-1)})).append(a('<button type="button" class="nav-link nav-zoomOut"/>').html("&#45;").click(function(){g.zoomInOut(b,1)})),a('<div class="bottom"/>').append(c)},createProgressBar:function(b,c,d,e,g){var i=h.getCellSize(),j=h.getProgressBarMargin()||0,k=a('<div class="bar"><div title="'+e+'" class="fn-label">'+e+"</div></div>").addClass(c).css({width:i*b-j+2}).data("dataObj",g);return d&&k.mouseover(function(b){var c=a('<div class="fn-gantt-hint" />').html(d);a("body").append(c),c.css("left",b.pageX),c.css("top",b.pageY),c.show()}).mouseout(function(){a(".fn-gantt-hint").remove()}).mousemove(function(b){a(".fn-gantt-hint").css("left",b.pageX),a(".fn-gantt-hint").css("top",b.pageY+15)}),k.click(function(b){b.stopPropagation(),f.onItemClick(a(this).data("dataObj"))}),k},markNow:function(b){var c=(new Date).setHours(0,0,0,0);switch(f.scale){case"weeks":a(b).find(':findweek("'+c+'")').removeClass("wd").addClass("today");break;case"months":a(b).find(':findmonth("'+(new Date).getTime()+'")').removeClass("wd").addClass("today");break;default:a(b).find(':findday("'+c+'")').removeClass("wd").addClass("today")}},fillData:function(b,c,d){var e=function(a){try{a=a.replace("rgb(","").replace(")","");var b=a.split(","),c=parseInt(b[0],10),d=parseInt(b[1],10),e=parseInt(b[2],10),f=Math.round(.9*(255-(.299*c+.587*d+.114*e)));return"rgb("+f+", "+f+", "+f+")"}catch(g){return""}};a.each(b.data,function(d,i){d>=b.pageNum*f.itemsPerPage&&d<b.pageNum*f.itemsPerPage+f.itemsPerPage&&a.each(i.values,function(i,j){var k=null;switch(f.scale){case"hours":var l=h.genId(h.dateDeserialize(j.from).getTime(),b.scaleStep),m=a(b).find("#dh-"+l),n=h.genId(h.dateDeserialize(j.to).getTime(),b.scaleStep),o=a(b).find("#dh-"+n),p=m.attr("offset"),q=o.attr("offset"),r=Math.floor((q-p)/h.getCellSize())+1;k=g.createProgressBar(r,j.customClass?j.customClass:"",j.desc?j.desc:"",j.label?j.label:"",j.dataObj?j.dataObj:null);var s=a(b).find("#rowheader"+d),t=5*h.getCellSize()+2+parseInt(s.attr("offset"),10);k.css({top:t,left:Math.floor(p)}),c.append(k);break;case"weeks":var u=h.dateDeserialize(j.from),v=h.dateDeserialize(j.to);u.getDate()<=3&&0===u.getMonth()&&u.setDate(u.getDate()+4),u.getDate()<=3&&0===u.getMonth()&&u.setDate(u.getDate()+4),v.getDate()<=3&&0===v.getMonth()&&v.setDate(v.getDate()+4);var m=a(b).find("#"+u.getWeekId()),p=m.attr("offset"),o=a(b).find("#"+v.getWeekId()),q=o.attr("offset"),r=Math.round((q-p)/h.getCellSize())+1;k=g.createProgressBar(r,j.customClass?j.customClass:"",j.desc?j.desc:"",j.label?j.label:"",j.dataObj?j.dataObj:null);var s=a(b).find("#rowheader"+d),t=3*h.getCellSize()+2+parseInt(s.attr("offset"),10);k.css({top:t,left:Math.floor(p)}),c.append(k);break;case"months":var u=h.dateDeserialize(j.from),v=h.dateDeserialize(j.to);u.getDate()<=3&&0===u.getMonth()&&u.setDate(u.getDate()+4),u.getDate()<=3&&0===u.getMonth()&&u.setDate(u.getDate()+4),v.getDate()<=3&&0===v.getMonth()&&v.setDate(v.getDate()+4);var m=a(b).find("#dh-"+h.genId(u.getTime())),p=m.attr("offset"),o=a(b).find("#dh-"+h.genId(v.getTime())),q=o.attr("offset"),r=Math.round((q-p)/h.getCellSize())+1;k=g.createProgressBar(r,j.customClass?j.customClass:"",j.desc?j.desc:"",j.label?j.label:"",j.dataObj?j.dataObj:null);var s=a(b).find("#rowheader"+d),t=2*h.getCellSize()+2+parseInt(s.attr("offset"),10);k.css({top:t,left:Math.floor(p)}),c.append(k);break;default:var l=h.genId(h.dateDeserialize(j.from).getTime()),n=h.genId(h.dateDeserialize(j.to).getTime()),m=a(b).find("#dh-"+l),p=m.attr("offset"),r=Math.floor((n/1e3-l/1e3)/86400)+1;k=g.createProgressBar(r,j.customClass?j.customClass:"",j.desc?j.desc:"",j.label?j.label:"",j.dataObj?j.dataObj:null);var s=a(b).find("#rowheader"+d),t=4*h.getCellSize()+2+parseInt(s.attr("offset"),10);k.css({top:t,left:Math.floor(p)}),c.append(k)}var w=k.find(".fn-label");if(w&&k.length){var x=e(k[0].style.backgroundColor);w.css("color",x)}else w&&w.css("color","")})})},navigateTo:function(b,c){var d=a(b).find(".fn-gantt .rightPanel"),e=d.find(".dataPanel"),f=d.width(),h=e.width(),i=function(){g.repositionLabel(b)};switch(c){case"begin":e.animate({"margin-left":"0px"},"fast",i),b.scrollNavigation.panelMargin=0;break;case"end":var j=h-f;b.scrollNavigation.panelMargin=-1*j,e.animate({"margin-left":"-"+j+"px"},"fast",i);break;case"now":if(!b.scrollNavigation.canScroll||!e.find(".today").length)return!1;var k=-1*(h-f),l=e.css("margin-left").replace("px",""),c=e.find(".today").offset().left-e.offset().left;c*=-1,c>0?c=0:k>c&&(c=k),e.animate({"margin-left":c+"px"},"fast",i),b.scrollNavigation.panelMargin=c;break;default:var k=-1*(h-f),l=e.css("margin-left").replace("px",""),c=parseInt(l,10)+c;0>=c&&c>=k&&e.animate({"margin-left":c+"px"},"fast",i),b.scrollNavigation.panelMargin=c}g.synchronizeScroller(b)},navigatePage:function(b,c){b.pageNum+c>=0&&b.pageNum+c<Math.ceil(b.rowsNum/f.itemsPerPage)&&g.waitToggle(b,!0,function(){b.pageNum+=c,b.hPosition=a(".fn-gantt .dataPanel").css("margin-left").replace("px",""),b.scaleOldWidth=!1,g.init(b)})},zoomInOut:function(b,c){g.waitToggle(b,!0,function(){var d=0>c,h=b.scaleStep+3*c;h=1>=h?1:4===h?3:h;var i=f.scale,j=b.headerRows;if("hours"===f.scale&&h>=13?(i="days",j=4,h=13):"days"===f.scale&&d?(i="hours",j=5,h=12):"days"!==f.scale||d?"weeks"!==f.scale||d?"weeks"===f.scale&&d?(i="days",j=4,h=13):"months"===f.scale&&d&&(i="weeks",j=3,h=13):(i="months",j=2,h=14):(i="weeks",j=3,h=13),d&&a.inArray(i,e)<a.inArray(f.minScale,e)||!d&&a.inArray(i,e)>a.inArray(f.maxScale,e))return void g.init(b);b.scaleStep=h,f.scale=i,b.headerRows=j;var k=a(b).find(".fn-gantt .rightPanel"),l=k.find(".dataPanel");b.hPosition=l.css("margin-left").replace("px",""),b.scaleOldWidth=l.width()-k.width(),f.useCookie&&(a.cookie(this.cookieKey+"CurrentScale",f.scale),a.cookie(this.cookieKey+"ScrollPos",null)),g.init(b)})},mouseScroll:function(b,c){var d=a(b).find(".fn-gantt .dataPanel");d.css("cursor","move");var e=(d.offset(),null===b.scrollNavigation.mouseX?c.pageX:b.scrollNavigation.mouseX),f=c.pageX-e;b.scrollNavigation.mouseX=c.pageX,g.scrollPanel(b,f),clearTimeout(b.scrollNavigation.repositionDelay),b.scrollNavigation.repositionDelay=setTimeout(g.repositionLabel,50,b)},wheelScroll:function(a,b){b.preventDefault();var c="detail"in b?b.detail:"wheelDelta"in b.originalEvent?-1/120*b.originalEvent.wheelDelta:b.originalEvent.deltaY?b.originalEvent.deltaY/Math.abs(b.originalEvent.deltaY):b.originalEvent.detail;g.scrollPanel(a,-50*c),clearTimeout(a.scrollNavigation.repositionDelay),a.scrollNavigation.repositionDelay=setTimeout(g.repositionLabel,50,a)},sliderScroll:function(b,c){var d,e,f=a(b).find(".nav-slider-bar"),h=f.find(".nav-slider-button"),i=a(b).find(".fn-gantt .rightPanel"),j=i.find(".dataPanel"),k=f.offset(),l=f.width(),m=h.width();if(c.pageX>=k.left&&c.pageX<=k.left+l){d=c.pageX-k.left,d-=m/2,h.css("left",d),e=j.width()-i.width();var n=d*e/l*-1;n>=0?(j.css("margin-left","0px"),b.scrollNavigation.panelMargin=0):d>=l-1*m?(j.css("margin-left",-1*e+"px"),b.scrollNavigation.panelMargin=-1*e):(j.css("margin-left",n+"px"),b.scrollNavigation.panelMargin=n),clearTimeout(b.scrollNavigation.repositionDelay),b.scrollNavigation.repositionDelay=setTimeout(g.repositionLabel,5,b)}},scrollPanel:function(b,c){if(!b.scrollNavigation.canScroll)return!1;var d=parseInt(b.scrollNavigation.panelMargin,10)+c;d>0?(b.scrollNavigation.panelMargin=0,a(b).find(".fn-gantt .dataPanel").css("margin-left",b.scrollNavigation.panelMargin+"px")):d<-1*b.scrollNavigation.panelMaxPos?(b.scrollNavigation.panelMargin=-1*b.scrollNavigation.panelMaxPos,a(b).find(".fn-gantt .dataPanel").css("margin-left",b.scrollNavigation.panelMargin+"px")):(b.scrollNavigation.panelMargin=d,a(b).find(".fn-gantt .dataPanel").css("margin-left",b.scrollNavigation.panelMargin+"px")),g.synchronizeScroller(b)},synchronizeScroller:function(b){if("scroll"===f.navigate){var c=a(b).find(".fn-gantt .rightPanel"),d=c.find(".dataPanel"),e=a(b).find(".nav-slider-bar"),g=e.find(".nav-slider-button"),h=e.width(),i=g.width(),j=d.width()-c.width(),k=0;d.css("margin-left")&&(k=d.css("margin-left").replace("px",""));var l=k*h/j-.25*g.width();l=l>0?0:-1*l>=h-.75*i?-1*(h-.25*i):l,g.css("left",-1*l)}},repositionLabel:function(b){setTimeout(function(){var c;if(b){var d=a(b).find(".fn-gantt .rightPanel");c=d.find(".dataPanel")}else c=a(".fn-gantt .rightPanel .dataPanel");f.useCookie&&a.cookie(this.cookieKey+"ScrollPos",c.css("margin-left").replace("px",""))},500)},waitToggle:function(b,c,d){if(c){a(b).offset(),a(b).outerWidth(),a(b).outerHeight();b.loader||(b.loader=a("<div></div>")),a(b).append(b.loader),setTimeout(d,0)}else b.loader&&b.loader.detach()}},h={getMaxDate:function(b){var c=null;switch(a.each(b.data,function(b,d){a.each(d.values,function(a,b){c=c<h.dateDeserialize(b.to)?h.dateDeserialize(b.to):c})}),c=c||new Date,f.scale){case"hours":c.setHours(Math.ceil(c.getHours()/b.scaleStep)*b.scaleStep),c.setHours(c.getHours()+3*b.scaleStep);break;case"weeks":var d=new Date(c.getTime()),d=new Date(d.setDate(d.getDate()+21)),e=7*Math.floor(d.getDate()/7);c=new Date(d.getFullYear(),d.getMonth(),0===e?4:e-3);break;case"months":var d=new Date(c.getFullYear(),c.getMonth(),1);d.setMonth(d.getMonth()+2),c=new Date(d.getFullYear(),d.getMonth(),1);break;default:c.setHours(0),c.setDate(c.getDate()+3)}return c},getMinDate:function(b){var c=null;switch(a.each(b.data,function(b,d){a.each(d.values,function(a,b){c=c>h.dateDeserialize(b.from)||null===c?h.dateDeserialize(b.from):c})}),c=c||new Date,f.scale){case"hours":c.setHours(Math.floor(c.getHours()/b.scaleStep)*b.scaleStep),c.setHours(c.getHours()-3*b.scaleStep);break;case"weeks":var d=new Date(c.getTime()),d=new Date(d.setDate(d.getDate()-21)),e=7*Math.floor(d.getDate()/7);c=new Date(d.getFullYear(),d.getMonth(),0===e?4:e-3);break;case"months":var d=new Date(c.getFullYear(),c.getMonth(),1);d.setMonth(d.getMonth()-3),c=new Date(d.getFullYear(),d.getMonth(),1);break;default:c.setHours(0),c.setDate(c.getDate()-3)}return c},parseDateRange:function(a,b){var c=new Date(a.getTime()),d=(new Date(b.getTime()),[]),e=0;do d[e++]=new Date(c.getTime()),c.setDate(c.getDate()+1);while(c.getTime()<=b.getTime());return d},parseTimeRange:function(a,b,c){var e=new Date(a),f=new Date(b);e.setMilliseconds(0),e.setSeconds(0),e.setMinutes(0),e.setHours(0),f.setMilliseconds(0),f.setSeconds(0),(f.getMinutes()>0||f.getHours()>0)&&(f.setMinutes(0),f.setHours(0),f.setTime(f.getTime()+864e5));for(var g=[],h=0;;){var i=new Date(e);if(i.setHours(Math.floor(e.getHours()/c)*c),g[h]&&i.getDay()!==g[h].getDay()&&i.setHours(0),g[h]=i,e.getTime()>b.getTime())break;e=d(i,c),h++}return g},parseWeeksRange:function(a,b){var c=new Date(a),d=(new Date(b),[]),e=0;do 0===c.getDay()&&(d[e++]=c.getDayForWeek()),c.setDate(c.getDate()+1);while(c.getTime()<=b.getTime());return d},parseMonthsRange:function(a,b){var c=new Date(a),d=(new Date(b),[]),e=0;do d[e++]=new Date(c.getFullYear(),c.getMonth(),1),c.setMonth(c.getMonth()+1);while(c.getTime()<=b.getTime());return d},dateDeserialize:function(b){return"string"==typeof b&&(b=b.replace(/\/Date\((.*)\)\//,"$1"),b=a.isNumeric(b)?parseInt(b,10):a.trim(b)),new Date(b)},genId:function(a){var b=new Date(a);switch(f.scale){case"hours":var c=b.getHours();return arguments.length>=2&&(c=Math.floor(b.getHours()/arguments[1])*arguments[1]),new Date(b.getFullYear(),b.getMonth(),b.getDate(),c).getTime();case"weeks":var d=b.getFullYear(),e=b.getDayForWeek().getWeekOfYear(),g=b.getMonth();return 11===g&&1===e&&d++,d+"-"+e;case"months":return b.getFullYear()+"-"+b.getMonth();default:return new Date(b.getFullYear(),b.getMonth(),b.getDate()).getTime()}},_datesToDays:function(a){for(var b,c={},d=0,e=a.length;e>d;d++)b=h.dateDeserialize(a[d]),c[b.setHours(0,0,0,0)]=!0;return c},isHoliday:function(){if(!f.holidays)return function(){return!1};var b=!1;return function(c){return b||(b=h._datesToDays(f.holidays)),!!b[a.isNumeric(c)?c:new Date(c.getFullYear(),c.getMonth(),c.getDate()).getTime()]}}(),_getCellSize:null,getCellSize:function(){return h._getCellSize||(a("body").append(a('<div style="display: none; position: absolute;" class="fn-gantt" id="measureCellWidth"><div class="row"></div></div>')),h._getCellSize=a("#measureCellWidth .row").height(),a("#measureCellWidth").empty().remove()),h._getCellSize},getRightPanelSize:function(){a("body").append(a('<div style="display: none; position: absolute;" class="fn-gantt" id="measureCellWidth"><div class="rightPanel"></div></div>'));var b=a("#measureCellWidth .rightPanel").height();return a("#measureCellWidth").empty().remove(),b},getPageHeight:function(a){return a.pageNum+1===a.pageCount?a.rowsOnLastPage*h.getCellSize():f.itemsPerPage*h.getCellSize()},_getProgressBarMargin:null,getProgressBarMargin:function(){return h._getProgressBarMargin||0===h._getProgressBarMargin||(a("body").append(a('<div style="display: none; position: absolute;" id="measureBarWidth" ><div class="fn-gantt"><div class="rightPanel"><div class="dataPanel"><div class="row day"><div class="bar" /></div></div></div></div></div>')),h._getProgressBarMargin=parseInt(a("#measureBarWidth .fn-gantt .rightPanel .day .bar").css("margin-left").replace("px",""),10),h._getProgressBarMargin+=parseInt(a("#measureBarWidth .fn-gantt .rightPanel .day .bar").css("margin-right").replace("px",""),10),a("#measureBarWidth").empty().remove()),h._getProgressBarMargin}};this.each(function(){if(this.data=null,this.pageNum=0,this.pageCount=0,this.rowsOnLastPage=0,this.rowsNum=0,this.hPosition=0,this.dateStart=null,this.dateEnd=null,this.scrollClicked=!1,this.scaleOldWidth=null,this.headerRows=null,f.useCookie){var b=a.cookie(this.cookieKey+"CurrentScale");b?f.scale=a.cookie(this.cookieKey+"CurrentScale"):a.cookie(this.cookieKey+"CurrentScale",f.scale)}switch(f.scale){case"hours":this.headerRows=5,this.scaleStep=1;break;case"weeks":this.headerRows=3,this.scaleStep=13;break;case"months":this.headerRows=2,this.scaleStep=14;break;default:this.headerRows=4,this.scaleStep=13}this.scrollNavigation={panelMouseDown:!1,scrollerMouseDown:!1,mouseX:null,panelMargin:0,repositionDelay:0,panelMaxPos:0,canScroll:!0},this.gantt=null,this.loader=null,g.create(this)})}}(jQuery),function(a,b,c){!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):jQuery&&!jQuery.fn.sparkline&&a(jQuery)}(function(d){"use strict";var e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K={},L=0;e=function(){return{common:{type:"line",lineColor:"#00f",fillColor:"#cdf",defaultPixelsPerValue:3,width:"auto",height:"auto",composite:!1,tagValuesAttribute:"values",tagOptionsPrefix:"spark",enableTagOptions:!1,enableHighlight:!0,highlightLighten:1.4,tooltipSkipNull:!0,tooltipPrefix:"",tooltipSuffix:"",disableHiddenCheck:!1,numberFormatter:!1,numberDigitGroupCount:3,numberDigitGroupSep:",",numberDecimalMark:".",disableTooltips:!1,disableInteraction:!1},line:{spotColor:"#f80",highlightSpotColor:"#5f5",highlightLineColor:"#f22",spotRadius:1.5,minSpotColor:"#f80",maxSpotColor:"#f80",lineWidth:1,normalRangeMin:c,normalRangeMax:c,normalRangeColor:"#ccc",drawNormalOnTop:!1,chartRangeMin:c,chartRangeMax:c,chartRangeMinX:c,chartRangeMaxX:c,tooltipFormat:new g('<span style="color: {{color}}">&#9679;</span> {{prefix}}{{y}}{{suffix}}')},bar:{barColor:"#3366cc",negBarColor:"#f44",stackedBarColor:["#3366cc","#dc3912","#ff9900","#109618","#66aa00","#dd4477","#0099c6","#990099"],zeroColor:c,nullColor:c,zeroAxis:!0,barWidth:4,barSpacing:1,chartRangeMax:c,chartRangeMin:c,chartRangeClip:!1,colorMap:c,tooltipFormat:new g('<span style="color: {{color}}">&#9679;</span> {{prefix}}{{value}}{{suffix}}')},tristate:{barWidth:4,barSpacing:1,posBarColor:"#6f6",negBarColor:"#f44",zeroBarColor:"#999",colorMap:{},tooltipFormat:new g('<span style="color: {{color}}">&#9679;</span> {{value:map}}'),tooltipValueLookups:{map:{"-1":"Loss",0:"Draw",1:"Win"}}},discrete:{lineHeight:"auto",thresholdColor:c,thresholdValue:0,chartRangeMax:c,chartRangeMin:c,chartRangeClip:!1,tooltipFormat:new g("{{prefix}}{{value}}{{suffix}}")},bullet:{targetColor:"#f33",targetWidth:3,performanceColor:"#33f",rangeColors:["#d3dafe","#a8b6ff","#7f94ff"],base:c,tooltipFormat:new g("{{fieldkey:fields}} - {{value}}"),tooltipValueLookups:{fields:{r:"Range",p:"Performance",t:"Target"}}},pie:{offset:0,sliceColors:["#3366cc","#dc3912","#ff9900","#109618","#66aa00","#dd4477","#0099c6","#990099"],borderWidth:0,borderColor:"#000",tooltipFormat:new g('<span style="color: {{color}}">&#9679;</span> {{value}} ({{percent.1}}%)')},box:{raw:!1,boxLineColor:"#000",boxFillColor:"#cdf",whiskerColor:"#000",outlierLineColor:"#333",outlierFillColor:"#fff",medianColor:"#f00",showOutliers:!0,outlierIQR:1.5,spotRadius:1.5,target:c,targetColor:"#4a2",chartRangeMax:c,chartRangeMin:c,tooltipFormat:new g("{{field:fields}}: {{value}}"),tooltipFormatFieldlistKey:"field",tooltipValueLookups:{fields:{lq:"Lower Quartile",med:"Median",uq:"Upper Quartile",lo:"Left Outlier",ro:"Right Outlier",lw:"Left Whisker",rw:"Right Whisker"}}}}},D='.jqstooltip { position: absolute;left: 0px;top: 0px;visibility: hidden;background: rgb(0, 0, 0) transparent;background-color: rgba(0,0,0,0.6);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000);-ms-filter: "progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000)";color: white;font: 10px arial, san serif;text-align: left;white-space: nowrap;padding: 5px;border: 1px solid white;z-index: 10000;}.jqsfield { color: white;font: 10px arial, san serif;text-align: left;}',f=function(){var a,b;return a=function(){this.init.apply(this,arguments)},arguments.length>1?(arguments[0]?(a.prototype=d.extend(new arguments[0],arguments[arguments.length-1]),a._super=arguments[0].prototype):a.prototype=arguments[arguments.length-1],arguments.length>2&&(b=Array.prototype.slice.call(arguments,1,-1),b.unshift(a.prototype),d.extend.apply(d,b))):a.prototype=arguments[0],a.prototype.cls=a,a},d.SPFormatClass=g=f({fre:/\{\{([\w.]+?)(:(.+?))?\}\}/g,precre:/(\w+)\.(\d+)/,init:function(a,b){this.format=a,this.fclass=b},render:function(a,b,d){var e,f,g,h,i,j=this,k=a;return this.format.replace(this.fre,function(){var a;return f=arguments[1],g=arguments[3],e=j.precre.exec(f),e?(i=e[2],f=e[1]):i=!1,h=k[f],h===c?"":g&&b&&b[g]?(a=b[g],a.get?b[g].get(h)||h:b[g][h]||h):(m(h)&&(h=d.get("numberFormatter")?d.get("numberFormatter")(h):r(h,i,d.get("numberDigitGroupCount"),d.get("numberDigitGroupSep"),d.get("numberDecimalMark"))),h)})}}),d.spformat=function(a,b){return new g(a,b)},h=function(a,b,c){return b>a?b:a>c?c:a},i=function(a,c){var d;return 2===c?(d=b.floor(a.length/2),a.length%2?a[d]:(a[d-1]+a[d])/2):a.length%2?(d=(a.length*c+c)/4,d%1?(a[b.floor(d)]+a[b.floor(d)-1])/2:a[d-1]):(d=(a.length*c+2)/4,d%1?(a[b.floor(d)]+a[b.floor(d)-1])/2:a[d-1])},j=function(a){var b;switch(a){case"undefined":a=c;break;case"null":a=null;break;case"true":a=!0;break;case"false":a=!1;break;default:b=parseFloat(a),a==b&&(a=b)}return a},k=function(a){var b,c=[];for(b=a.length;b--;)c[b]=j(a[b]);return c},l=function(a,b){var c,d,e=[];for(c=0,d=a.length;d>c;c++)a[c]!==b&&e.push(a[c]);return e},m=function(a){return!isNaN(parseFloat(a))&&isFinite(a)},r=function(a,b,c,e,f){var g,h;for(a=(b===!1?parseFloat(a).toString():a.toFixed(b)).split(""),g=(g=d.inArray(".",a))<0?a.length:g,g<a.length&&(a[g]=f),h=g-c;h>0;h-=c)a.splice(h,0,e);return a.join("")},n=function(a,b,c){var d;for(d=b.length;d--;)if((!c||null!==b[d])&&b[d]!==a)return!1;return!0},o=function(a){var b,c=0;for(b=a.length;b--;)c+="number"==typeof a[b]?a[b]:0;return c},q=function(a){return d.isArray(a)?a:[a]},p=function(b){var c;a.createStyleSheet?a.createStyleSheet().cssText=b:(c=a.createElement("style"),c.type="text/css",a.getElementsByTagName("head")[0].appendChild(c),c["string"==typeof a.body.style.WebkitAppearance?"innerText":"innerHTML"]=b)},d.fn.simpledraw=function(b,e,f,g){var h,i;if(f&&(h=this.data("_jqs_vcanvas")))return h;if(d.fn.sparkline.canvas===!1)return!1;if(d.fn.sparkline.canvas===c){var j=a.createElement("canvas");if(j.getContext&&j.getContext("2d"))d.fn.sparkline.canvas=function(a,b,c,d){return new H(a,b,c,d)};else{if(!a.namespaces||a.namespaces.v)return d.fn.sparkline.canvas=!1,!1;a.namespaces.add("v","urn:schemas-microsoft-com:vml","#default#VML"),d.fn.sparkline.canvas=function(a,b,c,d){return new I(a,b,c)}}}return b===c&&(b=d(this).innerWidth()),e===c&&(e=d(this).innerHeight()),h=d.fn.sparkline.canvas(b,e,this,g),i=d(this).data("_jqs_mhandler"),i&&i.registerCanvas(h),h},d.fn.cleardraw=function(){var a=this.data("_jqs_vcanvas");a&&a.reset()},d.RangeMapClass=s=f({init:function(a){var b,c,d=[];for(b in a)a.hasOwnProperty(b)&&"string"==typeof b&&b.indexOf(":")>-1&&(c=b.split(":"),c[0]=0===c[0].length?-(1/0):parseFloat(c[0]),c[1]=0===c[1].length?1/0:parseFloat(c[1]),c[2]=a[b],d.push(c));this.map=a,this.rangelist=d||!1},get:function(a){var b,d,e,f=this.rangelist;if((e=this.map[a])!==c)return e;if(f)for(b=f.length;b--;)if(d=f[b],d[0]<=a&&d[1]>=a)return d[2];return c}}),d.range_map=function(a){return new s(a)},t=f({init:function(a,b){var c=d(a);this.$el=c,this.options=b,this.currentPageX=0,this.currentPageY=0,this.el=a,this.splist=[],this.tooltip=null,this.over=!1,this.displayTooltips=!b.get("disableTooltips"),this.highlightEnabled=!b.get("disableHighlight")},registerSparkline:function(a){this.splist.push(a),this.over&&this.updateDisplay()},registerCanvas:function(a){var b=d(a.canvas);this.canvas=a,this.$canvas=b,b.mouseenter(d.proxy(this.mouseenter,this)),b.mouseleave(d.proxy(this.mouseleave,this)),b.click(d.proxy(this.mouseclick,this))},reset:function(a){this.splist=[],this.tooltip&&a&&(this.tooltip.remove(),this.tooltip=c)},mouseclick:function(a){var b=d.Event("sparklineClick");b.originalEvent=a,b.sparklines=this.splist,this.$el.trigger(b)},mouseenter:function(b){d(a.body).unbind("mousemove.jqs"),d(a.body).bind("mousemove.jqs",d.proxy(this.mousemove,this)),this.over=!0,this.currentPageX=b.pageX,this.currentPageY=b.pageY,this.currentEl=b.target,!this.tooltip&&this.displayTooltips&&(this.tooltip=new u(this.options),this.tooltip.updatePosition(b.pageX,b.pageY)),this.updateDisplay()},mouseleave:function(){d(a.body).unbind("mousemove.jqs");var b,c,e=this.splist,f=e.length,g=!1;for(this.over=!1,this.currentEl=null,this.tooltip&&(this.tooltip.remove(),this.tooltip=null),c=0;f>c;c++)b=e[c],b.clearRegionHighlight()&&(g=!0);g&&this.canvas.render()},mousemove:function(a){this.currentPageX=a.pageX,this.currentPageY=a.pageY,this.currentEl=a.target,this.tooltip&&this.tooltip.updatePosition(a.pageX,a.pageY),this.updateDisplay()},updateDisplay:function(){var a,b,c,e,f,g=this.splist,h=g.length,i=!1,j=this.$canvas.offset(),k=this.currentPageX-j.left,l=this.currentPageY-j.top;if(this.over){for(c=0;h>c;c++)b=g[c],e=b.setRegionHighlight(this.currentEl,k,l),e&&(i=!0);if(i){if(f=d.Event("sparklineRegionChange"),f.sparklines=this.splist,this.$el.trigger(f),this.tooltip){for(a="",c=0;h>c;c++)b=g[c],a+=b.getCurrentRegionTooltip();this.tooltip.setContent(a)}this.disableHighlight||this.canvas.render()}null===e&&this.mouseleave()}}}),u=f({sizeStyle:"position: static !important;display: block !important;visibility: hidden !important;float: left !important;",init:function(b){var c,e=b.get("tooltipClassname","jqstooltip"),f=this.sizeStyle;this.container=b.get("tooltipContainer")||a.body,this.tooltipOffsetX=b.get("tooltipOffsetX",10),this.tooltipOffsetY=b.get("tooltipOffsetY",12),d("#jqssizetip").remove(),d("#jqstooltip").remove(),this.sizetip=d("<div/>",{id:"jqssizetip",style:f,"class":e}),this.tooltip=d("<div/>",{id:"jqstooltip","class":e}).appendTo(this.container),c=this.tooltip.offset(),this.offsetLeft=c.left,this.offsetTop=c.top,this.hidden=!0,d(window).unbind("resize.jqs scroll.jqs"),d(window).bind("resize.jqs scroll.jqs",d.proxy(this.updateWindowDims,this)),this.updateWindowDims()},updateWindowDims:function(){this.scrollTop=d(window).scrollTop(),this.scrollLeft=d(window).scrollLeft(),this.scrollRight=this.scrollLeft+d(window).width(),this.updatePosition()},getSize:function(a){this.sizetip.html(a).appendTo(this.container),this.width=this.sizetip.width()+1,this.height=this.sizetip.height(),this.sizetip.remove()},setContent:function(a){return a?(this.getSize(a),this.tooltip.html(a).css({width:this.width,height:this.height,visibility:"visible"}),void(this.hidden&&(this.hidden=!1,this.updatePosition()))):(this.tooltip.css("visibility","hidden"),void(this.hidden=!0))},updatePosition:function(a,b){if(a===c){if(this.mousex===c)return;a=this.mousex-this.offsetLeft,b=this.mousey-this.offsetTop}else this.mousex=a-=this.offsetLeft,this.mousey=b-=this.offsetTop;this.height&&this.width&&!this.hidden&&(b-=this.height+this.tooltipOffsetY,a+=this.tooltipOffsetX,b<this.scrollTop&&(b=this.scrollTop),a<this.scrollLeft?a=this.scrollLeft:a+this.width>this.scrollRight&&(a=this.scrollRight-this.width),this.tooltip.css({left:a,top:b}))},remove:function(){this.tooltip.remove(),this.sizetip.remove(),this.sizetip=this.tooltip=c,d(window).unbind("resize.jqs scroll.jqs")}}),E=function(){p(D)},d(E),J=[],d.fn.sparkline=function(b,e){return this.each(function(){var f,g,h=new d.fn.sparkline.options(this,e),i=d(this);if(f=function(){var e,f,g,j,k,l,m;return"html"===b||b===c?(m=this.getAttribute(h.get("tagValuesAttribute")),(m===c||null===m)&&(m=i.html()),e=m.replace(/(^\s*<!--)|(-->\s*$)|\s+/g,"").split(",")):e=b,f="auto"===h.get("width")?e.length*h.get("defaultPixelsPerValue"):h.get("width"),"auto"===h.get("height")?h.get("composite")&&d.data(this,"_jqs_vcanvas")||(j=a.createElement("span"),j.innerHTML="a",i.html(j),g=d(j).innerHeight()||d(j).height(),d(j).remove(),j=null):g=h.get("height"),h.get("disableInteraction")?k=!1:(k=d.data(this,"_jqs_mhandler"),k?h.get("composite")||k.reset():(k=new t(this,h),d.data(this,"_jqs_mhandler",k))),h.get("composite")&&!d.data(this,"_jqs_vcanvas")?void(d.data(this,"_jqs_errnotify")||(alert("Attempted to attach a composite sparkline to an element with no existing sparkline"),d.data(this,"_jqs_errnotify",!0))):(l=new(d.fn.sparkline[h.get("type")])(this,e,h,f,g),l.render(),void(k&&k.registerSparkline(l)))},d(this).html()&&!h.get("disableHiddenCheck")&&d(this).is(":hidden")||!d(this).parents("body").length){if(!h.get("composite")&&d.data(this,"_jqs_pending"))for(g=J.length;g;g--)J[g-1][0]==this&&J.splice(g-1,1);J.push([this,f]),d.data(this,"_jqs_pending",!0)}else f.call(this)})},d.fn.sparkline.defaults=e(),d.sparkline_display_visible=function(){var a,b,c,e=[];for(b=0,c=J.length;c>b;b++)a=J[b][0],d(a).is(":visible")&&!d(a).parents().is(":hidden")?(J[b][1].call(a),d.data(J[b][0],"_jqs_pending",!1),e.push(b)):d(a).closest("html").length||d.data(a,"_jqs_pending")||(d.data(J[b][0],"_jqs_pending",!1),e.push(b));for(b=e.length;b;b--)J.splice(e[b-1],1)},d.fn.sparkline.options=f({init:function(a,b){var c,e,f,g;this.userOptions=b=b||{},this.tag=a,this.tagValCache={},e=d.fn.sparkline.defaults,f=e.common,this.tagOptionsPrefix=b.enableTagOptions&&(b.tagOptionsPrefix||f.tagOptionsPrefix),g=this.getTagSetting("type"),c=g===K?e[b.type||f.type]:e[g],this.mergedOptions=d.extend({},f,c,b)},getTagSetting:function(a){var b,d,e,f,g=this.tagOptionsPrefix;if(g===!1||g===c)return K;if(this.tagValCache.hasOwnProperty(a))b=this.tagValCache.key;else{if(b=this.tag.getAttribute(g+a),b===c||null===b)b=K;else if("["===b.substr(0,1))for(b=b.substr(1,b.length-2).split(","),d=b.length;d--;)b[d]=j(b[d].replace(/(^\s*)|(\s*$)/g,""));else if("{"===b.substr(0,1))for(e=b.substr(1,b.length-2).split(","),
b={},d=e.length;d--;)f=e[d].split(":",2),b[f[0].replace(/(^\s*)|(\s*$)/g,"")]=j(f[1].replace(/(^\s*)|(\s*$)/g,""));else b=j(b);this.tagValCache.key=b}return b},get:function(a,b){var d,e=this.getTagSetting(a);return e!==K?e:(d=this.mergedOptions[a])===c?b:d}}),d.fn.sparkline._base=f({disabled:!1,init:function(a,b,e,f,g){this.el=a,this.$el=d(a),this.values=b,this.options=e,this.width=f,this.height=g,this.currentRegion=c},initTarget:function(){var a=!this.options.get("disableInteraction");(this.target=this.$el.simpledraw(this.width,this.height,this.options.get("composite"),a))?(this.canvasWidth=this.target.pixelWidth,this.canvasHeight=this.target.pixelHeight):this.disabled=!0},render:function(){return this.disabled?(this.el.innerHTML="",!1):!0},getRegion:function(a,b){},setRegionHighlight:function(a,b,d){var e,f=this.currentRegion,g=!this.options.get("disableHighlight");return b>this.canvasWidth||d>this.canvasHeight||0>b||0>d?null:(e=this.getRegion(a,b,d),f!==e?(f!==c&&g&&this.removeHighlight(),this.currentRegion=e,e!==c&&g&&this.renderHighlight(),!0):!1)},clearRegionHighlight:function(){return this.currentRegion!==c?(this.removeHighlight(),this.currentRegion=c,!0):!1},renderHighlight:function(){this.changeHighlight(!0)},removeHighlight:function(){this.changeHighlight(!1)},changeHighlight:function(a){},getCurrentRegionTooltip:function(){var a,b,e,f,h,i,j,k,l,m,n,o,p,q,r=this.options,s="",t=[];if(this.currentRegion===c)return"";if(a=this.getCurrentRegionFields(),n=r.get("tooltipFormatter"))return n(this,r,a);if(r.get("tooltipChartTitle")&&(s+='<div class="jqs jqstitle">'+r.get("tooltipChartTitle")+"</div>\n"),b=this.options.get("tooltipFormat"),!b)return"";if(d.isArray(b)||(b=[b]),d.isArray(a)||(a=[a]),j=this.options.get("tooltipFormatFieldlist"),k=this.options.get("tooltipFormatFieldlistKey"),j&&k){for(l=[],i=a.length;i--;)m=a[i][k],-1!=(q=d.inArray(m,j))&&(l[q]=a[i]);a=l}for(e=b.length,p=a.length,i=0;e>i;i++)for(o=b[i],"string"==typeof o&&(o=new g(o)),f=o.fclass||"jqsfield",q=0;p>q;q++)a[q].isNull&&r.get("tooltipSkipNull")||(d.extend(a[q],{prefix:r.get("tooltipPrefix"),suffix:r.get("tooltipSuffix")}),h=o.render(a[q],r.get("tooltipValueLookups"),r),t.push('<div class="'+f+'">'+h+"</div>"));return t.length?s+t.join("\n"):""},getCurrentRegionFields:function(){},calcHighlightColor:function(a,c){var d,e,f,g,i=c.get("highlightColor"),j=c.get("highlightLighten");if(i)return i;if(j&&(d=/^#([0-9a-f])([0-9a-f])([0-9a-f])$/i.exec(a)||/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i.exec(a))){for(f=[],e=4===a.length?16:1,g=0;3>g;g++)f[g]=h(b.round(parseInt(d[g+1],16)*e*j),0,255);return"rgb("+f.join(",")+")"}return a}}),v={changeHighlight:function(a){var b,c=this.currentRegion,e=this.target,f=this.regionShapes[c];f&&(b=this.renderRegion(c,a),d.isArray(b)||d.isArray(f)?(e.replaceWithShapes(f,b),this.regionShapes[c]=d.map(b,function(a){return a.id})):(e.replaceWithShape(f,b),this.regionShapes[c]=b.id))},render:function(){var a,b,c,e,f=this.values,g=this.target,h=this.regionShapes;if(this.cls._super.render.call(this)){for(c=f.length;c--;)if(a=this.renderRegion(c))if(d.isArray(a)){for(b=[],e=a.length;e--;)a[e].append(),b.push(a[e].id);h[c]=b}else a.append(),h[c]=a.id;else h[c]=null;g.render()}}},d.fn.sparkline.line=w=f(d.fn.sparkline._base,{type:"line",init:function(a,b,c,d,e){w._super.init.call(this,a,b,c,d,e),this.vertices=[],this.regionMap=[],this.xvalues=[],this.yvalues=[],this.yminmax=[],this.hightlightSpotId=null,this.lastShapeId=null,this.initTarget()},getRegion:function(a,b,d){var e,f=this.regionMap;for(e=f.length;e--;)if(null!==f[e]&&b>=f[e][0]&&b<=f[e][1])return f[e][2];return c},getCurrentRegionFields:function(){var a=this.currentRegion;return{isNull:null===this.yvalues[a],x:this.xvalues[a],y:this.yvalues[a],color:this.options.get("lineColor"),fillColor:this.options.get("fillColor"),offset:a}},renderHighlight:function(){var a,b,d=this.currentRegion,e=this.target,f=this.vertices[d],g=this.options,h=g.get("spotRadius"),i=g.get("highlightSpotColor"),j=g.get("highlightLineColor");f&&(h&&i&&(a=e.drawCircle(f[0],f[1],h,c,i),this.highlightSpotId=a.id,e.insertAfterShape(this.lastShapeId,a)),j&&(b=e.drawLine(f[0],this.canvasTop,f[0],this.canvasTop+this.canvasHeight,j),this.highlightLineId=b.id,e.insertAfterShape(this.lastShapeId,b)))},removeHighlight:function(){var a=this.target;this.highlightSpotId&&(a.removeShapeId(this.highlightSpotId),this.highlightSpotId=null),this.highlightLineId&&(a.removeShapeId(this.highlightLineId),this.highlightLineId=null)},scanValues:function(){var a,c,d,e,f,g=this.values,h=g.length,i=this.xvalues,j=this.yvalues,k=this.yminmax;for(a=0;h>a;a++)c=g[a],d="string"==typeof g[a],e="object"==typeof g[a]&&g[a]instanceof Array,f=d&&g[a].split(":"),d&&2===f.length?(i.push(Number(f[0])),j.push(Number(f[1])),k.push(Number(f[1]))):e?(i.push(c[0]),j.push(c[1]),k.push(c[1])):(i.push(a),null===g[a]||"null"===g[a]?j.push(null):(j.push(Number(c)),k.push(Number(c))));this.options.get("xvalues")&&(i=this.options.get("xvalues")),this.maxy=this.maxyorg=b.max.apply(b,k),this.miny=this.minyorg=b.min.apply(b,k),this.maxx=b.max.apply(b,i),this.minx=b.min.apply(b,i),this.xvalues=i,this.yvalues=j,this.yminmax=k},processRangeOptions:function(){var a=this.options,b=a.get("normalRangeMin"),d=a.get("normalRangeMax");b!==c&&(b<this.miny&&(this.miny=b),d>this.maxy&&(this.maxy=d)),a.get("chartRangeMin")!==c&&(a.get("chartRangeClip")||a.get("chartRangeMin")<this.miny)&&(this.miny=a.get("chartRangeMin")),a.get("chartRangeMax")!==c&&(a.get("chartRangeClip")||a.get("chartRangeMax")>this.maxy)&&(this.maxy=a.get("chartRangeMax")),a.get("chartRangeMinX")!==c&&(a.get("chartRangeClipX")||a.get("chartRangeMinX")<this.minx)&&(this.minx=a.get("chartRangeMinX")),a.get("chartRangeMaxX")!==c&&(a.get("chartRangeClipX")||a.get("chartRangeMaxX")>this.maxx)&&(this.maxx=a.get("chartRangeMaxX"))},drawNormalRange:function(a,d,e,f,g){var h=this.options.get("normalRangeMin"),i=this.options.get("normalRangeMax"),j=d+b.round(e-e*((i-this.miny)/g)),k=b.round(e*(i-h)/g);this.target.drawRect(a,j,f,k,c,this.options.get("normalRangeColor")).append()},render:function(){var a,e,f,g,h,i,j,k,l,m,n,o,p,q,r,t,u,v,x,y,z,A,B,C,D,E=this.options,F=this.target,G=this.canvasWidth,H=this.canvasHeight,I=this.vertices,J=E.get("spotRadius"),K=this.regionMap;if(w._super.render.call(this)&&(this.scanValues(),this.processRangeOptions(),B=this.xvalues,C=this.yvalues,this.yminmax.length&&!(this.yvalues.length<2))){for(g=h=0,a=this.maxx-this.minx===0?1:this.maxx-this.minx,e=this.maxy-this.miny===0?1:this.maxy-this.miny,f=this.yvalues.length-1,J&&(4*J>G||4*J>H)&&(J=0),J&&(z=E.get("highlightSpotColor")&&!E.get("disableInteraction"),(z||E.get("minSpotColor")||E.get("spotColor")&&C[f]===this.miny)&&(H-=b.ceil(J)),(z||E.get("maxSpotColor")||E.get("spotColor")&&C[f]===this.maxy)&&(H-=b.ceil(J),g+=b.ceil(J)),(z||(E.get("minSpotColor")||E.get("maxSpotColor"))&&(C[0]===this.miny||C[0]===this.maxy))&&(h+=b.ceil(J),G-=b.ceil(J)),(z||E.get("spotColor")||E.get("minSpotColor")||E.get("maxSpotColor")&&(C[f]===this.miny||C[f]===this.maxy))&&(G-=b.ceil(J))),H--,E.get("normalRangeMin")===c||E.get("drawNormalOnTop")||this.drawNormalRange(h,g,H,G,e),j=[],k=[j],q=r=null,t=C.length,D=0;t>D;D++)l=B[D],n=B[D+1],m=C[D],o=h+b.round((l-this.minx)*(G/a)),p=t-1>D?h+b.round((n-this.minx)*(G/a)):G,r=o+(p-o)/2,K[D]=[q||0,r,D],q=r,null===m?D&&(null!==C[D-1]&&(j=[],k.push(j)),I.push(null)):(m<this.miny&&(m=this.miny),m>this.maxy&&(m=this.maxy),j.length||j.push([o,g+H]),i=[o,g+b.round(H-H*((m-this.miny)/e))],j.push(i),I.push(i));for(u=[],v=[],x=k.length,D=0;x>D;D++)j=k[D],j.length&&(E.get("fillColor")&&(j.push([j[j.length-1][0],g+H]),v.push(j.slice(0)),j.pop()),j.length>2&&(j[0]=[j[0][0],j[1][1]]),u.push(j));for(x=v.length,D=0;x>D;D++)F.drawShape(v[D],E.get("fillColor"),E.get("fillColor")).append();for(E.get("normalRangeMin")!==c&&E.get("drawNormalOnTop")&&this.drawNormalRange(h,g,H,G,e),x=u.length,D=0;x>D;D++)F.drawShape(u[D],E.get("lineColor"),c,E.get("lineWidth")).append();if(J&&E.get("valueSpots"))for(y=E.get("valueSpots"),y.get===c&&(y=new s(y)),D=0;t>D;D++)A=y.get(C[D]),A&&F.drawCircle(h+b.round((B[D]-this.minx)*(G/a)),g+b.round(H-H*((C[D]-this.miny)/e)),J,c,A).append();J&&E.get("spotColor")&&null!==C[f]&&F.drawCircle(h+b.round((B[B.length-1]-this.minx)*(G/a)),g+b.round(H-H*((C[f]-this.miny)/e)),J,c,E.get("spotColor")).append(),this.maxy!==this.minyorg&&(J&&E.get("minSpotColor")&&(l=B[d.inArray(this.minyorg,C)],F.drawCircle(h+b.round((l-this.minx)*(G/a)),g+b.round(H-H*((this.minyorg-this.miny)/e)),J,c,E.get("minSpotColor")).append()),J&&E.get("maxSpotColor")&&(l=B[d.inArray(this.maxyorg,C)],F.drawCircle(h+b.round((l-this.minx)*(G/a)),g+b.round(H-H*((this.maxyorg-this.miny)/e)),J,c,E.get("maxSpotColor")).append())),this.lastShapeId=F.getLastShapeId(),this.canvasTop=g,F.render()}}}),d.fn.sparkline.bar=x=f(d.fn.sparkline._base,v,{type:"bar",init:function(a,e,f,g,i){var m,n,o,p,q,r,t,u,v,w,y,z,A,B,C,D,E,F,G,H,I,J,K=parseInt(f.get("barWidth"),10),L=parseInt(f.get("barSpacing"),10),M=f.get("chartRangeMin"),N=f.get("chartRangeMax"),O=f.get("chartRangeClip"),P=1/0,Q=-(1/0);for(x._super.init.call(this,a,e,f,g,i),r=0,t=e.length;t>r;r++)H=e[r],m="string"==typeof H&&H.indexOf(":")>-1,(m||d.isArray(H))&&(C=!0,m&&(H=e[r]=k(H.split(":"))),H=l(H,null),n=b.min.apply(b,H),o=b.max.apply(b,H),P>n&&(P=n),o>Q&&(Q=o));this.stacked=C,this.regionShapes={},this.barWidth=K,this.barSpacing=L,this.totalBarWidth=K+L,this.width=g=e.length*K+(e.length-1)*L,this.initTarget(),O&&(A=M===c?-(1/0):M,B=N===c?1/0:N),q=[],p=C?[]:q;var R=[],S=[];for(r=0,t=e.length;t>r;r++)if(C)for(D=e[r],e[r]=G=[],R[r]=0,p[r]=S[r]=0,E=0,F=D.length;F>E;E++)H=G[E]=O?h(D[E],A,B):D[E],null!==H&&(H>0&&(R[r]+=H),0>P&&Q>0?0>H?S[r]+=b.abs(H):p[r]+=H:p[r]+=b.abs(H-(0>H?Q:P)),q.push(H));else H=O?h(e[r],A,B):e[r],H=e[r]=j(H),null!==H&&q.push(H);this.max=z=b.max.apply(b,q),this.min=y=b.min.apply(b,q),this.stackMax=Q=C?b.max.apply(b,R):z,this.stackMin=P=C?b.min.apply(b,q):y,f.get("chartRangeMin")!==c&&(f.get("chartRangeClip")||f.get("chartRangeMin")<y)&&(y=f.get("chartRangeMin")),f.get("chartRangeMax")!==c&&(f.get("chartRangeClip")||f.get("chartRangeMax")>z)&&(z=f.get("chartRangeMax")),this.zeroAxis=v=f.get("zeroAxis",!0),w=0>=y&&z>=0&&v?0:0==v?y:y>0?y:z,this.xaxisOffset=w,u=C?b.max.apply(b,p)+b.max.apply(b,S):z-y,this.canvasHeightEf=v&&0>y?this.canvasHeight-2:this.canvasHeight-1,w>y?(J=C&&z>=0?Q:z,I=(J-w)/u*this.canvasHeight,I!==b.ceil(I)&&(this.canvasHeightEf-=2,I=b.ceil(I))):I=this.canvasHeight,this.yoffset=I,d.isArray(f.get("colorMap"))?(this.colorMapByIndex=f.get("colorMap"),this.colorMapByValue=null):(this.colorMapByIndex=null,this.colorMapByValue=f.get("colorMap"),this.colorMapByValue&&this.colorMapByValue.get===c&&(this.colorMapByValue=new s(this.colorMapByValue))),this.range=u},getRegion:function(a,d,e){var f=b.floor(d/this.totalBarWidth);return 0>f||f>=this.values.length?c:f},getCurrentRegionFields:function(){var a,b,c=this.currentRegion,d=q(this.values[c]),e=[];for(b=d.length;b--;)a=d[b],e.push({isNull:null===a,value:a,color:this.calcColor(b,a,c),offset:c});return e},calcColor:function(a,b,e){var f,g,h=this.colorMapByIndex,i=this.colorMapByValue,j=this.options;return f=this.stacked?j.get("stackedBarColor"):0>b?j.get("negBarColor"):j.get("barColor"),0===b&&j.get("zeroColor")!==c&&(f=j.get("zeroColor")),i&&(g=i.get(b))?f=g:h&&h.length>e&&(f=h[e]),d.isArray(f)?f[a%f.length]:f},renderRegion:function(a,e){var f,g,h,i,j,k,l,m,o,p,q=this.values[a],r=this.options,s=this.xaxisOffset,t=[],u=this.range,v=this.stacked,w=this.target,x=a*this.totalBarWidth,y=this.canvasHeightEf,z=this.yoffset;if(q=d.isArray(q)?q:[q],l=q.length,m=q[0],i=n(null,q),p=n(s,q,!0),i)return r.get("nullColor")?(h=e?r.get("nullColor"):this.calcHighlightColor(r.get("nullColor"),r),f=z>0?z-1:z,w.drawRect(x,f,this.barWidth-1,0,h,h)):c;for(j=z,k=0;l>k;k++){if(m=q[k],v&&m===s){if(!p||o)continue;o=!0}g=u>0?b.floor(y*(b.abs(m-s)/u))+1:1,s>m||m===s&&0===z?(f=j,j+=g):(f=z-g,z-=g),h=this.calcColor(k,m,a),e&&(h=this.calcHighlightColor(h,r)),t.push(w.drawRect(x,f,this.barWidth-1,g-1,h,h))}return 1===t.length?t[0]:t}}),d.fn.sparkline.tristate=y=f(d.fn.sparkline._base,v,{type:"tristate",init:function(a,b,e,f,g){var h=parseInt(e.get("barWidth"),10),i=parseInt(e.get("barSpacing"),10);y._super.init.call(this,a,b,e,f,g),this.regionShapes={},this.barWidth=h,this.barSpacing=i,this.totalBarWidth=h+i,this.values=d.map(b,Number),this.width=f=b.length*h+(b.length-1)*i,d.isArray(e.get("colorMap"))?(this.colorMapByIndex=e.get("colorMap"),this.colorMapByValue=null):(this.colorMapByIndex=null,this.colorMapByValue=e.get("colorMap"),this.colorMapByValue&&this.colorMapByValue.get===c&&(this.colorMapByValue=new s(this.colorMapByValue))),this.initTarget()},getRegion:function(a,c,d){return b.floor(c/this.totalBarWidth)},getCurrentRegionFields:function(){var a=this.currentRegion;return{isNull:this.values[a]===c,value:this.values[a],color:this.calcColor(this.values[a],a),offset:a}},calcColor:function(a,b){var c,d,e=this.values,f=this.options,g=this.colorMapByIndex,h=this.colorMapByValue;return c=h&&(d=h.get(a))?d:g&&g.length>b?g[b]:e[b]<0?f.get("negBarColor"):e[b]>0?f.get("posBarColor"):f.get("zeroBarColor")},renderRegion:function(a,c){var d,e,f,g,h,i,j=this.values,k=this.options,l=this.target;return d=l.pixelHeight,f=b.round(d/2),g=a*this.totalBarWidth,j[a]<0?(h=f,e=f-1):j[a]>0?(h=0,e=f-1):(h=f-1,e=2),i=this.calcColor(j[a],a),null!==i?(c&&(i=this.calcHighlightColor(i,k)),l.drawRect(g,h,this.barWidth-1,e-1,i,i)):void 0}}),d.fn.sparkline.discrete=z=f(d.fn.sparkline._base,v,{type:"discrete",init:function(a,e,f,g,h){z._super.init.call(this,a,e,f,g,h),this.regionShapes={},this.values=e=d.map(e,Number),this.min=b.min.apply(b,e),this.max=b.max.apply(b,e),this.range=this.max-this.min,this.width=g="auto"===f.get("width")?2*e.length:this.width,this.interval=b.floor(g/e.length),this.itemWidth=g/e.length,f.get("chartRangeMin")!==c&&(f.get("chartRangeClip")||f.get("chartRangeMin")<this.min)&&(this.min=f.get("chartRangeMin")),f.get("chartRangeMax")!==c&&(f.get("chartRangeClip")||f.get("chartRangeMax")>this.max)&&(this.max=f.get("chartRangeMax")),this.initTarget(),this.target&&(this.lineHeight="auto"===f.get("lineHeight")?b.round(.3*this.canvasHeight):f.get("lineHeight"))},getRegion:function(a,c,d){return b.floor(c/this.itemWidth)},getCurrentRegionFields:function(){var a=this.currentRegion;return{isNull:this.values[a]===c,value:this.values[a],offset:a}},renderRegion:function(a,c){var d,e,f,g,i=this.values,j=this.options,k=this.min,l=this.max,m=this.range,n=this.interval,o=this.target,p=this.canvasHeight,q=this.lineHeight,r=p-q;return e=h(i[a],k,l),g=a*n,d=b.round(r-r*((e-k)/m)),f=j.get("thresholdColor")&&e<j.get("thresholdValue")?j.get("thresholdColor"):j.get("lineColor"),c&&(f=this.calcHighlightColor(f,j)),o.drawLine(g,d,g,d+q,f)}}),d.fn.sparkline.bullet=A=f(d.fn.sparkline._base,{type:"bullet",init:function(a,d,e,f,g){var h,i,j;A._super.init.call(this,a,d,e,f,g),this.values=d=k(d),j=d.slice(),j[0]=null===j[0]?j[2]:j[0],j[1]=null===d[1]?j[2]:j[1],h=b.min.apply(b,d),i=b.max.apply(b,d),h=e.get("base")===c?0>h?h:0:e.get("base"),this.min=h,this.max=i,this.range=i-h,this.shapes={},this.valueShapes={},this.regiondata={},this.width=f="auto"===e.get("width")?"4.0em":f,this.target=this.$el.simpledraw(f,g,e.get("composite")),d.length||(this.disabled=!0),this.initTarget()},getRegion:function(a,b,d){var e=this.target.getShapeAt(a,b,d);return e!==c&&this.shapes[e]!==c?this.shapes[e]:c},getCurrentRegionFields:function(){var a=this.currentRegion;return{fieldkey:a.substr(0,1),value:this.values[a.substr(1)],region:a}},changeHighlight:function(a){var b,c=this.currentRegion,d=this.valueShapes[c];switch(delete this.shapes[d],c.substr(0,1)){case"r":b=this.renderRange(c.substr(1),a);break;case"p":b=this.renderPerformance(a);break;case"t":b=this.renderTarget(a)}this.valueShapes[c]=b.id,this.shapes[b.id]=c,this.target.replaceWithShape(d,b)},renderRange:function(a,c){var d=this.values[a],e=b.round(this.canvasWidth*((d-this.min)/this.range)),f=this.options.get("rangeColors")[a-2];return c&&(f=this.calcHighlightColor(f,this.options)),this.target.drawRect(0,0,e-1,this.canvasHeight-1,f,f)},renderPerformance:function(a){var c=this.values[1],d=b.round(this.canvasWidth*((c-this.min)/this.range)),e=this.options.get("performanceColor");return a&&(e=this.calcHighlightColor(e,this.options)),this.target.drawRect(0,b.round(.3*this.canvasHeight),d-1,b.round(.4*this.canvasHeight)-1,e,e)},renderTarget:function(a){var c=this.values[0],d=b.round(this.canvasWidth*((c-this.min)/this.range)-this.options.get("targetWidth")/2),e=b.round(.1*this.canvasHeight),f=this.canvasHeight-2*e,g=this.options.get("targetColor");return a&&(g=this.calcHighlightColor(g,this.options)),this.target.drawRect(d,e,this.options.get("targetWidth")-1,f-1,g,g)},render:function(){var a,b,c=this.values.length,d=this.target;if(A._super.render.call(this)){for(a=2;c>a;a++)b=this.renderRange(a).append(),this.shapes[b.id]="r"+a,this.valueShapes["r"+a]=b.id;null!==this.values[1]&&(b=this.renderPerformance().append(),this.shapes[b.id]="p1",this.valueShapes.p1=b.id),null!==this.values[0]&&(b=this.renderTarget().append(),this.shapes[b.id]="t0",this.valueShapes.t0=b.id),d.render()}}}),d.fn.sparkline.pie=B=f(d.fn.sparkline._base,{type:"pie",init:function(a,c,e,f,g){var h,i=0;if(B._super.init.call(this,a,c,e,f,g),this.shapes={},this.valueShapes={},this.values=c=d.map(c,Number),"auto"===e.get("width")&&(this.width=this.height),c.length>0)for(h=c.length;h--;)i+=c[h];this.total=i,this.initTarget(),this.radius=b.floor(b.min(this.canvasWidth,this.canvasHeight)/2)},getRegion:function(a,b,d){var e=this.target.getShapeAt(a,b,d);return e!==c&&this.shapes[e]!==c?this.shapes[e]:c},getCurrentRegionFields:function(){var a=this.currentRegion;return{isNull:this.values[a]===c,value:this.values[a],percent:this.values[a]/this.total*100,color:this.options.get("sliceColors")[a%this.options.get("sliceColors").length],offset:a}},changeHighlight:function(a){var b=this.currentRegion,c=this.renderSlice(b,a),d=this.valueShapes[b];delete this.shapes[d],this.target.replaceWithShape(d,c),this.valueShapes[b]=c.id,this.shapes[c.id]=b},renderSlice:function(a,d){var e,f,g,h,i,j=this.target,k=this.options,l=this.radius,m=k.get("borderWidth"),n=k.get("offset"),o=2*b.PI,p=this.values,q=this.total,r=n?2*b.PI*(n/360):0;for(h=p.length,g=0;h>g;g++){if(e=r,f=r,q>0&&(f=r+o*(p[g]/q)),a===g)return i=k.get("sliceColors")[g%k.get("sliceColors").length],d&&(i=this.calcHighlightColor(i,k)),j.drawPieSlice(l,l,l-m,e,f,c,i);r=f}},render:function(){var a,d,e=this.target,f=this.values,g=this.options,h=this.radius,i=g.get("borderWidth");if(B._super.render.call(this)){for(i&&e.drawCircle(h,h,b.floor(h-i/2),g.get("borderColor"),c,i).append(),d=f.length;d--;)f[d]&&(a=this.renderSlice(d).append(),this.valueShapes[d]=a.id,this.shapes[a.id]=d);e.render()}}}),d.fn.sparkline.box=C=f(d.fn.sparkline._base,{type:"box",init:function(a,b,c,e,f){C._super.init.call(this,a,b,c,e,f),this.values=d.map(b,Number),this.width="auto"===c.get("width")?"4.0em":e,this.initTarget(),this.values.length||(this.disabled=1)},getRegion:function(){return 1},getCurrentRegionFields:function(){var a=[{field:"lq",value:this.quartiles[0]},{field:"med",value:this.quartiles[1]},{field:"uq",value:this.quartiles[2]}];return this.loutlier!==c&&a.push({field:"lo",value:this.loutlier}),this.routlier!==c&&a.push({field:"ro",value:this.routlier}),this.lwhisker!==c&&a.push({field:"lw",value:this.lwhisker}),this.rwhisker!==c&&a.push({field:"rw",value:this.rwhisker}),a},render:function(){var a,d,e,f,g,h,j,k,l,m,n,o=this.target,p=this.values,q=p.length,r=this.options,s=this.canvasWidth,t=this.canvasHeight,u=r.get("chartRangeMin")===c?b.min.apply(b,p):r.get("chartRangeMin"),v=r.get("chartRangeMax")===c?b.max.apply(b,p):r.get("chartRangeMax"),w=0;if(C._super.render.call(this)){if(r.get("raw"))r.get("showOutliers")&&p.length>5?(d=p[0],a=p[1],f=p[2],g=p[3],h=p[4],j=p[5],k=p[6]):(a=p[0],f=p[1],g=p[2],h=p[3],j=p[4]);else if(p.sort(function(a,b){return a-b}),f=i(p,1),g=i(p,2),h=i(p,3),e=h-f,r.get("showOutliers")){for(a=j=c,l=0;q>l;l++)a===c&&p[l]>f-e*r.get("outlierIQR")&&(a=p[l]),p[l]<h+e*r.get("outlierIQR")&&(j=p[l]);d=p[0],k=p[q-1]}else a=p[0],j=p[q-1];this.quartiles=[f,g,h],this.lwhisker=a,this.rwhisker=j,this.loutlier=d,this.routlier=k,n=s/(v-u+1),r.get("showOutliers")&&(w=b.ceil(r.get("spotRadius")),s-=2*b.ceil(r.get("spotRadius")),n=s/(v-u+1),a>d&&o.drawCircle((d-u)*n+w,t/2,r.get("spotRadius"),r.get("outlierLineColor"),r.get("outlierFillColor")).append(),k>j&&o.drawCircle((k-u)*n+w,t/2,r.get("spotRadius"),r.get("outlierLineColor"),r.get("outlierFillColor")).append()),o.drawRect(b.round((f-u)*n+w),b.round(.1*t),b.round((h-f)*n),b.round(.8*t),r.get("boxLineColor"),r.get("boxFillColor")).append(),o.drawLine(b.round((a-u)*n+w),b.round(t/2),b.round((f-u)*n+w),b.round(t/2),r.get("lineColor")).append(),o.drawLine(b.round((a-u)*n+w),b.round(t/4),b.round((a-u)*n+w),b.round(t-t/4),r.get("whiskerColor")).append(),o.drawLine(b.round((j-u)*n+w),b.round(t/2),b.round((h-u)*n+w),b.round(t/2),r.get("lineColor")).append(),o.drawLine(b.round((j-u)*n+w),b.round(t/4),b.round((j-u)*n+w),b.round(t-t/4),r.get("whiskerColor")).append(),o.drawLine(b.round((g-u)*n+w),b.round(.1*t),b.round((g-u)*n+w),b.round(.9*t),r.get("medianColor")).append(),r.get("target")&&(m=b.ceil(r.get("spotRadius")),o.drawLine(b.round((r.get("target")-u)*n+w),b.round(t/2-m),b.round((r.get("target")-u)*n+w),b.round(t/2+m),r.get("targetColor")).append(),o.drawLine(b.round((r.get("target")-u)*n+w-m),b.round(t/2),b.round((r.get("target")-u)*n+w+m),b.round(t/2),r.get("targetColor")).append()),o.render()}}}),F=f({init:function(a,b,c,d){this.target=a,this.id=b,this.type=c,this.args=d},append:function(){return this.target.appendShape(this),this}}),G=f({_pxregex:/(\d+)(px)?\s*$/i,init:function(a,b,c){a&&(this.width=a,this.height=b,this.target=c,this.lastShapeId=null,c[0]&&(c=c[0]),d.data(c,"_jqs_vcanvas",this))},drawLine:function(a,b,c,d,e,f){return this.drawShape([[a,b],[c,d]],e,f)},drawShape:function(a,b,c,d){return this._genShape("Shape",[a,b,c,d])},drawCircle:function(a,b,c,d,e,f){return this._genShape("Circle",[a,b,c,d,e,f])},drawPieSlice:function(a,b,c,d,e,f,g){return this._genShape("PieSlice",[a,b,c,d,e,f,g])},drawRect:function(a,b,c,d,e,f){return this._genShape("Rect",[a,b,c,d,e,f])},getElement:function(){return this.canvas},getLastShapeId:function(){return this.lastShapeId},reset:function(){alert("reset not implemented")},_insert:function(a,b){d(b).html(a)},_calculatePixelDims:function(a,b,c){var e;e=this._pxregex.exec(b),e?this.pixelHeight=e[1]:this.pixelHeight=d(c).height(),e=this._pxregex.exec(a),e?this.pixelWidth=e[1]:this.pixelWidth=d(c).width()},_genShape:function(a,b){var c=L++;return b.unshift(c),new F(this,c,a,b)},appendShape:function(a){alert("appendShape not implemented")},replaceWithShape:function(a,b){alert("replaceWithShape not implemented")},insertAfterShape:function(a,b){alert("insertAfterShape not implemented")},removeShapeId:function(a){alert("removeShapeId not implemented")},getShapeAt:function(a,b,c){alert("getShapeAt not implemented")},render:function(){alert("render not implemented")}}),H=f(G,{init:function(b,e,f,g){H._super.init.call(this,b,e,f),this.canvas=a.createElement("canvas"),f[0]&&(f=f[0]),d.data(f,"_jqs_vcanvas",this),d(this.canvas).css({display:"inline-block",width:b,height:e,verticalAlign:"top"}),this._insert(this.canvas,f),this._calculatePixelDims(b,e,this.canvas),this.canvas.width=this.pixelWidth,this.canvas.height=this.pixelHeight,this.interact=g,this.shapes={},this.shapeseq=[],this.currentTargetShapeId=c,d(this.canvas).css({width:this.pixelWidth,height:this.pixelHeight})},_getContext:function(a,b,d){var e=this.canvas.getContext("2d");return a!==c&&(e.strokeStyle=a),e.lineWidth=d===c?1:d,b!==c&&(e.fillStyle=b),e},reset:function(){var a=this._getContext();a.clearRect(0,0,this.pixelWidth,this.pixelHeight),this.shapes={},this.shapeseq=[],this.currentTargetShapeId=c},_drawShape:function(a,b,d,e,f){var g,h,i=this._getContext(d,e,f);for(i.beginPath(),i.moveTo(b[0][0]+.5,b[0][1]+.5),g=1,h=b.length;h>g;g++)i.lineTo(b[g][0]+.5,b[g][1]+.5);d!==c&&i.stroke(),e!==c&&i.fill(),this.targetX!==c&&this.targetY!==c&&i.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=a)},_drawCircle:function(a,d,e,f,g,h,i){var j=this._getContext(g,h,i);j.beginPath(),j.arc(d,e,f,0,2*b.PI,!1),this.targetX!==c&&this.targetY!==c&&j.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=a),g!==c&&j.stroke(),h!==c&&j.fill()},_drawPieSlice:function(a,b,d,e,f,g,h,i){var j=this._getContext(h,i);j.beginPath(),j.moveTo(b,d),j.arc(b,d,e,f,g,!1),j.lineTo(b,d),j.closePath(),h!==c&&j.stroke(),i&&j.fill(),this.targetX!==c&&this.targetY!==c&&j.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=a)},_drawRect:function(a,b,c,d,e,f,g){return this._drawShape(a,[[b,c],[b+d,c],[b+d,c+e],[b,c+e],[b,c]],f,g)},appendShape:function(a){return this.shapes[a.id]=a,this.shapeseq.push(a.id),this.lastShapeId=a.id,a.id},replaceWithShape:function(a,b){var c,d=this.shapeseq;for(this.shapes[b.id]=b,c=d.length;c--;)d[c]==a&&(d[c]=b.id);delete this.shapes[a]},replaceWithShapes:function(a,b){var c,d,e,f=this.shapeseq,g={};for(d=a.length;d--;)g[a[d]]=!0;for(d=f.length;d--;)c=f[d],g[c]&&(f.splice(d,1),delete this.shapes[c],e=d);for(d=b.length;d--;)f.splice(e,0,b[d].id),this.shapes[b[d].id]=b[d]},insertAfterShape:function(a,b){var c,d=this.shapeseq;for(c=d.length;c--;)if(d[c]===a)return d.splice(c+1,0,b.id),void(this.shapes[b.id]=b)},removeShapeId:function(a){var b,c=this.shapeseq;for(b=c.length;b--;)if(c[b]===a){c.splice(b,1);break}delete this.shapes[a]},getShapeAt:function(a,b,c){return this.targetX=b,this.targetY=c,this.render(),this.currentTargetShapeId},render:function(){var a,b,c,d=this.shapeseq,e=this.shapes,f=d.length,g=this._getContext();for(g.clearRect(0,0,this.pixelWidth,this.pixelHeight),c=0;f>c;c++)a=d[c],b=e[a],this["_draw"+b.type].apply(this,b.args);this.interact||(this.shapes={},this.shapeseq=[])}}),I=f(G,{init:function(b,c,e){var f;I._super.init.call(this,b,c,e),e[0]&&(e=e[0]),d.data(e,"_jqs_vcanvas",this),this.canvas=a.createElement("span"),d(this.canvas).css({display:"inline-block",position:"relative",overflow:"hidden",width:b,height:c,margin:"0px",padding:"0px",verticalAlign:"top"}),this._insert(this.canvas,e),this._calculatePixelDims(b,c,this.canvas),this.canvas.width=this.pixelWidth,this.canvas.height=this.pixelHeight,f='<v:group coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'" style="position:absolute;top:0;left:0;width:'+this.pixelWidth+"px;height="+this.pixelHeight+'px;"></v:group>',this.canvas.insertAdjacentHTML("beforeEnd",f),this.group=d(this.canvas).children()[0],this.rendered=!1,this.prerender=""},_drawShape:function(a,b,d,e,f){var g,h,i,j,k,l,m,n=[];for(m=0,l=b.length;l>m;m++)n[m]=""+b[m][0]+","+b[m][1];return g=n.splice(0,1),f=f===c?1:f,h=d===c?' stroked="false" ':' strokeWeight="'+f+'px" strokeColor="'+d+'" ',i=e===c?' filled="false"':' fillColor="'+e+'" filled="true" ',j=n[0]===n[n.length-1]?"x ":"",k='<v:shape coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'"  id="jqsshape'+a+'" '+h+i+' style="position:absolute;left:0px;top:0px;height:'+this.pixelHeight+"px;width:"+this.pixelWidth+'px;padding:0px;margin:0px;"  path="m '+g+" l "+n.join(", ")+" "+j+'e"> </v:shape>'},_drawCircle:function(a,b,d,e,f,g,h){var i,j,k;return b-=e,d-=e,i=f===c?' stroked="false" ':' strokeWeight="'+h+'px" strokeColor="'+f+'" ',j=g===c?' filled="false"':' fillColor="'+g+'" filled="true" ',k='<v:oval  id="jqsshape'+a+'" '+i+j+' style="position:absolute;top:'+d+"px; left:"+b+"px; width:"+2*e+"px; height:"+2*e+'px"></v:oval>'},_drawPieSlice:function(a,d,e,f,g,h,i,j){var k,l,m,n,o,p,q,r;if(g===h)return"";if(h-g===2*b.PI&&(g=0,h=2*b.PI),l=d+b.round(b.cos(g)*f),m=e+b.round(b.sin(g)*f),n=d+b.round(b.cos(h)*f),o=e+b.round(b.sin(h)*f),l===n&&m===o){if(h-g<b.PI)return"";l=n=d+f,m=o=e}return l===n&&m===o&&h-g<b.PI?"":(k=[d-f,e-f,d+f,e+f,l,m,n,o],p=i===c?' stroked="false" ':' strokeWeight="1px" strokeColor="'+i+'" ',q=j===c?' filled="false"':' fillColor="'+j+'" filled="true" ',r='<v:shape coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'"  id="jqsshape'+a+'" '+p+q+' style="position:absolute;left:0px;top:0px;height:'+this.pixelHeight+"px;width:"+this.pixelWidth+'px;padding:0px;margin:0px;"  path="m '+d+","+e+" wa "+k.join(", ")+' x e"> </v:shape>')},_drawRect:function(a,b,c,d,e,f,g){return this._drawShape(a,[[b,c],[b,c+e],[b+d,c+e],[b+d,c],[b,c]],f,g)},reset:function(){this.group.innerHTML=""},appendShape:function(a){var b=this["_draw"+a.type].apply(this,a.args);return this.rendered?this.group.insertAdjacentHTML("beforeEnd",b):this.prerender+=b,this.lastShapeId=a.id,a.id},replaceWithShape:function(a,b){var c=d("#jqsshape"+a),e=this["_draw"+b.type].apply(this,b.args);c[0].outerHTML=e},replaceWithShapes:function(a,b){var c,e=d("#jqsshape"+a[0]),f="",g=b.length;for(c=0;g>c;c++)f+=this["_draw"+b[c].type].apply(this,b[c].args);for(e[0].outerHTML=f,c=1;c<a.length;c++)d("#jqsshape"+a[c]).remove()},insertAfterShape:function(a,b){var c=d("#jqsshape"+a),e=this["_draw"+b.type].apply(this,b.args);c[0].insertAdjacentHTML("afterEnd",e)},removeShapeId:function(a){var b=d("#jqsshape"+a);this.group.removeChild(b[0])},getShapeAt:function(a,b,c){var d=a.id.substr(8);return d},render:function(){this.rendered||(this.group.innerHTML=this.prerender,this.rendered=!0)}})})}(document,Math),window.locale={fileupload:{errors:{maxFileSize:"File is too big",minFileSize:"File is too small",acceptFileTypes:"Filetype not allowed",maxNumberOfFiles:"Max number of files exceeded",uploadedBytes:"Uploaded bytes exceed file size",emptyResult:"Empty file upload result"},error:"Error",start:"Start",cancel:"Cancel",destroy:"Delete"}},function($){var min=Math.min,max=Math.max,round=Math.floor,isStr=function(a){return"string"===$.type(a)},runPluginCallbacks=function(Instance,a_fn){function g(a){return a}if($.isArray(a_fn))for(var i=0,c=a_fn.length;c>i;i++){var fn=a_fn[i];try{isStr(fn)&&(fn=eval(fn)),$.isFunction(fn)&&g(fn)(Instance)}catch(ex){}}};$.layout={version:"1.3.rc30.79",revision:.033007,browser:{},effects:{slide:{all:{duration:"fast"},north:{direction:"up"},south:{direction:"down"},east:{direction:"right"},west:{direction:"left"}},drop:{all:{duration:"slow"},north:{direction:"up"},south:{direction:"down"},east:{direction:"right"},west:{direction:"left"}},scale:{all:{duration:"fast"}},blind:{},clip:{},explode:{},fade:{},fold:{},puff:{},size:{all:{easing:"swing"}}},config:{optionRootKeys:"effects,panes,north,south,west,east,center".split(","),allPanes:"north,south,west,east,center".split(","),borderPanes:"north,south,west,east".split(","),oppositeEdge:{north:"south",south:"north",east:"west",west:"east"},offscreenCSS:{left:"-99999px",right:"auto"},offscreenReset:"offscreenReset",hidden:{visibility:"hidden"},visible:{visibility:"visible"},resizers:{cssReq:{position:"absolute",padding:0,margin:0,fontSize:"1px",textAlign:"left",overflow:"hidden"},cssDemo:{background:"#DDD",border:"none"}},togglers:{cssReq:{position:"absolute",display:"block",padding:0,margin:0,overflow:"hidden",textAlign:"center",fontSize:"1px",cursor:"pointer",zIndex:1},cssDemo:{background:"#AAA"}},content:{cssReq:{position:"relative"},cssDemo:{overflow:"auto",padding:"10px"},cssDemoPane:{overflow:"hidden",padding:0}},panes:{cssReq:{position:"absolute",margin:0},cssDemo:{padding:"10px",background:"#FFF",border:"1px solid #BBB",overflow:"auto"}},north:{side:"top",sizeType:"Height",dir:"horz",cssReq:{top:0,bottom:"auto",left:0,right:0,width:"auto"}},south:{side:"bottom",sizeType:"Height",dir:"horz",cssReq:{top:"auto",bottom:0,left:0,right:0,width:"auto"}},east:{side:"right",sizeType:"Width",dir:"vert",cssReq:{left:"auto",right:0,top:"auto",bottom:"auto",height:"auto"}},west:{side:"left",
sizeType:"Width",dir:"vert",cssReq:{left:0,right:"auto",top:"auto",bottom:"auto",height:"auto"}},center:{dir:"center",cssReq:{left:"auto",right:"auto",top:"auto",bottom:"auto",height:"auto",width:"auto"}}},callbacks:{},getParentPaneElem:function(a){var b=$(a),c=b.data("layout")||b.data("parentLayout");if(c){var d=c.container;if(d.data("layoutPane"))return d;var e=d.closest("."+$.layout.defaults.panes.paneClass);if(e.data("layoutPane"))return e}return null},getParentPaneInstance:function(a){var b=$.layout.getParentPaneElem(a);return b?b.data("layoutPane"):null},getParentLayoutInstance:function(a){var b=$.layout.getParentPaneElem(a);return b?b.data("parentLayout"):null},getEventObject:function(a){return"object"==typeof a&&a.stopPropagation?a:null},parsePaneName:function(a){var b=$.layout.getEventObject(a),c=a;return b&&(b.stopPropagation(),c=$(this).data("layoutEdge")),c&&!/^(west|east|north|south|center)$/.test(c)&&($.layout.msg('LAYOUT ERROR - Invalid pane-name: "'+c+'"'),c="error"),c},plugins:{draggable:!!$.fn.draggable,effects:{core:!!$.effects,slide:$.effects&&($.effects.slide||$.effects.effect&&$.effects.effect.slide)}},onCreate:[],onLoad:[],onReady:[],onDestroy:[],onUnload:[],afterOpen:[],afterClose:[],scrollbarWidth:function(){return window.scrollbarWidth||$.layout.getScrollbarSize("width")},scrollbarHeight:function(){return window.scrollbarHeight||$.layout.getScrollbarSize("height")},getScrollbarSize:function(a){var b=$('<div style="position: absolute; top: -10000px; left: -10000px; width: 100px; height: 100px; overflow: scroll;"></div>').appendTo("body"),c={width:b.css("width")-b[0].clientWidth,height:b.height()-b[0].clientHeight};return b.remove(),window.scrollbarWidth=c.width,window.scrollbarHeight=c.height,a.match(/^(width|height)$/)?c[a]:c},showInvisibly:function(a,b){if(a&&a.length&&(b||"none"===a.css("display"))){var c=a[0].style,d={display:c.display||"",visibility:c.visibility||""};return a.css({display:"block",visibility:"hidden"}),d}return{}},getElementDimensions:function(a,b){var c,d,e,f={css:{},inset:{}},g=f.css,h={bottom:0},i=$.layout.cssNum,j=a.offset();return f.offsetLeft=j.left,f.offsetTop=j.top,b||(b={}),$.each("Left,Right,Top,Bottom".split(","),function(i,j){c=g["border"+j]=$.layout.borderWidth(a,j),d=g["padding"+j]=$.layout.cssNum(a,"padding"+j),e=j.toLowerCase(),f.inset[e]=b[e]>=0?b[e]:d,h[e]=f.inset[e]+c}),g.width=a.width(),g.height=a.height(),g.top=i(a,"top",!0),g.bottom=i(a,"bottom",!0),g.left=i(a,"left",!0),g.right=i(a,"right",!0),f.outerWidth=a.outerWidth(),f.outerHeight=a.outerHeight(),f.innerWidth=max(0,f.outerWidth-h.left-h.right),f.innerHeight=max(0,f.outerHeight-h.top-h.bottom),f.layoutWidth=a.innerWidth(),f.layoutHeight=a.innerHeight(),f},getElementStyles:function(a,b){var c,d,e,f,g,h,i={},j=a[0].style,k=b.split(","),l="Top,Bottom,Left,Right".split(","),m="Color,Style,Width".split(",");for(f=0;f<k.length;f++)if(c=k[f],c.match(/(border|padding|margin)$/))for(g=0;4>g;g++)if(d=l[g],"border"===c)for(h=0;3>h;h++)e=m[h],i[c+d+e]=j[c+d+e];else i[c+d]=j[c+d];else i[c]=j[c];return i},cssWidth:function(a,b){if(0>=b)return 0;var c=$.layout.browser.boxModel?$.support.boxSizing?a.css("boxSizing"):"content-box":"border-box",d=$.layout.borderWidth,e=$.layout.cssNum,f=b;return"border-box"!==c&&(f-=d(a,"Left")+d(a,"Right")),"content-box"===c&&(f-=e(a,"paddingLeft")+e(a,"paddingRight")),max(0,f)},cssHeight:function(a,b){if(0>=b)return 0;var c=$.layout.browser.boxModel?$.support.boxSizing?a.css("boxSizing"):"content-box":"border-box",d=$.layout.borderWidth,e=$.layout.cssNum,f=b;return"border-box"!==c&&(f-=d(a,"Top")+d(a,"Bottom")),"content-box"===c&&(f-=e(a,"paddingTop")+e(a,"paddingBottom")),max(0,f)},cssNum:function(a,b,c){a.jquery||(a=$(a));var d=$.layout.showInvisibly(a),e=$.css(a[0],b,!0),f=c&&"auto"==e?e:Math.round(parseFloat(e)||0);return a.css(d),f},borderWidth:function(a,b){a.jquery&&(a=a[0]);var c="border"+b.substr(0,1).toUpperCase()+b.substr(1);return"none"===$.css(a,c+"Style",!0)?0:Math.round(parseFloat($.css(a,c+"Width",!0))||0)},isMouseOverElem:function(a,b){var c=$(b||this),d=c.offset(),e=d.top,f=d.left,g=f+c.outerWidth(),h=e+c.outerHeight(),i=a.pageX,j=a.pageY;return $.layout.browser.msie&&0>i&&0>j||i>=f&&g>=i&&j>=e&&h>=j},msg:function(a,b,c,d){function e(){var a=$.support.fixedPosition?"fixed":"absolute",b=$('<div id="layoutLogger" style="position: '+a+'; top: 5px; z-index: 999999; max-width: 25%; overflow: hidden; border: 1px solid #000; border-radius: 5px; background: #FBFBFB; box-shadow: 0 2px 10px rgba(0,0,0,0.3);"><div style="font-size: 13px; font-weight: bold; padding: 5px 10px; background: #F6F6F6; border-radius: 5px 5px 0 0; cursor: move;"><span style="float: right; padding-left: 7px; cursor: pointer;" title="Remove Console" onclick="$(this).closest(\'#layoutLogger\').remove()">X</span>Layout console.log</div><ul style="font-size: 13px; font-weight: none; list-style: none; margin: 0; padding: 0 0 2px;"></ul></div>').appendTo("body");return b.css("left",$(window).width()-b.outerWidth()-5),$.ui.draggable&&b.draggable({handle:":first-child"}),b}if($.isPlainObject(a)&&window.debugData){"string"==typeof b?(d=c,c=b):"object"==typeof c&&(d=c,c=null);var f=c||"log( <object> )",g=$.extend({sort:!1,returnHTML:!1,display:!1},d);b===!0||g.display?debugData(a,f,g):window.console&&console.log(debugData(a,f,g))}else if(b)alert(a);else if(window.console)console.log(a);else{var h="#layoutLogger",i=$(h);i.length||(i=e()),i.children("ul").append('<li style="padding: 4px 10px; margin: 0; border-top: 1px solid #CCC;">'+a.replace(/\</g,"&lt;").replace(/\>/g,"&gt;")+"</li>")}}};var u=navigator.userAgent.toLowerCase(),m=/(chrome)[ \/]([\w.]+)/.exec(u)||/(webkit)[ \/]([\w.]+)/.exec(u)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(u)||/(msie) ([\w.]+)/.exec(u)||u.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(u)||[],b=m[1]||"",v=m[2]||0,ie="msie"===b;$.layout.browser={version:v,safari:"webkit"===b,webkit:"chrome"===b,msie:ie,isIE6:ie&&6==v,boxModel:!ie||$.support.boxModel!==!1},b&&($.layout.browser[b]=!0),ie&&$(function(){$.layout.browser.boxModel=$.support.boxModel}),$.layout.defaults={name:"",containerClass:"ui-layout-container",inset:null,scrollToBookmarkOnLoad:!0,resizeWithWindow:!0,resizeWithWindowDelay:200,resizeWithWindowMaxDelay:0,maskPanesEarly:!1,onresizeall_start:null,onresizeall_end:null,onload_start:null,onload_end:null,onunload_start:null,onunload_end:null,initPanes:!0,showErrorMessages:!0,showDebugMessages:!1,zIndex:null,zIndexes:{pane_normal:0,content_mask:1,resizer_normal:2,pane_sliding:100,pane_animate:1e3,resizer_drag:1e4},errors:{pane:"pane",selector:"selector",addButtonError:"Error Adding Button\nInvalid ",containerMissing:"UI Layout Initialization Error\nThe specified layout-container does not exist.",centerPaneMissing:"UI Layout Initialization Error\nThe center-pane element does not exist.\nThe center-pane is a required element.",noContainerHeight:"UI Layout Initialization Warning\nThe layout-container \"CONTAINER\" has no height.\nTherefore the layout is 0-height and hence 'invisible'!",callbackError:"UI Layout Callback Error\nThe EVENT callback is not a valid function."},panes:{applyDemoStyles:!1,closable:!0,resizable:!0,slidable:!0,initClosed:!1,initHidden:!1,contentSelector:".ui-layout-content",contentIgnoreSelector:".ui-layout-ignore",findNestedContent:!1,paneClass:"ui-layout-pane",resizerClass:"ui-layout-resizer",togglerClass:"ui-layout-toggler",buttonClass:"ui-layout-button",minSize:0,maxSize:0,spacing_open:6,spacing_closed:6,togglerLength_open:50,togglerLength_closed:50,togglerAlign_open:"center",togglerAlign_closed:"center",togglerContent_open:"",togglerContent_closed:"",resizerDblClickToggle:!0,autoResize:!0,autoReopen:!0,resizerDragOpacity:1,maskContents:!1,maskObjects:!1,maskZindex:null,resizingGrid:!1,livePaneResizing:!1,liveContentResizing:!1,liveResizingTolerance:1,sliderCursor:"pointer",slideTrigger_open:"click",slideTrigger_close:"mouseleave",slideDelay_open:300,slideDelay_close:300,hideTogglerOnSlide:!1,preventQuickSlideClose:$.layout.browser.webkit,preventPrematureSlideClose:!1,tips:{Open:"Open",Close:"Close",Resize:"Resize",Slide:"Slide Open",Pin:"Pin",Unpin:"Un-Pin",noRoomToOpen:"Not enough room to show this panel.",minSizeWarning:"Panel has reached its minimum size",maxSizeWarning:"Panel has reached its maximum size"},showOverflowOnHover:!1,enableCursorHotkey:!0,customHotkeyModifier:"SHIFT",fxName:"slide",fxSpeed:null,fxSettings:{},fxOpacityFix:!0,animatePaneSizing:!1,children:null,containerSelector:"",initChildren:!0,destroyChildren:!0,resizeChildren:!0,triggerEventsOnLoad:!1,triggerEventsDuringLiveResize:!0,onshow_start:null,onshow_end:null,onhide_start:null,onhide_end:null,onopen_start:null,onopen_end:null,onclose_start:null,onclose_end:null,onresize_start:null,onresize_end:null,onsizecontent_start:null,onsizecontent_end:null,onswap_start:null,onswap_end:null,ondrag_start:null,ondrag_end:null},north:{paneSelector:".ui-layout-north",size:"auto",resizerCursor:"n-resize",customHotkey:""},south:{paneSelector:".ui-layout-south",size:"auto",resizerCursor:"s-resize",customHotkey:""},east:{paneSelector:".ui-layout-east",size:200,resizerCursor:"e-resize",customHotkey:""},west:{paneSelector:".ui-layout-west",size:200,resizerCursor:"w-resize",customHotkey:""},center:{paneSelector:".ui-layout-center",minWidth:0,minHeight:0}},$.layout.optionsMap={layout:"name,instanceKey,stateManagement,effects,inset,zIndexes,errors,zIndex,scrollToBookmarkOnLoad,showErrorMessages,maskPanesEarly,outset,resizeWithWindow,resizeWithWindowDelay,resizeWithWindowMaxDelay,onresizeall,onresizeall_start,onresizeall_end,onload,onload_start,onload_end,onunload,onunload_start,onunload_end".split(","),center:"paneClass,contentSelector,contentIgnoreSelector,findNestedContent,applyDemoStyles,triggerEventsOnLoad,showOverflowOnHover,maskContents,maskObjects,liveContentResizing,containerSelector,children,initChildren,resizeChildren,destroyChildren,onresize,onresize_start,onresize_end,onsizecontent,onsizecontent_start,onsizecontent_end".split(","),noDefault:"paneSelector,resizerCursor,customHotkey".split(",")},$.layout.transformData=function(a,b){var c,d,e,f,g,h,i,j=b?{panes:{},center:{}}:{};if("object"!=typeof a)return j;for(d in a)for(c=j,g=a[d],e=d.split("__"),i=e.length-1,h=0;i>=h;h++)f=e[h],h===i?$.isPlainObject(g)?c[f]=$.layout.transformData(g):c[f]=g:(c[f]||(c[f]={}),c=c[f]);return j},$.layout.backwardCompatibility={map:{applyDefaultStyles:"applyDemoStyles",childOptions:"children",initChildLayout:"initChildren",destroyChildLayout:"destroyChildren",resizeChildLayout:"resizeChildren",resizeNestedLayout:"resizeChildren",resizeWhileDragging:"livePaneResizing",resizeContentWhileDragging:"liveContentResizing",triggerEventsWhileDragging:"triggerEventsDuringLiveResize",maskIframesOnResize:"maskContents",useStateCookie:"stateManagement.enabled","cookie.autoLoad":"stateManagement.autoLoad","cookie.autoSave":"stateManagement.autoSave","cookie.keys":"stateManagement.stateKeys","cookie.name":"stateManagement.cookie.name","cookie.domain":"stateManagement.cookie.domain","cookie.path":"stateManagement.cookie.path","cookie.expires":"stateManagement.cookie.expires","cookie.secure":"stateManagement.cookie.secure",noRoomToOpenTip:"tips.noRoomToOpen",togglerTip_open:"tips.Close",togglerTip_closed:"tips.Open",resizerTip:"tips.Resize",sliderTip:"tips.Slide"},renameOptions:function(a){function b(b,c){for(var d,e=b.split("."),f=e.length-1,g={branch:a,key:e[f]},h=0;f>h;h++)d=e[h],void 0==g.branch[d]?c?g.branch=g.branch[d]={}:g.branch={}:g.branch=g.branch[d];return g}var c,d,e,f=$.layout.backwardCompatibility.map;for(var g in f)c=b(g),e=c.branch[c.key],void 0!==e&&(d=b(f[g],!0),d.branch[d.key]=e,delete c.branch[c.key])},renameAllOptions:function(a){var b=$.layout.backwardCompatibility.renameOptions;return b(a),a.defaults&&("object"!=typeof a.panes&&(a.panes={}),$.extend(!0,a.panes,a.defaults),delete a.defaults),a.panes&&b(a.panes),$.each($.layout.config.allPanes,function(c,d){a[d]&&b(a[d])}),a}},$.fn.layout=function(opts){function keyDown(a){if(!a)return!0;var b=a.keyCode;if(33>b)return!0;var c,d,e,f,g={38:"north",40:"south",37:"west",39:"east"},h=(a.altKey,a.shiftKey),i=a.ctrlKey,j=i&&b>=37&&40>=b;return j&&options[g[b]].enableCursorHotkey?f=g[b]:(i||h)&&$.each(_c.borderPanes,function(a,g){return c=options[g],d=c.customHotkey,e=c.customHotkeyModifier,(h&&"SHIFT"==e||i&&"CTRL"==e||i&&h)&&d&&b===(isNaN(d)||9>=d?d.toUpperCase().charCodeAt(0):d)?(f=g,!1):void 0}),f&&$Ps[f]&&options[f].closable&&!state[f].isHidden?(toggle(f),a.stopPropagation(),a.returnValue=!1,!1):!0}function allowOverflow(a){if(isInitialized()){this&&this.tagName&&(a=this);var b;if(isStr(a)?b=$Ps[a]:$(a).data("layoutRole")?b=$(a):$(a).parents().each(function(){return $(this).data("layoutRole")?(b=$(this),!1):void 0}),b&&b.length){var c=b.data("layoutEdge"),d=state[c];if(d.cssSaved&&resetOverflow(c),d.isSliding||d.isResizing||d.isClosed)return void(d.cssSaved=!1);var e={zIndex:options.zIndexes.resizer_normal+1},f={},g=b.css("overflow"),h=b.css("overflowX"),i=b.css("overflowY");"visible"!=g&&(f.overflow=g,e.overflow="visible"),h&&!h.match(/(visible|auto)/)&&(f.overflowX=h,e.overflowX="visible"),i&&!i.match(/(visible|auto)/)&&(f.overflowY=h,e.overflowY="visible"),d.cssSaved=f,b.css(e),$.each(_c.allPanes,function(a,b){b!=c&&resetOverflow(b)})}}}function resetOverflow(a){if(isInitialized()){this&&this.tagName&&(a=this);var b;if(isStr(a)?b=$Ps[a]:$(a).data("layoutRole")?b=$(a):$(a).parents().each(function(){return $(this).data("layoutRole")?(b=$(this),!1):void 0}),b&&b.length){var c=b.data("layoutEdge"),d=state[c],e=d.cssSaved||{};d.isSliding||d.isResizing||b.css("zIndex",options.zIndexes.pane_normal),b.css(e),d.cssSaved=!1}}}var browser=$.layout.browser,_c=$.layout.config,cssW=$.layout.cssWidth,cssH=$.layout.cssHeight,elDims=$.layout.getElementDimensions,styles=$.layout.getElementStyles,evtObj=$.layout.getEventObject,evtPane=$.layout.parsePaneName,options=$.extend(!0,{},$.layout.defaults),effects=options.effects=$.extend(!0,{},$.layout.effects),state={id:"layout"+$.now(),initialized:!1,paneResizing:!1,panesSliding:{},container:{innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0,layoutWidth:0,layoutHeight:0},north:{childIdx:0},south:{childIdx:0},east:{childIdx:0},west:{childIdx:0},center:{childIdx:0}},children={north:null,south:null,east:null,west:null,center:null},timer={data:{},set:function(a,b,c){timer.clear(a),timer.data[a]=setTimeout(b,c)},clear:function(a){var b=timer.data;b[a]&&(clearTimeout(b[a]),delete b[a])}},_log=function(a,b,c){var d=options;return(d.showErrorMessages&&!c||c&&d.showDebugMessages)&&$.layout.msg(d.name+" / "+a,b!==!1),!1},_runCallbacks=function(evtName,pane,skipBoundEvents){function g(a){return a}var hasPane=pane&&isStr(pane),s=hasPane?state[pane]:state,o=hasPane?options[pane]:options,lName=options.name,lng=evtName+(evtName.match(/_/)?"":"_end"),shrt=lng.match(/_end$/)?lng.substr(0,lng.length-4):"",fn=o[lng]||o[shrt],retVal="NC",args=[],$P;if(hasPane||"boolean"!==$.type(pane)||(skipBoundEvents=pane,pane=""),fn)try{isStr(fn)&&(fn.match(/,/)?(args=fn.split(","),fn=eval(args[0])):fn=eval(fn)),$.isFunction(fn)&&(retVal=args.length?g(fn)(args[1]):hasPane?g(fn)(pane,$Ps[pane],s,o,lName):g(fn)(Instance,s,o,lName))}catch(ex){_log(options.errors.callbackError.replace(/EVENT/,$.trim((pane||"")+" "+lng)),!1),"string"===$.type(ex)&&string.length&&_log("Exception:  "+ex,!1)}return skipBoundEvents||retVal===!1||(hasPane?($P=$Ps[pane],o=options[pane],s=state[pane],$P.triggerHandler("layoutpane"+lng,[pane,$P,s,o,lName]),shrt&&$P.triggerHandler("layoutpane"+shrt,[pane,$P,s,o,lName])):($N.triggerHandler("layout"+lng,[Instance,s,o,lName]),shrt&&$N.triggerHandler("layout"+shrt,[Instance,s,o,lName]))),hasPane&&"onresize_end"===evtName&&resizeChildren(pane+"",!0),retVal},_fixIframe=function(a){if(!browser.mozilla){var b=$Ps[a];"IFRAME"===state[a].tagName?b.css(_c.hidden).css(_c.visible):b.find("IFRAME").css(_c.hidden).css(_c.visible)}},cssSize=function(a,b){var c="horz"==_c[a].dir?cssH:cssW;return c($Ps[a],b)},cssMinDims=function(a){var b=$Ps[a],c=_c[a].dir,d={minWidth:1001-cssW(b,1e3),minHeight:1001-cssH(b,1e3)};return"horz"===c&&(d.minSize=d.minHeight),"vert"===c&&(d.minSize=d.minWidth),d},setOuterWidth=function(a,b,c){var d,e=a;isStr(a)?e=$Ps[a]:a.jquery||(e=$(a)),d=cssW(e,b),e.css({width:d}),d>0?c&&e.data("autoHidden")&&e.innerHeight()>0&&(e.show().data("autoHidden",!1),browser.mozilla||e.css(_c.hidden).css(_c.visible)):c&&!e.data("autoHidden")&&e.hide().data("autoHidden",!0)},setOuterHeight=function(a,b,c){var d,e=a;isStr(a)?e=$Ps[a]:a.jquery||(e=$(a)),d=cssH(e,b),e.css({height:d,visibility:"visible"}),d>0&&e.innerWidth()>0?c&&e.data("autoHidden")&&(e.show().data("autoHidden",!1),browser.mozilla||e.css(_c.hidden).css(_c.visible)):c&&!e.data("autoHidden")&&e.hide().data("autoHidden",!0)},_parseSize=function(a,b,c){if(c||(c=_c[a].dir),isStr(b)&&b.match(/%/)&&(b="100%"===b?-1:parseInt(b,10)/100),0===b)return 0;if(b>=1)return parseInt(b,10);var d=options,e=0;if("horz"==c?e=sC.innerHeight-($Ps.north?d.north.spacing_open:0)-($Ps.south?d.south.spacing_open:0):"vert"==c&&(e=sC.innerWidth-($Ps.west?d.west.spacing_open:0)-($Ps.east?d.east.spacing_open:0)),-1===b)return e;if(b>0)return round(e*b);if("center"==a)return 0;var f="horz"===c?"height":"width",g=$Ps[a],h="height"===f?$Cs[a]:!1,i=$.layout.showInvisibly(g),j=g.css(f),k=h?h.css(f):0;return g.css(f,"auto"),h&&h.css(f,"auto"),b="height"===f?g.outerHeight():g.outerWidth(),g.css(f,j).css(i),h&&h.css(f,k),b},getPaneSize=function(a,b){var c=$Ps[a],d=options[a],e=state[a],f=b?d.spacing_open:0,g=b?d.spacing_closed:0;return!c||e.isHidden?0:e.isClosed||e.isSliding&&b?g:"horz"===_c[a].dir?c.outerHeight()+f:c.outerWidth()+f},setSizeLimits=function(a,b){if(isInitialized()){var c=options[a],d=state[a],e=_c[a],f=e.dir,g=(e.sizeType.toLowerCase(),void 0!=b?b:d.isSliding),h=($Ps[a],c.spacing_open),i=_c.oppositeEdge[a],j=state[i],k=$Ps[i],l=!k||j.isVisible===!1||j.isSliding?0:"horz"==f?k.outerHeight():k.outerWidth(),m=(!k||j.isHidden?0:options[i][j.isClosed!==!1?"spacing_closed":"spacing_open"])||0,n="horz"==f?sC.innerHeight:sC.innerWidth,o=cssMinDims("center"),p="horz"==f?max(options.center.minHeight,o.minHeight):max(options.center.minWidth,o.minWidth),q=n-h-(g?0:_parseSize("center",p,f)+l+m),r=d.minSize=max(_parseSize(a,c.minSize),cssMinDims(a).minSize),s=d.maxSize=min(c.maxSize?_parseSize(a,c.maxSize):1e5,q),t=d.resizerPosition={},u=sC.inset.top,v=sC.inset.left,w=sC.innerWidth,x=sC.innerHeight,y=c.spacing_open;switch(a){case"north":t.min=u+r,t.max=u+s;break;case"west":t.min=v+r,t.max=v+s;break;case"south":t.min=u+x-s-y,t.max=u+x-r-y;break;case"east":t.min=v+w-s-y,t.max=v+w-r-y}}},calcNewCenterPaneDims=function(){var a={top:getPaneSize("north",!0),bottom:getPaneSize("south",!0),left:getPaneSize("west",!0),right:getPaneSize("east",!0),width:0,height:0};return a.width=sC.innerWidth-a.left-a.right,a.height=sC.innerHeight-a.bottom-a.top,a.top+=sC.inset.top,a.bottom+=sC.inset.bottom,a.left+=sC.inset.left,a.right+=sC.inset.right,a},getHoverClasses=function(a,b){var c=$(a),d=c.data("layoutRole"),e=c.data("layoutEdge"),f=options[e],g=f[d+"Class"],h="-"+e,i="-open",j="-closed",k="-sliding",l="-hover ",m=c.hasClass(g+j)?j:i,n=m===j?i:j,o=g+l+(g+h+l)+(g+m+l)+(g+h+m+l);return b&&(o+=g+n+l+(g+h+n+l)),"resizer"==d&&c.hasClass(g+k)&&(o+=g+k+l+(g+h+k+l)),$.trim(o)},addHover=function(a,b){var c=$(b||this);a&&"toggler"===c.data("layoutRole")&&a.stopPropagation(),c.addClass(getHoverClasses(c))},removeHover=function(a,b){var c=$(b||this);c.removeClass(getHoverClasses(c,!0))},onResizerEnter=function(a){var b=$(this).data("layoutEdge"),c=state[b];c.isClosed||c.isResizing||state.paneResizing||($.fn.disableSelection&&$("body").disableSelection(),options.maskPanesEarly&&showMasks(b,{resizing:!0}))},onResizerLeave=function(a,b){var c=b||this,d=$(c).data("layoutEdge"),e=d+"ResizerLeave";timer.clear(d+"_openSlider"),timer.clear(e),b?state.paneResizing||($.fn.enableSelection&&$("body").enableSelection(),options.maskPanesEarly&&hideMasks()):timer.set(e,function(){onResizerLeave(a,c)},200)},_create=function(){initOptions();var a=options,b=state;return b.creatingLayout=!0,runPluginCallbacks(Instance,$.layout.onCreate),!1===_runCallbacks("onload_start")?"cancel":(_initContainer(),initHotkeys(),$(window).bind("unload."+sID,unload),runPluginCallbacks(Instance,$.layout.onLoad),a.initPanes&&_initLayoutElements(),delete b.creatingLayout,state.initialized)},isInitialized=function(){return state.initialized||state.creatingLayout?!0:_initLayoutElements()},_initLayoutElements=function(a){var b=options;if(!$N.is(":visible"))return!a&&browser.webkit&&"BODY"===$N[0].tagName&&setTimeout(function(){_initLayoutElements(!0)},50),!1;if(!getPane("center").length)return _log(b.errors.centerPaneMissing);if(state.creatingLayout=!0,$.extend(sC,elDims($N,b.inset)),initPanes(),b.scrollToBookmarkOnLoad){var c=self.location;c.hash&&c.replace(c.hash)}return Instance.hasParentLayout?b.resizeWithWindow=!1:b.resizeWithWindow&&$(window).bind("resize."+sID,windowResize),delete state.creatingLayout,state.initialized=!0,runPluginCallbacks(Instance,$.layout.onReady),_runCallbacks("onload_end"),!0},createChildren=function(a,b){var c=evtPane.call(this,a),d=$Ps[c];if(d){var e=$Cs[c],f=state[c],g=options[c],h=options.stateManagement||{},i=b?g.children=b:g.children;if($.isPlainObject(i))i=[i];else if(!i||!$.isArray(i))return;$.each(i,function(a,b){if($.isPlainObject(b)){var g=b.containerSelector?d.find(b.containerSelector):e||d;g.each(function(){var a=$(this),d=a.data("layout");if(!d){if(setInstanceKey({container:a,options:b},f),h.includeChildren&&state.stateData[c]){var e=state.stateData[c].children||{},g=e[b.instanceKey],i=b.stateManagement||(b.stateManagement={autoLoad:!0});i.autoLoad===!0&&g&&(i.autoSave=!1,i.includeChildren=!0,i.autoLoad=$.extend(!0,{},g))}d=a.layout(b),d&&refreshChildren(c,d)}})}})}},setInstanceKey=function(a,b){var c=a.container,d=a.options,e=d.stateManagement,f=d.instanceKey||c.data("layoutInstanceKey");return f||(f=(e&&e.cookie?e.cookie.name:"")||d.name),f=f?f.replace(/[^\w-]/gi,"_").replace(/_{2,}/g,"_"):"layout"+ ++b.childIdx,d.instanceKey=f,c.data("layoutInstanceKey",f),f},refreshChildren=function(a,b){var c,d=$Ps[a],e=children[a],f=state[a];$.isPlainObject(e)&&($.each(e,function(a,b){b.destroyed&&delete e[a]}),$.isEmptyObject(e)&&(e=children[a]=null)),b||e||(b=d.data("layout")),b&&(b.hasParentLayout=!0,c=b.options,setInstanceKey(b,f),e||(e=children[a]={}),e[c.instanceKey]=b.container.data("layout")),Instance[a].children=children[a],b||createChildren(a)},windowResize=function(){var a=options,b=Number(a.resizeWithWindowDelay);10>b&&(b=100),timer.clear("winResize"),timer.set("winResize",function(){timer.clear("winResize"),timer.clear("winResizeRepeater");var b=elDims($N,a.inset);(b.innerWidth!==sC.innerWidth||b.innerHeight!==sC.innerHeight)&&resizeAll()},b),timer.data.winResizeRepeater||setWindowResizeRepeater()},setWindowResizeRepeater=function(){var a=Number(options.resizeWithWindowMaxDelay);a>0&&timer.set("winResizeRepeater",function(){setWindowResizeRepeater(),resizeAll()},a)},unload=function(){_runCallbacks("onunload_start"),runPluginCallbacks(Instance,$.layout.onUnload),_runCallbacks("onunload_end")},_initContainer=function(){var a,b,c=$N[0],d=$("html"),e=sC.tagName=c.tagName,f=sC.id=c.id,g=sC.className=c.className,h=options,i=h.name,j="position,margin,padding,border",k="layoutCSS",l={},m="hidden",n=$N.data("parentLayout"),o=$N.data("layoutEdge"),p=n&&o,q=$.layout.cssNum;sC.selector=$N.selector.split(".slice")[0],sC.ref=(h.name?h.name+" layout / ":"")+e+(f?"#"+f:g?".["+g+"]":""),sC.isBody="BODY"===e,p||sC.isBody||(a=$N.closest("."+$.layout.defaults.panes.paneClass),n=a.data("parentLayout"),o=a.data("layoutEdge"),p=n&&o),$N.data({layout:Instance,layoutContainer:sID}).addClass(h.containerClass);var r={destroy:"",initPanes:"",resizeAll:"resizeAll",resize:"resizeAll"};for(i in r)$N.bind("layout"+i.toLowerCase()+"."+sID,Instance[r[i]||i]);p&&(Instance.hasParentLayout=!0,n.refreshChildren(o,Instance)),$N.data(k)||(sC.isBody?($N.data(k,$.extend(styles($N,j),{height:$N.css("height"),overflow:$N.css("overflow"),overflowX:$N.css("overflowX"),overflowY:$N.css("overflowY")})),d.data(k,$.extend(styles(d,"padding"),{height:"auto",overflow:d.css("overflow"),overflowX:d.css("overflowX"),overflowY:d.css("overflowY")}))):$N.data(k,styles($N,j+",top,bottom,left,right,width,height,overflow,overflowX,overflowY")));try{if(l={overflow:m,overflowX:m,overflowY:m},$N.css(l),h.inset&&!$.isPlainObject(h.inset)&&(b=parseInt(h.inset,10)||0,h.inset={top:b,bottom:b,left:b,right:b}),sC.isBody)h.outset?$.isPlainObject(h.outset)||(b=parseInt(h.outset,10)||0,h.outset={top:b,bottom:b,left:b,right:b}):h.outset={top:q(d,"paddingTop"),bottom:q(d,"paddingBottom"),left:q(d,"paddingLeft"),right:q(d,"paddingRight")},d.css(l).css({height:"100%",border:"none",padding:0,margin:0}),browser.isIE6?($N.css({width:"100%",height:"100%",border:"none",padding:0,margin:0,position:"relative"}),h.inset||(h.inset=elDims($N).inset)):($N.css({width:"auto",height:"auto",margin:0,position:"absolute"}),$N.css(h.outset)),$.extend(sC,elDims($N,h.inset));else{var s=$N.css("position");s&&s.match(/(fixed|absolute|relative)/)||$N.css("position","relative"),$N.is(":visible")&&($.extend(sC,elDims($N,h.inset)),sC.innerHeight<1&&_log(h.errors.noContainerHeight.replace(/CONTAINER/,sC.ref)))}q($N,"minWidth")&&$N.parent().css("overflowX","auto"),q($N,"minHeight")&&$N.parent().css("overflowY","auto")}catch(t){}},initHotkeys=function(a){a=a?a.split(","):_c.borderPanes,$.each(a,function(a,b){var c=options[b];return c.enableCursorHotkey||c.customHotkey?($(document).bind("keydown."+sID,keyDown),!1):void 0})},initOptions=function(){function a(a){var b=options[a],c=options.panes;b.fxSettings||(b.fxSettings={}),c.fxSettings||(c.fxSettings={}),$.each(["_open","_close","_size"],function(d,e){var f="fxName"+e,g="fxSpeed"+e,h="fxSettings"+e,i=b[f]=b[f]||c[f]||b.fxName||c.fxName||"none",j=$.effects&&($.effects[i]||$.effects.effect&&$.effects.effect[i]);"none"!==i&&options.effects[i]&&j||(i=b[f]="none");var k=options.effects[i]||{},l=k.all||null,m=k[a]||null;b[g]=b[g]||c[g]||b.fxSpeed||c.fxSpeed||null,b[h]=$.extend(!0,{},l,m,c.fxSettings,b.fxSettings,c[h],b[h])}),delete b.fxName,delete b.fxSpeed,delete b.fxSettings}var b,c,d,e,f,g,h;if(opts=$.layout.transformData(opts,!0),opts=$.layout.backwardCompatibility.renameAllOptions(opts),!$.isEmptyObject(opts.panes)){for(b=$.layout.optionsMap.noDefault,f=0,g=b.length;g>f;f++)d=b[f],delete opts.panes[d];for(b=$.layout.optionsMap.layout,f=0,g=b.length;g>f;f++)d=b[f],delete opts.panes[d]}b=$.layout.optionsMap.layout;var i=$.layout.config.optionRootKeys;for(d in opts)e=opts[d],$.inArray(d,i)<0&&$.inArray(d,b)<0&&(opts.panes[d]||(opts.panes[d]=$.isPlainObject(e)?$.extend(!0,{},e):e),delete opts[d]);$.extend(!0,options,opts),$.each(_c.allPanes,function(e,f){if(_c[f]=$.extend(!0,{},_c.panes,_c[f]),c=options.panes,h=options[f],"center"===f)for(b=$.layout.optionsMap.center,e=0,g=b.length;g>e;e++)d=b[e],opts.center[d]||!opts.panes[d]&&h[d]||(h[d]=c[d]);else h=options[f]=$.extend(!0,{},c,h),a(f),h.resizerClass||(h.resizerClass="ui-layout-resizer"),h.togglerClass||(h.togglerClass="ui-layout-toggler");h.paneClass||(h.paneClass="ui-layout-pane")});var j=opts.zIndex,k=options.zIndexes;j>0&&(k.pane_normal=j,k.content_mask=max(j+1,k.content_mask),k.resizer_normal=max(j+2,k.resizer_normal)),delete options.panes},getPane=function(a){var b=options[a].paneSelector;if("#"===b.substr(0,1))return $N.find(b).eq(0);var c=$N.children(b).eq(0);return c.length?c:$N.children("form:first").children(b).eq(0)},initPanes=function(a){evtPane(a),$.each(_c.allPanes,function(a,b){addPane(b,!0)}),initHandles(),$.each(_c.borderPanes,function(a,b){$Ps[b]&&state[b].isVisible&&(setSizeLimits(b),makePaneFit(b))}),sizeMidPanes("center"),$.each(_c.allPanes,function(a,b){afterInitPane(b)})},addPane=function(a,b){if(b||isInitialized()){var c,d,e,f=options[a],g=state[a],h=_c[a],i=h.dir,j=(g.fx,f.spacing_open||0,"center"===a),k={},l=$Ps[a];if(l?removePane(a,!1,!0,!1):$Cs[a]=!1,l=$Ps[a]=getPane(a),!l.length)return void($Ps[a]=!1);if(!l.data("layoutCSS")){var m="position,top,left,bottom,right,width,height,overflow,zIndex,display,backgroundColor,padding,margin,border";l.data("layoutCSS",styles(l,m))}Instance[a]={name:a,pane:$Ps[a],content:$Cs[a],options:options[a],state:state[a],children:children[a]},l.data({parentLayout:Instance,layoutPane:Instance[a],layoutEdge:a,layoutRole:"pane"}).css(h.cssReq).css("zIndex",options.zIndexes.pane_normal).css(f.applyDemoStyles?h.cssDemo:{}).addClass(f.paneClass+" "+f.paneClass+"-"+a).bind("mouseenter."+sID,addHover).bind("mouseleave."+sID,removeHover);var n,o={hide:"",show:"",toggle:"",close:"",open:"",slideOpen:"",slideClose:"",slideToggle:"",size:"sizePane",sizePane:"sizePane",sizeContent:"",sizeHandles:"",enableClosable:"",disableClosable:"",enableSlideable:"",disableSlideable:"",enableResizable:"",disableResizable:"",swapPanes:"swapPanes",swap:"swapPanes",move:"swapPanes",removePane:"removePane",remove:"removePane",createChildren:"",resizeChildren:"",resizeAll:"resizeAll",resizeLayout:"resizeAll"};for(n in o)l.bind("layoutpane"+n.toLowerCase()+"."+sID,Instance[o[n]||n]);initContent(a,!1),j||(c=g.size=_parseSize(a,f.size),d=_parseSize(a,f.minSize)||1,e=_parseSize(a,f.maxSize)||1e5,c>0&&(c=max(min(c,e),d)),g.autoResize=f.autoResize,g.isClosed=!1,g.isSliding=!1,g.isResizing=!1,g.isHidden=!1,g.pins||(g.pins=[])),g.tagName=l[0].tagName,g.edge=a,g.noRoom=!1,g.isVisible=!0,setPanePosition(a),"horz"===i?k.height=cssH(l,c):"vert"===i&&(k.width=cssW(l,c)),l.css(k),"horz"!=i&&sizeMidPanes(a,!0),state.initialized&&(initHandles(a),initHotkeys(a)),f.initClosed&&f.closable&&!f.initHidden?close(a,!0,!0):f.initHidden||f.initClosed?hide(a):g.noRoom||l.css("display","block"),l.css("visibility","visible"),f.showOverflowOnHover&&l.hover(allowOverflow,resetOverflow),state.initialized&&afterInitPane(a)}},afterInitPane=function(a){var b=$Ps[a],c=state[a],d=options[a];b&&(b.data("layout")&&refreshChildren(a,b.data("layout")),c.isVisible&&(state.initialized?resizeAll():sizeContent(a),d.triggerEventsOnLoad?_runCallbacks("onresize_end",a):resizeChildren(a,!0)),d.initChildren&&d.children&&createChildren(a))},setPanePosition=function(a){a=a?a.split(","):_c.borderPanes,$.each(a,function(a,b){var c=$Ps[b],d=$Rs[b],e=(options[b],state[b]),f=_c[b].side,g={};if(c){switch(b){case"north":g.top=sC.inset.top,g.left=sC.inset.left,g.right=sC.inset.right;break;case"south":g.bottom=sC.inset.bottom,g.left=sC.inset.left,g.right=sC.inset.right;break;case"west":g.left=sC.inset.left;break;case"east":g.right=sC.inset.right;break;case"center":}c.css(g),d&&e.isClosed?d.css(f,sC.inset[f]):d&&!e.isHidden&&d.css(f,sC.inset[f]+getPaneSize(b))}})},initHandles=function(a){a=a?a.split(","):_c.borderPanes,$.each(a,function(a,b){var c=$Ps[b];if($Rs[b]=!1,$Ts[b]=!1,c){var d=options[b],e=state[b],f=(_c[b],"#"===d.paneSelector.substr(0,1)?d.paneSelector.substr(1):""),g=d.resizerClass,h=d.togglerClass,i=(e.isVisible?d.spacing_open:d.spacing_closed,"-"+b),j=(e.isVisible?"-open":"-closed",Instance[b]),k=j.resizer=$Rs[b]=$("<div></div>"),l=j.toggler=d.closable?$Ts[b]=$("<div></div>"):!1;!e.isVisible&&d.slidable&&k.attr("title",d.tips.Slide).css("cursor",d.sliderCursor),k.attr("id",f?f+"-resizer":"").data({parentLayout:Instance,layoutPane:Instance[b],layoutEdge:b,layoutRole:"resizer"}).css(_c.resizers.cssReq).css("zIndex",options.zIndexes.resizer_normal).css(d.applyDemoStyles?_c.resizers.cssDemo:{}).addClass(g+" "+g+i).hover(addHover,removeHover).hover(onResizerEnter,onResizerLeave).appendTo($N),d.resizerDblClickToggle&&k.bind("dblclick."+sID,toggle),l&&(l.attr("id",f?f+"-toggler":"").data({parentLayout:Instance,layoutPane:Instance[b],layoutEdge:b,layoutRole:"toggler"}).css(_c.togglers.cssReq).css(d.applyDemoStyles?_c.togglers.cssDemo:{}).addClass(h+" "+h+i).hover(addHover,removeHover).bind("mouseenter",onResizerEnter).appendTo(k),
d.togglerContent_open&&$("<span>"+d.togglerContent_open+"</span>").data({layoutEdge:b,layoutRole:"togglerContent"}).data("layoutRole","togglerContent").data("layoutEdge",b).addClass("content content-open").css("display","none").appendTo(l),d.togglerContent_closed&&$("<span>"+d.togglerContent_closed+"</span>").data({layoutEdge:b,layoutRole:"togglerContent"}).addClass("content content-closed").css("display","none").appendTo(l),enableClosable(b)),initResizable(b),e.isVisible?setAsOpen(b):(setAsClosed(b),bindStartSlidingEvents(b,!0))}}),sizeHandles()},initContent=function(a,b){if(isInitialized()){var c,d=options[a],e=d.contentSelector,f=Instance[a],g=$Ps[a];e&&(c=f.content=$Cs[a]=d.findNestedContent?g.find(e).eq(0):g.children(e).eq(0)),c&&c.length?(c.data("layoutRole","content"),c.data("layoutCSS")||c.data("layoutCSS",styles(c,"height")),c.css(_c.content.cssReq),d.applyDemoStyles&&(c.css(_c.content.cssDemo),g.css(_c.content.cssDemoPane)),g.css("overflowX").match(/(scroll|auto)/)&&g.css("overflow","hidden"),state[a].content={},b!==!1&&sizeContent(a)):f.content=$Cs[a]=!1}},initResizable=function(a){var b=$.layout.plugins.draggable;a=a?a.split(","):_c.borderPanes,$.each(a,function(a,d){var e=options[d];if(!b||!$Ps[d]||!e.resizable)return e.resizable=!1,!0;var f,g,h=state[d],i=options.zIndexes,j=_c[d],k="horz"==j.dir?"top":"left",l=($Ps[d],$Rs[d]),m=e.resizerClass,n=0,o=m+"-drag",p=m+"-"+d+"-drag",q=m+"-dragging",r=m+"-"+d+"-dragging",s=m+"-dragging-limit",t=m+"-"+d+"-dragging-limit",u=!1;h.isClosed||l.attr("title",e.tips.Resize).css("cursor",e.resizerCursor),l.draggable({containment:$N[0],axis:"horz"==j.dir?"y":"x",delay:0,distance:1,grid:e.resizingGrid,helper:"clone",opacity:e.resizerDragOpacity,addClasses:!1,zIndex:i.resizer_drag,start:function(a,b){return e=options[d],h=state[d],g=e.livePaneResizing,!1===_runCallbacks("ondrag_start",d)?!1:(h.isResizing=!0,state.paneResizing=d,timer.clear(d+"_closeSlider"),setSizeLimits(d),f=h.resizerPosition,n=b.position[k],l.addClass(o+" "+p),u=!1,$("body").disableSelection(),void showMasks(d,{resizing:!0}))},drag:function(a,b){u||(b.helper.addClass(q+" "+r).css({right:"auto",bottom:"auto"}).children().css("visibility","hidden"),u=!0,h.isSliding&&$Ps[d].css("zIndex",i.pane_sliding));var j=0;b.position[k]<f.min?(b.position[k]=f.min,j=-1):b.position[k]>f.max&&(b.position[k]=f.max,j=1),j?(b.helper.addClass(s+" "+t),window.defaultStatus=j>0&&d.match(/(north|west)/)||0>j&&d.match(/(south|east)/)?e.tips.maxSizeWarning:e.tips.minSizeWarning):(b.helper.removeClass(s+" "+t),window.defaultStatus=""),g&&Math.abs(b.position[k]-n)>=e.liveResizingTolerance&&(n=b.position[k],c(a,b,d))},stop:function(a,b){$("body").enableSelection(),window.defaultStatus="",l.removeClass(o+" "+p),h.isResizing=!1,state.paneResizing=!1,c(a,b,d,!0)}})});var c=function(a,b,c,d){var e,f=b.position,g=_c[c],h=options[c],i=state[c];switch(c){case"north":e=f.top;break;case"west":e=f.left;break;case"south":e=sC.layoutHeight-f.top-h.spacing_open;break;case"east":e=sC.layoutWidth-f.left-h.spacing_open}var j=e-sC.inset[g.side];if(d)!1!==_runCallbacks("ondrag_end",c)&&manualSizePane(c,j,!1,!0),hideMasks(!0),i.isSliding&&showMasks(c,{resizing:!0});else{if(Math.abs(j-i.size)<h.liveResizingTolerance)return;manualSizePane(c,j,!1,!0),sizeMasks()}}},sizeMask=function(){var a=$(this),b=a.data("layoutMask"),c=state[b];"IFRAME"==c.tagName&&c.isVisible&&a.css({top:c.offsetTop,left:c.offsetLeft,width:c.outerWidth,height:c.outerHeight})},sizeMasks=function(){$Ms.each(sizeMask)},showMasks=function(a,b){var c,d,e=_c[a],f=["center"],g=options.zIndexes,h=$.extend({objectsOnly:!1,animation:!1,resizing:!0,sliding:state[a].isSliding},b);h.resizing&&f.push(a),h.sliding&&f.push(_c.oppositeEdge[a]),"horz"===e.dir&&(f.push("west"),f.push("east")),$.each(f,function(a,b){d=state[b],c=options[b],d.isVisible&&(c.maskObjects||!h.objectsOnly&&c.maskContents)&&getMasks(b).each(function(){sizeMask.call(this),this.style.zIndex=d.isSliding?g.pane_sliding+1:g.pane_normal+1,this.style.display="block"})})},hideMasks=function(a){if(a||!state.paneResizing)$Ms.hide();else if(!a&&!$.isEmptyObject(state.panesSliding))for(var b,c,d=$Ms.length-1;d>=0;d--)c=$Ms.eq(d),b=c.data("layoutMask"),options[b].maskObjects||c.hide()},getMasks=function(a){for(var b,c=$([]),d=0,e=$Ms.length;e>d;d++)b=$Ms.eq(d),b.data("layoutMask")===a&&(c=c.add(b));return c.length?c:createMasks(a)},createMasks=function(a){var b,c,d,e,f,g=$Ps[a],h=state[a],i=options[a],j=options.zIndexes,k=$([]);if(!i.maskContents&&!i.maskObjects)return k;for(f=0;f<(i.maskObjects?2:1);f++)b=i.maskObjects&&0==f,c=document.createElement(b?"iframe":"div"),d=$(c).data("layoutMask",a),c.className="ui-layout-mask ui-layout-mask-"+a,e=c.style,e.display="block",e.position="absolute",e.background="#FFF",b&&(c.frameborder=0,c.src="about:blank",e.opacity=0,e.filter="Alpha(Opacity='0')",e.border=0),"IFRAME"==h.tagName?(e.zIndex=j.pane_normal+1,$N.append(c)):(d.addClass("ui-layout-mask-inside-pane"),e.zIndex=i.maskZindex||j.content_mask,e.top=0,e.left=0,e.width="100%",e.height="100%",g.append(c)),k=k.add(c),$Ms=$Ms.add(c);return k},destroy=function(a,b){$(window).unbind("."+sID),$(document).unbind("."+sID),"object"==typeof a?evtPane(a):b=a,$N.clearQueue().removeData("layout").removeData("layoutContainer").removeClass(options.containerClass).unbind("."+sID),$Ms.remove(),$.each(_c.allPanes,function(a,c){removePane(c,!1,!0,b)});var c="layoutCSS";$N.data(c)&&!$N.data("layoutRole")&&$N.css($N.data(c)).removeData(c),"BODY"===sC.tagName&&($N=$("html")).data(c)&&$N.css($N.data(c)).removeData(c),runPluginCallbacks(Instance,$.layout.onDestroy),unload();for(var d in Instance)d.match(/^(container|options)$/)||delete Instance[d];return Instance.destroyed=!0,Instance},removePane=function(a,b,c,d){if(isInitialized()){var e=evtPane.call(this,a),f=$Ps[e],g=$Cs[e],h=$Rs[e],i=$Ts[e];f&&$.isEmptyObject(f.data())&&(f=!1),g&&$.isEmptyObject(g.data())&&(g=!1),h&&$.isEmptyObject(h.data())&&(h=!1),i&&$.isEmptyObject(i.data())&&(i=!1),f&&f.stop(!0,!0);var j=options[e],k=state[e],l="layout",m="layoutCSS",n=children[e],o=$.isPlainObject(n)&&!$.isEmptyObject(n),p=void 0!==d?d:j.destroyChildren;if(o&&p&&($.each(n,function(a,b){b.destroyed||b.destroy(!0),b.destroyed&&delete n[a]}),$.isEmptyObject(n)&&(n=children[e]=null,o=!1)),f&&b&&!o)f.remove();else if(f&&f[0]){var q=j.paneClass,r=q+"-"+e,s="-open",t="-sliding",u="-closed",v=[q,q+s,q+u,q+t,r,r+s,r+u,r+t];$.merge(v,getHoverClasses(f,!0)),f.removeClass(v.join(" ")).removeData("parentLayout").removeData("layoutPane").removeData("layoutRole").removeData("layoutEdge").removeData("autoHidden").unbind("."+sID),o&&g?(g.width(g.width()),$.each(n,function(a,b){b.resizeAll()})):g&&g.css(g.data(m)).removeData(m).removeData("layoutRole"),f.data(l)||f.css(f.data(m)).removeData(m)}i&&i.remove(),h&&h.remove(),Instance[e]=$Ps[e]=$Cs[e]=$Rs[e]=$Ts[e]=!1,k={removed:!0},c||resizeAll()}},_hidePane=function(a){var b=$Ps[a],c=options[a],d=b[0].style;c.useOffscreenClose?(b.data(_c.offscreenReset)||b.data(_c.offscreenReset,{left:d.left,right:d.right}),b.css(_c.offscreenCSS)):b.hide().removeData(_c.offscreenReset)},_showPane=function(a){var b=$Ps[a],c=options[a],d=_c.offscreenCSS,e=b.data(_c.offscreenReset),f=b[0].style;b.show().removeData(_c.offscreenReset),c.useOffscreenClose&&e&&(f.left==d.left&&(f.left=e.left),f.right==d.right&&(f.right=e.right))},hide=function(a,b){if(isInitialized()){var c=evtPane.call(this,a),d=options[c],e=state[c],f=$Ps[c],g=$Rs[c];f&&!e.isHidden&&(state.initialized&&!1===_runCallbacks("onhide_start",c)||(e.isSliding=!1,delete state.panesSliding[c],g&&g.hide(),!state.initialized||e.isClosed?(e.isClosed=!0,e.isHidden=!0,e.isVisible=!1,state.initialized||_hidePane(c),sizeMidPanes("horz"===_c[c].dir?"":"center"),(state.initialized||d.triggerEventsOnLoad)&&_runCallbacks("onhide_end",c)):(e.isHiding=!0,close(c,!1,b))))}},show=function(a,b,c,d){if(isInitialized()){var e=evtPane.call(this,a),f=(options[e],state[e]),g=$Ps[e];$Rs[e];g&&f.isHidden&&!1!==_runCallbacks("onshow_start",e)&&(f.isShowing=!0,f.isSliding=!1,delete state.panesSliding[e],b===!1?close(e,!0):open(e,!1,c,d))}},toggle=function(a,b){if(isInitialized()){var c=evtObj(a),d=evtPane.call(this,a),e=state[d];c&&c.stopImmediatePropagation(),e.isHidden?show(d):e.isClosed?open(d,!!b):close(d)}},_closePane=function(a,b){var c=($Ps[a],state[a]);_hidePane(a),c.isClosed=!0,c.isVisible=!1,b&&setAsClosed(a)},close=function(a,b,c,d){function e(){m.isMoving=!1,bindStartSlidingEvents(f,!0);var a=_c.oppositeEdge[f];state[a].noRoom&&(setSizeLimits(a),makePaneFit(a)),d||!state.initialized&&!l.triggerEventsOnLoad||(h||_runCallbacks("onclose_end",f),h&&_runCallbacks("onshow_end",f),i&&_runCallbacks("onhide_end",f))}var f=evtPane.call(this,a);if(!state.initialized&&$Ps[f])return void _closePane(f,!0);if(isInitialized()){var g,h,i,j,k=$Ps[f],l=($Rs[f],$Ts[f],options[f]),m=state[f];_c[f];$N.queue(function(a){if(!k||!l.closable&&!m.isShowing&&!m.isHiding||!b&&m.isClosed&&!m.isShowing)return a();var d=!m.isShowing&&!1===_runCallbacks("onclose_start",f);return h=m.isShowing,i=m.isHiding,j=m.isSliding,delete m.isShowing,delete m.isHiding,d?a():(g=!c&&!m.isClosed&&"none"!=l.fxName_close,m.isMoving=!0,m.isClosed=!0,m.isVisible=!1,i?m.isHidden=!0:h&&(m.isHidden=!1),m.isSliding?bindStopSlidingEvents(f,!1):sizeMidPanes("horz"===_c[f].dir?"":"center",!1),setAsClosed(f),void(g?(lockPaneForFX(f,!0),k.hide(l.fxName_close,l.fxSettings_close,l.fxSpeed_close,function(){lockPaneForFX(f,!1),m.isClosed&&e(),a()})):(_hidePane(f),e(),a())))})}},setAsClosed=function(a){if($Rs[a]){var b=($Ps[a],$Rs[a]),c=$Ts[a],d=options[a],e=(state[a],_c[a].side),f=d.resizerClass,g=d.togglerClass,h="-"+a,i="-open",j="-sliding",k="-closed";b.css(e,sC.inset[e]).removeClass(f+i+" "+f+h+i).removeClass(f+j+" "+f+h+j).addClass(f+k+" "+f+h+k),d.resizable&&$.layout.plugins.draggable&&b.draggable("disable").removeClass("ui-state-disabled").css("cursor","default").attr("title",""),c&&(c.removeClass(g+i+" "+g+h+i).addClass(g+k+" "+g+h+k).attr("title",d.tips.Open),c.children(".content-open").hide(),c.children(".content-closed").css("display","block")),syncPinBtns(a,!1),state.initialized&&sizeHandles()}},open=function(a,b,c,d){function e(){k.isMoving=!1,_fixIframe(h),k.isSliding||sizeMidPanes("vert"==_c[h].dir?"center":"",!1),setAsOpen(h)}if(isInitialized()){var f,g,h=evtPane.call(this,a),i=$Ps[h],j=($Rs[h],$Ts[h],options[h]),k=state[h];_c[h];$N.queue(function(a){if(!i||!j.resizable&&!j.closable&&!k.isShowing||k.isVisible&&!k.isSliding)return a();if(k.isHidden&&!k.isShowing)return a(),void show(h,!0);k.autoResize&&k.size!=j.size?sizePane(h,j.size,!0,!0,!0):setSizeLimits(h,b);var l=_runCallbacks("onopen_start",h);return"abort"===l?a():("NC"!==l&&setSizeLimits(h,b),k.minSize>k.maxSize?(syncPinBtns(h,!1),!d&&j.tips.noRoomToOpen&&alert(j.tips.noRoomToOpen),a()):(b?bindStopSlidingEvents(h,!0):k.isSliding?bindStopSlidingEvents(h,!1):j.slidable&&bindStartSlidingEvents(h,!1),k.noRoom=!1,makePaneFit(h),g=k.isShowing,delete k.isShowing,f=!c&&k.isClosed&&"none"!=j.fxName_open,k.isMoving=!0,k.isVisible=!0,k.isClosed=!1,g&&(k.isHidden=!1),void(f?(lockPaneForFX(h,!0),i.show(j.fxName_open,j.fxSettings_open,j.fxSpeed_open,function(){lockPaneForFX(h,!1),k.isVisible&&e(),a()})):(_showPane(h),e(),a()))))})}},setAsOpen=function(a,b){var c=$Ps[a],d=$Rs[a],e=$Ts[a],f=options[a],g=state[a],h=_c[a].side,i=f.resizerClass,j=f.togglerClass,k="-"+a,l="-open",m="-closed",n="-sliding";d.css(h,sC.inset[h]+getPaneSize(a)).removeClass(i+m+" "+i+k+m).addClass(i+l+" "+i+k+l),g.isSliding?d.addClass(i+n+" "+i+k+n):d.removeClass(i+n+" "+i+k+n),removeHover(0,d),f.resizable&&$.layout.plugins.draggable?d.draggable("enable").css("cursor",f.resizerCursor).attr("title",f.tips.Resize):g.isSliding||d.css("cursor","default"),e&&(e.removeClass(j+m+" "+j+k+m).addClass(j+l+" "+j+k+l).attr("title",f.tips.Close),removeHover(0,e),e.children(".content-closed").hide(),e.children(".content-open").css("display","block")),syncPinBtns(a,!g.isSliding),$.extend(g,elDims(c)),state.initialized&&(sizeHandles(),sizeContent(a,!0)),!b&&(state.initialized||f.triggerEventsOnLoad)&&c.is(":visible")&&(_runCallbacks("onopen_end",a),g.isShowing&&_runCallbacks("onshow_end",a),state.initialized&&_runCallbacks("onresize_end",a))},slideOpen=function(a){function b(){e.isClosed?e.isMoving||open(d,!0):bindStopSlidingEvents(d,!0)}if(isInitialized()){var c=evtObj(a),d=evtPane.call(this,a),e=state[d],f=options[d].slideDelay_open;c&&c.stopImmediatePropagation(),e.isClosed&&c&&"mouseenter"===c.type&&f>0?timer.set(d+"_openSlider",b,f):b()}},slideClose=function(a){function b(){f.isClosed?bindStopSlidingEvents(d,!1):f.isMoving||close(d)}if(isInitialized()){var c=evtObj(a),d=evtPane.call(this,a),e=options[d],f=state[d],g=f.isMoving?1e3:300;if(!f.isClosed&&!f.isResizing)if("click"===e.slideTrigger_close)b();else{if(e.preventQuickSlideClose&&f.isMoving)return;if(e.preventPrematureSlideClose&&c&&$.layout.isMouseOverElem(c,$Ps[d]))return;c?timer.set(d+"_closeSlider",b,max(e.slideDelay_close,g)):b()}}},slideToggle=function(a){var b=evtPane.call(this,a);toggle(b,!0)},lockPaneForFX=function(a,b){var c=$Ps[a],d=state[a],e=options[a],f=options.zIndexes;b?(showMasks(a,{animation:!0,objectsOnly:!0}),c.css({zIndex:f.pane_animate}),"south"==a?c.css({top:sC.inset.top+sC.innerHeight-c.outerHeight()}):"east"==a&&c.css({left:sC.inset.left+sC.innerWidth-c.outerWidth()})):(hideMasks(),c.css({zIndex:d.isSliding?f.pane_sliding:f.pane_normal}),"south"==a?c.css({top:"auto"}):"east"!=a||c.css("left").match(/\-99999/)||c.css({left:"auto"}),browser.msie&&e.fxOpacityFix&&"slide"!=e.fxName_open&&c.css("filter")&&1==c.css("opacity")&&c[0].style.removeAttribute("filter"))},bindStartSlidingEvents=function(a,b){var c=options[a],d=($Ps[a],$Rs[a]),e=c.slideTrigger_open.toLowerCase();!d||b&&!c.slidable||(e.match(/mouseover/)?e=c.slideTrigger_open="mouseenter":e.match(/(click|dblclick|mouseenter)/)||(e=c.slideTrigger_open="click"),c.resizerDblClickToggle&&e.match(/click/)&&d[b?"unbind":"bind"]("dblclick."+sID,toggle),d[b?"bind":"unbind"](e+"."+sID,slideOpen).css("cursor",b?c.sliderCursor:"default").attr("title",b?c.tips.Slide:""))},bindStopSlidingEvents=function(a,b){function c(b){timer.clear(a+"_closeSlider"),b.stopPropagation()}var d=options[a],e=state[a],f=(_c[a],options.zIndexes),g=d.slideTrigger_close.toLowerCase(),h=b?"bind":"unbind",i=$Ps[a],j=$Rs[a];timer.clear(a+"_closeSlider"),b?(e.isSliding=!0,state.panesSliding[a]=!0,bindStartSlidingEvents(a,!1)):(e.isSliding=!1,delete state.panesSliding[a]),i.css("zIndex",b?f.pane_sliding:f.pane_normal),j.css("zIndex",b?f.pane_sliding+2:f.resizer_normal),g.match(/(click|mouseleave)/)||(g=d.slideTrigger_close="mouseleave"),j[h](g,slideClose),"mouseleave"===g&&(i[h]("mouseleave."+sID,slideClose),j[h]("mouseenter."+sID,c),i[h]("mouseenter."+sID,c)),b?"click"!==g||d.resizable||(j.css("cursor",b?d.sliderCursor:"default"),j.attr("title",b?d.tips.Close:"")):timer.clear(a+"_closeSlider")},makePaneFit=function(a,b,c,d){var e=options[a],f=state[a],g=_c[a],h=$Ps[a],i=$Rs[a],j="vert"===g.dir,k=!1;if(("center"===a||j&&f.noVerticalRoom)&&(k=f.maxHeight>=0,k&&f.noRoom?(_showPane(a),i&&i.show(),f.isVisible=!0,f.noRoom=!1,j&&(f.noVerticalRoom=!1),_fixIframe(a)):k||f.noRoom||(_hidePane(a),i&&i.hide(),f.isVisible=!1,f.noRoom=!0)),"center"===a);else if(f.minSize<=f.maxSize){if(k=!0,f.size>f.maxSize)sizePane(a,f.maxSize,c,!0,d);else if(f.size<f.minSize)sizePane(a,f.minSize,c,!0,d);else if(i&&f.isVisible&&h.is(":visible")){var l=f.size+sC.inset[g.side];$.layout.cssNum(i,g.side)!=l&&i.css(g.side,l)}f.noRoom&&(f.wasOpen&&e.closable?e.autoReopen?open(a,!1,!0,!0):f.noRoom=!1:show(a,f.wasOpen,!0,!0))}else f.noRoom||(f.noRoom=!0,f.wasOpen=!f.isClosed&&!f.isSliding,f.isClosed||(e.closable?close(a,!0,!0):hide(a,!0)))},manualSizePane=function(a,b,c,d,e){if(isInitialized()){var f=evtPane.call(this,a),g=options[f],h=state[f],i=e||g.livePaneResizing&&!h.isResizing;h.autoResize=!1,sizePane(f,b,c,d,i)}},sizePane=function(a,b,c,d,e){function f(){for(var a="width"===o?l.outerWidth():l.outerHeight(),d=[{pane:i,count:1,target:b,actual:a,correct:b===a,attempt:b,cssSize:h}],f=d[0],j={},q="Inaccurate size after resizing the "+i+"-pane.";!(f.correct||(j={pane:i,count:f.count+1,target:b},f.actual>b?j.attempt=max(0,f.attempt-(f.actual-b)):j.attempt=max(0,f.attempt+(b-f.actual)),j.cssSize=cssSize(i,j.attempt),l.css(o,j.cssSize),j.actual="width"==o?l.outerWidth():l.outerHeight(),j.correct=b===j.actual,1===d.length&&(_log(q,!1,!0),_log(f,!1,!0)),_log(j,!1,!0),d.length>3));)d.push(j),f=d[d.length-1];k.size=b,$.extend(k,elDims(l)),k.isVisible&&l.is(":visible")&&(m&&m.css(n,b+sC.inset[n]),sizeContent(i)),!c&&!p&&state.initialized&&k.isVisible&&_runCallbacks("onresize_end",i),c||(k.isSliding||sizeMidPanes("horz"==_c[i].dir?"":"center",p,e),sizeHandles());var r=_c.oppositeEdge[i];g>b&&state[r].noRoom&&(setSizeLimits(r),makePaneFit(r,!1,c)),d.length>1&&_log(q+"\nSee the Error Console for details.",!0,!0)}if(isInitialized()){var g,h,i=evtPane.call(this,a),j=options[i],k=state[i],l=$Ps[i],m=$Rs[i],n=_c[i].side,o=_c[i].sizeType.toLowerCase(),p=k.isResizing&&!j.triggerEventsDuringLiveResize,q=d!==!0&&j.animatePaneSizing;$N.queue(function(a){if(setSizeLimits(i),g=k.size,b=_parseSize(i,b),b=max(b,_parseSize(i,j.minSize)),b=min(b,k.maxSize),b<k.minSize)return a(),void makePaneFit(i,!1,c);if(!e&&b===g)return a();if(k.newSize=b,!c&&state.initialized&&k.isVisible&&_runCallbacks("onresize_start",i),h=cssSize(i,b),q&&l.is(":visible")){var d=$.layout.effects.size[i]||$.layout.effects.size.all,m=j.fxSettings_size.easing||d.easing,n=options.zIndexes,p={};p[o]=h+"px",k.isMoving=!0,l.css({zIndex:n.pane_animate}).show().animate(p,j.fxSpeed_size,m,function(){l.css({zIndex:k.isSliding?n.pane_sliding:n.pane_normal}),k.isMoving=!1,delete k.newSize,f(),a()})}else l.css(o,h),delete k.newSize,l.is(":visible")?f():(k.size=b,$.extend(k,elDims(l))),a()})}},sizeMidPanes=function(a,b,c){a=(a?a:"east,west,center").split(","),$.each(a,function(a,d){if($Ps[d]){var e=options[d],f=state[d],g=$Ps[d],h=($Rs[d],!0),i={},j=$.layout.showInvisibly(g),k=calcNewCenterPaneDims();if($.extend(f,elDims(g)),"center"===d){if(!c&&f.isVisible&&k.width===f.outerWidth&&k.height===f.outerHeight)return g.css(j),!0;if($.extend(f,cssMinDims(d),{maxWidth:k.width,maxHeight:k.height}),i=k,f.newWidth=i.width,f.newHeight=i.height,i.width=cssW(g,i.width),i.height=cssH(g,i.height),h=i.width>=0&&i.height>=0,!state.initialized&&e.minWidth>k.width){var l=e.minWidth-f.outerWidth,m=options.east.minSize||0,n=options.west.minSize||0,o=state.east.size,p=state.west.size,q=o,r=p;if(l>0&&state.east.isVisible&&o>m&&(q=max(o-m,o-l),l-=o-q),l>0&&state.west.isVisible&&p>n&&(r=max(p-n,p-l),l-=p-r),0===l)return o&&o!=m&&sizePane("east",q,!0,!0,c),p&&p!=n&&sizePane("west",r,!0,!0,c),sizeMidPanes("center",b,c),void g.css(j)}}else{if(f.isVisible&&!f.noVerticalRoom&&$.extend(f,elDims(g),cssMinDims(d)),!c&&!f.noVerticalRoom&&k.height===f.outerHeight)return g.css(j),!0;i.top=k.top,i.bottom=k.bottom,f.newSize=k.height,i.height=cssH(g,k.height),f.maxHeight=i.height,h=f.maxHeight>=0,h||(f.noVerticalRoom=!0)}if(h?(!b&&state.initialized&&_runCallbacks("onresize_start",d),g.css(i),"center"!==d&&sizeHandles(d),!f.noRoom||f.isClosed||f.isHidden||makePaneFit(d),f.isVisible&&($.extend(f,elDims(g)),state.initialized&&sizeContent(d))):!f.noRoom&&f.isVisible&&makePaneFit(d),g.css(j),delete f.newSize,delete f.newWidth,delete f.newHeight,!f.isVisible)return!0;if("center"===d){var s=browser.isIE6||!browser.boxModel;$Ps.north&&(s||"IFRAME"==state.north.tagName)&&$Ps.north.css("width",cssW($Ps.north,sC.innerWidth)),$Ps.south&&(s||"IFRAME"==state.south.tagName)&&$Ps.south.css("width",cssW($Ps.south,sC.innerWidth))}!b&&state.initialized&&_runCallbacks("onresize_end",d)}})},resizeAll=function(a){var b=sC.innerWidth,c=sC.innerHeight;if(evtPane(a),$N.is(":visible")){if(!state.initialized)return void _initLayoutElements();if(a===!0&&$.isPlainObject(options.outset)&&$N.css(options.outset),$.extend(sC,elDims($N,options.inset)),sC.outerHeight){if(a===!0&&setPanePosition(),!1===_runCallbacks("onresizeall_start"))return!1;var d,e,f;sC.innerHeight<c,sC.innerWidth<b;$.each(["south","north","east","west"],function(a,b){$Ps[b]&&(e=options[b],f=state[b],f.autoResize&&f.size!=e.size?sizePane(b,e.size,!0,!0,!0):(setSizeLimits(b),makePaneFit(b,!1,!0,!0)))}),sizeMidPanes("",!0,!0),sizeHandles(),$.each(_c.allPanes,function(a,b){d=$Ps[b],d&&state[b].isVisible&&_runCallbacks("onresize_end",b)}),_runCallbacks("onresizeall_end")}}},resizeChildren=function(a,b){var c=evtPane.call(this,a);if(options[c].resizeChildren){b||refreshChildren(c);var d=children[c];$.isPlainObject(d)&&$.each(d,function(a,b){b.destroyed||b.resizeAll()})}},sizeContent=function(a,b){if(isInitialized()){var c=evtPane.call(this,a);c=c?c.split(","):_c.allPanes,$.each(c,function(a,c){function d(a){return max(i.css.paddingBottom,parseInt(a.css("marginBottom"),10)||0)}function e(){var a=options[c].contentIgnoreSelector,b=g.nextAll().not(".ui-layout-mask").not(a||":lt(0)"),e=b.filter(":visible"),f=e.filter(":last");j={top:g[0].offsetTop,height:g.outerHeight(),numFooters:b.length,hiddenFooters:b.length-e.length,spaceBelow:0},j.spaceAbove=j.top,j.bottom=j.top+j.height,f.length?j.spaceBelow=f[0].offsetTop+f.outerHeight()-j.bottom+d(f):j.spaceBelow=d(g)}var f=$Ps[c],g=$Cs[c],h=options[c],i=state[c],j=i.content;if(!f||!g||!f.is(":visible"))return!0;if((g.length||(initContent(c,!1),g))&&!1!==_runCallbacks("onsizecontent_start",c)){(!i.isMoving&&!i.isResizing||h.liveContentResizing||b||void 0==j.top)&&(e(),j.hiddenFooters>0&&"hidden"===f.css("overflow")&&(f.css("overflow","visible"),e(),f.css("overflow","hidden")));var k=i.innerHeight-(j.spaceAbove-i.css.paddingTop)-(j.spaceBelow-i.css.paddingBottom);g.is(":visible")&&j.height==k||(setOuterHeight(g,k,!0),j.height=k),state.initialized&&_runCallbacks("onsizecontent_end",c)}})}},sizeHandles=function(a){var b=evtPane.call(this,a);b=b?b.split(","):_c.borderPanes,$.each(b,function(a,b){var c,d=options[b],e=state[b],f=$Ps[b],g=$Rs[b],h=$Ts[b];if(f&&g){var i,j,k,l=_c[b].dir,m=e.isClosed?"_closed":"_open",n=d["spacing"+m],o=d["togglerAlign"+m],p=d["togglerLength"+m];if(0===n)return void g.hide();if(e.noRoom||e.isHidden||g.show(),"horz"===l?(i=sC.innerWidth,e.resizerLength=i,j=$.layout.cssNum(f,"left"),g.css({width:cssW(g,i),height:cssH(g,n),left:j>-9999?j:sC.inset.left})):(i=f.outerHeight(),e.resizerLength=i,g.css({height:cssH(g,i),width:cssW(g,n),top:sC.inset.top+getPaneSize("north",!0)})),removeHover(d,g),h){if(0===p||e.isSliding&&d.hideTogglerOnSlide)return void h.hide();if(h.show(),!(p>0)||"100%"===p||p>i)p=i,k=0;else if(isStr(o))switch(o){case"top":case"left":k=0;break;case"bottom":case"right":k=i-p;break;case"middle":case"center":default:k=round((i-p)/2)}else{var q=parseInt(o,10);k=o>=0?q:i-p+q}if("horz"===l){var r=cssW(h,p);h.css({width:r,height:cssH(h,n),left:k,top:0}),h.children(".content").each(function(){c=$(this),c.css("marginLeft",round((r-c.outerWidth())/2))})}else{var s=cssH(h,p);h.css({height:s,width:cssW(h,n),top:k,left:0}),h.children(".content").each(function(){c=$(this),c.css("marginTop",round((s-c.outerHeight())/2))})}removeHover(0,h)}state.initialized||!d.initHidden&&!e.isHidden||(g.hide(),h&&h.hide())}})},enableClosable=function(a){if(isInitialized()){var b=evtPane.call(this,a),c=$Ts[b],d=options[b];c&&(d.closable=!0,c.bind("click."+sID,function(a){a.stopPropagation(),toggle(b)}).css("visibility","visible").css("cursor","pointer").attr("title",state[b].isClosed?d.tips.Open:d.tips.Close).show())}},disableClosable=function(a,b){if(isInitialized()){var c=evtPane.call(this,a),d=$Ts[c];d&&(options[c].closable=!1,state[c].isClosed&&open(c,!1,!0),d.unbind("."+sID).css("visibility",b?"hidden":"visible").css("cursor","default").attr("title",""))}},enableSlidable=function(a){if(isInitialized()){var b=evtPane.call(this,a),c=$Rs[b];c&&c.data("draggable")&&(options[b].slidable=!0,state[b].isClosed&&bindStartSlidingEvents(b,!0))}},disableSlidable=function(a){if(isInitialized()){var b=evtPane.call(this,a),c=$Rs[b];c&&(options[b].slidable=!1,state[b].isSliding?close(b,!1,!0):(bindStartSlidingEvents(b,!1),c.css("cursor","default").attr("title",""),removeHover(null,c[0])))}},enableResizable=function(a){if(isInitialized()){var b=evtPane.call(this,a),c=$Rs[b],d=options[b];c&&c.data("draggable")&&(d.resizable=!0,c.draggable("enable"),state[b].isClosed||c.css("cursor",d.resizerCursor).attr("title",d.tips.Resize))}},disableResizable=function(a){if(isInitialized()){var b=evtPane.call(this,a),c=$Rs[b];c&&c.data("draggable")&&(options[b].resizable=!1,c.draggable("disable").css("cursor","default").attr("title",""),removeHover(null,c[0]))}},swapPanes=function(a,b){function c(a){var b=$Ps[a],c=$Cs[a];return b?{pane:a,P:b?b[0]:!1,C:c?c[0]:!1,state:$.extend(!0,{},state[a]),options:$.extend(!0,{},options[a])}:!1}function d(a,b){if(a){var c,d,e=a.P,f=a.C,g=a.pane,i=_c[b],j=$.extend(!0,{},state[b]),k=options[b],l={resizerCursor:k.resizerCursor};$.each("fxName,fxSpeed,fxSettings".split(","),function(a,b){l[b+"_open"]=k[b+"_open"],l[b+"_close"]=k[b+"_close"],l[b+"_size"]=k[b+"_size"]}),$Ps[b]=$(e).data({layoutPane:Instance[b],layoutEdge:b}).css(_c.hidden).css(i.cssReq),$Cs[b]=f?$(f):!1,options[b]=$.extend(!0,{},a.options,l),state[b]=$.extend(!0,{},a.state),c=new RegExp(k.paneClass+"-"+g,"g"),e.className=e.className.replace(c,k.paneClass+"-"+b),initHandles(b),i.dir!=_c[g].dir?(d=h[b]||0,setSizeLimits(b),d=max(d,state[b].minSize),manualSizePane(b,d,!0,!0)):$Rs[b].css(i.side,sC.inset[i.side]+(state[b].isVisible?getPaneSize(b):0)),a.state.isVisible&&!j.isVisible?setAsOpen(b,!0):(setAsClosed(b),bindStartSlidingEvents(b,!0)),a=null}}if(isInitialized()){var e=evtPane.call(this,a);if(state[e].edge=b,state[b].edge=e,!1===_runCallbacks("onswap_start",e)||!1===_runCallbacks("onswap_start",b))return state[e].edge=e,void(state[b].edge=b);var f=c(e),g=c(b),h={};h[e]=f?f.state.size:0,h[b]=g?g.state.size:0,$Ps[e]=!1,$Ps[b]=!1,state[e]={},state[b]={},$Ts[e]&&$Ts[e].remove(),$Ts[b]&&$Ts[b].remove(),$Rs[e]&&$Rs[e].remove(),$Rs[b]&&$Rs[b].remove(),$Rs[e]=$Rs[b]=$Ts[e]=$Ts[b]=!1,d(f,b),d(g,e),f=g=h=null,$Ps[e]&&$Ps[e].css(_c.visible),$Ps[b]&&$Ps[b].css(_c.visible),resizeAll(),_runCallbacks("onswap_end",e),_runCallbacks("onswap_end",b)}},syncPinBtns=function(a,b){$.layout.plugins.buttons&&$.each(state[a].pins,function(c,d){$.layout.buttons.setPinState(Instance,$(d),a,b)})},$N=$(this).eq(0);if(!$N.length)return _log(options.errors.containerMissing);if($N.data("layoutContainer")&&$N.data("layout"))return $N.data("layout");var $Ps={},$Cs={},$Rs={},$Ts={},$Ms=$([]),sC=state.container,sID=state.id,Instance={options:options,state:state,container:$N,panes:$Ps,contents:$Cs,resizers:$Rs,togglers:$Ts,hide:hide,show:show,toggle:toggle,open:open,close:close,slideOpen:slideOpen,slideClose:slideClose,slideToggle:slideToggle,setSizeLimits:setSizeLimits,_sizePane:sizePane,sizePane:manualSizePane,sizeContent:sizeContent,swapPanes:swapPanes,showMasks:showMasks,hideMasks:hideMasks,initContent:initContent,addPane:addPane,removePane:removePane,createChildren:createChildren,refreshChildren:refreshChildren,enableClosable:enableClosable,disableClosable:disableClosable,enableSlidable:enableSlidable,disableSlidable:disableSlidable,enableResizable:enableResizable,disableResizable:disableResizable,allowOverflow:allowOverflow,resetOverflow:resetOverflow,destroy:destroy,initPanes:isInitialized,resizeAll:resizeAll,runCallbacks:_runCallbacks,hasParentLayout:!1,children:children,north:!1,south:!1,west:!1,east:!1,center:!1};return"cancel"===_create()?null:Instance}}(jQuery),function(a){a.ui||(a.ui={}),a.ui.cookie={acceptsCookies:!!navigator.cookieEnabled,read:function(b){for(var c,d=document.cookie,e=d?d.split(";"):[],f=0,g=e.length;g>f;f++)if(c=a.trim(e[f]).split("="),c[0]==b)return decodeURIComponent(c[1]);return null},write:function(b,c,d){var e="",f="",g=!1,h=d||{},i=h.expires||null,j=a.type(i);"date"===j?f=i:"string"===j&&i>0&&(i=parseInt(i,10),j="number"),"number"===j&&(f=new Date,i>0?f.setDate(f.getDate()+i):(f.setFullYear(1970),g=!0)),f&&(e+=";expires="+f.toUTCString()),h.path&&(e+=";path="+h.path),h.domain&&(e+=";domain="+h.domain),h.secure&&(e+=";secure"),document.cookie=b+"="+(g?"":encodeURIComponent(c))+e},clear:function(b){a.ui.cookie.write(b,"",{expires:-1})}},a.cookie||(a.cookie=function(b,c,d){var e=a.ui.cookie;if(null===c)e.clear(b);else{if(void 0===c)return e.read(b);e.write(b,c,d)}}),a.layout.plugins.stateManagement=!0,a.layout.config.optionRootKeys.push("stateManagement"),a.layout.defaults.stateManagement={enabled:!1,autoSave:!0,autoLoad:!0,animateLoad:!0,includeChildren:!0,stateKeys:"north.size,south.size,east.size,west.size,north.isClosed,south.isClosed,east.isClosed,west.isClosed,north.isHidden,south.isHidden,east.isHidden,west.isHidden",cookie:{name:"",domain:"",path:"",expires:"",secure:!1}},a.layout.optionsMap.layout.push("stateManagement"),a.layout.state={saveCookie:function(b,c,d){var e=b.options,f=e.stateManagement,g=a.extend(!0,{},f.cookie,d||null),h=b.state.stateData=b.readState(c||f.stateKeys);return a.ui.cookie.write(g.name||e.name||"Layout",a.layout.state.encodeJSON(h),g),a.extend(!0,{},h)},deleteCookie:function(b){var c=b.options;a.ui.cookie.clear(c.stateManagement.cookie.name||c.name||"Layout")},readCookie:function(b){var c=b.options,d=a.ui.cookie.read(c.stateManagement.cookie.name||c.name||"Layout");return d?a.layout.state.decodeJSON(d):{}},loadCookie:function(b){var c=a.layout.state.readCookie(b);return c&&(b.state.stateData=a.extend(!0,{},c),b.loadState(c)),c},loadState:function(b,c,d){if(a.isPlainObject(c)&&!a.isEmptyObject(c)){c=b.state.stateData=a.layout.transformData(c);var e=b.options.stateManagement;if(d=a.extend({animateLoad:!1,includeChildren:e.includeChildren},d),b.state.initialized){var f,g,h,i,j,k=!d.animateLoad;if(a.each(a.layout.config.borderPanes,function(d,e){f=c[e],a.isPlainObject(f)&&(s=f.size,g=f.initClosed,h=f.initHidden,ar=f.autoResize,i=b.state[e],j=i.isVisible,ar&&(i.autoResize=ar),j||b._sizePane(e,s,!1,!1,!1),h===!0?b.hide(e,k):g===!0?b.close(e,!1,k):g===!1?b.open(e,!1,k):h===!1&&b.show(e,!1,k),j&&b._sizePane(e,s,!1,!1,k))}),d.includeChildren){var l,m;a.each(b.children,function(b,d){l=c[b]?c[b].children:0,l&&d&&a.each(d,function(a,b){m=l[a],b&&m&&b.loadState(m)})})}}else{var f=a.extend(!0,{},c);a.each(a.layout.config.allPanes,function(a,b){f[b]&&delete f[b].children}),a.extend(!0,b.options,f)}}},readState:function(b,c){"string"===a.type(c)&&(c={keys:c}),c||(c={});var d,e,f,g,h,i,j,k=b.options.stateManagement,l=c.includeChildren,m=void 0!==l?l:k.includeChildren,n=c.stateKeys||k.stateKeys,o={isClosed:"initClosed",isHidden:"initHidden"},p=b.state,q=a.layout.config.allPanes,r={};a.isArray(n)&&(n=n.join(",")),n=n.replace(/__/g,".").split(",");for(var s=0,t=n.length;t>s;s++)d=n[s].split("."),e=d[0],f=d[1],a.inArray(e,q)<0||(g=p[e][f],void 0!=g&&("isClosed"==f&&p[e].isSliding&&(g=!0),(r[e]||(r[e]={}))[o[f]?o[f]:f]=g));return m&&a.each(q,function(c,d){i=b.children[d],h=p.stateData[d],a.isPlainObject(i)&&!a.isEmptyObject(i)&&(j=r[d]||(r[d]={}),j.children||(j.children={}),a.each(i,function(b,c){c.state.initialized?j.children[b]=a.layout.state.readState(c):h&&h.children&&h.children[b]&&(j.children[b]=a.extend(!0,{},h.children[b]))}))}),r},encodeJSON:function(b){function c(b){var d,e,f,g=[],h=0,i=a.isArray(b);for(d in b)e=b[d],f=typeof e,"string"==f?e='"'+e+'"':"object"==f&&(e=c(e)),g[h++]=(i?"":'"'+d+'":')+e;return(i?"[":"{")+g.join(",")+(i?"]":"}")}return c(b)},decodeJSON:function(b){try{return a.parseJSON?a.parseJSON(b):window.eval("("+b+")")||{}}catch(c){return{}}},_create:function(b){var c=a.layout.state,d=b.options,e=d.stateManagement;if(a.extend(b,{readCookie:function(){return c.readCookie(b)},deleteCookie:function(){c.deleteCookie(b)},saveCookie:function(a,d){return c.saveCookie(b,a,d)},loadCookie:function(){return c.loadCookie(b)},loadState:function(a,d){c.loadState(b,a,d);
},readState:function(a){return c.readState(b,a)},encodeJSON:c.encodeJSON,decodeJSON:c.decodeJSON}),b.state.stateData={},e.autoLoad)if(a.isPlainObject(e.autoLoad))a.isEmptyObject(e.autoLoad)||b.loadState(e.autoLoad);else if(e.enabled)if(a.isFunction(e.autoLoad)){var f={};try{f=e.autoLoad(b,b.state,b.options,b.options.name||"")}catch(g){}f&&a.isPlainObject(f)&&!a.isEmptyObject(f)&&b.loadState(f)}else b.loadCookie()},_unload:function(b){var c=b.options.stateManagement;if(c.enabled&&c.autoSave)if(a.isFunction(c.autoSave))try{c.autoSave(b,b.state,b.options,b.options.name||"")}catch(d){}else b.saveCookie()}},a.layout.onCreate.push(a.layout.state._create),a.layout.onUnload.push(a.layout.state._unload),a.layout.plugins.buttons=!0,a.layout.defaults.autoBindCustomButtons=!1,a.layout.optionsMap.layout.push("autoBindCustomButtons"),a.layout.buttons={init:function(b){var c,d="ui-layout-button-",e=b.options.name||"";a.each("toggle,open,close,pin,toggle-slide,open-slide".split(","),function(f,g){a.each(a.layout.config.borderPanes,function(f,h){a("."+d+g+"-"+h).each(function(){c=a(this).data("layoutName")||a(this).attr("layoutName"),(void 0==c||c===e)&&b.bindButton(this,g,h)})})})},get:function(b,c,d,e){var f=a(c),g=b.options,h=g.errors.addButtonError;if(f.length)if(a.inArray(d,a.layout.config.borderPanes)<0)a.layout.msg(h+" "+g.errors.pane+": "+d,!0),f=a("");else{var i=g[d].buttonClass+"-"+e;f.addClass(i+" "+i+"-"+d).data("layoutName",g.name)}else a.layout.msg(h+" "+g.errors.selector+": "+c,!0);return f},bind:function(b,c,d,e){var f=a.layout.buttons;switch(d.toLowerCase()){case"toggle":f.addToggle(b,c,e);break;case"open":f.addOpen(b,c,e);break;case"close":f.addClose(b,c,e);break;case"pin":f.addPin(b,c,e);break;case"toggle-slide":f.addToggle(b,c,e,!0);break;case"open-slide":f.addOpen(b,c,e,!0)}return b},addToggle:function(b,c,d,e){return a.layout.buttons.get(b,c,d,"toggle").click(function(a){b.toggle(d,!!e),a.stopPropagation()}),b},addOpen:function(b,c,d,e){return a.layout.buttons.get(b,c,d,"open").attr("title",b.options[d].tips.Open).click(function(a){b.open(d,!!e),a.stopPropagation()}),b},addClose:function(b,c,d){return a.layout.buttons.get(b,c,d,"close").attr("title",b.options[d].tips.Close).click(function(a){b.close(d),a.stopPropagation()}),b},addPin:function(b,c,d){var e=a.layout.buttons,f=e.get(b,c,d,"pin");if(f.length){var g=b.state[d];f.click(function(c){e.setPinState(b,a(this),d,g.isSliding||g.isClosed),g.isSliding||g.isClosed?b.open(d):b.close(d),c.stopPropagation()}),e.setPinState(b,f,d,!g.isClosed&&!g.isSliding),g.pins.push(c)}return b},setPinState:function(a,b,c,d){var e=b.attr("pin");if(!e||d!==("down"==e)){var f=a.options[c],g=f.buttonClass+"-pin",h=g+"-"+c,i=g+"-up "+h+"-up",j=g+"-down "+h+"-down";b.attr("pin",d?"down":"up").attr("title",d?f.tips.Unpin:f.tips.Pin).removeClass(d?i:j).addClass(d?j:i)}},syncPinBtns:function(b,c,d){a.each(b.state[c].pins,function(e,f){a.layout.buttons.setPinState(b,a(f),c,d)})},_load:function(b){var c=a.layout.buttons;a.extend(b,{bindButton:function(a,d,e){return c.bind(b,a,d,e)},addToggleBtn:function(a,d,e){return c.addToggle(b,a,d,e)},addOpenBtn:function(a,d,e){return c.addOpen(b,a,d,e)},addCloseBtn:function(a,d){return c.addClose(b,a,d)},addPinBtn:function(a,d){return c.addPin(b,a,d)}});for(var d=0;4>d;d++){var e=a.layout.config.borderPanes[d];b.state[e].pins=[]}b.options.autoBindCustomButtons&&c.init(b)},_unload:function(a){}},a.layout.onLoad.push(a.layout.buttons._load),a.layout.plugins.browserZoom=!0,a.layout.defaults.browserZoomCheckInterval=1e3,a.layout.optionsMap.layout.push("browserZoomCheckInterval"),a.layout.browserZoom={_init:function(b){a.layout.browserZoom.ratio()!==!1&&a.layout.browserZoom._setTimer(b)},_setTimer:function(b){if(!b.destroyed){var c=b.options,d=b.state,e=b.hasParentLayout?5e3:Math.max(c.browserZoomCheckInterval,100);setTimeout(function(){if(!b.destroyed&&c.resizeWithWindow){var e=a.layout.browserZoom.ratio();e!==d.browserZoom&&(d.browserZoom=e,b.resizeAll()),a.layout.browserZoom._setTimer(b)}},e)}},ratio:function(){function b(a,b){return(parseInt(a,10)/parseInt(b,10)*100).toFixed()}var c,d,e,f=window,g=screen,h=document,i=h.documentElement||h.body,j=a.layout.browser,k=j.version;return j.msie&&k>8||!j.msie?!1:g.deviceXDPI&&g.systemXDPI?b(g.deviceXDPI,g.systemXDPI):j.webkit&&(c=h.body.getBoundingClientRect)?b(c.left-c.right,h.body.offsetWidth):j.webkit&&(d=f.outerWidth)?b(d,f.innerWidth):(d=g.width)&&(e=i.clientWidth)?b(d,e):!1}},a.layout.onReady.push(a.layout.browserZoom._init)}(jQuery),function(a,b,c){function d(){return!(!a.AudioContext&&!a.webkitAudioContext)}function e(){if(e.audioTop)return e.audioTop;if(!d())return null;var b=new(a.AudioContext||a.webkitAudioContext);return e.audioTop={ac:b,wavetable:h(b),out:null,currentStart:null},f(),e.audioTop}function f(){if(e.audioTop){var a=e.audioTop;a.out&&(a.out.disconnect(),a.out=null,a.currentStart=null);var b=a.ac.createDynamicsCompressor();b.ratio=16,b.attack=5e-4,b.connect(a.ac.destination),a.out=b}}function g(){var a=e();return null!=a.currentStart?a.currentStart:(a.currentStart=Math.max(.25,a.ac.currentTime),setTimeout(function(){a.currentStart=null},0),a.currentStart)}function h(a){return function(b){function c(b){var c,d=b.real.length,e=new Float32Array(d),f=new Float32Array(d);for(c=0;d>c;++c)e[c]=b.real[c],f[c]=b.imag[c];try{return a.createPeriodicWave(e,f)}catch(g){}try{return a.createWaveTable(e,f)}catch(g){}return null}function d(a,b,c){var d,e,f={real:[],imag:[]},g=a.real.length;for(d=0;g>d;++d)e=Math.log(b[Math.min(d,b.length-1)]),f.real.push(a.real[d]*Math.exp(c*e)),f.imag.push(a.imag[d]*Math.exp(c*e));return f}var e,f,g,h,i,j,k={};for(e in b)if(f=b[e],j=c(f)){if(i={wave:j},f.mult)for(h=b[e].freq,i.freq={},g=0;g<h.length;++g)j=c(d(f,f.mult,(g+1)/h.length)),j&&(i.freq[h[g]]=j);f.defs&&(i.defs=f.defs),k[e]=i}return k}({piano:{real:[0,0,-.203569,.5,-.401676,.137128,-.104117,.115965,-.004413,.067884,-.00888,.0793,-.038756,.011882,-.030883,.027608,-.013429,.00393,-.014029,.00972,-.007653,.007866,-.032029,.046127,-.024155,.023095,-.005522,.004511,-.003593,.011248,-.004919,.008505],imag:[0,.147621,0,7e-6,-1e-5,5e-6,-6e-6,9e-6,0,8e-6,-1e-6,14e-6,-8e-6,3e-6,-9e-6,9e-6,-5e-6,2e-6,-7e-6,5e-6,-5e-6,5e-6,-23e-6,37e-6,-21e-6,22e-6,-6e-6,5e-6,-4e-6,14e-6,-7e-6,12e-6],mult:[1,1,.18,.016,.01,.01,.01,.004,.014,.02,.014,.004,.002,1e-5],freq:[65,80,100,135,180,240,620,1360],defs:{wave:"piano",gain:.5,attack:.002,decay:.4,sustain:.005,release:.1,decayfollow:.7,cutoff:800,cutfollow:.1,resonance:1,detune:1.001}}})}var i=!1,k=function(){function a(a){this._atop=e(),this._timbre=D(a,this._atop),this._queue=[],this._minQueueTime=1/0,this._maxScheduledTime=0,this._unsortedQueue=!1,this._startSet=[],this._finishSet={},this._cleanupSet=[],this._callbackSet=[],this._handlers={},this._now=null,d()&&this.silence()}function b(a){function b(a){a=a||"",(a||s===r)&&(r.voice.hasOwnProperty(a)?(s=r.voice[a],u=s.accent):(s={id:a,accent:{slurred:0}},r.voice[a]=s,u=s.accent))}function d(){return r.V?r.V.split(/\s+/)[0]:""}var e,g,i,j,l,p,q=a.split("\n"),r={voice:{}},s=r,t={},u={};for(e=0;e<q.length;++e)if(i=G.exec(q[e])){switch(i[1]){case"V":s!==r&&b(i[2].split(" ")[0]);break;case"M":c(i[2],s);break;case"L":f(i[2],s);break;case"Q":h(i[2],s)}s.hasOwnProperty(i[1])?s[i[1]]+="\n"+i[2]:s[i[1]]=i[2],"K"==i[1]&&s===r&&(t=m(i[2]),b(d()))}else{if(/^\s*(?:%.*)?$/.test(q[e]))continue;l=n(q[e]),l?b(l):s===r&&b(d()),j=o(q[e],t,u),j&&j.length&&("stems"in s||(s.stems=[]),s.stems.push.apply(s.stems,j))}var v=["unitnote","unitbeat","tempo"];if(r.voice){p=[];for(e in r.voice)if(r.voice[e].stems&&r.voice[e].stems.length)for(k(r.voice[e].stems),g=0;g<v.length;++g)!(v[g]in r)&&v[g]in r.voice[e]&&(r[v[g]]=r.voice[e][v[g]]);else p.push(e);for(e=0;e<p.length;++e)delete r.voice[p[e]]}return r}function c(a,b){var c=/^C/.test(a)?1:C(a);c&&(b.unitnote||(.75>c?b.unitnote=1/16:b.unitnote=1/8))}function f(a,b){var c=C(a);c&&(b.unitnote=c)}function h(a,b){var c,d=a.split(/\s+|=/),e=null,f=null;for(c=0;c<d.length;++c)d[c].indexOf("/")>=0||/^[1-4]$/.test(d[c])?e=e||C(d[c]):f=f||Number(d[c]);e&&(b.unitbeat=e),f&&(b.tempo=f)}function k(a){var b,c,d,e,f,g={};for(c=0;c<a.length;++c){for(b={},d=0;d<a[c].notes.length;++d)f=e=a[c].notes[d],g.hasOwnProperty(e.pitch)&&(f=g[e.pitch],f.time+=e.time,e.holdover=!0),e.tie&&(b[e.pitch]=f);g=b}}function l(a){var b,c="FCGDAEB",d={};if(!a)return d;if(a>0)for(b=0;a>b&&7>b;++b)d[c.charAt(b)]="^";else for(b=0;b>a&&b>-7;--b)d[c.charAt(6+b)]="_";return d}function m(a){if(!a)return{};var b,c={"c#":7,"f#":6,b:5,e:4,a:3,d:2,g:1,c:0,f:-1,bb:-2,eb:-3,ab:-4,db:-5,gb:-6,cb:-7,"a#m":7,"d#m":6,"g#m":5,"c#m":4,"f#m":3,bm:2,em:1,am:0,dm:-1,gm:-2,cm:-3,fm:-4,bbm:-5,ebm:-6,abm:-7,"g#mix":7,"c#mix":6,"f#mix":5,bmix:4,emix:3,amix:2,dmix:1,gmix:0,cmix:-1,fmix:-2,bbmix:-3,ebmix:-4,abmix:-5,dbmix:-6,gbmix:-7,"d#dor":7,"g#dor":6,"c#dor":5,"f#dor":4,bdor:3,edor:2,ador:1,ddor:0,gdor:-1,cdor:-2,fdor:-3,bbdor:-4,ebdor:-5,abdor:-6,dbdor:-7,"e#phr":7,"a#phr":6,"d#phr":5,"g#phr":4,"c#phr":3,"f#phr":2,bphr:1,ephr:0,aphr:-1,dphr:-2,gphr:-3,cphr:-4,fphr:-5,bbphr:-6,ebphr:-7,"f#lyd":7,blyd:6,elyd:5,alyd:4,dlyd:3,glyd:2,clyd:1,flyd:0,bblyd:-1,eblyd:-2,ablyd:-3,dblyd:-4,gblyd:-5,cblyd:-6,fblyd:-7,"b#loc":7,"e#loc":6,"a#loc":5,"d#loc":4,"g#loc":3,"c#loc":2,"f#loc":1,bloc:0,eloc:-1,aloc:-2,dloc:-3,gloc:-4,cloc:-5,floc:-6,bbloc:-7},d=a.replace(/\s+/g,"").toLowerCase().substr(0,5),e=d.match(/maj|min|mix|dor|phr|lyd|loc|m/);b=e?"maj"==e?d.substr(0,e.index):"min"==e?d.substr(0,e.index+1):d.substr(0,e.index+e[0].length):/^[a-g][#b]?/.exec(d)||"";var f=l(c[b]),g=a.substr(b.length).match(/(_+|=|\^+)[a-g]/gi);if(g)for(j=0;j<g.length;++j){var h=g[j].charAt(g[j].length-1).toUpperCase();"="==g[j].charAt(0)?delete f[h]:f[h]=g[j].substr(0,g[j].length-1)}return f}function n(a){var b=/^\[V:([^\]\s]*)\]/.exec(a);return b?b[1]:null}function o(a,b,c){var d,e=a.match(H),f=[],g=null,h=0,i=0,j=null;if(!e)return null;for(;h<e.length;)if(/^[\s%]/.test(e[h]))h++;else if(/^\[V:\S*\]$/.test(e[h]))h++;else if(/</.test(e[h]))i=-e[h++].length;else if(/>/.test(e[h]))i=e[h++].length;else if(/^\(\d+(?::\d+)*/.test(e[h]))j=s(e[h++]);else if(/^[!+].*[!+]$/.test(e[h]))t(e[h++],c);else if(/^.?".*"$/.test(e[h]))h++;else if(/^[()]$/.test(e[h]))"("==e[h++]?c.slurred+=1:(c.slurred-=1,c.slurred<=0&&(c.slurred=0,f.length>=1&&q(f[f.length-1],!1)));else if(/\|/.test(e[h])){for(d in c)1==d.length&&delete c[d];h++}else g=u(e,h,b,c),null!==g?(j&&(r(g.stem,j.time),j.count-=1,j.count||(j=null)),i&&f.length&&(d=i>0?(1-Math.pow(.5,i))*g.stem.time:(Math.pow(.5,-i)-1)*f[f.length-1].time,p(f[f.length-1],d),p(g.stem,-d)),i=0,c.slurred&&q(g.stem,!0),f.push(g.stem),h=g.index):h++;return f}function p(a,b){var c,d,e=a.time,f=e+b;for(a.time=f,c=0;c<a.notes.length;++c)d=a.notes[c],d.time==e&&(d.time=f)}function q(a,b){var c,d;for(c=0;c<a.notes.length;++c)d=a.notes[c],b?d.slurred=!0:d.slurred&&delete d.slurred}function r(a,b){var c;for(a.time*=b,c=0;c<a.notes.length;++c)a.notes[c].time*=b}function s(a){var b=/^\((\d+)(?::(\d+)(?::(\d+))?)?$/.exec(a);if(!b)return null;var c=Number(b[1]),d=Number(b[2])||2,e=Number(b[3])||c;return{time:d/c,count:e}}function t(a,b){if(!(a.length<2))switch(a=a.substring(1,a.length-1)){case"pppp":case"ppp":b.dynamics=.2;break;case"pp":b.dynamics=.4;break;case"p":b.dynamics=.6;break;case"mp":b.dynamics=.8;break;case"mf":b.dynamics=1;break;case"f":b.dynamics=1.2;break;case"ff":b.dynamics=1.4;break;case"fff":case"ffff":b.dynamics=1.5}}function u(a,b,c,d){var e,f,g,h,i=[],j="",k=!1,l=null,m=1/0;if(b<a.length&&"."==a[b]&&(k=!0,b++),b<a.length&&"["==a[b]){for(b++;b<a.length;)if(/^[\s%]/.test(a[b]))b++;else{if(/[A-Ga-g]/.test(a[b]))l={pitch:w(a[b++],c,d),tie:!1},l.frequency=B(l.pitch),i.push(l);else{if(!/[xzXZ]/.test(a[b])){if("."==a[b]){k=!0,b++;continue}break}l=null,b++}b<a.length&&/^(?![\s%!]).*[\d\/]/.test(a[b])?(e=a[b++],f=C(e)):(e="",f=1),l&&(l.duration=e,l.time=f),f&&m>f&&(j=e,m=f),b<a.length&&"-"==a[b]&&(l&&(i[i.length-1].tie=!0),b++)}if("]"!=a[b])return null;b++}else if(b<a.length&&/[A-Ga-g]/.test(a[b]))l={pitch:w(a[b++],c,d),tie:!1,duration:"",time:1},l.frequency=B(l.pitch),i.push(l);else{if(!(b<a.length&&/^[xzXZ]$/.test(a[b])))return null;b++}if(b<a.length&&/^(?![\s%!]).*[\d\/]/.test(a[b]))for(j=a[b++],f=C(j),h=0;h<i.length;++h)i[h].duration=j,i[h].time=f;if(b<a.length&&"-"==a[b])for(b++,h=0;h<i.length;++h)i[h].tie=!0;if(d.dynamics)for(g=d.dynamics,h=0;h<i.length;++h)i[h].velocity=g;return{index:b,stem:{notes:i,duration:j,staccato:k,time:C(j)}}}function v(a){return a.length>0&&"="==a.charAt(0)?a.substr(1):a}function w(a,b,c){var d,e=/^(\^+|_+|=|)([A-Ga-g])(.*)$/.exec(a);return e?(d=e[2].toUpperCase(),e[1].length>0?(c[d]=e[1],v(a)):v(c.hasOwnProperty(d)?c[d]+e[2]+e[3]:b.hasOwnProperty(d)?b[d]+e[2]+e[3]:a)):a}function x(a){return 440*Math.pow(2,(a-69)/12)}function y(a){return Math.round(69+12*Math.log(a/440)/Math.LN2)}function z(a){var b=/^(\^+|_+|=|)([A-Ga-g])([,']*)$/.exec(a);if(!b)return null;var c=b[3].replace(/,/g,"").length-b[3].replace(/'/g,"").length,d=I[b[2]]+J[b[1].charAt(0)]*b[1].length+12*c;return d+60}function A(a){var b=(a-72)%12;(a>60||0!=b)&&(b+=12);for(var c=Math.round((a-b-60)/12),d=K[b];0!=c;)d+=c>0?"'":",",c+=c>0?-1:1;return d}function B(a){return x(z(a))}function C(a){var b,c,d,e=/^(\d*)(?:\/(\d*))?$|^(\/+)$/.exec(a),f=0;if(e){if(e[3])return Math.pow(.5,e[3].length);if(c=e[2]?parseFloat(e[2]):/\//.test(a)?2:1,d=0,b=e[1]?parseFloat(e[1]):1,e[2])for(;d+1<e[1].length&&b>c;)d+=1,f=parseFloat(e[1].substring(0,d)),b=parseFloat(e[1].substring(d));return f+b/c}}function D(a,b){a||(a={}),"string"==typeof a&&(a={wave:a});var c,d={},e=b&&b.wavetable&&b.wavetable[a.wave];for(c in L)a.hasOwnProperty(c)?d[c]=a[c]:e&&e.defs&&e.defs.hasOwnProperty(c)?d[c]=e.defs[c]:d[c]=L[c];return d}function E(){if(null==c)for(var a=e().ac,b=2*a.sampleRate,c=a.createBuffer(1,b,a.sampleRate),d=c.getChannelData(0),f=0;b>f;f++)d[f]=2*Math.random()-1;return c}function F(a,b,c){if("noise"==b){var d=a.ac.createBufferSource();return d.buffer=E(),d.loop=!0,d}var e,f,g,h,i=a.wavetable,j=a.ac.createOscillator();try{if(i.hasOwnProperty(b)){if(f=i[b].wave,i[b].freq){g=0;for(e in i[b].freq)h=Number(e),c>h&&h>g&&(g=h,f=i[b].freq[g])}!j.setPeriodicWave&&j.setWaveTable?j.setWaveTable(f):j.setPeriodicWave(f)}else j.type=b}catch(k){window.console&&window.console.log(k),j.type="square"}return j.frequency.value=c,j}a.dequeueTime=.5,a.bufferSecs=2,a.toneLength=1,a.cleanupDelay=.1,a.prototype.setTimbre=function(a){this._timbre=D(a,this._atop)},a.prototype.getTimbre=function(a){return D(this._timbre,this._atop)},a.prototype.setVolume=function(a){this._out&&(isNaN(a)||(this._out.gain.value=a))},a.prototype.getVolume=function(a){return this._out?this._out.gain.value:0},a.prototype.silence=function(){if(!navigator.userAgent.match(/Trident/)){var a,b,c,d=1;this._queue.length=0,this._minQueueTime=1/0,this._maxScheduledTime=0,this._startSet.length=0,b=this._finishSet,this._finishSet={},c=this._callbackSet,this._callbackSet=[],this._out&&(this._out.disconnect(),d=this._out.gain.value),this._atop=e(),this._out=this._atop.ac.createGain(),this._out.gain.value=d,this._out.connect(this._atop.out);for(a in b)this._trigger("noteoff",b[a]);for(a=0;a<c.length;++a)c[a].callback()}},a.prototype.now=function(){return null!=this._now?this._now:(this._startPollTimer(!0),this._now)},a.prototype.on=function(a,b){this._handlers.hasOwnProperty(a)||(this._handlers[a]=[]),this._handlers[a].push(b)},a.prototype.off=function(a,b){if(this._handlers.hasOwnProperty(a))if(b){var c,d=this._handlers[a];for(c=0;c<d.length;++c)d[c]===b&&(d.splice(c,1),c-=1)}else this._handlers[a]=[]},a.prototype._trigger=function(a,b){var c,d=this._handlers[a];if(d){if(1==d.length)return void d[0](b);for(d=d.slice(),c=0;c<d.length;++c)d[c](b)}},a.prototype._makeSound=function(a){var b,c,d,e,f=a.timbre||this._timbre,g=a.time,h=g+a.duration,i=Math.min(h,g+f.attack),j=f.decay*Math.pow(440/a.frequency,f.decayfollow),k=i,l=h+f.release,m=f.detune&&1!=f.detune,n=f.gain*a.velocity*(m?.5:1),o=this._atop.ac;if(a.duration>0&&a.velocity>0){for(b=o.createGain(),b.gain.setValueAtTime(0,g),b.gain.linearRampToValueAtTime(n,i);i+1/32>k&&h>k+1/256;)k+=1/256,b.gain.linearRampToValueAtTime(n*(f.sustain+(1-f.sustain)*Math.exp((i-k)/j)),k);b.gain.setTargetAtTime(n*f.sustain,k,j),b.gain.setValueAtTime(n*(f.sustain+(1-f.sustain)*Math.exp((i-h)/j)),h),b.gain.linearRampToValueAtTime(0,l),b.connect(this._out),!f.cutoff&&!f.cutfollow||f.cutoff==1/0?c=b:(c=o.createBiquadFilter(),c.frequency.value=f.cutoff+a.frequency*f.cutfollow,c.Q.value=f.resonance,c.connect(b)),d=F(this._atop,f.wave,a.frequency),d.connect(c),d.start(g),d.stop(l),m&&(e=F(this._atop,f.wave,a.frequency*f.detune),e.connect(c),e.start(g),e.stop(l)),a.gainNode=b,a.oscillators=[d],m&&a.oscillators.push(e),a.cleanuptime=l}else a.duration=0;this._startSet.push(a)},a.prototype._truncateSound=function(b,c){if(c<b.time+b.duration&&(b.duration=Math.max(0,c-b.time),b.gainNode)){var d,e=b.timbre||this._timbre,f=b.time,g=Math.min(c,f+e.attack),h=e.decay*Math.pow(440/b.frequency,e.decayfollow),i=c+e.release,j=i+a.cleanupDelay,k=e.detune&&1!=e.detune,l=e.gain*b.velocity*(k?.5:1),m=b.gainNode;if(m.gain.cancelScheduledValues(c),f>=c?m.gain.setValueAtTime(0,c):g>=c?m.gain.linearRampToValueAtTime(l*(c-f)/(g-f)):m.gain.setValueAtTime(l*(e.sustain+(1-e.sustain)*Math.exp((g-c)/h)),c),m.gain.linearRampToValueAtTime(0,i),b.oscillators)for(d=0;d<b.oscillators.length;++d)b.oscillators[d].stop(i);b.cleanuptime=j}},a.prototype._doPoll=function(){if(this._pollTimer=null,this._now=null,i)return void this.silence();var b,c,d,e,f,g,h,j,k=this._atop.ac.currentTime+5e-4,l=[];if(this._minQueueTime-k<=a.bufferSecs){for(this._unsortedQueue&&(this._queue.sort(function(a,b){return a.time!=b.time?a.time-b.time:a.duration!=b.duration?a.duration-b.duration:a.frequency-b.frequency}),this._unsortedQueue=!1),b=0;b<this._queue.length&&!(this._queue[b].time-k>a.bufferSecs);++b);if(b>0){for(c=this._queue.splice(0,b),b=0;b<c.length;++b)this._makeSound(c[b]);this._minQueueTime=this._queue.length>0?this._queue[0].time:1/0}}for(b=0;b<this._cleanupSet.length;++b)f=this._cleanupSet[b],f.cleanuptime<k&&(f.gainNode&&(f.gainNode.disconnect(),f.gainNode=null),this._cleanupSet.splice(b,1),b-=1);for(e in this._finishSet)f=this._finishSet[e],d=f.time+f.duration,k>=d&&(l.push({order:[d,0],f:this._trigger,t:this,a:["noteoff",f]}),f.cleanuptime!=1/0&&this._cleanupSet.push(f),delete this._finishSet[e]);for(b=0;b<this._callbackSet.length;++b)j=this._callbackSet[b],d=j.time,k>=d&&(l.push({order:[d,1],f:j.callback,t:null,a:[]}),this._callbackSet.splice(b,1),b-=1);for(b=0;b<this._startSet.length;++b)this._startSet[b].time<=k&&(h=f=this._startSet[b],e=f.frequency,g=null,this._finishSet.hasOwnProperty(e)&&(g=this._finishSet[e],g.time<f.time||g.time==f.time&&g.duration<f.duration?(this._truncateSound(g,f.time),l.push({order:[f.time,0],f:this._trigger,t:this,a:["noteoff",g]}),delete this._finishSet[e]):(this._truncateSound(f,g.time),g=f)),this._startSet.splice(b,1),b-=1,f.duration>0&&f.velocity>0&&g!==f&&(this._finishSet[e]=f,l.push({order:[f.time,2],f:this._trigger,t:this,a:["noteon",f]})));for(this._startPollTimer(),l.sort(function(a,b){return a.order[0]!=b.order[0]?a.order[0]-b.order[0]:a.order[1]-b.order[1]}),b=0;b<l.length;++b)j=l[b],j.f.apply(j.t,j.a)},a.prototype._startPollTimer=function(b){if(!this._pollTimer||null==this._now){var c,d,e=this,f=function(){e._doPoll()},h=1/0;if(this._pollTimer&&(clearTimeout(this._pollTimer),this._pollTimer=null),b)return this._now=g(),void(this._pollTimer=setTimeout(f,0));for(c=0;c<this._startSet.length;++c)h=Math.min(h,this._startSet[c].time);for(c in this._finishSet)h=Math.min(h,this._finishSet[c].time+this._finishSet[c].duration);for(c=0;c<this._callbackSet.length;++c)h=Math.min(h,this._callbackSet[c].time);this._cleanupSet.length>0&&(h=Math.min(h,this._cleanupSet[0].cleanuptime+1)),h=Math.min(h,this._minQueueTime-a.dequeueTime),d=Math.max(.001,h-this._atop.ac.currentTime),isNaN(d)||d==1/0||(this._pollTimer=setTimeout(f,Math.round(1e3*d)))}},a.prototype.tone=function(b,c,d,e,f,g){if(this._atop){"object"==typeof b&&(null==d&&(d=b.velocity),null==c&&(c=b.duration),null==e&&(e=b.delay),null==f&&(f=b.timbre),null==g&&(g=b.origin),b=b.pitch);var h,i;if(b||(b="C"),isNaN(b)?(h=z(b),i=x(h)):(i=Number(b),0>i?(h=-i,i=x(h)):h=y(i)),f||(f=this._timbre),f!==this._timbre){var j,k=f;f={};for(j in L)j in k?f[j]=k[j]:f[j]=defaulTimbre[j]}var l=(this._atop.ac,this.now()),m=l+(e||0),n={time:m,on:!1,frequency:i,midi:h,velocity:null==d?1:d,duration:null==c?a.toneLength:c,timbre:f,instrument:this,gainNode:null,oscillators:null,cleanuptime:1/0,origin:g};m<l+a.bufferSecs?this._makeSound(n):(!this._unsortedQueue&&this._queue.length&&m<this._queue[this._queue.length-1].time&&(this._unsortedQueue=!0),this._queue.push(n),this._minQueueTime=Math.min(this._minQueueTime,n.time))}},a.prototype.schedule=function(a,b){this._callbackSet.push({time:this.now()+a,callback:b})},a.prototype.play=function(a){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s=Array.prototype.slice.call(arguments),t=null,u={},v=0,w=[];if(s.length&&"function"==typeof s[s.length-1]&&(t=s.pop()),!this._atop)return void(t&&t());if(e=0,"object"==typeof s[0]){for(g in s[0])s[0].hasOwnProperty(g)&&(u[g]=s[0][g]);e=1,u.song&&s.push(u.song)}for(;e<s.length;++e)for(c=s[e].split(/\n(?=X:)/),g=0;g<c.length;++g)d=b(c[g]),d&&(!u.tempo&&d.tempo&&(u.tempo=d.tempo,d.unitbeat&&(u.tempo*=d.unitbeat/(d.unitnote||1))),d.voice&&w.push(d));for(u.tempo||(u.tempo=120),null==u.volume&&(u.volume=1),p=60/u.tempo,g=0;g<w.length;++g){d=w[g];for(l in d.voice)if(f=D(u.timbre||d.voice[l].timbre||d.timbre||this._timbre,this._atop),j=d.voice[l].stems){for(h=0,k=0;k<j.length;++k){for(n=j[k],i=1/Math.sqrt(n.notes.length),m=0;m<n.notes.length;++m)o=n.notes[m],o.holdover||(q=(o.time||n.time)*p,n.staccato?q=Math.min(Math.min(q,p/16),f.attack+f.decay):!o.slurred&&q>=1/8&&(q-=1/32),r=(o.velocity||1)*i*u.volume,this.tone(o.pitch,q,r,h,f,o));h+=n.time*p}v=Math.max(h,v)}}this._maxScheduledTime=Math.max(this._maxScheduledTime,this.now()+v),t&&this.schedule(v,t)};var G=/^([A-Za-z]):\s*(.*)$/,H=/(?:^\[V:[^\]\s]*\])|\s+|%[^\n]*|![^\s!:|\[\]]*!|\+[^+|!]*\+|[_<>@^]?"[^"]*"|\[|\]|>+|<+|(?:(?:\^+|_+|=|)[A-Ga-g](?:,+|'+|))|\(\d+(?::\d+){0,2}|\d*\/\d+|\d+\/?|\/+|[xzXZ]|\[?\|\]?|:?\|:?|::|./g,I={C:0,D:2,E:4,F:5,G:7,A:9,B:11,c:12,d:14,e:16,f:17,g:19,a:21,b:23},J={"^":1,"":0,"=":0,_:-1},K=["C","^C","D","_E","E","F","^F","G","_A","A","_B","B","c","^c","d","_e","e","f","^f","g","_a","a","_b","b"],L=a.defaultTimbre={wave:"square",gain:.1,attack:.002,decay:.4,decayfollow:0,sustain:0,release:.1,cutoff:0,cutfollow:0,resonance:0,detune:0};return a.pitchToMidi=function(a){return"string"==typeof a?z(a):a},a.midiToPitch=function(a){return"number"==typeof a?A(a):a},a}(),l={Instrument:k};if(b&&b.exports)b.exports=l;else if(c&&c.amd)c(function(){return l});else for(var m in l)a[m]=l[m]}(this,"object"==typeof module&&module,"function"==typeof define&&define),!function(){var a=function(a){"use strict";function b(a){if(a.paused||a.ended||q)return!1;try{k.clearRect(0,0,i,h),k.drawImage(a,0,0,i,h)}catch(c){}t=setTimeout(b,F.duration,a),E.setIcon(j)}function c(a){var b=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;a=a.replace(b,function(a,b,c,d){return b+b+c+c+d+d});var c=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a);return c?{r:parseInt(c[1],16),g:parseInt(c[2],16),b:parseInt(c[3],16)}:!1}function d(a,b){var c,d={};for(c in a)d[c]=a[c];for(c in b)d[c]=b[c];return d}function e(){return document.hidden||document.msHidden||document.webkitHidden||document.mozHidden}a=a?a:{};var f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u={bgColor:"#d00",textColor:"#fff",fontFamily:"sans-serif",fontStyle:"bold",type:"circle",position:"down",animation:"slide",elementId:!1,dataUrl:!1};r={},r.ff="undefined"!=typeof InstallTrigger,r.chrome=!!window.chrome,r.opera=!!window.opera||navigator.userAgent.indexOf("Opera")>=0,r.ie=!1,r.safari=Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0,r.supported=r.chrome||r.ff||r.opera;var v=[];p=function(){},m=q=!1;var w=function(){f=d(u,a),f.bgColor=c(f.bgColor),f.textColor=c(f.textColor),f.position=f.position.toLowerCase(),f.animation=F.types[""+f.animation]?f.animation:u.animation;var b=f.position.indexOf("up")>-1,e=f.position.indexOf("left")>-1;if(b||e)for(var m=0;m<F.types[""+f.animation].length;m++){var n=F.types[""+f.animation][m];b&&(n.y=n.y<.6?n.y-.4:n.y-2*n.y+(1-n.w)),e&&(n.x=n.x<.6?n.x-.4:n.x-2*n.x+(1-n.h)),F.types[""+f.animation][m]=n}f.type=y[""+f.type]?f.type:u.type,g=E.getIcon(),j=document.createElement("canvas"),l=document.createElement("img"),g.hasAttribute("href")?(l.setAttribute("src",g.getAttribute("href")),l.onload=function(){h=l.height>0?l.height:32,i=l.width>0?l.width:32,j.height=h,j.width=i,k=j.getContext("2d"),x.ready()}):(l.setAttribute("src",""),h=32,i=32,l.height=h,l.width=i,j.height=h,j.width=i,k=j.getContext("2d"),x.ready())},x={};x.ready=function(){m=!0,x.reset(),p()},x.reset=function(){m&&(v=[],n=!1,o=!1,k.clearRect(0,0,i,h),k.drawImage(l,0,0,i,h),E.setIcon(j),window.clearTimeout(s),window.clearTimeout(t))},x.start=function(){if(m&&!o){var a=function(){n=v[0],o=!1,v.length>0&&(v.shift(),x.start())};if(v.length>0){o=!0;var b=function(){["type","animation","bgColor","textColor","fontFamily","fontStyle"].forEach(function(a){a in v[0].options&&(f[a]=v[0].options[a])}),F.run(v[0].options,function(){a()},!1)};n?F.run(n.options,function(){b()},!0):b()}}};var y={},z=function(a){return a.n="number"==typeof a.n?Math.abs(0|a.n):a.n,a.x=i*a.x,a.y=h*a.y,a.w=i*a.w,a.h=h*a.h,a.len=(""+a.n).length,a};y.circle=function(a){a=z(a);var b=!1;2===a.len?(a.x=a.x-.4*a.w,a.w=1.4*a.w,b=!0):a.len>=3&&(a.x=a.x-.65*a.w,a.w=1.65*a.w,b=!0),k.clearRect(0,0,i,h),k.drawImage(l,0,0,i,h),k.beginPath(),k.font=f.fontStyle+" "+Math.floor(a.h*(a.n>99?.85:1))+"px "+f.fontFamily,k.textAlign="center",b?(k.moveTo(a.x+a.w/2,a.y),k.lineTo(a.x+a.w-a.h/2,a.y),k.quadraticCurveTo(a.x+a.w,a.y,a.x+a.w,a.y+a.h/2),k.lineTo(a.x+a.w,a.y+a.h-a.h/2),k.quadraticCurveTo(a.x+a.w,a.y+a.h,a.x+a.w-a.h/2,a.y+a.h),k.lineTo(a.x+a.h/2,a.y+a.h),k.quadraticCurveTo(a.x,a.y+a.h,a.x,a.y+a.h-a.h/2),k.lineTo(a.x,a.y+a.h/2),k.quadraticCurveTo(a.x,a.y,a.x+a.h/2,a.y)):k.arc(a.x+a.w/2,a.y+a.h/2,a.h/2,0,2*Math.PI),k.fillStyle="rgba("+f.bgColor.r+","+f.bgColor.g+","+f.bgColor.b+","+a.o+")",k.fill(),k.closePath(),k.beginPath(),k.stroke(),k.fillStyle="rgba("+f.textColor.r+","+f.textColor.g+","+f.textColor.b+","+a.o+")","number"==typeof a.n&&a.n>999?k.fillText((a.n>9999?9:Math.floor(a.n/1e3))+"k+",Math.floor(a.x+a.w/2),Math.floor(a.y+a.h-.2*a.h)):k.fillText(a.n,Math.floor(a.x+a.w/2),Math.floor(a.y+a.h-.15*a.h)),k.closePath()},y.rectangle=function(a){a=z(a);var b=!1;2===a.len?(a.x=a.x-.4*a.w,a.w=1.4*a.w,b=!0):a.len>=3&&(a.x=a.x-.65*a.w,a.w=1.65*a.w,b=!0),k.clearRect(0,0,i,h),k.drawImage(l,0,0,i,h),k.beginPath(),k.font=f.fontStyle+" "+Math.floor(a.h*(a.n>99?.9:1))+"px "+f.fontFamily,k.textAlign="center",k.fillStyle="rgba("+f.bgColor.r+","+f.bgColor.g+","+f.bgColor.b+","+a.o+")",k.fillRect(a.x,a.y,a.w,a.h),k.fillStyle="rgba("+f.textColor.r+","+f.textColor.g+","+f.textColor.b+","+a.o+")","number"==typeof a.n&&a.n>999?k.fillText((a.n>9999?9:Math.floor(a.n/1e3))+"k+",Math.floor(a.x+a.w/2),Math.floor(a.y+a.h-.2*a.h)):k.fillText(a.n,Math.floor(a.x+a.w/2),Math.floor(a.y+a.h-.15*a.h)),k.closePath()};var A=function(a,b){b=("string"==typeof b?{animation:b}:b)||{},p=function(){try{if("number"==typeof a?a>0:""!==a){var d={type:"badge",options:{n:a}};if("animation"in b&&F.types[""+b.animation]&&(d.options.animation=""+b.animation),"type"in b&&y[""+b.type]&&(d.options.type=""+b.type),["bgColor","textColor"].forEach(function(a){a in b&&(d.options[a]=c(b[a]))}),["fontStyle","fontFamily"].forEach(function(a){a in b&&(d.options[a]=b[a])}),v.push(d),v.length>100)throw"Too many badges requests in queue.";x.start()}else x.reset()}catch(e){throw"Error setting badge. Message: "+e.message}},m&&p()},B=function(a){p=function(){try{var b=a.width,c=a.height,d=document.createElement("img"),e=c/h>b/i?b/i:c/h;d.setAttribute("src",a.getAttribute("src")),d.height=c/e,d.width=b/e,k.clearRect(0,0,i,h),k.drawImage(d,0,0,i,h),E.setIcon(j)}catch(f){throw"Error setting image. Message: "+f.message}},m&&p()},C=function(a){p=function(){try{if("stop"===a)return q=!0,x.reset(),void(q=!1);a.addEventListener("play",function(){b(this)},!1)}catch(c){throw"Error setting video. Message: "+c.message}},m&&p()},D=function(a){if(window.URL&&window.URL.createObjectURL||(window.URL=window.URL||{},window.URL.createObjectURL=function(a){return a}),r.supported){var c=!1;navigator.getUserMedia=navigator.getUserMedia||navigator.oGetUserMedia||navigator.msGetUserMedia||navigator.mozGetUserMedia||navigator.webkitGetUserMedia,p=function(){try{if("stop"===a)return q=!0,x.reset(),void(q=!1);c=document.createElement("video"),c.width=i,c.height=h,navigator.getUserMedia({video:!0,audio:!1},function(a){c.src=URL.createObjectURL(a),c.play(),b(c)},function(){})}catch(d){throw"Error setting webcam. Message: "+d.message}},m&&p()}},E={};E.getIcon=function(){var a=!1,b=function(){for(var a=document.getElementsByTagName("head")[0].getElementsByTagName("link"),b=a.length,c=b-1;c>=0;c--)if(/(^|\s)icon(\s|$)/i.test(a[c].getAttribute("rel")))return a[c];return!1};return f.element?a=f.element:f.elementId?(a=document.getElementById(f.elementId),a.setAttribute("href",a.getAttribute("src"))):(a=b(),a===!1&&(a=document.createElement("link"),a.setAttribute("rel","icon"),document.getElementsByTagName("head")[0].appendChild(a))),a.setAttribute("type","image/png"),a},E.setIcon=function(a){var b=a.toDataURL("image/png");if(f.dataUrl&&f.dataUrl(b),f.element)f.element.setAttribute("src",b);else if(f.elementId)document.getElementById(f.elementId).setAttribute("src",b);else if(r.ff||r.opera){var c=g;g=document.createElement("link"),r.opera&&g.setAttribute("rel","icon"),g.setAttribute("rel","icon"),g.setAttribute("type","image/png"),document.getElementsByTagName("head")[0].appendChild(g),g.setAttribute("href",b),c.parentNode&&c.parentNode.removeChild(c)}else g.setAttribute("href",b)};var F={};return F.duration=40,F.types={},F.types.fade=[{x:.4,y:.4,w:.6,h:.6,o:0},{x:.4,y:.4,w:.6,h:.6,o:.1},{x:.4,y:.4,w:.6,h:.6,o:.2},{x:.4,y:.4,w:.6,h:.6,o:.3},{x:.4,y:.4,w:.6,h:.6,o:.4},{x:.4,y:.4,w:.6,h:.6,o:.5},{x:.4,y:.4,w:.6,h:.6,o:.6},{x:.4,y:.4,w:.6,h:.6,o:.7},{x:.4,y:.4,w:.6,h:.6,o:.8},{x:.4,y:.4,w:.6,h:.6,o:.9},{x:.4,y:.4,w:.6,h:.6,o:1}],F.types.none=[{x:.4,y:.4,w:.6,h:.6,o:1}],F.types.pop=[{x:1,y:1,w:0,h:0,o:1},{x:.9,y:.9,w:.1,h:.1,o:1},{x:.8,y:.8,w:.2,h:.2,o:1},{x:.7,y:.7,w:.3,h:.3,o:1},{x:.6,y:.6,w:.4,h:.4,o:1},{x:.5,y:.5,w:.5,h:.5,o:1},{x:.4,y:.4,w:.6,h:.6,o:1}],F.types.popFade=[{x:.75,y:.75,w:0,h:0,o:0},{x:.65,y:.65,w:.1,h:.1,o:.2},{x:.6,y:.6,w:.2,h:.2,o:.4},{x:.55,y:.55,w:.3,h:.3,o:.6},{x:.5,y:.5,w:.4,h:.4,o:.8},{x:.45,y:.45,w:.5,h:.5,o:.9},{x:.4,y:.4,w:.6,h:.6,o:1}],F.types.slide=[{x:.4,y:1,w:.6,h:.6,o:1},{x:.4,y:.9,w:.6,h:.6,o:1},{x:.4,y:.9,w:.6,h:.6,o:1},{x:.4,y:.8,w:.6,h:.6,o:1},{x:.4,y:.7,w:.6,h:.6,o:1},{x:.4,y:.6,w:.6,h:.6,o:1},{x:.4,y:.5,w:.6,h:.6,o:1},{x:.4,y:.4,w:.6,h:.6,o:1}],F.run=function(a,b,c,g){var h=F.types[e()?"none":f.animation];return g=c===!0?"undefined"!=typeof g?g:h.length-1:"undefined"!=typeof g?g:0,b=b?b:function(){},g<h.length&&g>=0?(y[f.type](d(a,h[g])),s=setTimeout(function(){c?g-=1:g+=1,F.run(a,b,c,g)},F.duration),void E.setIcon(j)):void b()},w(),{badge:A,video:C,image:B,webcam:D,reset:x.reset,browser:{supported:r.supported}}};"undefined"!=typeof define&&define.amd?define([],function(){return a}):"undefined"!=typeof module&&module.exports?module.exports=a:this.Favico=a}(),!function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;b="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,b.i18next=a()}}(function(){return function a(b,c,d){function e(g,h){
if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b["default"]=a,b}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var h=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},i=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),j=function(a,b,c){for(var d=!0;d;){var e=a,f=b,g=c;d=!1,null===e&&(e=Function.prototype);var h=Object.getOwnPropertyDescriptor(e,f);if(void 0!==h){if("value"in h)return h.value;var i=h.get;return void 0===i?void 0:i.call(g)}var j=Object.getPrototypeOf(e);if(null===j)return void 0;a=j,b=f,c=g,d=!0,h=j=void 0}},k=a("./utils"),l=e(k),m=a("./logger"),n=d(m),o=a("./EventEmitter"),p=d(o),q=function(a){function b(a,c,d){var e=arguments.length<=3||void 0===arguments[3]?{}:arguments[3];f(this,b),j(Object.getPrototypeOf(b.prototype),"constructor",this).call(this),this.backend=a,this.store=c,this.services=d,this.options=e,this.logger=n["default"].create("backendConnector"),this.pending={},this.backend&&this.backend.init(d,e.backend,e)}return g(b,a),i(b,[{key:"load",value:function(a,b,c){var d=this;if(!this.backend)return c&&c();var e=h({},this.backend.options,this.options.backend);"string"==typeof a&&(a=this.services.languageUtils.toResolveHierarchy(a)),"string"==typeof b&&(b=[b]),e.allowMultiLoading&&this.backend.readMulti?!function(){var e=function i(a,b,d,e){var j=this;return d||(d=0),e||(e=250),a.length?void this.backend.readMulti(a,b,function(k,m){return k&&m&&5>d?void setTimeout(function(){i.call(j,a,b,++d,2*e)},e):(k&&j.logger.warn("loading namespaces "+b.join(", ")+" for languages "+a.join(", ")+" via multiloading failed",k),!k&&m&&j.logger.log("loaded namespaces "+b.join(", ")+" for languages "+a.join(", ")+" via multiloading",m),m&&g.forEach(function(a){h.forEach(function(b){var c=l.getPath(m,[a,b]);c&&(j.store.addResourceBundle(a,b,c),l.pushPath(f,[a],b)),l.setPath(j.pending,[a,b],!1),c||j.logger.error("loading namespace "+b+" for language "+a+" via multiloading failed")})}),j.emit("loaded",f),void c(k))}):c()},f={},g=[],h=[];a.forEach(function(a){var c=!0;b.forEach(function(b){d.store.hasResourceBundle(a,b)||l.getPath(d.pending,[a,b])===!0||(c=!1,h.indexOf(b)<0&&h.push(b))}),c||g.push(a)}),g.forEach(function(a){h.forEach(function(b){l.setPath(d.pending,[a,b],!0)})}),e.call(d,g,h)}():!function(){var e=function(){g--,g||(this.emit("loaded",h),c())},f=function i(a,b,c,d){var f=this;c||(c=0),d||(d=250),this.backend.read(a,b,function(g,j){return g&&j&&5>c?void setTimeout(function(){i.call(f,a,b,++c,2*d)},d):(g&&f.logger.warn("loading namespace "+b+" for language "+a+" failed",g),!g&&j&&f.logger.log("loaded namespace "+b+" for language "+a,j),l.setPath(f.pending,[a,b],!1),j&&(f.store.addResourceBundle(a,b,j),l.pushPath(h,[a],b)),void e.call(f))})},g=a.length*b.length,h={};a.forEach(function(a){b.forEach(function(b){d.store.hasResourceBundle(a,b)||l.getPath(d.pending,[a,b])===!0?e.call(d):(l.setPath(d.pending,[a,b],!0),f.call(d,a,b))})})}()}},{key:"saveMissing",value:function(a,b,c,d){this.backend&&this.backend.create&&this.backend.create(a,b,c,d),this.store.addResource(a[0],b,c,d)}}]),b}(p["default"]);c["default"]=q,b.exports=c["default"]},{"./EventEmitter":3,"./logger":12,"./utils":14}],2:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b["default"]=a,b}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var h=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},i=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),j=function(a,b,c){for(var d=!0;d;){var e=a,f=b,g=c;d=!1,null===e&&(e=Function.prototype);var h=Object.getOwnPropertyDescriptor(e,f);if(void 0!==h){if("value"in h)return h.value;var i=h.get;return void 0===i?void 0:i.call(g)}var j=Object.getPrototypeOf(e);if(null===j)return void 0;a=j,b=f,c=g,d=!0,h=j=void 0}},k=a("./utils"),l=(e(k),a("./logger")),m=d(l),n=a("./EventEmitter"),o=d(n),p=function(a){function b(a,c,d){var e=arguments.length<=3||void 0===arguments[3]?{}:arguments[3];f(this,b),j(Object.getPrototypeOf(b.prototype),"constructor",this).call(this),this.cache=a,this.store=c,this.services=d,this.options=e,this.logger=m["default"].create("cacheConnector"),this.cache&&this.cache.init(d,e.cache,e)}return g(b,a),i(b,[{key:"load",value:function(a,b,c){var d=this;if(!this.cache)return c&&c();var e=h({},this.cache.options,this.options.cache);"string"==typeof a&&(a=this.services.languageUtils.toResolveHierarchy(a)),"string"==typeof b&&(b=[b]),e.enabled?this.cache.load(a,function(b,e){if(b&&d.logger.error("loading languages "+a.join(", ")+" from cache failed",b),e)for(var f in e)for(var g in e[f])if("i18nStamp"!==g){var h=e[f][g];h&&d.store.addResourceBundle(f,g,h)}c&&c()}):c&&c()}},{key:"save",value:function(){this.cache&&this.options.cache&&this.options.cache.enabled&&this.cache.save(this.store.data)}}]),b}(o["default"]);c["default"]=p,b.exports=c["default"]},{"./EventEmitter":3,"./logger":12,"./utils":14}],3:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=function(){function a(){d(this,a),this.observers={}}return e(a,[{key:"on",value:function(a,b){var c=this;a.split(" ").forEach(function(a){c.observers[a]=c.observers[a]||[],c.observers[a].push(b)})}},{key:"off",value:function(a,b){var c=this;this.observers[a]&&this.observers[a].forEach(function(){if(b){var d=c.observers[a].indexOf(b);d>-1&&c.observers[a].splice(d,1)}else delete c.observers[a]})}},{key:"emit",value:function(a){for(var b=arguments.length,c=Array(b>1?b-1:0),d=1;b>d;d++)c[d-1]=arguments[d];this.observers[a]&&this.observers[a].forEach(function(a){a.apply(void 0,c)}),this.observers["*"]&&this.observers["*"].forEach(function(b){var d;b.apply(b,(d=[a]).concat.apply(d,c))})}}]),a}();b.exports=f},{}],4:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b["default"]=a,b}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var g=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),h=a("./utils"),i=e(h),j=a("./logger"),k=d(j),l=function(){function a(){var b=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];f(this,a),this.logger=k["default"].create("interpolator"),this.init(b,!0)}return g(a,[{key:"init",value:function(a,b){void 0===a&&(a={}),b&&(this.options=a),a.interpolation||(a.interpolation={escapeValue:!0}),this.escapeValue=a.interpolation.escapeValue,this.prefix=a.interpolation.prefix?i.regexEscape(a.interpolation.prefix):a.interpolation.prefixEscaped||"{{",this.suffix=a.interpolation.suffix?i.regexEscape(a.interpolation.suffix):a.interpolation.suffixEscaped||"}}",this.unescapePrefix=a.interpolation.unescapeSuffix?"":a.interpolation.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":a.interpolation.unescapeSuffix||"",this.nestingPrefix=a.interpolation.nestingPrefix?i.regexEscape(a.interpolation.nestingPrefix):a.interpolation.nestingPrefixEscaped||"$t(",this.nestingSuffix=a.interpolation.nestingSuffix?i.regexEscape(a.interpolation.nestingSuffix):a.interpolation.nestingSuffixEscaped||")";var c=this.prefix+"(.+?)"+this.suffix;this.regexp=new RegExp(c,"g");var d=this.prefix+this.unescapePrefix+"(.+?)"+this.unescapeSuffix+this.suffix;this.regexpUnescape=new RegExp(d,"g");var e=this.nestingPrefix+"(.+?)"+this.nestingSuffix;this.nestingRegexp=new RegExp(e,"g")}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"interpolate",value:function(a,b){function c(a){return a.replace(/\$/g,"$$$$")}for(var d=void 0,e=void 0;d=this.regexpUnescape.exec(a);){var f=i.getPath(b,d[1].trim());a=a.replace(d[0],f)}for(;d=this.regexp.exec(a);)e=i.getPath(b,d[1].trim()),"string"!=typeof e&&(e=i.makeString(e)),e||(this.logger.warn("missed to pass in variable "+d[1]+" for interpolating "+a),e=""),e=c(this.escapeValue?i.escape(e):e),a=a.replace(d[0],e),this.regexp.lastIndex=0;return a}},{key:"nest",value:function(a,b,c){function d(a){return a.replace(/\$/g,"$$$$")}function e(a){if(a.indexOf(",")<0)return a;var b=a.split(",");a=b.shift();var d=b.join(",");d=this.interpolate(d,c);try{c=JSON.parse(d)}catch(e){this.logger.error("failed parsing options string in nesting for key "+a,e)}return a}for(var f=void 0,g=void 0;f=this.nestingRegexp.exec(a);)g=b(e.call(this,f[1].trim()),c),"string"!=typeof g&&(g=i.makeString(g)),g||(this.logger.warn("missed to pass in variable "+f[1]+" for interpolating "+a),g=""),g=d(this.escapeValue?i.escape(g):g),a=a.replace(f[0],g),this.regexp.lastIndex=0;return a}}]),a}();c["default"]=l,b.exports=c["default"]},{"./logger":12,"./utils":14}],5:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var f=function(){function a(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!b||c.length!==b);d=!0);}catch(i){e=!0,f=i}finally{try{!d&&h["return"]&&h["return"]()}finally{if(e)throw f}}return c}return function(b,c){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return a(b,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),g=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),h=a("./logger"),i=d(h),j=function(){function a(b){e(this,a),this.options=b,this.whitelist=this.options.whitelist||!1,this.logger=i["default"].create("languageUtils")}return g(a,[{key:"getLanguagePartFromCode",value:function(a){if(a.indexOf("-")<0)return a;var b=["nb-NO","nn-NO","nb-no","nn-no"],c=a.split("-");return this.formatLanguageCode(b.indexOf(a)>-1?c[1].toLowerCase():c[0])}},{key:"formatLanguageCode",value:function(a){if("string"==typeof a&&a.indexOf("-")>-1){var b=a.split("-"),c=f(b,2),d=c[0],e=c[1];return this.options.lowerCaseLng?d.toLowerCase()+"-"+e.toLowerCase():d.toLowerCase()+"-"+e.toUpperCase()}return this.options.cleanCode||this.options.lowerCaseLng?a.toLowerCase():a}},{key:"isWhitelisted",value:function(a){return"languageOnly"===this.options.load&&(a=this.getLanguagePartFromCode(a)),!this.whitelist||!this.whitelist.length||this.whitelist.indexOf(a)>-1?!0:!1}},{key:"toResolveHierarchy",value:function(a,b){var c=this;b=b||this.options.fallbackLng||[],"string"==typeof b&&(b=[b]);var d=[],e=function(a){c.isWhitelisted(a)?d.push(a):c.logger.warn("rejecting non-whitelisted language code: "+a)};return"string"==typeof a&&a.indexOf("-")>-1?("languageOnly"!==this.options.load&&e(this.formatLanguageCode(a)),"currentOnly"!==this.options.load&&e(this.getLanguagePartFromCode(a))):e(this.formatLanguageCode(a)),b.forEach(function(a){d.indexOf(a)<0&&e(c.formatLanguageCode(a))}),d}}]),a}();c["default"]=j,b.exports=c["default"]},{"./logger":12}],6:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=a("./logger"),h=d(g),i=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","tg","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","es_ar","et","eu","fi","fo","fur","fy","gl","gu","ha","he","hi","hu","hy","ia","it","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt","pt_br","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","id","ja","jbo","ka","kk","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21}],j={1:function(a){return Number(a>1)},2:function(a){return Number(1!=a)},3:function(a){return 0},4:function(a){return Number(a%10==1&&a%100!=11?0:a%10>=2&&4>=a%10&&(10>a%100||a%100>=20)?1:2)},5:function(a){return Number(0===a?0:1==a?1:2==a?2:a%100>=3&&10>=a%100?3:a%100>=11?4:5)},6:function(a){return Number(1==a?0:a>=2&&4>=a?1:2)},7:function(a){return Number(1==a?0:a%10>=2&&4>=a%10&&(10>a%100||a%100>=20)?1:2)},8:function(a){return Number(1==a?0:2==a?1:8!=a&&11!=a?2:3)},9:function(a){return Number(a>=2)},10:function(a){return Number(1==a?0:2==a?1:7>a?2:11>a?3:4)},11:function(a){return Number(1==a||11==a?0:2==a||12==a?1:a>2&&20>a?2:3)},12:function(a){return Number(a%10!=1||a%100==11)},13:function(a){return Number(0!==a)},14:function(a){return Number(1==a?0:2==a?1:3==a?2:3)},15:function(a){return Number(a%10==1&&a%100!=11?0:a%10>=2&&(10>a%100||a%100>=20)?1:2)},16:function(a){return Number(a%10==1&&a%100!=11?0:0!==a?1:2)},17:function(a){return Number(1==a||a%10==1?0:1)},18:function(a){return Number(0==a?0:1==a?1:2)},19:function(a){return Number(1==a?0:0===a||a%100>1&&11>a%100?1:a%100>10&&20>a%100?2:3)},20:function(a){return Number(1==a?0:0===a||a%100>0&&20>a%100?1:2)},21:function(a){return Number(a%100==1?1:a%100==2?2:a%100==3||a%100==4?3:0)}},k=function(){function a(b){var c=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];e(this,a),this.rules=function(){var a={};return i.forEach(function(b){b.lngs.forEach(function(c){return a[c]={numbers:b.nr,plurals:j[b.fc]}})}),a}(),this.languageUtils=b,this.options=c,this.logger=h["default"].create("pluralResolver")}return f(a,[{key:"addRule",value:function(a,b){this.rules[a]=b}},{key:"getRule",value:function(a){return this.rules[this.languageUtils.getLanguagePartFromCode(a)]}},{key:"needsPlural",value:function(a){var b=this.getRule(a);return b&&b.numbers.length<=1?!1:!0}},{key:"getSuffix",value:function(a,b){var c=this.getRule(a);if(c){if(1===c.numbers.length)return"";var d=c.noAbs?c.plurals(b):c.plurals(Math.abs(b)),e=c.numbers[d];if(2===c.numbers.length&&1===c.numbers[0]&&(2===e?e="plural":1===e&&(e="")),"v1"===this.options.compatibilityJSON){if(1===e)return"";if("number"==typeof e)return"_plural_"+e.toString()}return this.options.prepend&&e.toString()?this.options.prepend+e.toString():e.toString()}return this.logger.warn("no plural rule found for: "+a),""}}]),a}();c["default"]=k,b.exports=c["default"]},{"./logger":12}],7:[function(a,b,c){"use strict";function d(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b["default"]=a,b}function e(a){return a&&a.__esModule?a:{"default":a}}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var h=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},i=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),j=function(a,b,c){for(var d=!0;d;){var e=a,f=b,g=c;d=!1,null===e&&(e=Function.prototype);var h=Object.getOwnPropertyDescriptor(e,f);if(void 0!==h){if("value"in h)return h.value;var i=h.get;return void 0===i?void 0:i.call(g)}var j=Object.getPrototypeOf(e);if(null===j)return void 0;a=j,b=f,c=g,d=!0,h=j=void 0}},k=a("./EventEmitter"),l=e(k),m=a("./utils"),n=d(m),o=function(a){function b(){var a=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],c=arguments.length<=1||void 0===arguments[1]?{ns:["translation"],defaultNS:"translation"}:arguments[1];f(this,b),j(Object.getPrototypeOf(b.prototype),"constructor",this).call(this),this.data=a,this.options=c}return g(b,a),i(b,[{key:"addNamespaces",value:function(a){this.options.ns.indexOf(a)<0&&this.options.ns.push(a)}},{key:"removeNamespaces",value:function(a){var b=this.options.ns.indexOf(a);b>-1&&this.options.ns.splice(b,1)}},{key:"getResource",value:function(a,b,c){var d=arguments.length<=3||void 0===arguments[3]?{}:arguments[3],e=d.keySeparator||this.options.keySeparator||".",f=[a,b];return c&&"string"!=typeof c&&(f=f.concat(c)),c&&"string"==typeof c&&(f=f.concat(c.split(e))),a.indexOf(".")>-1&&(f=a.split(".")),n.getPath(this.data,f)}},{key:"addResource",value:function(a,b,c,d){var e=arguments.length<=4||void 0===arguments[4]?{silent:!1}:arguments[4],f=[a,b];c&&(f=f.concat(c.split(this.options.keySeparator||"."))),a.indexOf(".")>-1&&(f=a.split("."),d=b,b=f[1]),this.addNamespaces(b),n.setPath(this.data,f,d),e.silent||this.emit("added",a,b)}},{key:"addResources",value:function(a,b,c){for(var d in c)"string"==typeof c[d]&&this.addResource(a,b,d,c[d],{silent:!0});this.emit("added",a,b)}},{key:"addResourceBundle",value:function(a,b,c,d,e){var f=[a,b];a.indexOf(".")>-1&&(f=a.split("."),d=c,c=b,b=f[1]),this.addNamespaces(b);var g=n.getPath(this.data,f)||{};d?n.deepExtend(g,c,e):g=h({},g,c),n.setPath(this.data,f,g),this.emit("added",a,b)}},{key:"removeResourceBundle",value:function(a,b){this.hasResourceBundle(a,b)&&delete this.data[a][b],this.removeNamespaces(b),this.emit("removed",a,b)}},{key:"hasResourceBundle",value:function(a,b){return void 0!==this.getResource(a,b)}},{key:"getResourceBundle",value:function(a,b){return b||(b=this.options.defaultNS),"v1"===this.options.compatibilityAPI?h({},this.getResource(a,b)):this.getResource(a,b)}},{key:"toJSON",value:function(){return this.data}}]),b}(l["default"]);c["default"]=o,b.exports=c["default"]},{"./EventEmitter":3,"./utils":14}],8:[function(a,b,c){"use strict";function d(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b["default"]=a,b}function e(a){return a&&a.__esModule?a:{"default":a}}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var h=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},i=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),j=function(a,b,c){for(var d=!0;d;){var e=a,f=b,g=c;d=!1,null===e&&(e=Function.prototype);var h=Object.getOwnPropertyDescriptor(e,f);if(void 0!==h){if("value"in h)return h.value;var i=h.get;return void 0===i?void 0:i.call(g)}var j=Object.getPrototypeOf(e);if(null===j)return void 0;a=j,b=f,c=g,d=!0,h=j=void 0}},k=a("./logger"),l=e(k),m=a("./EventEmitter"),n=e(m),o=a("./postProcessor"),p=e(o),q=a("./compatibility/v1"),r=d(q),s=a("./utils"),t=d(s),u=function(a){function b(a){var c=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];f(this,b),j(Object.getPrototypeOf(b.prototype),"constructor",this).call(this),t.copy(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector"],a,this),this.options=c,this.logger=l["default"].create("translator")}return g(b,a),i(b,[{key:"changeLanguage",value:function(a){a&&(this.language=a)}},{key:"exists",value:function(a){var b=arguments.length<=1||void 0===arguments[1]?{interpolation:{}}:arguments[1];return"v1"===this.options.compatibilityAPI&&(b=r.convertTOptions(b)),void 0!==this.resolve(a,b)}},{key:"extractFromKey",value:function(a,b){var c=b.nsSeparator||this.options.nsSeparator||":",d=b.ns||this.options.defaultNS;if(a.indexOf(c)>-1){var e=a.split(c);d=e[0],a=e[1]}return"string"==typeof d&&(d=[d]),{key:a,namespaces:d}}},{key:"translate",value:function(a){var b=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];if("object"!=typeof b?b=this.options.overloadTranslationOptionHandler(arguments):"v1"===this.options.compatibilityAPI&&(b=r.convertTOptions(b)),void 0===a||null===a||""===a)return"";"number"==typeof a&&(a=String(a)),"string"==typeof a&&(a=[a]);var c=b.lng||this.language;if(c&&"cimode"===c.toLowerCase())return a[a.length-1];var d=b.keySeparator||this.options.keySeparator||".",e=this.extractFromKey(a[a.length-1],b),f=e.key,g=e.namespaces,i=g[g.length-1],j=this.resolve(a,b),k=Object.prototype.toString.apply(j),l=["[object Number]","[object Function]","[object RegExp]"],m=void 0!==b.joinArrays?b.joinArrays:this.options.joinArrays;if(j&&"string"!=typeof j&&l.indexOf(k)<0&&(!m||"[object Array]"!==k)){if(!b.returnObjects&&!this.options.returnObjects)return this.logger.warn("accessing an object - but returnObjects options is not enabled!"),this.options.returnedObjectHandler?this.options.returnedObjectHandler(f,j,b):"key '"+f+" ("+this.language+")' returned an object instead of string.";var n="[object Array]"===k?[]:{};for(var o in j)n[o]=this.translate(""+f+d+o,h({joinArrays:!1},b));j=n}else if(m&&"[object Array]"===k)j=j.join(m);else{var p=!1,q=!1;if(!this.isValidLookup(j)&&b.defaultValue&&(p=!0,j=b.defaultValue),this.isValidLookup(j)||(q=!0,j=f),(q||p)&&(this.logger.log("missingKey",c,i,f,j),this.options.saveMissing)){var s=[];if("fallback"===this.options.saveMissingTo&&this.options.fallbackLng[0])for(var t=0;t<this.options.fallbackLng.length;t++)s.push(this.options.fallbackLng[t]);else"all"===this.options.saveMissingTo?s=this.languageUtils.toResolveHierarchy(b.lng||this.language):s.push(b.lng||this.language);this.options.missingKeyHandler?this.options.missingKeyHandler(s,i,f,j):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(s,i,f,j),this.emit("missingKey",s,i,f,j)}j=this.extendTranslation(j,f,b),q&&j===f&&this.options.appendNamespaceToMissingKey&&(j=i+":"+f),q&&this.options.parseMissingKeyHandler&&(j=this.options.parseMissingKeyHandler(j))}return j}},{key:"extendTranslation",value:function(a,b,c){var d=this;c.interpolation&&this.interpolator.init(c),a=this.interpolator.nest(a,function(){for(var a=arguments.length,b=Array(a),c=0;a>c;c++)b[c]=arguments[c];return d.translate.apply(d,b)},c);var e=c.replace&&"string"!=typeof c.replace?c.replace:c;this.options.interpolation.defaultVariables&&(e=h({},this.options.interpolation.defaultVariables,e)),a=this.interpolator.interpolate(a,e),c.interpolation&&this.interpolator.reset();var f=c.postProcess||this.options.postProcess,g="string"==typeof f?[f]:f;return void 0!==a&&g&&g.length&&(a=p["default"].handle(g,a,b,c,this)),a}},{key:"resolve",value:function(a){var b=this,c=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],d=void 0;return"string"==typeof a&&(a=[a]),a.forEach(function(a){if(!b.isValidLookup(d)){var e=b.extractFromKey(a,c),f=e.key,g=e.namespaces;b.options.fallbackNS&&(g=g.concat(b.options.fallbackNS));var h=void 0!==c.count&&"string"!=typeof c.count,i=void 0!==c.context&&"string"==typeof c.context&&""!==c.context,j=c.lngs?c.lngs:b.languageUtils.toResolveHierarchy(c.lng||b.language);g.forEach(function(a){b.isValidLookup(d)||j.forEach(function(e){if(!b.isValidLookup(d)){var g=f,j=[g];i&&j.push(g+="_"+c.context),h&&j.push(g+=b.pluralResolver.getSuffix(e,c.count));for(var k=void 0;k=j.pop();)b.isValidLookup(d)||(d=b.getResource(e,a,k,c))}})})}}),d}},{key:"isValidLookup",value:function(a){return!(void 0===a||!this.options.returnNull&&null===a||!this.options.returnEmptyString&&""===a)}},{key:"getResource",value:function(a,b,c){var d=arguments.length<=3||void 0===arguments[3]?{}:arguments[3];return this.resourceStore.getResource(a,b,c,d)}}]),b}(n["default"]);c["default"]=u,b.exports=c["default"]},{"./EventEmitter":3,"./compatibility/v1":9,"./logger":12,"./postProcessor":13,"./utils":14}],9:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){return a.interpolation={unescapeSuffix:"HTML"},a.interpolation.prefix=a.interpolationPrefix||"__",a.interpolation.suffix=a.interpolationSuffix||"__",a.interpolation.escapeValue=a.escapeInterpolation||!1,a.interpolation.nestingPrefix=a.reusePrefix||"$t(",a.interpolation.nestingSuffix=a.reuseSuffix||")",a}function f(a){return a.resStore&&(a.resources=a.resStore),a.ns&&a.ns.defaultNs?(a.defaultNS=a.ns.defaultNs,a.ns=a.ns.namespaces):a.defaultNS=a.ns||"translation",a.fallbackToDefaultNS&&a.defaultNS&&(a.fallbackNS=a.defaultNS),a.saveMissing=a.sendMissing,a.saveMissingTo=a.sendMissingTo||"current",a.returnNull=a.fallbackOnNull?!1:!0,a.returnEmptyString=a.fallbackOnEmpty?!1:!0,a.returnObjects=a.returnObjectTrees,a.joinArrays="\n",a.returnedObjectHandler=a.objectTreeKeyHandler,a.parseMissingKeyHandler=a.parseMissingKey,a.appendNamespaceToMissingKey=!0,a.nsSeparator=a.nsseparator,a.keySeparator=a.keyseparator,"sprintf"===a.shortcutFunction&&(a.overloadTranslationOptionHandler=function(a){for(var b=[],c=1;c<a.length;c++)b.push(a[c]);return{postProcess:"sprintf",sprintf:b}}),a.whitelist=a.lngWhitelist,a.preload=a.preload,"current"===a.load&&(a.load="currentOnly"),"unspecific"===a.load&&(a.load="languageOnly"),a.backend=a.backend||{},a.backend.loadPath=a.resGetPath||"locales/__lng__/__ns__.json",a.backend.addPath=a.resPostPath||"locales/add/__lng__/__ns__",a.backend.allowMultiLoading=a.dynamicLoad,a.cache=a.cache||{},a.cache.prefix="res_",a.cache.expirationTime=6048e5,a.cache.enabled=a.useLocalStorage?!0:!1,a=e(a),a.defaultVariables&&(a.interpolation.defaultVariables=a.defaultVariables),a}function g(a){return a=e(a),a.joinArrays="\n",a}function h(a){return(a.interpolationPrefix||a.interpolationSuffix||a.escapeInterpolation)&&(a=e(a)),a.nsSeparator=a.nsseparator,a.keySeparator=a.keyseparator,a.returnObjects=a.returnObjectTrees,a}function i(a){a.lng=function(){return k["default"].deprecate("i18next.lng() can be replaced by i18next.language for detected language or i18next.languages for languages ordered by translation lookup."),a.services.languageUtils.toResolveHierarchy(a.language)[0]},a.preload=function(b,c){k["default"].deprecate("i18next.preload() can be replaced with i18next.loadLanguages()"),a.loadLanguages(b,c)},a.setLng=function(b,c,d){return k["default"].deprecate("i18next.setLng() can be replaced with i18next.changeLanguage() or i18next.getFixedT() to get a translation function with fixed language or namespace."),"function"==typeof c&&(d=c,c={}),c||(c={}),c.fixLng===!0&&d?d(null,a.getFixedT(b)):void a.changeLanguage(b,d)},a.addPostProcessor=function(b,c){k["default"].deprecate("i18next.addPostProcessor() can be replaced by i18next.use({ type: 'postProcessor', name: 'name', process: fc })"),a.use({type:"postProcessor",name:b,process:c})}}Object.defineProperty(c,"__esModule",{value:!0}),c.convertAPIOptions=f,c.convertJSONOptions=g,c.convertTOptions=h,c.appendBackwardsAPI=i;var j=a("../logger"),k=d(j)},{"../logger":12}],10:[function(a,b,c){"use strict";function d(){return{debug:!1,ns:"translation",defaultNS:"translation",fallbackLng:"dev",fallbackNS:!1,whitelist:!1,load:"all",preload:!1,keySeparator:".",nsSeparator:":",saveMissing:!1,saveMissingTo:"fallback",missingKeyHandler:!1,postProcess:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:function(){},parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,overloadTranslationOptionHandler:function(a){return{defaultValue:a[1]}},interpolation:{escapeValue:!0,prefix:"{{",suffix:"}}",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",defaultVariables:void 0}}}function e(a){return"string"==typeof a.ns&&(a.ns=[a.ns]),"string"==typeof a.fallbackLng&&(a.fallbackLng=[a.fallbackLng]),"string"==typeof a.fallbackNS&&(a.fallbackNS=[a.fallbackNS]),a}Object.defineProperty(c,"__esModule",{value:!0}),c.get=d,c.transformOptions=e},{}],11:[function(a,b,c){"use strict";function d(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b["default"]=a,b}function e(a){return a&&a.__esModule?a:{"default":a}}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function");
}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var h=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},i=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),j=function(a,b,c){for(var d=!0;d;){var e=a,f=b,g=c;d=!1,null===e&&(e=Function.prototype);var h=Object.getOwnPropertyDescriptor(e,f);if(void 0!==h){if("value"in h)return h.value;var i=h.get;return void 0===i?void 0:i.call(g)}var j=Object.getPrototypeOf(e);if(null===j)return void 0;a=j,b=f,c=g,d=!0,h=j=void 0}},k=a("./logger"),l=e(k),m=a("./EventEmitter"),n=e(m),o=a("./ResourceStore"),p=e(o),q=a("./Translator"),r=e(q),s=a("./LanguageUtils"),t=e(s),u=a("./PluralResolver"),v=e(u),w=a("./Interpolator"),x=e(w),y=a("./BackendConnector"),z=e(y),A=a("./CacheConnector"),B=e(A),C=a("./defaults"),D=a("./postProcessor"),E=e(D),F=a("./compatibility/v1"),G=d(F),H=function(a){function b(a,c){void 0===a&&(a={}),f(this,b),j(Object.getPrototypeOf(b.prototype),"constructor",this).call(this),this.options=a,this.services={},this.logger=l["default"],this.modules={},c&&!this.isInitialized&&this.init(a,c)}return g(b,a),i(b,[{key:"init",value:function(a,b){function c(a){return a?"function"==typeof a?new a:a:void 0}var d=this;if("function"==typeof a&&(b=a,a={}),"v1"===a.compatibilityAPI?this.options=h({},C.get(),C.transformOptions(G.convertAPIOptions(a)),{}):"v1"===a.compatibilityJSON?this.options=h({},C.get(),C.transformOptions(G.convertJSONOptions(a)),{}):this.options=h({},C.get(),this.options,C.transformOptions(a)),b||(b=function(){}),!this.options.isClone){this.modules.logger?l["default"].init(c(this.modules.logger),this.options):l["default"].init(null,this.options);var e=new t["default"](this.options);this.store=new p["default"](this.options.resources,this.options);var f=this.services;f.logger=l["default"],f.resourceStore=this.store,f.resourceStore.on("added removed",function(a,b){f.cacheConnector.save()}),f.languageUtils=e,f.pluralResolver=new v["default"](e,{prepend:"_",compatibilityJSON:this.options.compatibilityJSON}),f.interpolator=new x["default"](this.options),f.backendConnector=new z["default"](c(this.modules.backend),f.resourceStore,f,this.options),f.backendConnector.on("*",function(a){for(var b=arguments.length,c=Array(b>1?b-1:0),e=1;b>e;e++)c[e-1]=arguments[e];d.emit.apply(d,[a].concat(c))}),f.backendConnector.on("loaded",function(a){f.cacheConnector.save()}),f.cacheConnector=new B["default"](c(this.modules.cache),f.resourceStore,f,this.options),f.cacheConnector.on("*",function(a){for(var b=arguments.length,c=Array(b>1?b-1:0),e=1;b>e;e++)c[e-1]=arguments[e];d.emit.apply(d,[a].concat(c))}),this.modules.languageDetector&&(f.languageDetector=c(this.modules.languageDetector),f.languageDetector.init(f,this.options.detection,this.options)),this.translator=new r["default"](this.services,this.options),this.translator.on("*",function(a){for(var b=arguments.length,c=Array(b>1?b-1:0),e=1;b>e;e++)c[e-1]=arguments[e];d.emit.apply(d,[a].concat(c))})}var g=["addResource","addResources","addResourceBundle","removeResourceBundle","hasResourceBundle","getResourceBundle"];g.forEach(function(a){d[a]=function(){return this.store[a].apply(this.store,arguments)}}),"v1"===this.options.compatibilityAPI&&G.appendBackwardsAPI(this),this.changeLanguage(this.options.lng,function(a,c){d.emit("initialized",d.options),d.logger.log("initialized",d.options),b(a,c)})}},{key:"loadResources",value:function(a){var b=this;a||(a=function(){}),this.options.resources?a(null):!function(){var c=[],d=function(a){var d=b.services.languageUtils.toResolveHierarchy(a);d.forEach(function(a){c.indexOf(a)<0&&c.push(a)})};d(b.language),b.options.preload&&b.options.preload.forEach(function(a){d(a)}),b.services.cacheConnector.load(c,b.options.ns,function(){b.services.backendConnector.load(c,b.options.ns,a)})}()}},{key:"use",value:function(a){return"backend"===a.type&&(this.modules.backend=a),"cache"===a.type&&(this.modules.cache=a),("logger"===a.type||a.log&&a.warn&&a.warn)&&(this.modules.logger=a),"languageDetector"===a.type&&(this.modules.languageDetector=a),"postProcessor"===a.type&&E["default"].addPostProcessor(a),this}},{key:"changeLanguage",value:function(a,b){var c=this,d=function(d){c.emit("languageChanged",a),c.logger.log("languageChanged",a),b&&b(d,function(){for(var a=arguments.length,b=Array(a),d=0;a>d;d++)b[d]=arguments[d];return c.t.apply(c,b)})};!a&&this.services.languageDetector&&(a=this.services.languageDetector.detect()),a&&(this.language=a,this.languages=this.services.languageUtils.toResolveHierarchy(a),this.translator.changeLanguage(a),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage(a)),this.loadResources(function(a){d(a)})}},{key:"getFixedT",value:function(a,b){var c=this,d=function e(a,b){return b=b||{},b.lng=b.lng||e.lng,b.ns=b.ns||e.ns,c.t(a,b)};return d.lng=a,d.ns=b,d}},{key:"t",value:function(){return this.translator&&this.translator.translate.apply(this.translator,arguments)}},{key:"exists",value:function(){return this.translator&&this.translator.exists.apply(this.translator,arguments)}},{key:"setDefaultNamespace",value:function(a){this.options.defaultNS=a}},{key:"loadNamespaces",value:function(a,b){var c=this;return this.options.ns?("string"==typeof a&&(a=[a]),a.forEach(function(a){c.options.ns.indexOf(a)<0&&c.options.ns.push(a)}),void this.loadResources(b)):b&&b()}},{key:"loadLanguages",value:function(a,b){"string"==typeof a&&(a=[a]),this.options.preload=this.options.preload?this.options.preload.concat(a):a,this.loadResources(b)}},{key:"dir",value:function(a){a||(a=this.language);var b=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam"];return b.indexOf(this.services.languageUtils.getLanguagePartFromCode(a))?"ltr":"rtl"}},{key:"createInstance",value:function(a,c){return void 0===a&&(a={}),new b(a,c)}},{key:"cloneInstance",value:function(a,c){var d=this;void 0===a&&(a={});var e=new b(h({},a,this.options,{isClone:!0}),c),f=["store","translator","services","language"];return f.forEach(function(a){e[a]=d[a]}),e}}]),b}(n["default"]);c["default"]=new H,b.exports=c["default"]},{"./BackendConnector":1,"./CacheConnector":2,"./EventEmitter":3,"./Interpolator":4,"./LanguageUtils":5,"./PluralResolver":6,"./ResourceStore":7,"./Translator":8,"./compatibility/v1":9,"./defaults":10,"./logger":12,"./postProcessor":13}],12:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var e=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g={type:"logger",log:function(a){this._output("log",a)},warn:function(a){this._output("warn",a)},error:function(a){this._output("error",a)},_output:function(a,b){console&&console[a]&&console[a].apply(console,Array.prototype.slice.call(b))}},h=function(){function a(b){var c=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];d(this,a),this.subs=[],this.init(b,c)}return f(a,[{key:"init",value:function(a){var b=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];this.prefix=b.prefix||"i18next:",this.logger=a||g,this.options=b,this.debug=b.debug===!1?!1:!0}},{key:"setDebug",value:function(a){this.debug=a,this.subs.forEach(function(b){b.setDebug(a)})}},{key:"log",value:function(){this.forward(arguments,"log","",!0)}},{key:"warn",value:function(){this.forward(arguments,"warn","",!0)}},{key:"error",value:function(){this.forward(arguments,"error","")}},{key:"deprecate",value:function(){this.forward(arguments,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(a,b,c,d){(!d||this.debug)&&("string"==typeof a[0]&&(a[0]=c+this.prefix+" "+a[0]),this.logger[b](a))}},{key:"create",value:function(b){var c=new a(this.logger,e({prefix:this.prefix+":"+b+":"},this.options));return this.subs.push(c),c}}]),a}();c["default"]=new h,b.exports=c["default"]},{}],13:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c["default"]={processors:{},addPostProcessor:function(a){this.processors[a.name]=a},handle:function(a,b,c,d,e){var f=this;return a.forEach(function(a){f.processors[a]&&(b=f.processors[a].process(b,c,d,e))}),b}},b.exports=c["default"]},{}],14:[function(a,b,c){"use strict";function d(a){return null==a?"":""+a}function e(a,b,c){a.forEach(function(a){b[a]&&(c[a]=b[a])})}function f(a,b,c){function d(a){return a&&a.indexOf("###")>-1?a.replace(/###/g,"."):a}for(var e="string"!=typeof b?[].concat(b):b.split(".");e.length>1;){if(!a)return{};var f=d(e.shift());!a[f]&&c&&(a[f]=new c),a=a[f]}return a?{obj:a,k:d(e.shift())}:{}}function g(a,b,c){var d=f(a,b,Object),e=d.obj,g=d.k;e[g]=c}function h(a,b,c,d){var e=f(a,b,Object),g=e.obj,h=e.k;g[h]=g[h]||[],d&&(g[h]=g[h].concat(c)),d||g[h].push(c)}function i(a,b){var c=f(a,b),d=c.obj,e=c.k;return d?d[e]:void 0}function j(a,b,c){for(var d in b)d in a?"string"==typeof a[d]||a[d]instanceof String||"string"==typeof b[d]||b[d]instanceof String?c&&(a[d]=b[d]):j(a[d],b[d],c):a[d]=b[d];return a}function k(a){return a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}function l(a){return"string"==typeof a?a.replace(/[&<>"'\/]/g,function(a){return m[a]}):a}Object.defineProperty(c,"__esModule",{value:!0}),c.makeString=d,c.copy=e,c.setPath=g,c.pushPath=h,c.getPath=i,c.deepExtend=j,c.regexEscape=k,c.escape=l;var m={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"}},{}]},{},[11])(11)}),!function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;b="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,b.i18nextXHRBackend=a()}}(function(){return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){"use strict";function d(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b["default"]=a,b}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b,c,d){if(c&&"object"==typeof c){var e="",f=encodeURIComponent;for(var g in c)e+="&"+f(g)+"="+f(c[g]);c=e.slice(1)+(d?"":"&_t="+new Date)}try{var h=new(XMLHttpRequest||ActiveXObject)("MSXML2.XMLHTTP.3.0");h.open(c?"POST":"GET",a,1),h.setRequestHeader("X-Requested-With","XMLHttpRequest"),h.setRequestHeader("Content-type","application/x-www-form-urlencoded"),h.onreadystatechange=function(){h.readyState>3&&b&&b(h.responseText,h)},h.send(c)}catch(f){window.console&&console.log(f)}}function g(){return{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"locales/add/{{lng}}/{{ns}}",allowMultiLoading:!1}}Object.defineProperty(c,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=a("./utils"),j=d(i),k=function(){function a(b){var c=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];e(this,a),this.init(b,c),this.type="backend"}return h(a,[{key:"init",value:function(a){var b=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];this.services=a,this.options=j.defaults(b,this.options||{},g())}},{key:"readMulti",value:function(a,b,c){var d=this.services.interpolator.interpolate(this.options.loadPath,{lng:a.join("+"),ns:b.join("+")});this.loadUrl(d,c)}},{key:"read",value:function(a,b,c){var d=this.services.interpolator.interpolate(this.options.loadPath,{lng:a,ns:b});this.loadUrl(d,c)}},{key:"loadUrl",value:function(a,b){f(a,function(c,d){var e=d.status.toString();if(0===e.indexOf("5"))return b("failed loading "+a,!0);if(0===e.indexOf("4"))return b("failed loading "+a,!1);var f=void 0,g=void 0;try{f=JSON.parse(c)}catch(h){g="failed parsing "+a+" to json"}return g?b(g,!1):void b(null,f)})}},{key:"create",value:function(a,b,c,d){var e=this;"string"==typeof a&&(a=[a]);var g={};g[c]=d||"",a.forEach(function(a){var c=e.services.interpolator.interpolate(e.options.addPath,{lng:a,ns:b});f(c,function(a,b){},g)})}}]),a}();k.type="backend",c["default"]=k,b.exports=c["default"]},{"./utils":2}],2:[function(a,b,c){"use strict";function d(a){return g.call(h.call(arguments,1),function(b){if(b)for(var c in b)void 0===a[c]&&(a[c]=b[c])}),a}function e(a){return g.call(h.call(arguments,1),function(b){if(b)for(var c in b)a[c]=b[c]}),a}Object.defineProperty(c,"__esModule",{value:!0}),c.defaults=d,c.extend=e;var f=[],g=f.forEach,h=f.slice},{}]},{},[1])(1)}),!function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;b="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,b.i18nextSprintfPostProcessor=a()}}(function(){var a;return function b(a,c,d){function e(g,h){if(!c[g]){if(!a[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};a[g][0].call(k.exports,function(b){var c=a[g][1][b];return e(c?c:b)},k,k.exports,b,a,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(b,c,d){!function(b){function c(){var a=arguments[0],b=c.cache;return b[a]&&b.hasOwnProperty(a)||(b[a]=c.parse(a)),c.format.call(null,b[a],arguments)}function e(a){return Object.prototype.toString.call(a).slice(8,-1).toLowerCase()}function f(a,b){return Array(b+1).join(a)}var g={not_string:/[^s]/,number:/[diefg]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijosuxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[\+\-]/};c.format=function(a,b){var d,h,i,j,k,l,m,n=1,o=a.length,p="",q=[],r=!0,s="";for(h=0;o>h;h++)if(p=e(a[h]),"string"===p)q[q.length]=a[h];else if("array"===p){if(j=a[h],j[2])for(d=b[n],i=0;i<j[2].length;i++){if(!d.hasOwnProperty(j[2][i]))throw new Error(c("[sprintf] property '%s' does not exist",j[2][i]));d=d[j[2][i]]}else d=j[1]?b[j[1]]:b[n++];if("function"==e(d)&&(d=d()),g.not_string.test(j[8])&&g.not_json.test(j[8])&&"number"!=e(d)&&isNaN(d))throw new TypeError(c("[sprintf] expecting number but found %s",e(d)));switch(g.number.test(j[8])&&(r=d>=0),j[8]){case"b":d=d.toString(2);break;case"c":d=String.fromCharCode(d);break;case"d":case"i":d=parseInt(d,10);break;case"j":d=JSON.stringify(d,null,j[6]?parseInt(j[6]):0);break;case"e":d=j[7]?d.toExponential(j[7]):d.toExponential();break;case"f":d=j[7]?parseFloat(d).toFixed(j[7]):parseFloat(d);break;case"g":d=j[7]?parseFloat(d).toPrecision(j[7]):parseFloat(d);break;case"o":d=d.toString(8);break;case"s":d=(d=String(d))&&j[7]?d.substring(0,j[7]):d;break;case"u":d>>>=0;break;case"x":d=d.toString(16);break;case"X":d=d.toString(16).toUpperCase()}g.json.test(j[8])?q[q.length]=d:(!g.number.test(j[8])||r&&!j[3]?s="":(s=r?"+":"-",d=d.toString().replace(g.sign,"")),l=j[4]?"0"===j[4]?"0":j[4].charAt(1):" ",m=j[6]-(s+d).length,k=j[6]&&m>0?f(l,m):"",q[q.length]=j[5]?s+d+k:"0"===l?s+k+d:k+s+d)}return q.join("")},c.cache={},c.parse=function(a){for(var b=a,c=[],d=[],e=0;b;){if(null!==(c=g.text.exec(b)))d[d.length]=c[0];else if(null!==(c=g.modulo.exec(b)))d[d.length]="%";else{if(null===(c=g.placeholder.exec(b)))throw new SyntaxError("[sprintf] unexpected placeholder");if(c[2]){e|=1;var f=[],h=c[2],i=[];if(null===(i=g.key.exec(h)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(f[f.length]=i[1];""!==(h=h.substring(i[0].length));)if(null!==(i=g.key_access.exec(h)))f[f.length]=i[1];else{if(null===(i=g.index_access.exec(h)))throw new SyntaxError("[sprintf] failed to parse named argument key");f[f.length]=i[1]}c[2]=f}else e|=2;if(3===e)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");d[d.length]=c}b=b.substring(c[0].length)}return d};var h=function(a,b,d){return d=(b||[]).slice(0),d.splice(0,0,a),c.apply(null,d)};"undefined"!=typeof d?(d.sprintf=c,d.vsprintf=h):(b.sprintf=c,b.vsprintf=h,"function"==typeof a&&a.amd&&a(function(){return{sprintf:c,vsprintf:h}}))}("undefined"==typeof window?this:window)},{}],2:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d=a("sprintf-js");c["default"]={name:"sprintf",type:"postProcessor",process:function(a,b,c){return c.sprintf?"[object Array]"===Object.prototype.toString.apply(c.sprintf)?d.vsprintf(a,c.sprintf):"object"==typeof c.sprintf?d.sprintf(a,c.sprintf):a:a},translationOptionOverloadHandler:function(a){for(var b=[],c=1;c<a.length;c++)b.push(a[c]);return{postProcess:"sprintf",sprintf:b}}},b.exports=c["default"]},{"sprintf-js":1}]},{},[2])(2)}),function(a){function b(b){if("string"==typeof b.data&&(b.data={keys:b.data}),b.data&&b.data.keys&&"string"==typeof b.data.keys){var c=b.handler,d=b.data.keys.toLowerCase().split(" ");b.handler=function(b){if(this===b.target||!(a.hotkeys.options.filterInputAcceptingElements&&a.hotkeys.textInputTypes.test(b.target.nodeName)||a.hotkeys.options.filterContentEditable&&a(b.target).attr("contenteditable")||a.hotkeys.options.filterTextInputs&&a.inArray(b.target.type,a.hotkeys.textAcceptingInputTypes)>-1)){var e="keypress"!==b.type&&a.hotkeys.specialKeys[b.which],f=String.fromCharCode(b.which).toLowerCase(),g="",h={};a.each(["alt","ctrl","shift"],function(a,c){b[c+"Key"]&&e!==c&&(g+=c+"+")}),b.metaKey&&!b.ctrlKey&&"meta"!==e&&(g+="meta+"),b.metaKey&&"meta"!==e&&g.indexOf("alt+ctrl+shift+")>-1&&(g=g.replace("alt+ctrl+shift+","hyper+")),e?h[g+e]=!0:(h[g+f]=!0,h[g+a.hotkeys.shiftNums[f]]=!0,"shift+"===g&&(h[a.hotkeys.shiftNums[f]]=!0));for(var i=0,j=d.length;j>i;i++)if(h[d[i]])return c.apply(this,arguments)}}}}a.hotkeys={version:"0.2.0",specialKeys:{8:"backspace",9:"tab",10:"return",13:"return",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",59:";",61:"=",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},shiftNums:{"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":": ","'":'"',",":"<",".":">","/":"?","\\":"|"},textAcceptingInputTypes:["text","password","number","email","url","range","date","month","week","time","datetime","datetime-local","search","color","tel"],textInputTypes:/textarea|input|select/i,options:{filterInputAcceptingElements:!0,filterTextInputs:!0,filterContentEditable:!0}},a.each(["keydown","keyup","keypress"],function(){a.event.special[this]={add:b}})}(jQuery||this.jQuery||window.jQuery),function(a){var b=/^(\S+)\s*(.*)$/;if(!a.hotkeys)throw new Error("Error: You have not included the jQuery Hotkeys dependency!");Backbone.View=Backbone.View.extend({delegateEvents:function(a){if(!a&&!(a=_.result(this,"events")))return this;this.undelegateEvents();for(var c in a){var d=a[c];if(_.isFunction(d)||(d=this[a[c]]),d){var e=c.match(b),f=e[1],g=e[2],h=_.bind(d,this),i=/(.*)\[(.*)\]/,j=f.match(i),k=null;if(j&&(f=j[1],k=j[2]),f+=".delegateEvents"+this.cid,g)if(j){var l=function(a,b,c,d){return function(){$(this).find(a).length>0&&d.apply(null,arguments)}}(g,f,k,d);$(document).bind(f,k,l)}else this.$el.on(f,g,h);else j?$(document).bind(f,k,h):this.$el.on(f,h)}}return this},undelegateHotkeyGlobalEvents:function(){var a=".delegateEvents"+this.cid;$(document).off(a)}});var c=Backbone.View.prototype.stopListening;Backbone.View=Backbone.View.extend({stopListening:function(a,b,d){c.call(this,a,b,d),this.undelegateHotkeyGlobalEvents()}})}(jQuery),function(a,b){"function"==typeof define&&define.amd?define(b):"undefined"!=typeof module&&module.exports?module.exports=b():a.Salsa20=b()}(this,function(){function a(a,b){this.rounds=20,this.sigmaWords=[1634760805,857760878,2036477234,1797285236],this.keyWords=[],this.nonceWords=[0,0],this.counterWords=[0,0],this.block=[],this.blockUsed=64,this.setKey(a),this.setNonce(b)}return a.prototype.setKey=function(a){for(var b=0,c=0;8>b;b++,c+=4)this.keyWords[b]=255&a[c]|(255&a[c+1])<<8|(255&a[c+2])<<16|(255&a[c+3])<<24;this._reset()},a.prototype.setNonce=function(a){this.nonceWords[0]=255&a[0]|(255&a[1])<<8|(255&a[2])<<16|(255&a[3])<<24,this.nonceWords[1]=255&a[4]|(255&a[5])<<8|(255&a[6])<<16|(255&a[7])<<24,this._reset()},a.prototype.getBytes=function(a){for(var b=new Array(a),c=0;a>c;c++)64==this.blockUsed&&(this._generateBlock(),this._incrementCounter(),this.blockUsed=0),b[c]=this.block[this.blockUsed],this.blockUsed++;return b},a.prototype.getHexString=function(a){for(var b=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],c=[],d=this.getBytes(a),e=0;e<d.length;e++)c.push(b[d[e]>>4&15]),c.push(b[15&d[e]]);return c.join("")},a.prototype._reset=function(){this.counterWords[0]=0,this.counterWords[1]=0,this.blockUsed=64},a.prototype._incrementCounter=function(){this.counterWords[0]=this.counterWords[0]+1&4294967295,0==this.counterWords[0]&&(this.counterWords[1]=this.counterWords[1]+1&4294967295)},a.prototype._generateBlock=function(){for(var a,b=this.sigmaWords[0],c=this.keyWords[0],d=this.keyWords[1],e=this.keyWords[2],f=this.keyWords[3],g=this.sigmaWords[1],h=this.nonceWords[0],i=this.nonceWords[1],j=this.counterWords[0],k=this.counterWords[1],l=this.sigmaWords[2],m=this.keyWords[4],n=this.keyWords[5],o=this.keyWords[6],p=this.keyWords[7],q=this.sigmaWords[3],r=b,s=c,t=d,u=e,v=f,w=g,x=h,y=i,z=j,A=k,B=l,C=m,D=n,E=o,F=p,G=q,H=0;H<this.rounds;H+=2)a=r+D,v^=a<<7|a>>>25,a=v+r,z^=a<<9|a>>>23,a=z+v,D^=a<<13|a>>>19,a=D+z,r^=a<<18|a>>>14,a=w+s,A^=a<<7|a>>>25,a=A+w,E^=a<<9|a>>>23,a=E+A,s^=a<<13|a>>>19,a=s+E,w^=a<<18|a>>>14,a=B+x,F^=a<<7|a>>>25,a=F+B,t^=a<<9|a>>>23,a=t+F,x^=a<<13|a>>>19,a=x+t,B^=a<<18|a>>>14,a=G+C,u^=a<<7|a>>>25,a=u+G,y^=a<<9|a>>>23,a=y+u,C^=a<<13|a>>>19,a=C+y,G^=a<<18|a>>>14,a=r+u,s^=a<<7|a>>>25,a=s+r,t^=a<<9|a>>>23,a=t+s,u^=a<<13|a>>>19,a=u+t,r^=a<<18|a>>>14,a=w+v,x^=a<<7|a>>>25,a=x+w,y^=a<<9|a>>>23,a=y+x,v^=a<<13|a>>>19,a=v+y,w^=a<<18|a>>>14,a=B+A,C^=a<<7|a>>>25,a=C+B,z^=a<<9|a>>>23,a=z+C,A^=a<<13|a>>>19,a=A+z,B^=a<<18|a>>>14,a=G+F,D^=a<<7|a>>>25,a=D+G,E^=a<<9|a>>>23,a=E+D,F^=a<<13|a>>>19,a=F+E,G^=a<<18|a>>>14;r+=b,s+=c,t+=d,u+=e,v+=f,w+=g,x+=h,y+=i,z+=j,A+=k,B+=l,C+=m,D+=n,E+=o,F+=p,G+=q,this.block[0]=r>>>0&255,this.block[1]=r>>>8&255,this.block[2]=r>>>16&255,this.block[3]=r>>>24&255,this.block[4]=s>>>0&255,this.block[5]=s>>>8&255,this.block[6]=s>>>16&255,this.block[7]=s>>>24&255,this.block[8]=t>>>0&255,this.block[9]=t>>>8&255,this.block[10]=t>>>16&255,this.block[11]=t>>>24&255,this.block[12]=u>>>0&255,this.block[13]=u>>>8&255,this.block[14]=u>>>16&255,this.block[15]=u>>>24&255,this.block[16]=v>>>0&255,this.block[17]=v>>>8&255,this.block[18]=v>>>16&255,this.block[19]=v>>>24&255,this.block[20]=w>>>0&255,this.block[21]=w>>>8&255,this.block[22]=w>>>16&255,this.block[23]=w>>>24&255,this.block[24]=x>>>0&255,this.block[25]=x>>>8&255,this.block[26]=x>>>16&255,this.block[27]=x>>>24&255,this.block[28]=y>>>0&255,this.block[29]=y>>>8&255,this.block[30]=y>>>16&255,this.block[31]=y>>>24&255,this.block[32]=z>>>0&255,this.block[33]=z>>>8&255,this.block[34]=z>>>16&255,this.block[35]=z>>>24&255,this.block[36]=A>>>0&255,this.block[37]=A>>>8&255,this.block[38]=A>>>16&255,this.block[39]=A>>>24&255,this.block[40]=B>>>0&255,this.block[41]=B>>>8&255,this.block[42]=B>>>16&255,this.block[43]=B>>>24&255,this.block[44]=C>>>0&255,this.block[45]=C>>>8&255,this.block[46]=C>>>16&255,this.block[47]=C>>>24&255,this.block[48]=D>>>0&255,this.block[49]=D>>>8&255,this.block[50]=D>>>16&255,this.block[51]=D>>>24&255,this.block[52]=E>>>0&255,this.block[53]=E>>>8&255,this.block[54]=E>>>16&255,this.block[55]=E>>>24&255,this.block[56]=F>>>0&255,this.block[57]=F>>>8&255,this.block[58]=F>>>16&255,this.block[59]=F>>>24&255,this.block[60]=G>>>0&255,this.block[61]=G>>>8&255,this.block[62]=G>>>16&255,this.block[63]=G>>>24&255},a}),function(a,b){"function"==typeof define&&define.amd?define([],b.bind(a,a.crypto||a.msCrypto)):"undefined"!=typeof module&&module.exports?module.exports=b(require("crypto")):a.BigInt=b(a.crypto||a.msCrypto)}(this,function(a){function b(a){var b,c,d,e;for(c=new Array(a),b=0;a>b;b++)c[b]=0;for(c[0]=2,d=0;c[d]<a;){for(b=c[d]*c[d];a>b;b+=c[d])c[b]=1;for(d++,c[d]=c[d-1]+1;c[d]<a&&c[c[d]];c[d]++);}for(e=new Array(d),b=0;d>b;b++)e[b]=c[b];return e}function c(a,b){var c,d,e,f;if(qa.length!=a.length&&(qa=B(a),ra=B(a),sa=B(a)),C(sa,b),C(ra,a),C(qa,a),E(ra,-1),E(qa,-1),z(ra))return 0;for(e=0;0==ra[e];e++);for(c=1,d=2;ra[e]%d==0;d*=2,c++);if(f=e*ca+c-1,f&&F(ra,f),U(sa,ra,a),!x(sa,1)&&!y(sa,qa)){for(d=1;f-1>=d&&!y(sa,qa);){if(S(sa,a),x(sa,1))return 0;d++}if(!y(sa,qa))return 0}return 1}function d(a){var b,c,d;for(b=a.length-1;0==a[b]&&b>0;b--);for(c=0,d=a[b];d;d>>=1,c++);return c+=ca*b}function e(a,b){var c=v(0,(a.length>b?a.length:b)*ca,0);return C(c,a),c}function f(a,b){var c=B(a);return Q(c,b),T(c,1)}function g(a,b){var c=e(a,a.length+b.length);return P(c,b),T(c,1)}function h(a,b,c){var d=e(a,c.length);return U(d,T(b,2),T(c,2),0),T(d,1)}function i(a,b){var c=e(a,a.length>b.length?a.length+1:b.length+1);return N(c,b),T(c,1)}function j(a,b){var c=e(a,a.length>b.length?a.length+1:b.length+1);return O(c,b),T(c,1)}function k(a,b){var c,d=e(a,b.length);return c=o(d,b),c?T(d,1):null}function l(a,b,c){var d=e(a,c.length);return R(d,b,c),T(d,1)}function m(a,b){var c,d;return c=Math.floor((a-1)/ca)+2,d=v(0,0,c),n(d,a,b),d}function n(a,b,c){var d,e;for(d=0;d<a.length;d++)a[d]=0;for(e=Math.floor((b-1)/ca)+1,d=0;e>d;d++)a[d]=ba(ca);a[e-1]&=(2<<(b-1)%ca)-1,1==c&&(a[e-1]|=1<<(b-1)%ca)}function o(a,b){var c=1+2*Math.max(a.length,b.length);if(!(1&a[0]||1&b[0]))return D(a,0),0;for(ua.length!=c&&(ua=new Array(c),ta=new Array(c),va=new Array(c),wa=new Array(c),xa=new Array(c),ya=new Array(c)),C(ua,a),C(ta,b),D(va,1),D(wa,0),D(xa,0),D(ya,1);;){for(;!(1&ua[0]);)G(ua),1&va[0]||1&wa[0]?(O(va,b),G(va),N(wa,a),G(wa)):(G(va),G(wa));for(;!(1&ta[0]);)G(ta),1&xa[0]||1&ya[0]?(O(xa,b),G(xa),N(ya,a),G(ya)):(G(xa),G(ya));if(s(ta,ua)?(N(ta,ua),N(xa,va),N(ya,wa)):(N(ua,ta),N(va,xa),N(wa,ya)),x(ua,0)){for(;q(xa);)O(xa,b);return C(a,xa),x(ta,1)?1:(D(a,0),0)}}}function p(a,b){for(var c=1,d=0;;){if(1==a)return c;if(0==a)return 0;if(d-=c*Math.floor(b/a),b%=a,1==b)return d;if(0==b)return 0;c-=d*Math.floor(a/b),a%=b}}function q(a){return a[a.length-1]>>ca-1&1}function r(a,b,c){var d,e=a.length,f=b.length,g=f>e+c?e+c:f;for(d=f-1-c;e>d&&d>=0;d++)if(a[d]>0)return 1;for(d=e-1+c;f>d;d++)if(b[d]>0)return 0;for(d=g-1;d>=c;d--){if(a[d-c]>b[d])return 1;if(a[d-c]<b[d])return 0}return 0}function s(a,b){var c,d=a.length<b.length?a.length:b.length;for(c=a.length;c<b.length;c++)if(b[c])return 0;for(c=b.length;c<a.length;c++)if(a[c])return 1;for(c=d-1;c>=0;c--){if(a[c]>b[c])return 1;if(a[c]<b[c])return 0}return 0}function t(a,b,c,d){var e,f,g,h,i,j,k,l;for(C(d,a),f=b.length;0==b[f-1];f--);for(l=b[f-1],k=0;l;k++)l>>=1;for(k=ca-k,H(b,k),H(d,k),e=d.length;0==d[e-1]&&e>f;e--);for(D(c,0);!r(b,d,e-f);)M(d,b,e-f),c[e-f]++;for(g=e-1;g>=f;g--){for(d[g]==b[f-1]?c[g-f]=ea:c[g-f]=Math.floor((d[g]*da+d[g-1])/b[f-1]);i=(f>1?b[f-2]:0)*c[g-f],j=i,i&=ea,j=(j-i)/da,h=j+c[g-f]*b[f-1],j=h,h&=ea,j=(j-h)/da,j==d[g]?h==d[g-1]?i>(g>1?d[g-2]:0):h>d[g-1]:j>d[g];)c[g-f]--;K(d,b,-c[g-f],g-f),q(d)&&(L(d,b,g-f),c[g-f]--)}F(b,k),F(d,k)}function u(a,b){var c,d=0;for(c=a.length-1;c>=0;c--)d=(d*da+a[c])%b;return d}function v(a,b,c){var d,e;return d=Math.ceil(b/ca)+1,d=c>d?c:d,e=new Array(d),D(e,a),e}function w(a,b,c){var d,e,f,g,h,i=a.length;if(-1==b){for(f=new Array(0);;){for(g=new Array(f.length+1),e=0;e<f.length;e++)g[e+1]=f[e];if(g[0]=parseInt(a,10),f=g,d=a.indexOf(",",0),1>d)break;if(a=a.substring(d+1),0==a.length)break}return f.length<c?(g=new Array(c),C(g,f),g):f}for(var j=b,k=0,l=1==b?i:0;j>1;)1&j&&(k=1),l+=i,j>>=1;for(l+=k*i,f=v(0,l,0),e=0;i>e&&(d=fa.indexOf(a.substring(e,e+1),0),36>=b&&d>=36&&(d-=26),!(d>=b||0>d));e++)I(f,b),E(f,d);for(i=f.length;i>0&&!f[i-1];i--);for(i=c>i+1?c:i+1,g=new Array(i),h=i<f.length?i:f.length,e=0;h>e;e++)g[e]=f[e];for(;i>e;e++)g[e]=0;return g}function x(a,b){var c;if(a[0]!=b)return 0;for(c=1;c<a.length;c++)if(a[c])return 0;return 1}function y(a,b){var c,d=a.length<b.length?a.length:b.length;for(c=0;d>c;c++)if(a[c]!=b[c])return 0;if(a.length>b.length){for(;c<a.length;c++)if(a[c])return 0}else for(;c<b.length;c++)if(b[c])return 0;return 1}function z(a){var b;for(b=0;b<a.length;b++)if(a[b])return 0;return 1}function A(a,b){var c,d,e="";if(na.length!=a.length?na=B(a):C(na,a),-1==b){for(c=a.length-1;c>0;c--)e+=a[c]+",";e+=a[0]}else for(;!z(na);)d=J(na,b),e=fa.substring(d,d+1)+e;return 0==e.length&&(e="0"),e}function B(a){var b;return b=new Array(a.length),C(b,a),b}function C(a,b){var c,d=a.length<b.length?a.length:b.length;for(c=0;d>c;c++)a[c]=b[c];for(c=d;c<a.length;c++)a[c]=0}function D(a,b){var c,d;for(d=b,c=0;c<a.length;c++)a[c]=d&ea,d>>=ca}function E(a,b){var c,d,e,f;for(a[0]+=b,d=a.length,e=0,c=0;d>c;c++)if(e+=a[c],f=0,0>e&&(f=e&ea,f=-((e-f)/da),e+=f*da),a[c]=e&ea,e=(e-a[c])/da-f,!e)return}function F(a,b){var c,d=Math.floor(b/ca);if(d){for(c=0;c<a.length-d;c++)a[c]=a[c+d];for(;c<a.length;c++)a[c]=0;b%=ca}for(c=0;c<a.length-1;c++)a[c]=ea&(a[c+1]<<ca-b|a[c]>>b);a[c]>>=b}function G(a){var b;for(b=0;b<a.length-1;b++)a[b]=ea&(a[b+1]<<ca-1|a[b]>>1);a[b]=a[b]>>1|a[b]&da>>1}function H(a,b){var c,d=Math.floor(b/ca);if(d){for(c=a.length;c>=d;c--)a[c]=a[c-d];for(;c>=0;c--)a[c]=0;b%=ca}if(b){for(c=a.length-1;c>0;c--)a[c]=ea&(a[c]<<b|a[c-1]>>ca-b);a[c]=ea&a[c]<<b}}function I(a,b){var c,d,e,f;if(b)for(d=a.length,e=0,c=0;d>c;c++)e+=a[c]*b,f=0,0>e&&(f=e&ea,f=-((e-f)/da),e+=f*da),a[c]=e&ea,e=(e-a[c])/da-f}function J(a,b){var c,d,e=0;for(c=a.length-1;c>=0;c--)d=e*da+a[c],a[c]=Math.floor(d/b),e=d%b;return e}function K(a,b,c,d){var e,f,g,h;for(g=a.length<d+b.length?a.length:d+b.length,h=a.length,f=0,e=d;g>e;e++)f+=a[e]+c*b[e-d],a[e]=f&ea,f=(f-a[e])/da;for(e=g;f&&h>e;e++)f+=a[e],a[e]=f&ea,f=(f-a[e])/da}function L(a,b,c){var d,e,f,g;for(f=a.length<c+b.length?a.length:c+b.length,g=a.length,e=0,
d=c;f>d;d++)e+=a[d]+b[d-c],a[d]=e&ea,e=(e-a[d])/da;for(d=f;e&&g>d;d++)e+=a[d],a[d]=e&ea,e=(e-a[d])/da}function M(a,b,c){var d,e,f,g;for(f=a.length<c+b.length?a.length:c+b.length,g=a.length,e=0,d=c;f>d;d++)e+=a[d]-b[d-c],a[d]=e&ea,e=(e-a[d])/da;for(d=f;e&&g>d;d++)e+=a[d],a[d]=e&ea,e=(e-a[d])/da}function N(a,b){var c,d,e;for(e=a.length<b.length?a.length:b.length,d=0,c=0;e>c;c++)d+=a[c]-b[c],a[c]=d&ea,d=(d-a[c])/da;for(c=e;d&&c<a.length;c++)d+=a[c],a[c]=d&ea,d=(d-a[c])/da}function O(a,b){var c,d,e;for(e=a.length<b.length?a.length:b.length,d=0,c=0;e>c;c++)d+=a[c]+b[c],a[c]=d&ea,d=(d-a[c])/da;for(c=e;d&&c<a.length;c++)d+=a[c],a[c]=d&ea,d=(d-a[c])/da}function P(a,b){var c;for(ia.length!=2*a.length&&(ia=new Array(2*a.length)),D(ia,0),c=0;c<b.length;c++)b[c]&&K(ia,a,b[c],c);C(a,ia)}function Q(a,b){la.length!=a.length?la=B(a):C(la,a),ma.length!=a.length&&(ma=B(a)),t(la,b,ma,a)}function R(a,b,c){var d;for(ja.length!=2*a.length&&(ja=new Array(2*a.length)),D(ja,0),d=0;d<b.length;d++)b[d]&&K(ja,a,b[d],d);Q(ja,c),C(a,ja)}function S(a,b){var c,d,e,f,g;for(f=a.length;f>0&&!a[f-1];f--);for(g=f>b.length?2*f:2*b.length,ja.length!=g&&(ja=new Array(g)),D(ja,0),c=0;f>c;c++){for(e=ja[2*c]+a[c]*a[c],ja[2*c]=e&ea,e=(e-ja[2*c])/da,d=c+1;f>d;d++)e=ja[c+d]+2*a[c]*a[d]+e,ja[c+d]=e&ea,e=(e-ja[c+d])/da;ja[c+f]=e}Q(ja,b),C(a,ja)}function T(a,b){var c,d;for(c=a.length;c>0&&!a[c-1];c--);return d=new Array(c+b),C(d,a),d}function U(a,b,c){var d,e,f,g;if(oa.length!=c.length&&(oa=B(c)),0!=(1&c[0])){for(D(oa,0),f=c.length;f>0&&!c[f-1];f--);for(g=da-p(u(c,da),da),oa[f]=1,R(a,oa,c),ka.length!=a.length?ka=B(a):C(ka,a),d=b.length-1;d>0&!b[d];d--);if(0==b[d])return void D(a,1);for(e=1<<ca-1;e&&!(b[d]&e);e>>=1);for(;;){if(!(e>>=1)){if(d--,0>d)return void V(a,ga,c,g);e=1<<ca-1}V(a,a,c,g),e&b[d]&&V(a,ka,c,g)}}else for(C(oa,a),D(a,1);!x(b,0);)1&b[0]&&R(a,oa,c),J(b,2),S(oa,c)}function V(a,b,c,d){var e,f,g,h,i,j,k,l=c.length,m=b.length;for(pa.length!=l&&(pa=new Array(l)),D(pa,0);l>0&&0==c[l-1];l--);for(;m>0&&0==b[m-1];m--);for(k=pa.length-1,e=0;l>e;e++){for(i=pa[0]+a[e]*b[0],h=(i&ea)*d&ea,g=i+h*c[0],g=(g-(g&ea))/da,i=a[e],f=1;m-4>f;)g+=pa[f]+h*c[f]+i*b[f],j=pa[f-1]=g&ea,g=(g-j)/da,f++,g+=pa[f]+h*c[f]+i*b[f],j=pa[f-1]=g&ea,g=(g-j)/da,f++,g+=pa[f]+h*c[f]+i*b[f],j=pa[f-1]=g&ea,g=(g-j)/da,f++,g+=pa[f]+h*c[f]+i*b[f],j=pa[f-1]=g&ea,g=(g-j)/da,f++,g+=pa[f]+h*c[f]+i*b[f],j=pa[f-1]=g&ea,g=(g-j)/da,f++;for(;m>f;)g+=pa[f]+h*c[f]+i*b[f],j=pa[f-1]=g&ea,g=(g-j)/da,f++;for(;l-4>f;)g+=pa[f]+h*c[f],j=pa[f-1]=g&ea,g=(g-j)/da,f++,g+=pa[f]+h*c[f],j=pa[f-1]=g&ea,g=(g-j)/da,f++,g+=pa[f]+h*c[f],j=pa[f-1]=g&ea,g=(g-j)/da,f++,g+=pa[f]+h*c[f],j=pa[f-1]=g&ea,g=(g-j)/da,f++,g+=pa[f]+h*c[f],j=pa[f-1]=g&ea,g=(g-j)/da,f++;for(;l>f;)g+=pa[f]+h*c[f],j=pa[f-1]=g&ea,g=(g-j)/da,f++;for(;k>f;)g+=pa[f],j=pa[f-1]=g&ea,g=(g-j)/da,f++;pa[f-1]=g&ea}s(c,pa)||N(pa,c),C(a,pa)}function W(a,b,c){return l(a,k(b,c),c)}function X(a,b,c){return a=f(a,c),b=f(b,c),s(b,a)&&(a=j(a,c)),i(a,b)}function Y(a){for(var b=Math.floor(a/ca)+2,c=new Array(b),d=0;b>d;d++)c[d]=0;return c[b-2]=1<<a%ca,c}function Z(a,b){b||(b=0),a=B(a);for(var c="";!z(a);)c=Aa[255&a[0]]+c,F(a,8);for(;c.length<b;)c="\x00"+c;return c}function $(a){var b=w("0",10,a.length);return a.forEach(function(a,c){c&&H(b,8),b[0]|=a}),b}function _(){return Ba(40)}function aa(){return Ba(1)[0]}function ba(a){if(a>31)throw new Error("Too many bits.");var b=0,c=0,d=Math.floor(a/8),e=(1<<a%8)-1;for(e&&(c=aa()&e);d>b;b++)c=256*c+aa();return c}var ca=26,da=1<<ca,ea=da-1,fa="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz_=!@#$%^&*()[]{}|;:,.<>/?`~ \\'\"+-",ga=v(1,1,1),ha=new Array(0),ia=ha,ja=ha,ka=ha,la=ha,ma=ha,na=ha,oa=ha,pa=ha,qa=ha,ra=ha,sa=ha,ta=ha,ua=ha,va=ha,wa=ha,xa=ha,ya=ha,za=ha,Aa=function(){for(var a=0,b={};256>a;++a)b[a]=String.fromCharCode(a);return b}(),Ba=function(){return"undefined"!=typeof a&&"function"==typeof a.randomBytes?function(b){try{var c=a.randomBytes(b)}catch(d){throw d}return Array.prototype.slice.call(c,0)}:"undefined"!=typeof a&&"function"==typeof a.getRandomValues?function(b){var c=new Uint8Array(b);return a.getRandomValues(c),Array.prototype.slice.call(c,0)}:void console.log("Keys should not be generated without CSPRNG.")}();return{str2bigInt:w,bigInt2str:A,int2bigInt:v,multMod:l,powMod:h,inverseMod:k,randBigInt:m,randBigInt_:n,equals:y,equalsInt:x,sub:i,mod:f,modInt:u,mult:g,divInt_:J,rightShift_:F,dup:B,greater:s,add:j,isZero:z,bitSize:d,millerRabin:c,divide_:t,trim:T,primes:za,findPrimes:b,getSeed:_,divMod:W,subMod:X,twoToThe:Y,bigInt2bits:Z,ba2bigInt:$}});var CryptoJS=CryptoJS||function(a,b){var c={},d=c.lib={},e=d.Base=function(){function a(){}return{extend:function(b){a.prototype=this;var c=new a;return b&&c.mixIn(b),c.hasOwnProperty("init")||(c.init=function(){c.$super.init.apply(this,arguments)}),c.init.prototype=c,c.$super=this,c},create:function(){var a=this.extend();return a.init.apply(a,arguments),a},init:function(){},mixIn:function(a){for(var b in a)a.hasOwnProperty(b)&&(this[b]=a[b]);a.hasOwnProperty("toString")&&(this.toString=a.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),f=d.WordArray=e.extend({init:function(a,c){a=this.words=a||[],c!=b?this.sigBytes=c:this.sigBytes=4*a.length},toString:function(a){return(a||h).stringify(this)},concat:function(a){var b=this.words,c=a.words,d=this.sigBytes,e=a.sigBytes;if(this.clamp(),d%4)for(var f=0;e>f;f++){var g=c[f>>>2]>>>24-f%4*8&255;b[d+f>>>2]|=g<<24-(d+f)%4*8}else if(c.length>65535)for(var f=0;e>f;f+=4)b[d+f>>>2]=c[f>>>2];else b.push.apply(b,c);return this.sigBytes+=e,this},clamp:function(){var b=this.words,c=this.sigBytes;b[c>>>2]&=4294967295<<32-c%4*8,b.length=a.ceil(c/4)},clone:function(){var a=e.clone.call(this);return a.words=this.words.slice(0),a},random:function(b){for(var c=[],d=0;b>d;d+=4)c.push(4294967296*a.random()|0);return new f.init(c,b)}}),g=c.enc={},h=g.Hex={stringify:function(a){for(var b=a.words,c=a.sigBytes,d=[],e=0;c>e;e++){var f=b[e>>>2]>>>24-e%4*8&255;d.push((f>>>4).toString(16)),d.push((15&f).toString(16))}return d.join("")},parse:function(a){for(var b=a.length,c=[],d=0;b>d;d+=2)c[d>>>3]|=parseInt(a.substr(d,2),16)<<24-d%8*4;return new f.init(c,b/2)}},i=g.Latin1={stringify:function(a){for(var b=a.words,c=a.sigBytes,d=[],e=0;c>e;e++){var f=b[e>>>2]>>>24-e%4*8&255;d.push(String.fromCharCode(f))}return d.join("")},parse:function(a){for(var b=a.length,c=[],d=0;b>d;d++)c[d>>>2]|=(255&a.charCodeAt(d))<<24-d%4*8;return new f.init(c,b)}},j=g.Utf8={stringify:function(a){try{return decodeURIComponent(escape(i.stringify(a)))}catch(b){throw new Error("Malformed UTF-8 data")}},parse:function(a){return i.parse(unescape(encodeURIComponent(a)))}},k=d.BufferedBlockAlgorithm=e.extend({reset:function(){this._data=new f.init,this._nDataBytes=0},_append:function(a){"string"==typeof a&&(a=j.parse(a)),this._data.concat(a),this._nDataBytes+=a.sigBytes},_process:function(b){var c=this._data,d=c.words,e=c.sigBytes,g=this.blockSize,h=4*g,i=e/h;i=b?a.ceil(i):a.max((0|i)-this._minBufferSize,0);var j=i*g,k=a.min(4*j,e);if(j){for(var l=0;j>l;l+=g)this._doProcessBlock(d,l);var m=d.splice(0,j);c.sigBytes-=k}return new f.init(m,k)},clone:function(){var a=e.clone.call(this);return a._data=this._data.clone(),a},_minBufferSize:0}),l=(d.Hasher=k.extend({cfg:e.extend(),init:function(a){this.cfg=this.cfg.extend(a),this.reset()},reset:function(){k.reset.call(this),this._doReset()},update:function(a){return this._append(a),this._process(),this},finalize:function(a){a&&this._append(a);var b=this._doFinalize();return b},blockSize:16,_createHelper:function(a){return function(b,c){return new a.init(c).finalize(b)}},_createHmacHelper:function(a){return function(b,c){return new l.HMAC.init(a,c).finalize(b)}}}),c.algo={});return c}(Math);!function(){var a=CryptoJS,b=a.lib,c=b.WordArray,d=a.enc;d.Base64={stringify:function(a){var b=a.words,c=a.sigBytes,d=this._map;a.clamp();for(var e=[],f=0;c>f;f+=3)for(var g=b[f>>>2]>>>24-f%4*8&255,h=b[f+1>>>2]>>>24-(f+1)%4*8&255,i=b[f+2>>>2]>>>24-(f+2)%4*8&255,j=g<<16|h<<8|i,k=0;4>k&&c>f+.75*k;k++)e.push(d.charAt(j>>>6*(3-k)&63));var l=d.charAt(64);if(l)for(;e.length%4;)e.push(l);return e.join("")},parse:function(a){var b=a.length,d=this._map,e=d.charAt(64);if(e){var f=a.indexOf(e);-1!=f&&(b=f)}for(var g=[],h=0,i=0;b>i;i++)if(i%4){var j=d.indexOf(a.charAt(i-1))<<i%4*2,k=d.indexOf(a.charAt(i))>>>6-i%4*2;g[h>>>2]|=(j|k)<<24-h%4*8,h++}return c.create(g,h)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),function(a){function b(a,b,c,d,e,f,g){var h=a+(b&c|~b&d)+e+g;return(h<<f|h>>>32-f)+b}function c(a,b,c,d,e,f,g){var h=a+(b&d|c&~d)+e+g;return(h<<f|h>>>32-f)+b}function d(a,b,c,d,e,f,g){var h=a+(b^c^d)+e+g;return(h<<f|h>>>32-f)+b}function e(a,b,c,d,e,f,g){var h=a+(c^(b|~d))+e+g;return(h<<f|h>>>32-f)+b}var f=CryptoJS,g=f.lib,h=g.WordArray,i=g.Hasher,j=f.algo,k=[];!function(){for(var b=0;64>b;b++)k[b]=4294967296*a.abs(a.sin(b+1))|0}();var l=j.MD5=i.extend({_doReset:function(){this._hash=new h.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(a,f){for(var g=0;16>g;g++){var h=f+g,i=a[h];a[h]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var j=this._hash.words,l=a[f+0],m=a[f+1],n=a[f+2],o=a[f+3],p=a[f+4],q=a[f+5],r=a[f+6],s=a[f+7],t=a[f+8],u=a[f+9],v=a[f+10],w=a[f+11],x=a[f+12],y=a[f+13],z=a[f+14],A=a[f+15],B=j[0],C=j[1],D=j[2],E=j[3];B=b(B,C,D,E,l,7,k[0]),E=b(E,B,C,D,m,12,k[1]),D=b(D,E,B,C,n,17,k[2]),C=b(C,D,E,B,o,22,k[3]),B=b(B,C,D,E,p,7,k[4]),E=b(E,B,C,D,q,12,k[5]),D=b(D,E,B,C,r,17,k[6]),C=b(C,D,E,B,s,22,k[7]),B=b(B,C,D,E,t,7,k[8]),E=b(E,B,C,D,u,12,k[9]),D=b(D,E,B,C,v,17,k[10]),C=b(C,D,E,B,w,22,k[11]),B=b(B,C,D,E,x,7,k[12]),E=b(E,B,C,D,y,12,k[13]),D=b(D,E,B,C,z,17,k[14]),C=b(C,D,E,B,A,22,k[15]),B=c(B,C,D,E,m,5,k[16]),E=c(E,B,C,D,r,9,k[17]),D=c(D,E,B,C,w,14,k[18]),C=c(C,D,E,B,l,20,k[19]),B=c(B,C,D,E,q,5,k[20]),E=c(E,B,C,D,v,9,k[21]),D=c(D,E,B,C,A,14,k[22]),C=c(C,D,E,B,p,20,k[23]),B=c(B,C,D,E,u,5,k[24]),E=c(E,B,C,D,z,9,k[25]),D=c(D,E,B,C,o,14,k[26]),C=c(C,D,E,B,t,20,k[27]),B=c(B,C,D,E,y,5,k[28]),E=c(E,B,C,D,n,9,k[29]),D=c(D,E,B,C,s,14,k[30]),C=c(C,D,E,B,x,20,k[31]),B=d(B,C,D,E,q,4,k[32]),E=d(E,B,C,D,t,11,k[33]),D=d(D,E,B,C,w,16,k[34]),C=d(C,D,E,B,z,23,k[35]),B=d(B,C,D,E,m,4,k[36]),E=d(E,B,C,D,p,11,k[37]),D=d(D,E,B,C,s,16,k[38]),C=d(C,D,E,B,v,23,k[39]),B=d(B,C,D,E,y,4,k[40]),E=d(E,B,C,D,l,11,k[41]),D=d(D,E,B,C,o,16,k[42]),C=d(C,D,E,B,r,23,k[43]),B=d(B,C,D,E,u,4,k[44]),E=d(E,B,C,D,x,11,k[45]),D=d(D,E,B,C,A,16,k[46]),C=d(C,D,E,B,n,23,k[47]),B=e(B,C,D,E,l,6,k[48]),E=e(E,B,C,D,s,10,k[49]),D=e(D,E,B,C,z,15,k[50]),C=e(C,D,E,B,q,21,k[51]),B=e(B,C,D,E,x,6,k[52]),E=e(E,B,C,D,o,10,k[53]),D=e(D,E,B,C,v,15,k[54]),C=e(C,D,E,B,m,21,k[55]),B=e(B,C,D,E,t,6,k[56]),E=e(E,B,C,D,A,10,k[57]),D=e(D,E,B,C,r,15,k[58]),C=e(C,D,E,B,y,21,k[59]),B=e(B,C,D,E,p,6,k[60]),E=e(E,B,C,D,w,10,k[61]),D=e(D,E,B,C,n,15,k[62]),C=e(C,D,E,B,u,21,k[63]),j[0]=j[0]+B|0,j[1]=j[1]+C|0,j[2]=j[2]+D|0,j[3]=j[3]+E|0},_doFinalize:function(){var b=this._data,c=b.words,d=8*this._nDataBytes,e=8*b.sigBytes;c[e>>>5]|=128<<24-e%32;var f=a.floor(d/4294967296),g=d;c[(e+64>>>9<<4)+15]=16711935&(f<<8|f>>>24)|4278255360&(f<<24|f>>>8),c[(e+64>>>9<<4)+14]=16711935&(g<<8|g>>>24)|4278255360&(g<<24|g>>>8),b.sigBytes=4*(c.length+1),this._process();for(var h=this._hash,i=h.words,j=0;4>j;j++){var k=i[j];i[j]=16711935&(k<<8|k>>>24)|4278255360&(k<<24|k>>>8)}return h},clone:function(){var a=i.clone.call(this);return a._hash=this._hash.clone(),a}});f.MD5=i._createHelper(l),f.HmacMD5=i._createHmacHelper(l)}(Math),function(){var a=CryptoJS,b=a.lib,c=b.Base,d=b.WordArray,e=a.algo,f=e.MD5,g=e.EvpKDF=c.extend({cfg:c.extend({keySize:4,hasher:f,iterations:1}),init:function(a){this.cfg=this.cfg.extend(a)},compute:function(a,b){for(var c=this.cfg,e=c.hasher.create(),f=d.create(),g=f.words,h=c.keySize,i=c.iterations;g.length<h;){j&&e.update(j);var j=e.update(a).finalize(b);e.reset();for(var k=1;i>k;k++)j=e.finalize(j),e.reset();f.concat(j)}return f.sigBytes=4*h,f}});a.EvpKDF=function(a,b,c){return g.create(c).compute(a,b)}}(),CryptoJS.lib.Cipher||function(a){var b=CryptoJS,c=b.lib,d=c.Base,e=c.WordArray,f=c.BufferedBlockAlgorithm,g=b.enc,h=(g.Utf8,g.Base64),i=b.algo,j=i.EvpKDF,k=c.Cipher=f.extend({cfg:d.extend(),createEncryptor:function(a,b){return this.create(this._ENC_XFORM_MODE,a,b)},createDecryptor:function(a,b){return this.create(this._DEC_XFORM_MODE,a,b)},init:function(a,b,c){this.cfg=this.cfg.extend(c),this._xformMode=a,this._key=b,this.reset()},reset:function(){f.reset.call(this),this._doReset()},process:function(a){return this._append(a),this._process()},finalize:function(a){a&&this._append(a);var b=this._doFinalize();return b},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function a(a){return"string"==typeof a?w:t}return function(b){return{encrypt:function(c,d,e){return a(d).encrypt(b,c,d,e)},decrypt:function(c,d,e){return a(d).decrypt(b,c,d,e)}}}}()}),l=(c.StreamCipher=k.extend({_doFinalize:function(){var a=this._process(!0);return a},blockSize:1}),b.mode={}),m=c.BlockCipherMode=d.extend({createEncryptor:function(a,b){return this.Encryptor.create(a,b)},createDecryptor:function(a,b){return this.Decryptor.create(a,b)},init:function(a,b){this._cipher=a,this._iv=b}}),n=l.CBC=function(){function b(b,c,d){var e=this._iv;if(e){var f=e;this._iv=a}else var f=this._prevBlock;for(var g=0;d>g;g++)b[c+g]^=f[g]}var c=m.extend();return c.Encryptor=c.extend({processBlock:function(a,c){var d=this._cipher,e=d.blockSize;b.call(this,a,c,e),d.encryptBlock(a,c),this._prevBlock=a.slice(c,c+e)}}),c.Decryptor=c.extend({processBlock:function(a,c){var d=this._cipher,e=d.blockSize,f=a.slice(c,c+e);d.decryptBlock(a,c),b.call(this,a,c,e),this._prevBlock=f}}),c}(),o=b.pad={},p=o.Pkcs7={pad:function(a,b){for(var c=4*b,d=c-a.sigBytes%c,f=d<<24|d<<16|d<<8|d,g=[],h=0;d>h;h+=4)g.push(f);var i=e.create(g,d);a.concat(i)},unpad:function(a){var b=255&a.words[a.sigBytes-1>>>2];a.sigBytes-=b}},q=(c.BlockCipher=k.extend({cfg:k.cfg.extend({mode:n,padding:p}),reset:function(){k.reset.call(this);var a=this.cfg,b=a.iv,c=a.mode;if(this._xformMode==this._ENC_XFORM_MODE)var d=c.createEncryptor;else{var d=c.createDecryptor;this._minBufferSize=1}this._mode=d.call(c,this,b&&b.words)},_doProcessBlock:function(a,b){this._mode.processBlock(a,b)},_doFinalize:function(){var a=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){a.pad(this._data,this.blockSize);var b=this._process(!0)}else{var b=this._process(!0);a.unpad(b)}return b},blockSize:4}),c.CipherParams=d.extend({init:function(a){this.mixIn(a)},toString:function(a){return(a||this.formatter).stringify(this)}})),r=b.format={},s=r.OpenSSL={stringify:function(a){var b=a.ciphertext,c=a.salt;if(c)var d=e.create([1398893684,1701076831]).concat(c).concat(b);else var d=b;return d.toString(h)},parse:function(a){var b=h.parse(a),c=b.words;if(1398893684==c[0]&&1701076831==c[1]){var d=e.create(c.slice(2,4));c.splice(0,4),b.sigBytes-=16}return q.create({ciphertext:b,salt:d})}},t=c.SerializableCipher=d.extend({cfg:d.extend({format:s}),encrypt:function(a,b,c,d){d=this.cfg.extend(d);var e=a.createEncryptor(c,d),f=e.finalize(b),g=e.cfg;return q.create({ciphertext:f,key:c,iv:g.iv,algorithm:a,mode:g.mode,padding:g.padding,blockSize:a.blockSize,formatter:d.format})},decrypt:function(a,b,c,d){d=this.cfg.extend(d),b=this._parse(b,d.format);var e=a.createDecryptor(c,d).finalize(b.ciphertext);return e},_parse:function(a,b){return"string"==typeof a?b.parse(a,this):a}}),u=b.kdf={},v=u.OpenSSL={execute:function(a,b,c,d){d||(d=e.random(8));var f=j.create({keySize:b+c}).compute(a,d),g=e.create(f.words.slice(b),4*c);return f.sigBytes=4*b,q.create({key:f,iv:g,salt:d})}},w=c.PasswordBasedCipher=t.extend({cfg:t.cfg.extend({kdf:v}),encrypt:function(a,b,c,d){d=this.cfg.extend(d);var e=d.kdf.execute(c,a.keySize,a.ivSize);d.iv=e.iv;var f=t.encrypt.call(this,a,b,e.key,d);return f.mixIn(e),f},decrypt:function(a,b,c,d){d=this.cfg.extend(d),b=this._parse(b,d.format);var e=d.kdf.execute(c,a.keySize,a.ivSize,b.salt);d.iv=e.iv;var f=t.decrypt.call(this,a,b,e.key,d);return f}})}(),function(){var a=CryptoJS,b=a.lib,c=b.BlockCipher,d=a.algo,e=[],f=[],g=[],h=[],i=[],j=[],k=[],l=[],m=[],n=[];!function(){for(var a=[],b=0;256>b;b++)128>b?a[b]=b<<1:a[b]=b<<1^283;for(var c=0,d=0,b=0;256>b;b++){var o=d^d<<1^d<<2^d<<3^d<<4;o=o>>>8^255&o^99,e[c]=o,f[o]=c;var p=a[c],q=a[p],r=a[q],s=257*a[o]^16843008*o;g[c]=s<<24|s>>>8,h[c]=s<<16|s>>>16,i[c]=s<<8|s>>>24,j[c]=s;var s=16843009*r^65537*q^257*p^16843008*c;k[o]=s<<24|s>>>8,l[o]=s<<16|s>>>16,m[o]=s<<8|s>>>24,n[o]=s,c?(c=p^a[a[a[r^p]]],d^=a[a[d]]):c=d=1}}();var o=[0,1,2,4,8,16,32,64,128,27,54],p=d.AES=c.extend({_doReset:function(){for(var a=this._key,b=a.words,c=a.sigBytes/4,d=this._nRounds=c+6,f=4*(d+1),g=this._keySchedule=[],h=0;f>h;h++)if(c>h)g[h]=b[h];else{var i=g[h-1];h%c?c>6&&h%c==4&&(i=e[i>>>24]<<24|e[i>>>16&255]<<16|e[i>>>8&255]<<8|e[255&i]):(i=i<<8|i>>>24,i=e[i>>>24]<<24|e[i>>>16&255]<<16|e[i>>>8&255]<<8|e[255&i],i^=o[h/c|0]<<24),g[h]=g[h-c]^i}for(var j=this._invKeySchedule=[],p=0;f>p;p++){var h=f-p;if(p%4)var i=g[h];else var i=g[h-4];4>p||4>=h?j[p]=i:j[p]=k[e[i>>>24]]^l[e[i>>>16&255]]^m[e[i>>>8&255]]^n[e[255&i]]}},encryptBlock:function(a,b){this._doCryptBlock(a,b,this._keySchedule,g,h,i,j,e)},decryptBlock:function(a,b){var c=a[b+1];a[b+1]=a[b+3],a[b+3]=c,this._doCryptBlock(a,b,this._invKeySchedule,k,l,m,n,f);var c=a[b+1];a[b+1]=a[b+3],a[b+3]=c},_doCryptBlock:function(a,b,c,d,e,f,g,h){for(var i=this._nRounds,j=a[b]^c[0],k=a[b+1]^c[1],l=a[b+2]^c[2],m=a[b+3]^c[3],n=4,o=1;i>o;o++){var p=d[j>>>24]^e[k>>>16&255]^f[l>>>8&255]^g[255&m]^c[n++],q=d[k>>>24]^e[l>>>16&255]^f[m>>>8&255]^g[255&j]^c[n++],r=d[l>>>24]^e[m>>>16&255]^f[j>>>8&255]^g[255&k]^c[n++],s=d[m>>>24]^e[j>>>16&255]^f[k>>>8&255]^g[255&l]^c[n++];j=p,k=q,l=r,m=s}var p=(h[j>>>24]<<24|h[k>>>16&255]<<16|h[l>>>8&255]<<8|h[255&m])^c[n++],q=(h[k>>>24]<<24|h[l>>>16&255]<<16|h[m>>>8&255]<<8|h[255&j])^c[n++],r=(h[l>>>24]<<24|h[m>>>16&255]<<16|h[j>>>8&255]<<8|h[255&k])^c[n++],s=(h[m>>>24]<<24|h[j>>>16&255]<<16|h[k>>>8&255]<<8|h[255&l])^c[n++];a[b]=p,a[b+1]=q,a[b+2]=r,a[b+3]=s},keySize:8});a.AES=c._createHelper(p)}(),function(){var a=CryptoJS,b=a.lib,c=b.WordArray,d=b.Hasher,e=a.algo,f=[],g=e.SHA1=d.extend({_doReset:function(){this._hash=new c.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(a,b){for(var c=this._hash.words,d=c[0],e=c[1],g=c[2],h=c[3],i=c[4],j=0;80>j;j++){if(16>j)f[j]=0|a[b+j];else{var k=f[j-3]^f[j-8]^f[j-14]^f[j-16];f[j]=k<<1|k>>>31}var l=(d<<5|d>>>27)+i+f[j];l+=20>j?(e&g|~e&h)+1518500249:40>j?(e^g^h)+1859775393:60>j?(e&g|e&h|g&h)-1894007588:(e^g^h)-899497514,i=h,h=g,g=e<<30|e>>>2,e=d,d=l}c[0]=c[0]+d|0,c[1]=c[1]+e|0,c[2]=c[2]+g|0,c[3]=c[3]+h|0,c[4]=c[4]+i|0},_doFinalize:function(){var a=this._data,b=a.words,c=8*this._nDataBytes,d=8*a.sigBytes;return b[d>>>5]|=128<<24-d%32,b[(d+64>>>9<<4)+14]=Math.floor(c/4294967296),b[(d+64>>>9<<4)+15]=c,a.sigBytes=4*b.length,this._process(),this._hash},clone:function(){var a=d.clone.call(this);return a._hash=this._hash.clone(),a}});a.SHA1=d._createHelper(g),a.HmacSHA1=d._createHmacHelper(g)}(),function(a){var b=CryptoJS,c=b.lib,d=c.WordArray,e=c.Hasher,f=b.algo,g=[],h=[];!function(){function b(b){for(var c=a.sqrt(b),d=2;c>=d;d++)if(!(b%d))return!1;return!0}function c(a){return 4294967296*(a-(0|a))|0}for(var d=2,e=0;64>e;)b(d)&&(8>e&&(g[e]=c(a.pow(d,.5))),h[e]=c(a.pow(d,1/3)),e++),d++}();var i=[],j=f.SHA256=e.extend({_doReset:function(){this._hash=new d.init(g.slice(0))},_doProcessBlock:function(a,b){for(var c=this._hash.words,d=c[0],e=c[1],f=c[2],g=c[3],j=c[4],k=c[5],l=c[6],m=c[7],n=0;64>n;n++){if(16>n)i[n]=0|a[b+n];else{var o=i[n-15],p=(o<<25|o>>>7)^(o<<14|o>>>18)^o>>>3,q=i[n-2],r=(q<<15|q>>>17)^(q<<13|q>>>19)^q>>>10;i[n]=p+i[n-7]+r+i[n-16]}var s=j&k^~j&l,t=d&e^d&f^e&f,u=(d<<30|d>>>2)^(d<<19|d>>>13)^(d<<10|d>>>22),v=(j<<26|j>>>6)^(j<<21|j>>>11)^(j<<7|j>>>25),w=m+v+s+h[n]+i[n],x=u+t;m=l,l=k,k=j,j=g+w|0,g=f,f=e,e=d,d=w+x|0}c[0]=c[0]+d|0,c[1]=c[1]+e|0,c[2]=c[2]+f|0,c[3]=c[3]+g|0,c[4]=c[4]+j|0,c[5]=c[5]+k|0,c[6]=c[6]+l|0,c[7]=c[7]+m|0},_doFinalize:function(){var b=this._data,c=b.words,d=8*this._nDataBytes,e=8*b.sigBytes;return c[e>>>5]|=128<<24-e%32,c[(e+64>>>9<<4)+14]=a.floor(d/4294967296),c[(e+64>>>9<<4)+15]=d,b.sigBytes=4*c.length,this._process(),this._hash},clone:function(){var a=e.clone.call(this);return a._hash=this._hash.clone(),a}});b.SHA256=e._createHelper(j),b.HmacSHA256=e._createHmacHelper(j)}(Math),function(){var a=CryptoJS,b=a.lib,c=b.Base,d=a.enc,e=d.Utf8,f=a.algo;f.HMAC=c.extend({init:function(a,b){a=this._hasher=new a.init,"string"==typeof b&&(b=e.parse(b));var c=a.blockSize,d=4*c;b.sigBytes>d&&(b=a.finalize(b)),b.clamp();for(var f=this._oKey=b.clone(),g=this._iKey=b.clone(),h=f.words,i=g.words,j=0;c>j;j++)h[j]^=1549556828,i[j]^=909522486;f.sigBytes=g.sigBytes=d,this.reset()},reset:function(){var a=this._hasher;a.reset(),a.update(this._iKey)},update:function(a){return this._hasher.update(a),this},finalize:function(a){var b=this._hasher,c=b.finalize(a);b.reset();var d=b.finalize(this._oKey.clone().concat(c));return d}})}(),CryptoJS.pad.NoPadding={pad:function(){},unpad:function(){}},CryptoJS.mode.CTR=function(){var a=CryptoJS.lib.BlockCipherMode.extend(),b=a.Encryptor=a.extend({processBlock:function(a,b){var c=this._cipher,d=c.blockSize,e=this._iv,f=this._counter;e&&(f=this._counter=e.slice(0),this._iv=void 0);var g=f.slice(0);c.encryptBlock(g,0),f[d-1]=f[d-1]+1|0;for(var h=0;d>h;h++)a[b+h]^=g[h]}});return a.Decryptor=b,a}(),function(){"use strict";function a(){}function b(a,b){for(var c=a.length;c--;)if(a[c].listener===b)return c;return-1}function c(a){return function(){return this[a].apply(this,arguments)}}var d=a.prototype;d.getListeners=function(a){var b,c,d=this._getEvents();if("object"==typeof a){b={};for(c in d)d.hasOwnProperty(c)&&a.test(c)&&(b[c]=d[c])}else b=d[a]||(d[a]=[]);return b},d.flattenListeners=function(a){var b,c=[];for(b=0;b<a.length;b+=1)c.push(a[b].listener);return c},d.getListenersAsObject=function(a){var b,c=this.getListeners(a);return c instanceof Array&&(b={},b[a]=c),b||c},d.addListener=function(a,c){var d,e=this.getListenersAsObject(a),f="object"==typeof c;for(d in e)e.hasOwnProperty(d)&&-1===b(e[d],c)&&e[d].push(f?c:{listener:c,once:!1});return this},d.on=c("addListener"),d.addOnceListener=function(a,b){return this.addListener(a,{listener:b,once:!0})},d.once=c("addOnceListener"),d.defineEvent=function(a){return this.getListeners(a),this},d.defineEvents=function(a){for(var b=0;b<a.length;b+=1)this.defineEvent(a[b]);return this},d.removeListener=function(a,c){var d,e,f=this.getListenersAsObject(a);for(e in f)f.hasOwnProperty(e)&&(d=b(f[e],c),-1!==d&&f[e].splice(d,1));return this},d.off=c("removeListener"),d.addListeners=function(a,b){return this.manipulateListeners(!1,a,b)},d.removeListeners=function(a,b){return this.manipulateListeners(!0,a,b)},d.manipulateListeners=function(a,b,c){var d,e,f=a?this.removeListener:this.addListener,g=a?this.removeListeners:this.addListeners;if("object"!=typeof b||b instanceof RegExp)for(d=c.length;d--;)f.call(this,b,c[d]);else for(d in b)b.hasOwnProperty(d)&&(e=b[d])&&("function"==typeof e?f.call(this,d,e):g.call(this,d,e));return this},d.removeEvent=function(a){var b,c=typeof a,d=this._getEvents();if("string"===c)delete d[a];else if("object"===c)for(b in d)d.hasOwnProperty(b)&&a.test(b)&&delete d[b];else delete this._events;return this},d.emitEvent=function(a,b){var c,d,e,f,g=this.getListenersAsObject(a);for(e in g)if(g.hasOwnProperty(e))for(d=g[e].length;d--;)c=g[e][d],c.once===!0&&this.removeListener(a,c.listener),f=c.listener.apply(this,b||[]),f===this._getOnceReturnValue()&&this.removeListener(a,c.listener);return this},d.trigger=c("emitEvent"),d.emit=function(a){var b=Array.prototype.slice.call(arguments,1);return this.emitEvent(a,b)},d.setOnceReturnValue=function(a){return this._onceReturnValue=a,this},d._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},d._getEvents=function(){return this._events||(this._events={})},"function"==typeof define&&define.amd?define(function(){return a}):"object"==typeof module&&module.exports?module.exports=a:this.EventEmitter=a}.call(this),function(a,b){"function"==typeof define&&define.amd?define(["jquery","jquery.browser","bigint","crypto","eventemitter"],function(a,c,d,e,f){if(a.browser.msie)return void 0;var g={BigInt:d,CryptoJS:e,EventEmitter:f,OTR:{},DSA:{}};return b.call(g)}):(a.OTR={},a.DSA={},b.call(a))}(this,function(){return function(){"use strict";var a=this,b={N:"FFFFFFFFFFFFFFFFC90FDAA22168C234C4C6628B80DC1CD129024E088A67CC74020BBEA63B139B22514A08798E3404DDEF9519B3CD3A431B302B0A6DF25F14374FE1356D6D51C245E485B576625E7EC6F44C42E9A637ED6B0BFF5CB6F406B7EDEE386BFB5A899FA5AE9F24117C4B1FE649286651ECE45B3DC2007CB8A163BF0598DA48361C55D39A69163FA8FD24CF5F83655D23DCA3AD961C62F356208552BB9ED529077096966D670C354E4ABC9804F1746C08CA237327FFFFFFFFFFFFFFFF",G:"2",MSGSTATE_PLAINTEXT:0,MSGSTATE_ENCRYPTED:1,MSGSTATE_FINISHED:2,AUTHSTATE_NONE:0,AUTHSTATE_AWAITING_DHKEY:1,AUTHSTATE_AWAITING_REVEALSIG:2,AUTHSTATE_AWAITING_SIG:3,WHITESPACE_TAG:" 	  				 	 	 	  ",WHITESPACE_TAG_V2:"  		  	 ",WHITESPACE_TAG_V3:"  		  		",OTR_TAG:"?OTR",OTR_VERSION_1:"\x00",OTR_VERSION_2:"\x00",OTR_VERSION_3:"\x00",SMPSTATE_EXPECT0:0,SMPSTATE_EXPECT1:1,SMPSTATE_EXPECT2:2,SMPSTATE_EXPECT3:3,SMPSTATE_EXPECT4:4,STATUS_SEND_QUERY:0,STATUS_AKE_INIT:1,STATUS_AKE_SUCCESS:2,STATUS_END_OTR:3};"undefined"!=typeof module&&module.exports?module.exports=b:a.OTR.CONST=b}.call(this),function(){"use strict";var a,b,c=this,d={};"undefined"!=typeof module&&module.exports?(module.exports=d={},a=require("../vendor/crypto.js"),b=require("../vendor/bigint.js")):(c.OTR&&(c.OTR.HLP=d),c.DSA&&(c.DSA.HLP=d),a=c.CryptoJS,b=c.BigInt);var e={BYTE:1,SHORT:2,INT:4,CTR:8,MAC:20,SIG:40},f="?OTR",g=".",h=b.str2bigInt("2",10);d.debug=function(a){this.debug&&"function"!=typeof this.debug&&"undefined"!=typeof console&&console.log(a)},d.extend=function(a,b){function c(){this.constructor=a}for(var d in b)Object.hasOwnProperty.call(b,d)&&(a[d]=b[d]);c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype},d.compare=function(a,b){if(a.length!==b.length)return!1;for(var c=0,d=0;c<a.length;c++)d|=a[c].charCodeAt(0)^b[c].charCodeAt(0);return 0===d},d.randomExponent=function(){return b.randBigInt(1536)},d.smpHash=function(b,c,f){var g=a.algo.SHA256.create();g.update(a.enc.Latin1.parse(d.packBytes(b,e.BYTE))),g.update(a.enc.Latin1.parse(d.packMPI(c))),f&&g.update(a.enc.Latin1.parse(d.packMPI(f)));var h=g.finalize();return d.bits2bigInt(h.toString(a.enc.Latin1))},d.makeMac=function(b,c){var e=a.enc.Latin1.parse(c),f=a.HmacSHA256(a.enc.Latin1.parse(b),e);return d.mask(f.toString(a.enc.Latin1),0,160)},d.make1Mac=function(b,c){var d=a.enc.Latin1.parse(c),e=a.HmacSHA1(a.enc.Latin1.parse(b),d);return e.toString(a.enc.Latin1)},d.encryptAes=function(b,c,d){var e={mode:a.mode.CTR,iv:a.enc.Latin1.parse(d),padding:a.pad.NoPadding},f=a.AES.encrypt(b,a.enc.Latin1.parse(c),e),g=a.enc.Base64.parse(f.toString());return a.enc.Latin1.stringify(g)},d.decryptAes=function(b,c,d){b=a.enc.Latin1.parse(b);var e={mode:a.mode.CTR,iv:a.enc.Latin1.parse(d),padding:a.pad.NoPadding};return a.AES.decrypt(a.enc.Base64.stringify(b),a.enc.Latin1.parse(c),e)},d.multPowMod=function(a,c,d,e,f){return b.multMod(b.powMod(a,c,f),b.powMod(d,e,f),f)},d.ZKP=function(a,c,e,f){return b.equals(c,d.smpHash(a,e,f))},d.GTOE=function(a,c){return b.equals(a,c)||b.greater(a,c)},d.between=function(a,c,d){return b.greater(a,c)&&b.greater(d,a)},d.checkGroup=function(a,b){return d.GTOE(a,h)&&d.GTOE(b,a)},d.h1=function(b,c){var d=a.algo.SHA1.create();return d.update(a.enc.Latin1.parse(b)),d.update(a.enc.Latin1.parse(c)),d.finalize().toString(a.enc.Latin1)},d.h2=function(b,c){var d=a.algo.SHA256.create();return d.update(a.enc.Latin1.parse(b)),d.update(a.enc.Latin1.parse(c)),d.finalize().toString(a.enc.Latin1)},d.mask=function(a,b,c){return a.substr(b/8,c/8)};var i=String.fromCharCode;d.packBytes=function(a,b){a=a.toString(16);for(var c,d="";b>0;b--)c=a.length?a.substr(-2,2):"0",a=a.substr(0,a.length-2),d=i(parseInt(c,16))+d;return d},d.packINT=function(a){return d.packBytes(a,e.INT)},d.packCtr=function(a){return d.padCtr(d.packBytes(a,e.CTR))},d.padCtr=function(a){return a+"\x00\x00\x00\x00\x00\x00\x00\x00"},d.unpackCtr=function(a){return a=d.toByteArray(a.substring(0,8)),d.unpack(a)},d.unpack=function(a){for(var b=0,c=0,d=a.length;d>c;c++)b=256*b+a[c];return b},d.packData=function(a){return d.packINT(a.length)+a},d.bits2bigInt=function(a){return a=d.toByteArray(a),b.ba2bigInt(a)},d.packMPI=function(a){return d.packData(b.bigInt2bits(b.trim(a,0)))},d.packSHORT=function(a){return d.packBytes(a,e.SHORT)},d.unpackSHORT=function(a){return a=d.toByteArray(a),d.unpack(a)},d.packTLV=function(a,b){return d.packSHORT(a)+d.packSHORT(b.length)+b},d.readLen=function(a){return a=d.toByteArray(a.substring(0,4)),d.unpack(a)},d.readData=function(a){var b=d.unpack(a.splice(0,4));return[b,a]},d.readMPI=function(a){return a=d.toByteArray(a),a=d.readData(a),b.ba2bigInt(a[1])},d.packMPIs=function(a){return a.reduce(function(a,b){return a+d.packMPI(b)},"")},d.unpackMPIs=function(a,b){for(var c=0,e=[];a>c;c++)e.push("MPI");return d.splitype(e,b).map(function(a){return d.readMPI(a)})},d.wrapMsg=function(b,c,e,h,i){b=a.enc.Base64.stringify(a.enc.Latin1.parse(b)),b=f+":"+b+g;var j;if(e&&(j="|",j+=d.readLen(h).toString(16),j+="|",j+=d.readLen(i).toString(16)),!c)return[null,b];var k=Math.ceil(b.length/c);if(k>65535)return["Too many fragments"];if(1==k)return[null,b];var l,m,n,o,p,q=[];for(l=1;k>=l;l++)m=(l-1)*c,n=l*c,o=b.slice(m,n),p=f,e&&(p+=j),p+=","+l+",",p+=k+",",p+=o+",",q.push(p);return[null,q]},d.splitype=function k(a,b){var c=[];return a.forEach(function(a){var f;switch(a){case"PUBKEY":f=k(["SHORT","MPI","MPI","MPI","MPI"],b).join("");break;case"DATA":case"MPI":f=b.substring(0,d.readLen(b)+4);break;default:f=b.substring(0,e[a])}c.push(f),b=b.substring(f.length)}),c};var j=function(){for(var a=0,b={};256>a;++a)b[String.fromCharCode(a)]=a;for(a=128;256>a;++a)b[String.fromCharCode(63232+a)]=a;return b}();d.toByteArray=function(a){for(var b=[],c=a.split(""),d=-1,e=c.length,f=e%8;f--;)++d,b[d]=j[c[d]];for(f=e>>3;f--;)b.push(j[c[++d]],j[c[++d]],j[c[++d]],j[c[++d]],j[c[++d]],j[c[++d]],j[c[++d]],j[c[++d]]);return b}}.call(this),function(){"use strict";function a(){var a=(new Date).getTime();return function(b){if(r&&"undefined"!=typeof console){var c=(new Date).getTime();console.log(b+": "+(c-a)),a=c}}}function b(a,c){var d=i.randBigInt(i.bitSize(c));return l.between(d,a,c)?d:b(a,c)}function c(a,b){var c,d=3e4,e=i.bitSize(a),f=i.primes;for(0===f.length&&(f=i.findPrimes(d)),s.length!=a.length&&(s=i.dup(a)),c=0;c<f.length&&f[c]<=d;c++)if(0===i.modInt(a,f[c])&&!i.equalsInt(a,f[c]))return 0;for(c=0;b>c;c++){for(i.randBigInt_(s,e,0);!i.greater(a,s);)i.randBigInt_(s,e,0);if(!i.millerRabin(a,s))return 0}return 1}function d(b){for(var d,e,f,g,h=a(),j=t[b].repeat,k=t[b].N,l=i.twoToThe(b-1),m=4*b,n=!1;;)if(d=i.randBigInt(k,1),d[0]|=1,c(d,j)){for(h("q"),g=0;m>g;g++)if(e=i.randBigInt(b,1),e[0]|=1,f=i.mod(e,d),f=i.sub(f,o),e=i.sub(e,f),!i.greater(l,e)&&c(e,j)){h("p"),u[b]={p:e,q:d},n=!0;break}if(n)break}for(var q,r=i.dup(p),s=i.sub(e,o),v=i.multMod(s,i.inverseMod(d,e),e);;){q=i.powMod(r,v,e);{if(!i.equals(q,o))return u[b].g=q,void h("g");r=i.add(r,o)}}throw new Error("Unreachable!")}function e(a,c){if(!(this instanceof e))return new e(a,c);if(c=c||{},a){var f=this;return["p","q","g","y","x"].forEach(function(b){f[b]=a[b]}),void(this.type=a.type||q)}var g=parseInt(c.bit_length?c.bit_length:1024,10);if(!t[g])throw new Error("Unsupported bit length.");u[g]||d(g),this.p=u[g].p,this.q=u[g].q,this.g=u[g].g,this.type=q,this.x=b(n,this.q),this.y=i.powMod(this.g,this.x,this.p),c.nocache&&(u[g]=null)}function f(a){var b,c;if(b=a.indexOf("("),c=a.lastIndexOf(")"),0>b||0>c)throw new Error("Malformed S-Expression");a=a.substring(b+1,c);var d=a.search(/\s/),e={type:a.substring(0,d),
val:[]};if(a=a.substring(d+1,c),b=a.indexOf("("),0>b)e.val.push(a);else for(var g,h,i,j;b>-1;){for(g=b+1,h=a.length,i=1,j=0;h>g&&i>j;g++)"("===a[g]&&i++,")"===a[g]&&j++;e.val.push(f(a.substring(b,++g))),a=a.substring(++g),b=a.indexOf("(")}return e}function g(a){if(!a.type)throw new Error("Parse error.");var b,c;return"privkeys"===a.type?(b=[],a.val.forEach(function(a){b.push(g(a))}),b):(b={},a.val.forEach(function(a){c=a.val[0],"string"==typeof c?0===c.indexOf("#")&&(c=c.substring(1,c.lastIndexOf("#")),c=i.str2bigInt(c,16)):c=g(a),b[a.type]=c}),b)}var h,i,j,k,l,m=this;"undefined"!=typeof module&&module.exports?(module.exports=e,h=require("../vendor/crypto.js"),i=require("../vendor/bigint.js"),k=require("path").join(__dirname,"/dsa-webworker.js"),l=require("./helpers.js")):(Object.keys(m.DSA).forEach(function(a){e[a]=m.DSA[a]}),m.DSA=e,h=m.CryptoJS,i=m.BigInt,j=m.Worker,k="dsa-webworker.js",l=e.HLP);var n=i.str2bigInt("0",10),o=i.str2bigInt("1",10),p=i.str2bigInt("2",10),q="\x00\x00",r=!1,s=[],t={1024:{N:160,repeat:40},2048:{N:224,repeat:56}},u={};e.prototype={constructor:e,packPublic:function(){var a=this.type;return a+=l.packMPI(this.p),a+=l.packMPI(this.q),a+=l.packMPI(this.g),a+=l.packMPI(this.y)},packPrivate:function(){var a=this.packPublic()+l.packMPI(this.x);return a=h.enc.Latin1.parse(a),a.toString(h.enc.Base64)},generateNonce:function(a){var b=i.bigInt2bits(i.trim(this.x,0)),c=i.bigInt2bits(i.randBigInt(256)),d=h.algo.SHA256.create();d.update(h.enc.Latin1.parse(b)),d.update(a),d.update(h.enc.Latin1.parse(c));var e=d.finalize();return e=l.bits2bigInt(e.toString(h.enc.Latin1)),i.rightShift_(e,256-i.bitSize(this.q)),l.between(e,n,this.q)?e:this.generateNonce(a)},sign:function(a){a=h.enc.Latin1.parse(a);for(var b,c=i.str2bigInt(a.toString(h.enc.Hex),16),d=n,e=n;i.isZero(e)||i.isZero(d);)b=this.generateNonce(a),d=i.mod(i.powMod(this.g,b,this.p),this.q),i.isZero(d)||(e=i.inverseMod(b,this.q),e=i.mult(e,i.add(c,i.mult(this.x,d))),e=i.mod(e,this.q));return[d,e]},fingerprint:function(){var a=this.packPublic();return this.type===q&&(a=a.substring(2)),a=h.enc.Latin1.parse(a),h.SHA1(a).toString(h.enc.Hex)}},e.parsePublic=function(a,b){var c=["SHORT","MPI","MPI","MPI","MPI"];b&&c.push("MPI"),a=l.splitype(c,a);var d={type:a[0],p:l.readMPI(a[1]),q:l.readMPI(a[2]),g:l.readMPI(a[3]),y:l.readMPI(a[4])};return b&&(d.x=l.readMPI(a[5])),new e(d)},e.parsePrivate=function(a,b){return b?g(f(a))[0]["private-key"].dsa:(a=h.enc.Base64.parse(a),a=a.toString(h.enc.Latin1),e.parsePublic(a,!0))},e.verify=function(a,b,c,d){if(!l.between(c,n,a.q)||!l.between(d,n,a.q))return!1;var e=h.enc.Latin1.parse(b);e=i.str2bigInt(e.toString(h.enc.Hex),16);var f=i.inverseMod(d,a.q),g=i.multMod(e,f,a.q),j=i.multMod(c,f,a.q);g=i.powMod(a.g,g,a.p),j=i.powMod(a.y,j,a.p);var k=i.mod(i.multMod(g,j,a.p),a.q);return i.equals(k,c)},e.createInWebWorker=function(a,b){var c={path:k,seed:i.getSeed};a&&"object"==typeof a&&Object.keys(a).forEach(function(b){c[b]=a[b]}),"undefined"!=typeof module&&module.exports&&(j=require("webworker-threads").Worker);var d=new j(c.path);d.onmessage=function(a){var c=a.data;switch(c.type){case"debug":if(!r||"undefined"==typeof console)return;console.log(c.val);break;case"data":d.terminate(),b(e.parsePrivate(c.val));break;default:throw new Error("Unrecognized type.")}},d.postMessage({seed:c.seed(),imports:c.imports,debug:r})}}.call(this),function(){"use strict";var a,b,c,d=this,e={};"undefined"!=typeof module&&module.exports?(module.exports=e,a=require("../vendor/crypto.js"),b=require("./const.js"),c=require("./helpers.js")):(d.OTR.Parse=e,a=d.CryptoJS,b=d.OTR.CONST,c=d.OTR.HLP);var f={};f[b.WHITESPACE_TAG_V2]=b.OTR_VERSION_2,f[b.WHITESPACE_TAG_V3]=b.OTR_VERSION_3,e.parseMsg=function(d,e){var g=[],h=e.indexOf(b.OTR_TAG);if(!~h){if(this.initFragment(d),k=e.indexOf(b.WHITESPACE_TAG),~k){e=e.split(""),e.splice(k,16);for(var i,j=e.length;j>k;)i=e.slice(k,k+8).join(""),Object.hasOwnProperty.call(f,i)?(e.splice(k,8),g.push(f[i])):k+=8;e=e.join("")}return{msg:e,ver:g}}var k=h+b.OTR_TAG.length,l=e[k];if(","===l||"|"===l)return this.msgFragment(d,e.substring(k+1),"|"===l);if(this.initFragment(d),~["?","v"].indexOf(l)){"?"===e[k]&&(g.push(b.OTR_VERSION_1),k+=1);var m={2:b.OTR_VERSION_2,3:b.OTR_VERSION_3},n=e.substring(k+1),o=n.indexOf("?");return o>=1&&(n=n.substring(0,o).split(""),"v"===e[k]&&n.forEach(function(a){Object.hasOwnProperty.call(m,a)&&g.push(m[a])})),{cls:"query",ver:g}}if(":"===l){k+=1;var p=e.substring(k,k+4);if(p.length<4)return{msg:e};p=a.enc.Base64.parse(p).toString(a.enc.Latin1);var q=p.substring(0,2),r=p.substring(2);if(!d["ALLOW_V"+c.unpackSHORT(q)])return{msg:e};k+=4;var s=e.substring(k).indexOf(".");if(!~s)return{msg:e};e=a.enc.Base64.parse(e.substring(k,k+s)),e=a.enc.Latin1.stringify(e);var t;q===b.OTR_VERSION_3&&(t=e.substring(0,8),e=e.substring(8));var u;return~["","\n","",""].indexOf(r)?u="ake":""===r&&(u="data"),{version:q,type:r,msg:e,cls:u,instance_tags:t}}return" Error:"===e.substring(k,k+7)?(d.ERROR_START_AKE&&d.sendQueryMsg(),{msg:e.substring(k+7),cls:"error"}):{msg:e}},e.initFragment=function(a){a.fragment={s:"",j:0,k:0}},e.msgFragment=function(a,b,d){if(b=b.split(","),d){var e=b.shift().split("|"),f=c.packINT(parseInt(e[0],16)),g=c.packINT(parseInt(e[1],16));if(a.checkInstanceTags(f+g))return}if(!(b.length<4||isNaN(parseInt(b[0],10))||isNaN(parseInt(b[1],10)))){var h=parseInt(b[0],10),i=parseInt(b[1],10);return b=b[2],h>i||0===i||0===h?void this.initFragment(a):(1===h?(this.initFragment(a),a.fragment={k:1,n:i,s:b}):i===a.fragment.n&&h===a.fragment.k+1?(a.fragment.s+=b,a.fragment.k+=1):this.initFragment(a),i===h?(b=a.fragment.s,this.initFragment(a),this.parseMsg(a,b)):void 0)}}}.call(this),function(){"use strict";function a(a,b,d,e,g){var h=c.enc.Latin1.parse(g),i=c.algo.HMAC.create(c.algo.SHA256,h);return i.update(c.enc.Latin1.parse(f.packMPI(a))),i.update(c.enc.Latin1.parse(f.packMPI(b))),i.update(c.enc.Latin1.parse(d)),i.update(c.enc.Latin1.parse(e)),i.finalize().toString(c.enc.Latin1)}function b(a){if(!(this instanceof b))return new b(a);this.otr=a,this.our_dh=a.our_old_dh,this.our_keyid=a.our_keyid-1,this.their_y=null,this.their_keyid=null,this.their_priv_pk=null,this.ssid=null,this.transmittedRS=!1,this.r=null;var c=this;["sendMsg"].forEach(function(a){c[a]=c[a].bind(c)})}var c,d,e,f,g,h=this;"undefined"!=typeof module&&module.exports?(module.exports=b,c=require("../vendor/crypto.js"),d=require("../vendor/bigint.js"),e=require("./const.js"),f=require("./helpers.js"),g=require("./dsa.js")):(h.OTR.AKE=b,c=h.CryptoJS,d=h.BigInt,e=h.OTR.CONST,f=h.OTR.HLP,g=h.DSA);var i=d.str2bigInt(e.N,16),j=d.sub(i,d.str2bigInt("2",10));b.prototype={constructor:b,createKeys:function(a){var b=d.powMod(a,this.our_dh.privateKey,i),c=f.packMPI(b);this.ssid=f.mask(f.h2("\x00",c),0,64);var e=f.h2("",c);this.c=f.mask(e,0,128),this.c_prime=f.mask(e,128,128),this.m1=f.h2("",c),this.m2=f.h2("",c),this.m1_prime=f.h2("",c),this.m2_prime=f.h2("",c)},verifySignMac:function(b,d,e,h,i,j,k,l){var m=f.makeMac(d,e);if(!f.compare(b,m))return["MACs do not match."];var n=f.decryptAes(d.substring(4),h,l);n=f.splitype(["PUBKEY","INT","SIG"],n.toString(c.enc.Latin1));var o=a(i,j,n[0],n[1],k),p=g.parsePublic(n[0]),q=f.bits2bigInt(n[2].substring(0,20)),r=f.bits2bigInt(n[2].substring(20));return g.verify(p,o,q,r)?[null,f.readLen(n[1]),p]:["Cannot verify signature of m."]},makeM:function(b,e,g,h){var i=this.otr.priv.packPublic(),j=f.packINT(this.our_keyid),k=a(this.our_dh.publicKey,b,i,j,e);k=this.otr.priv.sign(k);var l=i+j;l+=d.bigInt2bits(k[0],20),l+=d.bigInt2bits(k[1],20),l=c.enc.Latin1.parse(l);var m=f.packData(f.encryptAes(l,g,f.packCtr(0))),n=f.makeMac(m,h);return m+n},akeSuccess:function(a){return f.debug.call(this.otr,"success"),d.equals(this.their_y,this.our_dh.publicKey)?this.otr.error("equal keys - we have a problem.",!0):(this.otr.our_old_dh=this.our_dh,this.otr.their_priv_pk=this.their_priv_pk,this.their_keyid===this.otr.their_keyid&&d.equals(this.their_y,this.otr.their_y)||this.their_keyid===this.otr.their_keyid-1&&d.equals(this.their_y,this.otr.their_old_y)||(this.otr.their_y=this.their_y,this.otr.their_old_y=null,this.otr.their_keyid=this.their_keyid,this.otr.sessKeys[0]=[new this.otr.DHSession(this.otr.our_dh,this.otr.their_y),null],this.otr.sessKeys[1]=[new this.otr.DHSession(this.otr.our_old_dh,this.otr.their_y),null]),this.otr.ssid=this.ssid,this.otr.transmittedRS=this.transmittedRS,this.otr_version=a,this.otr.authstate=e.AUTHSTATE_NONE,this.otr.msgstate=e.MSGSTATE_ENCRYPTED,this.r=null,this.myhashed=null,this.dhcommit=null,this.encrypted=null,this.hashed=null,this.otr.trigger("status",[e.STATUS_AKE_SUCCESS]),void this.otr.sendStored())},handleAKE:function(a){var b,g,h,i=a.version;switch(a.type){case"":if(f.debug.call(this.otr,"d-h key message"),a=f.splitype(["DATA","DATA"],a.msg),this.otr.authstate===e.AUTHSTATE_AWAITING_DHKEY){var k=f.readMPI(this.myhashed),l=f.readMPI(a[1]);if(d.greater(k,l)){h="",b=this.dhcommit;break}this.our_dh=this.otr.dh(),this.otr.authstate=e.AUTHSTATE_NONE,this.r=null,this.myhashed=null}else this.otr.authstate===e.AUTHSTATE_AWAITING_SIG&&(this.our_dh=this.otr.dh());this.otr.authstate=e.AUTHSTATE_AWAITING_REVEALSIG,this.encrypted=a[0].substring(4),this.hashed=a[1].substring(4),h="\n",b=f.packMPI(this.our_dh.publicKey);break;case"\n":if(f.debug.call(this.otr,"reveal signature message"),a=f.splitype(["MPI"],a.msg),this.otr.authstate!==e.AUTHSTATE_AWAITING_DHKEY){if(this.otr.authstate!==e.AUTHSTATE_AWAITING_SIG)return;if(!d.equals(this.their_y,f.readMPI(a[0])))return}if(this.otr.authstate=e.AUTHSTATE_AWAITING_SIG,this.their_y=f.readMPI(a[0]),!f.checkGroup(this.their_y,j))return this.otr.error("Illegal g^y.",!0);this.createKeys(this.their_y),h="",b=f.packMPI(this.r),b+=this.makeM(this.their_y,this.m1,this.c,this.m2),this.m1=null,this.m2=null,this.c=null;break;case"":if(f.debug.call(this.otr,"signature message"),this.otr.authstate!==e.AUTHSTATE_AWAITING_REVEALSIG)return;a=f.splitype(["DATA","DATA","MAC"],a.msg),this.r=f.readMPI(a[0]);var m=c.enc.Hex.parse(d.bigInt2str(this.r,16));m=c.enc.Latin1.stringify(m);var n=f.decryptAes(this.encrypted,m,f.packCtr(0));n=n.toString(c.enc.Latin1),this.their_y=f.readMPI(n);var o=c.SHA256(c.enc.Latin1.parse(n));return f.compare(this.hashed,o.toString(c.enc.Latin1))?f.checkGroup(this.their_y,j)?(this.createKeys(this.their_y),g=this.verifySignMac(a[2],a[1],this.m2,this.c,this.their_y,this.our_dh.publicKey,this.m1,f.packCtr(0)),g[0]?this.otr.error(g[0],!0):(this.their_keyid=g[1],this.their_priv_pk=g[2],b=this.makeM(this.their_y,this.m1_prime,this.c_prime,this.m2_prime),this.m1=null,this.m2=null,this.m1_prime=null,this.m2_prime=null,this.c=null,this.c_prime=null,this.sendMsg(i,"",b),void this.akeSuccess(i))):this.otr.error("Illegal g^x.",!0):this.otr.error("Hashed g^x does not match.",!0);case"":if(f.debug.call(this.otr,"data message"),this.otr.authstate!==e.AUTHSTATE_AWAITING_SIG)return;return a=f.splitype(["DATA","MAC"],a.msg),g=this.verifySignMac(a[1],a[0],this.m2_prime,this.c_prime,this.their_y,this.our_dh.publicKey,this.m1_prime,f.packCtr(0)),g[0]?this.otr.error(g[0],!0):(this.their_keyid=g[1],this.their_priv_pk=g[2],this.m1_prime=null,this.m2_prime=null,this.c_prime=null,this.transmittedRS=!0,void this.akeSuccess(i));default:return}this.sendMsg(i,h,b)},sendMsg:function(a,b,c){var d=a+b,g=a===e.OTR_VERSION_3;return g&&(f.debug.call(this.otr,"instance tags"),d+=this.otr.our_instance_tag,d+=this.otr.their_instance_tag),d+=c,d=f.wrapMsg(d,this.otr.fragment_size,g,this.otr.our_instance_tag,this.otr.their_instance_tag),d[0]?this.otr.error(d[0]):void this.otr.io(d[1])},initiateAKE:function(a){f.debug.call(this.otr,"d-h commit message"),this.otr.trigger("status",[e.STATUS_AKE_INIT]),this.otr.authstate=e.AUTHSTATE_AWAITING_DHKEY;var b=f.packMPI(this.our_dh.publicKey);b=c.enc.Latin1.parse(b),this.r=d.randBigInt(128);var g=c.enc.Hex.parse(d.bigInt2str(this.r,16));g=c.enc.Latin1.stringify(g),this.myhashed=c.SHA256(b),this.myhashed=f.packData(this.myhashed.toString(c.enc.Latin1)),this.dhcommit=f.packData(f.encryptAes(b,g,f.packCtr(0))),this.dhcommit+=this.myhashed,this.sendMsg(a,"",this.dhcommit)}}}.call(this),function(){"use strict";function a(b){return this instanceof a?(this.version=1,this.our_fp=b.our_fp,this.their_fp=b.their_fp,this.ssid=b.ssid,this.debug=!!b.debug,void this.init()):new a(b)}var b,c,d,e,f,g=this;"undefined"!=typeof module&&module.exports?(module.exports=a,b=require("../vendor/crypto.js"),c=require("../vendor/bigint.js"),d=require("../vendor/eventemitter.js"),e=require("./const.js"),f=require("./helpers.js")):(g.OTR.SM=a,b=g.CryptoJS,c=g.BigInt,d=g.EventEmitter,e=g.OTR.CONST,f=g.OTR.HLP);var h=c.str2bigInt(e.G,10),i=c.str2bigInt(e.N,16),j=c.sub(i,c.str2bigInt("2",10)),k=c.sub(i,c.str2bigInt("1",10));c.divInt_(k,2),f.extend(a,d),a.prototype.init=function(){this.smpstate=e.SMPSTATE_EXPECT1,this.secret=null},a.prototype.makeSecret=function(a,c){var d=b.algo.SHA256.create();d.update(b.enc.Latin1.parse(f.packBytes(this.version,1))),d.update(b.enc.Hex.parse(a?this.our_fp:this.their_fp)),d.update(b.enc.Hex.parse(a?this.their_fp:this.our_fp)),d.update(b.enc.Latin1.parse(this.ssid)),d.update(b.enc.Latin1.parse(c));var e=d.finalize();this.secret=f.bits2bigInt(e.toString(b.enc.Latin1))},a.prototype.makeG2s=function(){this.a2=f.randomExponent(),this.a3=f.randomExponent(),this.g2a=c.powMod(h,this.a2,i),this.g3a=c.powMod(h,this.a3,i),f.checkGroup(this.g2a,j)&&f.checkGroup(this.g3a,j)||this.makeG2s()},a.prototype.computeGs=function(a,b){this.g2=c.powMod(a,this.a2,i),this.g3=c.powMod(b,this.a3,i)},a.prototype.computePQ=function(a){this.p=c.powMod(this.g3,a,i),this.q=f.multPowMod(h,a,this.g2,this.secret,i)},a.prototype.computeR=function(){this.r=c.powMod(this.QoQ,this.a3,i)},a.prototype.computeRab=function(a){return c.powMod(a,this.a3,i)},a.prototype.computeC=function(a,b){return f.smpHash(a,c.powMod(h,b,i))},a.prototype.computeD=function(a,b,d){return c.subMod(a,c.multMod(b,d,k),k)},a.prototype.handleSM=function(a){var d,g,k,l,m,n,o,p,q,r,s,t,u,v,w={2:e.SMPSTATE_EXPECT1,3:e.SMPSTATE_EXPECT2,4:e.SMPSTATE_EXPECT3,5:e.SMPSTATE_EXPECT4,7:e.SMPSTATE_EXPECT1};if(6===a.type)return this.init(),void this.trigger("abort");if(this.smpstate!==w[a.type])return this.abort();switch(this.smpstate){case e.SMPSTATE_EXPECT1:f.debug.call(this,"smp tlv 2");var x,y;return 7===a.type&&(x=a.msg.indexOf("\x00"),y=a.msg.substring(0,x),a.msg=a.msg.substring(x+1)),u=f.readLen(a.msg.substr(0,4)),6!==u?this.abort():(a=f.unpackMPIs(6,a.msg.substring(4)),f.checkGroup(a[0],j)&&f.checkGroup(a[3],j)&&f.ZKP(1,a[1],f.multPowMod(h,a[2],a[0],a[1],i))&&f.ZKP(2,a[4],f.multPowMod(h,a[5],a[3],a[4],i))?(this.g3ao=a[3],this.makeG2s(),g=f.randomExponent(),k=f.randomExponent(),this.c2=this.computeC(3,g),this.c3=this.computeC(4,k),this.d2=this.computeD(g,this.a2,this.c2),this.d3=this.computeD(k,this.a3,this.c3),this.computeGs(a[0],a[3]),this.smpstate=e.SMPSTATE_EXPECT0,y=b.enc.Latin1.parse(y).toString(b.enc.Utf8),void this.trigger("question",[y])):this.abort());case e.SMPSTATE_EXPECT2:if(f.debug.call(this,"smp tlv 3"),u=f.readLen(a.msg.substr(0,4)),11!==u)return this.abort();if(a=f.unpackMPIs(11,a.msg.substring(4)),!(f.checkGroup(a[0],j)&&f.checkGroup(a[3],j)&&f.checkGroup(a[6],j)&&f.checkGroup(a[7],j)))return this.abort();if(!f.ZKP(3,a[1],f.multPowMod(h,a[2],a[0],a[1],i)))return this.abort();if(!f.ZKP(4,a[4],f.multPowMod(h,a[5],a[3],a[4],i)))return this.abort();if(this.g3ao=a[3],this.computeGs(a[0],a[3]),m=f.multPowMod(this.g3,a[9],a[6],a[8],i),n=f.multPowMod(h,a[9],this.g2,a[10],i),n=c.multMod(n,c.powMod(a[7],a[8],i),i),!f.ZKP(5,a[8],m,n))return this.abort();var z=f.randomExponent();this.computePQ(z);var A=f.randomExponent(),B=f.randomExponent(),C=f.multPowMod(h,A,this.g2,B,i),D=f.smpHash(6,c.powMod(this.g3,A,i),C),E=this.computeD(A,z,D),F=this.computeD(B,this.secret,D);this.QoQ=c.divMod(this.q,a[7],i),this.PoP=c.divMod(this.p,a[6],i),this.computeR(),l=f.randomExponent(),r=c.powMod(this.QoQ,l,i),s=f.smpHash(7,c.powMod(h,l,i),r),t=this.computeD(l,this.a3,s),this.smpstate=e.SMPSTATE_EXPECT4,d=f.packINT(8)+f.packMPIs([this.p,this.q,D,E,F,this.r,s,t]),d=f.packTLV(4,d);break;case e.SMPSTATE_EXPECT3:if(f.debug.call(this,"smp tlv 4"),u=f.readLen(a.msg.substr(0,4)),8!==u)return this.abort();if(a=f.unpackMPIs(8,a.msg.substring(4)),!f.checkGroup(a[0],j)||!f.checkGroup(a[1],j)||!f.checkGroup(a[5],j))return this.abort();if(m=f.multPowMod(this.g3,a[3],a[0],a[2],i),n=f.multPowMod(h,a[3],this.g2,a[4],i),n=c.multMod(n,c.powMod(a[1],a[2],i),i),!f.ZKP(6,a[2],m,n))return this.abort();if(o=f.multPowMod(h,a[7],this.g3ao,a[6],i),this.QoQ=c.divMod(a[1],this.q,i),p=f.multPowMod(this.QoQ,a[7],a[5],a[6],i),!f.ZKP(7,a[6],o,p))return this.abort();this.computeR(),l=f.randomExponent(),r=c.powMod(this.QoQ,l,i),s=f.smpHash(8,c.powMod(h,l,i),r),t=this.computeD(l,this.a3,s),d=f.packINT(3)+f.packMPIs([this.r,s,t]),d=f.packTLV(5,d),q=this.computeRab(a[5]),v=!!c.equals(q,c.divMod(a[0],this.p,i)),this.trigger("trust",[v,"answered"]),this.init();break;case e.SMPSTATE_EXPECT4:return f.debug.call(this,"smp tlv 5"),u=f.readLen(a.msg.substr(0,4)),3!==u?this.abort():(a=f.unpackMPIs(3,a.msg.substring(4)),f.checkGroup(a[0],j)?(o=f.multPowMod(h,a[2],this.g3ao,a[1],i),p=f.multPowMod(this.QoQ,a[2],a[0],a[1],i),f.ZKP(8,a[1],o,p)?(q=this.computeRab(a[0]),v=!!c.equals(q,this.PoP),this.trigger("trust",[v,"asked"]),void this.init()):this.abort()):this.abort())}this.sendMsg(d)},a.prototype.sendMsg=function(a){this.trigger("send",[this.ssid,"\x00"+a])},a.prototype.rcvSecret=function(a,b){f.debug.call(this,"receive secret");var c,d=!1;this.smpstate===e.SMPSTATE_EXPECT0?c=this.answer:(c=this.initiate,d=!0),this.makeSecret(d,a),c.call(this,b)},a.prototype.answer=function(){f.debug.call(this,"smp answer");var a=f.randomExponent();this.computePQ(a);var b=f.randomExponent(),d=f.randomExponent(),g=f.multPowMod(h,b,this.g2,d,i),j=f.smpHash(5,c.powMod(this.g3,b,i),g),k=this.computeD(b,a,j),l=this.computeD(d,this.secret,j);this.smpstate=e.SMPSTATE_EXPECT3;var m=f.packINT(11)+f.packMPIs([this.g2a,this.c2,this.d2,this.g3a,this.c3,this.d3,this.p,this.q,j,k,l]);this.sendMsg(f.packTLV(3,m))},a.prototype.initiate=function(a){f.debug.call(this,"smp initiate"),this.smpstate!==e.SMPSTATE_EXPECT1&&this.abort(),this.makeG2s();var b=f.randomExponent(),c=f.randomExponent();this.c2=this.computeC(1,b),this.c3=this.computeC(2,c),this.d2=this.computeD(b,this.a2,this.c2),this.d3=this.computeD(c,this.a3,this.c3),this.smpstate=e.SMPSTATE_EXPECT2;var d="",g=2;a&&(d+=a,d+="\x00",g=7),d+=f.packINT(6)+f.packMPIs([this.g2a,this.c2,this.d2,this.g3a,this.c3,this.d3]),this.sendMsg(f.packTLV(g,d))},a.prototype.abort=function(){this.init(),this.sendMsg(f.packTLV(6,"")),this.trigger("abort")}}.call(this),function(){"use strict";function a(b){if(!(this instanceof a))return new a(b);if(b=b||{},b.priv&&!(b.priv instanceof l))throw new Error("Requires long-lived DSA key.");if(this.priv=b.priv?b.priv:new l,this.fragment_size=b.fragment_size||0,this.fragment_size<0)throw new Error("Fragment size must be a positive integer.");if(this.send_interval=b.send_interval||0,this.send_interval<0)throw new Error("Send interval must be a positive integer.");this.outgoing=[],this.our_instance_tag=b.instance_tag||a.makeInstanceTag(),this.debug=!!b.debug,this.smw=b.smw,this.init();var c=this;["sendMsg","receiveMsg"].forEach(function(a){c[a]=c[a].bind(c)}),d.call(this)}var b,c,d,e,f,g,h,i,j,k,l,m=this;"undefined"!=typeof module&&module.exports?(module.exports=a,b=require("../vendor/crypto.js"),c=require("../vendor/bigint.js"),d=require("../vendor/eventemitter.js"),f=require("path").join(__dirname,"/sm-webworker.js"),g=require("./const.js"),h=require("./helpers.js"),i=require("./parse.js"),j=require("./ake.js"),k=require("./sm.js"),l=require("./dsa.js"),a.CONST=g):(Object.keys(m.OTR).forEach(function(b){a[b]=m.OTR[b]}),m.OTR=a,b=m.CryptoJS,c=m.BigInt,d=m.EventEmitter,e=m.Worker,f="sm-webworker.js",g=a.CONST,h=a.HLP,i=a.Parse,j=a.AKE,k=a.SM,l=m.DSA);var n=c.str2bigInt(g.G,10),o=c.str2bigInt(g.N,16),p=Math.pow(2,53)-1,q=Math.pow(2,31)-1;h.extend(a,d),a.prototype.init=function(){this.msgstate=g.MSGSTATE_PLAINTEXT,this.authstate=g.AUTHSTATE_NONE,this.ALLOW_V2=!0,this.ALLOW_V3=!0,this.REQUIRE_ENCRYPTION=!1,this.SEND_WHITESPACE_TAG=!1,this.WHITESPACE_START_AKE=!1,this.ERROR_START_AKE=!1,i.initFragment(this),this.their_y=null,this.their_old_y=null,this.their_keyid=0,this.their_priv_pk=null,this.their_instance_tag="\x00\x00\x00\x00",this.our_dh=this.dh(),this.our_old_dh=this.dh(),this.our_keyid=2,this.sessKeys=[new Array(2),new Array(2)],this.storedMgs=[],this.oldMacKeys=[],this.sm=null,this._akeInit(),this.receivedPlaintext=!1},a.prototype._akeInit=function(){this.ake=new j(this),this.transmittedRS=!1,this.ssid=null},a.prototype._SMW=function(a,b){this.otr=a;var d={path:f,seed:c.getSeed};"object"==typeof a.smw&&Object.keys(a.smw).forEach(function(b){d[b]=a.smw[b]}),"undefined"!=typeof module&&module.exports&&(e=require("webworker-threads").Worker),this.worker=new e(d.path);var g=this;this.worker.onmessage=function(a){var b=a.data;b&&g.trigger(b.method,b.args)},this.worker.postMessage({type:"seed",seed:d.seed(),imports:d.imports}),this.worker.postMessage({type:"init",reqs:b})},h.extend(a.prototype._SMW,d),["handleSM","rcvSecret","abort"].forEach(function(b){a.prototype._SMW.prototype[b]=function(){this.worker.postMessage({type:"method",method:b,args:Array.prototype.slice.call(arguments,0)})}}),a.prototype._smInit=function(){var a={ssid:this.ssid,our_fp:this.priv.fingerprint(),their_fp:this.their_priv_pk.fingerprint(),debug:this.debug};this.smw?(this.sm&&this.sm.worker.terminate(),this.sm=new this._SMW(this,a)):this.sm=new k(a);var b=this;["trust","abort","question"].forEach(function(a){b.sm.on(a,function(){b.trigger("smp",[a].concat(Array.prototype.slice.call(arguments)))})}),this.sm.on("send",function(a,c){b.ssid===a&&(c=b.prepareMsg(c),b.io(c))})},a.prototype.io=function(a,b){a=[].concat(a).map(function(a){return{msg:a,meta:b}}),this.outgoing=this.outgoing.concat(a);var c=this;!function d(a){if(!a){if(!c.outgoing.length)return;var b=c.outgoing.shift();c.trigger("io",[b.msg,b.meta])}setTimeout(d,a?0:c.send_interval)}(!0)},a.prototype.dh=function(){var a={privateKey:c.randBigInt(320)};return a.publicKey=c.powMod(n,a.privateKey,o),a},a.prototype.DHSession=function r(a,d){if(!(this instanceof r))return new r(a,d);var e=c.powMod(d,a.privateKey,o),f=h.packMPI(e);this.id=h.mask(h.h2("\x00",f),0,64);var g=c.greater(a.publicKey,d),i=g?"":"",j=g?"":"";this.sendenc=h.mask(h.h1(i,f),0,128),this.sendmac=b.SHA1(b.enc.Latin1.parse(this.sendenc)),this.sendmac=this.sendmac.toString(b.enc.Latin1),this.rcvenc=h.mask(h.h1(j,f),0,128),this.rcvmac=b.SHA1(b.enc.Latin1.parse(this.rcvenc)),this.rcvmac=this.rcvmac.toString(b.enc.Latin1),this.rcvmacused=!1,this.extra_symkey=h.h2("Ã¿",f),this.send_counter=0,this.rcv_counter=0},a.prototype.rotateOurKeys=function(){var a=this;this.sessKeys[1].forEach(function(b){b&&b.rcvmacused&&a.oldMacKeys.push(b.rcvmac)}),this.our_old_dh=this.our_dh,this.our_dh=this.dh(),this.our_keyid+=1,this.sessKeys[1][0]=this.sessKeys[0][0],this.sessKeys[1][1]=this.sessKeys[0][1],this.sessKeys[0]=[this.their_y?new this.DHSession(this.our_dh,this.their_y):null,this.their_old_y?new this.DHSession(this.our_dh,this.their_old_y):null]},a.prototype.rotateTheirKeys=function(a){this.their_keyid+=1;var b=this;this.sessKeys.forEach(function(a){a[1]&&a[1].rcvmacused&&b.oldMacKeys.push(a[1].rcvmac)}),this.their_old_y=this.their_y,this.sessKeys[0][1]=this.sessKeys[0][0],this.sessKeys[1][1]=this.sessKeys[1][0],this.their_y=a,this.sessKeys[0][0]=new this.DHSession(this.our_dh,this.their_y),this.sessKeys[1][0]=new this.DHSession(this.our_old_dh,this.their_y)},a.prototype.prepareMsg=function(a,c){if(this.msgstate!==g.MSGSTATE_ENCRYPTED||0===this.their_keyid)return this.error("Not ready to encrypt.");var d=this.sessKeys[1][0];if(d.send_counter>=p)return this.error("Should have rekeyed by now.");d.send_counter+=1;var e=h.packCtr(d.send_counter),f=this.ake.otr_version+"",i=this.ake.otr_version===g.OTR_VERSION_3;if(i&&(f+=this.our_instance_tag,f+=this.their_instance_tag),f+="\x00",f+=h.packINT(this.our_keyid-1),f+=h.packINT(this.their_keyid),f+=h.packMPI(this.our_dh.publicKey),f+=e.substring(0,8),Math.ceil(a.length/8)>=q)return this.error("Message is too long.");var j=h.encryptAes(b.enc.Latin1.parse(a),d.sendenc,e);return f+=h.packData(j),f+=h.make1Mac(f,d.sendmac),f+=h.packData(this.oldMacKeys.splice(0).join("")),f=h.wrapMsg(f,this.fragment_size,i,this.our_instance_tag,this.their_instance_tag),f[0]?this.error(f[0]):(c&&this.trigger("file",["send",d.extra_symkey,c]),f[1])},a.prototype.handleDataMsg=function(a){var c=a.version+a.type;this.ake.otr_version===g.OTR_VERSION_3&&(c+=a.instance_tags);var d=["BYTE","INT","INT","MPI","CTR","DATA","MAC","DATA"];a=h.splitype(d,a.msg);var e=""===a[0];if(this.msgstate!==g.MSGSTATE_ENCRYPTED||8!==a.length)return void(e||this.error("Received an unreadable encrypted message.",!0));var f=this.our_keyid-h.readLen(a[2]),i=this.their_keyid-h.readLen(a[1]);if(0>f||f>1)return void(e||this.error("Not of our latest keys.",!0));if(0>i||i>1)return void(e||this.error("Not of your latest keys.",!0));var j=i?this.their_old_y:this.their_y;if(1===i&&!j)return void(e||this.error("Do not have that key."));var k=this.sessKeys[f][i],l=h.unpackCtr(a[4]);if(l<=k.rcv_counter)return void(e||this.error("Counter in message is not larger."));k.rcv_counter=l,c+=a.slice(0,6).join("");var m=h.make1Mac(c,k.rcvmac);if(!h.compare(a[6],m))return void(e||this.error("MACs do not match."));k.rcvmacused=!0;var n=h.decryptAes(a[5].substring(4),k.rcvenc,h.padCtr(a[4]));n=n.toString(b.enc.Latin1),f||this.rotateOurKeys(),i||this.rotateTheirKeys(h.readMPI(a[3]));var o=n.indexOf("\x00");return~o&&(this.handleTLVs(n.substring(o+1),k),n=n.substring(0,o)),n=b.enc.Latin1.parse(n),n.toString(b.enc.Utf8)},a.prototype.handleTLVs=function(a,c){for(var d,e,f;a.length&&(d=h.unpackSHORT(a.substr(0,2)),e=h.unpackSHORT(a.substr(2,2)),f=a.substr(4,e),!(f.length<e));){switch(d){case 1:this.msgstate=g.MSGSTATE_FINISHED,this.trigger("status",[g.STATUS_END_OTR]);break;case 2:case 3:case 4:case 5:case 6:case 7:if(this.msgstate!==g.MSGSTATE_ENCRYPTED)return void(this.sm&&this.sm.abort());this.sm||this._smInit(),this.sm.handleSM({msg:f,type:d});break;case 8:f=f.substring(4),f=b.enc.Latin1.parse(f),f=f.toString(b.enc.Utf8),this.trigger("file",["receive",c.extra_symkey,f])}a=a.substring(4+e)}},a.prototype.smpSecret=function(a,c){return this.msgstate!==g.MSGSTATE_ENCRYPTED?this.error("Must be encrypted for SMP."):"string"!=typeof a||a.length<1?this.error("Secret is required."):(this.sm||this._smInit(),a=b.enc.Utf8.parse(a).toString(b.enc.Latin1),c=b.enc.Utf8.parse(c).toString(b.enc.Latin1),void this.sm.rcvSecret(a,c))},a.prototype.sendQueryMsg=function(){var a={},b=g.OTR_TAG;this.ALLOW_V2&&(a[2]=!0),this.ALLOW_V3&&(a[3]=!0);var c=Object.keys(a);c.length&&(b+="v",c.forEach(function(a){"1"!==a&&(b+=a)}),b+="?"),this.io(b),this.trigger("status",[g.STATUS_SEND_QUERY])},a.prototype.sendMsg=function(a,c){switch((this.REQUIRE_ENCRYPTION||this.msgstate!==g.MSGSTATE_PLAINTEXT)&&(a=b.enc.Utf8.parse(a),a=a.toString(b.enc.Latin1)),this.msgstate){case g.MSGSTATE_PLAINTEXT:if(this.REQUIRE_ENCRYPTION)return this.storedMgs.push({msg:a,meta:c}),void this.sendQueryMsg();this.SEND_WHITESPACE_TAG&&!this.receivedPlaintext&&(a+=g.WHITESPACE_TAG,this.ALLOW_V3&&(a+=g.WHITESPACE_TAG_V3),this.ALLOW_V2&&(a+=g.WHITESPACE_TAG_V2));break;case g.MSGSTATE_FINISHED:return this.storedMgs.push({msg:a,meta:c}),void this.error("Message cannot be sent at this time.");case g.MSGSTATE_ENCRYPTED:a=this.prepareMsg(a);break;default:throw new Error("Unknown message state.")}a&&this.io(a,c)},a.prototype.receiveMsg=function(a){if(a=i.parseMsg(this,a)){switch(a.cls){case"error":return void this.error(a.msg);case"ake":if(a.version===g.OTR_VERSION_3&&this.checkInstanceTags(a.instance_tags))return;return void this.ake.handleAKE(a);case"data":if(a.version===g.OTR_VERSION_3&&this.checkInstanceTags(a.instance_tags))return;a.msg=this.handleDataMsg(a),a.encrypted=!0;break;case"query":this.msgstate===g.MSGSTATE_ENCRYPTED&&this._akeInit(),this.doAKE(a);break;default:(this.REQUIRE_ENCRYPTION||this.msgstate!==g.MSGSTATE_PLAINTEXT)&&this.error("Received an unencrypted message."),this.receivedPlaintext=!0,this.WHITESPACE_START_AKE&&a.ver.length>0&&this.doAKE(a)}a.msg&&this.trigger("ui",[a.msg,!!a.encrypted])}},a.prototype.checkInstanceTags=function(a){var b=h.readLen(a.substr(0,4)),c=h.readLen(a.substr(4,4));if(c&&c!==h.readLen(this.our_instance_tag))return!0;if(h.readLen(this.their_instance_tag)){if(h.readLen(this.their_instance_tag)!==b)return!0}else{if(100>b)return!0;this.their_instance_tag=h.packINT(b)}},a.prototype.doAKE=function(a){this.ALLOW_V3&&~a.ver.indexOf(g.OTR_VERSION_3)?this.ake.initiateAKE(g.OTR_VERSION_3):this.ALLOW_V2&&~a.ver.indexOf(g.OTR_VERSION_2)?this.ake.initiateAKE(g.OTR_VERSION_2):this.error("OTR conversation requested, but no compatible protocol version found.")},a.prototype.error=function(a,b){return b?(this.debug||(a="An OTR error has occurred."),a="?OTR Error:"+a,void this.io(a)):void this.trigger("error",[a])},a.prototype.sendStored=function(){var a=this;this.storedMgs.splice(0).forEach(function(b){var c=a.prepareMsg(b.msg);a.io(c,b.meta)})},a.prototype.sendFile=function(a){if(this.msgstate!==g.MSGSTATE_ENCRYPTED)return this.error("Not ready to encrypt.");if(this.ake.otr_version!==g.OTR_VERSION_3)return this.error("Protocol v3 required.");if(!a)return this.error("Please specify a filename.");var c=b.enc.Utf8.parse(a);if(c=c.toString(b.enc.Latin1),c.length>=65532)return this.error("filename is too long.");var d="\x00";d+="\x00\b",d+=h.packSHORT(4+c.length),d+="\x00\x00\x00",d+=c,d=this.prepareMsg(d,a),this.io(d)},a.prototype.endOtr=function(){this.msgstate===g.MSGSTATE_ENCRYPTED&&(this.sendMsg("\x00\x00\x00\x00"),this.sm&&(this.smw&&this.sm.worker.terminate(),this.sm=null)),this.msgstate=g.MSGSTATE_PLAINTEXT,this.receivedPlaintext=!1,this.trigger("status",[g.STATUS_END_OTR])},a.makeInstanceTag=function(){var b=c.randBigInt(32);return c.greater(c.str2bigInt("100",16),b)?a.makeInstanceTag():h.packINT(parseInt(c.bigInt2str(b,10),10))}}.call(this),{OTR:this.OTR,DSA:this.DSA}}),function(a){return function(a,b){"function"==typeof define&&define.amd?define("strophe-base64",function(){return b()}):a.Base64=b()}(this,function(){var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",b={encode:function(b){var c,d,e,f,g,h,i,j="",k=0;do c=b.charCodeAt(k++),d=b.charCodeAt(k++),e=b.charCodeAt(k++),f=c>>2,g=(3&c)<<4|d>>4,h=(15&d)<<2|e>>6,i=63&e,isNaN(d)?(g=(3&c)<<4,h=i=64):isNaN(e)&&(i=64),j=j+a.charAt(f)+a.charAt(g)+a.charAt(h)+a.charAt(i);while(k<b.length);return j},decode:function(b){var c,d,e,f,g,h,i,j="",k=0;b=b.replace(/[^A-Za-z0-9\+\/\=]/g,"");do f=a.indexOf(b.charAt(k++)),g=a.indexOf(b.charAt(k++)),h=a.indexOf(b.charAt(k++)),i=a.indexOf(b.charAt(k++)),c=f<<2|g>>4,d=(15&g)<<4|h>>2,e=(3&h)<<6|i,j+=String.fromCharCode(c),64!=h&&(j+=String.fromCharCode(d)),64!=i&&(j+=String.fromCharCode(e));while(k<b.length);return j}};return b}),function(a,b){"function"==typeof define&&define.amd?define("strophe-sha1",function(){return b()}):a.SHA1=b()}(this,function(){function a(a,d){a[d>>5]|=128<<24-d%32,a[(d+64>>9<<4)+15]=d;var g,h,i,j,k,l,m,n,o=new Array(80),p=1732584193,q=-271733879,r=-1732584194,s=271733878,t=-1009589776;for(g=0;g<a.length;g+=16){for(j=p,k=q,l=r,m=s,n=t,h=0;80>h;h++)16>h?o[h]=a[g+h]:o[h]=f(o[h-3]^o[h-8]^o[h-14]^o[h-16],1),i=e(e(f(p,5),b(h,q,r,s)),e(e(t,o[h]),c(h))),t=s,s=r,r=f(q,30),q=p,p=i;p=e(p,j),q=e(q,k),r=e(r,l),s=e(s,m),t=e(t,n)}return[p,q,r,s,t]}function b(a,b,c,d){return 20>a?b&c|~b&d:40>a?b^c^d:60>a?b&c|b&d|c&d:b^c^d}function c(a){return 20>a?1518500249:40>a?1859775393:60>a?-1894007588:-899497514}function d(b,c){var d=g(b);d.length>16&&(d=a(d,8*b.length));for(var e=new Array(16),f=new Array(16),h=0;16>h;h++)e[h]=909522486^d[h],
f[h]=1549556828^d[h];var i=a(e.concat(g(c)),512+8*c.length);return a(f.concat(i),672)}function e(a,b){var c=(65535&a)+(65535&b),d=(a>>16)+(b>>16)+(c>>16);return d<<16|65535&c}function f(a,b){return a<<b|a>>>32-b}function g(a){for(var b=[],c=255,d=0;d<8*a.length;d+=8)b[d>>5]|=(a.charCodeAt(d/8)&c)<<24-d%32;return b}function h(a){for(var b="",c=255,d=0;d<32*a.length;d+=8)b+=String.fromCharCode(a[d>>5]>>>24-d%32&c);return b}function i(a){for(var b,c,d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e="",f=0;f<4*a.length;f+=3)for(b=(a[f>>2]>>8*(3-f%4)&255)<<16|(a[f+1>>2]>>8*(3-(f+1)%4)&255)<<8|a[f+2>>2]>>8*(3-(f+2)%4)&255,c=0;4>c;c++)e+=8*f+6*c>32*a.length?"=":d.charAt(b>>6*(3-c)&63);return e}return{b64_hmac_sha1:function(a,b){return i(d(a,b))},b64_sha1:function(b){return i(a(g(b),8*b.length))},binb2str:h,core_hmac_sha1:d,str_hmac_sha1:function(a,b){return h(d(a,b))},str_sha1:function(b){return h(a(g(b),8*b.length))}}}),function(a,b){"function"==typeof define&&define.amd?define("strophe-md5",function(){return b()}):a.MD5=b()}(this,function(a){var b=function(a,b){var c=(65535&a)+(65535&b),d=(a>>16)+(b>>16)+(c>>16);return d<<16|65535&c},c=function(a,b){return a<<b|a>>>32-b},d=function(a){for(var b=[],c=0;c<8*a.length;c+=8)b[c>>5]|=(255&a.charCodeAt(c/8))<<c%32;return b},e=function(a){for(var b="",c=0;c<32*a.length;c+=8)b+=String.fromCharCode(a[c>>5]>>>c%32&255);return b},f=function(a){for(var b="0123456789abcdef",c="",d=0;d<4*a.length;d++)c+=b.charAt(a[d>>2]>>d%4*8+4&15)+b.charAt(a[d>>2]>>d%4*8&15);return c},g=function(a,d,e,f,g,h){return b(c(b(b(d,a),b(f,h)),g),e)},h=function(a,b,c,d,e,f,h){return g(b&c|~b&d,a,b,e,f,h)},i=function(a,b,c,d,e,f,h){return g(b&d|c&~d,a,b,e,f,h)},j=function(a,b,c,d,e,f,h){return g(b^c^d,a,b,e,f,h)},k=function(a,b,c,d,e,f,h){return g(c^(b|~d),a,b,e,f,h)},l=function(a,c){a[c>>5]|=128<<c%32,a[(c+64>>>9<<4)+14]=c;for(var d,e,f,g,l=1732584193,m=-271733879,n=-1732584194,o=271733878,p=0;p<a.length;p+=16)d=l,e=m,f=n,g=o,l=h(l,m,n,o,a[p+0],7,-680876936),o=h(o,l,m,n,a[p+1],12,-389564586),n=h(n,o,l,m,a[p+2],17,606105819),m=h(m,n,o,l,a[p+3],22,-1044525330),l=h(l,m,n,o,a[p+4],7,-176418897),o=h(o,l,m,n,a[p+5],12,1200080426),n=h(n,o,l,m,a[p+6],17,-1473231341),m=h(m,n,o,l,a[p+7],22,-45705983),l=h(l,m,n,o,a[p+8],7,1770035416),o=h(o,l,m,n,a[p+9],12,-1958414417),n=h(n,o,l,m,a[p+10],17,-42063),m=h(m,n,o,l,a[p+11],22,-1990404162),l=h(l,m,n,o,a[p+12],7,1804603682),o=h(o,l,m,n,a[p+13],12,-40341101),n=h(n,o,l,m,a[p+14],17,-1502002290),m=h(m,n,o,l,a[p+15],22,1236535329),l=i(l,m,n,o,a[p+1],5,-165796510),o=i(o,l,m,n,a[p+6],9,-1069501632),n=i(n,o,l,m,a[p+11],14,643717713),m=i(m,n,o,l,a[p+0],20,-373897302),l=i(l,m,n,o,a[p+5],5,-701558691),o=i(o,l,m,n,a[p+10],9,38016083),n=i(n,o,l,m,a[p+15],14,-660478335),m=i(m,n,o,l,a[p+4],20,-405537848),l=i(l,m,n,o,a[p+9],5,568446438),o=i(o,l,m,n,a[p+14],9,-1019803690),n=i(n,o,l,m,a[p+3],14,-187363961),m=i(m,n,o,l,a[p+8],20,1163531501),l=i(l,m,n,o,a[p+13],5,-1444681467),o=i(o,l,m,n,a[p+2],9,-51403784),n=i(n,o,l,m,a[p+7],14,1735328473),m=i(m,n,o,l,a[p+12],20,-1926607734),l=j(l,m,n,o,a[p+5],4,-378558),o=j(o,l,m,n,a[p+8],11,-2022574463),n=j(n,o,l,m,a[p+11],16,1839030562),m=j(m,n,o,l,a[p+14],23,-35309556),l=j(l,m,n,o,a[p+1],4,-1530992060),o=j(o,l,m,n,a[p+4],11,1272893353),n=j(n,o,l,m,a[p+7],16,-155497632),m=j(m,n,o,l,a[p+10],23,-1094730640),l=j(l,m,n,o,a[p+13],4,681279174),o=j(o,l,m,n,a[p+0],11,-358537222),n=j(n,o,l,m,a[p+3],16,-722521979),m=j(m,n,o,l,a[p+6],23,76029189),l=j(l,m,n,o,a[p+9],4,-640364487),o=j(o,l,m,n,a[p+12],11,-421815835),n=j(n,o,l,m,a[p+15],16,530742520),m=j(m,n,o,l,a[p+2],23,-995338651),l=k(l,m,n,o,a[p+0],6,-198630844),o=k(o,l,m,n,a[p+7],10,1126891415),n=k(n,o,l,m,a[p+14],15,-1416354905),m=k(m,n,o,l,a[p+5],21,-57434055),l=k(l,m,n,o,a[p+12],6,1700485571),o=k(o,l,m,n,a[p+3],10,-1894986606),n=k(n,o,l,m,a[p+10],15,-1051523),m=k(m,n,o,l,a[p+1],21,-2054922799),l=k(l,m,n,o,a[p+8],6,1873313359),o=k(o,l,m,n,a[p+15],10,-30611744),n=k(n,o,l,m,a[p+6],15,-1560198380),m=k(m,n,o,l,a[p+13],21,1309151649),l=k(l,m,n,o,a[p+4],6,-145523070),o=k(o,l,m,n,a[p+11],10,-1120210379),n=k(n,o,l,m,a[p+2],15,718787259),m=k(m,n,o,l,a[p+9],21,-343485551),l=b(l,d),m=b(m,e),n=b(n,f),o=b(o,g);return[l,m,n,o]},m={hexdigest:function(a){return f(l(d(a),8*a.length))},hash:function(a){return e(l(d(a),8*a.length))}};return m}),Function.prototype.bind||(Function.prototype.bind=function(a){var b=this,c=Array.prototype.slice,d=Array.prototype.concat,e=c.call(arguments,1);return function(){return b.apply(a?a:this,d.call(e,c.call(arguments,0)))}}),Array.isArray||(Array.isArray=function(a){return"[object Array]"===Object.prototype.toString.call(a)}),Array.prototype.indexOf||(Array.prototype.indexOf=function(a){var b=this.length,c=Number(arguments[1])||0;for(c=0>c?Math.ceil(c):Math.floor(c),0>c&&(c+=b);b>c;c++)if(c in this&&this[c]===a)return c;return-1}),function(a,b){if("function"==typeof define&&define.amd)define("strophe-core",["strophe-sha1","strophe-base64","strophe-md5","strophe-polyfill"],function(){return b.apply(this,arguments)});else{var c=b(a.SHA1,a.Base64,a.MD5);window.Strophe=c.Strophe,window.$build=c.$build,window.$iq=c.$iq,window.$msg=c.$msg,window.$pres=c.$pres,window.SHA1=c.SHA1,window.Base64=c.Base64,window.MD5=c.MD5,window.b64_hmac_sha1=c.SHA1.b64_hmac_sha1,window.b64_sha1=c.SHA1.b64_sha1,window.str_hmac_sha1=c.SHA1.str_hmac_sha1,window.str_sha1=c.SHA1.str_sha1}}(this,function(a,b,c){function d(a,b){return new h.Builder(a,b)}function e(a){return new h.Builder("message",a)}function f(a){return new h.Builder("iq",a)}function g(a){return new h.Builder("presence",a)}var h;return h={VERSION:"1.2.2",NS:{HTTPBIND:"http://jabber.org/protocol/httpbind",BOSH:"urn:xmpp:xbosh",CLIENT:"jabber:client",AUTH:"jabber:iq:auth",ROSTER:"jabber:iq:roster",PROFILE:"jabber:iq:profile",DISCO_INFO:"http://jabber.org/protocol/disco#info",DISCO_ITEMS:"http://jabber.org/protocol/disco#items",MUC:"http://jabber.org/protocol/muc",SASL:"urn:ietf:params:xml:ns:xmpp-sasl",STREAM:"http://etherx.jabber.org/streams",FRAMING:"urn:ietf:params:xml:ns:xmpp-framing",BIND:"urn:ietf:params:xml:ns:xmpp-bind",SESSION:"urn:ietf:params:xml:ns:xmpp-session",VERSION:"jabber:iq:version",STANZAS:"urn:ietf:params:xml:ns:xmpp-stanzas",XHTML_IM:"http://jabber.org/protocol/xhtml-im",XHTML:"http://www.w3.org/1999/xhtml"},XHTML:{tags:["a","blockquote","br","cite","em","img","li","ol","p","span","strong","ul","body"],attributes:{a:["href"],blockquote:["style"],br:[],cite:["style"],em:[],img:["src","alt","style","height","width"],li:["style"],ol:["style"],p:["style"],span:["style"],strong:[],ul:["style"],body:[]},css:["background-color","color","font-family","font-size","font-style","font-weight","margin-left","margin-right","text-align","text-decoration"],validTag:function(a){for(var b=0;b<h.XHTML.tags.length;b++)if(a==h.XHTML.tags[b])return!0;return!1},validAttribute:function(a,b){if("undefined"!=typeof h.XHTML.attributes[a]&&h.XHTML.attributes[a].length>0)for(var c=0;c<h.XHTML.attributes[a].length;c++)if(b==h.XHTML.attributes[a][c])return!0;return!1},validCSS:function(a){for(var b=0;b<h.XHTML.css.length;b++)if(a==h.XHTML.css[b])return!0;return!1}},Status:{ERROR:0,CONNECTING:1,CONNFAIL:2,AUTHENTICATING:3,AUTHFAIL:4,CONNECTED:5,DISCONNECTED:6,DISCONNECTING:7,ATTACHED:8,REDIRECT:9},LogLevel:{DEBUG:0,INFO:1,WARN:2,ERROR:3,FATAL:4},ElementType:{NORMAL:1,TEXT:3,CDATA:4,FRAGMENT:11},TIMEOUT:1.1,SECONDARY_TIMEOUT:.1,addNamespace:function(a,b){h.NS[a]=b},forEachChild:function(a,b,c){var d,e;for(d=0;d<a.childNodes.length;d++)e=a.childNodes[d],e.nodeType!=h.ElementType.NORMAL||b&&!this.isTagEqual(e,b)||c(e)},isTagEqual:function(a,b){return a.tagName==b},_xmlGenerator:null,_makeGenerator:function(){var a;return void 0===document.implementation.createDocument||document.implementation.createDocument&&document.documentMode&&document.documentMode<10?(a=this._getIEXmlDom(),a.appendChild(a.createElement("strophe"))):a=document.implementation.createDocument("jabber:client","strophe",null),a},xmlGenerator:function(){return h._xmlGenerator||(h._xmlGenerator=h._makeGenerator()),h._xmlGenerator},_getIEXmlDom:function(){for(var a=null,b=["Msxml2.DOMDocument.6.0","Msxml2.DOMDocument.5.0","Msxml2.DOMDocument.4.0","MSXML2.DOMDocument.3.0","MSXML2.DOMDocument","MSXML.DOMDocument","Microsoft.XMLDOM"],c=0;c<b.length&&null===a;c++)try{a=new ActiveXObject(b[c])}catch(d){a=null}return a},xmlElement:function(a){if(!a)return null;var b,c,d,e=h.xmlGenerator().createElement(a);for(b=1;b<arguments.length;b++){var f=arguments[b];if(f)if("string"==typeof f||"number"==typeof f)e.appendChild(h.xmlTextNode(f));else if("object"==typeof f&&"function"==typeof f.sort)for(c=0;c<f.length;c++){var g=f[c];"object"==typeof g&&"function"==typeof g.sort&&void 0!==g[1]&&e.setAttribute(g[0],g[1])}else if("object"==typeof f)for(d in f)f.hasOwnProperty(d)&&void 0!==f[d]&&e.setAttribute(d,f[d])}return e},xmlescape:function(a){return a=a.replace(/\&/g,"&amp;"),a=a.replace(/</g,"&lt;"),a=a.replace(/>/g,"&gt;"),a=a.replace(/\'/g,"&apos;"),a=a.replace(/\"/g,"&quot;")},xmlunescape:function(a){return a=a.replace(/\&amp;/g,"&"),a=a.replace(/&lt;/g,"<"),a=a.replace(/&gt;/g,">"),a=a.replace(/&apos;/g,"'"),a=a.replace(/&quot;/g,'"')},xmlTextNode:function(a){return h.xmlGenerator().createTextNode(a)},xmlHtmlNode:function(a){var b;if(window.DOMParser){var c=new DOMParser;b=c.parseFromString(a,"text/xml")}else b=new ActiveXObject("Microsoft.XMLDOM"),b.async="false",b.loadXML(a);return b},getText:function(a){if(!a)return null;var b="";0===a.childNodes.length&&a.nodeType==h.ElementType.TEXT&&(b+=a.nodeValue);for(var c=0;c<a.childNodes.length;c++)a.childNodes[c].nodeType==h.ElementType.TEXT&&(b+=a.childNodes[c].nodeValue);return h.xmlescape(b)},copyElement:function(a){var b,c;if(a.nodeType==h.ElementType.NORMAL){for(c=h.xmlElement(a.tagName),b=0;b<a.attributes.length;b++)c.setAttribute(a.attributes[b].nodeName,a.attributes[b].value);for(b=0;b<a.childNodes.length;b++)c.appendChild(h.copyElement(a.childNodes[b]))}else a.nodeType==h.ElementType.TEXT&&(c=h.xmlGenerator().createTextNode(a.nodeValue));return c},createHtml:function(a){var b,c,d,e,f,g,i,j,k,l,m;if(a.nodeType==h.ElementType.NORMAL)if(e=a.nodeName.toLowerCase(),h.XHTML.validTag(e))try{for(c=h.xmlElement(e),b=0;b<h.XHTML.attributes[e].length;b++)if(f=h.XHTML.attributes[e][b],g=a.getAttribute(f),"undefined"!=typeof g&&null!==g&&""!==g&&g!==!1&&0!==g)if("style"==f&&"object"==typeof g&&"undefined"!=typeof g.cssText&&(g=g.cssText),"style"==f){for(i=[],j=g.split(";"),d=0;d<j.length;d++)k=j[d].split(":"),l=k[0].replace(/^\s*/,"").replace(/\s*$/,"").toLowerCase(),h.XHTML.validCSS(l)&&(m=k[1].replace(/^\s*/,"").replace(/\s*$/,""),i.push(l+": "+m));i.length>0&&(g=i.join("; "),c.setAttribute(f,g))}else c.setAttribute(f,g);for(b=0;b<a.childNodes.length;b++)c.appendChild(h.createHtml(a.childNodes[b]))}catch(n){c=h.xmlTextNode("")}else for(c=h.xmlGenerator().createDocumentFragment(),b=0;b<a.childNodes.length;b++)c.appendChild(h.createHtml(a.childNodes[b]));else if(a.nodeType==h.ElementType.FRAGMENT)for(c=h.xmlGenerator().createDocumentFragment(),b=0;b<a.childNodes.length;b++)c.appendChild(h.createHtml(a.childNodes[b]));else a.nodeType==h.ElementType.TEXT&&(c=h.xmlTextNode(a.nodeValue));return c},escapeNode:function(a){return"string"!=typeof a?a:a.replace(/^\s+|\s+$/g,"").replace(/\\/g,"\\5c").replace(/ /g,"\\20").replace(/\"/g,"\\22").replace(/\&/g,"\\26").replace(/\'/g,"\\27").replace(/\//g,"\\2f").replace(/:/g,"\\3a").replace(/</g,"\\3c").replace(/>/g,"\\3e").replace(/@/g,"\\40")},unescapeNode:function(a){return"string"!=typeof a?a:a.replace(/\\20/g," ").replace(/\\22/g,'"').replace(/\\26/g,"&").replace(/\\27/g,"'").replace(/\\2f/g,"/").replace(/\\3a/g,":").replace(/\\3c/g,"<").replace(/\\3e/g,">").replace(/\\40/g,"@").replace(/\\5c/g,"\\")},getNodeFromJid:function(a){return a.indexOf("@")<0?null:a.split("@")[0]},getDomainFromJid:function(a){var b=h.getBareJidFromJid(a);if(b.indexOf("@")<0)return b;var c=b.split("@");return c.splice(0,1),c.join("@")},getResourceFromJid:function(a){var b=a.split("/");return b.length<2?null:(b.splice(0,1),b.join("/"))},getBareJidFromJid:function(a){return a?a.split("/")[0]:null},log:function(a,b){},debug:function(a){this.log(this.LogLevel.DEBUG,a)},info:function(a){this.log(this.LogLevel.INFO,a)},warn:function(a){this.log(this.LogLevel.WARN,a)},error:function(a){this.log(this.LogLevel.ERROR,a)},fatal:function(a){this.log(this.LogLevel.FATAL,a)},serialize:function(a){var b;if(!a)return null;"function"==typeof a.tree&&(a=a.tree());var c,d,e=a.nodeName;for(a.getAttribute("_realname")&&(e=a.getAttribute("_realname")),b="<"+e,c=0;c<a.attributes.length;c++)"_realname"!=a.attributes[c].nodeName&&(b+=" "+a.attributes[c].nodeName+"='"+a.attributes[c].value.replace(/&/g,"&amp;").replace(/\'/g,"&apos;").replace(/>/g,"&gt;").replace(/</g,"&lt;")+"'");if(a.childNodes.length>0){for(b+=">",c=0;c<a.childNodes.length;c++)switch(d=a.childNodes[c],d.nodeType){case h.ElementType.NORMAL:b+=h.serialize(d);break;case h.ElementType.TEXT:b+=h.xmlescape(d.nodeValue);break;case h.ElementType.CDATA:b+="<![CDATA["+d.nodeValue+"]]>"}b+="</"+e+">"}else b+="/>";return b},_requestId:0,_connectionPlugins:{},addConnectionPlugin:function(a,b){h._connectionPlugins[a]=b}},h.Builder=function(a,b){("presence"==a||"message"==a||"iq"==a)&&(b&&!b.xmlns?b.xmlns=h.NS.CLIENT:b||(b={xmlns:h.NS.CLIENT})),this.nodeTree=h.xmlElement(a,b),this.node=this.nodeTree},h.Builder.prototype={tree:function(){return this.nodeTree},toString:function(){return h.serialize(this.nodeTree)},up:function(){return this.node=this.node.parentNode,this},attrs:function(a){for(var b in a)a.hasOwnProperty(b)&&(void 0===a[b]?this.node.removeAttribute(b):this.node.setAttribute(b,a[b]));return this},c:function(a,b,c){var d=h.xmlElement(a,b,c);return this.node.appendChild(d),"string"!=typeof c&&(this.node=d),this},cnode:function(a){var b,c=h.xmlGenerator();try{b=void 0!==c.importNode}catch(d){b=!1}var e=b?c.importNode(a,!0):h.copyElement(a);return this.node.appendChild(e),this.node=e,this},t:function(a){var b=h.xmlTextNode(a);return this.node.appendChild(b),this},h:function(a){var b=document.createElement("body");b.innerHTML=a;for(var c=h.createHtml(b);c.childNodes.length>0;)this.node.appendChild(c.childNodes[0]);return this}},h.Handler=function(a,b,c,d,e,f,g){this.handler=a,this.ns=b,this.name=c,this.type=d,this.id=e,this.options=g||{matchBare:!1},this.options.matchBare||(this.options.matchBare=!1),this.options.matchBare?this.from=f?h.getBareJidFromJid(f):null:this.from=f,this.user=!0},h.Handler.prototype={isMatch:function(a){var b,c=null;if(c=this.options.matchBare?h.getBareJidFromJid(a.getAttribute("from")):a.getAttribute("from"),b=!1,this.ns){var d=this;h.forEachChild(a,null,function(a){a.getAttribute("xmlns")==d.ns&&(b=!0)}),b=b||a.getAttribute("xmlns")==this.ns}else b=!0;var e=a.getAttribute("type");return!b||this.name&&!h.isTagEqual(a,this.name)||this.type&&(Array.isArray(this.type)?-1==this.type.indexOf(e):e!=this.type)||this.id&&a.getAttribute("id")!=this.id||this.from&&c!=this.from?!1:!0},run:function(a){var b=null;try{b=this.handler(a)}catch(c){throw c.sourceURL?h.fatal("error: "+this.handler+" "+c.sourceURL+":"+c.line+" - "+c.name+": "+c.message):c.fileName?("undefined"!=typeof console&&(console.trace(),console.error(this.handler," - error - ",c,c.message)),h.fatal("error: "+this.handler+" "+c.fileName+":"+c.lineNumber+" - "+c.name+": "+c.message)):h.fatal("error: "+c.message+"\n"+c.stack),c}return b},toString:function(){return"{Handler: "+this.handler+"("+this.name+","+this.id+","+this.ns+")}"}},h.TimedHandler=function(a,b){this.period=a,this.handler=b,this.lastCalled=(new Date).getTime(),this.user=!0},h.TimedHandler.prototype={run:function(){return this.lastCalled=(new Date).getTime(),this.handler()},reset:function(){this.lastCalled=(new Date).getTime()},toString:function(){return"{TimedHandler: "+this.handler+"("+this.period+")}"}},h.Connection=function(a,b){this.service=a,this.options=b||{};var c=this.options.protocol||"";0===a.indexOf("ws:")||0===a.indexOf("wss:")||0===c.indexOf("ws")?this._proto=new h.Websocket(this):this._proto=new h.Bosh(this),this.jid="",this.domain=null,this.features=null,this._sasl_data={},this.do_session=!1,this.do_bind=!1,this.timedHandlers=[],this.handlers=[],this.removeTimeds=[],this.removeHandlers=[],this.addTimeds=[],this.addHandlers=[],this._authentication={},this._idleTimeout=null,this._disconnectTimeout=null,this.authenticated=!1,this.connected=!1,this.disconnecting=!1,this.do_authentication=!0,this.paused=!1,this.restored=!1,this._data=[],this._uniqueId=0,this._sasl_success_handler=null,this._sasl_failure_handler=null,this._sasl_challenge_handler=null,this.maxRetries=5,this._idleTimeout=setTimeout(this._onIdle.bind(this),100);for(var d in h._connectionPlugins)if(h._connectionPlugins.hasOwnProperty(d)){var e=h._connectionPlugins[d],f=function(){};f.prototype=e,this[d]=new f,this[d].init(this)}},h.Connection.prototype={reset:function(){this._proto._reset(),this.do_session=!1,this.do_bind=!1,this.timedHandlers=[],this.handlers=[],this.removeTimeds=[],this.removeHandlers=[],this.addTimeds=[],this.addHandlers=[],this._authentication={},this.authenticated=!1,this.connected=!1,this.disconnecting=!1,this.restored=!1,this._data=[],this._requests=[],this._uniqueId=0},pause:function(){this.paused=!0},resume:function(){this.paused=!1},getUniqueId:function(a){return"string"==typeof a||"number"==typeof a?++this._uniqueId+":"+a:++this._uniqueId+""},connect:function(a,b,c,d,e,f,g){this.jid=a,this.authzid=h.getBareJidFromJid(this.jid),this.authcid=g||h.getNodeFromJid(this.jid),this.pass=b,this.servtype="xmpp",this.connect_callback=c,this.disconnecting=!1,this.connected=!1,this.authenticated=!1,this.restored=!1,this.domain=h.getDomainFromJid(this.jid),this._changeConnectStatus(h.Status.CONNECTING,null),this._proto._connect(d,e,f)},attach:function(a,b,c,d,e,f,g){if(!(this._proto instanceof h.Bosh))throw{name:"StropheSessionError",message:'The "attach" method can only be used with a BOSH connection.'};this._proto._attach(a,b,c,d,e,f,g)},restore:function(a,b,c,d,e){if(!this._sessionCachingSupported())throw{name:"StropheSessionError",message:'The "restore" method can only be used with a BOSH connection.'};this._proto._restore(a,b,c,d,e)},_sessionCachingSupported:function(){if(this._proto instanceof h.Bosh){if(!JSON)return!1;try{window.sessionStorage.setItem("_strophe_","_strophe_"),window.sessionStorage.removeItem("_strophe_")}catch(a){return!1}return!0}return!1},xmlInput:function(a){},xmlOutput:function(a){},rawInput:function(a){},rawOutput:function(a){},send:function(a){if(null!==a){if("function"==typeof a.sort)for(var b=0;b<a.length;b++)this._queueData(a[b]);else"function"==typeof a.tree?this._queueData(a.tree()):this._queueData(a);this._proto._send()}},flush:function(){clearTimeout(this._idleTimeout),this._onIdle()},sendIQ:function(a,b,c,d){var e=null,f=this;"function"==typeof a.tree&&(a=a.tree());var g=a.getAttribute("id");g||(g=this.getUniqueId("sendIQ"),a.setAttribute("id",g));var i=a.getAttribute("to"),j=this.jid,k=this.addHandler(function(a){e&&f.deleteTimedHandler(e);var d=!1,g=a.getAttribute("from");if((g===i||null===i&&(g===h.getBareJidFromJid(j)||g===h.getDomainFromJid(j)||g===j))&&(d=!0),!d)throw{name:"StropheError",message:"Got answer to IQ from wrong jid:"+g+"\nExpected jid: "+i};var k=a.getAttribute("type");if("result"==k)b&&b(a);else{if("error"!=k)throw{name:"StropheError",message:"Got bad IQ type of "+k};c&&c(a)}},null,"iq",["error","result"],g);return d&&(e=this.addTimedHandler(d,function(){return f.deleteHandler(k),c&&c(null),!1})),this.send(a),g},_queueData:function(a){if(null===a||!a.tagName||!a.childNodes)throw{name:"StropheError",message:"Cannot queue non-DOMElement."};this._data.push(a)},_sendRestart:function(){this._data.push("restart"),this._proto._sendRestart(),this._idleTimeout=setTimeout(this._onIdle.bind(this),100)},addTimedHandler:function(a,b){var c=new h.TimedHandler(a,b);return this.addTimeds.push(c),c},deleteTimedHandler:function(a){this.removeTimeds.push(a)},addHandler:function(a,b,c,d,e,f,g){var i=new h.Handler(a,b,c,d,e,f,g);return this.addHandlers.push(i),i},deleteHandler:function(a){this.removeHandlers.push(a);var b=this.addHandlers.indexOf(a);b>=0&&this.addHandlers.splice(b,1)},disconnect:function(a){if(this._changeConnectStatus(h.Status.DISCONNECTING,a),h.info("Disconnect was called because: "+a),this.connected){var b=!1;this.disconnecting=!0,this.authenticated&&(b=g({xmlns:h.NS.CLIENT,type:"unavailable"})),this._disconnectTimeout=this._addSysTimedHandler(3e3,this._onDisconnectTimeout.bind(this)),this._proto._disconnect(b)}else h.info("Disconnect was called before Strophe connected to the server"),this._proto._abortAllRequests()},_changeConnectStatus:function(a,b){for(var c in h._connectionPlugins)if(h._connectionPlugins.hasOwnProperty(c)){var d=this[c];if(d.statusChanged)try{d.statusChanged(a,b)}catch(e){h.error(""+c+" plugin caused an exception changing status: "+e)}}if(this.connect_callback)try{this.connect_callback(a,b)}catch(f){h.error("User connection callback caused an exception: "+f)}},_doDisconnect:function(a){"number"==typeof this._idleTimeout&&clearTimeout(this._idleTimeout),null!==this._disconnectTimeout&&(this.deleteTimedHandler(this._disconnectTimeout),this._disconnectTimeout=null),h.info("_doDisconnect was called"),this._proto._doDisconnect(),this.authenticated=!1,this.disconnecting=!1,this.restored=!1,this.handlers=[],this.timedHandlers=[],this.removeTimeds=[],this.removeHandlers=[],this.addTimeds=[],this.addHandlers=[],this._changeConnectStatus(h.Status.DISCONNECTED,a),this.connected=!1},_dataRecv:function(a,b){h.info("_dataRecv called");var c=this._proto._reqToData(a);if(null!==c){this.xmlInput!==h.Connection.prototype.xmlInput&&(c.nodeName===this._proto.strip&&c.childNodes.length?this.xmlInput(c.childNodes[0]):this.xmlInput(c)),this.rawInput!==h.Connection.prototype.rawInput&&(b?this.rawInput(b):this.rawInput(h.serialize(c)));for(var d,e;this.removeHandlers.length>0;)e=this.removeHandlers.pop(),d=this.handlers.indexOf(e),d>=0&&this.handlers.splice(d,1);for(;this.addHandlers.length>0;)this.handlers.push(this.addHandlers.pop());if(this.disconnecting&&this._proto._emptyQueue())return void this._doDisconnect();var f,g,i=c.getAttribute("type");if(null!==i&&"terminate"==i){if(this.disconnecting)return;return f=c.getAttribute("condition"),g=c.getElementsByTagName("conflict"),null!==f?("remote-stream-error"==f&&g.length>0&&(f="conflict"),this._changeConnectStatus(h.Status.CONNFAIL,f)):this._changeConnectStatus(h.Status.CONNFAIL,"unknown"),void this._doDisconnect(f)}var j=this;h.forEachChild(c,null,function(a){var b,c;for(c=j.handlers,j.handlers=[],b=0;b<c.length;b++){var d=c[b];try{!d.isMatch(a)||!j.authenticated&&d.user?j.handlers.push(d):d.run(a)&&j.handlers.push(d)}catch(e){h.warn("Removing Strophe handlers due to uncaught exception: "+e.message)}}})}},mechanisms:{},_connect_cb:function(a,b,c){h.info("_connect_cb was called"),this.connected=!0;var d=this._proto._reqToData(a);if(d){this.xmlInput!==h.Connection.prototype.xmlInput&&(d.nodeName===this._proto.strip&&d.childNodes.length?this.xmlInput(d.childNodes[0]):this.xmlInput(d)),this.rawInput!==h.Connection.prototype.rawInput&&(c?this.rawInput(c):this.rawInput(h.serialize(d)));var e=this._proto._connect_cb(d);if(e!==h.Status.CONNFAIL){this._authentication.sasl_scram_sha1=!1,this._authentication.sasl_plain=!1,this._authentication.sasl_digest_md5=!1,this._authentication.sasl_anonymous=!1,this._authentication.legacy_auth=!1;var f;f=d.getElementsByTagNameNS?d.getElementsByTagNameNS(h.NS.STREAM,"features").length>0:d.getElementsByTagName("stream:features").length>0||d.getElementsByTagName("features").length>0;var g,i,j=d.getElementsByTagName("mechanism"),k=[],l=!1;if(!f)return void this._proto._no_auth_received(b);if(j.length>0)for(g=0;g<j.length;g++)i=h.getText(j[g]),this.mechanisms[i]&&k.push(this.mechanisms[i]);return this._authentication.legacy_auth=d.getElementsByTagName("auth").length>0,(l=this._authentication.legacy_auth||k.length>0)?void(this.do_authentication!==!1&&this.authenticate(k)):void this._proto._no_auth_received(b)}}},authenticate:function(a){var c;for(c=0;c<a.length-1;++c){for(var e=c,g=c+1;g<a.length;++g)a[g].prototype.priority>a[e].prototype.priority&&(e=g);if(e!=c){var i=a[c];a[c]=a[e],a[e]=i}}var j=!1;for(c=0;c<a.length;++c)if(a[c].test(this)){this._sasl_success_handler=this._addSysHandler(this._sasl_success_cb.bind(this),null,"success",null,null),this._sasl_failure_handler=this._addSysHandler(this._sasl_failure_cb.bind(this),null,"failure",null,null),this._sasl_challenge_handler=this._addSysHandler(this._sasl_challenge_cb.bind(this),null,"challenge",null,null),this._sasl_mechanism=new a[c],this._sasl_mechanism.onStart(this);var k=d("auth",{xmlns:h.NS.SASL,mechanism:this._sasl_mechanism.name});if(this._sasl_mechanism.isClientFirst){var l=this._sasl_mechanism.onChallenge(this,null);k.t(b.encode(l))}this.send(k.tree()),j=!0;break}j||(null===h.getNodeFromJid(this.jid)?(this._changeConnectStatus(h.Status.CONNFAIL,"x-strophe-bad-non-anon-jid"),this.disconnect("x-strophe-bad-non-anon-jid")):(this._changeConnectStatus(h.Status.AUTHENTICATING,null),this._addSysHandler(this._auth1_cb.bind(this),null,null,null,"_auth_1"),this.send(f({type:"get",to:this.domain,id:"_auth_1"}).c("query",{xmlns:h.NS.AUTH}).c("username",{}).t(h.getNodeFromJid(this.jid)).tree())))},_sasl_challenge_cb:function(a){var c=b.decode(h.getText(a)),e=this._sasl_mechanism.onChallenge(this,c),f=d("response",{xmlns:h.NS.SASL});return""!==e&&f.t(b.encode(e)),this.send(f.tree()),!0},_auth1_cb:function(a){var b=f({type:"set",id:"_auth_2"}).c("query",{xmlns:h.NS.AUTH}).c("username",{}).t(h.getNodeFromJid(this.jid)).up().c("password").t(this.pass);return h.getResourceFromJid(this.jid)||(this.jid=h.getBareJidFromJid(this.jid)+"/strophe"),b.up().c("resource",{}).t(h.getResourceFromJid(this.jid)),this._addSysHandler(this._auth2_cb.bind(this),null,null,null,"_auth_2"),this.send(b.tree()),!1},_sasl_success_cb:function(a){if(this._sasl_data["server-signature"]){var c,d=b.decode(h.getText(a)),e=/([a-z]+)=([^,]+)(,|$)/,f=d.match(e);if("v"==f[1]&&(c=f[2]),c!=this._sasl_data["server-signature"])return this.deleteHandler(this._sasl_failure_handler),this._sasl_failure_handler=null,this._sasl_challenge_handler&&(this.deleteHandler(this._sasl_challenge_handler),this._sasl_challenge_handler=null),this._sasl_data={},this._sasl_failure_cb(null)}h.info("SASL authentication succeeded."),this._sasl_mechanism&&this._sasl_mechanism.onSuccess(),this.deleteHandler(this._sasl_failure_handler),this._sasl_failure_handler=null,this._sasl_challenge_handler&&(this.deleteHandler(this._sasl_challenge_handler),this._sasl_challenge_handler=null);var g=[],i=function(a,b){for(;a.length;)this.deleteHandler(a.pop());return this._sasl_auth1_cb.bind(this)(b),!1};return g.push(this._addSysHandler(function(a){i.bind(this)(g,a)}.bind(this),null,"stream:features",null,null)),g.push(this._addSysHandler(function(a){i.bind(this)(g,a)}.bind(this),h.NS.STREAM,"features",null,null)),this._sendRestart(),!1},_sasl_auth1_cb:function(a){this.features=a;var b,c;for(b=0;b<a.childNodes.length;b++)c=a.childNodes[b],"bind"==c.nodeName&&(this.do_bind=!0),"session"==c.nodeName&&(this.do_session=!0);if(!this.do_bind)return this._changeConnectStatus(h.Status.AUTHFAIL,null),!1;this._addSysHandler(this._sasl_bind_cb.bind(this),null,null,null,"_bind_auth_2");var d=h.getResourceFromJid(this.jid);return d?this.send(f({type:"set",id:"_bind_auth_2"}).c("bind",{xmlns:h.NS.BIND}).c("resource",{}).t(d).tree()):this.send(f({type:"set",id:"_bind_auth_2"}).c("bind",{xmlns:h.NS.BIND}).tree()),!1},_sasl_bind_cb:function(a){if("error"==a.getAttribute("type")){h.info("SASL binding failed.");var b,c=a.getElementsByTagName("conflict");return c.length>0&&(b="conflict"),this._changeConnectStatus(h.Status.AUTHFAIL,b),!1}var d,e=a.getElementsByTagName("bind");return e.length>0?(d=e[0].getElementsByTagName("jid"),void(d.length>0&&(this.jid=h.getText(d[0]),this.do_session?(this._addSysHandler(this._sasl_session_cb.bind(this),null,null,null,"_session_auth_2"),this.send(f({type:"set",id:"_session_auth_2"}).c("session",{xmlns:h.NS.SESSION}).tree())):(this.authenticated=!0,this._changeConnectStatus(h.Status.CONNECTED,null))))):(h.info("SASL binding failed."),this._changeConnectStatus(h.Status.AUTHFAIL,null),!1)},_sasl_session_cb:function(a){if("result"==a.getAttribute("type"))this.authenticated=!0,this._changeConnectStatus(h.Status.CONNECTED,null);else if("error"==a.getAttribute("type"))return h.info("Session creation failed."),this._changeConnectStatus(h.Status.AUTHFAIL,null),!1;return!1},_sasl_failure_cb:function(a){return this._sasl_success_handler&&(this.deleteHandler(this._sasl_success_handler),this._sasl_success_handler=null),this._sasl_challenge_handler&&(this.deleteHandler(this._sasl_challenge_handler),this._sasl_challenge_handler=null),this._sasl_mechanism&&this._sasl_mechanism.onFailure(),this._changeConnectStatus(h.Status.AUTHFAIL,null),!1},_auth2_cb:function(a){return"result"==a.getAttribute("type")?(this.authenticated=!0,this._changeConnectStatus(h.Status.CONNECTED,null)):"error"==a.getAttribute("type")&&(this._changeConnectStatus(h.Status.AUTHFAIL,null),this.disconnect("authentication failed")),!1},_addSysTimedHandler:function(a,b){var c=new h.TimedHandler(a,b);return c.user=!1,this.addTimeds.push(c),c},_addSysHandler:function(a,b,c,d,e){var f=new h.Handler(a,b,c,d,e);return f.user=!1,this.addHandlers.push(f),f},_onDisconnectTimeout:function(){return h.info("_onDisconnectTimeout was called"),this._proto._onDisconnectTimeout(),this._doDisconnect(),!1},_onIdle:function(){for(var a,b,c,d;this.addTimeds.length>0;)this.timedHandlers.push(this.addTimeds.pop());for(;this.removeTimeds.length>0;)b=this.removeTimeds.pop(),a=this.timedHandlers.indexOf(b),a>=0&&this.timedHandlers.splice(a,1);var e=(new Date).getTime();for(d=[],a=0;a<this.timedHandlers.length;a++)b=this.timedHandlers[a],(this.authenticated||!b.user)&&(c=b.lastCalled+b.period,0>=c-e?b.run()&&d.push(b):d.push(b));this.timedHandlers=d,clearTimeout(this._idleTimeout),this._proto._onIdle(),this.connected&&(this._idleTimeout=setTimeout(this._onIdle.bind(this),100))}},h.SASLMechanism=function(a,b,c){this.name=a,this.isClientFirst=b,this.priority=c},h.SASLMechanism.prototype={test:function(a){return!0},onStart:function(a){this._connection=a},onChallenge:function(a,b){throw new Error("You should implement challenge handling!")},onFailure:function(){this._connection=null},onSuccess:function(){this._connection=null}},h.SASLAnonymous=function(){},h.SASLAnonymous.prototype=new h.SASLMechanism("ANONYMOUS",!1,10),h.SASLAnonymous.test=function(a){return null===a.authcid},h.Connection.prototype.mechanisms[h.SASLAnonymous.prototype.name]=h.SASLAnonymous,h.SASLPlain=function(){},h.SASLPlain.prototype=new h.SASLMechanism("PLAIN",!0,20),h.SASLPlain.test=function(a){return null!==a.authcid},h.SASLPlain.prototype.onChallenge=function(a){var b=a.authzid;return b+="\x00",b+=a.authcid,b+="\x00",b+=a.pass},h.Connection.prototype.mechanisms[h.SASLPlain.prototype.name]=h.SASLPlain,h.SASLSHA1=function(){},h.SASLSHA1.prototype=new h.SASLMechanism("SCRAM-SHA-1",!0,40),h.SASLSHA1.test=function(a){return null!==a.authcid},h.SASLSHA1.prototype.onChallenge=function(d,e,f){var g=f||c.hexdigest(1234567890*Math.random()),h="n="+d.authcid;return h+=",r=",h+=g,d._sasl_data.cnonce=g,d._sasl_data["client-first-message-bare"]=h,h="n,,"+h,this.onChallenge=function(c,d){for(var e,f,g,h,i,j,k,l,m,n,o,p="c=biws,",q=c._sasl_data["client-first-message-bare"]+","+d+",",r=c._sasl_data.cnonce,s=/([a-z]+)=([^,]+)(,|$)/;d.match(s);){var t=d.match(s);switch(d=d.replace(t[0],""),t[1]){case"r":e=t[2];break;case"s":f=t[2];break;case"i":g=t[2]}}if(e.substr(0,r.length)!==r)return c._sasl_data={},c._sasl_failure_cb();for(p+="r="+e,q+=p,f=b.decode(f),f+="\x00\x00\x00",
h=j=a.core_hmac_sha1(c.pass,f),k=1;g>k;k++){for(i=a.core_hmac_sha1(c.pass,a.binb2str(j)),l=0;5>l;l++)h[l]^=i[l];j=i}for(h=a.binb2str(h),m=a.core_hmac_sha1(h,"Client Key"),n=a.str_hmac_sha1(h,"Server Key"),o=a.core_hmac_sha1(a.str_sha1(a.binb2str(m)),q),c._sasl_data["server-signature"]=a.b64_hmac_sha1(n,q),l=0;5>l;l++)m[l]^=o[l];return p+=",p="+b.encode(a.binb2str(m))}.bind(this),h},h.Connection.prototype.mechanisms[h.SASLSHA1.prototype.name]=h.SASLSHA1,h.SASLMD5=function(){},h.SASLMD5.prototype=new h.SASLMechanism("DIGEST-MD5",!1,30),h.SASLMD5.test=function(a){return null!==a.authcid},h.SASLMD5.prototype._quote=function(a){return'"'+a.replace(/\\/g,"\\\\").replace(/\"/g,'\\"')+'"'},h.SASLMD5.prototype.onChallenge=function(a,b,d){for(var e,f=/([a-z]+)=("[^"]+"|[^,"]+)(?:,|$)/,g=d||c.hexdigest(""+1234567890*Math.random()),h="",i=null,j="",k="";b.match(f);)switch(e=b.match(f),b=b.replace(e[0],""),e[2]=e[2].replace(/^"(.+)"$/,"$1"),e[1]){case"realm":h=e[2];break;case"nonce":j=e[2];break;case"qop":k=e[2];break;case"host":i=e[2]}var l=a.servtype+"/"+a.domain;null!==i&&(l=l+"/"+i);var m=c.hash(a.authcid+":"+h+":"+this._connection.pass)+":"+j+":"+g,n="AUTHENTICATE:"+l,o="";return o+="charset=utf-8,",o+="username="+this._quote(a.authcid)+",",o+="realm="+this._quote(h)+",",o+="nonce="+this._quote(j)+",",o+="nc=00000001,",o+="cnonce="+this._quote(g)+",",o+="digest-uri="+this._quote(l)+",",o+="response="+c.hexdigest(c.hexdigest(m)+":"+j+":00000001:"+g+":auth:"+c.hexdigest(n))+",",o+="qop=auth",this.onChallenge=function(){return""}.bind(this),o},h.Connection.prototype.mechanisms[h.SASLMD5.prototype.name]=h.SASLMD5,{Strophe:h,$build:d,$msg:e,$iq:f,$pres:g,SHA1:a,Base64:b,MD5:c}}),function(a,b){return"function"==typeof define&&define.amd?void define("strophe-bosh",["strophe-core"],function(a){return b(a.Strophe,a.$build)}):b(Strophe,$build)}(this,function(a,b){return a.Request=function(b,c,d,e){this.id=++a._requestId,this.xmlData=b,this.data=a.serialize(b),this.origFunc=c,this.func=c,this.rid=d,this.date=NaN,this.sends=e||0,this.abort=!1,this.dead=null,this.age=function(){if(!this.date)return 0;var a=new Date;return(a-this.date)/1e3},this.timeDead=function(){if(!this.dead)return 0;var a=new Date;return(a-this.dead)/1e3},this.xhr=this._newXHR()},a.Request.prototype={getResponse:function(){var b=null;if(this.xhr.responseXML&&this.xhr.responseXML.documentElement){if(b=this.xhr.responseXML.documentElement,"parsererror"==b.tagName)throw a.error("invalid response received"),a.error("responseText: "+this.xhr.responseText),a.error("responseXML: "+a.serialize(this.xhr.responseXML)),"parsererror"}else this.xhr.responseText&&(a.error("invalid response received"),a.error("responseText: "+this.xhr.responseText),a.error("responseXML: "+a.serialize(this.xhr.responseXML)));return b},_newXHR:function(){var a=null;return window.XMLHttpRequest?(a=new XMLHttpRequest,a.overrideMimeType&&a.overrideMimeType("text/xml; charset=utf-8")):window.ActiveXObject&&(a=new ActiveXObject("Microsoft.XMLHTTP")),a.onreadystatechange=this.func.bind(null,this),a}},a.Bosh=function(a){this._conn=a,this.rid=Math.floor(4294967295*Math.random()),this.sid=null,this.hold=1,this.wait=60,this.window=5,this.errors=0,this._requests=[]},a.Bosh.prototype={strip:null,_buildBody:function(){var c=b("body",{rid:this.rid++,xmlns:a.NS.HTTPBIND});return null!==this.sid&&c.attrs({sid:this.sid}),this._conn.options.keepalive&&this._cacheSession(),c},_reset:function(){this.rid=Math.floor(4294967295*Math.random()),this.sid=null,this.errors=0,window.sessionStorage.removeItem("strophe-bosh-session")},_connect:function(b,c,d){this.wait=b||this.wait,this.hold=c||this.hold,this.errors=0;var e=this._buildBody().attrs({to:this._conn.domain,"xml:lang":"en",wait:this.wait,hold:this.hold,content:"text/xml; charset=utf-8",ver:"1.6","xmpp:version":"1.0","xmlns:xmpp":a.NS.BOSH});d&&e.attrs({route:d});var f=this._conn._connect_cb;this._requests.push(new a.Request(e.tree(),this._onRequestStateChange.bind(this,f.bind(this._conn)),e.tree().getAttribute("rid"))),this._throttledRequestHandler()},_attach:function(b,c,d,e,f,g,h){this._conn.jid=b,this.sid=c,this.rid=d,this._conn.connect_callback=e,this._conn.domain=a.getDomainFromJid(this._conn.jid),this._conn.authenticated=!0,this._conn.connected=!0,this.wait=f||this.wait,this.hold=g||this.hold,this.window=h||this.window,this._conn._changeConnectStatus(a.Status.ATTACHED,null)},_restore:function(b,c,d,e,f){var g=JSON.parse(window.sessionStorage.getItem("strophe-bosh-session"));if(!("undefined"!=typeof g&&null!==g&&g.rid&&g.sid&&g.jid)||"undefined"!=typeof b&&a.getBareJidFromJid(g.jid)!=a.getBareJidFromJid(b))throw{name:"StropheSessionError",message:"_restore: no restoreable session."};this._conn.restored=!0,this._attach(g.jid,g.sid,g.rid,c,d,e,f)},_cacheSession:function(){this._conn.authenticated?this._conn.jid&&this.rid&&this.sid&&window.sessionStorage.setItem("strophe-bosh-session",JSON.stringify({jid:this._conn.jid,rid:this.rid,sid:this.sid})):window.sessionStorage.removeItem("strophe-bosh-session")},_connect_cb:function(b){var c,d,e=b.getAttribute("type");if(null!==e&&"terminate"==e)return c=b.getAttribute("condition"),a.error("BOSH-Connection failed: "+c),d=b.getElementsByTagName("conflict"),null!==c?("remote-stream-error"==c&&d.length>0&&(c="conflict"),this._conn._changeConnectStatus(a.Status.CONNFAIL,c)):this._conn._changeConnectStatus(a.Status.CONNFAIL,"unknown"),this._conn._doDisconnect(c),a.Status.CONNFAIL;this.sid||(this.sid=b.getAttribute("sid"));var f=b.getAttribute("requests");f&&(this.window=parseInt(f,10));var g=b.getAttribute("hold");g&&(this.hold=parseInt(g,10));var h=b.getAttribute("wait");h&&(this.wait=parseInt(h,10))},_disconnect:function(a){this._sendTerminate(a)},_doDisconnect:function(){this.sid=null,this.rid=Math.floor(4294967295*Math.random()),window.sessionStorage.removeItem("strophe-bosh-session")},_emptyQueue:function(){return 0===this._requests.length},_hitError:function(b){this.errors++,a.warn("request errored, status: "+b+", number of errors: "+this.errors),this.errors>4&&this._conn._onDisconnectTimeout()},_no_auth_received:function(b){b=b?b.bind(this._conn):this._conn._connect_cb.bind(this._conn);var c=this._buildBody();this._requests.push(new a.Request(c.tree(),this._onRequestStateChange.bind(this,b.bind(this._conn)),c.tree().getAttribute("rid"))),this._throttledRequestHandler()},_onDisconnectTimeout:function(){this._abortAllRequests()},_abortAllRequests:function(){for(var a;this._requests.length>0;)a=this._requests.pop(),a.abort=!0,a.xhr.abort(),a.xhr.onreadystatechange=function(){}},_onIdle:function(){var b=this._conn._data;if(this._conn.authenticated&&0===this._requests.length&&0===b.length&&!this._conn.disconnecting&&(a.info("no requests during idle cycle, sending blank request"),b.push(null)),!this._conn.paused){if(this._requests.length<2&&b.length>0){for(var c=this._buildBody(),d=0;d<b.length;d++)null!==b[d]&&("restart"===b[d]?c.attrs({to:this._conn.domain,"xml:lang":"en","xmpp:restart":"true","xmlns:xmpp":a.NS.BOSH}):c.cnode(b[d]).up());delete this._conn._data,this._conn._data=[],this._requests.push(new a.Request(c.tree(),this._onRequestStateChange.bind(this,this._conn._dataRecv.bind(this._conn)),c.tree().getAttribute("rid"))),this._throttledRequestHandler()}if(this._requests.length>0){var e=this._requests[0].age();null!==this._requests[0].dead&&this._requests[0].timeDead()>Math.floor(a.SECONDARY_TIMEOUT*this.wait)&&this._throttledRequestHandler(),e>Math.floor(a.TIMEOUT*this.wait)&&(a.warn("Request "+this._requests[0].id+" timed out, over "+Math.floor(a.TIMEOUT*this.wait)+" seconds since last activity"),this._throttledRequestHandler())}}},_onRequestStateChange:function(b,c){if(a.debug("request id "+c.id+"."+c.sends+" state changed to "+c.xhr.readyState),c.abort)return void(c.abort=!1);var d;if(4==c.xhr.readyState){d=0;try{d=c.xhr.status}catch(e){}if("undefined"==typeof d&&(d=0),this.disconnecting&&d>=400)return void this._hitError(d);var f=this._requests[0]==c,g=this._requests[1]==c;(d>0&&500>d||c.sends>5)&&(this._removeRequest(c),a.debug("request id "+c.id+" should now be removed")),200==d?((g||f&&this._requests.length>0&&this._requests[0].age()>Math.floor(a.SECONDARY_TIMEOUT*this.wait))&&this._restartRequest(0),a.debug("request id "+c.id+"."+c.sends+" got 200"),b(c),this.errors=0):(a.error("request id "+c.id+"."+c.sends+" error "+d+" happened"),(0===d||d>=400&&600>d||d>=12e3)&&(this._hitError(d),d>=400&&500>d&&(this._conn._changeConnectStatus(a.Status.DISCONNECTING,null),this._conn._doDisconnect()))),d>0&&500>d||c.sends>5||this._throttledRequestHandler()}},_processRequest:function(b){var c=this,d=this._requests[b],e=-1;try{4==d.xhr.readyState&&(e=d.xhr.status)}catch(f){a.error("caught an error in _requests["+b+"], reqStatus: "+e)}if("undefined"==typeof e&&(e=-1),d.sends>this._conn.maxRetries)return void this._conn._onDisconnectTimeout();var g=d.age(),h=!isNaN(g)&&g>Math.floor(a.TIMEOUT*this.wait),i=null!==d.dead&&d.timeDead()>Math.floor(a.SECONDARY_TIMEOUT*this.wait),j=4==d.xhr.readyState&&(1>e||e>=500);if((h||i||j)&&(i&&a.error("Request "+this._requests[b].id+" timed out (secondary), restarting"),d.abort=!0,d.xhr.abort(),d.xhr.onreadystatechange=function(){},this._requests[b]=new a.Request(d.xmlData,d.origFunc,d.rid,d.sends),d=this._requests[b]),0===d.xhr.readyState){a.debug("request id "+d.id+"."+d.sends+" posting");try{d.xhr.open("POST",this._conn.service,this._conn.options.sync?!1:!0),d.xhr.setRequestHeader("Content-Type","text/xml; charset=utf-8")}catch(k){return a.error("XHR open failed."),this._conn.connected||this._conn._changeConnectStatus(a.Status.CONNFAIL,"bad-service"),void this._conn.disconnect()}var l=function(){if(d.date=new Date,c._conn.options.customHeaders){var a=c._conn.options.customHeaders;for(var b in a)a.hasOwnProperty(b)&&d.xhr.setRequestHeader(b,a[b])}d.xhr.send(d.data)};if(d.sends>1){var m=1e3*Math.min(Math.floor(a.TIMEOUT*this.wait),Math.pow(d.sends,3));setTimeout(l,m)}else l();d.sends++,this._conn.xmlOutput!==a.Connection.prototype.xmlOutput&&(d.xmlData.nodeName===this.strip&&d.xmlData.childNodes.length?this._conn.xmlOutput(d.xmlData.childNodes[0]):this._conn.xmlOutput(d.xmlData)),this._conn.rawOutput!==a.Connection.prototype.rawOutput&&this._conn.rawOutput(d.data)}else a.debug("_processRequest: "+(0===b?"first":"second")+" request has readyState of "+d.xhr.readyState)},_removeRequest:function(b){a.debug("removing request");var c;for(c=this._requests.length-1;c>=0;c--)b==this._requests[c]&&this._requests.splice(c,1);b.xhr.onreadystatechange=function(){},this._throttledRequestHandler()},_restartRequest:function(a){var b=this._requests[a];null===b.dead&&(b.dead=new Date),this._processRequest(a)},_reqToData:function(a){try{return a.getResponse()}catch(b){if("parsererror"!=b)throw b;this._conn.disconnect("strophe-parsererror")}},_sendTerminate:function(b){a.info("_sendTerminate was called");var c=this._buildBody().attrs({type:"terminate"});b&&c.cnode(b.tree());var d=new a.Request(c.tree(),this._onRequestStateChange.bind(this,this._conn._dataRecv.bind(this._conn)),c.tree().getAttribute("rid"));this._requests.push(d),this._throttledRequestHandler()},_send:function(){clearTimeout(this._conn._idleTimeout),this._throttledRequestHandler(),this._conn._idleTimeout=setTimeout(this._conn._onIdle.bind(this._conn),100)},_sendRestart:function(){this._throttledRequestHandler(),clearTimeout(this._conn._idleTimeout)},_throttledRequestHandler:function(){this._requests?a.debug("_throttledRequestHandler called with "+this._requests.length+" requests"):a.debug("_throttledRequestHandler called with undefined requests"),this._requests&&0!==this._requests.length&&(this._requests.length>0&&this._processRequest(0),this._requests.length>1&&Math.abs(this._requests[0].rid-this._requests[1].rid)<this.window&&this._processRequest(1))}},a}),function(a,b){return"function"==typeof define&&define.amd?void define("strophe-websocket",["strophe-core"],function(a){return b(a.Strophe,a.$build)}):b(Strophe,$build)}(this,function(a,b){return a.Websocket=function(a){this._conn=a,this.strip="wrapper";var b=a.service;if(0!==b.indexOf("ws:")&&0!==b.indexOf("wss:")){var c="";c+="ws"===a.options.protocol&&"https:"!==window.location.protocol?"ws":"wss",c+="://"+window.location.host,c+=0!==b.indexOf("/")?window.location.pathname+b:b,a.service=c}},a.Websocket.prototype={_buildStream:function(){return b("open",{xmlns:a.NS.FRAMING,to:this._conn.domain,version:"1.0"})},_check_streamerror:function(b,c){var d;if(d=b.getElementsByTagNameNS?b.getElementsByTagNameNS(a.NS.STREAM,"error"):b.getElementsByTagName("stream:error"),0===d.length)return!1;for(var e=d[0],f="",g="",h="urn:ietf:params:xml:ns:xmpp-streams",i=0;i<e.childNodes.length;i++){var j=e.childNodes[i];if(j.getAttribute("xmlns")!==h)break;"text"===j.nodeName?g=j.textContent:f=j.nodeName}var k="WebSocket stream error: ";return k+=f?f:"unknown",g&&(k+=" - "+f),a.error(k),this._conn._changeConnectStatus(c,f),this._conn._doDisconnect(),!0},_reset:function(){},_connect:function(){this._closeSocket(),this.socket=new WebSocket(this._conn.service,"xmpp"),this.socket.onopen=this._onOpen.bind(this),this.socket.onerror=this._onError.bind(this),this.socket.onclose=this._onClose.bind(this),this.socket.onmessage=this._connect_cb_wrapper.bind(this)},_connect_cb:function(b){var c=this._check_streamerror(b,a.Status.CONNFAIL);return c?a.Status.CONNFAIL:void 0},_handleStreamStart:function(b){var c=!1,d=b.getAttribute("xmlns");"string"!=typeof d?c="Missing xmlns in <open />":d!==a.NS.FRAMING&&(c="Wrong xmlns in <open />: "+d);var e=b.getAttribute("version");return"string"!=typeof e?c="Missing version in <open />":"1.0"!==e&&(c="Wrong version in <open />: "+e),c?(this._conn._changeConnectStatus(a.Status.CONNFAIL,c),this._conn._doDisconnect(),!1):!0},_connect_cb_wrapper:function(b){if(0===b.data.indexOf("<open ")||0===b.data.indexOf("<?xml")){var c=b.data.replace(/^(<\?.*?\?>\s*)*/,"");if(""===c)return;var d=(new DOMParser).parseFromString(c,"text/xml").documentElement;this._conn.xmlInput(d),this._conn.rawInput(b.data),this._handleStreamStart(d)&&this._connect_cb(d)}else if(0===b.data.indexOf("<close ")){this._conn.rawInput(b.data),this._conn.xmlInput(b);var e=b.getAttribute("see-other-uri");e?(this._conn._changeConnectStatus(a.Status.REDIRECT,"Received see-other-uri, resetting connection"),this._conn.reset(),this._conn.service=e,this._connect()):(this._conn._changeConnectStatus(a.Status.CONNFAIL,"Received closing stream"),this._conn._doDisconnect())}else{var f=this._streamWrap(b.data),g=(new DOMParser).parseFromString(f,"text/xml").documentElement;this.socket.onmessage=this._onMessage.bind(this),this._conn._connect_cb(g,null,b.data)}},_disconnect:function(c){if(this.socket&&this.socket.readyState!==WebSocket.CLOSED){c&&this._conn.send(c);var d=b("close",{xmlns:a.NS.FRAMING});this._conn.xmlOutput(d);var e=a.serialize(d);this._conn.rawOutput(e);try{this.socket.send(e)}catch(f){a.info("Couldn't send <close /> tag.")}}this._conn._doDisconnect()},_doDisconnect:function(){a.info("WebSockets _doDisconnect was called"),this._closeSocket()},_streamWrap:function(a){return"<wrapper>"+a+"</wrapper>"},_closeSocket:function(){if(this.socket)try{this.socket.close()}catch(a){}this.socket=null},_emptyQueue:function(){return!0},_onClose:function(){this._conn.connected&&!this._conn.disconnecting?(a.error("Websocket closed unexcectedly"),this._conn._doDisconnect()):a.info("Websocket closed")},_no_auth_received:function(b){a.error("Server did not send any auth methods"),this._conn._changeConnectStatus(a.Status.CONNFAIL,"Server did not send any auth methods"),b&&(b=b.bind(this._conn))(),this._conn._doDisconnect()},_onDisconnectTimeout:function(){},_abortAllRequests:function(){},_onError:function(b){a.error("Websocket error "+b),this._conn._changeConnectStatus(a.Status.CONNFAIL,"The WebSocket connection could not be established was disconnected."),this._disconnect()},_onIdle:function(){var b=this._conn._data;if(b.length>0&&!this._conn.paused){for(var c=0;c<b.length;c++)if(null!==b[c]){var d,e;d="restart"===b[c]?this._buildStream().tree():b[c],e=a.serialize(d),this._conn.xmlOutput(d),this._conn.rawOutput(e),this.socket.send(e)}this._conn._data=[]}},_onMessage:function(b){var c,d,e='<close xmlns="urn:ietf:params:xml:ns:xmpp-framing" />';if(b.data===e)return this._conn.rawInput(e),this._conn.xmlInput(b),void(this._conn.disconnecting||this._conn._doDisconnect());if(0===b.data.search("<open ")){if(c=(new DOMParser).parseFromString(b.data,"text/xml").documentElement,!this._handleStreamStart(c))return}else d=this._streamWrap(b.data),c=(new DOMParser).parseFromString(d,"text/xml").documentElement;return this._check_streamerror(c,a.Status.ERROR)?void 0:this._conn.disconnecting&&"presence"===c.firstChild.nodeName&&"unavailable"===c.firstChild.getAttribute("type")?(this._conn.xmlInput(c),void this._conn.rawInput(a.serialize(c))):void this._conn._dataRecv(c,b.data)},_onOpen:function(){a.info("Websocket open");var b=this._buildStream();this._conn.xmlOutput(b.tree());var c=a.serialize(b);this._conn.rawOutput(c),this.socket.send(c)},_reqToData:function(a){return a},_send:function(){this._conn.flush()},_sendRestart:function(){clearTimeout(this._conn._idleTimeout),this._conn._onIdle.bind(this._conn)()}},a}),a?a(Strophe,$build,$msg,$iq,$pres):void 0}(function(a,b,c,d,e){window.Strophe=a,window.$build=b,window.$msg=c,window.$iq=d,window.$pres=e}),function(){var a;a=function(a,b,c){var d;return d=$iq(b?{type:a,to:b}:{type:a}),d.c("vCard",{xmlns:Strophe.NS.VCARD}),c&&d.cnode(c),d},Strophe.addConnectionPlugin("vcard",{_connection:null,init:function(a){return this._connection=a,Strophe.addNamespace("VCARD","vcard-temp")},get:function(b,c,d){var e;return e=a("get",c),this._connection.sendIQ(e,b,d)},set:function(b,c,d,e){var f;return f=a("set",d,c),this._connection.sendIQ(f,b,e)}})}.call(this),function(a,b){"function"==typeof define&&define.amd?define("strophe.disco",["strophe"],function(a){return b(a.Strophe,a.$build,a.$iq,a.$msg,a.$pres),a}):b(a.Strophe,a.$build,a.$iq,a.$msg,a.$pres)}(this,function(a,b,c,d,e){a.addConnectionPlugin("disco",{_connection:null,_identities:[],_features:[],_items:[],init:function(b){this._connection=b,this._identities=[],this._features=[],this._items=[],b.addHandler(this._onDiscoInfo.bind(this),a.NS.DISCO_INFO,"iq","get",null,null),b.addHandler(this._onDiscoItems.bind(this),a.NS.DISCO_ITEMS,"iq","get",null,null)},addIdentity:function(a,b,c,d){for(var e=0;e<this._identities.length;e++)if(this._identities[e].category==a&&this._identities[e].type==b&&this._identities[e].name==c&&this._identities[e].lang==d)return!1;return this._identities.push({category:a,type:b,name:c,lang:d}),!0},addFeature:function(a){for(var b=0;b<this._features.length;b++)if(this._features[b]==a)return!1;return this._features.push(a),!0},removeFeature:function(a){for(var b=0;b<this._features.length;b++)if(this._features[b]===a)return this._features.splice(b,1),!0;return!1},addItem:function(a,b,c,d){return c&&!d?!1:(this._items.push({jid:a,name:b,node:c,call_back:d}),!0)},info:function(b,d,e,f,g){var h={xmlns:a.NS.DISCO_INFO};d&&(h.node=d);var i=c({from:this._connection.jid,to:b,type:"get"}).c("query",h);this._connection.sendIQ(i,e,f,g)},items:function(b,d,e,f,g){var h={xmlns:a.NS.DISCO_ITEMS};d&&(h.node=d);var i=c({from:this._connection.jid,to:b,type:"get"}).c("query",h);this._connection.sendIQ(i,e,f,g)},_buildIQResult:function(a,b){var d=a.getAttribute("id"),e=a.getAttribute("from"),f=c({type:"result",id:d});return null!==e&&f.attrs({to:e}),f.c("query",b)},_onDiscoInfo:function(b){var c,d=b.getElementsByTagName("query")[0].getAttribute("node"),e={xmlns:a.NS.DISCO_INFO};d&&(e.node=d);var f=this._buildIQResult(b,e);for(c=0;c<this._identities.length;c++)e={category:this._identities[c].category,type:this._identities[c].type},this._identities[c].name&&(e.name=this._identities[c].name),this._identities[c].lang&&(e["xml:lang"]=this._identities[c].lang),f.c("identity",e).up();for(c=0;c<this._features.length;c++)f.c("feature",{"var":this._features[c]}).up();return this._connection.send(f.tree()),!0},_onDiscoItems:function(b){var c,d,e={xmlns:a.NS.DISCO_ITEMS},f=b.getElementsByTagName("query")[0].getAttribute("node");if(f){for(e.node=f,c=[],d=0;d<this._items.length;d++)if(this._items[d].node==f){c=this._items[d].call_back(b);break}}else c=this._items;var g=this._buildIQResult(b,e);for(d=0;d<c.length;d++){var h={jid:c[d].jid};c[d].name&&(h.name=c[d].name),c[d].node&&(h.node=c[d].node),g.c("item",h).up()}return this._connection.send(g.tree()),!0}})}),function(a,b){"function"==typeof define&&define.amd?define("strophe.rsm",["strophe"],function(a){return b(a.Strophe,a.$build,a.$iq,a.$msg,a.$pres),a}):b(a.Strophe,a.$build,a.$iq,a.$msg,a.$pres)}(this,function(a,b,c,d,e){a.addNamespace("RSM","http://jabber.org/protocol/rsm"),a.RSM=function(a){if(this.attribs=["max","first","last","after","before","index","count"],"undefined"!=typeof a.xml)this.fromXMLElement(a.xml);else for(var b=0;b<this.attribs.length;b++){var c=this.attribs[b];this[c]=a[c]}},a.RSM.prototype={toXML:function(){for(var c=b("set",{xmlns:a.NS.RSM}),d=0;d<this.attribs.length;d++){var e=this.attribs[d];"undefined"!=typeof this[e]&&(c=c.c(e).t(this[e].toString()).up())}return c.tree()},next:function(b){var c=new a.RSM({max:b,after:this.last});return c},previous:function(b){var c=new a.RSM({max:b,before:this.first});return c},fromXMLElement:function(b){for(var c=0;c<this.attribs.length;c++){var d=this.attribs[c],e=b.getElementsByTagName(d)[0];"undefined"!=typeof e&&null!==e&&(this[d]=a.getText(e),"first"==d&&(this.index=e.getAttribute("index")))}}}}),function(a,b){"function"==typeof define&&define.amd?define(["strophe"],function(a){return b(a.Strophe,a.$build,a.$iq,a.$msg,a.$pres),a}):b(a.Strophe,a.$build,a.$iq,a.$msg,a.$pres)}(this,function(a,b,c,d,e){a.addConnectionPlugin("ping",{_c:null,init:function(b){this._c=b,a.addNamespace("PING","urn:xmpp:ping")},ping:function(b,d,e,f){var g=this._c.getUniqueId("ping"),h=c({type:"get",to:b,id:g}).c("ping",{xmlns:a.NS.PING});this._c.sendIQ(h,d,e,f)},pong:function(a){var b=a.getAttribute("from"),d=a.getAttribute("id"),e=c({type:"result",to:b,id:d});this._c.sendIQ(e)},addPingHandler:function(b){return this._c.addHandler(b,a.NS.PING,"iq","get")}})}),function(a,b){"object"==typeof exports&&"function"==typeof require?module.exports=b(require("backbone"),require("underscore")):"function"==typeof define&&define.amd?define(["backbone","underscore"],function(c,d){return b(c||a.Backbone,d||a._)}):b(Backbone,_)}(this,function(a,b){function c(){return(65536*(1+Math.random())|0).toString(16).substring(1)}function d(){return c()+c()+"-"+c()+"-"+c()+"-"+c()+"-"+c()+c()+c()}function e(a,b){for(var c=a.length;c--;)if(a[c]===b)return!0;return!1}function f(a,b){for(var c in b)a[c]=b[c];return a}function g(a,c,d){var e;if("local"===d&&!window.localStorage)throw"Backbone.browserStorage: Environment does not support localStorage.";if("session"===d&&!window.sessionStorage)throw"Backbone.browserStorage: Environment does not support sessionStorage.";if(this.name=a,this.serializer=c||{serialize:function(a){return b.isObject(a)?JSON.stringify(a):a},deserialize:function(a){return a&&JSON.parse(a)}},"session"===d)this.store=window.sessionStorage;else{if("local"!==d)throw"Backbone.browserStorage: No storage type was specified";this.store=window.localStorage}e=this.store.getItem(this.name),this.records=e&&e.split(",")||[]}a.BrowserStorage={local:function(a,b){return g.bind(this,a,b,"local")()},session:function(a,b){return g.bind(this,a,b,"session")()}};var h={save:function(){this.store.setItem(this.name,this.records.join(","))},create:function(a){return a.id||(a.id=d(),a.set(a.idAttribute,a.id)),this.store.setItem(this._itemName(a.id),this.serializer.serialize(a)),this.records.push(a.id.toString()),this.save(),this.find(a)!==!1},update:function(a){this.store.setItem(this._itemName(a.id),this.serializer.serialize(a));var b=a.id.toString();return e(this.records,b)||(this.records.push(b),this.save()),this.find(a)!==!1},find:function(a){return this.serializer.deserialize(this.store.getItem(this._itemName(a.id)))},findAll:function(){for(var a,b,c=[],d=0;d<this.records.length;d++)a=this.records[d],b=this.serializer.deserialize(this.store.getItem(this._itemName(a))),null!==b&&c.push(b);return c},destroy:function(a){this.store.removeItem(this._itemName(a.id));for(var b=a.id.toString(),c=0;c<this.records.length;c++)this.records[c]===b&&this.records.splice(c,1);return this.save(),a},browserStorage:function(){return{session:sessionStorage,local:localStorage}},_clear:function(){var a=this.store,b=new RegExp("^"+this.name+"-");a.removeItem(this.name);for(var c in a)b.test(c)&&a.removeItem(c);this.records.length=0},_storageSize:function(){return this.store.length},_itemName:function(a){return this.name+"-"+a}};return f(a.BrowserStorage.session.prototype,h),f(a.BrowserStorage.local.prototype,h),a.BrowserStorage.sync=a.localSync=function(b,c,d){var e,f,g=c.browserStorage||c.collection.browserStorage,h=a.$?a.$.Deferred&&a.$.Deferred():a.Deferred&&a.Deferred();try{switch(b){case"read":e=void 0!==c.id?g.find(c):g.findAll();break;case"create":e=g.create(c);break;case"update":e=g.update(c);break;case"delete":e=g.destroy(c)}}catch(i){f=22===i.code&&0===g._storageSize()?"Private browsing is unsupported":i.message}return e?(d&&d.success&&("0.9.10"===a.VERSION?d.success(c,e,d):d.success(e)),h&&h.resolve(e)):(f=f?f:"Record Not Found",d&&d.error&&("0.9.10"===a.VERSION?d.error(c,f,d):d.error(f)),h&&h.reject(f)),d&&d.complete&&d.complete(e),h&&h.promise()},a.ajaxSync=a.sync,a.getSyncMethod=function(b){return b.browserStorage||b.collection&&b.collection.browserStorage?a.localSync:a.ajaxSync},a.sync=function(b,c,d){return a.getSyncMethod(c).apply(this,[b,c,d])},a.BrowserStorage}),function(a,b){"function"==typeof define&&define.amd?define(["underscore","backbone"],b):b(_||a._,Backbone||a.Backbone)}(this,function(a,b){"use strict";var c=b.Overview=function(c){this.views={},this.keys=a.partial(a.keys,this.views),this.getAll=a.partial(a.identity,this.views),this.get=function(a){return this.views[a]}.bind(this),this.add=function(a,b){return this.views[a]=b,b}.bind(this),this.remove=function(a){"undefined"==typeof a&&(new b.View).remove.apply(this);var c=this.views[a];return c?(delete this.views[a],c.el.remove(),c):void 0}.bind(this),this.removeAll=function(){a.each(a.keys(this.views),this.remove)}.bind(this),b.View.apply(this,Array.prototype.slice.apply(arguments))},d=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","difference","indexOf","shuffle","lastIndexOf","isEmpty","chain","sample"];return a.each(d,function(b){c.prototype[b]=function(){var c=Array.prototype.slice.call(arguments);return c.unshift(this.views),a[b].apply(a,c)}}),a.extend(c.prototype,b.View.prototype),c.extend=b.View.extend,b.Overview}),function(a,b){"object"==typeof exports&&"undefined"!=typeof module?module.exports=b():"function"==typeof define&&define.amd?define(b):a.moment=b()}(this,function(){"use strict";function a(){return Md.apply(null,arguments)}function b(a){Md=a}function c(a){return"[object Array]"===Object.prototype.toString.call(a)}function d(a){return a instanceof Date||"[object Date]"===Object.prototype.toString.call(a)}function e(a,b){var c,d=[];for(c=0;c<a.length;++c)d.push(b(a[c],c));return d}function f(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function g(a,b){for(var c in b)f(b,c)&&(a[c]=b[c]);return f(b,"toString")&&(a.toString=b.toString),f(b,"valueOf")&&(a.valueOf=b.valueOf),a}function h(a,b,c,d){return Ca(a,b,c,d,!0).utc()}function i(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function j(a){return null==a._pf&&(a._pf=i()),a._pf}function k(a){if(null==a._isValid){var b=j(a);a._isValid=!(isNaN(a._d.getTime())||!(b.overflow<0)||b.empty||b.invalidMonth||b.invalidWeekday||b.nullInput||b.invalidFormat||b.userInvalidated),a._strict&&(a._isValid=a._isValid&&0===b.charsLeftOver&&0===b.unusedTokens.length&&void 0===b.bigHour)}return a._isValid}function l(a){var b=h(NaN);return null!=a?g(j(b),a):j(b).userInvalidated=!0,b}function m(a,b){var c,d,e;if("undefined"!=typeof b._isAMomentObject&&(a._isAMomentObject=b._isAMomentObject),"undefined"!=typeof b._i&&(a._i=b._i),"undefined"!=typeof b._f&&(a._f=b._f),"undefined"!=typeof b._l&&(a._l=b._l),"undefined"!=typeof b._strict&&(a._strict=b._strict),"undefined"!=typeof b._tzm&&(a._tzm=b._tzm),"undefined"!=typeof b._isUTC&&(a._isUTC=b._isUTC),"undefined"!=typeof b._offset&&(a._offset=b._offset),"undefined"!=typeof b._pf&&(a._pf=j(b)),"undefined"!=typeof b._locale&&(a._locale=b._locale),Od.length>0)for(c in Od)d=Od[c],e=b[d],"undefined"!=typeof e&&(a[d]=e);return a}function n(b){m(this,b),this._d=new Date(null!=b._d?b._d.getTime():NaN),Pd===!1&&(Pd=!0,a.updateOffset(this),Pd=!1)}function o(a){return a instanceof n||null!=a&&null!=a._isAMomentObject}function p(a){return 0>a?Math.ceil(a):Math.floor(a)}function q(a){var b=+a,c=0;return 0!==b&&isFinite(b)&&(c=p(b)),c}function r(a,b,c){var d,e=Math.min(a.length,b.length),f=Math.abs(a.length-b.length),g=0;for(d=0;e>d;d++)(c&&a[d]!==b[d]||!c&&q(a[d])!==q(b[d]))&&g++;return g+f}function s(){}function t(a){return a?a.toLowerCase().replace("_","-"):a}function u(a){for(var b,c,d,e,f=0;f<a.length;){for(e=t(a[f]).split("-"),b=e.length,c=t(a[f+1]),c=c?c.split("-"):null;b>0;){if(d=v(e.slice(0,b).join("-")))return d;if(c&&c.length>=b&&r(e,c,!0)>=b-1)break;b--}f++}return null}function v(a){var b=null;if(!Qd[a]&&"undefined"!=typeof module&&module&&module.exports)try{b=Nd._abbr,require("./locale/"+a),w(b)}catch(c){}return Qd[a]}function w(a,b){var c;return a&&(c="undefined"==typeof b?y(a):x(a,b),c&&(Nd=c)),Nd._abbr}function x(a,b){return null!==b?(b.abbr=a,Qd[a]=Qd[a]||new s,Qd[a].set(b),w(a),Qd[a]):(delete Qd[a],null)}function y(a){var b;if(a&&a._locale&&a._locale._abbr&&(a=a._locale._abbr),!a)return Nd;if(!c(a)){if(b=v(a))return b;a=[a]}return u(a)}function z(a,b){var c=a.toLowerCase();Rd[c]=Rd[c+"s"]=Rd[b]=a}function A(a){return"string"==typeof a?Rd[a]||Rd[a.toLowerCase()]:void 0}function B(a){var b,c,d={};for(c in a)f(a,c)&&(b=A(c),b&&(d[b]=a[c]));return d}function C(b,c){return function(d){return null!=d?(E(this,b,d),a.updateOffset(this,c),this):D(this,b)}}function D(a,b){return a._d["get"+(a._isUTC?"UTC":"")+b]()}function E(a,b,c){return a._d["set"+(a._isUTC?"UTC":"")+b](c)}function F(a,b){var c;if("object"==typeof a)for(c in a)this.set(c,a[c]);else if(a=A(a),"function"==typeof this[a])return this[a](b);return this}function G(a,b,c){var d=""+Math.abs(a),e=b-d.length,f=a>=0;return(f?c?"+":"":"-")+Math.pow(10,Math.max(0,e)).toString().substr(1)+d}function H(a,b,c,d){var e=d;"string"==typeof d&&(e=function(){return this[d]()}),a&&(Vd[a]=e),b&&(Vd[b[0]]=function(){return G(e.apply(this,arguments),b[1],b[2])}),c&&(Vd[c]=function(){return this.localeData().ordinal(e.apply(this,arguments),a)})}function I(a){return a.match(/\[[\s\S]/)?a.replace(/^\[|\]$/g,""):a.replace(/\\/g,"")}function J(a){var b,c,d=a.match(Sd);for(b=0,c=d.length;c>b;b++)Vd[d[b]]?d[b]=Vd[d[b]]:d[b]=I(d[b]);return function(e){var f="";for(b=0;c>b;b++)f+=d[b]instanceof Function?d[b].call(e,a):d[b];return f}}function K(a,b){return a.isValid()?(b=L(b,a.localeData()),Ud[b]=Ud[b]||J(b),Ud[b](a)):a.localeData().invalidDate()}function L(a,b){function c(a){return b.longDateFormat(a)||a}var d=5;for(Td.lastIndex=0;d>=0&&Td.test(a);)a=a.replace(Td,c),Td.lastIndex=0,d-=1;return a}function M(a){return"function"==typeof a&&"[object Function]"===Object.prototype.toString.call(a)}function N(a,b,c){ie[a]=M(b)?b:function(a){return a&&c?c:b}}function O(a,b){return f(ie,a)?ie[a](b._strict,b._locale):new RegExp(P(a));
}function P(a){return a.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(a,b,c,d,e){return b||c||d||e}).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Q(a,b){var c,d=b;for("string"==typeof a&&(a=[a]),"number"==typeof b&&(d=function(a,c){c[b]=q(a)}),c=0;c<a.length;c++)je[a[c]]=d}function R(a,b){Q(a,function(a,c,d,e){d._w=d._w||{},b(a,d._w,d,e)})}function S(a,b,c){null!=b&&f(je,a)&&je[a](b,c._a,c,a)}function T(a,b){return new Date(Date.UTC(a,b+1,0)).getUTCDate()}function U(a){return this._months[a.month()]}function V(a){return this._monthsShort[a.month()]}function W(a,b,c){var d,e,f;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),d=0;12>d;d++){if(e=h([2e3,d]),c&&!this._longMonthsParse[d]&&(this._longMonthsParse[d]=new RegExp("^"+this.months(e,"").replace(".","")+"$","i"),this._shortMonthsParse[d]=new RegExp("^"+this.monthsShort(e,"").replace(".","")+"$","i")),c||this._monthsParse[d]||(f="^"+this.months(e,"")+"|^"+this.monthsShort(e,""),this._monthsParse[d]=new RegExp(f.replace(".",""),"i")),c&&"MMMM"===b&&this._longMonthsParse[d].test(a))return d;if(c&&"MMM"===b&&this._shortMonthsParse[d].test(a))return d;if(!c&&this._monthsParse[d].test(a))return d}}function X(a,b){var c;return"string"==typeof b&&(b=a.localeData().monthsParse(b),"number"!=typeof b)?a:(c=Math.min(a.date(),T(a.year(),b)),a._d["set"+(a._isUTC?"UTC":"")+"Month"](b,c),a)}function Y(b){return null!=b?(X(this,b),a.updateOffset(this,!0),this):D(this,"Month")}function Z(){return T(this.year(),this.month())}function $(a){var b,c=a._a;return c&&-2===j(a).overflow&&(b=c[le]<0||c[le]>11?le:c[me]<1||c[me]>T(c[ke],c[le])?me:c[ne]<0||c[ne]>24||24===c[ne]&&(0!==c[oe]||0!==c[pe]||0!==c[qe])?ne:c[oe]<0||c[oe]>59?oe:c[pe]<0||c[pe]>59?pe:c[qe]<0||c[qe]>999?qe:-1,j(a)._overflowDayOfYear&&(ke>b||b>me)&&(b=me),j(a).overflow=b),a}function _(b){a.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+b)}function aa(a,b){var c=!0;return g(function(){return c&&(_(a+"\n"+(new Error).stack),c=!1),b.apply(this,arguments)},b)}function ba(a,b){te[a]||(_(b),te[a]=!0)}function ca(a){var b,c,d=a._i,e=ue.exec(d);if(e){for(j(a).iso=!0,b=0,c=ve.length;c>b;b++)if(ve[b][1].exec(d)){a._f=ve[b][0];break}for(b=0,c=we.length;c>b;b++)if(we[b][1].exec(d)){a._f+=(e[6]||" ")+we[b][0];break}d.match(fe)&&(a._f+="Z"),va(a)}else a._isValid=!1}function da(b){var c=xe.exec(b._i);return null!==c?void(b._d=new Date(+c[1])):(ca(b),void(b._isValid===!1&&(delete b._isValid,a.createFromInputFallback(b))))}function ea(a,b,c,d,e,f,g){var h=new Date(a,b,c,d,e,f,g);return 1970>a&&h.setFullYear(a),h}function fa(a){var b=new Date(Date.UTC.apply(null,arguments));return 1970>a&&b.setUTCFullYear(a),b}function ga(a){return ha(a)?366:365}function ha(a){return a%4===0&&a%100!==0||a%400===0}function ia(){return ha(this.year())}function ja(a,b,c){var d,e=c-b,f=c-a.day();return f>e&&(f-=7),e-7>f&&(f+=7),d=Da(a).add(f,"d"),{week:Math.ceil(d.dayOfYear()/7),year:d.year()}}function ka(a){return ja(a,this._week.dow,this._week.doy).week}function la(){return this._week.dow}function ma(){return this._week.doy}function na(a){var b=this.localeData().week(this);return null==a?b:this.add(7*(a-b),"d")}function oa(a){var b=ja(this,1,4).week;return null==a?b:this.add(7*(a-b),"d")}function pa(a,b,c,d,e){var f,g=6+e-d,h=fa(a,0,1+g),i=h.getUTCDay();return e>i&&(i+=7),c=null!=c?1*c:e,f=1+g+7*(b-1)-i+c,{year:f>0?a:a-1,dayOfYear:f>0?f:ga(a-1)+f}}function qa(a){var b=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==a?b:this.add(a-b,"d")}function ra(a,b,c){return null!=a?a:null!=b?b:c}function sa(a){var b=new Date;return a._useUTC?[b.getUTCFullYear(),b.getUTCMonth(),b.getUTCDate()]:[b.getFullYear(),b.getMonth(),b.getDate()]}function ta(a){var b,c,d,e,f=[];if(!a._d){for(d=sa(a),a._w&&null==a._a[me]&&null==a._a[le]&&ua(a),a._dayOfYear&&(e=ra(a._a[ke],d[ke]),a._dayOfYear>ga(e)&&(j(a)._overflowDayOfYear=!0),c=fa(e,0,a._dayOfYear),a._a[le]=c.getUTCMonth(),a._a[me]=c.getUTCDate()),b=0;3>b&&null==a._a[b];++b)a._a[b]=f[b]=d[b];for(;7>b;b++)a._a[b]=f[b]=null==a._a[b]?2===b?1:0:a._a[b];24===a._a[ne]&&0===a._a[oe]&&0===a._a[pe]&&0===a._a[qe]&&(a._nextDay=!0,a._a[ne]=0),a._d=(a._useUTC?fa:ea).apply(null,f),null!=a._tzm&&a._d.setUTCMinutes(a._d.getUTCMinutes()-a._tzm),a._nextDay&&(a._a[ne]=24)}}function ua(a){var b,c,d,e,f,g,h;b=a._w,null!=b.GG||null!=b.W||null!=b.E?(f=1,g=4,c=ra(b.GG,a._a[ke],ja(Da(),1,4).year),d=ra(b.W,1),e=ra(b.E,1)):(f=a._locale._week.dow,g=a._locale._week.doy,c=ra(b.gg,a._a[ke],ja(Da(),f,g).year),d=ra(b.w,1),null!=b.d?(e=b.d,f>e&&++d):e=null!=b.e?b.e+f:f),h=pa(c,d,e,g,f),a._a[ke]=h.year,a._dayOfYear=h.dayOfYear}function va(b){if(b._f===a.ISO_8601)return void ca(b);b._a=[],j(b).empty=!0;var c,d,e,f,g,h=""+b._i,i=h.length,k=0;for(e=L(b._f,b._locale).match(Sd)||[],c=0;c<e.length;c++)f=e[c],d=(h.match(O(f,b))||[])[0],d&&(g=h.substr(0,h.indexOf(d)),g.length>0&&j(b).unusedInput.push(g),h=h.slice(h.indexOf(d)+d.length),k+=d.length),Vd[f]?(d?j(b).empty=!1:j(b).unusedTokens.push(f),S(f,d,b)):b._strict&&!d&&j(b).unusedTokens.push(f);j(b).charsLeftOver=i-k,h.length>0&&j(b).unusedInput.push(h),j(b).bigHour===!0&&b._a[ne]<=12&&b._a[ne]>0&&(j(b).bigHour=void 0),b._a[ne]=wa(b._locale,b._a[ne],b._meridiem),ta(b),$(b)}function wa(a,b,c){var d;return null==c?b:null!=a.meridiemHour?a.meridiemHour(b,c):null!=a.isPM?(d=a.isPM(c),d&&12>b&&(b+=12),d||12!==b||(b=0),b):b}function xa(a){var b,c,d,e,f;if(0===a._f.length)return j(a).invalidFormat=!0,void(a._d=new Date(NaN));for(e=0;e<a._f.length;e++)f=0,b=m({},a),null!=a._useUTC&&(b._useUTC=a._useUTC),b._f=a._f[e],va(b),k(b)&&(f+=j(b).charsLeftOver,f+=10*j(b).unusedTokens.length,j(b).score=f,(null==d||d>f)&&(d=f,c=b));g(a,c||b)}function ya(a){if(!a._d){var b=B(a._i);a._a=[b.year,b.month,b.day||b.date,b.hour,b.minute,b.second,b.millisecond],ta(a)}}function za(a){var b=new n($(Aa(a)));return b._nextDay&&(b.add(1,"d"),b._nextDay=void 0),b}function Aa(a){var b=a._i,e=a._f;return a._locale=a._locale||y(a._l),null===b||void 0===e&&""===b?l({nullInput:!0}):("string"==typeof b&&(a._i=b=a._locale.preparse(b)),o(b)?new n($(b)):(c(e)?xa(a):e?va(a):d(b)?a._d=b:Ba(a),a))}function Ba(b){var f=b._i;void 0===f?b._d=new Date:d(f)?b._d=new Date(+f):"string"==typeof f?da(b):c(f)?(b._a=e(f.slice(0),function(a){return parseInt(a,10)}),ta(b)):"object"==typeof f?ya(b):"number"==typeof f?b._d=new Date(f):a.createFromInputFallback(b)}function Ca(a,b,c,d,e){var f={};return"boolean"==typeof c&&(d=c,c=void 0),f._isAMomentObject=!0,f._useUTC=f._isUTC=e,f._l=c,f._i=a,f._f=b,f._strict=d,za(f)}function Da(a,b,c,d){return Ca(a,b,c,d,!1)}function Ea(a,b){var d,e;if(1===b.length&&c(b[0])&&(b=b[0]),!b.length)return Da();for(d=b[0],e=1;e<b.length;++e)(!b[e].isValid()||b[e][a](d))&&(d=b[e]);return d}function Fa(){var a=[].slice.call(arguments,0);return Ea("isBefore",a)}function Ga(){var a=[].slice.call(arguments,0);return Ea("isAfter",a)}function Ha(a){var b=B(a),c=b.year||0,d=b.quarter||0,e=b.month||0,f=b.week||0,g=b.day||0,h=b.hour||0,i=b.minute||0,j=b.second||0,k=b.millisecond||0;this._milliseconds=+k+1e3*j+6e4*i+36e5*h,this._days=+g+7*f,this._months=+e+3*d+12*c,this._data={},this._locale=y(),this._bubble()}function Ia(a){return a instanceof Ha}function Ja(a,b){H(a,0,0,function(){var a=this.utcOffset(),c="+";return 0>a&&(a=-a,c="-"),c+G(~~(a/60),2)+b+G(~~a%60,2)})}function Ka(a){var b=(a||"").match(fe)||[],c=b[b.length-1]||[],d=(c+"").match(Ce)||["-",0,0],e=+(60*d[1])+q(d[2]);return"+"===d[0]?e:-e}function La(b,c){var e,f;return c._isUTC?(e=c.clone(),f=(o(b)||d(b)?+b:+Da(b))-+e,e._d.setTime(+e._d+f),a.updateOffset(e,!1),e):Da(b).local()}function Ma(a){return 15*-Math.round(a._d.getTimezoneOffset()/15)}function Na(b,c){var d,e=this._offset||0;return null!=b?("string"==typeof b&&(b=Ka(b)),Math.abs(b)<16&&(b=60*b),!this._isUTC&&c&&(d=Ma(this)),this._offset=b,this._isUTC=!0,null!=d&&this.add(d,"m"),e!==b&&(!c||this._changeInProgress?bb(this,Ya(b-e,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,a.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?e:Ma(this)}function Oa(a,b){return null!=a?("string"!=typeof a&&(a=-a),this.utcOffset(a,b),this):-this.utcOffset()}function Pa(a){return this.utcOffset(0,a)}function Qa(a){return this._isUTC&&(this.utcOffset(0,a),this._isUTC=!1,a&&this.subtract(Ma(this),"m")),this}function Ra(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(Ka(this._i)),this}function Sa(a){return a=a?Da(a).utcOffset():0,(this.utcOffset()-a)%60===0}function Ta(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Ua(){if("undefined"!=typeof this._isDSTShifted)return this._isDSTShifted;var a={};if(m(a,this),a=Aa(a),a._a){var b=a._isUTC?h(a._a):Da(a._a);this._isDSTShifted=this.isValid()&&r(a._a,b.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Va(){return!this._isUTC}function Wa(){return this._isUTC}function Xa(){return this._isUTC&&0===this._offset}function Ya(a,b){var c,d,e,g=a,h=null;return Ia(a)?g={ms:a._milliseconds,d:a._days,M:a._months}:"number"==typeof a?(g={},b?g[b]=a:g.milliseconds=a):(h=De.exec(a))?(c="-"===h[1]?-1:1,g={y:0,d:q(h[me])*c,h:q(h[ne])*c,m:q(h[oe])*c,s:q(h[pe])*c,ms:q(h[qe])*c}):(h=Ee.exec(a))?(c="-"===h[1]?-1:1,g={y:Za(h[2],c),M:Za(h[3],c),d:Za(h[4],c),h:Za(h[5],c),m:Za(h[6],c),s:Za(h[7],c),w:Za(h[8],c)}):null==g?g={}:"object"==typeof g&&("from"in g||"to"in g)&&(e=_a(Da(g.from),Da(g.to)),g={},g.ms=e.milliseconds,g.M=e.months),d=new Ha(g),Ia(a)&&f(a,"_locale")&&(d._locale=a._locale),d}function Za(a,b){var c=a&&parseFloat(a.replace(",","."));return(isNaN(c)?0:c)*b}function $a(a,b){var c={milliseconds:0,months:0};return c.months=b.month()-a.month()+12*(b.year()-a.year()),a.clone().add(c.months,"M").isAfter(b)&&--c.months,c.milliseconds=+b-+a.clone().add(c.months,"M"),c}function _a(a,b){var c;return b=La(b,a),a.isBefore(b)?c=$a(a,b):(c=$a(b,a),c.milliseconds=-c.milliseconds,c.months=-c.months),c}function ab(a,b){return function(c,d){var e,f;return null===d||isNaN(+d)||(ba(b,"moment()."+b+"(period, number) is deprecated. Please use moment()."+b+"(number, period)."),f=c,c=d,d=f),c="string"==typeof c?+c:c,e=Ya(c,d),bb(this,e,a),this}}function bb(b,c,d,e){var f=c._milliseconds,g=c._days,h=c._months;e=null==e?!0:e,f&&b._d.setTime(+b._d+f*d),g&&E(b,"Date",D(b,"Date")+g*d),h&&X(b,D(b,"Month")+h*d),e&&a.updateOffset(b,g||h)}function cb(a,b){var c=a||Da(),d=La(c,this).startOf("day"),e=this.diff(d,"days",!0),f=-6>e?"sameElse":-1>e?"lastWeek":0>e?"lastDay":1>e?"sameDay":2>e?"nextDay":7>e?"nextWeek":"sameElse";return this.format(b&&b[f]||this.localeData().calendar(f,this,Da(c)))}function db(){return new n(this)}function eb(a,b){var c;return b=A("undefined"!=typeof b?b:"millisecond"),"millisecond"===b?(a=o(a)?a:Da(a),+this>+a):(c=o(a)?+a:+Da(a),c<+this.clone().startOf(b))}function fb(a,b){var c;return b=A("undefined"!=typeof b?b:"millisecond"),"millisecond"===b?(a=o(a)?a:Da(a),+a>+this):(c=o(a)?+a:+Da(a),+this.clone().endOf(b)<c)}function gb(a,b,c){return this.isAfter(a,c)&&this.isBefore(b,c)}function hb(a,b){var c;return b=A(b||"millisecond"),"millisecond"===b?(a=o(a)?a:Da(a),+this===+a):(c=+Da(a),+this.clone().startOf(b)<=c&&c<=+this.clone().endOf(b))}function ib(a,b,c){var d,e,f=La(a,this),g=6e4*(f.utcOffset()-this.utcOffset());return b=A(b),"year"===b||"month"===b||"quarter"===b?(e=jb(this,f),"quarter"===b?e/=3:"year"===b&&(e/=12)):(d=this-f,e="second"===b?d/1e3:"minute"===b?d/6e4:"hour"===b?d/36e5:"day"===b?(d-g)/864e5:"week"===b?(d-g)/6048e5:d),c?e:p(e)}function jb(a,b){var c,d,e=12*(b.year()-a.year())+(b.month()-a.month()),f=a.clone().add(e,"months");return 0>b-f?(c=a.clone().add(e-1,"months"),d=(b-f)/(f-c)):(c=a.clone().add(e+1,"months"),d=(b-f)/(c-f)),-(e+d)}function kb(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function lb(){var a=this.clone().utc();return 0<a.year()&&a.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():K(a,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):K(a,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function mb(b){var c=K(this,b||a.defaultFormat);return this.localeData().postformat(c)}function nb(a,b){return this.isValid()?Ya({to:this,from:a}).locale(this.locale()).humanize(!b):this.localeData().invalidDate()}function ob(a){return this.from(Da(),a)}function pb(a,b){return this.isValid()?Ya({from:this,to:a}).locale(this.locale()).humanize(!b):this.localeData().invalidDate()}function qb(a){return this.to(Da(),a)}function rb(a){var b;return void 0===a?this._locale._abbr:(b=y(a),null!=b&&(this._locale=b),this)}function sb(){return this._locale}function tb(a){switch(a=A(a)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===a&&this.weekday(0),"isoWeek"===a&&this.isoWeekday(1),"quarter"===a&&this.month(3*Math.floor(this.month()/3)),this}function ub(a){return a=A(a),void 0===a||"millisecond"===a?this:this.startOf(a).add(1,"isoWeek"===a?"week":a).subtract(1,"ms")}function vb(){return+this._d-6e4*(this._offset||0)}function wb(){return Math.floor(+this/1e3)}function xb(){return this._offset?new Date(+this):this._d}function yb(){var a=this;return[a.year(),a.month(),a.date(),a.hour(),a.minute(),a.second(),a.millisecond()]}function zb(){var a=this;return{years:a.year(),months:a.month(),date:a.date(),hours:a.hours(),minutes:a.minutes(),seconds:a.seconds(),milliseconds:a.milliseconds()}}function Ab(){return k(this)}function Bb(){return g({},j(this))}function Cb(){return j(this).overflow}function Db(a,b){H(0,[a,a.length],0,b)}function Eb(a,b,c){return ja(Da([a,11,31+b-c]),b,c).week}function Fb(a){var b=ja(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==a?b:this.add(a-b,"y")}function Gb(a){var b=ja(this,1,4).year;return null==a?b:this.add(a-b,"y")}function Hb(){return Eb(this.year(),1,4)}function Ib(){var a=this.localeData()._week;return Eb(this.year(),a.dow,a.doy)}function Jb(a){return null==a?Math.ceil((this.month()+1)/3):this.month(3*(a-1)+this.month()%3)}function Kb(a,b){return"string"!=typeof a?a:isNaN(a)?(a=b.weekdaysParse(a),"number"==typeof a?a:null):parseInt(a,10)}function Lb(a){return this._weekdays[a.day()]}function Mb(a){return this._weekdaysShort[a.day()]}function Nb(a){return this._weekdaysMin[a.day()]}function Ob(a){var b,c,d;for(this._weekdaysParse=this._weekdaysParse||[],b=0;7>b;b++)if(this._weekdaysParse[b]||(c=Da([2e3,1]).day(b),d="^"+this.weekdays(c,"")+"|^"+this.weekdaysShort(c,"")+"|^"+this.weekdaysMin(c,""),this._weekdaysParse[b]=new RegExp(d.replace(".",""),"i")),this._weekdaysParse[b].test(a))return b}function Pb(a){var b=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=a?(a=Kb(a,this.localeData()),this.add(a-b,"d")):b}function Qb(a){var b=(this.day()+7-this.localeData()._week.dow)%7;return null==a?b:this.add(a-b,"d")}function Rb(a){return null==a?this.day()||7:this.day(this.day()%7?a:a-7)}function Sb(a,b){H(a,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),b)})}function Tb(a,b){return b._meridiemParse}function Ub(a){return"p"===(a+"").toLowerCase().charAt(0)}function Vb(a,b,c){return a>11?c?"pm":"PM":c?"am":"AM"}function Wb(a,b){b[qe]=q(1e3*("0."+a))}function Xb(){return this._isUTC?"UTC":""}function Yb(){return this._isUTC?"Coordinated Universal Time":""}function Zb(a){return Da(1e3*a)}function $b(){return Da.apply(null,arguments).parseZone()}function _b(a,b,c){var d=this._calendar[a];return"function"==typeof d?d.call(b,c):d}function ac(a){var b=this._longDateFormat[a],c=this._longDateFormat[a.toUpperCase()];return b||!c?b:(this._longDateFormat[a]=c.replace(/MMMM|MM|DD|dddd/g,function(a){return a.slice(1)}),this._longDateFormat[a])}function bc(){return this._invalidDate}function cc(a){return this._ordinal.replace("%d",a)}function dc(a){return a}function ec(a,b,c,d){var e=this._relativeTime[c];return"function"==typeof e?e(a,b,c,d):e.replace(/%d/i,a)}function fc(a,b){var c=this._relativeTime[a>0?"future":"past"];return"function"==typeof c?c(b):c.replace(/%s/i,b)}function gc(a){var b,c;for(c in a)b=a[c],"function"==typeof b?this[c]=b:this["_"+c]=b;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function hc(a,b,c,d){var e=y(),f=h().set(d,b);return e[c](f,a)}function ic(a,b,c,d,e){if("number"==typeof a&&(b=a,a=void 0),a=a||"",null!=b)return hc(a,b,c,e);var f,g=[];for(f=0;d>f;f++)g[f]=hc(a,f,c,e);return g}function jc(a,b){return ic(a,b,"months",12,"month")}function kc(a,b){return ic(a,b,"monthsShort",12,"month")}function lc(a,b){return ic(a,b,"weekdays",7,"day")}function mc(a,b){return ic(a,b,"weekdaysShort",7,"day")}function nc(a,b){return ic(a,b,"weekdaysMin",7,"day")}function oc(){var a=this._data;return this._milliseconds=_e(this._milliseconds),this._days=_e(this._days),this._months=_e(this._months),a.milliseconds=_e(a.milliseconds),a.seconds=_e(a.seconds),a.minutes=_e(a.minutes),a.hours=_e(a.hours),a.months=_e(a.months),a.years=_e(a.years),this}function pc(a,b,c,d){var e=Ya(b,c);return a._milliseconds+=d*e._milliseconds,a._days+=d*e._days,a._months+=d*e._months,a._bubble()}function qc(a,b){return pc(this,a,b,1)}function rc(a,b){return pc(this,a,b,-1)}function sc(a){return 0>a?Math.floor(a):Math.ceil(a)}function tc(){var a,b,c,d,e,f=this._milliseconds,g=this._days,h=this._months,i=this._data;return f>=0&&g>=0&&h>=0||0>=f&&0>=g&&0>=h||(f+=864e5*sc(vc(h)+g),g=0,h=0),i.milliseconds=f%1e3,a=p(f/1e3),i.seconds=a%60,b=p(a/60),i.minutes=b%60,c=p(b/60),i.hours=c%24,g+=p(c/24),e=p(uc(g)),h+=e,g-=sc(vc(e)),d=p(h/12),h%=12,i.days=g,i.months=h,i.years=d,this}function uc(a){return 4800*a/146097}function vc(a){return 146097*a/4800}function wc(a){var b,c,d=this._milliseconds;if(a=A(a),"month"===a||"year"===a)return b=this._days+d/864e5,c=this._months+uc(b),"month"===a?c:c/12;switch(b=this._days+Math.round(vc(this._months)),a){case"week":return b/7+d/6048e5;case"day":return b+d/864e5;case"hour":return 24*b+d/36e5;case"minute":return 1440*b+d/6e4;case"second":return 86400*b+d/1e3;case"millisecond":return Math.floor(864e5*b)+d;default:throw new Error("Unknown unit "+a)}}function xc(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*q(this._months/12)}function yc(a){return function(){return this.as(a)}}function zc(a){return a=A(a),this[a+"s"]()}function Ac(a){return function(){return this._data[a]}}function Bc(){return p(this.days()/7)}function Cc(a,b,c,d,e){return e.relativeTime(b||1,!!c,a,d)}function Dc(a,b,c){var d=Ya(a).abs(),e=qf(d.as("s")),f=qf(d.as("m")),g=qf(d.as("h")),h=qf(d.as("d")),i=qf(d.as("M")),j=qf(d.as("y")),k=e<rf.s&&["s",e]||1===f&&["m"]||f<rf.m&&["mm",f]||1===g&&["h"]||g<rf.h&&["hh",g]||1===h&&["d"]||h<rf.d&&["dd",h]||1===i&&["M"]||i<rf.M&&["MM",i]||1===j&&["y"]||["yy",j];return k[2]=b,k[3]=+a>0,k[4]=c,Cc.apply(null,k)}function Ec(a,b){return void 0===rf[a]?!1:void 0===b?rf[a]:(rf[a]=b,!0)}function Fc(a){var b=this.localeData(),c=Dc(this,!a,b);return a&&(c=b.pastFuture(+this,c)),b.postformat(c)}function Gc(){var a,b,c,d=sf(this._milliseconds)/1e3,e=sf(this._days),f=sf(this._months);a=p(d/60),b=p(a/60),d%=60,a%=60,c=p(f/12),f%=12;var g=c,h=f,i=e,j=b,k=a,l=d,m=this.asSeconds();return m?(0>m?"-":"")+"P"+(g?g+"Y":"")+(h?h+"M":"")+(i?i+"D":"")+(j||k||l?"T":"")+(j?j+"H":"")+(k?k+"M":"")+(l?l+"S":""):"P0D"}function Hc(a,b){var c=a.split("_");return b%10===1&&b%100!==11?c[0]:b%10>=2&&4>=b%10&&(10>b%100||b%100>=20)?c[1]:c[2]}function Ic(a,b,c){var d={mm:b?"ÑÐ²ÑÐ»ÑÐ½Ð°_ÑÐ²ÑÐ»ÑÐ½Ñ_ÑÐ²ÑÐ»ÑÐ½":"ÑÐ²ÑÐ»ÑÐ½Ñ_ÑÐ²ÑÐ»ÑÐ½Ñ_ÑÐ²ÑÐ»ÑÐ½",hh:b?"Ð³Ð°Ð´Ð·ÑÐ½Ð°_Ð³Ð°Ð´Ð·ÑÐ½Ñ_Ð³Ð°Ð´Ð·ÑÐ½":"Ð³Ð°Ð´Ð·ÑÐ½Ñ_Ð³Ð°Ð´Ð·ÑÐ½Ñ_Ð³Ð°Ð´Ð·ÑÐ½",dd:"Ð´Ð·ÐµÐ½Ñ_Ð´Ð½Ñ_Ð´Ð·ÑÐ½",MM:"Ð¼ÐµÑÑÑ_Ð¼ÐµÑÑÑÑ_Ð¼ÐµÑÑÑÐ°Ñ",yy:"Ð³Ð¾Ð´_Ð³Ð°Ð´Ñ_Ð³Ð°Ð´Ð¾Ñ"};return"m"===c?b?"ÑÐ²ÑÐ»ÑÐ½Ð°":"ÑÐ²ÑÐ»ÑÐ½Ñ":"h"===c?b?"Ð³Ð°Ð´Ð·ÑÐ½Ð°":"Ð³Ð°Ð´Ð·ÑÐ½Ñ":a+" "+Hc(d[c],+a)}function Jc(a,b){var c={nominative:"ÑÑÑÐ´Ð·ÐµÐ½Ñ_Ð»ÑÑÑ_ÑÐ°ÐºÐ°Ð²ÑÐº_ÐºÑÐ°ÑÐ°Ð²ÑÐº_ÑÑÐ°Ð²ÐµÐ½Ñ_ÑÑÑÐ²ÐµÐ½Ñ_Ð»ÑÐ¿ÐµÐ½Ñ_Ð¶Ð½ÑÐ²ÐµÐ½Ñ_Ð²ÐµÑÐ°ÑÐµÐ½Ñ_ÐºÐ°ÑÑÑÑÑÐ½ÑÐº_Ð»ÑÑÑÐ°Ð¿Ð°Ð´_ÑÐ½ÐµÐ¶Ð°Ð½Ñ".split("_"),accusative:"ÑÑÑÐ´Ð·ÐµÐ½Ñ_Ð»ÑÑÐ°Ð³Ð°_ÑÐ°ÐºÐ°Ð²ÑÐºÐ°_ÐºÑÐ°ÑÐ°Ð²ÑÐºÐ°_ÑÑÐ°ÑÐ½Ñ_ÑÑÑÐ²ÐµÐ½Ñ_Ð»ÑÐ¿ÐµÐ½Ñ_Ð¶Ð½ÑÑÐ½Ñ_Ð²ÐµÑÐ°ÑÐ½Ñ_ÐºÐ°ÑÑÑÑÑÐ½ÑÐºÐ°_Ð»ÑÑÑÐ°Ð¿Ð°Ð´Ð°_ÑÐ½ÐµÐ¶Ð½Ñ".split("_")},d=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/.test(b)?"accusative":"nominative";return c[d][a.month()]}function Kc(a,b){var c={nominative:"Ð½ÑÐ´Ð·ÐµÐ»Ñ_Ð¿Ð°Ð½ÑÐ´Ð·ÐµÐ»Ð°Ðº_Ð°ÑÑÐ¾ÑÐ°Ðº_ÑÐµÑÐ°Ð´Ð°_ÑÐ°ÑÐ²ÐµÑ_Ð¿ÑÑÐ½ÑÑÐ°_ÑÑÐ±Ð¾ÑÐ°".split("_"),accusative:"Ð½ÑÐ´Ð·ÐµÐ»Ñ_Ð¿Ð°Ð½ÑÐ´Ð·ÐµÐ»Ð°Ðº_Ð°ÑÑÐ¾ÑÐ°Ðº_ÑÐµÑÐ°Ð´Ñ_ÑÐ°ÑÐ²ÐµÑ_Ð¿ÑÑÐ½ÑÑÑ_ÑÑÐ±Ð¾ÑÑ".split("_")},d=/\[ ?[ÐÐ²] ?(?:Ð¼ÑÐ½ÑÐ»ÑÑ|Ð½Ð°ÑÑÑÐ¿Ð½ÑÑ)? ?\] ?dddd/.test(b)?"accusative":"nominative";return c[d][a.day()]}function Lc(a,b,c){var d={mm:"munutenn",MM:"miz",dd:"devezh"};return a+" "+Oc(d[c],a)}function Mc(a){switch(Nc(a)){case 1:case 3:case 4:case 5:case 9:return a+" bloaz";default:return a+" vloaz"}}function Nc(a){return a>9?Nc(a%10):a}function Oc(a,b){return 2===b?Pc(a):a}function Pc(a){var b={m:"v",b:"v",d:"z"};return void 0===b[a.charAt(0)]?a:b[a.charAt(0)]+a.substring(1)}function Qc(a,b,c){var d=a+" ";switch(c){case"m":return b?"jedna minuta":"jedne minute";case"mm":return d+=1===a?"minuta":2===a||3===a||4===a?"minute":"minuta";case"h":return b?"jedan sat":"jednog sata";case"hh":return d+=1===a?"sat":2===a||3===a||4===a?"sata":"sati";case"dd":return d+=1===a?"dan":"dana";case"MM":return d+=1===a?"mjesec":2===a||3===a||4===a?"mjeseca":"mjeseci";case"yy":return d+=1===a?"godina":2===a||3===a||4===a?"godine":"godina"}}function Rc(a){return a>1&&5>a&&1!==~~(a/10)}function Sc(a,b,c,d){var e=a+" ";switch(c){case"s":return b||d?"pÃ¡r sekund":"pÃ¡r sekundami";case"m":return b?"minuta":d?"minutu":"minutou";case"mm":return b||d?e+(Rc(a)?"minuty":"minut"):e+"minutami";case"h":return b?"hodina":d?"hodinu":"hodinou";case"hh":return b||d?e+(Rc(a)?"hodiny":"hodin"):e+"hodinami";case"d":return b||d?"den":"dnem";case"dd":return b||d?e+(Rc(a)?"dny":"dnÃ­"):e+"dny";case"M":return b||d?"mÄsÃ­c":"mÄsÃ­cem";case"MM":return b||d?e+(Rc(a)?"mÄsÃ­ce":"mÄsÃ­cÅ¯"):e+"mÄsÃ­ci";case"y":return b||d?"rok":"rokem";case"yy":return b||d?e+(Rc(a)?"roky":"let"):e+"lety"}}function Tc(a,b,c,d){var e={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[a+" Tage",a+" Tagen"],M:["ein Monat","einem Monat"],MM:[a+" Monate",a+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[a+" Jahre",a+" Jahren"]};return b?e[c][0]:e[c][1]}function Uc(a,b,c,d){var e={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[a+" Tage",a+" Tagen"],M:["ein Monat","einem Monat"],MM:[a+" Monate",a+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[a+" Jahre",a+" Jahren"]};return b?e[c][0]:e[c][1]}function Vc(a,b,c,d){var e={s:["mÃµne sekundi","mÃµni sekund","paar sekundit"],m:["Ã¼he minuti","Ã¼ks minut"],mm:[a+" minuti",a+" minutit"],h:["Ã¼he tunni","tund aega","Ã¼ks tund"],hh:[a+" tunni",a+" tundi"],d:["Ã¼he pÃ¤eva","Ã¼ks pÃ¤ev"],M:["kuu aja","kuu aega","Ã¼ks kuu"],MM:[a+" kuu",a+" kuud"],y:["Ã¼he aasta","aasta","Ã¼ks aasta"],yy:[a+" aasta",a+" aastat"]};return b?e[c][2]?e[c][2]:e[c][1]:d?e[c][0]:e[c][1]}function Wc(a,b,c,d){var e="";switch(c){case"s":return d?"muutaman sekunnin":"muutama sekunti";case"m":return d?"minuutin":"minuutti";case"mm":e=d?"minuutin":"minuuttia";break;case"h":return d?"tunnin":"tunti";case"hh":e=d?"tunnin":"tuntia";break;case"d":return d?"pÃ¤ivÃ¤n":"pÃ¤ivÃ¤";case"dd":e=d?"pÃ¤ivÃ¤n":"pÃ¤ivÃ¤Ã¤";break;case"M":return d?"kuukauden":"kuukausi";case"MM":e=d?"kuukauden":"kuukautta";break;case"y":return d?"vuoden":"vuosi";case"yy":e=d?"vuoden":"vuotta"}return e=Xc(a,d)+" "+e}function Xc(a,b){return 10>a?b?Pf[a]:Of[a]:a}function Yc(a,b,c){var d=a+" ";switch(c){case"m":return b?"jedna minuta":"jedne minute";case"mm":return d+=1===a?"minuta":2===a||3===a||4===a?"minute":"minuta";case"h":return b?"jedan sat":"jednog sata";case"hh":return d+=1===a?"sat":2===a||3===a||4===a?"sata":"sati";case"dd":return d+=1===a?"dan":"dana";case"MM":return d+=1===a?"mjesec":2===a||3===a||4===a?"mjeseca":"mjeseci";case"yy":return d+=1===a?"godina":2===a||3===a||4===a?"godine":"godina"}}function Zc(a,b,c,d){var e=a;switch(c){case"s":return d||b?"nÃ©hÃ¡ny mÃ¡sodperc":"nÃ©hÃ¡ny mÃ¡sodperce";case"m":return"egy"+(d||b?" perc":" perce");case"mm":return e+(d||b?" perc":" perce");case"h":return"egy"+(d||b?" Ã³ra":" Ã³rÃ¡ja");case"hh":return e+(d||b?" Ã³ra":" Ã³rÃ¡ja");case"d":return"egy"+(d||b?" nap":" napja");case"dd":return e+(d||b?" nap":" napja");case"M":return"egy"+(d||b?" hÃ³nap":" hÃ³napja");case"MM":return e+(d||b?" hÃ³nap":" hÃ³napja");case"y":return"egy"+(d||b?" Ã©v":" Ã©ve");case"yy":return e+(d||b?" Ã©v":" Ã©ve")}return""}function $c(a){return(a?"":"[mÃºlt] ")+"["+Uf[this.day()]+"] LT[-kor]"}function _c(a,b){var c={nominative:"Õ°Õ¸ÖÕ¶Õ¾Õ¡Ö_ÖÕ¥Õ¿ÖÕ¾Õ¡Ö_Õ´Õ¡ÖÕ¿_Õ¡ÕºÖÕ«Õ¬_Õ´Õ¡ÕµÕ«Õ½_Õ°Õ¸ÖÕ¶Õ«Õ½_Õ°Õ¸ÖÕ¬Õ«Õ½_ÖÕ£Õ¸Õ½Õ¿Õ¸Õ½_Õ½Õ¥ÕºÕ¿Õ¥Õ´Õ¢Õ¥Ö_Õ°Õ¸Õ¯Õ¿Õ¥Õ´Õ¢Õ¥Ö_Õ¶Õ¸ÕµÕ¥Õ´Õ¢Õ¥Ö_Õ¤Õ¥Õ¯Õ¿Õ¥Õ´Õ¢Õ¥Ö".split("_"),accusative:"Õ°Õ¸ÖÕ¶Õ¾Õ¡ÖÕ«_ÖÕ¥Õ¿ÖÕ¾Õ¡ÖÕ«_Õ´Õ¡ÖÕ¿Õ«_Õ¡ÕºÖÕ«Õ¬Õ«_Õ´Õ¡ÕµÕ«Õ½Õ«_Õ°Õ¸ÖÕ¶Õ«Õ½Õ«_Õ°Õ¸ÖÕ¬Õ«Õ½Õ«_ÖÕ£Õ¸Õ½Õ¿Õ¸Õ½Õ«_Õ½Õ¥ÕºÕ¿Õ¥Õ´Õ¢Õ¥ÖÕ«_Õ°Õ¸Õ¯Õ¿Õ¥Õ´Õ¢Õ¥ÖÕ«_Õ¶Õ¸ÕµÕ¥Õ´Õ¢Õ¥ÖÕ«_Õ¤Õ¥Õ¯Õ¿Õ¥Õ´Õ¢Õ¥ÖÕ«".split("_")},d=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/.test(b)?"accusative":"nominative";return c[d][a.month()]}function ad(a,b){var c="Õ°Õ¶Õ¾_ÖÕ¿Ö_Õ´ÖÕ¿_Õ¡ÕºÖ_Õ´ÕµÕ½_Õ°Õ¶Õ½_Õ°Õ¬Õ½_ÖÕ£Õ½_Õ½ÕºÕ¿_Õ°Õ¯Õ¿_Õ¶Õ´Õ¢_Õ¤Õ¯Õ¿".split("_");return c[a.month()]}function bd(a,b){var c="Õ¯Õ«ÖÕ¡Õ¯Õ«_Õ¥ÖÕ¯Õ¸ÖÕ·Õ¡Õ¢Õ©Õ«_Õ¥ÖÕ¥ÖÕ·Õ¡Õ¢Õ©Õ«_Õ¹Õ¸ÖÕ¥ÖÕ·Õ¡Õ¢Õ©Õ«_Õ°Õ«Õ¶Õ£Õ·Õ¡Õ¢Õ©Õ«_Õ¸ÖÖÕ¢Õ¡Õ©_Õ·Õ¡Õ¢Õ¡Õ©".split("_");return c[a.day()]}function cd(a){return a%100===11?!0:a%10===1?!1:!0}function dd(a,b,c,d){var e=a+" ";switch(c){case"s":return b||d?"nokkrar sekÃºndur":"nokkrum sekÃºndum";case"m":return b?"mÃ­nÃºta":"mÃ­nÃºtu";case"mm":return cd(a)?e+(b||d?"mÃ­nÃºtur":"mÃ­nÃºtum"):b?e+"mÃ­nÃºta":e+"mÃ­nÃºtu";case"hh":return cd(a)?e+(b||d?"klukkustundir":"klukkustundum"):e+"klukkustund";case"d":return b?"dagur":d?"dag":"degi";case"dd":return cd(a)?b?e+"dagar":e+(d?"daga":"dÃ¶gum"):b?e+"dagur":e+(d?"dag":"degi");case"M":return b?"mÃ¡nuÃ°ur":d?"mÃ¡nuÃ°":"mÃ¡nuÃ°i";case"MM":return cd(a)?b?e+"mÃ¡nuÃ°ir":e+(d?"mÃ¡nuÃ°i":"mÃ¡nuÃ°um"):b?e+"mÃ¡nuÃ°ur":e+(d?"mÃ¡nuÃ°":"mÃ¡nuÃ°i");case"y":return b||d?"Ã¡r":"Ã¡ri";case"yy":return cd(a)?e+(b||d?"Ã¡r":"Ã¡rum"):e+(b||d?"Ã¡r":"Ã¡ri")}}function ed(a,b){var c={nominative:"áááááá á_ááááá áááá_ááá á¢á_ááá ááá_áááá¡á_ááááá¡á_ááááá¡á_ááááá¡á¢á_á¡áá¥á¢ááááá á_áá¥á¢ááááá á_ááááááá á_áááááááá á".split("_"),accusative:"áááááá á¡_ááááá áááá¡_ááá á¢á¡_ááá áááá¡_áááá¡á¡_ááááá¡á¡_ááááá¡á¡_ááááá¡á¢á¡_á¡áá¥á¢ááááá á¡_áá¥á¢ááááá á¡_ááááááá á¡_áááááááá á¡".split("_")},d=/D[oD] *MMMM?/.test(b)?"accusative":"nominative";return c[d][a.month()]}function fd(a,b){var c={nominative:"áááá á_áá á¨ááááá_á¡ááá¨ááááá_ááá®á¨ááááá_á®á£áá¨ááááá_ááá áá¡áááá_á¨ááááá".split("_"),accusative:"áááá áá¡_áá á¨ááááá¡_á¡ááá¨ááááá¡_ááá®á¨ááááá¡_á®á£áá¨ááááá¡_ááá áá¡áááá¡_á¨ááááá¡".split("_")},d=/(á¬ááá|á¨ááááá)/.test(b)?"accusative":"nominative";return c[d][a.day()]}function gd(a,b,c,d){var e={m:["eng Minutt","enger Minutt"],h:["eng Stonn","enger Stonn"],d:["een Dag","engem Dag"],M:["ee Mount","engem Mount"],y:["ee Joer","engem Joer"]};return b?e[c][0]:e[c][1]}function hd(a){var b=a.substr(0,a.indexOf(" "));return jd(b)?"a "+a:"an "+a}function id(a){var b=a.substr(0,a.indexOf(" "));return jd(b)?"viru "+a:"virun "+a}function jd(a){if(a=parseInt(a,10),isNaN(a))return!1;if(0>a)return!0;if(10>a)return a>=4&&7>=a?!0:!1;if(100>a){var b=a%10,c=a/10;return jd(0===b?c:b)}if(1e4>a){for(;a>=10;)a/=10;return jd(a)}return a/=1e3,jd(a)}function kd(a,b,c,d){return b?"kelios sekundÄs":d?"keliÅ³ sekundÅ¾iÅ³":"kelias sekundes"}function ld(a,b){var c={nominative:"sausis_vasaris_kovas_balandis_geguÅ¾Ä_birÅ¾elis_liepa_rugpjÅ«tis_rugsÄjis_spalis_lapkritis_gruodis".split("_"),accusative:"sausio_vasario_kovo_balandÅ¾io_geguÅ¾Äs_birÅ¾elio_liepos_rugpjÅ«Äio_rugsÄjo_spalio_lapkriÄio_gruodÅ¾io".split("_")},d=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/.test(b)?"accusative":"nominative";return c[d][a.month()]}function md(a,b,c,d){return b?od(c)[0]:d?od(c)[1]:od(c)[2]}function nd(a){return a%10===0||a>10&&20>a}function od(a){return Vf[a].split("_")}function pd(a,b,c,d){var e=a+" ";return 1===a?e+md(a,b,c[0],d):b?e+(nd(a)?od(c)[1]:od(c)[0]):d?e+od(c)[1]:e+(nd(a)?od(c)[1]:od(c)[2])}function qd(a,b){var c=-1===b.indexOf("dddd HH:mm"),d=Wf[a.day()];return c?d:d.substring(0,d.length-2)+"Ä¯"}function rd(a,b,c){return c?b%10===1&&11!==b?a[2]:a[3]:b%10===1&&11!==b?a[0]:a[1]}function sd(a,b,c){return a+" "+rd(Xf[c],a,b)}function td(a,b,c){return rd(Xf[c],a,b)}function ud(a,b){return b?"daÅ¾as sekundes":"daÅ¾Äm sekundÄm"}function vd(a){return 5>a%10&&a%10>1&&~~(a/10)%10!==1}function wd(a,b,c){var d=a+" ";switch(c){case"m":return b?"minuta":"minutÄ";case"mm":return d+(vd(a)?"minuty":"minut");case"h":return b?"godzina":"godzinÄ";case"hh":return d+(vd(a)?"godziny":"godzin");case"MM":return d+(vd(a)?"miesiÄce":"miesiÄcy");case"yy":return d+(vd(a)?"lata":"lat")}}function xd(a,b,c){var d={mm:"minute",hh:"ore",dd:"zile",MM:"luni",yy:"ani"},e=" ";return(a%100>=20||a>=100&&a%100===0)&&(e=" de "),a+e+d[c]}function yd(a,b){var c=a.split("_");return b%10===1&&b%100!==11?c[0]:b%10>=2&&4>=b%10&&(10>b%100||b%100>=20)?c[1]:c[2]}function zd(a,b,c){var d={mm:b?"Ð¼Ð¸Ð½ÑÑÐ°_Ð¼Ð¸Ð½ÑÑÑ_Ð¼Ð¸Ð½ÑÑ":"Ð¼Ð¸Ð½ÑÑÑ_Ð¼Ð¸Ð½ÑÑÑ_Ð¼Ð¸Ð½ÑÑ",hh:"ÑÐ°Ñ_ÑÐ°ÑÐ°_ÑÐ°ÑÐ¾Ð²",dd:"Ð´ÐµÐ½Ñ_Ð´Ð½Ñ_Ð´Ð½ÐµÐ¹",MM:"Ð¼ÐµÑÑÑ_Ð¼ÐµÑÑÑÐ°_Ð¼ÐµÑÑÑÐµÐ²",yy:"Ð³Ð¾Ð´_Ð³Ð¾Ð´Ð°_Ð»ÐµÑ"};return"m"===c?b?"Ð¼Ð¸Ð½ÑÑÐ°":"Ð¼Ð¸Ð½ÑÑÑ":a+" "+yd(d[c],+a)}function Ad(a,b){var c={nominative:"ÑÐ½Ð²Ð°ÑÑ_ÑÐµÐ²ÑÐ°Ð»Ñ_Ð¼Ð°ÑÑ_Ð°Ð¿ÑÐµÐ»Ñ_Ð¼Ð°Ð¹_Ð¸ÑÐ½Ñ_Ð¸ÑÐ»Ñ_Ð°Ð²Ð³ÑÑÑ_ÑÐµÐ½ÑÑÐ±ÑÑ_Ð¾ÐºÑÑÐ±ÑÑ_Ð½Ð¾ÑÐ±ÑÑ_Ð´ÐµÐºÐ°Ð±ÑÑ".split("_"),accusative:"ÑÐ½Ð²Ð°ÑÑ_ÑÐµÐ²ÑÐ°Ð»Ñ_Ð¼Ð°ÑÑÐ°_Ð°Ð¿ÑÐµÐ»Ñ_Ð¼Ð°Ñ_Ð¸ÑÐ½Ñ_Ð¸ÑÐ»Ñ_Ð°Ð²Ð³ÑÑÑÐ°_ÑÐµÐ½ÑÑÐ±ÑÑ_Ð¾ÐºÑÑÐ±ÑÑ_Ð½Ð¾ÑÐ±ÑÑ_Ð´ÐµÐºÐ°Ð±ÑÑ".split("_")},d=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/.test(b)?"accusative":"nominative";return c[d][a.month()]}function Bd(a,b){var c={nominative:"ÑÐ½Ð²_ÑÐµÐ²_Ð¼Ð°ÑÑ_Ð°Ð¿Ñ_Ð¼Ð°Ð¹_Ð¸ÑÐ½Ñ_Ð¸ÑÐ»Ñ_Ð°Ð²Ð³_ÑÐµÐ½_Ð¾ÐºÑ_Ð½Ð¾Ñ_Ð´ÐµÐº".split("_"),accusative:"ÑÐ½Ð²_ÑÐµÐ²_Ð¼Ð°Ñ_Ð°Ð¿Ñ_Ð¼Ð°Ñ_Ð¸ÑÐ½Ñ_Ð¸ÑÐ»Ñ_Ð°Ð²Ð³_ÑÐµÐ½_Ð¾ÐºÑ_Ð½Ð¾Ñ_Ð´ÐµÐº".split("_")},d=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/.test(b)?"accusative":"nominative";return c[d][a.month()]}function Cd(a,b){var c={nominative:"Ð²Ð¾ÑÐºÑÐµÑÐµÐ½ÑÐµ_Ð¿Ð¾Ð½ÐµÐ´ÐµÐ»ÑÐ½Ð¸Ðº_Ð²ÑÐ¾ÑÐ½Ð¸Ðº_ÑÑÐµÐ´Ð°_ÑÐµÑÐ²ÐµÑÐ³_Ð¿ÑÑÐ½Ð¸ÑÐ°_ÑÑÐ±Ð±Ð¾ÑÐ°".split("_"),accusative:"Ð²Ð¾ÑÐºÑÐµÑÐµÐ½ÑÐµ_Ð¿Ð¾Ð½ÐµÐ´ÐµÐ»ÑÐ½Ð¸Ðº_Ð²ÑÐ¾ÑÐ½Ð¸Ðº_ÑÑÐµÐ´Ñ_ÑÐµÑÐ²ÐµÑÐ³_Ð¿ÑÑÐ½Ð¸ÑÑ_ÑÑÐ±Ð±Ð¾ÑÑ".split("_")},d=/\[ ?[ÐÐ²] ?(?:Ð¿ÑÐ¾ÑÐ»ÑÑ|ÑÐ»ÐµÐ´ÑÑÑÑÑ|ÑÑÑ)? ?\] ?dddd/.test(b)?"accusative":"nominative";return c[d][a.day()]}function Dd(a){return a>1&&5>a}function Ed(a,b,c,d){var e=a+" ";switch(c){case"s":return b||d?"pÃ¡r sekÃºnd":"pÃ¡r sekundami";case"m":return b?"minÃºta":d?"minÃºtu":"minÃºtou";case"mm":return b||d?e+(Dd(a)?"minÃºty":"minÃºt"):e+"minÃºtami";case"h":return b?"hodina":d?"hodinu":"hodinou";case"hh":return b||d?e+(Dd(a)?"hodiny":"hodÃ­n"):e+"hodinami";case"d":return b||d?"deÅ":"dÅom";case"dd":return b||d?e+(Dd(a)?"dni":"dnÃ­"):e+"dÅami";case"M":return b||d?"mesiac":"mesiacom";case"MM":return b||d?e+(Dd(a)?"mesiace":"mesiacov"):e+"mesiacmi";case"y":return b||d?"rok":"rokom";case"yy":return b||d?e+(Dd(a)?"roky":"rokov"):e+"rokmi"}}function Fd(a,b,c,d){var e=a+" ";switch(c){case"s":return b||d?"nekaj sekund":"nekaj sekundami";case"m":return b?"ena minuta":"eno minuto";case"mm":return e+=1===a?b?"minuta":"minuto":2===a?b||d?"minuti":"minutama":5>a?b||d?"minute":"minutami":b||d?"minut":"minutami";case"h":return b?"ena ura":"eno uro";case"hh":return e+=1===a?b?"ura":"uro":2===a?b||d?"uri":"urama":5>a?b||d?"ure":"urami":b||d?"ur":"urami";case"d":return b||d?"en dan":"enim dnem";case"dd":return e+=1===a?b||d?"dan":"dnem":2===a?b||d?"dni":"dnevoma":b||d?"dni":"dnevi";case"M":return b||d?"en mesec":"enim mesecem";case"MM":return e+=1===a?b||d?"mesec":"mesecem":2===a?b||d?"meseca":"mesecema":5>a?b||d?"mesece":"meseci":b||d?"mesecev":"meseci";case"y":return b||d?"eno leto":"enim letom";case"yy":return e+=1===a?b||d?"leto":"letom":2===a?b||d?"leti":"letoma":5>a?b||d?"leta":"leti":b||d?"let":"leti"}}function Gd(a,b,c,d){var e={s:["viensas secunds","'iensas secunds"],m:["'n mÃ­ut","'iens mÃ­ut"],mm:[a+" mÃ­uts"," "+a+" mÃ­uts"],h:["'n Ã¾ora","'iensa Ã¾ora"],hh:[a+" Ã¾oras"," "+a+" Ã¾oras"],d:["'n ziua","'iensa ziua"],dd:[a+" ziuas"," "+a+" ziuas"],M:["'n mes","'iens mes"],MM:[a+" mesen"," "+a+" mesen"],y:["'n ar","'iens ar"],yy:[a+" ars"," "+a+" ars"]};return d?e[c][0]:b?e[c][0]:e[c][1].trim()}function Hd(a,b){var c=a.split("_");return b%10===1&&b%100!==11?c[0]:b%10>=2&&4>=b%10&&(10>b%100||b%100>=20)?c[1]:c[2]}function Id(a,b,c){var d={mm:"ÑÐ²Ð¸Ð»Ð¸Ð½Ð°_ÑÐ²Ð¸Ð»Ð¸Ð½Ð¸_ÑÐ²Ð¸Ð»Ð¸Ð½",hh:"Ð³Ð¾Ð´Ð¸Ð½Ð°_Ð³Ð¾Ð´Ð¸Ð½Ð¸_Ð³Ð¾Ð´Ð¸Ð½",dd:"Ð´ÐµÐ½Ñ_Ð´Ð½Ñ_Ð´Ð½ÑÐ²",MM:"Ð¼ÑÑÑÑÑ_Ð¼ÑÑÑÑÑ_Ð¼ÑÑÑÑÑÐ²",
yy:"ÑÑÐº_ÑÐ¾ÐºÐ¸_ÑÐ¾ÐºÑÐ²"};return"m"===c?b?"ÑÐ²Ð¸Ð»Ð¸Ð½Ð°":"ÑÐ²Ð¸Ð»Ð¸Ð½Ñ":"h"===c?b?"Ð³Ð¾Ð´Ð¸Ð½Ð°":"Ð³Ð¾Ð´Ð¸Ð½Ñ":a+" "+Hd(d[c],+a)}function Jd(a,b){var c={nominative:"ÑÑÑÐµÐ½Ñ_Ð»ÑÑÐ¸Ð¹_Ð±ÐµÑÐµÐ·ÐµÐ½Ñ_ÐºÐ²ÑÑÐµÐ½Ñ_ÑÑÐ°Ð²ÐµÐ½Ñ_ÑÐµÑÐ²ÐµÐ½Ñ_Ð»Ð¸Ð¿ÐµÐ½Ñ_ÑÐµÑÐ¿ÐµÐ½Ñ_Ð²ÐµÑÐµÑÐµÐ½Ñ_Ð¶Ð¾Ð²ÑÐµÐ½Ñ_Ð»Ð¸ÑÑÐ¾Ð¿Ð°Ð´_Ð³ÑÑÐ´ÐµÐ½Ñ".split("_"),accusative:"ÑÑÑÐ½Ñ_Ð»ÑÑÐ¾Ð³Ð¾_Ð±ÐµÑÐµÐ·Ð½Ñ_ÐºÐ²ÑÑÐ½Ñ_ÑÑÐ°Ð²Ð½Ñ_ÑÐµÑÐ²Ð½Ñ_Ð»Ð¸Ð¿Ð½Ñ_ÑÐµÑÐ¿Ð½Ñ_Ð²ÐµÑÐµÑÐ½Ñ_Ð¶Ð¾Ð²ÑÐ½Ñ_Ð»Ð¸ÑÑÐ¾Ð¿Ð°Ð´Ð°_Ð³ÑÑÐ´Ð½Ñ".split("_")},d=/D[oD]? *MMMM?/.test(b)?"accusative":"nominative";return c[d][a.month()]}function Kd(a,b){var c={nominative:"Ð½ÐµÐ´ÑÐ»Ñ_Ð¿Ð¾Ð½ÐµÐ´ÑÐ»Ð¾Ðº_Ð²ÑÐ²ÑÐ¾ÑÐ¾Ðº_ÑÐµÑÐµÐ´Ð°_ÑÐµÑÐ²ÐµÑ_Ð¿âÑÑÐ½Ð¸ÑÑ_ÑÑÐ±Ð¾ÑÐ°".split("_"),accusative:"Ð½ÐµÐ´ÑÐ»Ñ_Ð¿Ð¾Ð½ÐµÐ´ÑÐ»Ð¾Ðº_Ð²ÑÐ²ÑÐ¾ÑÐ¾Ðº_ÑÐµÑÐµÐ´Ñ_ÑÐµÑÐ²ÐµÑ_Ð¿âÑÑÐ½Ð¸ÑÑ_ÑÑÐ±Ð¾ÑÑ".split("_"),genitive:"Ð½ÐµÐ´ÑÐ»Ñ_Ð¿Ð¾Ð½ÐµÐ´ÑÐ»ÐºÐ°_Ð²ÑÐ²ÑÐ¾ÑÐºÐ°_ÑÐµÑÐµÐ´Ð¸_ÑÐµÑÐ²ÐµÑÐ³Ð°_Ð¿âÑÑÐ½Ð¸ÑÑ_ÑÑÐ±Ð¾ÑÐ¸".split("_")},d=/(\[[ÐÐ²Ð£Ñ]\]) ?dddd/.test(b)?"accusative":/\[?(?:Ð¼Ð¸Ð½ÑÐ»Ð¾Ñ|Ð½Ð°ÑÑÑÐ¿Ð½Ð¾Ñ)? ?\] ?dddd/.test(b)?"genitive":"nominative";return c[d][a.day()]}function Ld(a){return function(){return a+"Ð¾"+(11===this.hours()?"Ð±":"")+"] LT"}}var Md,Nd,Od=a.momentProperties=[],Pd=!1,Qd={},Rd={},Sd=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Td=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Ud={},Vd={},Wd=/\d/,Xd=/\d\d/,Yd=/\d{3}/,Zd=/\d{4}/,$d=/[+-]?\d{6}/,_d=/\d\d?/,ae=/\d{1,3}/,be=/\d{1,4}/,ce=/[+-]?\d{1,6}/,de=/\d+/,ee=/[+-]?\d+/,fe=/Z|[+-]\d\d:?\d\d/gi,ge=/[+-]?\d+(\.\d{1,3})?/,he=/[0-9]*[\'a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,ie={},je={},ke=0,le=1,me=2,ne=3,oe=4,pe=5,qe=6;H("M",["MM",2],"Mo",function(){return this.month()+1}),H("MMM",0,0,function(a){return this.localeData().monthsShort(this,a)}),H("MMMM",0,0,function(a){return this.localeData().months(this,a)}),z("month","M"),N("M",_d),N("MM",_d,Xd),N("MMM",he),N("MMMM",he),Q(["M","MM"],function(a,b){b[le]=q(a)-1}),Q(["MMM","MMMM"],function(a,b,c,d){var e=c._locale.monthsParse(a,d,c._strict);null!=e?b[le]=e:j(c).invalidMonth=a});var re="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),se="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),te={};a.suppressDeprecationWarnings=!1;var ue=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ve=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],we=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],xe=/^\/?Date\((\-?\d+)/i;a.createFromInputFallback=aa("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(a){a._d=new Date(a._i+(a._useUTC?" UTC":""))}),H(0,["YY",2],0,function(){return this.year()%100}),H(0,["YYYY",4],0,"year"),H(0,["YYYYY",5],0,"year"),H(0,["YYYYYY",6,!0],0,"year"),z("year","y"),N("Y",ee),N("YY",_d,Xd),N("YYYY",be,Zd),N("YYYYY",ce,$d),N("YYYYYY",ce,$d),Q(["YYYYY","YYYYYY"],ke),Q("YYYY",function(b,c){c[ke]=2===b.length?a.parseTwoDigitYear(b):q(b)}),Q("YY",function(b,c){c[ke]=a.parseTwoDigitYear(b)}),a.parseTwoDigitYear=function(a){return q(a)+(q(a)>68?1900:2e3)};var ye=C("FullYear",!1);H("w",["ww",2],"wo","week"),H("W",["WW",2],"Wo","isoWeek"),z("week","w"),z("isoWeek","W"),N("w",_d),N("ww",_d,Xd),N("W",_d),N("WW",_d,Xd),R(["w","ww","W","WW"],function(a,b,c,d){b[d.substr(0,1)]=q(a)});var ze={dow:0,doy:6};H("DDD",["DDDD",3],"DDDo","dayOfYear"),z("dayOfYear","DDD"),N("DDD",ae),N("DDDD",Yd),Q(["DDD","DDDD"],function(a,b,c){c._dayOfYear=q(a)}),a.ISO_8601=function(){};var Ae=aa("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var a=Da.apply(null,arguments);return this>a?this:a}),Be=aa("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var a=Da.apply(null,arguments);return a>this?this:a});Ja("Z",":"),Ja("ZZ",""),N("Z",fe),N("ZZ",fe),Q(["Z","ZZ"],function(a,b,c){c._useUTC=!0,c._tzm=Ka(a)});var Ce=/([\+\-]|\d\d)/gi;a.updateOffset=function(){};var De=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Ee=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;Ya.fn=Ha.prototype;var Fe=ab(1,"add"),Ge=ab(-1,"subtract");a.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";var He=aa("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(a){return void 0===a?this.localeData():this.locale(a)});H(0,["gg",2],0,function(){return this.weekYear()%100}),H(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Db("gggg","weekYear"),Db("ggggg","weekYear"),Db("GGGG","isoWeekYear"),Db("GGGGG","isoWeekYear"),z("weekYear","gg"),z("isoWeekYear","GG"),N("G",ee),N("g",ee),N("GG",_d,Xd),N("gg",_d,Xd),N("GGGG",be,Zd),N("gggg",be,Zd),N("GGGGG",ce,$d),N("ggggg",ce,$d),R(["gggg","ggggg","GGGG","GGGGG"],function(a,b,c,d){b[d.substr(0,2)]=q(a)}),R(["gg","GG"],function(b,c,d,e){c[e]=a.parseTwoDigitYear(b)}),H("Q",0,0,"quarter"),z("quarter","Q"),N("Q",Wd),Q("Q",function(a,b){b[le]=3*(q(a)-1)}),H("D",["DD",2],"Do","date"),z("date","D"),N("D",_d),N("DD",_d,Xd),N("Do",function(a,b){return a?b._ordinalParse:b._ordinalParseLenient}),Q(["D","DD"],me),Q("Do",function(a,b){b[me]=q(a.match(_d)[0],10)});var Ie=C("Date",!0);H("d",0,"do","day"),H("dd",0,0,function(a){return this.localeData().weekdaysMin(this,a)}),H("ddd",0,0,function(a){return this.localeData().weekdaysShort(this,a)}),H("dddd",0,0,function(a){return this.localeData().weekdays(this,a)}),H("e",0,0,"weekday"),H("E",0,0,"isoWeekday"),z("day","d"),z("weekday","e"),z("isoWeekday","E"),N("d",_d),N("e",_d),N("E",_d),N("dd",he),N("ddd",he),N("dddd",he),R(["dd","ddd","dddd"],function(a,b,c){var d=c._locale.weekdaysParse(a);null!=d?b.d=d:j(c).invalidWeekday=a}),R(["d","e","E"],function(a,b,c,d){b[d]=q(a)});var Je="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ke="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Le="Su_Mo_Tu_We_Th_Fr_Sa".split("_");H("H",["HH",2],0,"hour"),H("h",["hh",2],0,function(){return this.hours()%12||12}),Sb("a",!0),Sb("A",!1),z("hour","h"),N("a",Tb),N("A",Tb),N("H",_d),N("h",_d),N("HH",_d,Xd),N("hh",_d,Xd),Q(["H","HH"],ne),Q(["a","A"],function(a,b,c){c._isPm=c._locale.isPM(a),c._meridiem=a}),Q(["h","hh"],function(a,b,c){b[ne]=q(a),j(c).bigHour=!0});var Me=/[ap]\.?m?\.?/i,Ne=C("Hours",!0);H("m",["mm",2],0,"minute"),z("minute","m"),N("m",_d),N("mm",_d,Xd),Q(["m","mm"],oe);var Oe=C("Minutes",!1);H("s",["ss",2],0,"second"),z("second","s"),N("s",_d),N("ss",_d,Xd),Q(["s","ss"],pe);var Pe=C("Seconds",!1);H("S",0,0,function(){return~~(this.millisecond()/100)}),H(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),H(0,["SSS",3],0,"millisecond"),H(0,["SSSS",4],0,function(){return 10*this.millisecond()}),H(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),H(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),H(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),H(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),H(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),z("millisecond","ms"),N("S",ae,Wd),N("SS",ae,Xd),N("SSS",ae,Yd);var Qe;for(Qe="SSSS";Qe.length<=9;Qe+="S")N(Qe,de);for(Qe="S";Qe.length<=9;Qe+="S")Q(Qe,Wb);var Re=C("Milliseconds",!1);H("z",0,0,"zoneAbbr"),H("zz",0,0,"zoneName");var Se=n.prototype;Se.add=Fe,Se.calendar=cb,Se.clone=db,Se.diff=ib,Se.endOf=ub,Se.format=mb,Se.from=nb,Se.fromNow=ob,Se.to=pb,Se.toNow=qb,Se.get=F,Se.invalidAt=Cb,Se.isAfter=eb,Se.isBefore=fb,Se.isBetween=gb,Se.isSame=hb,Se.isValid=Ab,Se.lang=He,Se.locale=rb,Se.localeData=sb,Se.max=Be,Se.min=Ae,Se.parsingFlags=Bb,Se.set=F,Se.startOf=tb,Se.subtract=Ge,Se.toArray=yb,Se.toObject=zb,Se.toDate=xb,Se.toISOString=lb,Se.toJSON=lb,Se.toString=kb,Se.unix=wb,Se.valueOf=vb,Se.year=ye,Se.isLeapYear=ia,Se.weekYear=Fb,Se.isoWeekYear=Gb,Se.quarter=Se.quarters=Jb,Se.month=Y,Se.daysInMonth=Z,Se.week=Se.weeks=na,Se.isoWeek=Se.isoWeeks=oa,Se.weeksInYear=Ib,Se.isoWeeksInYear=Hb,Se.date=Ie,Se.day=Se.days=Pb,Se.weekday=Qb,Se.isoWeekday=Rb,Se.dayOfYear=qa,Se.hour=Se.hours=Ne,Se.minute=Se.minutes=Oe,Se.second=Se.seconds=Pe,Se.millisecond=Se.milliseconds=Re,Se.utcOffset=Na,Se.utc=Pa,Se.local=Qa,Se.parseZone=Ra,Se.hasAlignedHourOffset=Sa,Se.isDST=Ta,Se.isDSTShifted=Ua,Se.isLocal=Va,Se.isUtcOffset=Wa,Se.isUtc=Xa,Se.isUTC=Xa,Se.zoneAbbr=Xb,Se.zoneName=Yb,Se.dates=aa("dates accessor is deprecated. Use date instead.",Ie),Se.months=aa("months accessor is deprecated. Use month instead",Y),Se.years=aa("years accessor is deprecated. Use year instead",ye),Se.zone=aa("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",Oa);var Te=Se,Ue={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Ve={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},We="Invalid date",Xe="%d",Ye=/\d{1,2}/,Ze={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},$e=s.prototype;$e._calendar=Ue,$e.calendar=_b,$e._longDateFormat=Ve,$e.longDateFormat=ac,$e._invalidDate=We,$e.invalidDate=bc,$e._ordinal=Xe,$e.ordinal=cc,$e._ordinalParse=Ye,$e.preparse=dc,$e.postformat=dc,$e._relativeTime=Ze,$e.relativeTime=ec,$e.pastFuture=fc,$e.set=gc,$e.months=U,$e._months=re,$e.monthsShort=V,$e._monthsShort=se,$e.monthsParse=W,$e.week=ka,$e._week=ze,$e.firstDayOfYear=ma,$e.firstDayOfWeek=la,$e.weekdays=Lb,$e._weekdays=Je,$e.weekdaysMin=Nb,$e._weekdaysMin=Le,$e.weekdaysShort=Mb,$e._weekdaysShort=Ke,$e.weekdaysParse=Ob,$e.isPM=Ub,$e._meridiemParse=Me,$e.meridiem=Vb,w("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(a){var b=a%10,c=1===q(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return a+c}}),a.lang=aa("moment.lang is deprecated. Use moment.locale instead.",w),a.langData=aa("moment.langData is deprecated. Use moment.localeData instead.",y);var _e=Math.abs,af=yc("ms"),bf=yc("s"),cf=yc("m"),df=yc("h"),ef=yc("d"),ff=yc("w"),gf=yc("M"),hf=yc("y"),jf=Ac("milliseconds"),kf=Ac("seconds"),lf=Ac("minutes"),mf=Ac("hours"),nf=Ac("days"),of=Ac("months"),pf=Ac("years"),qf=Math.round,rf={s:45,m:45,h:22,d:26,M:11},sf=Math.abs,tf=Ha.prototype;tf.abs=oc,tf.add=qc,tf.subtract=rc,tf.as=wc,tf.asMilliseconds=af,tf.asSeconds=bf,tf.asMinutes=cf,tf.asHours=df,tf.asDays=ef,tf.asWeeks=ff,tf.asMonths=gf,tf.asYears=hf,tf.valueOf=xc,tf._bubble=tc,tf.get=zc,tf.milliseconds=jf,tf.seconds=kf,tf.minutes=lf,tf.hours=mf,tf.days=nf,tf.weeks=Bc,tf.months=of,tf.years=pf,tf.humanize=Fc,tf.toISOString=Gc,tf.toString=Gc,tf.toJSON=Gc,tf.locale=rb,tf.localeData=sb,tf.toIsoString=aa("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Gc),tf.lang=He,H("X",0,0,"unix"),H("x",0,0,"valueOf"),N("x",ee),N("X",ge),Q("X",function(a,b,c){c._d=new Date(1e3*parseFloat(a,10))}),Q("x",function(a,b,c){c._d=new Date(q(a))}),a.version="2.10.6",b(Da),a.fn=Te,a.min=Fa,a.max=Ga,a.utc=h,a.unix=Zb,a.months=jc,a.isDate=d,a.locale=w,a.invalid=l,a.duration=Ya,a.isMoment=o,a.weekdays=lc,a.parseZone=$b,a.localeData=y,a.isDuration=Ia,a.monthsShort=kc,a.weekdaysMin=nc,a.defineLocale=x,a.weekdaysShort=mc,a.normalizeUnits=A,a.relativeTimeThreshold=Ec;var uf=a,vf=(uf.defineLocale("af",{months:"Januarie_Februarie_Maart_April_Mei_Junie_Julie_Augustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Aug_Sep_Okt_Nov_Des".split("_"),weekdays:"Sondag_Maandag_Dinsdag_Woensdag_Donderdag_Vrydag_Saterdag".split("_"),weekdaysShort:"Son_Maa_Din_Woe_Don_Vry_Sat".split("_"),weekdaysMin:"So_Ma_Di_Wo_Do_Vr_Sa".split("_"),meridiemParse:/vm|nm/i,isPM:function(a){return/^nm$/i.test(a)},meridiem:function(a,b,c){return 12>a?c?"vm":"VM":c?"nm":"NM"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Vandag om] LT",nextDay:"[MÃ´re om] LT",nextWeek:"dddd [om] LT",lastDay:"[Gister om] LT",lastWeek:"[Laas] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oor %s",past:"%s gelede",s:"'n paar sekondes",m:"'n minuut",mm:"%d minute",h:"'n uur",hh:"%d ure",d:"'n dag",dd:"%d dae",M:"'n maand",MM:"%d maande",y:"'n jaar",yy:"%d jaar"},ordinalParse:/\d{1,2}(ste|de)/,ordinal:function(a){return a+(1===a||8===a||a>=20?"ste":"de")},week:{dow:1,doy:4}}),uf.defineLocale("ar-ma",{months:"ÙÙØ§ÙØ±_ÙØ¨Ø±Ø§ÙØ±_ÙØ§Ø±Ø³_Ø£Ø¨Ø±ÙÙ_ÙØ§Ù_ÙÙÙÙÙ_ÙÙÙÙÙØ²_ØºØ´Øª_Ø´ØªÙØ¨Ø±_Ø£ÙØªÙØ¨Ø±_ÙÙÙØ¨Ø±_Ø¯Ø¬ÙØ¨Ø±".split("_"),monthsShort:"ÙÙØ§ÙØ±_ÙØ¨Ø±Ø§ÙØ±_ÙØ§Ø±Ø³_Ø£Ø¨Ø±ÙÙ_ÙØ§Ù_ÙÙÙÙÙ_ÙÙÙÙÙØ²_ØºØ´Øª_Ø´ØªÙØ¨Ø±_Ø£ÙØªÙØ¨Ø±_ÙÙÙØ¨Ø±_Ø¯Ø¬ÙØ¨Ø±".split("_"),weekdays:"Ø§ÙØ£Ø­Ø¯_Ø§ÙØ¥ØªÙÙÙ_Ø§ÙØ«ÙØ§Ø«Ø§Ø¡_Ø§ÙØ£Ø±Ø¨Ø¹Ø§Ø¡_Ø§ÙØ®ÙÙØ³_Ø§ÙØ¬ÙØ¹Ø©_Ø§ÙØ³Ø¨Øª".split("_"),weekdaysShort:"Ø§Ø­Ø¯_Ø§ØªÙÙÙ_Ø«ÙØ§Ø«Ø§Ø¡_Ø§Ø±Ø¨Ø¹Ø§Ø¡_Ø®ÙÙØ³_Ø¬ÙØ¹Ø©_Ø³Ø¨Øª".split("_"),weekdaysMin:"Ø­_Ù_Ø«_Ø±_Ø®_Ø¬_Ø³".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Ø§ÙÙÙÙ Ø¹ÙÙ Ø§ÙØ³Ø§Ø¹Ø©] LT",nextDay:"[ØºØ¯Ø§ Ø¹ÙÙ Ø§ÙØ³Ø§Ø¹Ø©] LT",nextWeek:"dddd [Ø¹ÙÙ Ø§ÙØ³Ø§Ø¹Ø©] LT",lastDay:"[Ø£ÙØ³ Ø¹ÙÙ Ø§ÙØ³Ø§Ø¹Ø©] LT",lastWeek:"dddd [Ø¹ÙÙ Ø§ÙØ³Ø§Ø¹Ø©] LT",sameElse:"L"},relativeTime:{future:"ÙÙ %s",past:"ÙÙØ° %s",s:"Ø«ÙØ§Ù",m:"Ø¯ÙÙÙØ©",mm:"%d Ø¯ÙØ§Ø¦Ù",h:"Ø³Ø§Ø¹Ø©",hh:"%d Ø³Ø§Ø¹Ø§Øª",d:"ÙÙÙ",dd:"%d Ø£ÙØ§Ù",M:"Ø´ÙØ±",MM:"%d Ø£Ø´ÙØ±",y:"Ø³ÙØ©",yy:"%d Ø³ÙÙØ§Øª"},week:{dow:6,doy:12}}),{1:"Ù¡",2:"Ù¢",3:"Ù£",4:"Ù¤",5:"Ù¥",6:"Ù¦",7:"Ù§",8:"Ù¨",9:"Ù©",0:"Ù "}),wf={"Ù¡":"1","Ù¢":"2","Ù£":"3","Ù¤":"4","Ù¥":"5","Ù¦":"6","Ù§":"7","Ù¨":"8","Ù©":"9","Ù ":"0"},xf=(uf.defineLocale("ar-sa",{months:"ÙÙØ§ÙØ±_ÙØ¨Ø±Ø§ÙØ±_ÙØ§Ø±Ø³_Ø£Ø¨Ø±ÙÙ_ÙØ§ÙÙ_ÙÙÙÙÙ_ÙÙÙÙÙ_Ø£ØºØ³Ø·Ø³_Ø³Ø¨ØªÙØ¨Ø±_Ø£ÙØªÙØ¨Ø±_ÙÙÙÙØ¨Ø±_Ø¯ÙØ³ÙØ¨Ø±".split("_"),monthsShort:"ÙÙØ§ÙØ±_ÙØ¨Ø±Ø§ÙØ±_ÙØ§Ø±Ø³_Ø£Ø¨Ø±ÙÙ_ÙØ§ÙÙ_ÙÙÙÙÙ_ÙÙÙÙÙ_Ø£ØºØ³Ø·Ø³_Ø³Ø¨ØªÙØ¨Ø±_Ø£ÙØªÙØ¨Ø±_ÙÙÙÙØ¨Ø±_Ø¯ÙØ³ÙØ¨Ø±".split("_"),weekdays:"Ø§ÙØ£Ø­Ø¯_Ø§ÙØ¥Ø«ÙÙÙ_Ø§ÙØ«ÙØ§Ø«Ø§Ø¡_Ø§ÙØ£Ø±Ø¨Ø¹Ø§Ø¡_Ø§ÙØ®ÙÙØ³_Ø§ÙØ¬ÙØ¹Ø©_Ø§ÙØ³Ø¨Øª".split("_"),weekdaysShort:"Ø£Ø­Ø¯_Ø¥Ø«ÙÙÙ_Ø«ÙØ§Ø«Ø§Ø¡_Ø£Ø±Ø¨Ø¹Ø§Ø¡_Ø®ÙÙØ³_Ø¬ÙØ¹Ø©_Ø³Ø¨Øª".split("_"),weekdaysMin:"Ø­_Ù_Ø«_Ø±_Ø®_Ø¬_Ø³".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/Øµ|Ù/,isPM:function(a){return"Ù"===a},meridiem:function(a,b,c){return 12>a?"Øµ":"Ù"},calendar:{sameDay:"[Ø§ÙÙÙÙ Ø¹ÙÙ Ø§ÙØ³Ø§Ø¹Ø©] LT",nextDay:"[ØºØ¯Ø§ Ø¹ÙÙ Ø§ÙØ³Ø§Ø¹Ø©] LT",nextWeek:"dddd [Ø¹ÙÙ Ø§ÙØ³Ø§Ø¹Ø©] LT",lastDay:"[Ø£ÙØ³ Ø¹ÙÙ Ø§ÙØ³Ø§Ø¹Ø©] LT",lastWeek:"dddd [Ø¹ÙÙ Ø§ÙØ³Ø§Ø¹Ø©] LT",sameElse:"L"},relativeTime:{future:"ÙÙ %s",past:"ÙÙØ° %s",s:"Ø«ÙØ§Ù",m:"Ø¯ÙÙÙØ©",mm:"%d Ø¯ÙØ§Ø¦Ù",h:"Ø³Ø§Ø¹Ø©",hh:"%d Ø³Ø§Ø¹Ø§Øª",d:"ÙÙÙ",dd:"%d Ø£ÙØ§Ù",M:"Ø´ÙØ±",MM:"%d Ø£Ø´ÙØ±",y:"Ø³ÙØ©",yy:"%d Ø³ÙÙØ§Øª"},preparse:function(a){return a.replace(/[Ù¡Ù¢Ù£Ù¤Ù¥Ù¦Ù§Ù¨Ù©Ù ]/g,function(a){return wf[a]}).replace(/Ø/g,",")},postformat:function(a){return a.replace(/\d/g,function(a){return vf[a]}).replace(/,/g,"Ø")},week:{dow:6,doy:12}}),uf.defineLocale("ar-tn",{months:"Ø¬Ø§ÙÙÙ_ÙÙÙØ±Ù_ÙØ§Ø±Ø³_Ø£ÙØ±ÙÙ_ÙØ§Ù_Ø¬ÙØ§Ù_Ø¬ÙÙÙÙØ©_Ø£ÙØª_Ø³Ø¨ØªÙØ¨Ø±_Ø£ÙØªÙØ¨Ø±_ÙÙÙÙØ¨Ø±_Ø¯ÙØ³ÙØ¨Ø±".split("_"),monthsShort:"Ø¬Ø§ÙÙÙ_ÙÙÙØ±Ù_ÙØ§Ø±Ø³_Ø£ÙØ±ÙÙ_ÙØ§Ù_Ø¬ÙØ§Ù_Ø¬ÙÙÙÙØ©_Ø£ÙØª_Ø³Ø¨ØªÙØ¨Ø±_Ø£ÙØªÙØ¨Ø±_ÙÙÙÙØ¨Ø±_Ø¯ÙØ³ÙØ¨Ø±".split("_"),weekdays:"Ø§ÙØ£Ø­Ø¯_Ø§ÙØ¥Ø«ÙÙÙ_Ø§ÙØ«ÙØ§Ø«Ø§Ø¡_Ø§ÙØ£Ø±Ø¨Ø¹Ø§Ø¡_Ø§ÙØ®ÙÙØ³_Ø§ÙØ¬ÙØ¹Ø©_Ø§ÙØ³Ø¨Øª".split("_"),weekdaysShort:"Ø£Ø­Ø¯_Ø¥Ø«ÙÙÙ_Ø«ÙØ§Ø«Ø§Ø¡_Ø£Ø±Ø¨Ø¹Ø§Ø¡_Ø®ÙÙØ³_Ø¬ÙØ¹Ø©_Ø³Ø¨Øª".split("_"),weekdaysMin:"Ø­_Ù_Ø«_Ø±_Ø®_Ø¬_Ø³".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Ø§ÙÙÙÙ Ø¹ÙÙ Ø§ÙØ³Ø§Ø¹Ø©] LT",nextDay:"[ØºØ¯Ø§ Ø¹ÙÙ Ø§ÙØ³Ø§Ø¹Ø©] LT",nextWeek:"dddd [Ø¹ÙÙ Ø§ÙØ³Ø§Ø¹Ø©] LT",lastDay:"[Ø£ÙØ³ Ø¹ÙÙ Ø§ÙØ³Ø§Ø¹Ø©] LT",lastWeek:"dddd [Ø¹ÙÙ Ø§ÙØ³Ø§Ø¹Ø©] LT",sameElse:"L"},relativeTime:{future:"ÙÙ %s",past:"ÙÙØ° %s",s:"Ø«ÙØ§Ù",m:"Ø¯ÙÙÙØ©",mm:"%d Ø¯ÙØ§Ø¦Ù",h:"Ø³Ø§Ø¹Ø©",hh:"%d Ø³Ø§Ø¹Ø§Øª",d:"ÙÙÙ",dd:"%d Ø£ÙØ§Ù",M:"Ø´ÙØ±",MM:"%d Ø£Ø´ÙØ±",y:"Ø³ÙØ©",yy:"%d Ø³ÙÙØ§Øª"},week:{dow:1,doy:4}}),{1:"Ù¡",2:"Ù¢",3:"Ù£",4:"Ù¤",5:"Ù¥",6:"Ù¦",7:"Ù§",8:"Ù¨",9:"Ù©",0:"Ù "}),yf={"Ù¡":"1","Ù¢":"2","Ù£":"3","Ù¤":"4","Ù¥":"5","Ù¦":"6","Ù§":"7","Ù¨":"8","Ù©":"9","Ù ":"0"},zf=function(a){return 0===a?0:1===a?1:2===a?2:a%100>=3&&10>=a%100?3:a%100>=11?4:5},Af={s:["Ø£ÙÙ ÙÙ Ø«Ø§ÙÙØ©","Ø«Ø§ÙÙØ© ÙØ§Ø­Ø¯Ø©",["Ø«Ø§ÙÙØªØ§Ù","Ø«Ø§ÙÙØªÙÙ"],"%d Ø«ÙØ§Ù","%d Ø«Ø§ÙÙØ©","%d Ø«Ø§ÙÙØ©"],m:["Ø£ÙÙ ÙÙ Ø¯ÙÙÙØ©","Ø¯ÙÙÙØ© ÙØ§Ø­Ø¯Ø©",["Ø¯ÙÙÙØªØ§Ù","Ø¯ÙÙÙØªÙÙ"],"%d Ø¯ÙØ§Ø¦Ù","%d Ø¯ÙÙÙØ©","%d Ø¯ÙÙÙØ©"],h:["Ø£ÙÙ ÙÙ Ø³Ø§Ø¹Ø©","Ø³Ø§Ø¹Ø© ÙØ§Ø­Ø¯Ø©",["Ø³Ø§Ø¹ØªØ§Ù","Ø³Ø§Ø¹ØªÙÙ"],"%d Ø³Ø§Ø¹Ø§Øª","%d Ø³Ø§Ø¹Ø©","%d Ø³Ø§Ø¹Ø©"],d:["Ø£ÙÙ ÙÙ ÙÙÙ","ÙÙÙ ÙØ§Ø­Ø¯",["ÙÙÙØ§Ù","ÙÙÙÙÙ"],"%d Ø£ÙØ§Ù","%d ÙÙÙÙØ§","%d ÙÙÙ"],M:["Ø£ÙÙ ÙÙ Ø´ÙØ±","Ø´ÙØ± ÙØ§Ø­Ø¯",["Ø´ÙØ±Ø§Ù","Ø´ÙØ±ÙÙ"],"%d Ø£Ø´ÙØ±","%d Ø´ÙØ±Ø§","%d Ø´ÙØ±"],y:["Ø£ÙÙ ÙÙ Ø¹Ø§Ù","Ø¹Ø§Ù ÙØ§Ø­Ø¯",["Ø¹Ø§ÙØ§Ù","Ø¹Ø§ÙÙÙ"],"%d Ø£Ø¹ÙØ§Ù","%d Ø¹Ø§ÙÙØ§","%d Ø¹Ø§Ù"]},Bf=function(a){return function(b,c,d,e){var f=zf(b),g=Af[a][zf(b)];return 2===f&&(g=g[c?0:1]),g.replace(/%d/i,b)}},Cf=["ÙØ§ÙÙÙ Ø§ÙØ«Ø§ÙÙ ÙÙØ§ÙØ±","Ø´Ø¨Ø§Ø· ÙØ¨Ø±Ø§ÙØ±","Ø¢Ø°Ø§Ø± ÙØ§Ø±Ø³","ÙÙØ³Ø§Ù Ø£Ø¨Ø±ÙÙ","Ø£ÙØ§Ø± ÙØ§ÙÙ","Ø­Ø²ÙØ±Ø§Ù ÙÙÙÙÙ","ØªÙÙØ² ÙÙÙÙÙ","Ø¢Ø¨ Ø£ØºØ³Ø·Ø³","Ø£ÙÙÙÙ Ø³Ø¨ØªÙØ¨Ø±","ØªØ´Ø±ÙÙ Ø§ÙØ£ÙÙ Ø£ÙØªÙØ¨Ø±","ØªØ´Ø±ÙÙ Ø§ÙØ«Ø§ÙÙ ÙÙÙÙØ¨Ø±","ÙØ§ÙÙÙ Ø§ÙØ£ÙÙ Ø¯ÙØ³ÙØ¨Ø±"],Df=(uf.defineLocale("ar",{months:Cf,monthsShort:Cf,weekdays:"Ø§ÙØ£Ø­Ø¯_Ø§ÙØ¥Ø«ÙÙÙ_Ø§ÙØ«ÙØ§Ø«Ø§Ø¡_Ø§ÙØ£Ø±Ø¨Ø¹Ø§Ø¡_Ø§ÙØ®ÙÙØ³_Ø§ÙØ¬ÙØ¹Ø©_Ø§ÙØ³Ø¨Øª".split("_"),weekdaysShort:"Ø£Ø­Ø¯_Ø¥Ø«ÙÙÙ_Ø«ÙØ§Ø«Ø§Ø¡_Ø£Ø±Ø¨Ø¹Ø§Ø¡_Ø®ÙÙØ³_Ø¬ÙØ¹Ø©_Ø³Ø¨Øª".split("_"),weekdaysMin:"Ø­_Ù_Ø«_Ø±_Ø®_Ø¬_Ø³".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/âM/âYYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/Øµ|Ù/,isPM:function(a){return"Ù"===a},meridiem:function(a,b,c){return 12>a?"Øµ":"Ù"},calendar:{sameDay:"[Ø§ÙÙÙÙ Ø¹ÙØ¯ Ø§ÙØ³Ø§Ø¹Ø©] LT",nextDay:"[ØºØ¯ÙØ§ Ø¹ÙØ¯ Ø§ÙØ³Ø§Ø¹Ø©] LT",nextWeek:"dddd [Ø¹ÙØ¯ Ø§ÙØ³Ø§Ø¹Ø©] LT",lastDay:"[Ø£ÙØ³ Ø¹ÙØ¯ Ø§ÙØ³Ø§Ø¹Ø©] LT",lastWeek:"dddd [Ø¹ÙØ¯ Ø§ÙØ³Ø§Ø¹Ø©] LT",sameElse:"L"},relativeTime:{future:"Ø¨Ø¹Ø¯ %s",past:"ÙÙØ° %s",s:Bf("s"),m:Bf("m"),mm:Bf("m"),h:Bf("h"),hh:Bf("h"),d:Bf("d"),dd:Bf("d"),M:Bf("M"),MM:Bf("M"),y:Bf("y"),yy:Bf("y")},preparse:function(a){return a.replace(/\u200f/g,"").replace(/[Ù¡Ù¢Ù£Ù¤Ù¥Ù¦Ù§Ù¨Ù©Ù ]/g,function(a){return yf[a]}).replace(/Ø/g,",")},postformat:function(a){return a.replace(/\d/g,function(a){return xf[a]}).replace(/,/g,"Ø")},week:{dow:6,doy:12}}),{1:"-inci",5:"-inci",8:"-inci",70:"-inci",80:"-inci",2:"-nci",7:"-nci",20:"-nci",50:"-nci",3:"-Ã¼ncÃ¼",4:"-Ã¼ncÃ¼",100:"-Ã¼ncÃ¼",6:"-ncÄ±",9:"-uncu",10:"-uncu",30:"-uncu",60:"-Ä±ncÄ±",90:"-Ä±ncÄ±"}),Ef=(uf.defineLocale("az",{months:"yanvar_fevral_mart_aprel_may_iyun_iyul_avqust_sentyabr_oktyabr_noyabr_dekabr".split("_"),monthsShort:"yan_fev_mar_apr_may_iyn_iyl_avq_sen_okt_noy_dek".split("_"),weekdays:"Bazar_Bazar ertÉsi_ÃÉrÅÉnbÉ axÅamÄ±_ÃÉrÅÉnbÉ_CÃ¼mÉ axÅamÄ±_CÃ¼mÉ_ÅÉnbÉ".split("_"),weekdaysShort:"Baz_BzE_ÃAx_ÃÉr_CAx_CÃ¼m_ÅÉn".split("_"),weekdaysMin:"Bz_BE_ÃA_ÃÉ_CA_CÃ¼_ÅÉ".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugÃ¼n saat] LT",nextDay:"[sabah saat] LT",nextWeek:"[gÉlÉn hÉftÉ] dddd [saat] LT",lastDay:"[dÃ¼nÉn] LT",lastWeek:"[keÃ§Én hÉftÉ] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s ÉvvÉl",s:"birneÃ§É saniyyÉ",m:"bir dÉqiqÉ",mm:"%d dÉqiqÉ",h:"bir saat",hh:"%d saat",d:"bir gÃ¼n",dd:"%d gÃ¼n",M:"bir ay",MM:"%d ay",y:"bir il",yy:"%d il"},meridiemParse:/gecÉ|sÉhÉr|gÃ¼ndÃ¼z|axÅam/,isPM:function(a){return/^(gÃ¼ndÃ¼z|axÅam)$/.test(a)},meridiem:function(a,b,c){return 4>a?"gecÉ":12>a?"sÉhÉr":17>a?"gÃ¼ndÃ¼z":"axÅam"},ordinalParse:/\d{1,2}-(Ä±ncÄ±|inci|nci|Ã¼ncÃ¼|ncÄ±|uncu)/,ordinal:function(a){if(0===a)return a+"-Ä±ncÄ±";var b=a%10,c=a%100-b,d=a>=100?100:null;return a+(Df[b]||Df[c]||Df[d])},week:{dow:1,doy:7}}),uf.defineLocale("be",{months:Jc,monthsShort:"ÑÑÑÐ´_Ð»ÑÑ_ÑÐ°Ðº_ÐºÑÐ°Ñ_ÑÑÐ°Ð²_ÑÑÑÐ²_Ð»ÑÐ¿_Ð¶Ð½ÑÐ²_Ð²ÐµÑ_ÐºÐ°ÑÑ_Ð»ÑÑÑ_ÑÐ½ÐµÐ¶".split("_"),weekdays:Kc,weekdaysShort:"Ð½Ð´_Ð¿Ð½_Ð°Ñ_ÑÑ_ÑÑ_Ð¿Ñ_ÑÐ±".split("_"),weekdaysMin:"Ð½Ð´_Ð¿Ð½_Ð°Ñ_ÑÑ_ÑÑ_Ð¿Ñ_ÑÐ±".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY Ð³.",LLL:"D MMMM YYYY Ð³., HH:mm",LLLL:"dddd, D MMMM YYYY Ð³., HH:mm"},calendar:{sameDay:"[Ð¡ÑÐ½Ð½Ñ Ñ] LT",nextDay:"[ÐÐ°ÑÑÑÐ° Ñ] LT",lastDay:"[Ð£ÑÐ¾ÑÐ° Ñ] LT",nextWeek:function(){return"[Ð£] dddd [Ñ] LT"},lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return"[Ð£ Ð¼ÑÐ½ÑÐ»ÑÑ] dddd [Ñ] LT";case 1:case 2:case 4:return"[Ð£ Ð¼ÑÐ½ÑÐ»Ñ] dddd [Ñ] LT"}},sameElse:"L"},relativeTime:{future:"Ð¿ÑÐ°Ð· %s",past:"%s ÑÐ°Ð¼Ñ",s:"Ð½ÐµÐºÐ°Ð»ÑÐºÑ ÑÐµÐºÑÐ½Ð´",m:Ic,mm:Ic,h:Ic,hh:Ic,d:"Ð´Ð·ÐµÐ½Ñ",dd:Ic,M:"Ð¼ÐµÑÑÑ",MM:Ic,y:"Ð³Ð¾Ð´",yy:Ic},meridiemParse:/Ð½Ð¾ÑÑ|ÑÐ°Ð½ÑÑÑ|Ð´Ð½Ñ|Ð²ÐµÑÐ°ÑÐ°/,isPM:function(a){return/^(Ð´Ð½Ñ|Ð²ÐµÑÐ°ÑÐ°)$/.test(a)},meridiem:function(a,b,c){return 4>a?"Ð½Ð¾ÑÑ":12>a?"ÑÐ°Ð½ÑÑÑ":17>a?"Ð´Ð½Ñ":"Ð²ÐµÑÐ°ÑÐ°"},ordinalParse:/\d{1,2}-(Ñ|Ñ|Ð³Ð°)/,ordinal:function(a,b){switch(b){case"M":case"d":case"DDD":case"w":case"W":return a%10!==2&&a%10!==3||a%100===12||a%100===13?a+"-Ñ":a+"-Ñ";case"D":return a+"-Ð³Ð°";default:return a}},week:{dow:1,doy:7}}),uf.defineLocale("bg",{months:"ÑÐ½ÑÐ°ÑÐ¸_ÑÐµÐ²ÑÑÐ°ÑÐ¸_Ð¼Ð°ÑÑ_Ð°Ð¿ÑÐ¸Ð»_Ð¼Ð°Ð¹_ÑÐ½Ð¸_ÑÐ»Ð¸_Ð°Ð²Ð³ÑÑÑ_ÑÐµÐ¿ÑÐµÐ¼Ð²ÑÐ¸_Ð¾ÐºÑÐ¾Ð¼Ð²ÑÐ¸_Ð½Ð¾ÐµÐ¼Ð²ÑÐ¸_Ð´ÐµÐºÐµÐ¼Ð²ÑÐ¸".split("_"),monthsShort:"ÑÐ½Ñ_ÑÐµÐ²_Ð¼Ð°Ñ_Ð°Ð¿Ñ_Ð¼Ð°Ð¹_ÑÐ½Ð¸_ÑÐ»Ð¸_Ð°Ð²Ð³_ÑÐµÐ¿_Ð¾ÐºÑ_Ð½Ð¾Ðµ_Ð´ÐµÐº".split("_"),weekdays:"Ð½ÐµÐ´ÐµÐ»Ñ_Ð¿Ð¾Ð½ÐµÐ´ÐµÐ»Ð½Ð¸Ðº_Ð²ÑÐ¾ÑÐ½Ð¸Ðº_ÑÑÑÐ´Ð°_ÑÐµÑÐ²ÑÑÑÑÐº_Ð¿ÐµÑÑÐº_ÑÑÐ±Ð¾ÑÐ°".split("_"),weekdaysShort:"Ð½ÐµÐ´_Ð¿Ð¾Ð½_Ð²ÑÐ¾_ÑÑÑ_ÑÐµÑ_Ð¿ÐµÑ_ÑÑÐ±".split("_"),weekdaysMin:"Ð½Ð´_Ð¿Ð½_Ð²Ñ_ÑÑ_ÑÑ_Ð¿Ñ_ÑÐ±".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[ÐÐ½ÐµÑ Ð²] LT",nextDay:"[Ð£ÑÑÐµ Ð²] LT",nextWeek:"dddd [Ð²] LT",lastDay:"[ÐÑÐµÑÐ° Ð²] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[Ð Ð¸Ð·Ð¼Ð¸Ð½Ð°Ð»Ð°ÑÐ°] dddd [Ð²] LT";case 1:case 2:case 4:case 5:return"[Ð Ð¸Ð·Ð¼Ð¸Ð½Ð°Ð»Ð¸Ñ] dddd [Ð²] LT"}},sameElse:"L"},relativeTime:{future:"ÑÐ»ÐµÐ´ %s",past:"Ð¿ÑÐµÐ´Ð¸ %s",s:"Ð½ÑÐºÐ¾Ð»ÐºÐ¾ ÑÐµÐºÑÐ½Ð´Ð¸",m:"Ð¼Ð¸Ð½ÑÑÐ°",mm:"%d Ð¼Ð¸Ð½ÑÑÐ¸",h:"ÑÐ°Ñ",hh:"%d ÑÐ°ÑÐ°",d:"Ð´ÐµÐ½",dd:"%d Ð´Ð½Ð¸",M:"Ð¼ÐµÑÐµÑ",MM:"%d Ð¼ÐµÑÐµÑÐ°",y:"Ð³Ð¾Ð´Ð¸Ð½Ð°",yy:"%d Ð³Ð¾Ð´Ð¸Ð½Ð¸"},ordinalParse:/\d{1,2}-(ÐµÐ²|ÐµÐ½|ÑÐ¸|Ð²Ð¸|ÑÐ¸|Ð¼Ð¸)/,ordinal:function(a){var b=a%10,c=a%100;return 0===a?a+"-ÐµÐ²":0===c?a+"-ÐµÐ½":c>10&&20>c?a+"-ÑÐ¸":1===b?a+"-Ð²Ð¸":2===b?a+"-ÑÐ¸":7===b||8===b?a+"-Ð¼Ð¸":a+"-ÑÐ¸"},week:{dow:1,doy:7}}),{1:"à§§",2:"à§¨",3:"à§©",4:"à§ª",5:"à§«",6:"à§¬",7:"à§­",8:"à§®",9:"à§¯",0:"à§¦"}),Ff={"à§§":"1","à§¨":"2","à§©":"3","à§ª":"4","à§«":"5","à§¬":"6","à§­":"7","à§®":"8","à§¯":"9","à§¦":"0"},Gf=(uf.defineLocale("bn",{months:"à¦à¦¾à¦¨à§à§à¦¾à¦°à§_à¦«à§à¦¬à§à§à¦¾à¦°à§_à¦®à¦¾à¦°à§à¦_à¦à¦ªà§à¦°à¦¿à¦²_à¦®à§_à¦à§à¦¨_à¦à§à¦²à¦¾à¦_à¦à¦à¦¾à¦¸à§à¦_à¦¸à§à¦ªà§à¦à§à¦®à§à¦¬à¦°_à¦à¦à§à¦à§à¦¬à¦°_à¦¨à¦­à§à¦®à§à¦¬à¦°_à¦¡à¦¿à¦¸à§à¦®à§à¦¬à¦°".split("_"),monthsShort:"à¦à¦¾à¦¨à§_à¦«à§à¦¬_à¦®à¦¾à¦°à§à¦_à¦à¦ªà¦°_à¦®à§_à¦à§à¦¨_à¦à§à¦²_à¦à¦_à¦¸à§à¦ªà§à¦_à¦à¦à§à¦à§_à¦¨à¦­_à¦¡à¦¿à¦¸à§à¦®à§".split("_"),weekdays:"à¦°à¦¬à¦¿à¦¬à¦¾à¦°_à¦¸à§à¦®à¦¬à¦¾à¦°_à¦®à¦à§à¦à¦²à¦¬à¦¾à¦°_à¦¬à§à¦§à¦¬à¦¾à¦°_à¦¬à§à¦¹à¦¸à§à¦ªà¦¤à§à¦¤à¦¿à¦¬à¦¾à¦°_à¦¶à§à¦à§à¦°à§à¦¬à¦¾à¦°_à¦¶à¦¨à¦¿à¦¬à¦¾à¦°".split("_"),weekdaysShort:"à¦°à¦¬à¦¿_à¦¸à§à¦®_à¦®à¦à§à¦à¦²_à¦¬à§à¦§_à¦¬à§à¦¹à¦¸à§à¦ªà¦¤à§à¦¤à¦¿_à¦¶à§à¦à§à¦°à§_à¦¶à¦¨à¦¿".split("_"),weekdaysMin:"à¦°à¦¬_à¦¸à¦®_à¦®à¦à§à¦_à¦¬à§_à¦¬à§à¦°à¦¿à¦¹_à¦¶à§_à¦¶à¦¨à¦¿".split("_"),longDateFormat:{LT:"A h:mm à¦¸à¦®à§",LTS:"A h:mm:ss à¦¸à¦®à§",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm à¦¸à¦®à§",LLLL:"dddd, D MMMM YYYY, A h:mm à¦¸à¦®à§"},calendar:{sameDay:"[à¦à¦] LT",nextDay:"[à¦à¦à¦¾à¦®à§à¦à¦¾à¦²] LT",nextWeek:"dddd, LT",lastDay:"[à¦à¦¤à¦à¦¾à¦²] LT",lastWeek:"[à¦à¦¤] dddd, LT",sameElse:"L"},relativeTime:{future:"%s à¦ªà¦°à§",past:"%s à¦à¦à§",s:"à¦à¦à¦ à¦¸à§à¦à§à¦¨à§à¦¡",m:"à¦à¦ à¦®à¦¿à¦¨à¦¿à¦",mm:"%d à¦®à¦¿à¦¨à¦¿à¦",h:"à¦à¦ à¦à¦¨à§à¦à¦¾",hh:"%d à¦à¦¨à§à¦à¦¾",d:"à¦à¦ à¦¦à¦¿à¦¨",dd:"%d à¦¦à¦¿à¦¨",M:"à¦à¦ à¦®à¦¾à¦¸",MM:"%d à¦®à¦¾à¦¸",y:"à¦à¦ à¦¬à¦à¦°",yy:"%d à¦¬à¦à¦°"},preparse:function(a){return a.replace(/[à§§à§¨à§©à§ªà§«à§¬à§­à§®à§¯à§¦]/g,function(a){return Ff[a]})},postformat:function(a){return a.replace(/\d/g,function(a){return Ef[a]})},meridiemParse:/à¦°à¦¾à¦¤|à¦¸à¦à¦¾à¦²|à¦¦à§à¦ªà§à¦°|à¦¬à¦¿à¦à§à¦²|à¦°à¦¾à¦¤/,isPM:function(a){return/^(à¦¦à§à¦ªà§à¦°|à¦¬à¦¿à¦à§à¦²|à¦°à¦¾à¦¤)$/.test(a)},meridiem:function(a,b,c){return 4>a?"à¦°à¦¾à¦¤":10>a?"à¦¸à¦à¦¾à¦²":17>a?"à¦¦à§à¦ªà§à¦°":20>a?"à¦¬à¦¿à¦à§à¦²":"à¦°à¦¾à¦¤"},week:{dow:0,doy:6}}),{1:"à¼¡",2:"à¼¢",3:"à¼£",4:"à¼¤",5:"à¼¥",6:"à¼¦",7:"à¼§",8:"à¼¨",9:"à¼©",0:"à¼ "}),Hf={"à¼¡":"1","à¼¢":"2","à¼£":"3","à¼¤":"4","à¼¥":"5","à¼¦":"6","à¼§":"7","à¼¨":"8","à¼©":"9","à¼ ":"0"},If=(uf.defineLocale("bo",{months:"à½à¾³à¼à½à¼à½à½à¼à½à½¼_à½à¾³à¼à½à¼à½à½à½²à½¦à¼à½_à½à¾³à¼à½à¼à½à½¦à½´à½à¼à½_à½à¾³à¼à½à¼à½à½à½²à¼à½_à½à¾³à¼à½à¼à½£à¾à¼à½_à½à¾³à¼à½à¼à½à¾²à½´à½à¼à½_à½à¾³à¼à½à¼à½à½à½´à½à¼à½_à½à¾³à¼à½à¼à½à½¢à¾à¾±à½à¼à½_à½à¾³à¼à½à¼à½à½à½´à¼à½_à½à¾³à¼à½à¼à½à½à½´à¼à½_à½à¾³à¼à½à¼à½à½à½´à¼à½à½à½²à½à¼à½_à½à¾³à¼à½à¼à½à½à½´à¼à½à½à½²à½¦à¼à½".split("_"),monthsShort:"à½à¾³à¼à½à¼à½à½à¼à½à½¼_à½à¾³à¼à½à¼à½à½à½²à½¦à¼à½_à½à¾³à¼à½à¼à½à½¦à½´à½à¼à½_à½à¾³à¼à½à¼à½à½à½²à¼à½_à½à¾³à¼à½à¼à½£à¾à¼à½_à½à¾³à¼à½à¼à½à¾²à½´à½à¼à½_à½à¾³à¼à½à¼à½à½à½´à½à¼à½_à½à¾³à¼à½à¼à½à½¢à¾à¾±à½à¼à½_à½à¾³à¼à½à¼à½à½à½´à¼à½_à½à¾³à¼à½à¼à½à½à½´à¼à½_à½à¾³à¼à½à¼à½à½à½´à¼à½à½à½²à½à¼à½_à½à¾³à¼à½à¼à½à½à½´à¼à½à½à½²à½¦à¼à½".split("_"),weekdays:"à½à½à½ à¼à½à½²à¼à½à¼_à½à½à½ à¼à½à¾³à¼à½à¼_à½à½à½ à¼à½à½²à½à¼à½à½à½¢à¼_à½à½à½ à¼à½£à¾·à½à¼à½à¼_à½à½à½ à¼à½à½´à½¢à¼à½à½´_à½à½à½ à¼à½à¼à½¦à½à½¦à¼_à½à½à½ à¼à½¦à¾¤à½ºà½à¼à½à¼".split("_"),weekdaysShort:"à½à½²à¼à½à¼_à½à¾³à¼à½à¼_à½à½²à½à¼à½à½à½¢à¼_à½£à¾·à½à¼à½à¼_à½à½´à½¢à¼à½à½´_à½à¼à½¦à½à½¦à¼_à½¦à¾¤à½ºà½à¼à½à¼".split("_"),weekdaysMin:"à½à½²à¼à½à¼_à½à¾³à¼à½à¼_à½à½²à½à¼à½à½à½¢à¼_à½£à¾·à½à¼à½à¼_à½à½´à½¢à¼à½à½´_à½à¼à½¦à½à½¦à¼_à½¦à¾¤à½ºà½à¼à½à¼".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[à½à½²à¼à½¢à½²à½] LT",nextDay:"[à½¦à½à¼à½à½²à½] LT",nextWeek:"[à½à½à½´à½à¼à½à¾²à½à¼à½¢à¾à½ºà½¦à¼à½], LT",lastDay:"[à½à¼à½¦à½] LT",lastWeek:"[à½à½à½´à½à¼à½à¾²à½à¼à½à½à½ à¼à½] dddd, LT",sameElse:"L"},relativeTime:{future:"%s à½£à¼",past:"%s à½¦à¾à½à¼à½£",s:"à½£à½à¼à½¦à½",m:"à½¦à¾à½¢à¼à½à¼à½à½à½²à½",mm:"%d à½¦à¾à½¢à¼à½",h:"à½à½´à¼à½à½¼à½à¼à½à½à½²à½",hh:"%d à½à½´à¼à½à½¼à½",d:"à½à½²à½à¼à½à½à½²à½",dd:"%d à½à½²à½à¼",M:"à½à¾³à¼à½à¼à½à½à½²à½",MM:"%d à½à¾³à¼à½",y:"à½£à½¼à¼à½à½à½²à½",yy:"%d à½£à½¼"},preparse:function(a){return a.replace(/[à¼¡à¼¢à¼£à¼¤à¼¥à¼¦à¼§à¼¨à¼©à¼ ]/g,function(a){return Hf[a]})},postformat:function(a){return a.replace(/\d/g,function(a){return Gf[a]})},meridiemParse:/à½à½à½à¼à½à½¼|à½à½¼à½à½¦à¼à½à½¦|à½à½²à½à¼à½à½´à½|à½à½à½¼à½à¼à½à½|à½à½à½à¼à½à½¼/,isPM:function(a){return/^(à½à½²à½à¼à½à½´à½|à½à½à½¼à½à¼à½à½|à½à½à½à¼à½à½¼)$/.test(a)},meridiem:function(a,b,c){return 4>a?"à½à½à½à¼à½à½¼":10>a?"à½à½¼à½à½¦à¼à½à½¦":17>a?"à½à½²à½à¼à½à½´à½":20>a?"à½à½à½¼à½à¼à½à½":"à½à½à½à¼à½à½¼"},week:{dow:0,doy:6}}),uf.defineLocale("br",{months:"Genver_C'hwevrer_Meurzh_Ebrel_Mae_Mezheven_Gouere_Eost_Gwengolo_Here_Du_Kerzu".split("_"),monthsShort:"Gen_C'hwe_Meu_Ebr_Mae_Eve_Gou_Eos_Gwe_Her_Du_Ker".split("_"),weekdays:"Sul_Lun_Meurzh_Merc'her_Yaou_Gwener_Sadorn".split("_"),weekdaysShort:"Sul_Lun_Meu_Mer_Yao_Gwe_Sad".split("_"),weekdaysMin:"Su_Lu_Me_Mer_Ya_Gw_Sa".split("_"),longDateFormat:{LT:"h[e]mm A",LTS:"h[e]mm:ss A",L:"DD/MM/YYYY",LL:"D [a viz] MMMM YYYY",LLL:"D [a viz] MMMM YYYY h[e]mm A",LLLL:"dddd, D [a viz] MMMM YYYY h[e]mm A"},calendar:{sameDay:"[Hiziv da] LT",nextDay:"[Warc'hoazh da] LT",nextWeek:"dddd [da] LT",lastDay:"[Dec'h da] LT",lastWeek:"dddd [paset da] LT",sameElse:"L"},relativeTime:{future:"a-benn %s",past:"%s 'zo",s:"un nebeud segondennoÃ¹",m:"ur vunutenn",mm:Lc,h:"un eur",hh:"%d eur",d:"un devezh",dd:Lc,M:"ur miz",MM:Lc,y:"ur bloaz",yy:Mc},ordinalParse:/\d{1,2}(aÃ±|vet)/,ordinal:function(a){var b=1===a?"aÃ±":"vet";return a+b},week:{dow:1,doy:4}}),uf.defineLocale("bs",{months:"januar_februar_mart_april_maj_juni_juli_august_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._aug._sep._okt._nov._dec.".split("_"),weekdays:"nedjelja_ponedjeljak_utorak_srijeda_Äetvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._Äet._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_Äe_pe_su".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juÄer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[proÅ¡lu] dddd [u] LT";case 6:return"[proÅ¡le] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[proÅ¡li] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",m:Qc,mm:Qc,h:Qc,hh:Qc,d:"dan",dd:Qc,M:"mjesec",MM:Qc,y:"godinu",yy:Qc},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}}),uf.defineLocale("ca",{months:"gener_febrer_marÃ§_abril_maig_juny_juliol_agost_setembre_octubre_novembre_desembre".split("_"),monthsShort:"gen._febr._mar._abr._mai._jun._jul._ag._set._oct._nov._des.".split("_"),weekdays:"diumenge_dilluns_dimarts_dimecres_dijous_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dt._dc._dj._dv._ds.".split("_"),weekdaysMin:"Dg_Dl_Dt_Dc_Dj_Dv_Ds".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd D MMMM YYYY H:mm"},calendar:{sameDay:function(){return"[avui a "+(1!==this.hours()?"les":"la")+"] LT"},nextDay:function(){return"[demÃ  a "+(1!==this.hours()?"les":"la")+"] LT"},nextWeek:function(){return"dddd [a "+(1!==this.hours()?"les":"la")+"] LT"},lastDay:function(){return"[ahir a "+(1!==this.hours()?"les":"la")+"] LT"},lastWeek:function(){return"[el] dddd [passat a "+(1!==this.hours()?"les":"la")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"fa %s",s:"uns segons",m:"un minut",mm:"%d minuts",h:"una hora",hh:"%d hores",d:"un dia",dd:"%d dies",M:"un mes",MM:"%d mesos",y:"un any",yy:"%d anys"},ordinalParse:/\d{1,2}(r|n|t|Ã¨|a)/,ordinal:function(a,b){var c=1===a?"r":2===a?"n":3===a?"r":4===a?"t":"Ã¨";return("w"===b||"W"===b)&&(c="a"),a+c},week:{dow:1,doy:4}}),"leden_Ãºnor_bÅezen_duben_kvÄten_Äerven_Äervenec_srpen_zÃ¡ÅÃ­_ÅÃ­jen_listopad_prosinec".split("_")),Jf="led_Ãºno_bÅe_dub_kvÄ_Ävn_Ävc_srp_zÃ¡Å_ÅÃ­j_lis_pro".split("_"),Kf=(uf.defineLocale("cs",{months:If,monthsShort:Jf,monthsParse:function(a,b){var c,d=[];for(c=0;12>c;c++)d[c]=new RegExp("^"+a[c]+"$|^"+b[c]+"$","i");return d}(If,Jf),weekdays:"nedÄle_pondÄlÃ­_ÃºterÃ½_stÅeda_Ätvrtek_pÃ¡tek_sobota".split("_"),weekdaysShort:"ne_po_Ãºt_st_Ät_pÃ¡_so".split("_"),weekdaysMin:"ne_po_Ãºt_st_Ät_pÃ¡_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm"},calendar:{sameDay:"[dnes v] LT",nextDay:"[zÃ­tra v] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedÄli v] LT";case 1:case 2:return"[v] dddd [v] LT";case 3:return"[ve stÅedu v] LT";case 4:return"[ve Ätvrtek v] LT";case 5:return"[v pÃ¡tek v] LT";case 6:return"[v sobotu v] LT"}},lastDay:"[vÄera v] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulou nedÄli v] LT";case 1:case 2:return"[minulÃ©] dddd [v] LT";case 3:return"[minulou stÅedu v] LT";case 4:case 5:return"[minulÃ½] dddd [v] LT";case 6:return"[minulou sobotu v] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"pÅed %s",s:Sc,m:Sc,mm:Sc,h:Sc,hh:Sc,d:Sc,dd:Sc,M:Sc,MM:Sc,y:Sc,yy:Sc},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),uf.defineLocale("cv",{months:"ÐºÓÑÐ»Ð°Ñ_Ð½Ð°ÑÓÑ_Ð¿ÑÑ_Ð°ÐºÐ°_Ð¼Ð°Ð¹_Ò«ÓÑÑÐ¼Ðµ_ÑÑÓ_Ò«ÑÑÐ»Ð°_Ð°Ð²ÓÐ½_ÑÐ¿Ð°_ÑÓ³Ðº_ÑÐ°ÑÑÐ°Ð²".split("_"),monthsShort:"ÐºÓÑ_Ð½Ð°Ñ_Ð¿ÑÑ_Ð°ÐºÐ°_Ð¼Ð°Ð¹_Ò«ÓÑ_ÑÑÓ_Ò«ÑÑ_Ð°Ð²Ð½_ÑÐ¿Ð°_ÑÓ³Ðº_ÑÐ°Ñ".split("_"),weekdays:"Ð²ÑÑÑÐ°ÑÐ½Ð¸ÐºÑÐ½_ÑÑÐ½ÑÐ¸ÐºÑÐ½_ÑÑÐ»Ð°ÑÐ¸ÐºÑÐ½_ÑÐ½ÐºÑÐ½_ÐºÓÒ«Ð½ÐµÑÐ½Ð¸ÐºÑÐ½_ÑÑÐ½ÐµÐºÑÐ½_ÑÓÐ¼Ð°ÑÐºÑÐ½".split("_"),weekdaysShort:"Ð²ÑÑ_ÑÑÐ½_ÑÑÐ»_ÑÐ½_ÐºÓÒ«_ÑÑÐ½_ÑÓÐ¼".split("_"),weekdaysMin:"Ð²Ñ_ÑÐ½_ÑÑ_ÑÐ½_ÐºÒ«_ÑÑ_ÑÐ¼".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"YYYY [Ò«ÑÐ»ÑÐ¸] MMMM [ÑÐ¹ÓÑÓÐ½] D[-Ð¼ÓÑÓ]",LLL:"YYYY [Ò«ÑÐ»ÑÐ¸] MMMM [ÑÐ¹ÓÑÓÐ½] D[-Ð¼ÓÑÓ], HH:mm",LLLL:"dddd, YYYY [Ò«ÑÐ»ÑÐ¸] MMMM [ÑÐ¹ÓÑÓÐ½] D[-Ð¼ÓÑÓ], HH:mm"},calendar:{sameDay:"[ÐÐ°ÑÐ½] LT [ÑÐµÑÐµÑÑÐµ]",nextDay:"[Ð«ÑÐ°Ð½] LT [ÑÐµÑÐµÑÑÐµ]",lastDay:"[ÓÐ½ÐµÑ] LT [ÑÐµÑÐµÑÑÐµ]",nextWeek:"[ÒªÐ¸ÑÐµÑ] dddd LT [ÑÐµÑÐµÑÑÐµ]",lastWeek:"[ÐÑÑÐ½Ó] dddd LT [ÑÐµÑÐµÑÑÐµ]",sameElse:"L"},relativeTime:{future:function(a){var b=/ÑÐµÑÐµÑ$/i.exec(a)?"ÑÐµÐ½":/Ò«ÑÐ»$/i.exec(a)?"ÑÐ°Ð½":"ÑÐ°Ð½";return a+b},past:"%s ÐºÐ°ÑÐ»Ð»Ð°",s:"Ð¿ÓÑ-Ð¸Ðº Ò«ÐµÐºÐºÑÐ½Ñ",m:"Ð¿ÓÑ Ð¼Ð¸Ð½ÑÑ",mm:"%d Ð¼Ð¸Ð½ÑÑ",h:"Ð¿ÓÑ ÑÐµÑÐµÑ",hh:"%d ÑÐµÑÐµÑ",d:"Ð¿ÓÑ ÐºÑÐ½",dd:"%d ÐºÑÐ½",M:"Ð¿ÓÑ ÑÐ¹ÓÑ",MM:"%d ÑÐ¹ÓÑ",y:"Ð¿ÓÑ Ò«ÑÐ»",yy:"%d Ò«ÑÐ»"},ordinalParse:/\d{1,2}-Ð¼ÓÑ/,ordinal:"%d-Ð¼ÓÑ",week:{dow:1,doy:7}}),uf.defineLocale("cy",{months:"Ionawr_Chwefror_Mawrth_Ebrill_Mai_Mehefin_Gorffennaf_Awst_Medi_Hydref_Tachwedd_Rhagfyr".split("_"),monthsShort:"Ion_Chwe_Maw_Ebr_Mai_Meh_Gor_Aws_Med_Hyd_Tach_Rhag".split("_"),weekdays:"Dydd Sul_Dydd Llun_Dydd Mawrth_Dydd Mercher_Dydd Iau_Dydd Gwener_Dydd Sadwrn".split("_"),weekdaysShort:"Sul_Llun_Maw_Mer_Iau_Gwe_Sad".split("_"),weekdaysMin:"Su_Ll_Ma_Me_Ia_Gw_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Heddiw am] LT",nextDay:"[Yfory am] LT",nextWeek:"dddd [am] LT",lastDay:"[Ddoe am] LT",lastWeek:"dddd [diwethaf am] LT",sameElse:"L"},relativeTime:{future:"mewn %s",past:"%s yn Ã´l",s:"ychydig eiliadau",m:"munud",mm:"%d munud",h:"awr",hh:"%d awr",d:"diwrnod",dd:"%d diwrnod",M:"mis",MM:"%d mis",y:"blwyddyn",yy:"%d flynedd"},ordinalParse:/\d{1,2}(fed|ain|af|il|ydd|ed|eg)/,ordinal:function(a){var b=a,c="",d=["","af","il","ydd","ydd","ed","ed","ed","fed","fed","fed","eg","fed","eg","eg","fed","eg","eg","fed","eg","fed"];return b>20?c=40===b||50===b||60===b||80===b||100===b?"fed":"ain":b>0&&(c=d[b]),a+c},week:{dow:1,doy:4}}),uf.defineLocale("da",{months:"januar_februar_marts_april_maj_juni_juli_august_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),
weekdays:"sÃ¸ndag_mandag_tirsdag_onsdag_torsdag_fredag_lÃ¸rdag".split("_"),weekdaysShort:"sÃ¸n_man_tir_ons_tor_fre_lÃ¸r".split("_"),weekdaysMin:"sÃ¸_ma_ti_on_to_fr_lÃ¸".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd [d.] D. MMMM YYYY HH:mm"},calendar:{sameDay:"[I dag kl.] LT",nextDay:"[I morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[I gÃ¥r kl.] LT",lastWeek:"[sidste] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"fÃ¥ sekunder",m:"et minut",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dage",M:"en mÃ¥ned",MM:"%d mÃ¥neder",y:"et Ã¥r",yy:"%d Ã¥r"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),uf.defineLocale("de-at",{months:"JÃ¤nner_Februar_MÃ¤rz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"JÃ¤n._Febr._Mrz._Apr._Mai_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[Heute um] LT [Uhr]",sameElse:"L",nextDay:"[Morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[Gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",m:Tc,mm:"%d Minuten",h:Tc,hh:"%d Stunden",d:Tc,dd:Tc,M:Tc,MM:Tc,y:Tc,yy:Tc},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),uf.defineLocale("de",{months:"Januar_Februar_MÃ¤rz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Apr._Mai_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[Heute um] LT [Uhr]",sameElse:"L",nextDay:"[Morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[Gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",m:Uc,mm:"%d Minuten",h:Uc,hh:"%d Stunden",d:Uc,dd:Uc,M:Uc,MM:Uc,y:Uc,yy:Uc},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),uf.defineLocale("el",{monthsNominativeEl:"ÎÎ±Î½Î¿ÏÎ¬ÏÎ¹Î¿Ï_Î¦ÎµÎ²ÏÎ¿ÏÎ¬ÏÎ¹Î¿Ï_ÎÎ¬ÏÏÎ¹Î¿Ï_ÎÏÏÎ¯Î»Î¹Î¿Ï_ÎÎ¬Î¹Î¿Ï_ÎÎ¿ÏÎ½Î¹Î¿Ï_ÎÎ¿ÏÎ»Î¹Î¿Ï_ÎÏÎ³Î¿ÏÏÏÎ¿Ï_Î£ÎµÏÏÎ­Î¼Î²ÏÎ¹Î¿Ï_ÎÎºÏÏÎ²ÏÎ¹Î¿Ï_ÎÎ¿Î­Î¼Î²ÏÎ¹Î¿Ï_ÎÎµÎºÎ­Î¼Î²ÏÎ¹Î¿Ï".split("_"),monthsGenitiveEl:"ÎÎ±Î½Î¿ÏÎ±ÏÎ¯Î¿Ï_Î¦ÎµÎ²ÏÎ¿ÏÎ±ÏÎ¯Î¿Ï_ÎÎ±ÏÏÎ¯Î¿Ï_ÎÏÏÎ¹Î»Î¯Î¿Ï_ÎÎ±ÎÎ¿Ï_ÎÎ¿ÏÎ½Î¯Î¿Ï_ÎÎ¿ÏÎ»Î¯Î¿Ï_ÎÏÎ³Î¿ÏÏÏÎ¿Ï_Î£ÎµÏÏÎµÎ¼Î²ÏÎ¯Î¿Ï_ÎÎºÏÏÎ²ÏÎ¯Î¿Ï_ÎÎ¿ÎµÎ¼Î²ÏÎ¯Î¿Ï_ÎÎµÎºÎµÎ¼Î²ÏÎ¯Î¿Ï".split("_"),months:function(a,b){return/D/.test(b.substring(0,b.indexOf("MMMM")))?this._monthsGenitiveEl[a.month()]:this._monthsNominativeEl[a.month()]},monthsShort:"ÎÎ±Î½_Î¦ÎµÎ²_ÎÎ±Ï_ÎÏÏ_ÎÎ±Ï_ÎÎ¿ÏÎ½_ÎÎ¿ÏÎ»_ÎÏÎ³_Î£ÎµÏ_ÎÎºÏ_ÎÎ¿Îµ_ÎÎµÎº".split("_"),weekdays:"ÎÏÏÎ¹Î±ÎºÎ®_ÎÎµÏÏÎ­ÏÎ±_Î¤ÏÎ¯ÏÎ·_Î¤ÎµÏÎ¬ÏÏÎ·_Î Î­Î¼ÏÏÎ·_Î Î±ÏÎ±ÏÎºÎµÏÎ®_Î£Î¬Î²Î²Î±ÏÎ¿".split("_"),weekdaysShort:"ÎÏÏ_ÎÎµÏ_Î¤ÏÎ¹_Î¤ÎµÏ_Î ÎµÎ¼_Î Î±Ï_Î£Î±Î²".split("_"),weekdaysMin:"ÎÏ_ÎÎµ_Î¤Ï_Î¤Îµ_Î Îµ_Î Î±_Î£Î±".split("_"),meridiem:function(a,b,c){return a>11?c?"Î¼Î¼":"ÎÎ":c?"ÏÎ¼":"Î Î"},isPM:function(a){return"Î¼"===(a+"").toLowerCase()[0]},meridiemParse:/[Î Î]\.?Î?\.?/i,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendarEl:{sameDay:"[Î£Î®Î¼ÎµÏÎ± {}] LT",nextDay:"[ÎÏÏÎ¹Î¿ {}] LT",nextWeek:"dddd [{}] LT",lastDay:"[Î§Î¸ÎµÏ {}] LT",lastWeek:function(){switch(this.day()){case 6:return"[ÏÎ¿ ÏÏÎ¿Î·Î³Î¿ÏÎ¼ÎµÎ½Î¿] dddd [{}] LT";default:return"[ÏÎ·Î½ ÏÏÎ¿Î·Î³Î¿ÏÎ¼ÎµÎ½Î·] dddd [{}] LT"}},sameElse:"L"},calendar:function(a,b){var c=this._calendarEl[a],d=b&&b.hours();return"function"==typeof c&&(c=c.apply(b)),c.replace("{}",d%12===1?"ÏÏÎ·":"ÏÏÎ¹Ï")},relativeTime:{future:"ÏÎµ %s",past:"%s ÏÏÎ¹Î½",s:"Î»Î¯Î³Î± Î´ÎµÏÏÎµÏÏÎ»ÎµÏÏÎ±",m:"Î­Î½Î± Î»ÎµÏÏÏ",mm:"%d Î»ÎµÏÏÎ¬",h:"Î¼Î¯Î± ÏÏÎ±",hh:"%d ÏÏÎµÏ",d:"Î¼Î¯Î± Î¼Î­ÏÎ±",dd:"%d Î¼Î­ÏÎµÏ",M:"Î­Î½Î±Ï Î¼Î®Î½Î±Ï",MM:"%d Î¼Î®Î½ÎµÏ",y:"Î­Î½Î±Ï ÏÏÏÎ½Î¿Ï",yy:"%d ÏÏÏÎ½Î¹Î±"},ordinalParse:/\d{1,2}Î·/,ordinal:"%dÎ·",week:{dow:1,doy:4}}),uf.defineLocale("en-au",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(a){var b=a%10,c=1===~~(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return a+c},week:{dow:1,doy:4}}),uf.defineLocale("en-ca",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"YYYY-MM-DD",LL:"D MMMM, YYYY",LLL:"D MMMM, YYYY h:mm A",LLLL:"dddd, D MMMM, YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(a){var b=a%10,c=1===~~(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return a+c}}),uf.defineLocale("en-gb",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(a){var b=a%10,c=1===~~(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return a+c},week:{dow:1,doy:4}}),uf.defineLocale("eo",{months:"januaro_februaro_marto_aprilo_majo_junio_julio_aÅ­gusto_septembro_oktobro_novembro_decembro".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aÅ­g_sep_okt_nov_dec".split("_"),weekdays:"DimanÄo_Lundo_Mardo_Merkredo_Ä´aÅ­do_Vendredo_Sabato".split("_"),weekdaysShort:"Dim_Lun_Mard_Merk_Ä´aÅ­_Ven_Sab".split("_"),weekdaysMin:"Di_Lu_Ma_Me_Ä´a_Ve_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D[-an de] MMMM, YYYY",LLL:"D[-an de] MMMM, YYYY HH:mm",LLLL:"dddd, [la] D[-an de] MMMM, YYYY HH:mm"},meridiemParse:/[ap]\.t\.m/i,isPM:function(a){return"p"===a.charAt(0).toLowerCase()},meridiem:function(a,b,c){return a>11?c?"p.t.m.":"P.T.M.":c?"a.t.m.":"A.T.M."},calendar:{sameDay:"[HodiaÅ­ je] LT",nextDay:"[MorgaÅ­ je] LT",nextWeek:"dddd [je] LT",lastDay:"[HieraÅ­ je] LT",lastWeek:"[pasinta] dddd [je] LT",sameElse:"L"},relativeTime:{future:"je %s",past:"antaÅ­ %s",s:"sekundoj",m:"minuto",mm:"%d minutoj",h:"horo",hh:"%d horoj",d:"tago",dd:"%d tagoj",M:"monato",MM:"%d monatoj",y:"jaro",yy:"%d jaroj"},ordinalParse:/\d{1,2}a/,ordinal:"%da",week:{dow:1,doy:7}}),"Ene._Feb._Mar._Abr._May._Jun._Jul._Ago._Sep._Oct._Nov._Dic.".split("_")),Lf="Ene_Feb_Mar_Abr_May_Jun_Jul_Ago_Sep_Oct_Nov_Dic".split("_"),Mf=(uf.defineLocale("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:function(a,b){return/-MMM-/.test(b)?Lf[a.month()]:Kf[a.month()]},weekdays:"Domingo_Lunes_Martes_MiÃ©rcoles_Jueves_Viernes_SÃ¡bado".split("_"),weekdaysShort:"Dom._Lun._Mar._MiÃ©._Jue._Vie._SÃ¡b.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_SÃ¡".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[maÃ±ana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un dÃ­a",dd:"%d dÃ­as",M:"un mes",MM:"%d meses",y:"un aÃ±o",yy:"%d aÃ±os"},ordinalParse:/\d{1,2}Âº/,ordinal:"%dÂº",week:{dow:1,doy:4}}),uf.defineLocale("et",{months:"jaanuar_veebruar_mÃ¤rts_aprill_mai_juuni_juuli_august_september_oktoober_november_detsember".split("_"),monthsShort:"jaan_veebr_mÃ¤rts_apr_mai_juuni_juuli_aug_sept_okt_nov_dets".split("_"),weekdays:"pÃ¼hapÃ¤ev_esmaspÃ¤ev_teisipÃ¤ev_kolmapÃ¤ev_neljapÃ¤ev_reede_laupÃ¤ev".split("_"),weekdaysShort:"P_E_T_K_N_R_L".split("_"),weekdaysMin:"P_E_T_K_N_R_L".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[TÃ¤na,] LT",nextDay:"[Homme,] LT",nextWeek:"[JÃ¤rgmine] dddd LT",lastDay:"[Eile,] LT",lastWeek:"[Eelmine] dddd LT",sameElse:"L"},relativeTime:{future:"%s pÃ¤rast",past:"%s tagasi",s:Vc,m:Vc,mm:Vc,h:Vc,hh:Vc,d:Vc,dd:"%d pÃ¤eva",M:Vc,MM:Vc,y:Vc,yy:Vc},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),uf.defineLocale("eu",{months:"urtarrila_otsaila_martxoa_apirila_maiatza_ekaina_uztaila_abuztua_iraila_urria_azaroa_abendua".split("_"),monthsShort:"urt._ots._mar._api._mai._eka._uzt._abu._ira._urr._aza._abe.".split("_"),weekdays:"igandea_astelehena_asteartea_asteazkena_osteguna_ostirala_larunbata".split("_"),weekdaysShort:"ig._al._ar._az._og._ol._lr.".split("_"),weekdaysMin:"ig_al_ar_az_og_ol_lr".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY[ko] MMMM[ren] D[a]",LLL:"YYYY[ko] MMMM[ren] D[a] HH:mm",LLLL:"dddd, YYYY[ko] MMMM[ren] D[a] HH:mm",l:"YYYY-M-D",ll:"YYYY[ko] MMM D[a]",lll:"YYYY[ko] MMM D[a] HH:mm",llll:"ddd, YYYY[ko] MMM D[a] HH:mm"},calendar:{sameDay:"[gaur] LT[etan]",nextDay:"[bihar] LT[etan]",nextWeek:"dddd LT[etan]",lastDay:"[atzo] LT[etan]",lastWeek:"[aurreko] dddd LT[etan]",sameElse:"L"},relativeTime:{future:"%s barru",past:"duela %s",s:"segundo batzuk",m:"minutu bat",mm:"%d minutu",h:"ordu bat",hh:"%d ordu",d:"egun bat",dd:"%d egun",M:"hilabete bat",MM:"%d hilabete",y:"urte bat",yy:"%d urte"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}}),{1:"Û±",2:"Û²",3:"Û³",4:"Û´",5:"Ûµ",6:"Û¶",7:"Û·",8:"Û¸",9:"Û¹",0:"Û°"}),Nf={"Û±":"1","Û²":"2","Û³":"3","Û´":"4","Ûµ":"5","Û¶":"6","Û·":"7","Û¸":"8","Û¹":"9","Û°":"0"},Of=(uf.defineLocale("fa",{months:"ÚØ§ÙÙÛÙ_ÙÙØ±ÛÙ_ÙØ§Ø±Ø³_Ø¢ÙØ±ÛÙ_ÙÙ_ÚÙØ¦Ù_ÚÙØ¦ÛÙ_Ø§ÙØª_Ø³Ù¾ØªØ§ÙØ¨Ø±_Ø§Ú©ØªØ¨Ø±_ÙÙØ§ÙØ¨Ø±_Ø¯Ø³Ø§ÙØ¨Ø±".split("_"),monthsShort:"ÚØ§ÙÙÛÙ_ÙÙØ±ÛÙ_ÙØ§Ø±Ø³_Ø¢ÙØ±ÛÙ_ÙÙ_ÚÙØ¦Ù_ÚÙØ¦ÛÙ_Ø§ÙØª_Ø³Ù¾ØªØ§ÙØ¨Ø±_Ø§Ú©ØªØ¨Ø±_ÙÙØ§ÙØ¨Ø±_Ø¯Ø³Ø§ÙØ¨Ø±".split("_"),weekdays:"ÛÚ©âØ´ÙØ¨Ù_Ø¯ÙØ´ÙØ¨Ù_Ø³ÙâØ´ÙØ¨Ù_ÚÙØ§Ø±Ø´ÙØ¨Ù_Ù¾ÙØ¬âØ´ÙØ¨Ù_Ø¬ÙØ¹Ù_Ø´ÙØ¨Ù".split("_"),weekdaysShort:"ÛÚ©âØ´ÙØ¨Ù_Ø¯ÙØ´ÙØ¨Ù_Ø³ÙâØ´ÙØ¨Ù_ÚÙØ§Ø±Ø´ÙØ¨Ù_Ù¾ÙØ¬âØ´ÙØ¨Ù_Ø¬ÙØ¹Ù_Ø´ÙØ¨Ù".split("_"),weekdaysMin:"Û_Ø¯_Ø³_Ú_Ù¾_Ø¬_Ø´".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/ÙØ¨Ù Ø§Ø² Ø¸ÙØ±|Ø¨Ø¹Ø¯ Ø§Ø² Ø¸ÙØ±/,isPM:function(a){return/Ø¨Ø¹Ø¯ Ø§Ø² Ø¸ÙØ±/.test(a)},meridiem:function(a,b,c){return 12>a?"ÙØ¨Ù Ø§Ø² Ø¸ÙØ±":"Ø¨Ø¹Ø¯ Ø§Ø² Ø¸ÙØ±"},calendar:{sameDay:"[Ø§ÙØ±ÙØ² Ø³Ø§Ø¹Øª] LT",nextDay:"[ÙØ±Ø¯Ø§ Ø³Ø§Ø¹Øª] LT",nextWeek:"dddd [Ø³Ø§Ø¹Øª] LT",lastDay:"[Ø¯ÛØ±ÙØ² Ø³Ø§Ø¹Øª] LT",lastWeek:"dddd [Ù¾ÛØ´] [Ø³Ø§Ø¹Øª] LT",sameElse:"L"},relativeTime:{future:"Ø¯Ø± %s",past:"%s Ù¾ÛØ´",s:"ÚÙØ¯ÛÙ Ø«Ø§ÙÛÙ",m:"ÛÚ© Ø¯ÙÛÙÙ",mm:"%d Ø¯ÙÛÙÙ",h:"ÛÚ© Ø³Ø§Ø¹Øª",hh:"%d Ø³Ø§Ø¹Øª",d:"ÛÚ© Ø±ÙØ²",dd:"%d Ø±ÙØ²",M:"ÛÚ© ÙØ§Ù",MM:"%d ÙØ§Ù",y:"ÛÚ© Ø³Ø§Ù",yy:"%d Ø³Ø§Ù"},preparse:function(a){return a.replace(/[Û°-Û¹]/g,function(a){return Nf[a]}).replace(/Ø/g,",")},postformat:function(a){return a.replace(/\d/g,function(a){return Mf[a]}).replace(/,/g,"Ø")},ordinalParse:/\d{1,2}Ù/,ordinal:"%dÙ",week:{dow:6,doy:12}}),"nolla yksi kaksi kolme neljÃ¤ viisi kuusi seitsemÃ¤n kahdeksan yhdeksÃ¤n".split(" ")),Pf=["nolla","yhden","kahden","kolmen","neljÃ¤n","viiden","kuuden",Of[7],Of[8],Of[9]],Qf=(uf.defineLocale("fi",{months:"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_kesÃ¤kuu_heinÃ¤kuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),monthsShort:"tammi_helmi_maalis_huhti_touko_kesÃ¤_heinÃ¤_elo_syys_loka_marras_joulu".split("_"),weekdays:"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),weekdaysShort:"su_ma_ti_ke_to_pe_la".split("_"),weekdaysMin:"su_ma_ti_ke_to_pe_la".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"Do MMMM[ta] YYYY",LLL:"Do MMMM[ta] YYYY, [klo] HH.mm",LLLL:"dddd, Do MMMM[ta] YYYY, [klo] HH.mm",l:"D.M.YYYY",ll:"Do MMM YYYY",lll:"Do MMM YYYY, [klo] HH.mm",llll:"ddd, Do MMM YYYY, [klo] HH.mm"},calendar:{sameDay:"[tÃ¤nÃ¤Ã¤n] [klo] LT",nextDay:"[huomenna] [klo] LT",nextWeek:"dddd [klo] LT",lastDay:"[eilen] [klo] LT",lastWeek:"[viime] dddd[na] [klo] LT",sameElse:"L"},relativeTime:{future:"%s pÃ¤Ã¤stÃ¤",past:"%s sitten",s:Wc,m:Wc,mm:Wc,h:Wc,hh:Wc,d:Wc,dd:Wc,M:Wc,MM:Wc,y:Wc,yy:Wc},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),uf.defineLocale("fo",{months:"januar_februar_mars_aprÃ­l_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sunnudagur_mÃ¡nadagur_tÃ½sdagur_mikudagur_hÃ³sdagur_frÃ­ggjadagur_leygardagur".split("_"),weekdaysShort:"sun_mÃ¡n_tÃ½s_mik_hÃ³s_frÃ­_ley".split("_"),weekdaysMin:"su_mÃ¡_tÃ½_mi_hÃ³_fr_le".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D. MMMM, YYYY HH:mm"},calendar:{sameDay:"[Ã dag kl.] LT",nextDay:"[Ã morgin kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[Ã gjÃ¡r kl.] LT",lastWeek:"[sÃ­Ã°stu] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"um %s",past:"%s sÃ­Ã°ani",s:"fÃ¡ sekund",m:"ein minutt",mm:"%d minuttir",h:"ein tÃ­mi",hh:"%d tÃ­mar",d:"ein dagur",dd:"%d dagar",M:"ein mÃ¡naÃ°i",MM:"%d mÃ¡naÃ°ir",y:"eitt Ã¡r",yy:"%d Ã¡r"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),uf.defineLocale("fr-ca",{months:"janvier_fÃ©vrier_mars_avril_mai_juin_juillet_aoÃ»t_septembre_octobre_novembre_dÃ©cembre".split("_"),monthsShort:"janv._fÃ©vr._mars_avr._mai_juin_juil._aoÃ»t_sept._oct._nov._dÃ©c.".split("_"),weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"Di_Lu_Ma_Me_Je_Ve_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd'hui Ã ] LT",nextDay:"[Demain Ã ] LT",nextWeek:"dddd [Ã ] LT",lastDay:"[Hier Ã ] LT",lastWeek:"dddd [dernier Ã ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},ordinalParse:/\d{1,2}(er|e)/,ordinal:function(a){return a+(1===a?"er":"e")}}),uf.defineLocale("fr",{months:"janvier_fÃ©vrier_mars_avril_mai_juin_juillet_aoÃ»t_septembre_octobre_novembre_dÃ©cembre".split("_"),monthsShort:"janv._fÃ©vr._mars_avr._mai_juin_juil._aoÃ»t_sept._oct._nov._dÃ©c.".split("_"),weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"Di_Lu_Ma_Me_Je_Ve_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd'hui Ã ] LT",nextDay:"[Demain Ã ] LT",nextWeek:"dddd [Ã ] LT",lastDay:"[Hier Ã ] LT",lastWeek:"dddd [dernier Ã ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},ordinalParse:/\d{1,2}(er|)/,ordinal:function(a){return a+(1===a?"er":"")},week:{dow:1,doy:4}}),"jan._feb._mrt._apr._mai_jun._jul._aug._sep._okt._nov._des.".split("_")),Rf="jan_feb_mrt_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),Sf=(uf.defineLocale("fy",{months:"jannewaris_febrewaris_maart_april_maaie_juny_july_augustus_septimber_oktober_novimber_desimber".split("_"),monthsShort:function(a,b){return/-MMM-/.test(b)?Rf[a.month()]:Qf[a.month()]},weekdays:"snein_moandei_tiisdei_woansdei_tongersdei_freed_sneon".split("_"),weekdaysShort:"si._mo._ti._wo._to._fr._so.".split("_"),weekdaysMin:"Si_Mo_Ti_Wo_To_Fr_So".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[hjoed om] LT",nextDay:"[moarn om] LT",nextWeek:"dddd [om] LT",lastDay:"[juster om] LT",lastWeek:"[Ã´frÃ»ne] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oer %s",past:"%s lyn",s:"in pear sekonden",m:"ien minÃºt",mm:"%d minuten",h:"ien oere",hh:"%d oeren",d:"ien dei",dd:"%d dagen",M:"ien moanne",MM:"%d moannen",y:"ien jier",yy:"%d jierren"},ordinalParse:/\d{1,2}(ste|de)/,ordinal:function(a){return a+(1===a||8===a||a>=20?"ste":"de")},week:{dow:1,doy:4}}),uf.defineLocale("gl",{months:"Xaneiro_Febreiro_Marzo_Abril_Maio_XuÃ±o_Xullo_Agosto_Setembro_Outubro_Novembro_Decembro".split("_"),monthsShort:"Xan._Feb._Mar._Abr._Mai._XuÃ±._Xul._Ago._Set._Out._Nov._Dec.".split("_"),weekdays:"Domingo_Luns_Martes_MÃ©rcores_Xoves_Venres_SÃ¡bado".split("_"),weekdaysShort:"Dom._Lun._Mar._MÃ©r._Xov._Ven._SÃ¡b.".split("_"),weekdaysMin:"Do_Lu_Ma_MÃ©_Xo_Ve_SÃ¡".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd D MMMM YYYY H:mm"},calendar:{sameDay:function(){return"[hoxe "+(1!==this.hours()?"Ã¡s":"Ã¡")+"] LT"},nextDay:function(){return"[maÃ±Ã¡ "+(1!==this.hours()?"Ã¡s":"Ã¡")+"] LT"},nextWeek:function(){return"dddd ["+(1!==this.hours()?"Ã¡s":"a")+"] LT"},lastDay:function(){return"[onte "+(1!==this.hours()?"Ã¡":"a")+"] LT"},lastWeek:function(){return"[o] dddd [pasado "+(1!==this.hours()?"Ã¡s":"a")+"] LT"},sameElse:"L"},relativeTime:{future:function(a){return"uns segundos"===a?"nuns segundos":"en "+a},past:"hai %s",s:"uns segundos",m:"un minuto",mm:"%d minutos",h:"unha hora",hh:"%d horas",d:"un dÃ­a",dd:"%d dÃ­as",M:"un mes",MM:"%d meses",y:"un ano",yy:"%d anos"},ordinalParse:/\d{1,2}Âº/,ordinal:"%dÂº",week:{dow:1,doy:7}}),uf.defineLocale("he",{months:"×× ×××¨_×¤××¨×××¨_××¨×¥_××¤×¨××_×××_××× ×_××××_×××××¡×_×¡×¤××××¨_×××§××××¨_× ×××××¨_××¦×××¨".split("_"),monthsShort:"×× ××³_×¤××¨×³_××¨×¥_××¤×¨×³_×××_××× ×_××××_××××³_×¡×¤××³_×××§×³_× ×××³_××¦××³".split("_"),weekdays:"×¨××©××_×©× ×_×©×××©×_×¨×××¢×_××××©×_×©××©×_×©××ª".split("_"),weekdaysShort:"××³_××³_××³_××³_××³_××³_×©×³".split("_"),weekdaysMin:"×_×_×_×_×_×_×©".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [×]MMMM YYYY",LLL:"D [×]MMMM YYYY HH:mm",LLLL:"dddd, D [×]MMMM YYYY HH:mm",l:"D/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[×××× ×Ö¾]LT",nextDay:"[×××¨ ×Ö¾]LT",nextWeek:"dddd [××©×¢×] LT",lastDay:"[××ª××× ×Ö¾]LT",lastWeek:"[××××] dddd [××××¨×× ××©×¢×] LT",sameElse:"L"},relativeTime:{future:"××¢×× %s",past:"××¤× × %s",s:"××¡×¤×¨ ×©× ×××ª",m:"××§×",mm:"%d ××§××ª",h:"×©×¢×",hh:function(a){return 2===a?"×©×¢×ª×××":a+" ×©×¢××ª"},d:"×××",dd:function(a){return 2===a?"××××××":a+" ××××"},M:"××××©",MM:function(a){return 2===a?"××××©×××":a+" ××××©××"},y:"×©× ×",yy:function(a){return 2===a?"×©× ×ª×××":a%10===0&&10!==a?a+" ×©× ×":a+" ×©× ××"}}}),{1:"à¥§",2:"à¥¨",3:"à¥©",4:"à¥ª",5:"à¥«",6:"à¥¬",7:"à¥­",8:"à¥®",9:"à¥¯",0:"à¥¦"}),Tf={"à¥§":"1","à¥¨":"2","à¥©":"3","à¥ª":"4","à¥«":"5","à¥¬":"6","à¥­":"7","à¥®":"8","à¥¯":"9","à¥¦":"0"},Uf=(uf.defineLocale("hi",{months:"à¤à¤¨à¤µà¤°à¥_à¤«à¤¼à¤°à¤µà¤°à¥_à¤®à¤¾à¤°à¥à¤_à¤à¤ªà¥à¤°à¥à¤²_à¤®à¤_à¤à¥à¤¨_à¤à¥à¤²à¤¾à¤_à¤à¤à¤¸à¥à¤¤_à¤¸à¤¿à¤¤à¤®à¥à¤¬à¤°_à¤à¤à¥à¤à¥à¤¬à¤°_à¤¨à¤µà¤®à¥à¤¬à¤°_à¤¦à¤¿à¤¸à¤®à¥à¤¬à¤°".split("_"),monthsShort:"à¤à¤¨._à¤«à¤¼à¤°._à¤®à¤¾à¤°à¥à¤_à¤à¤ªà¥à¤°à¥._à¤®à¤_à¤à¥à¤¨_à¤à¥à¤²._à¤à¤._à¤¸à¤¿à¤¤._à¤à¤à¥à¤à¥._à¤¨à¤µ._à¤¦à¤¿à¤¸.".split("_"),weekdays:"à¤°à¤µà¤¿à¤µà¤¾à¤°_à¤¸à¥à¤®à¤µà¤¾à¤°_à¤®à¤à¤à¤²à¤µà¤¾à¤°_à¤¬à¥à¤§à¤µà¤¾à¤°_à¤à¥à¤°à¥à¤µà¤¾à¤°_à¤¶à¥à¤à¥à¤°à¤µà¤¾à¤°_à¤¶à¤¨à¤¿à¤µà¤¾à¤°".split("_"),weekdaysShort:"à¤°à¤µà¤¿_à¤¸à¥à¤®_à¤®à¤à¤à¤²_à¤¬à¥à¤§_à¤à¥à¤°à¥_à¤¶à¥à¤à¥à¤°_à¤¶à¤¨à¤¿".split("_"),weekdaysMin:"à¤°_à¤¸à¥_à¤®à¤_à¤¬à¥_à¤à¥_à¤¶à¥_à¤¶".split("_"),longDateFormat:{LT:"A h:mm à¤¬à¤à¥",LTS:"A h:mm:ss à¤¬à¤à¥",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm à¤¬à¤à¥",LLLL:"dddd, D MMMM YYYY, A h:mm à¤¬à¤à¥"},calendar:{sameDay:"[à¤à¤] LT",nextDay:"[à¤à¤²] LT",nextWeek:"dddd, LT",lastDay:"[à¤à¤²] LT",lastWeek:"[à¤ªà¤¿à¤à¤²à¥] dddd, LT",sameElse:"L"},relativeTime:{future:"%s à¤®à¥à¤",past:"%s à¤ªà¤¹à¤²à¥",s:"à¤à¥à¤ à¤¹à¥ à¤à¥à¤·à¤£",m:"à¤à¤ à¤®à¤¿à¤¨à¤",mm:"%d à¤®à¤¿à¤¨à¤",h:"à¤à¤ à¤à¤à¤à¤¾",hh:"%d à¤à¤à¤à¥",d:"à¤à¤ à¤¦à¤¿à¤¨",dd:"%d à¤¦à¤¿à¤¨",M:"à¤à¤ à¤®à¤¹à¥à¤¨à¥",MM:"%d à¤®à¤¹à¥à¤¨à¥",y:"à¤à¤ à¤µà¤°à¥à¤·",yy:"%d à¤µà¤°à¥à¤·"},preparse:function(a){return a.replace(/[à¥§à¥¨à¥©à¥ªà¥«à¥¬à¥­à¥®à¥¯à¥¦]/g,function(a){return Tf[a]})},postformat:function(a){return a.replace(/\d/g,function(a){return Sf[a]})},meridiemParse:/à¤°à¤¾à¤¤|à¤¸à¥à¤¬à¤¹|à¤¦à¥à¤ªà¤¹à¤°|à¤¶à¤¾à¤®/,meridiemHour:function(a,b){return 12===a&&(a=0),"à¤°à¤¾à¤¤"===b?4>a?a:a+12:"à¤¸à¥à¤¬à¤¹"===b?a:"à¤¦à¥à¤ªà¤¹à¤°"===b?a>=10?a:a+12:"à¤¶à¤¾à¤®"===b?a+12:void 0},meridiem:function(a,b,c){return 4>a?"à¤°à¤¾à¤¤":10>a?"à¤¸à¥à¤¬à¤¹":17>a?"à¤¦à¥à¤ªà¤¹à¤°":20>a?"à¤¶à¤¾à¤®":"à¤°à¤¾à¤¤"},week:{dow:0,doy:6}}),uf.defineLocale("hr",{months:"sijeÄanj_veljaÄa_oÅ¾ujak_travanj_svibanj_lipanj_srpanj_kolovoz_rujan_listopad_studeni_prosinac".split("_"),monthsShort:"sij._velj._oÅ¾u._tra._svi._lip._srp._kol._ruj._lis._stu._pro.".split("_"),weekdays:"nedjelja_ponedjeljak_utorak_srijeda_Äetvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._Äet._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_Äe_pe_su".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juÄer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[proÅ¡lu] dddd [u] LT";case 6:return"[proÅ¡le] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[proÅ¡li] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",m:Yc,mm:Yc,h:Yc,hh:Yc,d:"dan",dd:Yc,M:"mjesec",MM:Yc,y:"godinu",yy:Yc},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}}),"vasÃ¡rnap hÃ©tfÅn kedden szerdÃ¡n csÃ¼tÃ¶rtÃ¶kÃ¶n pÃ©nteken szombaton".split(" ")),Vf=(uf.defineLocale("hu",{months:"januÃ¡r_februÃ¡r_mÃ¡rcius_Ã¡prilis_mÃ¡jus_jÃºnius_jÃºlius_augusztus_szeptember_oktÃ³ber_november_december".split("_"),monthsShort:"jan_feb_mÃ¡rc_Ã¡pr_mÃ¡j_jÃºn_jÃºl_aug_szept_okt_nov_dec".split("_"),weekdays:"vasÃ¡rnap_hÃ©tfÅ_kedd_szerda_csÃ¼tÃ¶rtÃ¶k_pÃ©ntek_szombat".split("_"),weekdaysShort:"vas_hÃ©t_kedd_sze_csÃ¼t_pÃ©n_szo".split("_"),weekdaysMin:"v_h_k_sze_cs_p_szo".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY. MMMM D.",LLL:"YYYY. MMMM D. H:mm",LLLL:"YYYY. MMMM D., dddd H:mm"},meridiemParse:/de|du/i,isPM:function(a){return"u"===a.charAt(1).toLowerCase()},meridiem:function(a,b,c){return 12>a?c===!0?"de":"DE":c===!0?"du":"DU"},calendar:{sameDay:"[ma] LT[-kor]",nextDay:"[holnap] LT[-kor]",nextWeek:function(){return $c.call(this,!0)},lastDay:"[tegnap] LT[-kor]",lastWeek:function(){return $c.call(this,!1)},sameElse:"L"},relativeTime:{future:"%s mÃºlva",past:"%s",s:Zc,m:Zc,mm:Zc,h:Zc,hh:Zc,d:Zc,dd:Zc,M:Zc,MM:Zc,y:Zc,yy:Zc},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}}),uf.defineLocale("hy-am",{months:_c,monthsShort:ad,weekdays:bd,weekdaysShort:"Õ¯ÖÕ¯_Õ¥ÖÕ¯_Õ¥ÖÖ_Õ¹ÖÖ_Õ°Õ¶Õ£_Õ¸ÖÖÕ¢_Õ·Õ¢Õ©".split("_"),weekdaysMin:"Õ¯ÖÕ¯_Õ¥ÖÕ¯_Õ¥ÖÖ_Õ¹ÖÖ_Õ°Õ¶Õ£_Õ¸ÖÖÕ¢_Õ·Õ¢Õ©".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY Õ©.",LLL:"D MMMM YYYY Õ©., HH:mm",LLLL:"dddd, D MMMM YYYY Õ©., HH:mm"},calendar:{sameDay:"[Õ¡ÕµÕ½ÖÖ] LT",nextDay:"[Õ¾Õ¡Õ²Õ¨] LT",lastDay:"[Õ¥ÖÕ¥Õ¯] LT",nextWeek:function(){return"dddd [ÖÖÕ¨ ÕªÕ¡Õ´Õ¨] LT"},lastWeek:function(){return"[Õ¡Õ¶ÖÕ¡Õ®] dddd [ÖÖÕ¨ ÕªÕ¡Õ´Õ¨] LT"},sameElse:"L"},relativeTime:{future:"%s Õ°Õ¥Õ¿Õ¸",past:"%s Õ¡Õ¼Õ¡Õ»",s:"Õ´Õ« ÖÕ¡Õ¶Õ« Õ¾Õ¡ÕµÖÕ¯ÕµÕ¡Õ¶",m:"ÖÕ¸ÕºÕ¥",mm:"%d ÖÕ¸ÕºÕ¥",h:"ÕªÕ¡Õ´",hh:"%d ÕªÕ¡Õ´",d:"ÖÖ",dd:"%d ÖÖ",M:"Õ¡Õ´Õ«Õ½",MM:"%d Õ¡Õ´Õ«Õ½",y:"Õ¿Õ¡ÖÕ«",yy:"%d Õ¿Õ¡ÖÕ«"},meridiemParse:/Õ£Õ«Õ·Õ¥ÖÕ¾Õ¡|Õ¡Õ¼Õ¡Õ¾Õ¸Õ¿Õ¾Õ¡|ÖÕ¥ÖÕ¥Õ¯Õ¾Õ¡|Õ¥ÖÕ¥Õ¯Õ¸ÕµÕ¡Õ¶/,isPM:function(a){return/^(ÖÕ¥ÖÕ¥Õ¯Õ¾Õ¡|Õ¥ÖÕ¥Õ¯Õ¸ÕµÕ¡Õ¶)$/.test(a)},meridiem:function(a){return 4>a?"Õ£Õ«Õ·Õ¥ÖÕ¾Õ¡":12>a?"Õ¡Õ¼Õ¡Õ¾Õ¸Õ¿Õ¾Õ¡":17>a?"ÖÕ¥ÖÕ¥Õ¯Õ¾Õ¡":"Õ¥ÖÕ¥Õ¯Õ¸ÕµÕ¡Õ¶"},ordinalParse:/\d{1,2}|\d{1,2}-(Õ«Õ¶|ÖÕ¤)/,ordinal:function(a,b){switch(b){case"DDD":case"w":case"W":case"DDDo":return 1===a?a+"-Õ«Õ¶":a+"-ÖÕ¤";default:return a}},week:{dow:1,doy:7}}),uf.defineLocale("id",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nov_Des".split("_"),weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|siang|sore|malam/,meridiemHour:function(a,b){return 12===a&&(a=0),"pagi"===b?a:"siang"===b?a>=11?a:a+12:"sore"===b||"malam"===b?a+12:void 0},meridiem:function(a,b,c){return 11>a?"pagi":15>a?"siang":19>a?"sore":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Besok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kemarin pukul] LT",lastWeek:"dddd [lalu pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}}),uf.defineLocale("is",{months:"janÃºar_febrÃºar_mars_aprÃ­l_maÃ­_jÃºnÃ­_jÃºlÃ­_Ã¡gÃºst_september_oktÃ³ber_nÃ³vember_desember".split("_"),monthsShort:"jan_feb_mar_apr_maÃ­_jÃºn_jÃºl_Ã¡gÃº_sep_okt_nÃ³v_des".split("_"),weekdays:"sunnudagur_mÃ¡nudagur_Ã¾riÃ°judagur_miÃ°vikudagur_fimmtudagur_fÃ¶studagur_laugardagur".split("_"),weekdaysShort:"sun_mÃ¡n_Ã¾ri_miÃ°_fim_fÃ¶s_lau".split("_"),weekdaysMin:"Su_MÃ¡_Ãr_Mi_Fi_FÃ¶_La".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd, D. MMMM YYYY [kl.] H:mm"},calendar:{sameDay:"[Ã­ dag kl.] LT",nextDay:"[Ã¡ morgun kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[Ã­ gÃ¦r kl.] LT",lastWeek:"[sÃ­Ã°asta] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"eftir %s",past:"fyrir %s sÃ­Ã°an",s:dd,m:dd,mm:dd,h:"klukkustund",hh:dd,d:dd,dd:dd,M:dd,MM:dd,y:dd,yy:dd},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),uf.defineLocale("it",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"Domenica_LunedÃ¬_MartedÃ¬_MercoledÃ¬_GiovedÃ¬_VenerdÃ¬_Sabato".split("_"),weekdaysShort:"Dom_Lun_Mar_Mer_Gio_Ven_Sab".split("_"),weekdaysMin:"D_L_Ma_Me_G_V_S".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:function(){switch(this.day()){case 0:return"[la scorsa] dddd [alle] LT";default:return"[lo scorso] dddd [alle] LT"}},sameElse:"L"},relativeTime:{future:function(a){return(/^[0-9].+$/.test(a)?"tra":"in")+" "+a},past:"%s fa",s:"alcuni secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},ordinalParse:/\d{1,2}Âº/,ordinal:"%dÂº",week:{dow:1,doy:4}}),uf.defineLocale("ja",{months:"1æ_2æ_3æ_4æ_5æ_6æ_7æ_8æ_9æ_10æ_11æ_12æ".split("_"),monthsShort:"1æ_2æ_3æ_4æ_5æ_6æ_7æ_8æ_9æ_10æ_11æ_12æ".split("_"),weekdays:"æ¥ææ¥_æææ¥_ç«ææ¥_æ°´ææ¥_æ¨ææ¥_éææ¥_åææ¥".split("_"),weekdaysShort:"æ¥_æ_ç«_æ°´_æ¨_é_å".split("_"),weekdaysMin:"æ¥_æ_ç«_æ°´_æ¨_é_å".split("_"),longDateFormat:{LT:"Ahæmå",LTS:"Ahæmåsç§",L:"YYYY/MM/DD",LL:"YYYYå¹´MæDæ¥",LLL:"YYYYå¹´MæDæ¥Ahæmå",LLLL:"YYYYå¹´MæDæ¥Ahæmå dddd"},meridiemParse:/åå|åå¾/i,isPM:function(a){return"åå¾"===a},meridiem:function(a,b,c){return 12>a?"åå":"åå¾"},calendar:{sameDay:"[ä»æ¥] LT",nextDay:"[ææ¥] LT",nextWeek:"[æ¥é±]dddd LT",lastDay:"[æ¨æ¥] LT",lastWeek:"[åé±]dddd LT",sameElse:"L"},relativeTime:{future:"%så¾",past:"%så",s:"æ°ç§",m:"1å",mm:"%då",h:"1æé",hh:"%dæé",d:"1æ¥",dd:"%dæ¥",M:"1ã¶æ",MM:"%dã¶æ",y:"1å¹´",yy:"%då¹´"}}),uf.defineLocale("jv",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_Nopember_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nop_Des".split("_"),weekdays:"Minggu_Senen_Seloso_Rebu_Kemis_Jemuwah_Septu".split("_"),weekdaysShort:"Min_Sen_Sel_Reb_Kem_Jem_Sep".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sp".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/enjing|siyang|sonten|ndalu/,meridiemHour:function(a,b){return 12===a&&(a=0),"enjing"===b?a:"siyang"===b?a>=11?a:a+12:"sonten"===b||"ndalu"===b?a+12:void 0},meridiem:function(a,b,c){return 11>a?"enjing":15>a?"siyang":19>a?"sonten":"ndalu"},calendar:{sameDay:"[Dinten puniko pukul] LT",nextDay:"[Mbenjang pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kala wingi pukul] LT",lastWeek:"dddd [kepengker pukul] LT",sameElse:"L"},relativeTime:{future:"wonten ing %s",past:"%s ingkang kepengker",s:"sawetawis detik",m:"setunggal menit",mm:"%d menit",h:"setunggal jam",hh:"%d jam",d:"sedinten",dd:"%d dinten",M:"sewulan",MM:"%d wulan",y:"setaun",yy:"%d taun"},week:{dow:1,doy:7}}),uf.defineLocale("ka",{months:ed,monthsShort:"ááá_ááá_ááá _ááá _ááá_ááá_ááá_ááá_á¡áá¥_áá¥á¢_ááá_ááá".split("_"),weekdays:fd,weekdaysShort:"ááá_áá á¨_á¡áá_ááá®_á®á£á_ááá _á¨áá".split("_"),weekdaysMin:"áá_áá _á¡á_áá_á®á£_áá_á¨á".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[áá¦áá¡] LT[-áá]",nextDay:"[á®ááá] LT[-áá]",lastDay:"[áá£á¨áá] LT[-áá]",nextWeek:"[á¨ááááá] dddd LT[-áá]",lastWeek:"[á¬ááá] dddd LT-áá",sameElse:"L"},relativeTime:{future:function(a){return/(á¬ááá|á¬á£áá|á¡áááá|á¬ááá)/.test(a)?a.replace(/á$/,"á¨á"):a+"á¨á"},past:function(a){return/(á¬ááá|á¬á£áá|á¡áááá|áá¦á|ááá)/.test(a)?a.replace(/(á|á)$/,"áá¡ á¬áá"):/á¬ááá/.test(a)?a.replace(/á¬ááá$/,"á¬ááá¡ á¬áá"):void 0},s:"á áááááááá á¬ááá",m:"á¬á£áá",mm:"%d á¬á£áá",h:"á¡áááá",hh:"%d á¡áááá",d:"áá¦á",dd:"%d áá¦á",M:"ááá",MM:"%d ááá",y:"á¬ááá",yy:"%d á¬ááá"},ordinalParse:/0|1-áá|áá-\d{1,2}|\d{1,2}-á/,ordinal:function(a){return 0===a?a:1===a?a+"-áá":20>a||100>=a&&a%20===0||a%100===0?"áá-"+a:a+"-á"},week:{dow:1,doy:7}}),uf.defineLocale("km",{months:"áááá¶_áá»áááá_áá·áá¶_áááá¶_á§ááá¶_áá·áá»áá¶_áááááá¶_áá¸á á¶_ááááá¶_áá»áá¶_áá·áááá·áá¶_áááá¼".split("_"),monthsShort:"áááá¶_áá»áááá_áá·áá¶_áááá¶_á§ááá¶_áá·áá»áá¶_áááááá¶_áá¸á á¶_ááááá¶_áá»áá¶_áá·áááá·áá¶_áááá¼".split("_"),weekdays:"á¢á¶áá·ááá_ááááá_á¢áááá¶á_áá»á_áááá ááááá·á_áá»ááá_áááá".split("_"),weekdaysShort:"á¢á¶áá·ááá_ááááá_á¢áááá¶á_áá»á_áááá ááááá·á_áá»ááá_áááá".split("_"),weekdaysMin:"á¢á¶áá·ááá_ááááá_á¢áááá¶á_áá»á_áááá ááááá·á_áá»ááá_áááá".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"
},calendar:{sameDay:"[áááááá áááá] LT",nextDay:"[ááá¢áá áááá] LT",nextWeek:"dddd [áááá] LT",lastDay:"[áááá·ááá·á áááá] LT",lastWeek:"dddd [ááááá¶á ááá»á] [áááá] LT",sameElse:"L"},relativeTime:{future:"%sááá",past:"%sáá»á",s:"ááá»áááá¶ááá·áá¶áá¸",m:"áá½ááá¶áá¸",mm:"%d áá¶áá¸",h:"áá½ááááá",hh:"%d áááá",d:"áá½ááááá",dd:"%d áááá",M:"áá½ááá",MM:"%d áá",y:"áá½ááááá¶á",yy:"%d áááá¶á"},week:{dow:1,doy:4}}),uf.defineLocale("ko",{months:"1ì_2ì_3ì_4ì_5ì_6ì_7ì_8ì_9ì_10ì_11ì_12ì".split("_"),monthsShort:"1ì_2ì_3ì_4ì_5ì_6ì_7ì_8ì_9ì_10ì_11ì_12ì".split("_"),weekdays:"ì¼ìì¼_ììì¼_íìì¼_ììì¼_ëª©ìì¼_ê¸ìì¼_í ìì¼".split("_"),weekdaysShort:"ì¼_ì_í_ì_ëª©_ê¸_í ".split("_"),weekdaysMin:"ì¼_ì_í_ì_ëª©_ê¸_í ".split("_"),longDateFormat:{LT:"A hì më¶",LTS:"A hì më¶ sì´",L:"YYYY.MM.DD",LL:"YYYYë MMMM Dì¼",LLL:"YYYYë MMMM Dì¼ A hì më¶",LLLL:"YYYYë MMMM Dì¼ dddd A hì më¶"},calendar:{sameDay:"ì¤ë LT",nextDay:"ë´ì¼ LT",nextWeek:"dddd LT",lastDay:"ì´ì  LT",lastWeek:"ì§ëì£¼ dddd LT",sameElse:"L"},relativeTime:{future:"%s í",past:"%s ì ",s:"ëªì´",ss:"%dì´",m:"ì¼ë¶",mm:"%dë¶",h:"íìê°",hh:"%dìê°",d:"íë£¨",dd:"%dì¼",M:"íë¬",MM:"%dë¬",y:"ì¼ë",yy:"%dë"},ordinalParse:/\d{1,2}ì¼/,ordinal:"%dì¼",meridiemParse:/ì¤ì |ì¤í/,isPM:function(a){return"ì¤í"===a},meridiem:function(a,b,c){return 12>a?"ì¤ì ":"ì¤í"}}),uf.defineLocale("lb",{months:"Januar_Februar_MÃ¤erz_AbrÃ«ll_Mee_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Abr._Mee_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),weekdays:"Sonndeg_MÃ©indeg_DÃ«nschdeg_MÃ«ttwoch_Donneschdeg_Freideg_Samschdeg".split("_"),weekdaysShort:"So._MÃ©._DÃ«._MÃ«._Do._Fr._Sa.".split("_"),weekdaysMin:"So_MÃ©_DÃ«_MÃ«_Do_Fr_Sa".split("_"),longDateFormat:{LT:"H:mm [Auer]",LTS:"H:mm:ss [Auer]",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm [Auer]",LLLL:"dddd, D. MMMM YYYY H:mm [Auer]"},calendar:{sameDay:"[Haut um] LT",sameElse:"L",nextDay:"[Muer um] LT",nextWeek:"dddd [um] LT",lastDay:"[GÃ«schter um] LT",lastWeek:function(){switch(this.day()){case 2:case 4:return"[Leschten] dddd [um] LT";default:return"[Leschte] dddd [um] LT"}}},relativeTime:{future:hd,past:id,s:"e puer Sekonnen",m:gd,mm:"%d Minutten",h:gd,hh:"%d Stonnen",d:gd,dd:"%d Deeg",M:gd,MM:"%d MÃ©int",y:gd,yy:"%d Joer"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),{m:"minutÄ_minutÄs_minutÄ",mm:"minutÄs_minuÄiÅ³_minutes",h:"valanda_valandos_valandÄ",hh:"valandos_valandÅ³_valandas",d:"diena_dienos_dienÄ",dd:"dienos_dienÅ³_dienas",M:"mÄnuo_mÄnesio_mÄnesÄ¯",MM:"mÄnesiai_mÄnesiÅ³_mÄnesius",y:"metai_metÅ³_metus",yy:"metai_metÅ³_metus"}),Wf="sekmadienis_pirmadienis_antradienis_treÄiadienis_ketvirtadienis_penktadienis_Å¡eÅ¡tadienis".split("_"),Xf=(uf.defineLocale("lt",{months:ld,monthsShort:"sau_vas_kov_bal_geg_bir_lie_rgp_rgs_spa_lap_grd".split("_"),weekdays:qd,weekdaysShort:"Sek_Pir_Ant_Tre_Ket_Pen_Å eÅ¡".split("_"),weekdaysMin:"S_P_A_T_K_Pn_Å ".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY [m.] MMMM D [d.]",LLL:"YYYY [m.] MMMM D [d.], HH:mm [val.]",LLLL:"YYYY [m.] MMMM D [d.], dddd, HH:mm [val.]",l:"YYYY-MM-DD",ll:"YYYY [m.] MMMM D [d.]",lll:"YYYY [m.] MMMM D [d.], HH:mm [val.]",llll:"YYYY [m.] MMMM D [d.], ddd, HH:mm [val.]"},calendar:{sameDay:"[Å iandien] LT",nextDay:"[Rytoj] LT",nextWeek:"dddd LT",lastDay:"[Vakar] LT",lastWeek:"[PraÄjusÄ¯] dddd LT",sameElse:"L"},relativeTime:{future:"po %s",past:"prieÅ¡ %s",s:kd,m:md,mm:pd,h:md,hh:pd,d:md,dd:pd,M:md,MM:pd,y:md,yy:pd},ordinalParse:/\d{1,2}-oji/,ordinal:function(a){return a+"-oji"},week:{dow:1,doy:4}}),{m:"minÅ«tes_minÅ«tÄm_minÅ«te_minÅ«tes".split("_"),mm:"minÅ«tes_minÅ«tÄm_minÅ«te_minÅ«tes".split("_"),h:"stundas_stundÄm_stunda_stundas".split("_"),hh:"stundas_stundÄm_stunda_stundas".split("_"),d:"dienas_dienÄm_diena_dienas".split("_"),dd:"dienas_dienÄm_diena_dienas".split("_"),M:"mÄneÅ¡a_mÄneÅ¡iem_mÄnesis_mÄneÅ¡i".split("_"),MM:"mÄneÅ¡a_mÄneÅ¡iem_mÄnesis_mÄneÅ¡i".split("_"),y:"gada_gadiem_gads_gadi".split("_"),yy:"gada_gadiem_gads_gadi".split("_")}),Yf=(uf.defineLocale("lv",{months:"janvÄris_februÄris_marts_aprÄ«lis_maijs_jÅ«nijs_jÅ«lijs_augusts_septembris_oktobris_novembris_decembris".split("_"),monthsShort:"jan_feb_mar_apr_mai_jÅ«n_jÅ«l_aug_sep_okt_nov_dec".split("_"),weekdays:"svÄtdiena_pirmdiena_otrdiena_treÅ¡diena_ceturtdiena_piektdiena_sestdiena".split("_"),weekdaysShort:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysMin:"Sv_P_O_T_C_Pk_S".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY.",LL:"YYYY. [gada] D. MMMM",LLL:"YYYY. [gada] D. MMMM, HH:mm",LLLL:"YYYY. [gada] D. MMMM, dddd, HH:mm"},calendar:{sameDay:"[Å odien pulksten] LT",nextDay:"[RÄ«t pulksten] LT",nextWeek:"dddd [pulksten] LT",lastDay:"[Vakar pulksten] LT",lastWeek:"[PagÄjuÅ¡Ä] dddd [pulksten] LT",sameElse:"L"},relativeTime:{future:"pÄc %s",past:"pirms %s",s:ud,m:td,mm:sd,h:td,hh:sd,d:td,dd:sd,M:td,MM:sd,y:td,yy:sd},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),{words:{m:["jedan minut","jednog minuta"],mm:["minut","minuta","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mjesec","mjeseca","mjeseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(a,b){return 1===a?b[0]:a>=2&&4>=a?b[1]:b[2]},translate:function(a,b,c){var d=Yf.words[c];return 1===c.length?b?d[0]:d[1]:a+" "+Yf.correctGrammaticalCase(a,d)}}),Zf=(uf.defineLocale("me",{months:["januar","februar","mart","april","maj","jun","jul","avgust","septembar","oktobar","novembar","decembar"],monthsShort:["jan.","feb.","mar.","apr.","maj","jun","jul","avg.","sep.","okt.","nov.","dec."],weekdays:["nedjelja","ponedjeljak","utorak","srijeda","Äetvrtak","petak","subota"],weekdaysShort:["ned.","pon.","uto.","sri.","Äet.","pet.","sub."],weekdaysMin:["ne","po","ut","sr","Äe","pe","su"],longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sjutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juÄe u] LT",lastWeek:function(){var a=["[proÅ¡le] [nedjelje] [u] LT","[proÅ¡log] [ponedjeljka] [u] LT","[proÅ¡log] [utorka] [u] LT","[proÅ¡le] [srijede] [u] LT","[proÅ¡log] [Äetvrtka] [u] LT","[proÅ¡log] [petka] [u] LT","[proÅ¡le] [subote] [u] LT"];return a[this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"nekoliko sekundi",m:Yf.translate,mm:Yf.translate,h:Yf.translate,hh:Yf.translate,d:"dan",dd:Yf.translate,M:"mjesec",MM:Yf.translate,y:"godinu",yy:Yf.translate},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}}),uf.defineLocale("mk",{months:"ÑÐ°Ð½ÑÐ°ÑÐ¸_ÑÐµÐ²ÑÑÐ°ÑÐ¸_Ð¼Ð°ÑÑ_Ð°Ð¿ÑÐ¸Ð»_Ð¼Ð°Ñ_ÑÑÐ½Ð¸_ÑÑÐ»Ð¸_Ð°Ð²Ð³ÑÑÑ_ÑÐµÐ¿ÑÐµÐ¼Ð²ÑÐ¸_Ð¾ÐºÑÐ¾Ð¼Ð²ÑÐ¸_Ð½Ð¾ÐµÐ¼Ð²ÑÐ¸_Ð´ÐµÐºÐµÐ¼Ð²ÑÐ¸".split("_"),monthsShort:"ÑÐ°Ð½_ÑÐµÐ²_Ð¼Ð°Ñ_Ð°Ð¿Ñ_Ð¼Ð°Ñ_ÑÑÐ½_ÑÑÐ»_Ð°Ð²Ð³_ÑÐµÐ¿_Ð¾ÐºÑ_Ð½Ð¾Ðµ_Ð´ÐµÐº".split("_"),weekdays:"Ð½ÐµÐ´ÐµÐ»Ð°_Ð¿Ð¾Ð½ÐµÐ´ÐµÐ»Ð½Ð¸Ðº_Ð²ÑÐ¾ÑÐ½Ð¸Ðº_ÑÑÐµÐ´Ð°_ÑÐµÑÐ²ÑÑÐ¾Ðº_Ð¿ÐµÑÐ¾Ðº_ÑÐ°Ð±Ð¾ÑÐ°".split("_"),weekdaysShort:"Ð½ÐµÐ´_Ð¿Ð¾Ð½_Ð²ÑÐ¾_ÑÑÐµ_ÑÐµÑ_Ð¿ÐµÑ_ÑÐ°Ð±".split("_"),weekdaysMin:"Ð½e_Ð¿o_Ð²Ñ_ÑÑ_ÑÐµ_Ð¿Ðµ_Ña".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[ÐÐµÐ½ÐµÑ Ð²Ð¾] LT",nextDay:"[Ð£ÑÑÐµ Ð²Ð¾] LT",nextWeek:"dddd [Ð²Ð¾] LT",lastDay:"[ÐÑÐµÑÐ° Ð²Ð¾] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[ÐÐ¾ Ð¸Ð·Ð¼Ð¸Ð½Ð°ÑÐ°ÑÐ°] dddd [Ð²Ð¾] LT";case 1:case 2:case 4:case 5:return"[ÐÐ¾ Ð¸Ð·Ð¼Ð¸Ð½Ð°ÑÐ¸Ð¾Ñ] dddd [Ð²Ð¾] LT"}},sameElse:"L"},relativeTime:{future:"Ð¿Ð¾ÑÐ»Ðµ %s",past:"Ð¿ÑÐµÐ´ %s",s:"Ð½ÐµÐºÐ¾Ð»ÐºÑ ÑÐµÐºÑÐ½Ð´Ð¸",m:"Ð¼Ð¸Ð½ÑÑÐ°",mm:"%d Ð¼Ð¸Ð½ÑÑÐ¸",h:"ÑÐ°Ñ",hh:"%d ÑÐ°ÑÐ°",d:"Ð´ÐµÐ½",dd:"%d Ð´ÐµÐ½Ð°",M:"Ð¼ÐµÑÐµÑ",MM:"%d Ð¼ÐµÑÐµÑÐ¸",y:"Ð³Ð¾Ð´Ð¸Ð½Ð°",yy:"%d Ð³Ð¾Ð´Ð¸Ð½Ð¸"},ordinalParse:/\d{1,2}-(ÐµÐ²|ÐµÐ½|ÑÐ¸|Ð²Ð¸|ÑÐ¸|Ð¼Ð¸)/,ordinal:function(a){var b=a%10,c=a%100;return 0===a?a+"-ÐµÐ²":0===c?a+"-ÐµÐ½":c>10&&20>c?a+"-ÑÐ¸":1===b?a+"-Ð²Ð¸":2===b?a+"-ÑÐ¸":7===b||8===b?a+"-Ð¼Ð¸":a+"-ÑÐ¸"},week:{dow:1,doy:7}}),uf.defineLocale("ml",{months:"à´à´¨àµà´µà´°à´¿_à´«àµà´¬àµà´°àµà´µà´°à´¿_à´®à´¾àµ¼à´àµà´àµ_à´à´ªàµà´°à´¿àµ½_à´®àµà´¯àµ_à´àµàµº_à´àµà´²àµ_à´à´à´¸àµà´±àµà´±àµ_à´¸àµà´ªàµà´±àµà´±à´à´¬àµ¼_à´à´àµà´àµà´¬àµ¼_à´¨à´µà´à´¬àµ¼_à´¡à´¿à´¸à´à´¬àµ¼".split("_"),monthsShort:"à´à´¨àµ._à´«àµà´¬àµà´°àµ._à´®à´¾àµ¼._à´à´ªàµà´°à´¿._à´®àµà´¯àµ_à´àµàµº_à´àµà´²àµ._à´à´._à´¸àµà´ªàµà´±àµà´±._à´à´àµà´àµ._à´¨à´µà´._à´¡à´¿à´¸à´.".split("_"),weekdays:"à´à´¾à´¯à´±à´¾à´´àµà´_à´¤à´¿à´àµà´à´³à´¾à´´àµà´_à´àµà´µàµà´µà´¾à´´àµà´_à´¬àµà´§à´¨à´¾à´´àµà´_à´µàµà´¯à´¾à´´à´¾à´´àµà´_à´µàµà´³àµà´³à´¿à´¯à´¾à´´àµà´_à´¶à´¨à´¿à´¯à´¾à´´àµà´".split("_"),weekdaysShort:"à´à´¾à´¯àµ¼_à´¤à´¿à´àµà´àµ¾_à´àµà´µàµà´µ_à´¬àµà´§àµ»_à´µàµà´¯à´¾à´´à´_à´µàµà´³àµà´³à´¿_à´¶à´¨à´¿".split("_"),weekdaysMin:"à´à´¾_à´¤à´¿_à´àµ_à´¬àµ_à´µàµà´¯à´¾_à´µàµ_à´¶".split("_"),longDateFormat:{LT:"A h:mm -à´¨àµ",LTS:"A h:mm:ss -à´¨àµ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm -à´¨àµ",LLLL:"dddd, D MMMM YYYY, A h:mm -à´¨àµ"},calendar:{sameDay:"[à´à´¨àµà´¨àµ] LT",nextDay:"[à´¨à´¾à´³àµ] LT",nextWeek:"dddd, LT",lastDay:"[à´à´¨àµà´¨à´²àµ] LT",lastWeek:"[à´à´´à´¿à´àµà´] dddd, LT",sameElse:"L"},relativeTime:{future:"%s à´à´´à´¿à´àµà´àµ",past:"%s à´®àµàµ»à´ªàµ",s:"à´àµ½à´ª à´¨à´¿à´®à´¿à´·à´àµà´àµ¾",m:"à´à´°àµ à´®à´¿à´¨à´¿à´±àµà´±àµ",mm:"%d à´®à´¿à´¨à´¿à´±àµà´±àµ",h:"à´à´°àµ à´®à´£à´¿à´àµà´àµàµ¼",hh:"%d à´®à´£à´¿à´àµà´àµàµ¼",d:"à´à´°àµ à´¦à´¿à´µà´¸à´",dd:"%d à´¦à´¿à´µà´¸à´",M:"à´à´°àµ à´®à´¾à´¸à´",MM:"%d à´®à´¾à´¸à´",y:"à´à´°àµ à´µàµ¼à´·à´",yy:"%d à´µàµ¼à´·à´"},meridiemParse:/à´°à´¾à´¤àµà´°à´¿|à´°à´¾à´µà´¿à´²àµ|à´à´àµà´ à´à´´à´¿à´àµà´àµ|à´µàµà´àµà´¨àµà´¨àµà´°à´|à´°à´¾à´¤àµà´°à´¿/i,isPM:function(a){return/^(à´à´àµà´ à´à´´à´¿à´àµà´àµ|à´µàµà´àµà´¨àµà´¨àµà´°à´|à´°à´¾à´¤àµà´°à´¿)$/.test(a)},meridiem:function(a,b,c){return 4>a?"à´°à´¾à´¤àµà´°à´¿":12>a?"à´°à´¾à´µà´¿à´²àµ":17>a?"à´à´àµà´ à´à´´à´¿à´àµà´àµ":20>a?"à´µàµà´àµà´¨àµà´¨àµà´°à´":"à´°à´¾à´¤àµà´°à´¿"}}),{1:"à¥§",2:"à¥¨",3:"à¥©",4:"à¥ª",5:"à¥«",6:"à¥¬",7:"à¥­",8:"à¥®",9:"à¥¯",0:"à¥¦"}),$f={"à¥§":"1","à¥¨":"2","à¥©":"3","à¥ª":"4","à¥«":"5","à¥¬":"6","à¥­":"7","à¥®":"8","à¥¯":"9","à¥¦":"0"},_f=(uf.defineLocale("mr",{months:"à¤à¤¾à¤¨à¥à¤µà¤¾à¤°à¥_à¤«à¥à¤¬à¥à¤°à¥à¤µà¤¾à¤°à¥_à¤®à¤¾à¤°à¥à¤_à¤à¤ªà¥à¤°à¤¿à¤²_à¤®à¥_à¤à¥à¤¨_à¤à¥à¤²à¥_à¤à¤à¤¸à¥à¤_à¤¸à¤ªà¥à¤à¥à¤à¤¬à¤°_à¤à¤à¥à¤à¥à¤¬à¤°_à¤¨à¥à¤µà¥à¤¹à¥à¤à¤¬à¤°_à¤¡à¤¿à¤¸à¥à¤à¤¬à¤°".split("_"),monthsShort:"à¤à¤¾à¤¨à¥._à¤«à¥à¤¬à¥à¤°à¥._à¤®à¤¾à¤°à¥à¤._à¤à¤ªà¥à¤°à¤¿._à¤®à¥._à¤à¥à¤¨._à¤à¥à¤²à¥._à¤à¤._à¤¸à¤ªà¥à¤à¥à¤._à¤à¤à¥à¤à¥._à¤¨à¥à¤µà¥à¤¹à¥à¤._à¤¡à¤¿à¤¸à¥à¤.".split("_"),weekdays:"à¤°à¤µà¤¿à¤µà¤¾à¤°_à¤¸à¥à¤®à¤µà¤¾à¤°_à¤®à¤à¤à¤³à¤µà¤¾à¤°_à¤¬à¥à¤§à¤µà¤¾à¤°_à¤à¥à¤°à¥à¤µà¤¾à¤°_à¤¶à¥à¤à¥à¤°à¤µà¤¾à¤°_à¤¶à¤¨à¤¿à¤µà¤¾à¤°".split("_"),weekdaysShort:"à¤°à¤µà¤¿_à¤¸à¥à¤®_à¤®à¤à¤à¤³_à¤¬à¥à¤§_à¤à¥à¤°à¥_à¤¶à¥à¤à¥à¤°_à¤¶à¤¨à¤¿".split("_"),weekdaysMin:"à¤°_à¤¸à¥_à¤®à¤_à¤¬à¥_à¤à¥_à¤¶à¥_à¤¶".split("_"),longDateFormat:{LT:"A h:mm à¤µà¤¾à¤à¤¤à¤¾",LTS:"A h:mm:ss à¤µà¤¾à¤à¤¤à¤¾",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm à¤µà¤¾à¤à¤¤à¤¾",LLLL:"dddd, D MMMM YYYY, A h:mm à¤µà¤¾à¤à¤¤à¤¾"},calendar:{sameDay:"[à¤à¤] LT",nextDay:"[à¤à¤¦à¥à¤¯à¤¾] LT",nextWeek:"dddd, LT",lastDay:"[à¤à¤¾à¤²] LT",lastWeek:"[à¤®à¤¾à¤à¥à¤²] dddd, LT",sameElse:"L"},relativeTime:{future:"%s à¤¨à¤à¤¤à¤°",past:"%s à¤ªà¥à¤°à¥à¤µà¥",s:"à¤¸à¥à¤à¤à¤¦",m:"à¤à¤ à¤®à¤¿à¤¨à¤¿à¤",mm:"%d à¤®à¤¿à¤¨à¤¿à¤à¥",h:"à¤à¤ à¤¤à¤¾à¤¸",hh:"%d à¤¤à¤¾à¤¸",d:"à¤à¤ à¤¦à¤¿à¤µà¤¸",dd:"%d à¤¦à¤¿à¤µà¤¸",M:"à¤à¤ à¤®à¤¹à¤¿à¤¨à¤¾",MM:"%d à¤®à¤¹à¤¿à¤¨à¥",y:"à¤à¤ à¤µà¤°à¥à¤·",yy:"%d à¤µà¤°à¥à¤·à¥"},preparse:function(a){return a.replace(/[à¥§à¥¨à¥©à¥ªà¥«à¥¬à¥­à¥®à¥¯à¥¦]/g,function(a){return $f[a]})},postformat:function(a){return a.replace(/\d/g,function(a){return Zf[a]})},meridiemParse:/à¤°à¤¾à¤¤à¥à¤°à¥|à¤¸à¤à¤¾à¤³à¥|à¤¦à¥à¤ªà¤¾à¤°à¥|à¤¸à¤¾à¤¯à¤à¤à¤¾à¤³à¥/,meridiemHour:function(a,b){return 12===a&&(a=0),"à¤°à¤¾à¤¤à¥à¤°à¥"===b?4>a?a:a+12:"à¤¸à¤à¤¾à¤³à¥"===b?a:"à¤¦à¥à¤ªà¤¾à¤°à¥"===b?a>=10?a:a+12:"à¤¸à¤¾à¤¯à¤à¤à¤¾à¤³à¥"===b?a+12:void 0},meridiem:function(a,b,c){return 4>a?"à¤°à¤¾à¤¤à¥à¤°à¥":10>a?"à¤¸à¤à¤¾à¤³à¥":17>a?"à¤¦à¥à¤ªà¤¾à¤°à¥":20>a?"à¤¸à¤¾à¤¯à¤à¤à¤¾à¤³à¥":"à¤°à¤¾à¤¤à¥à¤°à¥"},week:{dow:0,doy:6}}),uf.defineLocale("ms-my",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(a,b){return 12===a&&(a=0),"pagi"===b?a:"tengahari"===b?a>=11?a:a+12:"petang"===b||"malam"===b?a+12:void 0},meridiem:function(a,b,c){return 11>a?"pagi":15>a?"tengahari":19>a?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}}),uf.defineLocale("ms",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(a,b){return 12===a&&(a=0),"pagi"===b?a:"tengahari"===b?a>=11?a:a+12:"petang"===b||"malam"===b?a+12:void 0},meridiem:function(a,b,c){return 11>a?"pagi":15>a?"tengahari":19>a?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}}),{1:"á",2:"á",3:"á",4:"á",5:"á",6:"á",7:"á",8:"á",9:"á",0:"á"}),ag={"á":"1","á":"2","á":"3","á":"4","á":"5","á":"6","á":"7","á":"8","á":"9","á":"0"},bg=(uf.defineLocale("my",{months:"áááºááá«áá®_áá±áá±á¬áºáá«áá®_áááº_á§áá¼á®_áá±_áá½ááº_áá°áá­á¯ááº_áá¼áá¯ááº_áááºáááºáá¬_á¡á±á¬ááºáá­á¯áá¬_áá­á¯áááºáá¬_áá®áááºáá¬".split("_"),monthsShort:"áááº_áá±_áááº_áá¼á®_áá±_áá½ááº_áá­á¯ááº_áá¼_áááº_á¡á±á¬ááº_áá­á¯_áá®".split("_"),weekdays:"ááááºá¹ááá½á±_ááááºá¹áá¬_á¡ááºá¹áá«_áá¯áá¹ááá°á¸_áá¼á¬áááá±á¸_áá±á¬áá¼á¬_ááá±".split("_"),weekdaysShort:"áá½á±_áá¬_áá«_áá°á¸_áá¼á¬_áá±á¬_áá±".split("_"),weekdaysMin:"áá½á±_áá¬_áá«_áá°á¸_áá¼á¬_áá±á¬_áá±".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[ááá±.] LT [áá¾á¬]",nextDay:"[ááááºáá¼ááº] LT [áá¾á¬]",nextWeek:"dddd LT [áá¾á¬]",lastDay:"[ááá±.á] LT [áá¾á¬]",lastWeek:"[áá¼á®á¸áá²á·áá±á¬] dddd LT [áá¾á¬]",sameElse:"L"},relativeTime:{future:"áá¬áááºá· %s áá¾á¬",past:"áá½ááºáá²á·áá±á¬ %s á",s:"ááá¹áááº.á¡áááºá¸áááº",m:"áááºáá­áááº",mm:"%d áá­áááº",h:"áááºáá¬áá®",hh:"%d áá¬áá®",d:"áááºáááº",dd:"%d áááº",M:"áááºá",MM:"%d á",y:"áááºáá¾ááº",yy:"%d áá¾ááº"},preparse:function(a){return a.replace(/[áááááááááá]/g,function(a){return ag[a]})},postformat:function(a){return a.replace(/\d/g,function(a){return _f[a]})},week:{dow:1,doy:4}}),uf.defineLocale("nb",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sÃ¸ndag_mandag_tirsdag_onsdag_torsdag_fredag_lÃ¸rdag".split("_"),weekdaysShort:"sÃ¸n_man_tirs_ons_tors_fre_lÃ¸r".split("_"),weekdaysMin:"sÃ¸_ma_ti_on_to_fr_lÃ¸".split("_"),longDateFormat:{LT:"H.mm",LTS:"H.mm.ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H.mm",LLLL:"dddd D. MMMM YYYY [kl.] H.mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[i gÃ¥r kl.] LT",lastWeek:"[forrige] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"for %s siden",s:"noen sekunder",m:"ett minutt",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dager",M:"en mÃ¥ned",MM:"%d mÃ¥neder",y:"ett Ã¥r",yy:"%d Ã¥r"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),{1:"à¥§",2:"à¥¨",3:"à¥©",4:"à¥ª",5:"à¥«",6:"à¥¬",7:"à¥­",8:"à¥®",9:"à¥¯",0:"à¥¦"}),cg={"à¥§":"1","à¥¨":"2","à¥©":"3","à¥ª":"4","à¥«":"5","à¥¬":"6","à¥­":"7","à¥®":"8","à¥¯":"9","à¥¦":"0"},dg=(uf.defineLocale("ne",{months:"à¤à¤¨à¤µà¤°à¥_à¤«à¥à¤¬à¥à¤°à¥à¤µà¤°à¥_à¤®à¤¾à¤°à¥à¤_à¤à¤ªà¥à¤°à¤¿à¤²_à¤®à¤_à¤à¥à¤¨_à¤à¥à¤²à¤¾à¤_à¤à¤à¤·à¥à¤_à¤¸à¥à¤ªà¥à¤à¥à¤®à¥à¤¬à¤°_à¤à¤à¥à¤à¥à¤¬à¤°_à¤¨à¥à¤­à¥à¤®à¥à¤¬à¤°_à¤¡à¤¿à¤¸à¥à¤®à¥à¤¬à¤°".split("_"),monthsShort:"à¤à¤¨._à¤«à¥à¤¬à¥à¤°à¥._à¤®à¤¾à¤°à¥à¤_à¤à¤ªà¥à¤°à¤¿._à¤®à¤_à¤à¥à¤¨_à¤à¥à¤²à¤¾à¤._à¤à¤._à¤¸à¥à¤ªà¥à¤._à¤à¤à¥à¤à¥._à¤¨à¥à¤­à¥._à¤¡à¤¿à¤¸à¥.".split("_"),weekdays:"à¤à¤à¤¤à¤¬à¤¾à¤°_à¤¸à¥à¤®à¤¬à¤¾à¤°_à¤®à¤à¥à¤à¤²à¤¬à¤¾à¤°_à¤¬à¥à¤§à¤¬à¤¾à¤°_à¤¬à¤¿à¤¹à¤¿à¤¬à¤¾à¤°_à¤¶à¥à¤à¥à¤°à¤¬à¤¾à¤°_à¤¶à¤¨à¤¿à¤¬à¤¾à¤°".split("_"),weekdaysShort:"à¤à¤à¤¤._à¤¸à¥à¤®._à¤®à¤à¥à¤à¤²._à¤¬à¥à¤§._à¤¬à¤¿à¤¹à¤¿._à¤¶à¥à¤à¥à¤°._à¤¶à¤¨à¤¿.".split("_"),weekdaysMin:"à¤à¤._à¤¸à¥._à¤®à¤à¥_à¤¬à¥._à¤¬à¤¿._à¤¶à¥._à¤¶.".split("_"),longDateFormat:{LT:"Aà¤à¥ h:mm à¤¬à¤à¥",LTS:"Aà¤à¥ h:mm:ss à¤¬à¤à¥",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, Aà¤à¥ h:mm à¤¬à¤à¥",LLLL:"dddd, D MMMM YYYY, Aà¤à¥ h:mm à¤¬à¤à¥"},preparse:function(a){return a.replace(/[à¥§à¥¨à¥©à¥ªà¥«à¥¬à¥­à¥®à¥¯à¥¦]/g,function(a){return cg[a]})},postformat:function(a){return a.replace(/\d/g,function(a){return bg[a]})},meridiemParse:/à¤°à¤¾à¤¤à¥|à¤¬à¤¿à¤¹à¤¾à¤¨|à¤¦à¤¿à¤à¤à¤¸à¥|à¤¬à¥à¤²à¥à¤à¤¾|à¤¸à¤¾à¤à¤|à¤°à¤¾à¤¤à¥/,meridiemHour:function(a,b){return 12===a&&(a=0),"à¤°à¤¾à¤¤à¥"===b?3>a?a:a+12:"à¤¬à¤¿à¤¹à¤¾à¤¨"===b?a:"à¤¦à¤¿à¤à¤à¤¸à¥"===b?a>=10?a:a+12:"à¤¬à¥à¤²à¥à¤à¤¾"===b||"à¤¸à¤¾à¤à¤"===b?a+12:void 0},meridiem:function(a,b,c){return 3>a?"à¤°à¤¾à¤¤à¥":10>a?"à¤¬à¤¿à¤¹à¤¾à¤¨":15>a?"à¤¦à¤¿à¤à¤à¤¸à¥":18>a?"à¤¬à¥à¤²à¥à¤à¤¾":20>a?"à¤¸à¤¾à¤à¤":"à¤°à¤¾à¤¤à¥"},calendar:{sameDay:"[à¤à¤] LT",nextDay:"[à¤­à¥à¤²à¥] LT",nextWeek:"[à¤à¤à¤à¤¦à¥] dddd[,] LT",lastDay:"[à¤¹à¤¿à¤à¥] LT",lastWeek:"[à¤à¤à¤à¥] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%sà¤®à¤¾",past:"%s à¤à¤à¤¾à¤¡à¥",s:"à¤à¥à¤¹à¥ à¤¸à¤®à¤¯",m:"à¤à¤ à¤®à¤¿à¤¨à¥à¤",mm:"%d à¤®à¤¿à¤¨à¥à¤",h:"à¤à¤ à¤à¤£à¥à¤à¤¾",hh:"%d à¤à¤£à¥à¤à¤¾",d:"à¤à¤ à¤¦à¤¿à¤¨",dd:"%d à¤¦à¤¿à¤¨",M:"à¤à¤ à¤®à¤¹à¤¿à¤¨à¤¾",MM:"%d à¤®à¤¹à¤¿à¤¨à¤¾",y:"à¤à¤ à¤¬à¤°à¥à¤·",yy:"%d à¤¬à¤°à¥à¤·"},week:{dow:1,doy:7}}),"jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_")),eg="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),fg=(uf.defineLocale("nl",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(a,b){return/-MMM-/.test(b)?eg[a.month()]:dg[a.month()]},weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"Zo_Ma_Di_Wo_Do_Vr_Za".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",m:"Ã©Ã©n minuut",mm:"%d minuten",h:"Ã©Ã©n uur",hh:"%d uur",d:"Ã©Ã©n dag",dd:"%d dagen",M:"Ã©Ã©n maand",MM:"%d maanden",y:"Ã©Ã©n jaar",yy:"%d jaar"},ordinalParse:/\d{1,2}(ste|de)/,ordinal:function(a){return a+(1===a||8===a||a>=20?"ste":"de")},week:{dow:1,doy:4}}),uf.defineLocale("nn",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sundag_mÃ¥ndag_tysdag_onsdag_torsdag_fredag_laurdag".split("_"),weekdaysShort:"sun_mÃ¥n_tys_ons_tor_fre_lau".split("_"),weekdaysMin:"su_mÃ¥_ty_on_to_fr_lÃ¸".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[I dag klokka] LT",nextDay:"[I morgon klokka] LT",nextWeek:"dddd [klokka] LT",lastDay:"[I gÃ¥r klokka] LT",lastWeek:"[FÃ¸regÃ¥ande] dddd [klokka] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"for %s sidan",s:"nokre sekund",m:"eit minutt",mm:"%d minutt",h:"ein time",hh:"%d timar",d:"ein dag",dd:"%d dagar",M:"ein mÃ¥nad",MM:"%d mÃ¥nader",y:"eit Ã¥r",yy:"%d Ã¥r"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),"styczeÅ_luty_marzec_kwiecieÅ_maj_czerwiec_lipiec_sierpieÅ_wrzesieÅ_paÅºdziernik_listopad_grudzieÅ".split("_")),gg="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_wrzeÅnia_paÅºdziernika_listopada_grudnia".split("_"),hg=(uf.defineLocale("pl",{months:function(a,b){return""===b?"("+gg[a.month()]+"|"+fg[a.month()]+")":/D MMMM/.test(b)?gg[a.month()]:fg[a.month()]},monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_paÅº_lis_gru".split("_"),weekdays:"niedziela_poniedziaÅek_wtorek_Åroda_czwartek_piÄtek_sobota".split("_"),weekdaysShort:"nie_pon_wt_År_czw_pt_sb".split("_"),weekdaysMin:"N_Pn_Wt_År_Cz_Pt_So".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[DziÅ o] LT",nextDay:"[Jutro o] LT",nextWeek:"[W] dddd [o] LT",lastDay:"[Wczoraj o] LT",lastWeek:function(){switch(this.day()){case 0:return"[W zeszÅÄ niedzielÄ o] LT";case 3:return"[W zeszÅÄ ÅrodÄ o] LT";case 6:return"[W zeszÅÄ sobotÄ o] LT";default:return"[W zeszÅy] dddd [o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",m:wd,mm:wd,h:wd,hh:wd,d:"1 dzieÅ",dd:"%d dni",M:"miesiÄc",MM:wd,y:"rok",yy:wd},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),uf.defineLocale("pt-br",{months:"Janeiro_Fevereiro_MarÃ§o_Abril_Maio_Junho_Julho_Agosto_Setembro_Outubro_Novembro_Dezembro".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingo_Segunda-Feira_TerÃ§a-Feira_Quarta-Feira_Quinta-Feira_Sexta-Feira_SÃ¡bado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_SÃ¡b".split("_"),weekdaysMin:"Dom_2Âª_3Âª_4Âª_5Âª_6Âª_SÃ¡b".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [Ã s] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [Ã s] HH:mm"},calendar:{sameDay:"[Hoje Ã s] LT",nextDay:"[AmanhÃ£ Ã s] LT",nextWeek:"dddd [Ã s] LT",lastDay:"[Ontem Ã s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[Ãltimo] dddd [Ã s] LT":"[Ãltima] dddd [Ã s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"%s atrÃ¡s",s:"poucos segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um mÃªs",MM:"%d meses",y:"um ano",yy:"%d anos"},ordinalParse:/\d{1,2}Âº/,ordinal:"%dÂº"}),uf.defineLocale("pt",{months:"Janeiro_Fevereiro_MarÃ§o_Abril_Maio_Junho_Julho_Agosto_Setembro_Outubro_Novembro_Dezembro".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingo_Segunda-Feira_TerÃ§a-Feira_Quarta-Feira_Quinta-Feira_Sexta-Feira_SÃ¡bado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_SÃ¡b".split("_"),weekdaysMin:"Dom_2Âª_3Âª_4Âª_5Âª_6Âª_SÃ¡b".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY HH:mm"},calendar:{sameDay:"[Hoje Ã s] LT",nextDay:"[AmanhÃ£ Ã s] LT",nextWeek:"dddd [Ã s] LT",lastDay:"[Ontem Ã s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[Ãltimo] dddd [Ã s] LT":"[Ãltima] dddd [Ã s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"hÃ¡ %s",s:"segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um mÃªs",MM:"%d meses",y:"um ano",yy:"%d anos"},ordinalParse:/\d{1,2}Âº/,ordinal:"%dÂº",week:{dow:1,doy:4}}),uf.defineLocale("ro",{months:"ianuarie_februarie_martie_aprilie_mai_iunie_iulie_august_septembrie_octombrie_noiembrie_decembrie".split("_"),monthsShort:"ian._febr._mart._apr._mai_iun._iul._aug._sept._oct._nov._dec.".split("_"),weekdays:"duminicÄ_luni_marÈi_miercuri_joi_vineri_sÃ¢mbÄtÄ".split("_"),weekdaysShort:"Dum_Lun_Mar_Mie_Joi_Vin_SÃ¢m".split("_"),weekdaysMin:"Du_Lu_Ma_Mi_Jo_Vi_SÃ¢".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[azi la] LT",nextDay:"[mÃ¢ine la] LT",nextWeek:"dddd [la] LT",lastDay:"[ieri la] LT",lastWeek:"[fosta] dddd [la] LT",sameElse:"L"},relativeTime:{future:"peste %s",past:"%s Ã®n urmÄ",s:"cÃ¢teva secunde",m:"un minut",mm:xd,h:"o orÄ",hh:xd,d:"o zi",dd:xd,M:"o lunÄ",MM:xd,y:"un an",yy:xd},week:{dow:1,doy:7}}),uf.defineLocale("ru",{months:Ad,monthsShort:Bd,weekdays:Cd,weekdaysShort:"Ð²Ñ_Ð¿Ð½_Ð²Ñ_ÑÑ_ÑÑ_Ð¿Ñ_ÑÐ±".split("_"),weekdaysMin:"Ð²Ñ_Ð¿Ð½_Ð²Ñ_ÑÑ_ÑÑ_Ð¿Ñ_ÑÐ±".split("_"),monthsParse:[/^ÑÐ½Ð²/i,/^ÑÐµÐ²/i,/^Ð¼Ð°Ñ/i,/^Ð°Ð¿Ñ/i,/^Ð¼Ð°[Ð¹|Ñ]/i,/^Ð¸ÑÐ½/i,/^Ð¸ÑÐ»/i,/^Ð°Ð²Ð³/i,/^ÑÐµÐ½/i,/^Ð¾ÐºÑ/i,/^Ð½Ð¾Ñ/i,/^Ð´ÐµÐº/i],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY Ð³.",LLL:"D MMMM YYYY Ð³., HH:mm",LLLL:"dddd, D MMMM YYYY Ð³., HH:mm"},calendar:{sameDay:"[Ð¡ÐµÐ³Ð¾Ð´Ð½Ñ Ð²] LT",nextDay:"[ÐÐ°Ð²ÑÑÐ° Ð²] LT",lastDay:"[ÐÑÐµÑÐ° Ð²] LT",nextWeek:function(){return 2===this.day()?"[ÐÐ¾] dddd [Ð²] LT":"[Ð] dddd [Ð²] LT"},lastWeek:function(a){if(a.week()===this.week())return 2===this.day()?"[ÐÐ¾] dddd [Ð²] LT":"[Ð] dddd [Ð²] LT";switch(this.day()){case 0:return"[Ð Ð¿ÑÐ¾ÑÐ»Ð¾Ðµ] dddd [Ð²] LT";case 1:case 2:case 4:return"[Ð Ð¿ÑÐ¾ÑÐ»ÑÐ¹] dddd [Ð²] LT";case 3:case 5:case 6:return"[Ð Ð¿ÑÐ¾ÑÐ»ÑÑ] dddd [Ð²] LT"}},sameElse:"L"},relativeTime:{future:"ÑÐµÑÐµÐ· %s",past:"%s Ð½Ð°Ð·Ð°Ð´",s:"Ð½ÐµÑÐºÐ¾Ð»ÑÐºÐ¾ ÑÐµÐºÑÐ½Ð´",m:zd,mm:zd,h:"ÑÐ°Ñ",hh:zd,d:"Ð´ÐµÐ½Ñ",dd:zd,M:"Ð¼ÐµÑÑÑ",MM:zd,y:"Ð³Ð¾Ð´",yy:zd},meridiemParse:/Ð½Ð¾ÑÐ¸|ÑÑÑÐ°|Ð´Ð½Ñ|Ð²ÐµÑÐµÑÐ°/i,isPM:function(a){return/^(Ð´Ð½Ñ|Ð²ÐµÑÐµÑÐ°)$/.test(a)},meridiem:function(a,b,c){return 4>a?"Ð½Ð¾ÑÐ¸":12>a?"ÑÑÑÐ°":17>a?"Ð´Ð½Ñ":"Ð²ÐµÑÐµÑÐ°"},ordinalParse:/\d{1,2}-(Ð¹|Ð³Ð¾|Ñ)/,ordinal:function(a,b){switch(b){case"M":case"d":case"DDD":return a+"-Ð¹";case"D":return a+"-Ð³Ð¾";case"w":case"W":return a+"-Ñ";default:return a}},week:{dow:1,doy:7}}),uf.defineLocale("si",{months:"à¶¢à¶±à·à·à¶»à·_à¶´à·à¶¶à¶»à·à·à¶»à·_à¶¸à·à¶»à·à¶­à·_à¶à¶´à·âà¶»à·à¶½à·_à¶¸à·à¶ºà·_à¶¢à·à¶±à·_à¶¢à·à¶½à·_à¶à¶à·à·à·à¶­à·_à·à·à¶´à·à¶­à·à¶¸à·à¶¶à¶»à·_à¶à¶à·à¶­à·à¶¶à¶»à·_à¶±à·à·à·à¶¸à·à¶¶à¶»à·_à¶¯à·à·à·à¶¸à·à¶¶à¶»à·".split("_"),monthsShort:"à¶¢à¶±_à¶´à·à¶¶_à¶¸à·à¶»à·_à¶à¶´à·_à¶¸à·à¶ºà·_à¶¢à·à¶±à·_à¶¢à·à¶½à·_à¶à¶à·_à·à·à¶´à·_à¶à¶à·_à¶±à·à·à·_à¶¯à·à·à·".split("_"),weekdays:"à¶à¶»à·à¶¯à·_à·à¶³à·à¶¯à·_à¶à¶à·à¶»à·à·à·à¶¯à·_à¶¶à¶¯à·à¶¯à·_à¶¶à·âà¶»à·à·à·à¶´à¶­à·à¶±à·à¶¯à·_à·à·à¶à·à¶»à·à¶¯à·_à·à·à¶±à·à·à¶»à·à¶¯à·".split("_"),weekdaysShort:"à¶à¶»à·_à·à¶³à·_à¶à¶_à¶¶à¶¯à·_à¶¶à·âà¶»à·_à·à·à¶à·_à·à·à¶±".split("_"),weekdaysMin:"à¶_à·_à¶_à¶¶_à¶¶à·âà¶»_à·à·_à·à·".split("_"),longDateFormat:{LT:"a h:mm",LTS:"a h:mm:ss",L:"YYYY/MM/DD",LL:"YYYY MMMM D",LLL:"YYYY MMMM D, a h:mm",LLLL:"YYYY MMMM D [à·à·à¶±à·] dddd, a h:mm:ss"},calendar:{sameDay:"[à¶à¶¯] LT[à¶§]",nextDay:"[à·à·à¶§] LT[à¶§]",nextWeek:"dddd LT[à¶§]",lastDay:"[à¶à¶ºà·] LT[à¶§]",lastWeek:"[à¶´à·à·à¶à·à¶º] dddd LT[à¶§]",sameElse:"L"},relativeTime:{future:"%sà¶à·à¶±à·",past:"%sà¶à¶§ à¶´à·à¶»",s:"à¶­à¶­à·à¶´à¶» à¶à·à·à·à¶´à¶º",m:"à¶¸à·à¶±à·à¶­à·à¶­à·à·",mm:"à¶¸à·à¶±à·à¶­à·à¶­à· %d",h:"à¶´à·à¶º",hh:"à¶´à·à¶º %d",d:"à¶¯à·à¶±à¶º",dd:"à¶¯à·à¶± %d",M:"à¶¸à·à·à¶º",MM:"à¶¸à·à· %d",y:"à·à·à¶»",yy:"à·à·à¶» %d"},ordinalParse:/\d{1,2} à·à·à¶±à·/,ordinal:function(a){return a+" à·à·à¶±à·"},meridiem:function(a,b,c){return a>11?c?"à¶´.à·.":"à¶´à·à· à·à¶»à·":c?"à¶´à·.à·.":"à¶´à·à¶» à·à¶»à·"}}),"januÃ¡r_februÃ¡r_marec_aprÃ­l_mÃ¡j_jÃºn_jÃºl_august_september_oktÃ³ber_november_december".split("_")),ig="jan_feb_mar_apr_mÃ¡j_jÃºn_jÃºl_aug_sep_okt_nov_dec".split("_"),jg=(uf.defineLocale("sk",{months:hg,monthsShort:ig,monthsParse:function(a,b){var c,d=[];for(c=0;12>c;c++)d[c]=new RegExp("^"+a[c]+"$|^"+b[c]+"$","i");return d}(hg,ig),weekdays:"nedeÄ¾a_pondelok_utorok_streda_Å¡tvrtok_piatok_sobota".split("_"),weekdaysShort:"ne_po_ut_st_Å¡t_pi_so".split("_"),weekdaysMin:"ne_po_ut_st_Å¡t_pi_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm"},calendar:{sameDay:"[dnes o] LT",nextDay:"[zajtra o] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedeÄ¾u o] LT";case 1:case 2:return"[v] dddd [o] LT";case 3:return"[v stredu o] LT";case 4:return"[vo Å¡tvrtok o] LT";case 5:return"[v piatok o] LT";case 6:return"[v sobotu o] LT"}},lastDay:"[vÄera o] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulÃº nedeÄ¾u o] LT";case 1:case 2:return"[minulÃ½] dddd [o] LT";case 3:return"[minulÃº stredu o] LT";case 4:case 5:return"[minulÃ½] dddd [o] LT";case 6:return"[minulÃº sobotu o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"pred %s",s:Ed,m:Ed,mm:Ed,h:Ed,hh:Ed,d:Ed,dd:Ed,M:Ed,MM:Ed,y:Ed,yy:Ed},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),uf.defineLocale("sl",{months:"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),weekdays:"nedelja_ponedeljek_torek_sreda_Äetrtek_petek_sobota".split("_"),weekdaysShort:"ned._pon._tor._sre._Äet._pet._sob.".split("_"),weekdaysMin:"ne_po_to_sr_Äe_pe_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danes ob] LT",nextDay:"[jutri ob] LT",nextWeek:function(){switch(this.day()){case 0:return"[v] [nedeljo] [ob] LT";case 3:return"[v] [sredo] [ob] LT";case 6:return"[v] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[v] dddd [ob] LT"}},lastDay:"[vÄeraj ob] LT",lastWeek:function(){switch(this.day()){case 0:return"[prejÅ¡njo] [nedeljo] [ob] LT";case 3:return"[prejÅ¡njo] [sredo] [ob] LT";case 6:return"[prejÅ¡njo] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[prejÅ¡nji] dddd [ob] LT"}},sameElse:"L"},relativeTime:{future:"Äez %s",past:"pred %s",s:Fd,m:Fd,mm:Fd,h:Fd,hh:Fd,d:Fd,dd:Fd,M:Fd,MM:Fd,y:Fd,yy:Fd},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}}),uf.defineLocale("sq",{months:"Janar_Shkurt_Mars_Prill_Maj_Qershor_Korrik_Gusht_Shtator_Tetor_NÃ«ntor_Dhjetor".split("_"),monthsShort:"Jan_Shk_Mar_Pri_Maj_Qer_Kor_Gus_Sht_Tet_NÃ«n_Dhj".split("_"),weekdays:"E Diel_E HÃ«nÃ«_E MartÃ«_E MÃ«rkurÃ«_E Enjte_E Premte_E ShtunÃ«".split("_"),weekdaysShort:"Die_HÃ«n_Mar_MÃ«r_Enj_Pre_Sht".split("_"),weekdaysMin:"D_H_Ma_MÃ«_E_P_Sh".split("_"),meridiemParse:/PD|MD/,isPM:function(a){return"M"===a.charAt(0)},meridiem:function(a,b,c){return 12>a?"PD":"MD"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Sot nÃ«] LT",nextDay:"[NesÃ«r nÃ«] LT",nextWeek:"dddd [nÃ«] LT",lastDay:"[Dje nÃ«] LT",lastWeek:"dddd [e kaluar nÃ«] LT",sameElse:"L"},relativeTime:{future:"nÃ« %s",past:"%s mÃ« parÃ«",s:"disa sekonda",m:"njÃ« minutÃ«",mm:"%d minuta",h:"njÃ« orÃ«",hh:"%d orÃ«",d:"njÃ« ditÃ«",dd:"%d ditÃ«",M:"njÃ« muaj",MM:"%d muaj",y:"njÃ« vit",yy:"%d vite"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),{words:{m:["ÑÐµÐ´Ð°Ð½ Ð¼Ð¸Ð½ÑÑ","ÑÐµÐ´Ð½Ðµ Ð¼Ð¸Ð½ÑÑÐµ"],mm:["Ð¼Ð¸Ð½ÑÑ","Ð¼Ð¸Ð½ÑÑÐµ","Ð¼Ð¸Ð½ÑÑÐ°"],h:["ÑÐµÐ´Ð°Ð½ ÑÐ°Ñ","ÑÐµÐ´Ð½Ð¾Ð³ ÑÐ°ÑÐ°"],hh:["ÑÐ°Ñ","ÑÐ°ÑÐ°","ÑÐ°ÑÐ¸"],dd:["Ð´Ð°Ð½","Ð´Ð°Ð½Ð°","Ð´Ð°Ð½Ð°"],MM:["Ð¼ÐµÑÐµÑ","Ð¼ÐµÑÐµÑÐ°","Ð¼ÐµÑÐµÑÐ¸"],yy:["Ð³Ð¾Ð´Ð¸Ð½Ð°","Ð³Ð¾Ð´Ð¸Ð½Ðµ","Ð³Ð¾Ð´Ð¸Ð½Ð°"]},correctGrammaticalCase:function(a,b){return 1===a?b[0]:a>=2&&4>=a?b[1]:b[2]},translate:function(a,b,c){var d=jg.words[c];return 1===c.length?b?d[0]:d[1]:a+" "+jg.correctGrammaticalCase(a,d)}}),kg=(uf.defineLocale("sr-cyrl",{months:["ÑÐ°Ð½ÑÐ°Ñ","ÑÐµÐ±ÑÑÐ°Ñ","Ð¼Ð°ÑÑ","Ð°Ð¿ÑÐ¸Ð»","Ð¼Ð°Ñ","ÑÑÐ½","ÑÑÐ»","Ð°Ð²Ð³ÑÑÑ","ÑÐµÐ¿ÑÐµÐ¼Ð±Ð°Ñ","Ð¾ÐºÑÐ¾Ð±Ð°Ñ","Ð½Ð¾Ð²ÐµÐ¼Ð±Ð°Ñ","Ð´ÐµÑÐµÐ¼Ð±Ð°Ñ"],monthsShort:["ÑÐ°Ð½.","ÑÐµÐ±.","Ð¼Ð°Ñ.","Ð°Ð¿Ñ.","Ð¼Ð°Ñ","ÑÑÐ½","ÑÑÐ»","Ð°Ð²Ð³.","ÑÐµÐ¿.","Ð¾ÐºÑ.","Ð½Ð¾Ð².","Ð´ÐµÑ."],weekdays:["Ð½ÐµÐ´ÐµÑÐ°","Ð¿Ð¾Ð½ÐµÐ´ÐµÑÐ°Ðº","ÑÑÐ¾ÑÐ°Ðº","ÑÑÐµÐ´Ð°","ÑÐµÑÐ²ÑÑÐ°Ðº","Ð¿ÐµÑÐ°Ðº","ÑÑÐ±Ð¾ÑÐ°"],weekdaysShort:["Ð½ÐµÐ´.","Ð¿Ð¾Ð½.","ÑÑÐ¾.","ÑÑÐµ.","ÑÐµÑ.","Ð¿ÐµÑ.","ÑÑÐ±."],weekdaysMin:["Ð½Ðµ","Ð¿Ð¾","ÑÑ","ÑÑ","ÑÐµ","Ð¿Ðµ","ÑÑ"],longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[Ð´Ð°Ð½Ð°Ñ Ñ] LT",nextDay:"[ÑÑÑÑÐ° Ñ] LT",nextWeek:function(){switch(this.day()){case 0:return"[Ñ] [Ð½ÐµÐ´ÐµÑÑ] [Ñ] LT";case 3:return"[Ñ] [ÑÑÐµÐ´Ñ] [Ñ] LT";case 6:return"[Ñ] [ÑÑÐ±Ð¾ÑÑ] [Ñ] LT";case 1:case 2:case 4:case 5:return"[Ñ] dddd [Ñ] LT"}},lastDay:"[ÑÑÑÐµ Ñ] LT",lastWeek:function(){var a=["[Ð¿ÑÐ¾ÑÐ»Ðµ] [Ð½ÐµÐ´ÐµÑÐµ] [Ñ] LT","[Ð¿ÑÐ¾ÑÐ»Ð¾Ð³] [Ð¿Ð¾Ð½ÐµÐ´ÐµÑÐºÐ°] [Ñ] LT","[Ð¿ÑÐ¾ÑÐ»Ð¾Ð³] [ÑÑÐ¾ÑÐºÐ°] [Ñ] LT","[Ð¿ÑÐ¾ÑÐ»Ðµ] [ÑÑÐµÐ´Ðµ] [Ñ] LT","[Ð¿ÑÐ¾ÑÐ»Ð¾Ð³] [ÑÐµÑÐ²ÑÑÐºÐ°] [Ñ] LT","[Ð¿ÑÐ¾ÑÐ»Ð¾Ð³] [Ð¿ÐµÑÐºÐ°] [Ñ] LT","[Ð¿ÑÐ¾ÑÐ»Ðµ] [ÑÑÐ±Ð¾ÑÐµ] [Ñ] LT"];return a[this.day()]},sameElse:"L"},relativeTime:{future:"Ð·Ð° %s",past:"Ð¿ÑÐµ %s",s:"Ð½ÐµÐºÐ¾Ð»Ð¸ÐºÐ¾ ÑÐµÐºÑÐ½Ð´Ð¸",m:jg.translate,mm:jg.translate,h:jg.translate,hh:jg.translate,d:"Ð´Ð°Ð½",dd:jg.translate,M:"Ð¼ÐµÑÐµÑ",MM:jg.translate,y:"Ð³Ð¾Ð´Ð¸Ð½Ñ",yy:jg.translate},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}}),{words:{m:["jedan minut","jedne minute"],mm:["minut","minute","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mesec","meseca","meseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(a,b){return 1===a?b[0]:a>=2&&4>=a?b[1]:b[2]},translate:function(a,b,c){var d=kg.words[c];return 1===c.length?b?d[0]:d[1]:a+" "+kg.correctGrammaticalCase(a,d)}}),lg=(uf.defineLocale("sr",{months:["januar","februar","mart","april","maj","jun","jul","avgust","septembar","oktobar","novembar","decembar"],monthsShort:["jan.","feb.","mar.","apr.","maj","jun","jul","avg.","sep.","okt.","nov.","dec."],weekdays:["nedelja","ponedeljak","utorak","sreda","Äetvrtak","petak","subota"],weekdaysShort:["ned.","pon.","uto.","sre.","Äet.","pet.","sub."],weekdaysMin:["ne","po","ut","sr","Äe","pe","su"],longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedelju] [u] LT";case 3:return"[u] [sredu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juÄe u] LT",lastWeek:function(){var a=["[proÅ¡le] [nedelje] [u] LT","[proÅ¡log] [ponedeljka] [u] LT","[proÅ¡log] [utorka] [u] LT","[proÅ¡le] [srede] [u] LT","[proÅ¡log] [Äetvrtka] [u] LT","[proÅ¡log] [petka] [u] LT","[proÅ¡le] [subote] [u] LT"];return a[this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"pre %s",s:"nekoliko sekundi",
m:kg.translate,mm:kg.translate,h:kg.translate,hh:kg.translate,d:"dan",dd:kg.translate,M:"mesec",MM:kg.translate,y:"godinu",yy:kg.translate},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}}),uf.defineLocale("sv",{months:"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"sÃ¶ndag_mÃ¥ndag_tisdag_onsdag_torsdag_fredag_lÃ¶rdag".split("_"),weekdaysShort:"sÃ¶n_mÃ¥n_tis_ons_tor_fre_lÃ¶r".split("_"),weekdaysMin:"sÃ¶_mÃ¥_ti_on_to_fr_lÃ¶".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Idag] LT",nextDay:"[Imorgon] LT",lastDay:"[IgÃ¥r] LT",nextWeek:"[PÃ¥] dddd LT",lastWeek:"[I] dddd[s] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"fÃ¶r %s sedan",s:"nÃ¥gra sekunder",m:"en minut",mm:"%d minuter",h:"en timme",hh:"%d timmar",d:"en dag",dd:"%d dagar",M:"en mÃ¥nad",MM:"%d mÃ¥nader",y:"ett Ã¥r",yy:"%d Ã¥r"},ordinalParse:/\d{1,2}(e|a)/,ordinal:function(a){var b=a%10,c=1===~~(a%100/10)?"e":1===b?"a":2===b?"a":"e";return a+c},week:{dow:1,doy:4}}),uf.defineLocale("ta",{months:"à®à®©à®µà®°à®¿_à®ªà®¿à®ªà¯à®°à®µà®°à®¿_à®®à®¾à®°à¯à®à¯_à®à®ªà¯à®°à®²à¯_à®®à¯_à®à¯à®©à¯_à®à¯à®²à¯_à®à®à®¸à¯à®à¯_à®à¯à®ªà¯à®à¯à®®à¯à®ªà®°à¯_à®à®à¯à®à¯à®¾à®ªà®°à¯_à®¨à®µà®®à¯à®ªà®°à¯_à®à®¿à®à®®à¯à®ªà®°à¯".split("_"),monthsShort:"à®à®©à®µà®°à®¿_à®ªà®¿à®ªà¯à®°à®µà®°à®¿_à®®à®¾à®°à¯à®à¯_à®à®ªà¯à®°à®²à¯_à®®à¯_à®à¯à®©à¯_à®à¯à®²à¯_à®à®à®¸à¯à®à¯_à®à¯à®ªà¯à®à¯à®®à¯à®ªà®°à¯_à®à®à¯à®à¯à®¾à®ªà®°à¯_à®¨à®µà®®à¯à®ªà®°à¯_à®à®¿à®à®®à¯à®ªà®°à¯".split("_"),weekdays:"à®à®¾à®¯à®¿à®±à¯à®±à¯à®à¯à®à®¿à®´à®®à¯_à®¤à®¿à®à¯à®à®à¯à®à®¿à®´à®®à¯_à®à¯à®µà¯à®µà®¾à®¯à¯à®à®¿à®´à®®à¯_à®ªà¯à®¤à®©à¯à®à®¿à®´à®®à¯_à®µà®¿à®¯à®¾à®´à®à¯à®à®¿à®´à®®à¯_à®µà¯à®³à¯à®³à®¿à®à¯à®à®¿à®´à®®à¯_à®à®©à®¿à®à¯à®à®¿à®´à®®à¯".split("_"),weekdaysShort:"à®à®¾à®¯à®¿à®±à¯_à®¤à®¿à®à¯à®à®³à¯_à®à¯à®µà¯à®µà®¾à®¯à¯_à®ªà¯à®¤à®©à¯_à®µà®¿à®¯à®¾à®´à®©à¯_à®µà¯à®³à¯à®³à®¿_à®à®©à®¿".split("_"),weekdaysMin:"à®à®¾_à®¤à®¿_à®à¯_à®ªà¯_à®µà®¿_à®µà¯_à®".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, HH:mm",LLLL:"dddd, D MMMM YYYY, HH:mm"},calendar:{sameDay:"[à®à®©à¯à®±à¯] LT",nextDay:"[à®¨à®¾à®³à¯] LT",nextWeek:"dddd, LT",lastDay:"[à®¨à¯à®±à¯à®±à¯] LT",lastWeek:"[à®à®à®¨à¯à®¤ à®µà®¾à®°à®®à¯] dddd, LT",sameElse:"L"},relativeTime:{future:"%s à®à®²à¯",past:"%s à®®à¯à®©à¯",s:"à®à®°à¯ à®à®¿à®² à®µà®¿à®¨à®¾à®à®¿à®à®³à¯",m:"à®à®°à¯ à®¨à®¿à®®à®¿à®à®®à¯",mm:"%d à®¨à®¿à®®à®¿à®à®à¯à®à®³à¯",h:"à®à®°à¯ à®®à®£à®¿ à®¨à¯à®°à®®à¯",hh:"%d à®®à®£à®¿ à®¨à¯à®°à®®à¯",d:"à®à®°à¯ à®¨à®¾à®³à¯",dd:"%d à®¨à®¾à®à¯à®à®³à¯",M:"à®à®°à¯ à®®à®¾à®¤à®®à¯",MM:"%d à®®à®¾à®¤à®à¯à®à®³à¯",y:"à®à®°à¯ à®µà®°à¯à®à®®à¯",yy:"%d à®à®£à¯à®à¯à®à®³à¯"},ordinalParse:/\d{1,2}à®µà®¤à¯/,ordinal:function(a){return a+"à®µà®¤à¯"},meridiemParse:/à®¯à®¾à®®à®®à¯|à®µà¯à®à®±à¯|à®à®¾à®²à¯|à®¨à®£à¯à®ªà®à®²à¯|à®à®±à¯à®ªà®¾à®à¯|à®®à®¾à®²à¯/,meridiem:function(a,b,c){return 2>a?" à®¯à®¾à®®à®®à¯":6>a?" à®µà¯à®à®±à¯":10>a?" à®à®¾à®²à¯":14>a?" à®¨à®£à¯à®ªà®à®²à¯":18>a?" à®à®±à¯à®ªà®¾à®à¯":22>a?" à®®à®¾à®²à¯":" à®¯à®¾à®®à®®à¯"},meridiemHour:function(a,b){return 12===a&&(a=0),"à®¯à®¾à®®à®®à¯"===b?2>a?a:a+12:"à®µà¯à®à®±à¯"===b||"à®à®¾à®²à¯"===b?a:"à®¨à®£à¯à®ªà®à®²à¯"===b&&a>=10?a:a+12},week:{dow:0,doy:6}}),uf.defineLocale("th",{months:"à¸¡à¸à¸£à¸²à¸à¸¡_à¸à¸¸à¸¡à¸ à¸²à¸à¸±à¸à¸à¹_à¸¡à¸µà¸à¸²à¸à¸¡_à¹à¸¡à¸©à¸²à¸¢à¸_à¸à¸¤à¸©à¸ à¸²à¸à¸¡_à¸¡à¸´à¸à¸¸à¸à¸²à¸¢à¸_à¸à¸£à¸à¸à¸²à¸à¸¡_à¸ªà¸´à¸à¸«à¸²à¸à¸¡_à¸à¸±à¸à¸¢à¸²à¸¢à¸_à¸à¸¸à¸¥à¸²à¸à¸¡_à¸à¸¤à¸¨à¸à¸´à¸à¸²à¸¢à¸_à¸à¸±à¸à¸§à¸²à¸à¸¡".split("_"),monthsShort:"à¸¡à¸à¸£à¸²_à¸à¸¸à¸¡à¸ à¸²_à¸¡à¸µà¸à¸²_à¹à¸¡à¸©à¸²_à¸à¸¤à¸©à¸ à¸²_à¸¡à¸´à¸à¸¸à¸à¸²_à¸à¸£à¸à¸à¸²_à¸ªà¸´à¸à¸«à¸²_à¸à¸±à¸à¸¢à¸²_à¸à¸¸à¸¥à¸²_à¸à¸¤à¸¨à¸à¸´à¸à¸²_à¸à¸±à¸à¸§à¸²".split("_"),weekdays:"à¸­à¸²à¸à¸´à¸à¸¢à¹_à¸à¸±à¸à¸à¸£à¹_à¸­à¸±à¸à¸à¸²à¸£_à¸à¸¸à¸_à¸à¸¤à¸«à¸±à¸ªà¸à¸à¸µ_à¸¨à¸¸à¸à¸£à¹_à¹à¸ªà¸²à¸£à¹".split("_"),weekdaysShort:"à¸­à¸²à¸à¸´à¸à¸¢à¹_à¸à¸±à¸à¸à¸£à¹_à¸­à¸±à¸à¸à¸²à¸£_à¸à¸¸à¸_à¸à¸¤à¸«à¸±à¸ª_à¸¨à¸¸à¸à¸£à¹_à¹à¸ªà¸²à¸£à¹".split("_"),weekdaysMin:"à¸­à¸²._à¸._à¸­._à¸._à¸à¸¤._à¸¨._à¸ª.".split("_"),longDateFormat:{LT:"H à¸à¸²à¸¬à¸´à¸à¸² m à¸à¸²à¸à¸µ",LTS:"H à¸à¸²à¸¬à¸´à¸à¸² m à¸à¸²à¸à¸µ s à¸§à¸´à¸à¸²à¸à¸µ",L:"YYYY/MM/DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY à¹à¸§à¸¥à¸² H à¸à¸²à¸¬à¸´à¸à¸² m à¸à¸²à¸à¸µ",LLLL:"à¸§à¸±à¸ddddà¸à¸µà¹ D MMMM YYYY à¹à¸§à¸¥à¸² H à¸à¸²à¸¬à¸´à¸à¸² m à¸à¸²à¸à¸µ"},meridiemParse:/à¸à¹à¸­à¸à¹à¸à¸µà¹à¸¢à¸|à¸«à¸¥à¸±à¸à¹à¸à¸µà¹à¸¢à¸/,isPM:function(a){return"à¸«à¸¥à¸±à¸à¹à¸à¸µà¹à¸¢à¸"===a},meridiem:function(a,b,c){return 12>a?"à¸à¹à¸­à¸à¹à¸à¸µà¹à¸¢à¸":"à¸«à¸¥à¸±à¸à¹à¸à¸µà¹à¸¢à¸"},calendar:{sameDay:"[à¸§à¸±à¸à¸à¸µà¹ à¹à¸§à¸¥à¸²] LT",nextDay:"[à¸à¸£à¸¸à¹à¸à¸à¸µà¹ à¹à¸§à¸¥à¸²] LT",nextWeek:"dddd[à¸«à¸à¹à¸² à¹à¸§à¸¥à¸²] LT",lastDay:"[à¹à¸¡à¸·à¹à¸­à¸§à¸²à¸à¸à¸µà¹ à¹à¸§à¸¥à¸²] LT",lastWeek:"[à¸§à¸±à¸]dddd[à¸à¸µà¹à¹à¸¥à¹à¸§ à¹à¸§à¸¥à¸²] LT",sameElse:"L"},relativeTime:{future:"à¸­à¸µà¸ %s",past:"%sà¸à¸µà¹à¹à¸¥à¹à¸§",s:"à¹à¸¡à¹à¸à¸µà¹à¸§à¸´à¸à¸²à¸à¸µ",m:"1 à¸à¸²à¸à¸µ",mm:"%d à¸à¸²à¸à¸µ",h:"1 à¸à¸±à¹à¸§à¹à¸¡à¸",hh:"%d à¸à¸±à¹à¸§à¹à¸¡à¸",d:"1 à¸§à¸±à¸",dd:"%d à¸§à¸±à¸",M:"1 à¹à¸à¸·à¸­à¸",MM:"%d à¹à¸à¸·à¸­à¸",y:"1 à¸à¸µ",yy:"%d à¸à¸µ"}}),uf.defineLocale("tl-ph",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"[Ngayon sa] LT",nextDay:"[Bukas sa] LT",nextWeek:"dddd [sa] LT",lastDay:"[Kahapon sa] LT",lastWeek:"dddd [huling linggo] LT",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},ordinalParse:/\d{1,2}/,ordinal:function(a){return a},week:{dow:1,doy:4}}),{1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'Ã¼ncÃ¼",4:"'Ã¼ncÃ¼",100:"'Ã¼ncÃ¼",6:"'ncÄ±",9:"'uncu",10:"'uncu",30:"'uncu",60:"'Ä±ncÄ±",90:"'Ä±ncÄ±"}),mg=(uf.defineLocale("tr",{months:"Ocak_Åubat_Mart_Nisan_MayÄ±s_Haziran_Temmuz_AÄustos_EylÃ¼l_Ekim_KasÄ±m_AralÄ±k".split("_"),monthsShort:"Oca_Åub_Mar_Nis_May_Haz_Tem_AÄu_Eyl_Eki_Kas_Ara".split("_"),weekdays:"Pazar_Pazartesi_SalÄ±_ÃarÅamba_PerÅembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pts_Sal_Ãar_Per_Cum_Cts".split("_"),weekdaysMin:"Pz_Pt_Sa_Ãa_Pe_Cu_Ct".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugÃ¼n saat] LT",nextDay:"[yarÄ±n saat] LT",nextWeek:"[haftaya] dddd [saat] LT",lastDay:"[dÃ¼n] LT",lastWeek:"[geÃ§en hafta] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s Ã¶nce",s:"birkaÃ§ saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir gÃ¼n",dd:"%d gÃ¼n",M:"bir ay",MM:"%d ay",y:"bir yÄ±l",yy:"%d yÄ±l"},ordinalParse:/\d{1,2}'(inci|nci|Ã¼ncÃ¼|ncÄ±|uncu|Ä±ncÄ±)/,ordinal:function(a){if(0===a)return a+"'Ä±ncÄ±";var b=a%10,c=a%100-b,d=a>=100?100:null;return a+(lg[b]||lg[c]||lg[d])},week:{dow:1,doy:7}}),uf.defineLocale("tzl",{months:"Januar_Fevraglh_MarÃ§_AvrÃ¯u_Mai_GÃ¼n_Julia_Guscht_Setemvar_ListopÃ¤ts_Noemvar_Zecemvar".split("_"),monthsShort:"Jan_Fev_Mar_Avr_Mai_GÃ¼n_Jul_Gus_Set_Lis_Noe_Zec".split("_"),weekdays:"SÃºladi_LÃºneÃ§i_Maitzi_MÃ¡rcuri_XhÃºadi_ViÃ©nerÃ§i_SÃ¡turi".split("_"),weekdaysShort:"SÃºl_LÃºn_Mai_MÃ¡r_XhÃº_ViÃ©_SÃ¡t".split("_"),weekdaysMin:"SÃº_LÃº_Ma_MÃ¡_Xh_Vi_SÃ¡".split("_"),longDateFormat:{LT:"HH.mm",LTS:"LT.ss",L:"DD.MM.YYYY",LL:"D. MMMM [dallas] YYYY",LLL:"D. MMMM [dallas] YYYY LT",LLLL:"dddd, [li] D. MMMM [dallas] YYYY LT"},meridiem:function(a,b,c){return a>11?c?"d'o":"D'O":c?"d'a":"D'A"},calendar:{sameDay:"[oxhi Ã ] LT",nextDay:"[demÃ  Ã ] LT",nextWeek:"dddd [Ã ] LT",lastDay:"[ieiri Ã ] LT",lastWeek:"[sÃ¼r el] dddd [lasteu Ã ] LT",sameElse:"L"},relativeTime:{future:"osprei %s",past:"ja%s",s:Gd,m:Gd,mm:Gd,h:Gd,hh:Gd,d:Gd,dd:Gd,M:Gd,MM:Gd,y:Gd,yy:Gd},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),uf.defineLocale("tzm-latn",{months:"innayr_brË¤ayrË¤_marË¤sË¤_ibrir_mayyw_ywnyw_ywlywz_É£wÅ¡t_Å¡wtanbir_ktË¤wbrË¤_nwwanbir_dwjnbir".split("_"),monthsShort:"innayr_brË¤ayrË¤_marË¤sË¤_ibrir_mayyw_ywnyw_ywlywz_É£wÅ¡t_Å¡wtanbir_ktË¤wbrË¤_nwwanbir_dwjnbir".split("_"),weekdays:"asamas_aynas_asinas_akras_akwas_asimwas_asiá¸yas".split("_"),weekdaysShort:"asamas_aynas_asinas_akras_akwas_asimwas_asiá¸yas".split("_"),weekdaysMin:"asamas_aynas_asinas_akras_akwas_asimwas_asiá¸yas".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[asdkh g] LT",nextDay:"[aska g] LT",nextWeek:"dddd [g] LT",lastDay:"[assant g] LT",lastWeek:"dddd [g] LT",sameElse:"L"},relativeTime:{future:"dadkh s yan %s",past:"yan %s",s:"imik",m:"minuá¸",mm:"%d minuá¸",h:"saÉa",hh:"%d tassaÉin",d:"ass",dd:"%d ossan",M:"ayowr",MM:"%d iyyirn",y:"asgas",yy:"%d isgasn"},week:{dow:6,doy:12}}),uf.defineLocale("tzm",{months:"âµâµâµâ´°âµ¢âµ_â´±âµâ´°âµ¢âµ_âµâ´°âµâµ_âµâ´±âµâµâµ_âµâ´°âµ¢âµ¢âµ_âµ¢âµâµâµ¢âµ_âµ¢âµâµâµ¢âµâµ£_âµâµâµâµ_âµâµâµâ´°âµâ´±âµâµ_â´½âµâµâ´±âµ_âµâµâµ¡â´°âµâ´±âµâµ_â´·âµâµâµâ´±âµâµ".split("_"),monthsShort:"âµâµâµâ´°âµ¢âµ_â´±âµâ´°âµ¢âµ_âµâ´°âµâµ_âµâ´±âµâµâµ_âµâ´°âµ¢âµ¢âµ_âµ¢âµâµâµ¢âµ_âµ¢âµâµâµ¢âµâµ£_âµâµâµâµ_âµâµâµâ´°âµâ´±âµâµ_â´½âµâµâ´±âµ_âµâµâµ¡â´°âµâ´±âµâµ_â´·âµâµâµâ´±âµâµ".split("_"),weekdays:"â´°âµâ´°âµâ´°âµ_â´°âµ¢âµâ´°âµ_â´°âµâµâµâ´°âµ_â´°â´½âµâ´°âµ_â´°â´½âµ¡â´°âµ_â´°âµâµâµâµ¡â´°âµ_â´°âµâµâ´¹âµ¢â´°âµ".split("_"),weekdaysShort:"â´°âµâ´°âµâ´°âµ_â´°âµ¢âµâ´°âµ_â´°âµâµâµâ´°âµ_â´°â´½âµâ´°âµ_â´°â´½âµ¡â´°âµ_â´°âµâµâµâµ¡â´°âµ_â´°âµâµâ´¹âµ¢â´°âµ".split("_"),weekdaysMin:"â´°âµâ´°âµâ´°âµ_â´°âµ¢âµâ´°âµ_â´°âµâµâµâ´°âµ_â´°â´½âµâ´°âµ_â´°â´½âµ¡â´°âµ_â´°âµâµâµâµ¡â´°âµ_â´°âµâµâ´¹âµ¢â´°âµ".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[â´°âµâ´·âµ â´´] LT",nextDay:"[â´°âµâ´½â´° â´´] LT",nextWeek:"dddd [â´´] LT",lastDay:"[â´°âµâ´°âµâµ â´´] LT",lastWeek:"dddd [â´´] LT",sameElse:"L"},relativeTime:{future:"â´·â´°â´·âµ âµ âµ¢â´°âµ %s",past:"âµ¢â´°âµ %s",s:"âµâµâµâ´½",m:"âµâµâµâµâ´º",mm:"%d âµâµâµâµâ´º",h:"âµâ´°âµâ´°",hh:"%d âµâ´°âµâµâ´°âµâµâµ",d:"â´°âµâµ",dd:"%d oâµâµâ´°âµ",M:"â´°âµ¢oâµâµ",MM:"%d âµâµ¢âµ¢âµâµâµ",y:"â´°âµâ´³â´°âµ",yy:"%d âµâµâ´³â´°âµâµ"},week:{dow:6,doy:12}}),uf.defineLocale("uk",{months:Jd,monthsShort:"ÑÑÑ_Ð»ÑÑ_Ð±ÐµÑ_ÐºÐ²ÑÑ_ÑÑÐ°Ð²_ÑÐµÑÐ²_Ð»Ð¸Ð¿_ÑÐµÑÐ¿_Ð²ÐµÑ_Ð¶Ð¾Ð²Ñ_Ð»Ð¸ÑÑ_Ð³ÑÑÐ´".split("_"),weekdays:Kd,weekdaysShort:"Ð½Ð´_Ð¿Ð½_Ð²Ñ_ÑÑ_ÑÑ_Ð¿Ñ_ÑÐ±".split("_"),weekdaysMin:"Ð½Ð´_Ð¿Ð½_Ð²Ñ_ÑÑ_ÑÑ_Ð¿Ñ_ÑÐ±".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY Ñ.",LLL:"D MMMM YYYY Ñ., HH:mm",LLLL:"dddd, D MMMM YYYY Ñ., HH:mm"},calendar:{sameDay:Ld("[Ð¡ÑÐ¾Ð³Ð¾Ð´Ð½Ñ "),nextDay:Ld("[ÐÐ°Ð²ÑÑÐ° "),lastDay:Ld("[ÐÑÐ¾ÑÐ° "),nextWeek:Ld("[Ð£] dddd ["),lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return Ld("[ÐÐ¸Ð½ÑÐ»Ð¾Ñ] dddd [").call(this);case 1:case 2:case 4:return Ld("[ÐÐ¸Ð½ÑÐ»Ð¾Ð³Ð¾] dddd [").call(this)}},sameElse:"L"},relativeTime:{future:"Ð·Ð° %s",past:"%s ÑÐ¾Ð¼Ñ",s:"Ð´ÐµÐºÑÐ»ÑÐºÐ° ÑÐµÐºÑÐ½Ð´",m:Id,mm:Id,h:"Ð³Ð¾Ð´Ð¸Ð½Ñ",hh:Id,d:"Ð´ÐµÐ½Ñ",dd:Id,M:"Ð¼ÑÑÑÑÑ",MM:Id,y:"ÑÑÐº",yy:Id},meridiemParse:/Ð½Ð¾ÑÑ|ÑÐ°Ð½ÐºÑ|Ð´Ð½Ñ|Ð²ÐµÑÐ¾ÑÐ°/,isPM:function(a){return/^(Ð´Ð½Ñ|Ð²ÐµÑÐ¾ÑÐ°)$/.test(a)},meridiem:function(a,b,c){return 4>a?"Ð½Ð¾ÑÑ":12>a?"ÑÐ°Ð½ÐºÑ":17>a?"Ð´Ð½Ñ":"Ð²ÐµÑÐ¾ÑÐ°"},ordinalParse:/\d{1,2}-(Ð¹|Ð³Ð¾)/,ordinal:function(a,b){switch(b){case"M":case"d":case"DDD":case"w":case"W":return a+"-Ð¹";case"D":return a+"-Ð³Ð¾";default:return a}},week:{dow:1,doy:7}}),uf.defineLocale("uz",{months:"ÑÐ½Ð²Ð°ÑÑ_ÑÐµÐ²ÑÐ°Ð»Ñ_Ð¼Ð°ÑÑ_Ð°Ð¿ÑÐµÐ»Ñ_Ð¼Ð°Ð¹_Ð¸ÑÐ½Ñ_Ð¸ÑÐ»Ñ_Ð°Ð²Ð³ÑÑÑ_ÑÐµÐ½ÑÑÐ±ÑÑ_Ð¾ÐºÑÑÐ±ÑÑ_Ð½Ð¾ÑÐ±ÑÑ_Ð´ÐµÐºÐ°Ð±ÑÑ".split("_"),monthsShort:"ÑÐ½Ð²_ÑÐµÐ²_Ð¼Ð°Ñ_Ð°Ð¿Ñ_Ð¼Ð°Ð¹_Ð¸ÑÐ½_Ð¸ÑÐ»_Ð°Ð²Ð³_ÑÐµÐ½_Ð¾ÐºÑ_Ð½Ð¾Ñ_Ð´ÐµÐº".split("_"),weekdays:"Ð¯ÐºÑÐ°Ð½Ð±Ð°_ÐÑÑÐ°Ð½Ð±Ð°_Ð¡ÐµÑÐ°Ð½Ð±Ð°_Ð§Ð¾ÑÑÐ°Ð½Ð±Ð°_ÐÐ°Ð¹ÑÐ°Ð½Ð±Ð°_ÐÑÐ¼Ð°_Ð¨Ð°Ð½Ð±Ð°".split("_"),weekdaysShort:"Ð¯ÐºÑ_ÐÑÑ_Ð¡ÐµÑ_Ð§Ð¾Ñ_ÐÐ°Ð¹_ÐÑÐ¼_Ð¨Ð°Ð½".split("_"),weekdaysMin:"Ð¯Ðº_ÐÑ_Ð¡Ðµ_Ð§Ð¾_ÐÐ°_ÐÑ_Ð¨Ð°".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[ÐÑÐ³ÑÐ½ ÑÐ¾Ð°Ñ] LT [Ð´Ð°]",nextDay:"[Ð­ÑÑÐ°Ð³Ð°] LT [Ð´Ð°]",nextWeek:"dddd [ÐºÑÐ½Ð¸ ÑÐ¾Ð°Ñ] LT [Ð´Ð°]",lastDay:"[ÐÐµÑÐ° ÑÐ¾Ð°Ñ] LT [Ð´Ð°]",lastWeek:"[Ð£ÑÐ³Ð°Ð½] dddd [ÐºÑÐ½Ð¸ ÑÐ¾Ð°Ñ] LT [Ð´Ð°]",sameElse:"L"},relativeTime:{future:"Ð¯ÐºÐ¸Ð½ %s Ð¸ÑÐ¸Ð´Ð°",past:"ÐÐ¸Ñ Ð½ÐµÑÐ° %s Ð¾Ð»Ð´Ð¸Ð½",s:"ÑÑÑÑÐ°Ñ",m:"Ð±Ð¸Ñ Ð´Ð°ÐºÐ¸ÐºÐ°",mm:"%d Ð´Ð°ÐºÐ¸ÐºÐ°",h:"Ð±Ð¸Ñ ÑÐ¾Ð°Ñ",hh:"%d ÑÐ¾Ð°Ñ",d:"Ð±Ð¸Ñ ÐºÑÐ½",dd:"%d ÐºÑÐ½",M:"Ð±Ð¸Ñ Ð¾Ð¹",MM:"%d Ð¾Ð¹",y:"Ð±Ð¸Ñ Ð¹Ð¸Ð»",yy:"%d Ð¹Ð¸Ð»"},week:{dow:1,doy:7}}),uf.defineLocale("vi",{months:"thÃ¡ng 1_thÃ¡ng 2_thÃ¡ng 3_thÃ¡ng 4_thÃ¡ng 5_thÃ¡ng 6_thÃ¡ng 7_thÃ¡ng 8_thÃ¡ng 9_thÃ¡ng 10_thÃ¡ng 11_thÃ¡ng 12".split("_"),monthsShort:"Th01_Th02_Th03_Th04_Th05_Th06_Th07_Th08_Th09_Th10_Th11_Th12".split("_"),weekdays:"chá»§ nháº­t_thá»© hai_thá»© ba_thá»© tÆ°_thá»© nÄm_thá»© sÃ¡u_thá»© báº£y".split("_"),weekdaysShort:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysMin:"CN_T2_T3_T4_T5_T6_T7".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [nÄm] YYYY",LLL:"D MMMM [nÄm] YYYY HH:mm",LLLL:"dddd, D MMMM [nÄm] YYYY HH:mm",l:"DD/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[HÃ´m nay lÃºc] LT",nextDay:"[NgÃ y mai lÃºc] LT",nextWeek:"dddd [tuáº§n tá»i lÃºc] LT",lastDay:"[HÃ´m qua lÃºc] LT",lastWeek:"dddd [tuáº§n rá»i lÃºc] LT",sameElse:"L"},relativeTime:{future:"%s tá»i",past:"%s trÆ°á»c",s:"vÃ i giÃ¢y",m:"má»t phÃºt",mm:"%d phÃºt",h:"má»t giá»",hh:"%d giá»",d:"má»t ngÃ y",dd:"%d ngÃ y",M:"má»t thÃ¡ng",MM:"%d thÃ¡ng",y:"má»t nÄm",yy:"%d nÄm"},ordinalParse:/\d{1,2}/,ordinal:function(a){return a},week:{dow:1,doy:4}}),uf.defineLocale("zh-cn",{months:"ä¸æ_äºæ_ä¸æ_åæ_äºæ_å­æ_ä¸æ_å«æ_ä¹æ_åæ_åä¸æ_åäºæ".split("_"),monthsShort:"1æ_2æ_3æ_4æ_5æ_6æ_7æ_8æ_9æ_10æ_11æ_12æ".split("_"),weekdays:"æææ¥_ææä¸_ææäº_ææä¸_ææå_ææäº_ææå­".split("_"),weekdaysShort:"å¨æ¥_å¨ä¸_å¨äº_å¨ä¸_å¨å_å¨äº_å¨å­".split("_"),weekdaysMin:"æ¥_ä¸_äº_ä¸_å_äº_å­".split("_"),longDateFormat:{LT:"Ahç¹mmå",LTS:"Ahç¹måsç§",L:"YYYY-MM-DD",LL:"YYYYå¹´MMMDæ¥",LLL:"YYYYå¹´MMMDæ¥Ahç¹mmå",LLLL:"YYYYå¹´MMMDæ¥ddddAhç¹mmå",l:"YYYY-MM-DD",ll:"YYYYå¹´MMMDæ¥",lll:"YYYYå¹´MMMDæ¥Ahç¹mmå",llll:"YYYYå¹´MMMDæ¥ddddAhç¹mmå"},meridiemParse:/åæ¨|æ©ä¸|ä¸å|ä¸­å|ä¸å|æä¸/,meridiemHour:function(a,b){return 12===a&&(a=0),"åæ¨"===b||"æ©ä¸"===b||"ä¸å"===b?a:"ä¸å"===b||"æä¸"===b?a+12:a>=11?a:a+12},meridiem:function(a,b,c){var d=100*a+b;return 600>d?"åæ¨":900>d?"æ©ä¸":1130>d?"ä¸å":1230>d?"ä¸­å":1800>d?"ä¸å":"æä¸"},calendar:{sameDay:function(){return 0===this.minutes()?"[ä»å¤©]Ah[ç¹æ´]":"[ä»å¤©]LT"},nextDay:function(){return 0===this.minutes()?"[æå¤©]Ah[ç¹æ´]":"[æå¤©]LT"},lastDay:function(){return 0===this.minutes()?"[æ¨å¤©]Ah[ç¹æ´]":"[æ¨å¤©]LT"},nextWeek:function(){var a,b;return a=uf().startOf("week"),b=this.unix()-a.unix()>=604800?"[ä¸]":"[æ¬]",0===this.minutes()?b+"dddAhç¹æ´":b+"dddAhç¹mm"},lastWeek:function(){var a,b;return a=uf().startOf("week"),b=this.unix()<a.unix()?"[ä¸]":"[æ¬]",0===this.minutes()?b+"dddAhç¹æ´":b+"dddAhç¹mm"},sameElse:"LL"},ordinalParse:/\d{1,2}(æ¥|æ|å¨)/,ordinal:function(a,b){switch(b){case"d":case"D":case"DDD":return a+"æ¥";case"M":return a+"æ";case"w":case"W":return a+"å¨";default:return a}},relativeTime:{future:"%så",past:"%så",s:"å ç§",m:"1 åé",mm:"%d åé",h:"1 å°æ¶",hh:"%d å°æ¶",d:"1 å¤©",dd:"%d å¤©",M:"1 ä¸ªæ",MM:"%d ä¸ªæ",y:"1 å¹´",yy:"%d å¹´"},week:{dow:1,doy:4}}),uf.defineLocale("zh-tw",{months:"ä¸æ_äºæ_ä¸æ_åæ_äºæ_å­æ_ä¸æ_å«æ_ä¹æ_åæ_åä¸æ_åäºæ".split("_"),monthsShort:"1æ_2æ_3æ_4æ_5æ_6æ_7æ_8æ_9æ_10æ_11æ_12æ".split("_"),weekdays:"æææ¥_ææä¸_ææäº_ææä¸_ææå_ææäº_ææå­".split("_"),weekdaysShort:"é±æ¥_é±ä¸_é±äº_é±ä¸_é±å_é±äº_é±å­".split("_"),weekdaysMin:"æ¥_ä¸_äº_ä¸_å_äº_å­".split("_"),longDateFormat:{LT:"Ahé»mmå",LTS:"Ahé»måsç§",L:"YYYYå¹´MMMDæ¥",LL:"YYYYå¹´MMMDæ¥",LLL:"YYYYå¹´MMMDæ¥Ahé»mmå",LLLL:"YYYYå¹´MMMDæ¥ddddAhé»mmå",l:"YYYYå¹´MMMDæ¥",ll:"YYYYå¹´MMMDæ¥",lll:"YYYYå¹´MMMDæ¥Ahé»mmå",llll:"YYYYå¹´MMMDæ¥ddddAhé»mmå"},meridiemParse:/æ©ä¸|ä¸å|ä¸­å|ä¸å|æä¸/,meridiemHour:function(a,b){return 12===a&&(a=0),"æ©ä¸"===b||"ä¸å"===b?a:"ä¸­å"===b?a>=11?a:a+12:"ä¸å"===b||"æä¸"===b?a+12:void 0},meridiem:function(a,b,c){var d=100*a+b;return 900>d?"æ©ä¸":1130>d?"ä¸å":1230>d?"ä¸­å":1800>d?"ä¸å":"æä¸"},calendar:{sameDay:"[ä»å¤©]LT",nextDay:"[æå¤©]LT",nextWeek:"[ä¸]ddddLT",lastDay:"[æ¨å¤©]LT",lastWeek:"[ä¸]ddddLT",sameElse:"L"},ordinalParse:/\d{1,2}(æ¥|æ|é±)/,ordinal:function(a,b){switch(b){case"d":case"D":case"DDD":return a+"æ¥";case"M":return a+"æ";case"w":case"W":return a+"é±";default:return a}},relativeTime:{future:"%så§",past:"%så",s:"å¹¾ç§",m:"ä¸åé",mm:"%dåé",h:"ä¸å°æ",hh:"%då°æ",d:"ä¸å¤©",dd:"%då¤©",M:"ä¸åæ",MM:"%dåæ",y:"ä¸å¹´",yy:"%då¹´"}}),uf);return mg.locale("en"),mg}),function(a){"function"==typeof define&&define.amd?define(["jquery"],function(b){return a(b)}):"object"==typeof module&&"object"==typeof module.exports?module.exports=a(require("jquery")):a(window.jQuery)}(function(a){"use strict";function b(a){void 0===a&&(a=window.navigator.userAgent),a=a.toLowerCase();var b=/(edge)\/([\w.]+)/.exec(a)||/(opr)[\/]([\w.]+)/.exec(a)||/(chrome)[ \/]([\w.]+)/.exec(a)||/(version)(applewebkit)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(a)||/(webkit)[ \/]([\w.]+).*(version)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(a)||/(webkit)[ \/]([\w.]+)/.exec(a)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(a)||/(msie) ([\w.]+)/.exec(a)||a.indexOf("trident")>=0&&/(rv)(?::| )([\w.]+)/.exec(a)||a.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(a)||[],c=/(ipad)/.exec(a)||/(ipod)/.exec(a)||/(iphone)/.exec(a)||/(kindle)/.exec(a)||/(silk)/.exec(a)||/(android)/.exec(a)||/(windows phone)/.exec(a)||/(win)/.exec(a)||/(mac)/.exec(a)||/(linux)/.exec(a)||/(cros)/.exec(a)||/(playbook)/.exec(a)||/(bb)/.exec(a)||/(blackberry)/.exec(a)||[],d={},e={browser:b[5]||b[3]||b[1]||"",version:b[2]||b[4]||"0",versionNumber:b[4]||b[2]||"0",platform:c[0]||""};if(e.browser&&(d[e.browser]=!0,d.version=e.version,d.versionNumber=parseInt(e.versionNumber,10)),e.platform&&(d[e.platform]=!0),(d.android||d.bb||d.blackberry||d.ipad||d.iphone||d.ipod||d.kindle||d.playbook||d.silk||d["windows phone"])&&(d.mobile=!0),(d.cros||d.mac||d.linux||d.win)&&(d.desktop=!0),(d.chrome||d.opr||d.safari)&&(d.webkit=!0),d.rv||d.edge){var f="msie";e.browser=f,d[f]=!0}if(d.safari&&d.blackberry){var g="blackberry";e.browser=g,d[g]=!0}if(d.safari&&d.playbook){var h="playbook";e.browser=h,d[h]=!0}if(d.bb){var i="blackberry";e.browser=i,d[i]=!0}if(d.opr){var j="opera";e.browser=j,d[j]=!0}if(d.safari&&d.android){var k="android";e.browser=k,d[k]=!0}if(d.safari&&d.kindle){var l="kindle";e.browser=l,d[l]=!0}if(d.safari&&d.silk){var m="silk";e.browser=m,d[m]=!0}return d.name=e.browser,d.platform=e.platform,d}return window.jQBrowser=b(window.navigator.userAgent),window.jQBrowser.uaMatch=b,a&&(a.browser=window.jQBrowser),window.jQBrowser}),function(a,b){"function"==typeof define&&define.amd?define(["jquery"],function(c){b(c,a)}):b(jQuery,a)}(this,function(a,b){var c=function(){"use strict";return{isMsie:function(){return/(msie|trident)/i.test(navigator.userAgent)?navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]:!1},isBlankString:function(a){return!a||/^\s*$/.test(a)},escapeRegExChars:function(a){return a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(a){return"string"==typeof a},isNumber:function(a){return"number"==typeof a},isArray:a.isArray,isFunction:a.isFunction,isObject:a.isPlainObject,isUndefined:function(a){return"undefined"==typeof a},toStr:function(a){return c.isUndefined(a)||null===a?"":a+""},bind:a.proxy,each:function(b,c){function d(a,b){return c(b,a)}a.each(b,d)},map:a.map,filter:a.grep,every:function(b,c){var d=!0;return b?(a.each(b,function(a,e){return(d=c.call(null,e,a,b))?void 0:!1}),!!d):d},some:function(b,c){var d=!1;return b?(a.each(b,function(a,e){return(d=c.call(null,e,a,b))?!1:void 0}),!!d):d},mixin:a.extend,getUniqueId:function(){var a=0;return function(){return a++}}(),templatify:function(b){function c(){return String(b)}return a.isFunction(b)?b:c},defer:function(a){setTimeout(a,0)},debounce:function(a,b,c){var d,e;return function(){var f,g,h=this,i=arguments;return f=function(){d=null,c||(e=a.apply(h,i))},g=c&&!d,clearTimeout(d),d=setTimeout(f,b),g&&(e=a.apply(h,i)),e}},throttle:function(a,b){var c,d,e,f,g,h;return g=0,h=function(){g=new Date,e=null,f=a.apply(c,d)},function(){var i=new Date,j=b-(i-g);return c=this,d=arguments,0>=j?(clearTimeout(e),e=null,g=i,f=a.apply(c,d)):e||(e=setTimeout(h,j)),f}},noop:function(){}}}(),d=function(){return{wrapper:'<span class="twitter-typeahead"></span>',dropdown:'<span class="tt-dropdown-menu"></span>',dataset:'<div class="tt-dataset-%CLASS%"></div>',suggestions:'<span class="tt-suggestions"></span>',suggestion:'<div class="tt-suggestion"></div>'}}(),e=function(){"use strict";var a={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none",opacity:"1"},input:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},inputWithNoHint:{position:"relative",verticalAlign:"top"},dropdown:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"},suggestions:{display:"block"},suggestion:{whiteSpace:"nowrap",cursor:"pointer"},suggestionChild:{whiteSpace:"normal"},ltr:{left:"0",right:"auto"},rtl:{left:"auto",right:" 0"}};return c.isMsie()&&c.mixin(a.input,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"}),c.isMsie()&&c.isMsie()<=7&&c.mixin(a.input,{marginTop:"-1px"}),a}(),f=function(){"use strict";function b(b){b&&b.el||a.error("EventBus initialized without el"),this.$el=a(b.el)}var d="typeahead:";return c.mixin(b.prototype,{trigger:function(a){var b=[].slice.call(arguments,1);this.$el.trigger(d+a,b)}}),b}(),g=function(){"use strict";function a(a,b,c,d){var e;if(!c)return this;for(b=b.split(j),c=d?i(c,d):c,this._callbacks=this._callbacks||{};e=b.shift();)this._callbacks[e]=this._callbacks[e]||{sync:[],async:[]},this._callbacks[e][a].push(c);return this}function c(b,c,d){return a.call(this,"async",b,c,d)}function d(b,c,d){return a.call(this,"sync",b,c,d)}function e(a){var b;if(!this._callbacks)return this;for(a=a.split(j);b=a.shift();)delete this._callbacks[b];return this}function f(a){var b,c,d,e,f;if(!this._callbacks)return this;for(a=a.split(j),d=[].slice.call(arguments,1);(b=a.shift())&&(c=this._callbacks[b]);)e=g(c.sync,this,[b].concat(d)),f=g(c.async,this,[b].concat(d)),e()&&k(f);return this}function g(a,b,c){function d(){for(var d,e=0,f=a.length;!d&&f>e;e+=1)d=a[e].apply(b,c)===!1;return!d}return d}function h(){var a;return a=b.setImmediate?function(a){setImmediate(function(){a()})}:function(a){setTimeout(function(){a()},0)}}function i(a,b){return a.bind?a.bind(b):function(){a.apply(b,[].slice.call(arguments,0))}}var j=/\s+/,k=h();return{onSync:d,onAsync:c,off:e,trigger:f}}(),h=function(a){"use strict";function b(a,b,d){for(var e,f=[],g=0,h=a.length;h>g;g++)f.push(c.escapeRegExChars(a[g]));return e=d?"\\b("+f.join("|")+")\\b":"("+f.join("|")+")",b?new RegExp(e):new RegExp(e,"i")}var d={node:null,pattern:null,tagName:"strong",className:null,wordsOnly:!1,caseSensitive:!1};return function(e){function f(b){var c,d,f;return(c=h.exec(b.data))&&(f=a.createElement(e.tagName),e.className&&(f.className=e.className),d=b.splitText(c.index),d.splitText(c[0].length),f.appendChild(d.cloneNode(!0)),b.parentNode.replaceChild(f,d)),!!c}function g(a,b){for(var c,d=3,e=0;e<a.childNodes.length;e++)c=a.childNodes[e],c.nodeType===d?e+=b(c)?1:0:g(c,b)}var h;e=c.mixin({},d,e),e.node&&e.pattern&&(e.pattern=c.isArray(e.pattern)?e.pattern:[e.pattern],h=b(e.pattern,e.caseSensitive,e.wordsOnly),g(e.node,f))}}(b.document),i=function(){"use strict";function b(b){var e,f,g,i,j=this;b=b||{},b.input||a.error("input is missing"),e=c.bind(this._onBlur,this),f=c.bind(this._onFocus,this),g=c.bind(this._onKeydown,this),i=c.bind(this._onInput,this),this.$hint=a(b.hint),this.$input=a(b.input).on("blur.tt",e).on("focus.tt",f).on("keydown.tt",g),0===this.$hint.length&&(this.setHint=this.getHint=this.clearHint=this.clearHintIfInvalid=c.noop),c.isMsie()?this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function(a){h[a.which||a.keyCode]||c.defer(c.bind(j._onInput,j,a))}):this.$input.on("input.tt",i),this.query=this.$input.val(),this.$overflowHelper=d(this.$input)}function d(b){return a('<pre aria-hidden="true"></pre>').css({position:"absolute",visibility:"hidden",whiteSpace:"pre",fontFamily:b.css("font-family"),fontSize:b.css("font-size"),fontStyle:b.css("font-style"),fontVariant:b.css("font-variant"),fontWeight:b.css("font-weight"),wordSpacing:b.css("word-spacing"),letterSpacing:b.css("letter-spacing"),textIndent:b.css("text-indent"),textRendering:b.css("text-rendering"),textTransform:b.css("text-transform")}).insertAfter(b)}function e(a,c){return b.normalizeQuery(a)===b.normalizeQuery(c)}function f(a){return a.altKey||a.ctrlKey||a.metaKey||a.shiftKey}var h;return h={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"},b.normalizeQuery=function(a){return(a||"").replace(/^\s*/g,"").replace(/\s{2,}/g," ")},c.mixin(b.prototype,g,{_onBlur:function(){this.resetInputValue(),this.trigger("blurred")},_onFocus:function(){this.trigger("focused")},_onKeydown:function(a){var b=h[a.which||a.keyCode];this._managePreventDefault(b,a),b&&this._shouldTrigger(b,a)&&this.trigger(b+"Keyed",a)},_onInput:function(){this._checkInputValue()},_managePreventDefault:function(a,b){var c,d,e;switch(a){case"tab":d=this.getHint(),e=this.getInputValue(),c=d&&d!==e&&!f(b);break;case"up":case"down":c=!f(b);break;default:c=!1}c&&b.preventDefault()},_shouldTrigger:function(a,b){var c;switch(a){case"tab":c=!f(b);break;default:c=!0}return c},_checkInputValue:function(){var a,b,c;a=this.getInputValue(),b=e(a,this.query),c=b?this.query.length!==a.length:!1,this.query=a,b?c&&this.trigger("whitespaceChanged",this.query):this.trigger("queryChanged",this.query)},focus:function(){this.$input.focus()},blur:function(){this.$input.blur()},getQuery:function(){return this.query},setQuery:function(a){this.query=a},getInputValue:function(){return this.$input.val()},setInputValue:function(a,b){this.$input.val(a),b?this.clearHint():this._checkInputValue()},resetInputValue:function(){this.setInputValue(this.query,!0)},getHint:function(){return this.$hint.val()},setHint:function(a){this.$hint.val(a)},clearHint:function(){this.setHint("")},clearHintIfInvalid:function(){var a,b,c,d;a=this.getInputValue(),b=this.getHint(),c=a!==b&&0===b.indexOf(a),d=""!==a&&c&&!this.hasOverflow(),!d&&this.clearHint()},getLanguageDirection:function(){return(this.$input.css("direction")||"ltr").toLowerCase()},hasOverflow:function(){var a=this.$input.width()-2;return this.$overflowHelper.text(this.getInputValue()),this.$overflowHelper.width()>=a},isCursorAtEnd:function(){var a,b,d;return a=this.$input.val().length,b=this.$input[0].selectionStart,c.isNumber(b)?b===a:document.selection?(d=document.selection.createRange(),d.moveStart("character",-a),a===d.text.length):!0},destroy:function(){this.$hint.off(".tt"),this.$input.off(".tt"),this.$hint=this.$input=this.$overflowHelper=null}}),b}(),j=function(){"use strict";function b(b){b=b||{},b.templates=b.templates||{},b.source||a.error("missing source"),b.name&&!j(b.name)&&a.error("invalid dataset name: "+b.name),this.query=null,this.highlight=!!b.highlight,this.name=b.name||c.getUniqueId(),this.source=b.source,this.displayFn=f(b.display||b.displayKey),this.templates=i(b.templates,this.displayFn),this.$el=a(d.dataset.replace("%CLASS%",this.name))}function f(a){function b(b){return b[a]}return a=a||"value",c.isFunction(a)?a:b}function i(a,b){function d(a){return"<p>"+b(a)+"</p>"}return{empty:a.empty&&c.templatify(a.empty),header:a.header&&c.templatify(a.header),footer:a.footer&&c.templatify(a.footer),suggestion:a.suggestion||d}}function j(a){return/^[_a-zA-Z0-9-]+$/.test(a)}var k="ttDataset",l="ttValue",m="ttDatum";return b.extractDatasetName=function(b){return a(b).data(k)},b.extractValue=function(b){return a(b).data(l)},b.extractDatum=function(b){return a(b).data(m)},c.mixin(b.prototype,g,{_render:function(b,f){function g(){return p.templates.empty({query:b,isEmpty:!0})}function i(){function g(b){var c;return c=a(d.suggestion).append(p.templates.suggestion(b)).data(k,p.name).data(l,p.displayFn(b)).data(m,b),c.children().each(function(){a(this).css(e.suggestionChild)}),c}var i,j;return i=a(d.suggestions).css(e.suggestions),j=c.map(f,g),i.append.apply(i,j),p.highlight&&h({className:"tt-highlight",node:i[0],pattern:b}),i}function j(){return p.templates.header({query:b,isEmpty:!o})}function n(){return p.templates.footer({query:b,isEmpty:!o})}if(this.$el){var o,p=this;this.$el.empty(),o=f&&f.length,!o&&this.templates.empty?this.$el.html(g()).prepend(p.templates.header?j():null).append(p.templates.footer?n():null):o&&this.$el.html(i()).prepend(p.templates.header?j():null).append(p.templates.footer?n():null),this.trigger("rendered")}},getRoot:function(){return this.$el},update:function(a){function b(b){c.canceled||a!==c.query||c._render(a,b)}var c=this;this.query=a,this.canceled=!1,this.source(a,b)},cancel:function(){this.canceled=!0},clear:function(){this.cancel(),this.$el.empty(),this.trigger("rendered")},isEmpty:function(){return this.$el.is(":empty")},destroy:function(){this.$el=null}}),b}(),k=function(){"use strict";function b(b){var e,f,g,h=this;b=b||{},b.menu||a.error("menu is required"),this.isOpen=!1,this.isEmpty=!0,this.datasets=c.map(b.datasets,d),e=c.bind(this._onSuggestionClick,this),f=c.bind(this._onSuggestionMouseEnter,this),g=c.bind(this._onSuggestionMouseLeave,this),this.$menu=a(b.menu).on("click.tt",".tt-suggestion",e).on("mouseenter.tt",".tt-suggestion",f).on("mouseleave.tt",".tt-suggestion",g),c.each(this.datasets,function(a){h.$menu.append(a.getRoot()),a.onSync("rendered",h._onRendered,h)})}function d(a){return new j(a)}return c.mixin(b.prototype,g,{_onSuggestionClick:function(b){this.trigger("suggestionClicked",a(b.currentTarget))},_onSuggestionMouseEnter:function(b){this._removeCursor(),this._setCursor(a(b.currentTarget),!0)},_onSuggestionMouseLeave:function(){this._removeCursor()},_onRendered:function(){function a(a){return a.isEmpty()}this.isEmpty=c.every(this.datasets,a),this.isEmpty?this._hide():this.isOpen&&this._show(),this.trigger("datasetRendered")},_hide:function(){this.$menu.hide()},_show:function(){this.$menu.css("display","block")},_getSuggestions:function(){return this.$menu.find(".tt-suggestion")},_getCursor:function(){return this.$menu.find(".tt-cursor").first()},_setCursor:function(a,b){a.first().addClass("tt-cursor"),!b&&this.trigger("cursorMoved")},_removeCursor:function(){this._getCursor().removeClass("tt-cursor")},_moveCursor:function(a){var b,c,d,e;if(this.isOpen){if(c=this._getCursor(),b=this._getSuggestions(),this._removeCursor(),d=b.index(c)+a,d=(d+1)%(b.length+1)-1,-1===d)return void this.trigger("cursorRemoved");-1>d&&(d=b.length-1),this._setCursor(e=b.eq(d)),this._ensureVisible(e)}},_ensureVisible:function(a){var b,c,d,e;b=a.position().top,c=b+a.outerHeight(!0),d=this.$menu.scrollTop(),e=this.$menu.height()+parseInt(this.$menu.css("paddingTop"),10)+parseInt(this.$menu.css("paddingBottom"),10),0>b?this.$menu.scrollTop(d+b):c>e&&this.$menu.scrollTop(d+(c-e))},close:function(){this.isOpen&&(this.isOpen=!1,this._removeCursor(),this._hide(),this.trigger("closed"))},open:function(){this.isOpen||(this.isOpen=!0,!this.isEmpty&&this._show(),this.trigger("opened"))},setLanguageDirection:function(a){this.$menu.css("ltr"===a?e.ltr:e.rtl)},moveCursorUp:function(){this._moveCursor(-1)},moveCursorDown:function(){this._moveCursor(1)},getDatumForSuggestion:function(a){var b=null;return a.length&&(b={raw:j.extractDatum(a),value:j.extractValue(a),datasetName:j.extractDatasetName(a)}),b},getDatumForCursor:function(){return this.getDatumForSuggestion(this._getCursor().first())},getDatumForTopSuggestion:function(){return this.getDatumForSuggestion(this._getSuggestions().first())},update:function(a){function b(b){b.update(a)}c.each(this.datasets,b)},empty:function(){function a(a){a.clear()}c.each(this.datasets,a),this.isEmpty=!0},isVisible:function(){return this.isOpen&&!this.isEmpty},destroy:function(){function a(a){a.destroy()}this.$menu.off(".tt"),this.$menu=null,c.each(this.datasets,a)}}),b}(),l=function(){"use strict";function b(b){var d,e,h;b=b||{},b.input||a.error("missing input"),this.isActivated=!1,this.autoselect=!!b.autoselect,this.minLength=c.isNumber(b.minLength)?b.minLength:1,this.$node=g(b.input,b.withHint),d=this.$node.find(".tt-dropdown-menu"),e=this.$node.find(".tt-input"),h=this.$node.find(".tt-hint"),e.on("blur.tt",function(a){var b,f,g;b=document.activeElement,f=d.is(b),g=d.has(b).length>0,c.isMsie()&&(f||g)&&(a.preventDefault(),a.stopImmediatePropagation(),c.defer(function(){e.focus()}))}),d.on("mousedown.tt",function(a){a.preventDefault()}),this.eventBus=b.eventBus||new f({el:e}),this.dropdown=new k({menu:d,datasets:b.datasets}).onSync("suggestionClicked",this._onSuggestionClicked,this).onSync("cursorMoved",this._onCursorMoved,this).onSync("cursorRemoved",this._onCursorRemoved,this).onSync("opened",this._onOpened,this).onSync("closed",this._onClosed,this).onAsync("datasetRendered",this._onDatasetRendered,this),this.input=new i({input:e,hint:h}).onSync("focused",this._onFocused,this).onSync("blurred",this._onBlurred,this).onSync("enterKeyed",this._onEnterKeyed,this).onSync("tabKeyed",this._onTabKeyed,this).onSync("escKeyed",this._onEscKeyed,this).onSync("upKeyed",this._onUpKeyed,this).onSync("downKeyed",this._onDownKeyed,this).onSync("leftKeyed",this._onLeftKeyed,this).onSync("rightKeyed",this._onRightKeyed,this).onSync("queryChanged",this._onQueryChanged,this).onSync("whitespaceChanged",this._onWhitespaceChanged,this),this._setLanguageDirection()}function g(b,c){var f,g,i,j;f=a(b),g=a(d.wrapper).css(e.wrapper),i=a(d.dropdown).css(e.dropdown),j=f.clone().css(e.hint).css(h(f)),j.val("").removeData().addClass("tt-hint").removeAttr("id name placeholder required").prop("readonly",!0).attr({autocomplete:"off",
spellcheck:"false",tabindex:-1}),f.data(l,{dir:f.attr("dir"),autocomplete:f.attr("autocomplete"),spellcheck:f.attr("spellcheck"),style:f.attr("style")}),f.addClass("tt-input").attr({autocomplete:"off",spellcheck:!1}).css(c?e.input:e.inputWithNoHint);try{!f.attr("dir")&&f.attr("dir","auto")}catch(k){}return f.wrap(g).parent().prepend(c?j:null).append(i)}function h(a){return{backgroundAttachment:a.css("background-attachment"),backgroundClip:a.css("background-clip"),backgroundColor:a.css("background-color"),backgroundImage:a.css("background-image"),backgroundOrigin:a.css("background-origin"),backgroundPosition:a.css("background-position"),backgroundRepeat:a.css("background-repeat"),backgroundSize:a.css("background-size")}}function j(a){var b=a.find(".tt-input");c.each(b.data(l),function(a,d){c.isUndefined(a)?b.removeAttr(d):b.attr(d,a)}),b.detach().removeData(l).removeClass("tt-input").insertAfter(a),a.remove()}var l="ttAttrs";return c.mixin(b.prototype,{_onSuggestionClicked:function(a,b){var c;(c=this.dropdown.getDatumForSuggestion(b))&&this._select(c)},_onCursorMoved:function(){var a=this.dropdown.getDatumForCursor();this.input.setInputValue(a.value,!0),this.eventBus.trigger("cursorchanged",a.raw,a.datasetName)},_onCursorRemoved:function(){this.input.resetInputValue(),this._updateHint()},_onDatasetRendered:function(){this._updateHint()},_onOpened:function(){this._updateHint(),this.eventBus.trigger("opened")},_onClosed:function(){this.input.clearHint(),this.eventBus.trigger("closed")},_onFocused:function(){this.isActivated=!0,this.dropdown.open()},_onBlurred:function(){this.isActivated=!1,this.dropdown.empty(),this.dropdown.close()},_onEnterKeyed:function(a,b){var c,d;c=this.dropdown.getDatumForCursor(),d=this.dropdown.getDatumForTopSuggestion(),c?(this._select(c),b.preventDefault()):this.autoselect&&d&&(this._select(d),b.preventDefault())},_onTabKeyed:function(a,b){var c;(c=this.dropdown.getDatumForCursor())?(this._select(c),b.preventDefault()):this._autocomplete(!0)},_onEscKeyed:function(){this.dropdown.close(),this.input.resetInputValue()},_onUpKeyed:function(){var a=this.input.getQuery();this.dropdown.isEmpty&&a.length>=this.minLength?this.dropdown.update(a):this.dropdown.moveCursorUp(),this.dropdown.open()},_onDownKeyed:function(){var a=this.input.getQuery();this.dropdown.isEmpty&&a.length>=this.minLength?this.dropdown.update(a):this.dropdown.moveCursorDown(),this.dropdown.open()},_onLeftKeyed:function(){"rtl"===this.dir&&this._autocomplete()},_onRightKeyed:function(){"ltr"===this.dir&&this._autocomplete()},_onQueryChanged:function(a,b){this.input.clearHintIfInvalid(),b.length>=this.minLength?this.dropdown.update(b):this.dropdown.empty(),this.dropdown.open(),this._setLanguageDirection()},_onWhitespaceChanged:function(){this._updateHint(),this.dropdown.open()},_setLanguageDirection:function(){var a;this.dir!==(a=this.input.getLanguageDirection())&&(this.dir=a,this.$node.css("direction",a),this.dropdown.setLanguageDirection(a))},_updateHint:function(){var a,b,d,e,f,g;a=this.dropdown.getDatumForTopSuggestion(),a&&this.dropdown.isVisible()&&!this.input.hasOverflow()?(b=this.input.getInputValue(),d=i.normalizeQuery(b),e=c.escapeRegExChars(d),f=new RegExp("^(?:"+e+")(.+$)","i"),g=f.exec(a.value),g?this.input.setHint(b+g[1]):this.input.clearHint()):this.input.clearHint()},_autocomplete:function(a){var b,c,d,e;b=this.input.getHint(),c=this.input.getQuery(),d=a||this.input.isCursorAtEnd(),b&&c!==b&&d&&(e=this.dropdown.getDatumForTopSuggestion(),e&&this.input.setInputValue(e.value),this.eventBus.trigger("autocompleted",e.raw,e.datasetName))},_select:function(a){this.input.setQuery(a.value),this.input.setInputValue(a.value,!0),this._setLanguageDirection(),this.eventBus.trigger("selected",a.raw,a.datasetName),this.dropdown.close(),c.defer(c.bind(this.dropdown.empty,this.dropdown))},open:function(){this.dropdown.open()},close:function(){this.dropdown.close()},setVal:function(a){a=c.toStr(a),this.isActivated?this.input.setInputValue(a):(this.input.setQuery(a),this.input.setInputValue(a,!0)),this._setLanguageDirection()},getVal:function(){return this.input.getQuery()},destroy:function(){this.input.destroy(),this.dropdown.destroy(),j(this.$node),this.$node=null}}),b}();return function(){"use strict";var b,d,e;b=a.fn.typeahead,d="ttTypeahead",e={initialize:function(b,e){function g(){var g,h,i=a(this);c.each(e,function(a){a.highlight=!!b.highlight}),h=new l({input:i,eventBus:g=new f({el:i}),withHint:c.isUndefined(b.hint)?!0:!!b.hint,minLength:b.minLength,autoselect:b.autoselect,datasets:e}),i.data(d,h)}return e=c.isArray(e)?e:[].slice.call(arguments,1),b=b||{},this.each(g)},open:function(){function b(){var b,c=a(this);(b=c.data(d))&&b.open()}return this.each(b)},close:function(){function b(){var b,c=a(this);(b=c.data(d))&&b.close()}return this.each(b)},val:function(b){function c(){var c,e=a(this);(c=e.data(d))&&c.setVal(b)}function e(a){var b,c;return(b=a.data(d))&&(c=b.getVal()),c}return arguments.length?this.each(c):e(this.first())},destroy:function(){function b(){var b,c=a(this);(b=c.data(d))&&(b.destroy(),c.removeData(d))}return this.each(b)}},a.fn.typeahead=function(b){var c;return e[b]&&"initialize"!==b?(c=this.filter(function(){return!!a(this).data(d)}),e[b].apply(c,[].slice.call(arguments,1))):e.initialize.apply(this,arguments)},a.fn.typeahead.noConflict=function(){return a.fn.typeahead=b,this}}(),{}}),function(a,b){function c(a){return l.PF.compile(a||"nplurals=2; plural=(n != 1);")}function d(a,b){this._key=a,this._i18n=b}var e=Array.prototype,f=Object.prototype,g=e.slice,h=f.hasOwnProperty,i=e.forEach,j={},k={forEach:function(a,b,c){var d,e,f;if(null!==a)if(i&&a.forEach===i)a.forEach(b,c);else if(a.length===+a.length){for(d=0,e=a.length;e>d;d++)if(d in a&&b.call(c,a[d],d,a)===j)return}else for(f in a)if(h.call(a,f)&&b.call(c,a[f],f,a)===j)return},extend:function(a){return this.forEach(g.call(arguments,1),function(b){for(var c in b)a[c]=b[c]}),a}},l=function(a){if(this.defaults={locale_data:{messages:{"":{domain:"messages",lang:"en",plural_forms:"nplurals=2; plural=(n != 1);"}}},domain:"messages"},this.options=k.extend({},this.defaults,a),this.textdomain(this.options.domain),a.domain&&!this.options.locale_data[this.options.domain])throw new Error("Text domain set to non-existent domain: `"+a.domain+"`")};l.context_delimiter=String.fromCharCode(4),k.extend(d.prototype,{onDomain:function(a){return this._domain=a,this},withContext:function(a){return this._context=a,this},ifPlural:function(a,b){return this._val=a,this._pkey=b,this},fetch:function(a){return"[object Array]"!={}.toString.call(a)&&(a=[].slice.call(arguments)),(a&&a.length?l.sprintf:function(a){return a})(this._i18n.dcnpgettext(this._domain,this._context,this._key,this._pkey,this._val),a)}}),k.extend(l.prototype,{translate:function(a){return new d(a,this)},textdomain:function(a){return a?void(this._textdomain=a):this._textdomain},gettext:function(a){return this.dcnpgettext.call(this,b,b,a)},dgettext:function(a,c){return this.dcnpgettext.call(this,a,b,c)},dcgettext:function(a,c){return this.dcnpgettext.call(this,a,b,c)},ngettext:function(a,c,d){return this.dcnpgettext.call(this,b,b,a,c,d)},dngettext:function(a,c,d,e){return this.dcnpgettext.call(this,a,b,c,d,e)},dcngettext:function(a,c,d,e){return this.dcnpgettext.call(this,a,b,c,d,e)},pgettext:function(a,c){return this.dcnpgettext.call(this,b,a,c)},dpgettext:function(a,b,c){return this.dcnpgettext.call(this,a,b,c)},dcpgettext:function(a,b,c){return this.dcnpgettext.call(this,a,b,c)},npgettext:function(a,c,d,e){return this.dcnpgettext.call(this,b,a,c,d,e)},dnpgettext:function(a,b,c,d,e){return this.dcnpgettext.call(this,a,b,c,d,e)},dcnpgettext:function(a,b,d,e,f){e=e||d,a=a||this._textdomain,f="undefined"==typeof f?1:f;var g;if(!this.options)return g=new l,g.dcnpgettext.call(g,void 0,void 0,d,e,f);if(!this.options.locale_data)throw new Error("No locale data provided.");if(!this.options.locale_data[a])throw new Error("Domain `"+a+"` was not found.");if(!this.options.locale_data[a][""])throw new Error("No locale meta information provided.");if(!d)throw new Error("No translation key found.");if("number"!=typeof f&&(f=parseInt(f,10),isNaN(f)))throw new Error("The number that was passed in is not a number.");var h,i,j=b?b+l.context_delimiter+d:d,k=this.options.locale_data,m=k[a],n=m[""].plural_forms||(k.messages||this.defaults.locale_data.messages)[""].plural_forms,o=c(n)(f)+1;if(!m)throw new Error("No domain named `"+a+"` could be found.");return h=m[j],!h||o>=h.length?(this.options.missing_key_callback&&this.options.missing_key_callback(j),i=[null,d,e],i[c(n)(f)+1]):(i=h[o],i?i:(i=[null,d,e],i[c(n)(f)+1]))}});var m=function(){function a(a){return Object.prototype.toString.call(a).slice(8,-1).toLowerCase()}function b(a,b){for(var c=[];b>0;c[--b]=a);return c.join("")}var c=function(){return c.cache.hasOwnProperty(arguments[0])||(c.cache[arguments[0]]=c.parse(arguments[0])),c.format.call(null,c.cache[arguments[0]],arguments)};return c.format=function(c,d){var e,f,g,h,i,j,k,l=1,n=c.length,o="",p=[];for(f=0;n>f;f++)if(o=a(c[f]),"string"===o)p.push(c[f]);else if("array"===o){if(h=c[f],h[2])for(e=d[l],g=0;g<h[2].length;g++){if(!e.hasOwnProperty(h[2][g]))throw m('[sprintf] property "%s" does not exist',h[2][g]);e=e[h[2][g]]}else e=h[1]?d[h[1]]:d[l++];if(/[^s]/.test(h[8])&&"number"!=a(e))throw m("[sprintf] expecting number but found %s",a(e));switch(("undefined"==typeof e||null===e)&&(e=""),h[8]){case"b":e=e.toString(2);break;case"c":e=String.fromCharCode(e);break;case"d":e=parseInt(e,10);break;case"e":e=h[7]?e.toExponential(h[7]):e.toExponential();break;case"f":e=h[7]?parseFloat(e).toFixed(h[7]):parseFloat(e);break;case"o":e=e.toString(8);break;case"s":e=(e=String(e))&&h[7]?e.substring(0,h[7]):e;break;case"u":e=Math.abs(e);break;case"x":e=e.toString(16);break;case"X":e=e.toString(16).toUpperCase()}e=/[def]/.test(h[8])&&h[3]&&e>=0?"+"+e:e,j=h[4]?"0"==h[4]?"0":h[4].charAt(1):" ",k=h[6]-String(e).length,i=h[6]?b(j,k):"",p.push(h[5]?e+i:i+e)}return p.join("")},c.cache={},c.parse=function(a){for(var b=a,c=[],d=[],e=0;b;){if(null!==(c=/^[^\x25]+/.exec(b)))d.push(c[0]);else if(null!==(c=/^\x25{2}/.exec(b)))d.push("%");else{if(null===(c=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(b)))throw"[sprintf] huh?";if(c[2]){e|=1;var f=[],g=c[2],h=[];if(null===(h=/^([a-z_][a-z_\d]*)/i.exec(g)))throw"[sprintf] huh?";for(f.push(h[1]);""!==(g=g.substring(h[0].length));)if(null!==(h=/^\.([a-z_][a-z_\d]*)/i.exec(g)))f.push(h[1]);else{if(null===(h=/^\[(\d+)\]/.exec(g)))throw"[sprintf] huh?";f.push(h[1])}c[2]=f}else e|=2;if(3===e)throw"[sprintf] mixing positional and named placeholders is not (yet) supported";d.push(c)}b=b.substring(c[0].length)}return d},c}(),n=function(a,b){return b.unshift(a),m.apply(null,b)};l.parse_plural=function(a,b){return a=a.replace(/n/g,b),l.parse_expression(a)},l.sprintf=function(a,b){return"[object Array]"=={}.toString.call(b)?n(a,[].slice.call(b)):m.apply(this,[].slice.call(arguments))},l.prototype.sprintf=function(){return l.sprintf.apply(this,arguments)},l.PF={},l.PF.parse=function(a){var b=l.PF.extractPluralExpr(a);return l.PF.parser.parse.call(l.PF.parser,b)},l.PF.compile=function(a){function b(a){return a===!0?1:a?a:0}var c=l.PF.parse(a);return function(a){return b(l.PF.interpreter(c)(a))}},l.PF.interpreter=function(a){return function(b){switch(a.type){case"GROUP":return l.PF.interpreter(a.expr)(b);case"TERNARY":return l.PF.interpreter(a.expr)(b)?l.PF.interpreter(a.truthy)(b):l.PF.interpreter(a.falsey)(b);case"OR":return l.PF.interpreter(a.left)(b)||l.PF.interpreter(a.right)(b);case"AND":return l.PF.interpreter(a.left)(b)&&l.PF.interpreter(a.right)(b);case"LT":return l.PF.interpreter(a.left)(b)<l.PF.interpreter(a.right)(b);case"GT":return l.PF.interpreter(a.left)(b)>l.PF.interpreter(a.right)(b);case"LTE":return l.PF.interpreter(a.left)(b)<=l.PF.interpreter(a.right)(b);case"GTE":return l.PF.interpreter(a.left)(b)>=l.PF.interpreter(a.right)(b);case"EQ":return l.PF.interpreter(a.left)(b)==l.PF.interpreter(a.right)(b);case"NEQ":return l.PF.interpreter(a.left)(b)!=l.PF.interpreter(a.right)(b);case"MOD":return l.PF.interpreter(a.left)(b)%l.PF.interpreter(a.right)(b);case"VAR":return b;case"NUM":return a.val;default:throw new Error("Invalid Token found.")}}},l.PF.extractPluralExpr=function(a){a=a.replace(/^\s\s*/,"").replace(/\s\s*$/,""),/;\s*$/.test(a)||(a=a.concat(";"));var b,c=/nplurals\=(\d+);/,d=/plural\=(.*);/,e=a.match(c),f={};if(!(e.length>1))throw new Error("nplurals not found in plural_forms string: "+a);if(f.nplurals=e[1],a=a.replace(c,""),b=a.match(d),!(b&&b.length>1))throw new Error("`plural` expression not found: "+a);return b[1]},l.PF.parser=function(){var a={trace:function(){},yy:{},symbols_:{error:2,expressions:3,e:4,EOF:5,"?":6,":":7,"||":8,"&&":9,"<":10,"<=":11,">":12,">=":13,"!=":14,"==":15,"%":16,"(":17,")":18,n:19,NUMBER:20,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",6:"?",7:":",8:"||",9:"&&",10:"<",11:"<=",12:">",13:">=",14:"!=",15:"==",16:"%",17:"(",18:")",19:"n",20:"NUMBER"},productions_:[0,[3,2],[4,5],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,1],[4,1]],performAction:function(a,b,c,d,e,f,g){var h=f.length-1;switch(e){case 1:return{type:"GROUP",expr:f[h-1]};case 2:this.$={type:"TERNARY",expr:f[h-4],truthy:f[h-2],falsey:f[h]};break;case 3:this.$={type:"OR",left:f[h-2],right:f[h]};break;case 4:this.$={type:"AND",left:f[h-2],right:f[h]};break;case 5:this.$={type:"LT",left:f[h-2],right:f[h]};break;case 6:this.$={type:"LTE",left:f[h-2],right:f[h]};break;case 7:this.$={type:"GT",left:f[h-2],right:f[h]};break;case 8:this.$={type:"GTE",left:f[h-2],right:f[h]};break;case 9:this.$={type:"NEQ",left:f[h-2],right:f[h]};break;case 10:this.$={type:"EQ",left:f[h-2],right:f[h]};break;case 11:this.$={type:"MOD",left:f[h-2],right:f[h]};break;case 12:this.$={type:"GROUP",expr:f[h-1]};break;case 13:this.$={type:"VAR"};break;case 14:this.$={type:"NUM",val:Number(a)}}},table:[{3:1,4:2,17:[1,3],19:[1,4],20:[1,5]},{1:[3]},{5:[1,6],6:[1,7],8:[1,8],9:[1,9],10:[1,10],11:[1,11],12:[1,12],13:[1,13],14:[1,14],15:[1,15],16:[1,16]},{4:17,17:[1,3],19:[1,4],20:[1,5]},{5:[2,13],6:[2,13],7:[2,13],8:[2,13],9:[2,13],10:[2,13],11:[2,13],12:[2,13],13:[2,13],14:[2,13],15:[2,13],16:[2,13],18:[2,13]},{5:[2,14],6:[2,14],7:[2,14],8:[2,14],9:[2,14],10:[2,14],11:[2,14],12:[2,14],13:[2,14],14:[2,14],15:[2,14],16:[2,14],18:[2,14]},{1:[2,1]},{4:18,17:[1,3],19:[1,4],20:[1,5]},{4:19,17:[1,3],19:[1,4],20:[1,5]},{4:20,17:[1,3],19:[1,4],20:[1,5]},{4:21,17:[1,3],19:[1,4],20:[1,5]},{4:22,17:[1,3],19:[1,4],20:[1,5]},{4:23,17:[1,3],19:[1,4],20:[1,5]},{4:24,17:[1,3],19:[1,4],20:[1,5]},{4:25,17:[1,3],19:[1,4],20:[1,5]},{4:26,17:[1,3],19:[1,4],20:[1,5]},{4:27,17:[1,3],19:[1,4],20:[1,5]},{6:[1,7],8:[1,8],9:[1,9],10:[1,10],11:[1,11],12:[1,12],13:[1,13],14:[1,14],15:[1,15],16:[1,16],18:[1,28]},{6:[1,7],7:[1,29],8:[1,8],9:[1,9],10:[1,10],11:[1,11],12:[1,12],13:[1,13],14:[1,14],15:[1,15],16:[1,16]},{5:[2,3],6:[2,3],7:[2,3],8:[2,3],9:[1,9],10:[1,10],11:[1,11],12:[1,12],13:[1,13],14:[1,14],15:[1,15],16:[1,16],18:[2,3]},{5:[2,4],6:[2,4],7:[2,4],8:[2,4],9:[2,4],10:[1,10],11:[1,11],12:[1,12],13:[1,13],14:[1,14],15:[1,15],16:[1,16],18:[2,4]},{5:[2,5],6:[2,5],7:[2,5],8:[2,5],9:[2,5],10:[2,5],11:[2,5],12:[2,5],13:[2,5],14:[2,5],15:[2,5],16:[1,16],18:[2,5]},{5:[2,6],6:[2,6],7:[2,6],8:[2,6],9:[2,6],10:[2,6],11:[2,6],12:[2,6],13:[2,6],14:[2,6],15:[2,6],16:[1,16],18:[2,6]},{5:[2,7],6:[2,7],7:[2,7],8:[2,7],9:[2,7],10:[2,7],11:[2,7],12:[2,7],13:[2,7],14:[2,7],15:[2,7],16:[1,16],18:[2,7]},{5:[2,8],6:[2,8],7:[2,8],8:[2,8],9:[2,8],10:[2,8],11:[2,8],12:[2,8],13:[2,8],14:[2,8],15:[2,8],16:[1,16],18:[2,8]},{5:[2,9],6:[2,9],7:[2,9],8:[2,9],9:[2,9],10:[2,9],11:[2,9],12:[2,9],13:[2,9],14:[2,9],15:[2,9],16:[1,16],18:[2,9]},{5:[2,10],6:[2,10],7:[2,10],8:[2,10],9:[2,10],10:[2,10],11:[2,10],12:[2,10],13:[2,10],14:[2,10],15:[2,10],16:[1,16],18:[2,10]},{5:[2,11],6:[2,11],7:[2,11],8:[2,11],9:[2,11],10:[2,11],11:[2,11],12:[2,11],13:[2,11],14:[2,11],15:[2,11],16:[2,11],18:[2,11]},{5:[2,12],6:[2,12],7:[2,12],8:[2,12],9:[2,12],10:[2,12],11:[2,12],12:[2,12],13:[2,12],14:[2,12],15:[2,12],16:[2,12],18:[2,12]},{4:30,17:[1,3],19:[1,4],20:[1,5]},{5:[2,2],6:[1,7],7:[2,2],8:[1,8],9:[1,9],10:[1,10],11:[1,11],12:[1,12],13:[1,13],14:[1,14],15:[1,15],16:[1,16],18:[2,2]}],defaultActions:{6:[2,1]},parseError:function(a,b){throw new Error(a)},parse:function(a){function b(a){e.length=e.length-2*a,f.length=f.length-a,g.length=g.length-a}function c(){var a;return a=d.lexer.lex()||1,"number"!=typeof a&&(a=d.symbols_[a]||a),a}var d=this,e=[0],f=[null],g=[],h=this.table,i="",j=0,k=0,l=0,m=2,n=1;this.lexer.setInput(a),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,"undefined"==typeof this.lexer.yylloc&&(this.lexer.yylloc={});var o=this.lexer.yylloc;g.push(o),"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var p,q,r,s,t,u,v,w,x,y={};;){if(r=e[e.length-1],this.defaultActions[r]?s=this.defaultActions[r]:(null==p&&(p=c()),s=h[r]&&h[r][p]),"undefined"==typeof s||!s.length||!s[0]){if(!l){x=[];for(u in h[r])this.terminals_[u]&&u>2&&x.push("'"+this.terminals_[u]+"'");var z="";z=this.lexer.showPosition?"Parse error on line "+(j+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+x.join(", ")+", got '"+this.terminals_[p]+"'":"Parse error on line "+(j+1)+": Unexpected "+(1==p?"end of input":"'"+(this.terminals_[p]||p)+"'"),this.parseError(z,{text:this.lexer.match,token:this.terminals_[p]||p,line:this.lexer.yylineno,loc:o,expected:x})}if(3==l){if(p==n)throw new Error(z||"Parsing halted.");k=this.lexer.yyleng,i=this.lexer.yytext,j=this.lexer.yylineno,o=this.lexer.yylloc,p=c()}for(;;){if(m.toString()in h[r])break;if(0==r)throw new Error(z||"Parsing halted.");b(1),r=e[e.length-1]}q=p,p=m,r=e[e.length-1],s=h[r]&&h[r][m],l=3}if(s[0]instanceof Array&&s.length>1)throw new Error("Parse Error: multiple actions possible at state: "+r+", token: "+p);switch(s[0]){case 1:e.push(p),f.push(this.lexer.yytext),g.push(this.lexer.yylloc),e.push(s[1]),p=null,q?(p=q,q=null):(k=this.lexer.yyleng,i=this.lexer.yytext,j=this.lexer.yylineno,o=this.lexer.yylloc,l>0&&l--);break;case 2:if(v=this.productions_[s[1]][1],y.$=f[f.length-v],y._$={first_line:g[g.length-(v||1)].first_line,last_line:g[g.length-1].last_line,first_column:g[g.length-(v||1)].first_column,last_column:g[g.length-1].last_column},t=this.performAction.call(y,i,k,j,this.yy,s[1],f,g),"undefined"!=typeof t)return t;v&&(e=e.slice(0,-1*v*2),f=f.slice(0,-1*v),g=g.slice(0,-1*v)),e.push(this.productions_[s[1]][0]),f.push(y.$),g.push(y._$),w=h[e[e.length-2]][e[e.length-1]],e.push(w);break;case 3:return!0}}return!0}},b=function(){var a={EOF:1,parseError:function(a,b){if(!this.yy.parseError)throw new Error(a);this.yy.parseError(a,b)},setInput:function(a){return this._input=a,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this},input:function(){var a=this._input[0];this.yytext+=a,this.yyleng++,this.match+=a,this.matched+=a;var b=a.match(/\n/);return b&&this.yylineno++,this._input=this._input.slice(1),a},unput:function(a){return this._input=a+this._input,this},more:function(){return this._more=!0,this},pastInput:function(){var a=this.matched.substr(0,this.matched.length-this.match.length);return(a.length>20?"...":"")+a.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var a=this.match;return a.length<20&&(a+=this._input.substr(0,20-a.length)),(a.substr(0,20)+(a.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var a=this.pastInput(),b=new Array(a.length+1).join("-");return a+this.upcomingInput()+"\n"+b+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var a,b,c;this._more||(this.yytext="",this.match="");for(var d=this._currentRules(),e=0;e<d.length;e++)if(b=this._input.match(this.rules[d[e]]))return c=b[0].match(/\n.*/g),c&&(this.yylineno+=c.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:c?c[c.length-1].length-1:this.yylloc.last_column+b[0].length},this.yytext+=b[0],this.match+=b[0],this.matches=b,this.yyleng=this.yytext.length,this._more=!1,this._input=this._input.slice(b[0].length),this.matched+=b[0],a=this.performAction.call(this,this.yy,this,d[e],this.conditionStack[this.conditionStack.length-1]),a?a:void 0;return""===this._input?this.EOF:void this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var a=this.next();return"undefined"!=typeof a?a:this.lex()},begin:function(a){this.conditionStack.push(a)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(a){this.begin(a)}};return a.performAction=function(a,b,c,d){switch(c){case 0:break;case 1:return 20;case 2:return 19;case 3:return 8;case 4:return 9;case 5:return 6;case 6:return 7;case 7:return 11;case 8:return 13;case 9:return 10;case 10:return 12;case 11:return 14;case 12:return 15;case 13:return 16;case 14:return 17;case 15:return 18;case 16:return 5;case 17:return"INVALID"}},a.rules=[/^\s+/,/^[0-9]+(\.[0-9]+)?\b/,/^n\b/,/^\|\|/,/^&&/,/^\?/,/^:/,/^<=/,/^>=/,/^</,/^>/,/^!=/,/^==/,/^%/,/^\(/,/^\)/,/^$/,/^./],a.conditions={INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17],inclusive:!0}},a}();return a.lexer=b,a}(),"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=l),exports.Jed=l):("function"==typeof define&&define.amd&&define("jed",function(){return l}),a.Jed=l)}(this);var locales=locales||{};locales.af={domain:"converse",locale_data:{converse:{"":{domain:"converse",lang:"af"},unencrypted:[null,"nie-privaat"],unverified:[null,"ongeverifieer"],verified:[null,"privaat"],finished:[null,"afgesluit"],"This contact is busy":[null,"Hierdie persoon is besig"],"This contact is online":[null,"Hierdie persoon is aanlyn"],"This contact is offline":[null,"Hierdie persoon is aflyn"],"This contact is unavailable":[null,"Hierdie persoon is onbeskikbaar"],"This contact is away for an extended period":[null,"Hierdie persoon is vir lank afwesig"],"This contact is away":[null,"Hierdie persoon is afwesig"],"My contacts":[null,"My kontakte"],"Pending contacts":[null,"Hangende kontakte"],"Contact requests":[null,"Kontak versoeke"],Ungrouped:[null,"Ongegroepeer"],Contacts:[null,"Kontakte"],Groups:[null,"Groepe"],Reconnecting:[null,"Herkonnekteer"],Error:[null,"Fout"],Connecting:[null,"Verbind tans"],Authenticating:[null,"Besig om te bekragtig"],"Authentication Failed":[null,"Bekragtiging het gefaal"],"Online Contacts":[null,"Kontakte aangemeld"],"Re-establishing encrypted session":[null,"Herstel versleutelde sessie"],"Generating private key.":[null,"Genereer private sleutel."],"Your browser might become unresponsive.":[null,"U webblaaier mag tydelik onreageerbaar word."],"Authentication request from %1$s\n\nYour chat contact is attempting to verify your identity, by asking you the question below.\n\n%2$s":[null,"Verifieeringsversoek van  %1$s\n\nU gespreksmaat probeer om u identiteit te verifieer, deur die volgende vraag te vra \n\n%2$s"],"Could not verify this user's identify.":[null,"Kon nie hierdie gebruiker se identitied verifieer nie."],"Exchanging private key with contact.":[null,"Sleutels word met gespreksmaat uitgeruil."],"Personal message":[null,"Persoonlike boodskap"],"Are you sure you want to clear the messages from this room?":[null,"Is u seker dat u die boodskappe in hierdie kamer wil verwyder?"],me:[null,"ek"],"is typing":[null,"tik tans"],"has stopped typing":[null,"het opgehou tik"],"Show this menu":[null,"Vertoon hierdie keuselys"],"Write in the third person":[null,"Skryf in die derde persoon"],"Remove messages":[null,"Verwyder boodskappe"],"Are you sure you want to clear the messages from this chat box?":[null,"Is u seker u wil die boodskappe van hierdie klets uitvee?"],"Your message could not be sent":[null,"U boodskap kon nie gestuur word nie"],"We received an unencrypted message":[null,"Ons het 'n onversleutelde boodskap ontvang"],"We received an unreadable encrypted message":[null,"Ons het 'n onleesbare versleutelde boodskap ontvang"],"This user has requested an encrypted session.":[null,"Hierdie gebruiker versoek 'n versleutelde sessie"],"Here are the fingerprints, please confirm them with %1$s, outside of this chat.\n\nFingerprint for you, %2$s: %3$s\n\nFingerprint for %1$s: %4$s\n\nIf you have confirmed that the fingerprints match, click OK, otherwise click Cancel.":[null,"Hier is die vingerafdrukke, bevestig hulle met %1$s, buite hierdie kletskanaal \n\nU vingerafdruk, %2$s: %3$s\n\nVingerafdruk vir %1$s: %4$s\n\nIndien u die vingerafdrukke bevestig het, klik OK, andersinds klik Kanselleer"],"You will be prompted to provide a security question and then an answer to that question.\n\nYour contact will then be prompted the same question and if they type the exact same answer (case sensitive), their identity will be verified.":[null,"Daar sal van u verwag word om 'n sekuriteitsvraag te stel, en dan ook die antwoord tot daardie vraag te verskaf.\n\nU gespreksmaat sal dan daardie vraag gestel word, en indien hulle presies dieselfde antwoord (lw. hoofletters tel) verskaf, sal hul identiteit geverifieer wees."],"What is your security question?":[null,"Wat is u sekuriteitsvraag?"],"What is the answer to the security question?":[null,"Wat is die antwoord tot die sekuriteitsvraag?"],"Invalid authentication scheme provided":[null,"Ongeldige verifikasiemetode verskaf"],"Your messages are not encrypted anymore":[null,"U boodskappe is nie meer versleutel nie"],"Your messages are now encrypted but your contact's identity has not been verified.":[null,"U boodskappe is now versleutel maar u gespreksmaat se identiteit is nog onseker."],"Your contact's identify has been verified.":[null,"U gespreksmaat se identiteit is geverifieer."],"Your contact has ended encryption on their end, you should do the same.":[null,"U gespreksmaat het versleuteling gestaak, u behoort nou dieselfde te doen."],"Your messages are not encrypted. Click here to enable OTR encryption.":[null,"U boodskappe is nie versleutel nie. Klik hier om OTR versleuteling te aktiveer."],"Your messages are encrypted, but your contact has not been verified.":[null,"U boodskappe is versleutel, maar u gespreksmaat se identiteit is not onseker."],"Your messages are encrypted and your contact verified.":[null,"U boodskappe is versleutel en u gespreksmaat se identiteit geverifieer."],"Your contact has closed their end of the private session, you should do the same":[null,"U gespreksmaat het die private sessie gestaak. U behoort dieselfde te doen"],"Clear all messages":[null,"Vee alle boodskappe uit"],"End encrypted conversation":[null,"BeÃ«indig versleutelde gesprek"],"Hide the list of participants":[null,"Verskuil die lys van deelnemers"],"Refresh encrypted conversation":[null,"Verfris versleutelde gesprek"],"Start a call":[null,"Begin 'n oproep"],"Start encrypted conversation":[null,"Begin versleutelde gesprek"],"Verify with fingerprints":[null,"Verifieer met vingerafdrukke"],"Verify with SMP":[null,"Verifieer met SMP"],"What's this?":[null,"Wat is hierdie?"],Online:[null,"Aangemeld"],Busy:[null,"Besig"],Away:[null,"Afwesig"],Offline:[null,"Afgemeld"],"Contact name":[null,"Kontaknaam"],Search:[null,"Soek"],"Contact username":[null,"Konak gebruikersnaam"],Add:[null,"Voeg by"],"Click to add new chat contacts":[null,"Kliek om nuwe kletskontakte by te voeg"],"Add a contact":[null,"Voeg 'n kontak by"],"No users found":[null,"Geen gebruikers gevind"],"Click to add as a chat contact":[null,"Kliek om as kletskontak by te voeg"],"Room name":[null,"Kamer naam"],Nickname:[null,"Bynaam"],Server:[null,"Bediener"],Join:[null,"Sluit aan"],"Show rooms":[null,"Wys kamers"],Rooms:[null,"Kamers"],"No rooms on %1$s":[null,"Geen kamers op %1$s"],"Rooms on %1$s":[null,"Kamers op %1$s"],"Click to open this room":[null,"Kliek om hierdie kletskamer te open"],"Show more information on this room":[null,"Wys meer inligting aangaande hierdie kletskamer"],"Description:":[null,"Beskrywing:"],"Occupants:":[null,"Deelnemers:"],"Features:":[null,"Eienskappe:"],"Requires authentication":[null,"Benodig magtiging"],Hidden:[null,"Verskuil"],"Requires an invitation":[null,"Benodig 'n uitnodiging"],Moderated:[null,"Gemodereer"],"Non-anonymous":[null,"Nie-anoniem"],"Open room":[null,"Oop kletskamer"],"Permanent room":[null,"Permanente kamer"],Public:[null,"Publiek"],"Semi-anonymous":[null,"Deels anoniem"],"Temporary room":[null,"Tydelike kamer"],Unmoderated:[null,"Ongemodereer"],"This user is a moderator":[null,"Hierdie gebruiker is 'n moderator"],"This user can send messages in this room":[null,"Hierdie gebruiker kan boodskappe na die kamer stuur"],"This user can NOT send messages in this room":[null,"Hierdie gebruiker kan NIE boodskappe na die kamer stuur nie"],"Invite...":[null,"Nooi uit..."],Occupants:[null,"Deelnemers"],'You are about to invite %1$s to the chat room "%2$s". ':[null,'U is op die punt om %1$s na die kletskamer "%2$s" uit te nooi.'],"You may optionally include a message, explaining the reason for the invitation.":[null,"U mag na keuse 'n boodskap insluit, om bv. die rede vir die uitnodiging te staaf."],Message:[null,"Boodskap"],"Error: could not execute the command":[null,"Fout: kon nie die opdrag uitvoer nie"],"Ban user from room":[null,"Verban gebruiker uit hierdie kletskamer"],"Kick user from room":[null,"Skop gebruiker uit hierdie kletskamer"],"Write in 3rd person":[null,"Skryf in die derde persoon"],"Remove user's ability to post messages":[null,"Verwyder gebruiker se vermoÃ« om boodskappe te plaas"],"Change your nickname":[null,"Verander u bynaam"],"Set room topic":[null,"Stel onderwerp vir kletskamer"],"Allow muted user to post messages":[null,"Laat stilgemaakte gebruiker toe om weer boodskappe te plaas"],Save:[null,"Stoor"],Cancel:[null,"Kanseleer"],"An error occurred while trying to save the form.":[null,"A fout het voorgekom terwyl probeer is om die vorm te stoor."],"This chatroom requires a password":[null,"Hiedie kletskamer benodig 'n wagwoord"],"Password: ":[null,"Wagwoord:"],Submit:[null,"Dien in"],"This room is not anonymous":[null,"Hierdie vertrek is nie anoniem nie"],"This room now shows unavailable members":[null,"Hierdie vertrek wys nou onbeskikbare lede"],"This room does not show unavailable members":[null,"Hierdie vertrek wys nie onbeskikbare lede nie"],"Non-privacy-related room configuration has changed":[null,"Nie-privaatheidverwante kamer instellings het verander"],"Room logging is now enabled":[null,"Kamer log is nou aangeskakel"],"Room logging is now disabled":[null,"Kamer log is nou afgeskakel"],"This room is now non-anonymous":[null,"Hiedie kamer is nou nie anoniem nie"],"This room is now semi-anonymous":[null,"Hierdie kamer is nou gedeeltelik anoniem"],"This room is now fully-anonymous":[null,"Hierdie kamer is nou ten volle anoniem"],"A new room has been created":[null,"'n Nuwe kamer is geskep"],"You have been banned from this room":[null,"Jy is uit die kamer verban"],"You have been kicked from this room":[null,"Jy is uit die kamer geskop"],"You have been removed from this room because of an affiliation change":[null,"Jy is vanuit die kamer verwyder a.g.v 'n verandering van affiliasie"],"You have been removed from this room because the room has changed to members-only and you're not a member":[null,"Jy is vanuit die kamer verwyder omdat die kamer nou slegs tot lede beperk word en jy nie 'n lid is nie."],"You have been removed from this room because the MUC (Multi-user chat) service is being shut down.":[null,"Jy is van hierdie kamer verwyder aangesien die MUC (Multi-user chat) diens nou afgeskakel word."],
"<strong>%1$s</strong> has been banned":[null,"<strong>%1$s</strong> is verban"],"<strong>%1$s</strong> has been kicked out":[null,"<strong>%1$s</strong> is uitgeskop"],"<strong>%1$s</strong> has been removed because of an affiliation change":[null,"<strong>%1$s</strong> is verwyder a.g.v 'n verandering van affiliasie"],"<strong>%1$s</strong> has been removed for not being a member":[null,"<strong>%1$s</strong> is nie 'n lid nie, en dus verwyder"],"Your nickname has been automatically changed to: <strong>%1$s</strong>":[null,"U bynaam is outomaties verander na: <strong>%1$s</strong>"],"Your nickname has been changed to: <strong>%1$s</strong>":[null,"U bynaam is verander na: <strong>%1$s</strong>"],'The reason given is: "':[null,'Die gegewe rede is: "'],"You are not on the member list of this room":[null,"Jy is nie op die ledelys van hierdie kamer nie"],"No nickname was specified":[null,"Geen bynaam verskaf nie"],"You are not allowed to create new rooms":[null,"Jy word nie toegelaat om nog kamers te skep nie"],"Your nickname doesn't conform to this room's policies":[null,"Jou bynaam voldoen nie aan die kamer se beleid nie"],"Your nickname is already taken":[null,"Jou bynaam is reeds geneem"],"This room does not (yet) exist":[null,"Hierdie kamer bestaan tans (nog) nie"],"This room has reached it's maximum number of occupants":[null,"Hierdie kamer het sy maksimum aantal deelnemers bereik"],"Topic set by %1$s to: %2$s":[null,"Onderwerp deur %1$s bygewerk na: %2$s"],"%1$s has invited you to join a chat room: %2$s":[null,"%1$s het u uitgenooi om die kletskamer %2$s te besoek"],'%1$s has invited you to join a chat room: %2$s, and left the following reason: "%3$s"':[null,'%1$s het u uitgenooi om die kletskamer %2$s te besoek, en het die volgende rede verskaf: "%3$s"'],"Click to restore this chat":[null,"Kliek om hierdie klets te herstel"],Minimized:[null,"Geminimaliseer"],"Click to remove this contact":[null,"Kliek om hierdie kontak te verwyder"],"Click to chat with this contact":[null,"Kliek om met hierdie kontak te klets"],"Are you sure you want to remove this contact?":[null,"Is u seker u wil hierdie gespreksmaat verwyder?"],"Are you sure you want to decline this contact request?":[null,"Is u seker dat u hierdie persoon se versoek wil afkeur?"],"Type to filter":[null,"Tik om te filtreer"],"I am %1$s":[null,"Ek is %1$s"],"Click here to write a custom status message":[null,"Kliek hier om jou eie statusboodskap te skryf"],"Click to change your chat status":[null,"Kliek om jou klets-status te verander"],"Custom status":[null,"Doelgemaakte status"],online:[null,"aangemeld"],busy:[null,"besig"],"away for long":[null,"vir lank afwesig"],away:[null,"afwesig"],"Your XMPP provider's domain name:":[null,"U XMPP-verskaffer se domein naam:"],"Fetch registration form":[null,"Haal die registrasie form"],"Tip: A list of public XMPP providers is available":[null,"Wenk: A lys van publieke XMPP-verskaffers is beskikbaar"],here:[null,"hier"],Register:[null,"Registreer"],"Sorry, the given provider does not support in band account registration. Please try with a different provider.":[null,"Jammer, die gekose verskaffer ondersteun nie in-band registrasie nie.Probeer weer met 'n ander verskaffer."],"Requesting a registration form from the XMPP server":[null,"Vra tans die XMPP-bediener vir 'n registrasie vorm"],'Something went wrong while establishing a connection with "%1$s". Are you sure it exists?':[null,'Iets het fout geloop tydens koppeling met "%1$s". Is u seker dat dit bestaan?'],"Now logging you in":[null,"U word nou aangemeld"],"Registered successfully":[null,"Suksesvol geregistreer"],Return:[null,"Terug"],"The provider rejected your registration attempt. ":[null,"Die verskaffer het u registrasieversoek verwerp."],"XMPP Username:":[null,"XMPP Gebruikersnaam:"],"Password:":[null,"Wagwoord"],"Log In":[null,"Meld aan"],"Sign in":[null,"Teken in"],"Toggle chat":[null,"Klets"]}}},locales.de={domain:"converse",locale_data:{converse:{"":{domain:"converse",plural_forms:"nplurals=2; plural=(n != 1);",lang:"de"},unencrypted:[null,""],unverified:[null,""],verified:[null,""],finished:[null,""],"This contact is busy":[null,"Dieser Kontakt ist beschÃ¤fticht"],"This contact is online":[null,"Dieser Kontakt ist online"],"This contact is offline":[null,"Dieser Kontakt ist offline"],"This contact is unavailable":[null,"Dieser Kontakt ist nicht verfÃ¼gbar"],"This contact is away for an extended period":[null,"Dieser Kontakt is fÃ¼r lÃ¤ngere Zeit abwesend"],"This contact is away":[null,"Dieser Kontakt ist abwesend"],"My contacts":[null,"Meine Kontakte"],"Pending contacts":[null,"UnbestÃ¤tigte Kontakte"],"Contact requests":[null,"Kontaktanfragen"],Ungrouped:[null,""],Contacts:[null,"Kontakte"],Groups:[null,""],Error:[null,"Fehler"],Connecting:[null,"Verbindungsaufbau â¦"],Authenticating:[null,"Authentifizierung"],"Authentication Failed":[null,"Authentifizierung gescheitert"],"Online Contacts":[null,"Online-Kontakte"],"Re-establishing encrypted session":[null,""],"Generating private key.":[null,""],"Your browser might become unresponsive.":[null,""],"Authentication request from %1$s\n\nYour chat contact is attempting to verify your identity, by asking you the question below.\n\n%2$s":[null,""],"Could not verify this user's identify.":[null,""],"Exchanging private key with contact.":[null,""],"Personal message":[null,"PersÃ¶nliche Nachricht"],me:[null,"Ich"],"Show this menu":[null,"Dieses MenÃ¼ anzeigen"],"Write in the third person":[null,"In der dritten Person schreiben"],"Remove messages":[null,"Nachrichten entfernen"],"Are you sure you want to clear the messages from this chat box?":[null,""],"Your message could not be sent":[null,""],"We received an unencrypted message":[null,""],"We received an unreadable encrypted message":[null,""],"This user has requested an encrypted session.":[null,""],"Here are the fingerprints, please confirm them with %1$s, outside of this chat.\n\nFingerprint for you, %2$s: %3$s\n\nFingerprint for %1$s: %4$s\n\nIf you have confirmed that the fingerprints match, click OK, otherwise click Cancel.":[null,""],"You will be prompted to provide a security question and then an answer to that question.\n\nYour contact will then be prompted the same question and if they type the exact same answer (case sensitive), their identity will be verified.":[null,""],"What is your security question?":[null,""],"What is the answer to the security question?":[null,""],"Invalid authentication scheme provided":[null,""],"Your messages are not encrypted anymore":[null,""],"Your messages are now encrypted but your contact's identity has not been verified.":[null,""],"Your contact's identify has been verified.":[null,""],"Your contact has ended encryption on their end, you should do the same.":[null,""],"Your messages are not encrypted. Click here to enable OTR encryption.":[null,""],"Your messages are encrypted, but your contact has not been verified.":[null,""],"Your messages are encrypted and your contact verified.":[null,""],"Your contact has closed their end of the private session, you should do the same":[null,""],"End encrypted conversation":[null,""],"Hide the list of participants":[null,""],"Refresh encrypted conversation":[null,""],"Start a call":[null,""],"Start encrypted conversation":[null,""],"Verify with fingerprints":[null,""],"Verify with SMP":[null,""],"What's this?":[null,""],Online:[null,"Online"],Busy:[null,"BeschÃ¤fticht"],Away:[null,"Abwesend"],Offline:[null,"Abgemeldet"],"Contact name":[null,"Name des Kontakts"],Search:[null,"Suche"],"Contact username":[null,"Benutzername"],Add:[null,"HinzufÃ¼gen"],"Click to add new chat contacts":[null,"Klicken Sie, um einen neuen Kontakt hinzuzufÃ¼gen"],"Add a contact":[null,"Kontakte hinzufÃ¼gen"],"No users found":[null,"Keine Benutzer gefunden"],"Click to add as a chat contact":[null,"Hier klicken um als Kontakt hinzuzufÃ¼gen"],"Room name":[null,"Raumname"],Nickname:[null,"Spitzname"],Server:[null,"Server"],Join:[null,"Beitreten"],"Show rooms":[null,"RÃ¤ume anzeigen"],Rooms:[null,"RÃ¤ume"],"No rooms on %1$s":[null,"Keine RÃ¤ume auf %1$s"],"Rooms on %1$s":[null,"RÃ¤ume auf %1$s"],"Click to open this room":[null,"Hier klicken um diesen Raum zu Ã¶ffnen"],"Show more information on this room":[null,"Mehr Information Ã¼ber diesen Raum zeigen"],"Description:":[null,"Beschreibung"],"Occupants:":[null,"Teilnehmer"],"Features:":[null,"Funktionen:"],"Requires authentication":[null,"Authentifizierung erforderlich"],Hidden:[null,"Versteckt"],"Requires an invitation":[null,"Einladung erforderlich"],Moderated:[null,"Moderiert"],"Non-anonymous":[null,"Nicht anonym"],"Open room":[null,"Offener Raum"],"Permanent room":[null,"Dauerhafter Raum"],Public:[null,"Ãffentlich"],"Semi-anonymous":[null,"Teils anonym"],"Temporary room":[null,"VorÃ¼bergehender Raum"],Unmoderated:[null,"Unmoderiert"],"This user is a moderator":[null,"Dieser Benutzer ist ein Moderator"],"This user can send messages in this room":[null,"Dieser Benutzer kann Nachrichten in diesem Raum verschicken"],"This user can NOT send messages in this room":[null,"Dieser Benutzer kann keine Nachrichten in diesem Raum verschicken"],"Invite...":[null,""],'You are about to invite %1$s to the chat room "%2$s". ':[null,""],"You may optionally include a message, explaining the reason for the invitation.":[null,""],Message:[null,"Nachricht"],"Error: could not execute the command":[null,""],"Remove user's ability to post messages":[null,""],"Change your nickname":[null,""],"Allow muted user to post messages":[null,""],Save:[null,"Speichern"],Cancel:[null,"Abbrechen"],"An error occurred while trying to save the form.":[null,"Beim Speichern der Formular is ein Fehler aufgetreten."],"This chatroom requires a password":[null,"Passwort wird fÃ¼r die Anmeldung benÃ¶tigt."],"Password: ":[null,"Passwort: "],Submit:[null,"Einreichen"],"This room is not anonymous":[null,"Dieser Raum ist nicht anonym"],"This room now shows unavailable members":[null,"Dieser Raum zeigt jetzt unferfÃ¼gbare Mitglieder"],"This room does not show unavailable members":[null,"Dieser Raum zeigt nicht unverfÃ¼gbare Mitglieder"],"Non-privacy-related room configuration has changed":[null,"Die Konfiguration, die nicht auf die PrivatsphÃ¤re bezogen ist, hat sich geÃ¤ndert"],"Room logging is now enabled":[null,"ZukÃ¼nftige Nachrichten dieses Raums werden protokolliert."],"Room logging is now disabled":[null,"ZukÃ¼nftige Nachrichten dieses Raums werden nicht protokolliert."],"This room is now non-anonymous":[null,"Dieser Raum ist jetzt nicht anonym"],"This room is now semi-anonymous":[null,"Dieser Raum ist jetzt teils anonym"],"This room is now fully-anonymous":[null,"Dieser Raum ist jetzt anonym"],"A new room has been created":[null,"Einen neuen Raum ist erstellen"],"You have been banned from this room":[null,"Sie sind aus diesem Raum verbannt worden"],"You have been kicked from this room":[null,"Sie wurden aus diesem Raum hinausgeworfen"],"You have been removed from this room because of an affiliation change":[null,"Sie wurden wegen einer ZugehÃ¶rigkeitsÃ¤nderung entfernt"],"You have been removed from this room because the room has changed to members-only and you're not a member":[null,"Sie wurden aus diesem Raum entfernt da Sie kein Mitglied sind."],"You have been removed from this room because the MUC (Multi-user chat) service is being shut down.":[null,"Sie werden aus diesem Raum entfernt da der MUC (Muli-user chat) Dienst gerade abgeschalten wird."],"<strong>%1$s</strong> has been banned":[null,"<strong>%1$s</strong> ist verbannt"],"<strong>%1$s</strong> has been kicked out":[null,"<strong>%1$s</strong> ist hinausgeworfen"],"<strong>%1$s</strong> has been removed because of an affiliation change":[null,"<strong>%1$s</strong> wurde wegen einer ZugehÃ¶rigkeitsÃ¤nderung entfernt"],"<strong>%1$s</strong> has been removed for not being a member":[null,"<strong>%1$s</strong> ist kein Mitglied und wurde daher entfernt"],'The reason given is: "':[null,""],"You are not on the member list of this room":[null,"Sie sind nicht auf der Mitgliederliste dieses Raums"],"No nickname was specified":[null,"Kein Spitzname festgelegt"],"You are not allowed to create new rooms":[null,"Es ist Ihnen nicht erlaubt, neue RÃ¤ume anzulegen"],"Your nickname doesn't conform to this room's policies":[null,"UngÃ¼ltiger Spitzname"],"Your nickname is already taken":[null,"Ihre Spitzname existiert bereits."],"This room does not (yet) exist":[null,"Dieser Raum existiert (noch) nicht"],"This room has reached it's maximum number of occupants":[null,"Dieser Raum hat die maximale Mitgliederanzahl erreicht"],"Topic set by %1$s to: %2$s":[null,'%1$s hat das Thema zu "%2$s" abgeÃ¤ndert'],"%1$s has invited you to join a chat room: %2$s":[null,""],'%1$s has invited you to join a chat room: %2$s, and left the following reason: "%3$s"':[null,""],Minimized:[null,""],"Click to remove this contact":[null,"Hier klicken um diesen Kontakt zu entfernen"],"Click to chat with this contact":[null,"Hier klicken um mit diesem Kontakt zu chatten"],"Type to filter":[null,""],"I am %1$s":[null,"Ich bin %1$s"],"Click here to write a custom status message":[null,"Klicken Sie hier, um ihrer Status-Nachricht to Ã¤ndern"],"Click to change your chat status":[null,"Klicken Sie, um ihrer Status to Ã¤ndern"],"Custom status":[null,"Status-Nachricht"],online:[null,"online"],busy:[null,"beschÃ¤fticht"],"away for long":[null,"lÃ¤nger abwesend"],away:[null,"abwesend"],"Your XMPP provider's domain name:":[null,""],"Fetch registration form":[null,""],"Tip: A list of public XMPP providers is available":[null,""],here:[null,""],Register:[null,""],"Sorry, the given provider does not support in band account registration. Please try with a different provider.":[null,""],"Requesting a registration form from the XMPP server":[null,""],'Something went wrong while establishing a connection with "%1$s". Are you sure it exists?':[null,""],"Now logging you in":[null,""],"Registered successfully":[null,""],Return:[null,""],"The provider rejected your registration attempt. ":[null,""],"Password:":[null,"Passwort:"],"Log In":[null,"Anmelden"],"Sign in":[null,"Anmelden"],"Toggle chat":[null,""]}}},locales.en={domain:"converse",locale_data:{converse:{"":{domain:"converse",plural_forms:"nplurals=2; plural=(n != 1);",lang:"en"},unencrypted:[null,"unencrypted"],unverified:[null,"unverified"],verified:[null,"verified"],finished:[null,"finished"],"This contact is busy":[null,""],"This contact is online":[null,""],"This contact is offline":[null,""],"This contact is unavailable":[null,""],"This contact is away for an extended period":[null,""],"This contact is away":[null,""],"My contacts":[null,"My contacts"],"Pending contacts":[null,"Pending contacts"],"Contact requests":[null,"Contact requests"],Ungrouped:[null,""],Contacts:[null,"Contacts"],Groups:[null,""],Error:[null,"Error"],Connecting:[null,"Connecting"],Authenticating:[null,"Authenticating"],"Authentication Failed":[null,"Authentication Failed"],"Online Contacts":[null,"Online Contacts"],"Re-establishing encrypted session":[null,"Re-establishing encrypted session"],"Generating private key.":[null,""],"Your browser might become unresponsive.":[null,""],"Authentication request from %1$s\n\nYour chat contact is attempting to verify your identity, by asking you the question below.\n\n%2$s":[null,""],"Could not verify this user's identify.":[null,""],"Exchanging private key with contact.":[null,""],"Personal message":[null,"Personal message"],me:[null,""],"is typing":[null,""],"has stopped typing":[null,""],"Show this menu":[null,"Show this menu"],"Write in the third person":[null,"Write in the third person"],"Remove messages":[null,"Remove messages"],"Are you sure you want to clear the messages from this chat box?":[null,""],"Your message could not be sent":[null,""],"We received an unencrypted message":[null,""],"We received an unreadable encrypted message":[null,""],"This user has requested an encrypted session.":[null,""],"Here are the fingerprints, please confirm them with %1$s, outside of this chat.\n\nFingerprint for you, %2$s: %3$s\n\nFingerprint for %1$s: %4$s\n\nIf you have confirmed that the fingerprints match, click OK, otherwise click Cancel.":[null,""],"You will be prompted to provide a security question and then an answer to that question.\n\nYour contact will then be prompted the same question and if they type the exact same answer (case sensitive), their identity will be verified.":[null,""],"What is your security question?":[null,""],"What is the answer to the security question?":[null,""],"Invalid authentication scheme provided":[null,""],"Your messages are not encrypted anymore":[null,""],"Your messages are now encrypted but your contact's identity has not been verified.":[null,""],"Your contact's identify has been verified.":[null,""],"Your contact has ended encryption on their end, you should do the same.":[null,""],"Your messages are not encrypted. Click here to enable OTR encryption.":[null,""],"Your messages are encrypted, but your contact has not been verified.":[null,""],"Your messages are encrypted and your contact verified.":[null,""],"Your contact has closed their end of the private session, you should do the same":[null,""],"End encrypted conversation":[null,""],"Hide the list of participants":[null,""],"Refresh encrypted conversation":[null,""],"Start a call":[null,""],"Start encrypted conversation":[null,""],"Verify with fingerprints":[null,""],"Verify with SMP":[null,""],"What's this?":[null,""],Online:[null,"Online"],Busy:[null,"Busy"],Away:[null,"Away"],Offline:[null,"Offline"],"Contact name":[null,"Contact name"],Search:[null,"Search"],"Contact username":[null,"Contact username"],Add:[null,"Add"],"Click to add new chat contacts":[null,"Click to add new chat contacts"],"Add a contact":[null,"Add a contact"],"No users found":[null,"No users found"],"Click to add as a chat contact":[null,"Click to add as a chat contact"],"Room name":[null,"Room name"],Nickname:[null,"Nickname"],Server:[null,"Server"],Join:[null,"Join"],"Show rooms":[null,"Show rooms"],Rooms:[null,"Rooms"],"No rooms on %1$s":[null,"No rooms on %1$s"],"Rooms on %1$s":[null,"Rooms on %1$s"],"Click to open this room":[null,"Click to open this room"],"Show more information on this room":[null,"Show more information on this room"],"Description:":[null,"Description:"],"Occupants:":[null,"Occupants:"],"Features:":[null,"Features:"],"Requires authentication":[null,"Requires authentication"],Hidden:[null,"Hidden"],"Requires an invitation":[null,"Requires an invitation"],Moderated:[null,"Moderated"],"Non-anonymous":[null,"Non-anonymous"],"Open room":[null,"Open room"],"Permanent room":[null,"Permanent room"],Public:[null,"Public"],"Semi-anonymous":[null,"Semi-anonymous"],"Temporary room":[null,"Temporary room"],Unmoderated:[null,"Unmoderated"],"This user is a moderator":[null,"This user is a moderator"],"This user can send messages in this room":[null,"This user can send messages in this room"],"This user can NOT send messages in this room":[null,"This user can NOT send messages in this room"],"Invite...":[null,""],'You are about to invite %1$s to the chat room "%2$s". ':[null,""],"You may optionally include a message, explaining the reason for the invitation.":[null,""],Message:[null,"Message"],"Error: could not execute the command":[null,""],"Remove user's ability to post messages":[null,""],"Change your nickname":[null,""],"Allow muted user to post messages":[null,""],Save:[null,"Save"],Cancel:[null,"Cancel"],"An error occurred while trying to save the form.":[null,"An error occurred while trying to save the form."],"This chatroom requires a password":[null,"This chatroom requires a password"],"Password: ":[null,"Password: "],Submit:[null,"Submit"],"This room is not anonymous":[null,"This room is not anonymous"],"This room now shows unavailable members":[null,"This room now shows unavailable members"],"This room does not show unavailable members":[null,"This room does not show unavailable members"],"Non-privacy-related room configuration has changed":[null,"Non-privacy-related room configuration has changed"],"Room logging is now enabled":[null,"Room logging is now enabled"],"Room logging is now disabled":[null,"Room logging is now disabled"],"This room is now non-anonymous":[null,"This room is now non-anonymous"],"This room is now semi-anonymous":[null,"This room is now semi-anonymous"],"This room is now fully-anonymous":[null,"This room is now fully-anonymous"],"A new room has been created":[null,"A new room has been created"],"You have been banned from this room":[null,"You have been banned from this room"],"You have been kicked from this room":[null,"You have been kicked from this room"],"You have been removed from this room because of an affiliation change":[null,"You have been removed from this room because of an affiliation change"],"You have been removed from this room because the room has changed to members-only and you're not a member":[null,"You have been removed from this room because the room has changed to members-only and you're not a member"],"You have been removed from this room because the MUC (Multi-user chat) service is being shut down.":[null,"You have been removed from this room because the MUC (Multi-user chat) service is being shut down."],"<strong>%1$s</strong> has been banned":[null,"<strong>%1$s</strong> has been banned"],"<strong>%1$s</strong> has been kicked out":[null,"<strong>%1$s</strong> has been kicked out"],"<strong>%1$s</strong> has been removed because of an affiliation change":[null,"<strong>%1$s</strong> has been removed because of an affiliation change"],"<strong>%1$s</strong> has been removed for not being a member":[null,"<strong>%1$s</strong> has been removed for not being a member"],'The reason given is: "':[null,""],"You are not on the member list of this room":[null,"You are not on the member list of this room"],"No nickname was specified":[null,"No nickname was specified"],"You are not allowed to create new rooms":[null,"You are not allowed to create new rooms"],"Your nickname doesn't conform to this room's policies":[null,"Your nickname doesn't conform to this room's policies"],"Your nickname is already taken":[null,"Your nickname is already taken"],"This room does not (yet) exist":[null,"This room does not (yet) exist"],"This room has reached it's maximum number of occupants":[null,"This room has reached it's maximum number of occupants"],"Topic set by %1$s to: %2$s":[null,"Topic set by %1$s to: %2$s"],"%1$s has invited you to join a chat room: %2$s":[null,""],'%1$s has invited you to join a chat room: %2$s, and left the following reason: "%3$s"':[null,""],Minimized:[null,""],"Click to remove this contact":[null,"Click to remove this contact"],"Click to chat with this contact":[null,"Click to chat with this contact"],"Type to filter":[null,""],"I am %1$s":[null,"I am %1$s"],"Click here to write a custom status message":[null,"Click here to write a custom status message"],"Click to change your chat status":[null,"Click to change your chat status"],"Custom status":[null,"Custom status"],online:[null,"online"],busy:[null,"busy"],"away for long":[null,"away for long"],away:[null,"away"],"Your XMPP provider's domain name:":[null,""],"Fetch registration form":[null,""],"Tip: A list of public XMPP providers is available":[null,""],here:[null,""],Register:[null,""],"Sorry, the given provider does not support in band account registration. Please try with a different provider.":[null,""],"Requesting a registration form from the XMPP server":[null,""],'Something went wrong while establishing a connection with "%1$s". Are you sure it exists?':[null,""],"Now logging you in":[null,""],"Registered successfully":[null,""],Return:[null,""],"The provider rejected your registration attempt. ":[null,""],"Password:":[null,"Password:"],"Log In":[null,"Log In"],"Sign in":[null,"Sign in"],"Toggle chat":[null,""]}}},locales.es={domain:"converse",locale_data:{converse:{"":{domain:"converse",plural_forms:"nplurals=2; plural=(n != 1);",lang:"es"},unencrypted:[null,"texto plano"],unverified:[null,"sin verificar"],verified:[null,"verificado"],finished:[null,"finalizado"],"This contact is busy":[null,"Este contacto estÃ¡ ocupado"],"This contact is online":[null,"Este contacto estÃ¡ en lÃ­nea"],"This contact is offline":[null,"Este contacto estÃ¡ desconectado"],"This contact is unavailable":[null,"Este contacto no estÃ¡ disponible"],"This contact is away for an extended period":[null,"Este contacto estÃ¡ ausente por un largo periodo de tiempo"],"This contact is away":[null,"Este contacto estÃ¡ ausente"],"My contacts":[null,"Mis contactos"],"Pending contacts":[null,"Contactos pendientes"],"Contact requests":[null,"Solicitudes de contacto"],Ungrouped:[null,""],Contacts:[null,"Contactos"],Groups:[null,""],Reconnecting:[null,"Reconectando"],Error:[null,"Error"],Connecting:[null,"Conectando"],Authenticating:[null,"Autenticando"],"Authentication Failed":[null,"La autenticaciÃ³n fallÃ³"],"Online Contacts":[null,"En lÃ­nea"],"Re-establishing encrypted session":[null,"Re-estableciendo sesiÃ³n cifrada"],"Generating private key.":[null,"Generando llave privada"],"Your browser might become unresponsive.":[null,"Su navegador podrÃ­a dejar de responder por un momento"],"Could not verify this user's identify.":[null,"No se pudo verificar la identidad de este usuario"],"Personal message":[null,"Mensaje personal"],"Are you sure you want to clear the messages from this room?":[null,"Â¿EstÃ¡ seguro de querer limpiar los mensajes de esta sala?"],me:[null,"yo"],"is typing":[null,""],"has stopped typing":[null,""],"Show this menu":[null,"Mostrar este menÃº"],"Write in the third person":[null,"Escribir en tercera persona"],"Remove messages":[null,"Eliminar mensajes"],"Are you sure you want to clear the messages from this chat box?":[null,"Â¿EstÃ¡ seguro de querer limpiar los mensajes de esta conversaciÃ³n?"],"Your message could not be sent":[null,"Su mensaje no se pudo enviar"],"We received an unencrypted message":[null,"Se recibÃ­o un mensaje sin cifrar"],"We received an unreadable encrypted message":[null,"Se recibÃ­o un mensaje cifrado corrupto"],"This user has requested an encrypted session.":[null,"El usuario ha solicitado una sesiÃ³n cifrada"],"Here are the fingerprints, please confirm them with %1$s, outside of this chat.\n\nFingerprint for you, %2$s: %3$s\n\nFingerprint for %1$s: %4$s\n\nIf you have confirmed that the fingerprints match, click OK, otherwise click Cancel.":[null,"Por favor confirme los identificadores de %1$s fuera de este chat.\n\nSu identificador es, %2$s: %3$s\n\nEl identificador de %1$s es: %4$s\n\nDespuÃ©s de confirmar los identificadores haga click en OK, cancele si no concuerdan."],"What is your security question?":[null,"Introduzca su pregunta de seguridad"],"What is the answer to the security question?":[null,"Introduzca la respuesta a su pregunta de seguridad"],"Invalid authentication scheme provided":[null,"Esquema de autenticaciÃ³n invÃ¡lido"],"Your messages are not encrypted anymore":[null,"Sus mensajes han dejado de cifrarse"],"Your messages are not encrypted. Click here to enable OTR encryption.":[null,"Sus mensajes no estÃ¡n cifrados. Haga click aquÃ­ para habilitar el cifrado OTR"],"End encrypted conversation":[null,"Finalizar sesiÃ³n cifrada"],"Hide the list of participants":[null,""],"Refresh encrypted conversation":[null,"Actualizar sesiÃ³n cifrada"],"Start a call":[null,""],"Start encrypted conversation":[null,"Iniciar sesiÃ³n cifrada"],"Verify with fingerprints":[null,"Verificar con identificadores"],"Verify with SMP":[null,"Verificar con SMP"],"What's this?":[null,"Â¿QuÃ© es esto?"],Online:[null,"En lÃ­nea"],Busy:[null,"Ocupado"],Away:[null,"Ausente"],Offline:[null,"Desconectado"],"Contact name":[null,"Nombre de contacto"],Search:[null,"BÃºsqueda"],"Contact username":[null,"Nombre de usuario de contacto"],Add:[null,"Agregar"],"Click to add new chat contacts":[null,"Haga click para agregar nuevos contactos al chat"],"Add a contact":[null,"Agregar un contacto"],"No users found":[null,"Sin usuarios encontrados"],"Click to add as a chat contact":[null,"Haga click para agregar como contacto de chat"],"Room name":[null,"Nombre de sala"],Nickname:[null,"Apodo"],Server:[null,"Servidor"],Join:[null,"Unirse"],"Show rooms":[null,"Mostrar salas"],Rooms:[null,"Salas"],"No rooms on %1$s":[null,"Sin salas en %1$s"],"Rooms on %1$s":[null,"Salas en %1$s"],"Click to open this room":[null,"Haga click para abrir esta sala"],"Show more information on this room":[null,"Mostrar mÃ¡s informaciÃ³n en esta sala"],"Description:":[null,"DescripciÃ³n"],"Occupants:":[null,"Ocupantes:"],"Features:":[null,"CaracterÃ­sticas:"],"Requires authentication":[null,"AutenticaciÃ³n requerida"],Hidden:[null,"Oculto"],"Requires an invitation":[null,"Requiere una invitaciÃ³n"],Moderated:[null,"Moderado"],"Non-anonymous":[null,"No anÃ³nimo"],"Open room":[null,"Abrir sala"],"Permanent room":[null,"Sala permanente"],Public:[null,"PÃºblica"],"Semi-anonymous":[null,"Semi anÃ³nimo"],"Temporary room":[null,"Sala temporal"],Unmoderated:[null,"Sin moderar"],"This user is a moderator":[null,"Este usuario es un moderador"],"This user can send messages in this room":[null,"Este usuario puede enviar mensajes en esta sala"],"This user can NOT send messages in this room":[null,"Este usuario NO puede enviar mensajes en esta"],"Invite...":[null,""],'You are about to invite %1$s to the chat room "%2$s". ':[null,""],"You may optionally include a message, explaining the reason for the invitation.":[null,""],Message:[null,"Mensaje"],"Error: could not execute the command":[null,""],"Remove user's ability to post messages":[null,""],"Change your nickname":[null,""],"Allow muted user to post messages":[null,""],Save:[null,"Guardar"],Cancel:[null,"Cancelar"],"An error occurred while trying to save the form.":[null,"Un error ocurrÃ­o mientras se guardaba el formulario."],"This chatroom requires a password":[null,"Esta sala de chat requiere una contraseÃ±a."],"Password: ":[null,"ContraseÃ±a: "],Submit:[null,"Enviar"],"This room is not anonymous":[null,"Esta sala no es para usuarios anÃ³nimos"],"This room now shows unavailable members":[null,"Esta sala ahora muestra los miembros no disponibles"],"This room does not show unavailable members":[null,"Esta sala no muestra los miembros no disponibles"],"Non-privacy-related room configuration has changed":[null,"Una configuraciÃ³n de la sala no relacionada con la privacidad ha sido cambiada"],"Room logging is now enabled":[null,"El registro de la sala ahora estÃ¡ habilitado"],"Room logging is now disabled":[null,"El registro de la sala ahora estÃ¡ deshabilitado"],"This room is now non-anonymous":[null,"Esta sala ahora es pÃºblica"],"This room is now semi-anonymous":[null,"Esta sala ahora es semi-anÃ³nima"],"This room is now fully-anonymous":[null,"Esta sala ahora es completamente anÃ³nima"],"A new room has been created":[null,"Una nueva sala ha sido creada"],"You have been banned from this room":[null,"Usted ha sido bloqueado de esta sala"],"You have been kicked from this room":[null,"Usted ha sido expulsado de esta sala"],"You have been removed from this room because of an affiliation change":[null,"Usted ha sido eliminado de esta sala debido a un cambio de afiliaciÃ³n"],"You have been removed from this room because the room has changed to members-only and you're not a member":[null,"Usted ha sido eliminado de esta sala debido a que la sala cambio su configuraciÃ³n a solo-miembros y usted no es un miembro"],"You have been removed from this room because the MUC (Multi-user chat) service is being shut down.":[null,"Usted ha sido eliminado de esta sala debido a que el servicio MUC (Multi-user chat) estÃ¡ deshabilitado."],"<strong>%1$s</strong> has been banned":[null,"<strong>%1$s</strong> ha sido bloqueado"],"<strong>%1$s</strong> has been kicked out":[null,"<strong>%1$s</strong> ha sido expulsado"],"<strong>%1$s</strong> has been removed because of an affiliation change":[null,"<strong>%1$s</strong> ha sido eliminado debido a un cambio de afiliaciÃ³n"],
"<strong>%1$s</strong> has been removed for not being a member":[null,"<strong>%1$s</strong> ha sido eliminado debido a que no es miembro"],'The reason given is: "':[null,""],"You are not on the member list of this room":[null,"Usted no estÃ¡ en la lista de miembros de esta sala"],"No nickname was specified":[null,"Sin apodo especificado"],"You are not allowed to create new rooms":[null,"Usted no esta autorizado para crear nuevas salas"],"Your nickname doesn't conform to this room's policies":[null,"Su apodo no se ajusta a la polÃ­tica de esta sala"],"Your nickname is already taken":[null,"Su apodo ya ha sido tomando por otro usuario"],"This room does not (yet) exist":[null,"Esta sala (aÃºn) no existe"],"This room has reached it's maximum number of occupants":[null,"Esta sala ha alcanzado su nÃºmero mÃ¡ximo de ocupantes"],"Topic set by %1$s to: %2$s":[null,"Tema fijado por %1$s a: %2$s"],"%1$s has invited you to join a chat room: %2$s":[null,""],'%1$s has invited you to join a chat room: %2$s, and left the following reason: "%3$s"':[null,""],"Click to restore this chat":[null,"Haga click para eliminar este contacto"],Minimized:[null,"Minimizado"],"Click to remove this contact":[null,"Haga click para eliminar este contacto"],"Click to chat with this contact":[null,"Haga click para conversar con este contacto"],"Are you sure you want to remove this contact?":[null,"Â¿Esta seguro de querer eliminar este contacto?"],"Type to filter":[null,""],"I am %1$s":[null,"Estoy %1$s"],"Click here to write a custom status message":[null,"Haga click para escribir un mensaje de estatus personalizado"],"Click to change your chat status":[null,"Haga click para cambiar su estatus de chat"],"Custom status":[null,"Personalizar estatus"],online:[null,"en lÃ­nea"],busy:[null,"ocupado"],"away for long":[null,"ausente por mucho tiempo"],away:[null,"ausente"],"Your XMPP provider's domain name:":[null,""],"Fetch registration form":[null,""],"Tip: A list of public XMPP providers is available":[null,""],here:[null,""],Register:[null,""],"Sorry, the given provider does not support in band account registration. Please try with a different provider.":[null,""],"Requesting a registration form from the XMPP server":[null,""],'Something went wrong while establishing a connection with "%1$s". Are you sure it exists?':[null,""],"Now logging you in":[null,""],"Registered successfully":[null,""],Return:[null,""],"The provider rejected your registration attempt. ":[null,""],"Password:":[null,"ContraseÃ±a:"],"Log In":[null,"Iniciar sesiÃ³n"],"Sign in":[null,"Registrar"],"Toggle chat":[null,"Chat"]}}},locales.fr={domain:"converse",locale_data:{converse:{"":{domain:"converse",plural_forms:"nplurals=2; plural=(n != 1);",lang:"fr"},unencrypted:[null,""],unverified:[null,""],verified:[null,""],finished:[null,""],"This contact is busy":[null,""],"This contact is online":[null,""],"This contact is offline":[null,""],"This contact is away for an extended period":[null,""],"This contact is away":[null,""],"My contacts":[null,"Mes contacts"],"Pending contacts":[null,"Contacts en attente"],"Contact requests":[null,"Demandes de contacts"],Ungrouped:[null,""],Contacts:[null,"Contacts"],Groups:[null,""],Error:[null,"Erreur"],Connecting:[null,"Connection"],Authenticating:[null,"Authentification"],"Authentication Failed":[null,"L'authentification a Ã©chouÃ©"],"Online Contacts":[null,"Contacts en ligne"],"Re-establishing encrypted session":[null,""],"Generating private key.":[null,""],"Your browser might become unresponsive.":[null,""],"Authentication request from %1$s\n\nYour chat contact is attempting to verify your identity, by asking you the question below.\n\n%2$s":[null,""],"Could not verify this user's identify.":[null,""],"Exchanging private key with contact.":[null,""],"Personal message":[null,"Message personnel"],me:[null,""],"is typing":[null,""],"has stopped typing":[null,""],"Show this menu":[null,"Afficher ce menu"],"Write in the third person":[null,"Ãcrire Ã  la troisiÃ¨me personne"],"Remove messages":[null,"Effacer les messages"],"Are you sure you want to clear the messages from this chat box?":[null,""],"Your message could not be sent":[null,""],"We received an unencrypted message":[null,""],"We received an unreadable encrypted message":[null,""],"This user has requested an encrypted session.":[null,""],"Here are the fingerprints, please confirm them with %1$s, outside of this chat.\n\nFingerprint for you, %2$s: %3$s\n\nFingerprint for %1$s: %4$s\n\nIf you have confirmed that the fingerprints match, click OK, otherwise click Cancel.":[null,""],"You will be prompted to provide a security question and then an answer to that question.\n\nYour contact will then be prompted the same question and if they type the exact same answer (case sensitive), their identity will be verified.":[null,""],"What is your security question?":[null,""],"What is the answer to the security question?":[null,""],"Invalid authentication scheme provided":[null,""],"Your messages are not encrypted anymore":[null,""],"Your messages are now encrypted but your contact's identity has not been verified.":[null,""],"Your contact's identify has been verified.":[null,""],"Your contact has ended encryption on their end, you should do the same.":[null,""],"Your messages are not encrypted. Click here to enable OTR encryption.":[null,""],"Your messages are encrypted, but your contact has not been verified.":[null,""],"Your messages are encrypted and your contact verified.":[null,""],"Your contact has closed their end of the private session, you should do the same":[null,""],"End encrypted conversation":[null,""],"Hide the list of participants":[null,""],"Refresh encrypted conversation":[null,""],"Start a call":[null,""],"Start encrypted conversation":[null,""],"Verify with fingerprints":[null,""],"Verify with SMP":[null,""],"What's this?":[null,""],Online:[null,"En ligne"],Busy:[null,"OccupÃ©"],Away:[null,"Absent"],Offline:[null,"DÃ©connectÃ©"],"Contact name":[null,"Nom du contact"],Search:[null,"Rechercher"],"Contact username":[null,"Nom du contact"],Add:[null,"Ajouter"],"Click to add new chat contacts":[null,"Cliquez pour ajouter de nouveaux contacts"],"Add a contact":[null,"Ajouter un contact"],"No users found":[null,"Aucun utilisateur trouvÃ©"],"Click to add as a chat contact":[null,"Cliquer pour ajouter aux contacts de chat"],"Room name":[null,"NumÃ©ro de salon"],Nickname:[null,"Alias"],Server:[null,"Serveur"],Join:[null,"Rejoindre"],"Show rooms":[null,"Afficher les salons"],Rooms:[null,"Salons"],"No rooms on %1$s":[null,"Aucun salon dans %1$s"],"Rooms on %1$s":[null,"Salons dans %1$s"],"Click to open this room":[null,"Cliquer pour ouvrir ce salon"],"Show more information on this room":[null,"Afficher davantage d'informations sur ce salon"],"Description:":[null,"Description :"],"Occupants:":[null,"Participants :"],"Features:":[null,"CaractÃ©ristiques :"],"Requires authentication":[null,"NÃ©cessite une authentification"],Hidden:[null,"MasquÃ©"],"Requires an invitation":[null,"NÃ©cessite une invitation"],Moderated:[null,"ModÃ©rÃ©"],"Non-anonymous":[null,"Non-anonyme"],"Open room":[null,"Ouvrir un salon"],"Permanent room":[null,"Salon permanent"],Public:[null,"Public"],"Semi-anonymous":[null,"Semi-anonyme"],"Temporary room":[null,"Salon temporaire"],Unmoderated:[null,"Non modÃ©rÃ©"],"This user is a moderator":[null,"Cet utilisateur est modÃ©rateur"],"This user can send messages in this room":[null,"Cet utilisateur peut envoyer des messages dans ce salon"],"This user can NOT send messages in this room":[null,"Cet utilisateur ne peut PAS envoyer de messages dans ce salon"],"Invite...":[null,""],'You are about to invite %1$s to the chat room "%2$s". ':[null,""],"You may optionally include a message, explaining the reason for the invitation.":[null,""],Message:[null,"Message"],"Error: could not execute the command":[null,""],"Remove user's ability to post messages":[null,""],"Change your nickname":[null,""],"Allow muted user to post messages":[null,""],Save:[null,"Enregistrer"],Cancel:[null,"Annuler"],"An error occurred while trying to save the form.":[null,"Une erreur est survenue lors de l'enregistrement du formulaire."],"This chatroom requires a password":[null,"Ce salon nÃ©cessite un mot de passe."],"Password: ":[null,"Mot de passe : "],Submit:[null,"Soumettre"],"This room is not anonymous":[null,"Ce salon n'est pas anonyme"],"This room now shows unavailable members":[null,"Ce salon affiche maintenant des membres indisponibles"],"This room does not show unavailable members":[null,"Ce salon n'affiche pas les membres indisponibles"],"Non-privacy-related room configuration has changed":[null,"Les paramÃ¨tres du salon non liÃ©s Ã  la confidentialitÃ© ont Ã©tÃ© modifiÃ©s"],"Room logging is now enabled":[null,"Le logging du salon est activÃ©"],"Room logging is now disabled":[null,"Le logging du salon est dÃ©sactivÃ©"],"This room is now non-anonymous":[null,"Ce salon est maintenant non-anonyme"],"This room is now semi-anonymous":[null,"Ce salon est maintenant semi-anonyme"],"This room is now fully-anonymous":[null,"Ce salon est maintenant entiÃ¨rement anonyme"],"A new room has been created":[null,"Un nouveau salon a Ã©tÃ© crÃ©Ã©"],"You have been banned from this room":[null,"Vous avez Ã©tÃ© banni de ce salon"],"You have been kicked from this room":[null,"Vous avez Ã©tÃ© expulsÃ© de ce salon"],"You have been removed from this room because of an affiliation change":[null,"Vous avez Ã©tÃ© retirÃ© de ce salon du fait d'un changement d'affiliation"],"You have been removed from this room because the room has changed to members-only and you're not a member":[null,"Vous avez Ã©tÃ© retirÃ© de ce salon parce que ce salon est devenu rÃ©servÃ© aux membres et vous n'Ãªtes pas membre"],"You have been removed from this room because the MUC (Multi-user chat) service is being shut down.":[null,"Vous avez Ã©tÃ© retirÃ© de ce salon parce que le service de chat multi-utilisateur a Ã©tÃ© dÃ©sactivÃ©."],"<strong>%1$s</strong> has been banned":[null,"<strong>%1$s</strong> a Ã©tÃ© banni"],"<strong>%1$s</strong> has been kicked out":[null,"<strong>%1$s</strong> a Ã©tÃ© expulsÃ©"],"<strong>%1$s</strong> has been removed because of an affiliation change":[null,"<strong>%1$s</strong> a Ã©tÃ© supprimÃ© Ã  cause d'un changement d'affiliation"],"<strong>%1$s</strong> has been removed for not being a member":[null,"<strong>%1$s</strong> a Ã©tÃ© supprimÃ© car il n'est pas membre"],'The reason given is: "':[null,""],"You are not on the member list of this room":[null,"Vous n'Ãªtes pas dans la liste des membres de ce salon"],"No nickname was specified":[null,"Aucun alias n'a Ã©tÃ© indiquÃ©"],"You are not allowed to create new rooms":[null,"Vous n'Ãªtes pas autorisÃ© Ã  crÃ©er des salons"],"Your nickname doesn't conform to this room's policies":[null,"Votre alias n'est pas conforme Ã  la politique de ce salon"],"Your nickname is already taken":[null,"Votre alias est dÃ©jÃ  utilisÃ©"],"This room does not (yet) exist":[null,"Ce salon n'existe pas encore"],"This room has reached it's maximum number of occupants":[null,"Ce salon a atteint la limite maximale d'occupants"],"Topic set by %1$s to: %2$s":[null,"Le sujet '%1$s' a Ã©tÃ© dÃ©fini par %2$s"],"%1$s has invited you to join a chat room: %2$s":[null,""],'%1$s has invited you to join a chat room: %2$s, and left the following reason: "%3$s"':[null,""],Minimized:[null,""],"Click to remove this contact":[null,"Cliquez pour supprimer ce contact"],"Click to chat with this contact":[null,"Cliquez pour discuter avec ce contact"],"Type to filter":[null,""],"I am %1$s":[null,"Je suis %1$s"],"Click here to write a custom status message":[null,"Cliquez ici pour indiquer votre statut personnel"],"Click to change your chat status":[null,"Cliquez pour changer votre statut"],"Custom status":[null,"Statut personnel"],online:[null,"en ligne"],busy:[null,"occupÃ©"],"away for long":[null,"absent pour une longue durÃ©e"],away:[null,"absent"],"Your XMPP provider's domain name:":[null,""],"Fetch registration form":[null,""],"Tip: A list of public XMPP providers is available":[null,""],here:[null,""],Register:[null,""],"Sorry, the given provider does not support in band account registration. Please try with a different provider.":[null,""],"Requesting a registration form from the XMPP server":[null,""],'Something went wrong while establishing a connection with "%1$s". Are you sure it exists?':[null,""],"Now logging you in":[null,""],"Registered successfully":[null,""],Return:[null,""],"The provider rejected your registration attempt. ":[null,""],"Password:":[null,"Mot de passe :"],"Log In":[null,"Se connecter"],"Sign in":[null,"S'inscrire"],"Toggle chat":[null,""]}}},locales.he={domain:"converse",locale_data:{converse:{"":{domain:"converse",plural_forms:"nplurals=2; plural=(n != 1);",lang:"he"},unencrypted:[null,"×× ×××¦×¤× ×ª"],unverified:[null,"×× ×××××ª×ª"],verified:[null,"×××××ª×ª"],finished:[null,"×××××¨×ª"],"This contact is busy":[null,"×××© ×§×©×¨ ×× ×¢×¡××§"],"This contact is online":[null,"×××© ×§×©×¨ ×× ××§×××"],"This contact is offline":[null,"×××© ×§×©×¨ ×× ×× ××§×××"],"This contact is unavailable":[null,"×××© ×§×©×¨ ×× ×× ××××"],"This contact is away for an extended period":[null,"×××© ×§×©×¨ ×× × ×¢××¨ ×××©× ××× ××××©×"],"This contact is away":[null,"×××© ×§×©×¨ ×× ××× × × ×¢××¨"],"Click to hide these contacts":[null,"×××¥ ××× ×××¡×ª××¨ ××ª ×× ×©× ×§×©×¨ ×××"],"My contacts":[null,"×× ×©× ××§×©×¨ ×©××"],"Pending contacts":[null,"×× ×©× ×§×©×¨ ×××ª×× ××"],"Contact requests":[null,"××§×©××ª ×××© ×§×©×¨"],Ungrouped:[null,"××× ×§×××¦×"],Contacts:[null,"×× ×©× ×§×©×¨"],Groups:[null,"×§×××¦××ª"],Reconnecting:[null,"××¢×ª ××ª×××¨"],Error:[null,"×©××××"],Connecting:[null,"××¢×ª ××ª×××¨"],Authenticating:[null,"××¢×ª ××××ª"],"Authentication Failed":[null,"×××××ª × ××©×"],"Online Contacts":[null,"×× ×©× ×§×©×¨ ××§××× ××"],"Re-establishing encrypted session":[null,"××¡×¡ ××××© ××©××× ×××¦×¤× ×ª"],"Generating private key.":[null,"××¢×ª ××¤××§ ××¤×ª× ×¤×¨××."],"Your browser might become unresponsive.":[null,"×××¤××¤× ×©×× ×¢×©×× ×©×× ×××××."],"Could not verify this user's identify.":[null,"×× ×××ª× ××¤×©×¨××ª ××××ª ××ª ××××ª ××©×ª××© ××."],"Personal message":[null,"××××¢× ×××©××ª"],"Are you sure you want to clear the messages from this room?":[null,"××× ××ª× ×××× ×× ××¨×¦×× × ××××¨ ××ª ×××××¢××ª ××ª×× ×××¨ ××?"],me:[null,"×× ×"],"is typing":[null,"××§×××/× ××¢×ª"],"has stopped typing":[null,"×××/× ××××§×××"],"Show this menu":[null,"××¦× ××ª ×ª×¤×¨×× ××"],"Write in the third person":[null,"××ª×× ××××£ ××©×××©×"],"Remove messages":[null,"××¡×¨ ××××¢××ª"],"Are you sure you want to clear the messages from this chat box?":[null,"××× ××ª× ×××× ×× ××¨×¦×× × ××××¨ ××ª ×××××¢××ª ××ª×× ×ª×××ª ×©××× ××?"],"Your message could not be sent":[null,"×××××¢× ×©×× ×× ×××ª× ××××× ××××©××"],"We received an unencrypted message":[null,"×× ×× × ×§×××× × ××××¢× ×× ×××¦×¤× ×ª"],"We received an unreadable encrypted message":[null,"×× ×× × ×§×××× × ××××¢× ×××¦×¤× ×ª ×× ×§×¨×××"],"This user has requested an encrypted session.":[null,"××©×ª××© ×× ×××§×© ××©××× ×××¦×¤× ×ª."],"Here are the fingerprints, please confirm them with %1$s, outside of this chat.\n\nFingerprint for you, %2$s: %3$s\n\nFingerprint for %1$s: %4$s\n\nIf you have confirmed that the fingerprints match, click OK, otherwise click Cancel.":[null,"××¨× ××××¢××ª ×××¦××¢, ×× × ×××ª ×××ª× ×¢× %1$s, ××××¥ ××©××× ××.\n\n××××¢×ª ××¦××¢ ×¢×××¨×, %2$s: %3$s\n\n××××¢×ª ××¦××¢ ×¢×××¨ %1$s: %4$s\n\n××× ×××××ª×ª ×× ××××¢××ª ×××¦××¢ ×ª×××××ª, ×××¥ ×××©××¨ (OK), ×××¨×ª ×××¥ ××××× (Cancel)."],"What is your security question?":[null,"××× ×©×××ª ×××××× ×©××?"],"What is the answer to the security question?":[null,"××× ××ª×©××× ××©×××ª ××××××?"],"Invalid authentication scheme provided":[null,"×¡××¤×§× ×¡××××ª ×××××ª ×©××××"],"Your messages are not encrypted anymore":[null,"×××××¢××ª ×©×× ××× × ×××¦×¤× ××ª ×¢××"],"Your messages are not encrypted. Click here to enable OTR encryption.":[null,"×××××¢××ª ×©×× ××× × ×××¦×¤× ××ª. ×××¥ ××× ××× ×××¤×©×¨ OTR."],"End encrypted conversation":[null,"×¡××× ××©××× ×××¦×¤× ×ª"],"Hide the list of participants":[null,""],"Refresh encrypted conversation":[null,"×¨×¢× × ××©××× ×××¦×¤× ×ª"],"Start a call":[null,""],"Start encrypted conversation":[null,"××ª×× ××©××× ×××¦×¤× ×ª"],"Verify with fingerprints":[null,"×××ª ××¢××¨×ª ××××¢××ª ××¦××¢"],"Verify with SMP":[null,"×××ª ××¢××¨×ª SMP"],"What's this?":[null,"×× ××?"],Online:[null,"××§×××"],Busy:[null,"×¢×¡××§"],Away:[null,"× ×¢××¨"],Offline:[null,"×××ª× ××§×××"],"Contact name":[null,"×©× ×××© ×§×©×¨"],Search:[null,"×××¤××©"],"Contact username":[null,"×©× ××©×ª××© ×××© ×§×©×¨"],Add:[null,"×××¡×£"],"Click to add new chat contacts":[null,"×××¥ ××× ××××¡××£ ×× ×©× ×§×©×¨ ×©××× ×××©××"],"Add a contact":[null,"×××¡×£ ×××© ×§×©×¨"],"No users found":[null,"×× × ××¦×× ××©×ª××©××"],"Click to add as a chat contact":[null,"×××¥ ××× ××××¡××£ ××ª××¨ ×××© ×§×©×¨ ×©×××"],"Room name":[null,"×©× ×××¨"],Nickname:[null,"×©× ××× ××"],Server:[null,"×©×¨×ª"],Join:[null,"××¦××¨×£"],"Show rooms":[null,"××¦× ×××¨××"],Rooms:[null,"×××¨××"],"No rooms on %1$s":[null,"××× ×××¨×× ×¢× %1$s"],"Rooms on %1$s":[null,"×××¨×× ×¢× %1$s"],"Click to open this room":[null,"×××¥ ××× ××¤×ª×× ××ª ×××¨ ××"],"Show more information on this room":[null,"××¦× ×¢×× ××××¢ ×××××ª ×××¨ ××"],"Description:":[null,"×ª××××¨:"],"Occupants:":[null,"× ×××××:"],"Features:":[null,"×ª××× ××ª:"],"Requires authentication":[null,"××¦×¨×× ×××©××¨"],Hidden:[null,"× ×¡×ª×¨"],"Requires an invitation":[null,"××¦×¨×× ×××× ×"],Moderated:[null,"××××§×¨"],"Non-anonymous":[null,"×× ×× ×× ×××"],"Open room":[null,"×××¨ ×¤×ª××"],"Permanent room":[null,"×××¨ ×¦×××ª×"],Public:[null,"×¤××××"],"Semi-anonymous":[null,"×× ×× ××× ××××¦×"],"Temporary room":[null,"×××¨ ××× ×"],Unmoderated:[null,"×× ××××§×¨"],"This user is a moderator":[null,"××©×ª××© ×× ××× × ×××¨××"],"This user can send messages in this room":[null,"××©×ª××© ×× ××¡××× ××©××× ××××¢××ª ××ª×× ×××¨ ××"],"This user can NOT send messages in this room":[null,"××©×ª××© ×× ï¬¥ï¬¡ ××¡××× ××©××× ××××¢××ª ××ª×× ×××¨ ××"],"Invite...":[null,""],'You are about to invite %1$s to the chat room "%2$s". ':[null,""],"You may optionally include a message, explaining the reason for the invitation.":[null,""],Message:[null,"××××¢×"],"Error: could not execute the command":[null,""],"Remove user's ability to post messages":[null,""],"Change your nickname":[null,""],"Allow muted user to post messages":[null,""],Save:[null,"×©×××¨"],Cancel:[null,"×××××"],"An error occurred while trying to save the form.":[null,"×××¨×¢× ×©×××× ××××× × ××¡××× ×©×××¨×ª ××××¤×¡."],"This chatroom requires a password":[null,"×××¨ ×©××× ×× ××¦×¨×× ×¡××¡××"],"Password: ":[null,"×¡××¡××: "],Submit:[null,"×©××"],"This room is not anonymous":[null,"×××¨ ×× ××× × ×× ×× ×××"],"This room now shows unavailable members":[null,"×××¨ ×× ××¢×ª ××¦×× ×××¨×× ×× ×××× ××"],"This room does not show unavailable members":[null,"×××¨ ×× ×× ××¦×× ×××¨×× ×× ×××× ××"],"Non-privacy-related room configuration has changed":[null,"×ª×¦××¨×ª ×××¨ ××©×¨ ××-×§×©××¨×-××¤×¨××××ª ×©×× ×ª×"],"Room logging is now enabled":[null,"×××× ×××¨ ××× × ×××¤×¢× ××¢×ª"],"Room logging is now disabled":[null,"×××× ×××¨ ××× × ×× ×××¨× ××¢×ª"],"This room is now non-anonymous":[null,"×××¨ ×× ××× × ×× ×× ××× ××¢×ª"],"This room is now semi-anonymous":[null,"×××¨ ×× ××× × ×× ×× ××× ××××¦× ××¢×ª"],"This room is now fully-anonymous":[null,"×××¨ ×× ××× × ×× ×× ××× ××××××× ××¢×ª"],"A new room has been created":[null,"×××¨ ×××© × ××¦×¨"],"You have been banned from this room":[null,"× ××¡×¨×ª ××ª×× ×××¨ ××"],"You have been kicked from this room":[null,"× ××¢××ª ××ª×× ×××¨ ××"],"You have been removed from this room because of an affiliation change":[null,"×××¡×¨×ª ××ª×× ×××¨ ×× ××©×× ×©×× ×× ×©×××"],"You have been removed from this room because the room has changed to members-only and you're not a member":[null,"×××¡×¨×ª ××ª×× ×××¨ ×× ××©×× ×©××××¨ ×©×× × ××××¨××-×××× ×××× × ×××¢×× ×©× ×××¨"],"You have been removed from this room because the MUC (Multi-user chat) service is being shut down.":[null,"×××¡×¨×ª ××ª×× ×××¨ ×× ××©×× ×©×©××¨××ª ×©××´× (×©××× ××¨×××ª ××©×ª××©××) ×× ××¢×ª ××¦×× ×××××× ×¡×××¨×."],"<strong>%1$s</strong> has been banned":[null,"<strong>%1$s</strong> × ××¡×¨(×)"],"<strong>%1$s</strong> has been kicked out":[null,"<strong>%1$s</strong> × ××¢×(×)"],"<strong>%1$s</strong> has been removed because of an affiliation change":[null,"<strong>%1$s</strong> ×××¡×¨×(×) ××©×× ×©×× ×× ×©×××"],"<strong>%1$s</strong> has been removed for not being a member":[null,"<strong>%1$s</strong> ×××¡×¨(×) ××©×× ×× ××××¦×××ª ×××¡××¨×ª ××¢×× ×©× ×××¨"],'The reason given is: "':[null,""],"You are not on the member list of this room":[null,"××× × ××¨×©×××ª ××××¨×× ×©× ×××¨ ××"],"No nickname was specified":[null,"×× ×¦××× ×©×× ×©× ××× ××"],"You are not allowed to create new rooms":[null,"××× ×× ×¨×©××ª ×××¦××¨ ×××¨×× ×××©××"],"Your nickname doesn't conform to this room's policies":[null,"×©× ×××× ×× ×©×× ×× ×ª××× ××ª ××××× ××××ª ×©× ×××¨ ××"],"Your nickname is already taken":[null,"×©× ×××× ×× ×©×× ××× × ×ª×¤××¡"],"This room does not (yet) exist":[null,"×××¨ ×× (×¢××××) ×× ×§×××"],"This room has reached it's maximum number of occupants":[null,"×××¨ ×× ××××¢ ××¡×£ ×× ××××× ×××¨×× ×©××"],"Topic set by %1$s to: %2$s":[null,"× ××©× ×××¨ ×× × ×§××¢ ×¢× ××× %1$s ××: %2$s"],"%1$s has invited you to join a chat room: %2$s":[null,""],'%1$s has invited you to join a chat room: %2$s, and left the following reason: "%3$s"':[null,""],"Click to restore this chat":[null,"×××¥ ××× ××©×××¨ ××ª ×©××× ××"],Minimized:[null,"×××××¢×¨"],"Click to remove this contact":[null,"×××¥ ××× ×××¡××¨ ××ª ×××© ×§×©×¨ ××"],"Click to accept this contact request":[null,"×××¥ ××× ××§×× ××ª ××§×©×ª ×××© ×§×©×¨ ××"],"Click to decline this contact request":[null,"×××¥ ××× ××¡×¨× ××ª ××§×©×ª ×××© ×§×©×¨ ××"],"Click to chat with this contact":[null,"×××¥ ××× ××©××× ×¢× ×××© ×§×©×¨ ××"],"Are you sure you want to remove this contact?":[null,"××× ××ª× ×××× ×× ××¨×¦×× × ×××¡××¨ ××ª ×××© ×§×©×¨ ××?"],"Are you sure you want to decline this contact request?":[null,"××× ××ª× ×××× ×× ××¨×¦×× × ××¡×¨× ××ª ××§×©×ª ×××© ×§×©×¨ ××?"],"Type to filter":[null,"××§×× ××× ××¡× ×"],"I am %1$s":[null,"××¦×× ××¢×ª ××× × %1$s"],"Click here to write a custom status message":[null,"×××¥ ××× ××× ×××ª×× ××××¢×ª ××¦× ×××ª×××ª"],"Click to change your chat status":[null,"×××¥ ××× ××©× ××ª ××ª ××××¢×ª ××©××× ×©××"],"Custom status":[null,"××¦× ×××ª××"],online:[null,"××§×××"],busy:[null,"×¢×¡××§"],"away for long":[null,"× ×¢××¨ ×××× ××"],away:[null,"× ×¢××¨"],"Your XMPP provider's domain name:":[null,""],"Fetch registration form":[null,""],"Tip: A list of public XMPP providers is available":[null,""],here:[null,""],Register:[null,""],"Sorry, the given provider does not support in band account registration. Please try with a different provider.":[null,""],"Requesting a registration form from the XMPP server":[null,""],'Something went wrong while establishing a connection with "%1$s". Are you sure it exists?':[null,""],"Now logging you in":[null,""],"Registered successfully":[null,""],Return:[null,""],"The provider rejected your registration attempt. ":[null,""],"Password:":[null,"×¡××¡××:"],"Log In":[null,"×× ××¡×"],"Sign in":[null,"××ª×××¨××ª"],"Toggle chat":[null,"××¤×¢× ×©××"]}}},locales.hu={domain:"converse",locale_data:{converse:{unencrypted:[null,""],unverified:[null,""],verified:[null,""],finished:[null,""],"This contact is busy":[null,"Elfoglalt"],"This contact is online":[null,"Online"],"This contact is offline":[null,"Nincs bejelentkezve"],"This contact is unavailable":[null,"ElÃ©rhetetlen"],"This contact is away for an extended period":[null,"Hosszabb ideje tÃ¡vol"],"This contact is away":[null,"TÃ¡vol"],"My contacts":[null,"Kapcsolatok:"],"Pending contacts":[null,"FÃ¼ggÅben levÅ kapcsolatok"],"Contact requests":[null,"Kapcsolat felvÃ©teli kÃ©rÃ©s"],Ungrouped:[null,""],Contacts:[null,"Kapcsolatok"],Groups:[null,""],Error:[null,"Hiba"],Connecting:[null,"KapcsolÃ³dÃ¡s"],Authenticating:[null,"AzonosÃ­tÃ¡s"],"Authentication Failed":[null,"AzonosÃ­tÃ¡si hiba"],"Online Contacts":[null,"Online kapcsolatok"],"Re-establishing encrypted session":[null,""],"Generating private key.":[null,""],"Your browser might become unresponsive.":[null,""],"Authentication request from %1$s\n\nYour chat contact is attempting to verify your identity, by asking you the question below.\n\n%2$s":[null,""],"Could not verify this user's identify.":[null,""],"Exchanging private key with contact.":[null,""],"Personal message":[null,"SajÃ¡t Ã¼zenet"],me:[null,"Ã©n"],"Show this menu":[null,"Mutasd ezt a menÃ¼t"],"Write in the third person":[null,""],"Remove messages":[null,"Ãzenet tÃ¶rlÃ©se"],"Are you sure you want to clear the messages from this chat box?":[null,""],"Your message could not be sent":[null,""],"We received an unencrypted message":[null,""],"We received an unreadable encrypted message":[null,""],"This user has requested an encrypted session.":[null,""],"Here are the fingerprints, please confirm them with %1$s, outside of this chat.\n\nFingerprint for you, %2$s: %3$s\n\nFingerprint for %1$s: %4$s\n\nIf you have confirmed that the fingerprints match, click OK, otherwise click Cancel.":[null,""],"You will be prompted to provide a security question and then an answer to that question.\n\nYour contact will then be prompted the same question and if they type the exact same answer (case sensitive), their identity will be verified.":[null,""],"What is your security question?":[null,""],"What is the answer to the security question?":[null,""],"Invalid authentication scheme provided":[null,""],"Your messages are not encrypted anymore":[null,""],"Your messages are now encrypted but your contact's identity has not been verified.":[null,""],"Your contact's identify has been verified.":[null,""],"Your contact has ended encryption on their end, you should do the same.":[null,""],"Your messages are not encrypted. Click here to enable OTR encryption.":[null,""],"Your messages are encrypted, but your contact has not been verified.":[null,""],"Your messages are encrypted and your contact verified.":[null,""],"Your contact has closed their end of the private session, you should do the same":[null,""],"End encrypted conversation":[null,""],"Hide the list of participants":[null,""],"Refresh encrypted conversation":[null,""],"Start a call":[null,""],"Start encrypted conversation":[null,""],"Verify with fingerprints":[null,""],"Verify with SMP":[null,""],"What's this?":[null,""],Online:[null,"ElÃ©rhetÅ"],Busy:[null,"Foglalt"],Away:[null,"TÃ¡vol"],Offline:[null,"Nem elÃ©rhetÅ"],"Contact name":[null,"Kapcsolat neve"],Search:[null,"KeresÃ©s"],"Contact username":[null,"FelhasznÃ¡lÃ³nÃ©v"],Add:[null,"HozzÃ¡adÃ¡s"],"Click to add new chat contacts":[null,"Ãj kapcsolatok hozzÃ¡adÃ¡sa"],"Add a contact":[null,"Ãj kapcsolat"],"No users found":[null,"Nincs talÃ¡lat"],"Click to add as a chat contact":[null,"CsevegÅ kapcsolatkÃ©nt hozzÃ¡ad"],"Room name":[null,"A szoba neve"],Nickname:[null,"BecenÃ©v"],Server:[null,"Szerver"],Join:[null,"CsatlakozÃ¡s"],"Show rooms":[null,"LÃ©tezÅ szobÃ¡k"],Rooms:[null,"SzobÃ¡k"],"No rooms on %1$s":[null,"Nincs csevegÅ szoba a(z) %1$s szerveren"],"Rooms on %1$s":[null,"CsevegÅ szobÃ¡k a(z) %1$s szerveren"],"Click to open this room":[null,"BelÃ©pÃ©s a csevegÅ szobÃ¡ba"],"Show more information on this room":[null,"TovÃ¡bbi informÃ¡ciÃ³k a csevegÅ szobÃ¡rÃ³l"],"Description:":[null,"LeÃ­rÃ¡s:"],"Occupants:":[null,"JelenlevÅk:"],"Features:":[null,"TulajdonsÃ¡gok"],"Requires authentication":[null,"AzonosÃ­tÃ¡s szÃ¼ksÃ©ges"],Hidden:[null,"Rejtett"],"Requires an invitation":[null,"MeghÃ­vÃ¡s szÃ¼ksÃ©ges"],Moderated:[null,"ModerÃ¡lt"],"Non-anonymous":[null,"NEM nÃ©vtelen"],"Open room":[null,"Nyitott szoba"],"Permanent room":[null,"ÃllandÃ³ szoba"],Public:[null,"NyÃ­lvÃ¡nos"],"Semi-anonymous":[null,"FÃ©lig nÃ©vtelen"],"Temporary room":[null,"Ideiglenes szoba"],Unmoderated:[null,"ModerÃ¡latlan"],"This user is a moderator":[null,"Ez a felhasznÃ¡lÃ³ egy moderÃ¡tor"],"This user can send messages in this room":[null,"Ez a felhasznÃ¡lÃ³ kÃ¼ldhet Ã¼zenetet ebbe a szobÃ¡ba"],"This user can NOT send messages in this room":[null,"Ez a felhasznÃ¡lÃ³ NEM kÃ¼ldhet Ã¼zenetet ebbe a szobÃ¡ba"],"Invite...":[null,""],'You are about to invite %1$s to the chat room "%2$s". ':[null,""],"You may optionally include a message, explaining the reason for the invitation.":[null,""],Message:[null,"Ãzenet"],"Error: could not execute the command":[null,""],"Write in 3rd person":[null,""],"Remove user's ability to post messages":[null,""],"Change your nickname":[null,""],"Allow muted user to post messages":[null,""],Save:[null,"MentÃ©s"],Cancel:[null,"MÃ©gsem"],"An error occurred while trying to save the form.":[null,"Hiba tÃ¶rtÃ©nt az adatok mentÃ©se kÃ¶zben."],"This chatroom requires a password":[null,"A csevegÅ szoba belÃ©pÃ©shez jelszÃ³ szÃ¼ksÃ©ges"],"Password: ":[null,"JelszÃ³:"],Submit:[null,"KÃ¼ldÃ©s"],"This room is not anonymous":[null,"Ez a szoba NEM nÃ©vtelen"],"This room now shows unavailable members":[null,"Ez a szoba mutatja az elÃ©rhetetlen tagokat"],"This room does not show unavailable members":[null,"Ez a szoba nem mutatja az elÃ©rhetetlen tagokat"],"Non-privacy-related room configuration has changed":[null,"A szoba Ã¡ltalÃ¡nos konfigurÃ¡ciÃ³ja mÃ³dosult"],"Room logging is now enabled":[null,"A szobÃ¡ba a belÃ©pÃ©s lehetsÃ©ges"],"Room logging is now disabled":[null,"A szobÃ¡ba a belÃ©pÃ©s szÃ¼netel"],"This room is now non-anonymous":[null,"Ez a szoba most NEM nÃ©vtelen"],"This room is now semi-anonymous":[null,"Ez a szoba most fÃ©lig nÃ©vtelen"],"This room is now fully-anonymous":[null,"Ez a szoba most teljesen nÃ©vtelen"],"A new room has been created":[null,"LÃ©trejÃ¶tt egy Ãºj csevegÅ szoba"],"You have been banned from this room":[null,"Ki lettÃ©l tÃ­ltva ebbÅl a szobÃ¡bÃ³l"],"You have been kicked from this room":[null,"Ki lettÃ©l dobva ebbÅl a szobÃ¡bÃ³l"],"You have been removed from this room because of an affiliation change":[null,"Taglista mÃ³dosÃ­tÃ¡s miatt kilÃ©ptettÃ¼nk a csevegÅ szobÃ¡bÃ³l"],"You have been removed from this room because the room has changed to members-only and you're not a member":[null,"KilÃ©ptettÃ¼nk a csevegÅ szobÃ¡bÃ³l, mert mostantÃ³l csak a taglistÃ¡n szereplÅk lehetnek jelen."],"You have been removed from this room because the MUC (Multi-user chat) service is being shut down.":[null,"KilÃ©ptettÃ¼nk a csevegÅ szobÃ¡bÃ³l, mert a MUC (Multi-User Chat) szolgÃ¡ltatÃ¡s leÃ¡llÃ­tÃ¡sra kerÃ¼lt."],"<strong>%1$s</strong> has been banned":[null,"A szobÃ¡bÃ³l kitÃ­ltva: <strong>%1$s</strong>"],"<strong>%1$s</strong> has been kicked out":[null,"A szobÃ¡bÃ³l kidobva: <strong>%1$s</strong>"],"<strong>%1$s</strong> has been removed because of an affiliation change":[null,"Taglista mÃ³dosÃ­tÃ¡s miatt a szobÃ¡bÃ³l kilÃ©ptetve: <strong>%1$s</strong>"],"<strong>%1$s</strong> has been removed for not being a member":[null,"A taglistÃ¡n nem szerepel Ã­gy a szobÃ¡bÃ³l kilÃ©ptetve: <strong>%1$s</strong>"],'The reason given is: "':[null,""],"You are not on the member list of this room":[null,"Nem szerepelsz a csevegÅ szoba taglistÃ¡jÃ¡n"],"No nickname was specified":[null,"Nem lett megadva becenÃ©v"],"You are not allowed to create new rooms":[null,"Nem lehet Ãºj csevegÅ szobÃ¡t lÃ©trehozni"],"Your nickname doesn't conform to this room's policies":[null,"A beceneved Ã¼tkÃ¶zik a csevegÅ szoba szabÃ¡lyzataival"],"Your nickname is already taken":[null,"A becenevedet mÃ¡r valaki hasznÃ¡lja"],"This room does not (yet) exist":[null,"Ez a szoba (mÃ©g) nem lÃ©tezik"],"This room has reached it's maximum number of occupants":[null,"Ez a csevegÅ szoba elÃ©rte a maximÃ¡lis jelenlevÅk szÃ¡mÃ¡t"],"Topic set by %1$s to: %2$s":[null,"A kÃ¶vetkezÅ tÃ©mÃ¡t Ã¡llÃ­totta be %1$s: %2$s"],"%1$s has invited you to join a chat room: %2$s":[null,""],'%1$s has invited you to join a chat room: %2$s, and left the following reason: "%3$s"':[null,""],Minimized:[null,""],"Click to remove this contact":[null,"A kapcsolat tÃ¶rlÃ©se"],"Click to chat with this contact":[null,"CsevegÃ©s indÃ­tÃ¡sa ezzel a kapcsolatunkkal"],"Type to filter":[null,""],"I am %1$s":[null,"%1$s vagyok"],"Click here to write a custom status message":[null,"Egyedi stÃ¡tusz Ã¼zenet Ã­rÃ¡sa"],"Click to change your chat status":[null,"SajÃ¡t stÃ¡tusz beÃ¡llÃ­tÃ¡sa"],"Custom status":[null,"Egyedi stÃ¡tusz"],online:[null,"online"],busy:[null,"elfoglalt"],"away for long":[null,"hosszÃº ideje tÃ¡vol"],away:[null,"tÃ¡vol"],"Your XMPP provider's domain name:":[null,""],"Fetch registration form":[null,""],"Tip: A list of public XMPP providers is available":[null,""],here:[null,""],Register:[null,""],"Sorry, the given provider does not support in band account registration. Please try with a different provider.":[null,""],"Requesting a registration form from the XMPP server":[null,""],'Something went wrong while establishing a connection with "%1$s". Are you sure it exists?':[null,""],
"Now logging you in":[null,""],"Registered successfully":[null,""],Return:[null,""],"The provider rejected your registration attempt. ":[null,""],"Password:":[null,"JelszÃ³:"],"Log In":[null,"BelÃ©pÃ©s"],"Sign in":[null,"BelÃ©pÃ©s"],"Toggle chat":[null,""],"":{domain:"converse",lang:"hu"}}}},locales.id={domain:"converse",locale_data:{converse:{"":{domain:"converse",lang:"id"},unencrypted:[null,"tak dienkripsi"],unverified:[null,"tak diverifikasi"],verified:[null,"diverifikasi"],finished:[null,"selesai"],"This contact is busy":[null,"Teman ini sedang sibuk"],"This contact is online":[null,"Teman ini terhubung"],"This contact is offline":[null,"Teman ini tidak terhubung"],"This contact is unavailable":[null,"Teman ini tidak tersedia"],"This contact is away for an extended period":[null,"Teman ini tidak di tempat untuk waktu yang lama"],"This contact is away":[null,"Teman ini tidak di tempat"],"My contacts":[null,"Teman saya"],"Pending contacts":[null,"Teman yang menunggu"],"Contact requests":[null,"Permintaan pertemanan"],Ungrouped:[null,""],Contacts:[null,"Teman"],Groups:[null,""],Error:[null,"Kesalahan"],Connecting:[null,"Menyambung"],Authenticating:[null,"Melakukan otentikasi"],"Authentication Failed":[null,"Otentikasi gagal"],"Online Contacts":[null,"Teman yang Terhubung"],"Re-establishing encrypted session":[null,"Menyambung kembali sesi terenkripsi"],"Generating private key.":[null,""],"Your browser might become unresponsive.":[null,""],"Could not verify this user's identify.":[null,"Tak dapat melakukan verifikasi identitas pengguna ini."],"Exchanging private key with contact.":[null,""],"Personal message":[null,"Pesan pribadi"],me:[null,"saya"],"is typing":[null,""],"has stopped typing":[null,""],"Show this menu":[null,"Tampilkan menu ini"],"Write in the third person":[null,"Tulis ini menggunakan bahasa pihak ketiga"],"Remove messages":[null,"Hapus pesan"],"Are you sure you want to clear the messages from this chat box?":[null,""],"Your message could not be sent":[null,"Pesan anda tak dapat dikirim"],"We received an unencrypted message":[null,"Kami menerima pesan terenkripsi"],"We received an unreadable encrypted message":[null,"Kami menerima pesan terenkripsi yang gagal dibaca"],"This user has requested an encrypted session.":[null,"Pengguna ini meminta sesi terenkripsi"],"Here are the fingerprints, please confirm them with %1$s, outside of this chat.\n\nFingerprint for you, %2$s: %3$s\n\nFingerprint for %1$s: %4$s\n\nIf you have confirmed that the fingerprints match, click OK, otherwise click Cancel.":[null,"Ini adalah sidik jari anda, konfirmasikan bersama mereka dengan %1$s, di luar percakapan ini.\n\nSidik jari untuk anda, %2$s: %3$s\n\nSidik jari untuk %1$s: %4$s\n\nJika anda bisa mengkonfirmasi sidik jadi cocok, klik Lanjutkan, jika tidak klik Batal."],"What is your security question?":[null,"Apakah pertanyaan keamanan anda?"],"What is the answer to the security question?":[null,"Apa jawaban dari pertanyaan keamanan tersebut?"],"Invalid authentication scheme provided":[null,"Skema otentikasi salah"],"Your messages are not encrypted anymore":[null,"Pesan anda tidak lagi terenkripsi"],"Your messages are not encrypted. Click here to enable OTR encryption.":[null,"Pesan anda tak terenkripsi. Klik di sini untuk menyalakan enkripsi OTR."],"End encrypted conversation":[null,"Sudahi percakapan terenkripsi"],"Hide the list of participants":[null,""],"Refresh encrypted conversation":[null,"Setel ulang percakapan terenkripsi"],"Start a call":[null,""],"Start encrypted conversation":[null,"Mulai sesi terenkripsi"],"Verify with fingerprints":[null,"Verifikasi menggunakan sidik jari"],"Verify with SMP":[null,"Verifikasi menggunakan SMP"],"What's this?":[null,"Apakah ini?"],Online:[null,"Terhubung"],Busy:[null,"Sibuk"],Away:[null,"Pergi"],Offline:[null,"Tak Terhubung"],"Contact name":[null,"Nama teman"],Search:[null,"Cari"],"Contact username":[null,"Username teman"],Add:[null,"Tambah"],"Click to add new chat contacts":[null,"Klik untuk menambahkan teman baru"],"Add a contact":[null,"Tambah teman"],"No users found":[null,"Pengguna tak ditemukan"],"Click to add as a chat contact":[null,"Klik untuk menambahkan sebagai teman"],"Room name":[null,"Nama ruangan"],Nickname:[null,"Nama panggilan"],Server:[null,"Server"],Join:[null,"Ikuti"],"Show rooms":[null,"Perlihatkan ruangan"],Rooms:[null,"Ruangan"],"No rooms on %1$s":[null,"Tak ada ruangan di %1$s"],"Rooms on %1$s":[null,"Ruangan di %1$s"],"Click to open this room":[null,"Klik untuk membuka ruangan ini"],"Show more information on this room":[null,"Tampilkan informasi ruangan ini"],"Description:":[null,"Keterangan:"],"Occupants:":[null,"Penghuni:"],"Features:":[null,"Fitur:"],"Requires authentication":[null,"Membutuhkan otentikasi"],Hidden:[null,"Tersembunyi"],"Requires an invitation":[null,"Membutuhkan undangan"],Moderated:[null,"Dimoderasi"],"Non-anonymous":[null,"Tidak anonim"],"Open room":[null,"Ruangan terbuka"],"Permanent room":[null,"Ruangan permanen"],Public:[null,"Umum"],"Semi-anonymous":[null,"Semi-anonim"],"Temporary room":[null,"Ruangan sementara"],Unmoderated:[null,"Tak dimoderasi"],"This user is a moderator":[null,"Pengguna ini adalah moderator"],"This user can send messages in this room":[null,"Pengguna ini dapat mengirim pesan di ruangan ini"],"This user can NOT send messages in this room":[null,"Pengguna ini tak dapat mengirim pesan di ruangan ini"],"Invite...":[null,""],'You are about to invite %1$s to the chat room "%2$s". ':[null,""],"You may optionally include a message, explaining the reason for the invitation.":[null,""],Message:[null,"Pesan"],"Error: could not execute the command":[null,""],"Remove user's ability to post messages":[null,""],"Change your nickname":[null,""],"Allow muted user to post messages":[null,""],Save:[null,"Simpan"],Cancel:[null,"Batal"],"An error occurred while trying to save the form.":[null,"Kesalahan terjadi saat menyimpan formulir ini."],"This chatroom requires a password":[null,"Ruangan ini membutuhkan kata sandi"],"Password: ":[null,"Kata sandi: "],Submit:[null,"Kirim"],"This room is not anonymous":[null,"Ruangan ini tidak anonim"],"This room now shows unavailable members":[null,"Ruangan ini menampilkan anggota yang tak tersedia"],"This room does not show unavailable members":[null,"Ruangan ini tidak menampilkan anggota yang tak tersedia"],"Non-privacy-related room configuration has changed":[null,"Konfigurasi ruangan yang tak berhubungan dengan privasi telah diubah"],"Room logging is now enabled":[null,"Pencatatan di ruangan ini sekarang dinyalakan"],"Room logging is now disabled":[null,"Pencatatan di ruangan ini sekarang dimatikan"],"This room is now non-anonymous":[null,"Ruangan ini sekarang tak-anonim"],"This room is now semi-anonymous":[null,"Ruangan ini sekarang semi-anonim"],"This room is now fully-anonymous":[null,"Ruangan ini sekarang anonim"],"A new room has been created":[null,"Ruangan baru telah dibuat"],"You have been banned from this room":[null,"Anda telah dicekal dari ruangan ini"],"You have been kicked from this room":[null,"Anda telah ditendang dari ruangan ini"],"You have been removed from this room because of an affiliation change":[null,"Anda telah dihapus dari ruangan ini karena perubahan afiliasi"],"You have been removed from this room because the room has changed to members-only and you're not a member":[null,"Anda telah dihapus dari ruangan ini karena ruangan ini hanya terbuka untuk anggota dan anda bukan anggota"],"You have been removed from this room because the MUC (Multi-user chat) service is being shut down.":[null,"Anda telah dihapus dari ruangan ini karena layanan MUC (Multi-user chat) telah dimatikan."],"<strong>%1$s</strong> has been banned":[null,"<strong>%1$s</strong> telah dicekal"],"<strong>%1$s</strong> has been kicked out":[null,"<strong>%1$s</strong> telah ditendang keluar"],"<strong>%1$s</strong> has been removed because of an affiliation change":[null,"<strong>%1$s</strong> telah dihapus karena perubahan afiliasi"],"<strong>%1$s</strong> has been removed for not being a member":[null,"<strong>%1$s</strong> telah dihapus karena bukan anggota"],'The reason given is: "':[null,""],"You are not on the member list of this room":[null,"Anda bukan anggota dari ruangan ini"],"No nickname was specified":[null,"Nama panggilan belum ditentukan"],"You are not allowed to create new rooms":[null,"Anda tak diizinkan untuk membuat ruangan baru"],"Your nickname doesn't conform to this room's policies":[null,"Nama panggilan anda tidak sesuai aturan ruangan ini"],"Your nickname is already taken":[null,"Nama panggilan anda telah digunakan orang lain"],"This room does not (yet) exist":[null,"Ruangan ini belum dibuat"],"This room has reached it's maximum number of occupants":[null,"Ruangan ini telah mencapai jumlah penghuni maksimum"],"Topic set by %1$s to: %2$s":[null,"Topik diganti oleh %1$s menjadi: %2$s"],"%1$s has invited you to join a chat room: %2$s":[null,""],'%1$s has invited you to join a chat room: %2$s, and left the following reason: "%3$s"':[null,""],Minimized:[null,""],"Click to remove this contact":[null,"Klik untuk menghapus teman ini"],"Click to chat with this contact":[null,"Klik untuk mulai perbinjangan dengan teman ini"],"Type to filter":[null,""],"I am %1$s":[null,"Saya %1$s"],"Click here to write a custom status message":[null,"Klik untuk menulis status kustom"],"Click to change your chat status":[null,"Klik untuk mengganti status"],"Custom status":[null,"Status kustom"],online:[null,"terhubung"],busy:[null,"sibuk"],"away for long":[null,"lama tak di tempat"],away:[null,"tak di tempat"],"Your XMPP provider's domain name:":[null,""],"Fetch registration form":[null,""],"Tip: A list of public XMPP providers is available":[null,""],here:[null,""],Register:[null,""],"Sorry, the given provider does not support in band account registration. Please try with a different provider.":[null,""],"Requesting a registration form from the XMPP server":[null,""],'Something went wrong while establishing a connection with "%1$s". Are you sure it exists?':[null,""],"Now logging you in":[null,""],"Registered successfully":[null,""],Return:[null,""],"The provider rejected your registration attempt. ":[null,""],"Password:":[null,"Kata sandi:"],"Log In":[null,"Masuk"],"Sign in":[null,"Masuk"],"Toggle chat":[null,""]}}},locales.it={domain:"converse",locale_data:{converse:{"":{domain:"converse",plural_forms:"nplurals=2; plural=(n != 1);",lang:"it"},unencrypted:[null,""],unverified:[null,""],verified:[null,""],finished:[null,""],"This contact is busy":[null,""],"This contact is online":[null,""],"This contact is offline":[null,""],"This contact is away for an extended period":[null,""],"This contact is away":[null,""],"My contacts":[null,"I miei contatti"],"Pending contacts":[null,"Contatti in attesa"],"Contact requests":[null,"Richieste dei contatti"],Ungrouped:[null,""],Contacts:[null,"Contatti"],Groups:[null,""],Error:[null,"Errore"],Connecting:[null,"Connessione in corso"],Authenticating:[null,"Autenticazione in corso"],"Authentication Failed":[null,"Autenticazione fallita"],"Online Contacts":[null,"Contatti in linea"],"Re-establishing encrypted session":[null,""],"Generating private key.":[null,""],"Your browser might become unresponsive.":[null,""],"Authentication request from %1$s\n\nYour chat contact is attempting to verify your identity, by asking you the question below.\n\n%2$s":[null,""],"Could not verify this user's identify.":[null,""],"Exchanging private key with contact.":[null,""],"Personal message":[null,"Messaggio personale"],me:[null,""],"is typing":[null,""],"has stopped typing":[null,""],"Show this menu":[null,"Mostra questo menu"],"Write in the third person":[null,"Scrivi in terza persona"],"Remove messages":[null,"Rimuovi messaggi"],"Are you sure you want to clear the messages from this chat box?":[null,""],"Your message could not be sent":[null,""],"We received an unencrypted message":[null,""],"We received an unreadable encrypted message":[null,""],"This user has requested an encrypted session.":[null,""],"Here are the fingerprints, please confirm them with %1$s, outside of this chat.\n\nFingerprint for you, %2$s: %3$s\n\nFingerprint for %1$s: %4$s\n\nIf you have confirmed that the fingerprints match, click OK, otherwise click Cancel.":[null,""],"You will be prompted to provide a security question and then an answer to that question.\n\nYour contact will then be prompted the same question and if they type the exact same answer (case sensitive), their identity will be verified.":[null,""],"What is your security question?":[null,""],"What is the answer to the security question?":[null,""],"Invalid authentication scheme provided":[null,""],"Your messages are not encrypted anymore":[null,""],"Your messages are now encrypted but your contact's identity has not been verified.":[null,""],"Your contact's identify has been verified.":[null,""],"Your contact has ended encryption on their end, you should do the same.":[null,""],"Your messages are not encrypted. Click here to enable OTR encryption.":[null,""],"Your messages are encrypted, but your contact has not been verified.":[null,""],"Your messages are encrypted and your contact verified.":[null,""],"Your contact has closed their end of the private session, you should do the same":[null,""],"End encrypted conversation":[null,""],"Hide the list of participants":[null,""],"Refresh encrypted conversation":[null,""],"Start a call":[null,""],"Start encrypted conversation":[null,""],"Verify with fingerprints":[null,""],"Verify with SMP":[null,""],"What's this?":[null,""],Online:[null,"In linea"],Busy:[null,"Occupato"],Away:[null,"Assente"],Offline:[null,"Non in linea"],"Contact name":[null,"Nome del contatto"],Search:[null,"Cerca"],"Contact username":[null,"Nome utente del contatto"],Add:[null,"Aggiungi"],"Click to add new chat contacts":[null,"Clicca per aggiungere nuovi contatti alla chat"],"Add a contact":[null,"Aggiungi contatti"],"No users found":[null,"Nessun utente trovato"],"Click to add as a chat contact":[null,"Clicca per aggiungere il contatto alla chat"],"Room name":[null,"Nome stanza"],Nickname:[null,"Soprannome"],Server:[null,"Server"],Join:[null,"Entra"],"Show rooms":[null,"Mostra stanze"],Rooms:[null,"Stanze"],"No rooms on %1$s":[null,"Nessuna stanza su %1$s"],"Rooms on %1$s":[null,"Stanze su %1$s"],"Click to open this room":[null,"Clicca per aprire questa stanza"],"Show more information on this room":[null,"Mostra piÃ¹ informazioni su questa stanza"],"Description:":[null,"Descrizione:"],"Occupants:":[null,"Utenti presenti:"],"Features:":[null,"FunzionalitÃ :"],"Requires authentication":[null,"Richiede autenticazione"],Hidden:[null,"Nascosta"],"Requires an invitation":[null,"Richiede un invito"],Moderated:[null,"Moderata"],"Non-anonymous":[null,"Non-anonima"],"Open room":[null,"Stanza aperta"],"Permanent room":[null,"Stanza permanente"],Public:[null,"Pubblica"],"Semi-anonymous":[null,"Semi-anonima"],"Temporary room":[null,"Stanza temporanea"],Unmoderated:[null,"Non moderata"],"This user is a moderator":[null,"Questo utente Ã¨ un moderatore"],"This user can send messages in this room":[null,"Questo utente puÃ² inviare messaggi in questa stanza"],"This user can NOT send messages in this room":[null,"Questo utente NON puÃ² inviare messaggi in questa stanza"],"Invite...":[null,""],'You are about to invite %1$s to the chat room "%2$s". ':[null,""],"You may optionally include a message, explaining the reason for the invitation.":[null,""],Message:[null,"Messaggio"],"Error: could not execute the command":[null,""],"Remove user's ability to post messages":[null,""],"Change your nickname":[null,""],"Allow muted user to post messages":[null,""],Save:[null,"Salva"],Cancel:[null,"Annulla"],"An error occurred while trying to save the form.":[null,"Errore durante il salvataggio del modulo"],"This chatroom requires a password":[null,"Questa stanza richiede una password"],"Password: ":[null,"Password: "],Submit:[null,"Invia"],"This room is not anonymous":[null,"Questa stanza non Ã¨ anonima"],"This room now shows unavailable members":[null,"Questa stanza mostra i membri non disponibili al momento"],"This room does not show unavailable members":[null,"Questa stanza non mostra i membri non disponibili"],"Non-privacy-related room configuration has changed":[null,"Una configurazione della stanza non legata alla privacy Ã¨ stata modificata"],"Room logging is now enabled":[null,"La registrazione Ã¨ abilitata nella stanza"],"Room logging is now disabled":[null,"La registrazione Ã¨ disabilitata nella stanza"],"This room is now non-anonymous":[null,"Questa stanza Ã¨ non-anonima"],"This room is now semi-anonymous":[null,"Questa stanza Ã¨ semi-anonima"],"This room is now fully-anonymous":[null,"Questa stanza Ã¨ completamente-anonima"],"A new room has been created":[null,"Una nuova stanza Ã¨ stata creata"],"You have been banned from this room":[null,"Sei stato bandito da questa stanza"],"You have been kicked from this room":[null,"Sei stato espulso da questa stanza"],"You have been removed from this room because of an affiliation change":[null,"Sei stato rimosso da questa stanza a causa di un cambio di affiliazione"],"You have been removed from this room because the room has changed to members-only and you're not a member":[null,"Sei stato rimosso da questa stanza poichÃ© ora la stanza accetta solo membri"],"You have been removed from this room because the MUC (Multi-user chat) service is being shut down.":[null,"Sei stato rimosso da questa stanza poichÃ© il servizio MUC (Chat multi utente) Ã¨ in fase di spegnimento"],"<strong>%1$s</strong> has been banned":[null,"<strong>%1$s</strong> Ã¨ stato bandito"],"<strong>%1$s</strong> has been kicked out":[null,"<strong>%1$s</strong> Ã¨ stato espulso"],"<strong>%1$s</strong> has been removed because of an affiliation change":[null,"<strong>%1$s</strong> Ã¨ stato rimosso a causa di un cambio di affiliazione"],"<strong>%1$s</strong> has been removed for not being a member":[null,"<strong>%1$s</strong> Ã¨ stato rimosso in quanto non membro"],'The reason given is: "':[null,""],"You are not on the member list of this room":[null,"Non sei nella lista dei membri di questa stanza"],"No nickname was specified":[null,"Nessun soprannome specificato"],"You are not allowed to create new rooms":[null,"Non ti Ã¨ permesso creare nuove stanze"],"Your nickname doesn't conform to this room's policies":[null,"Il tuo soprannome non Ã¨ conforme alle regole di questa stanza"],"Your nickname is already taken":[null,"Il tuo soprannome Ã¨ giÃ  utilizzato"],"This room does not (yet) exist":[null,"Questa stanza non esiste (per ora)"],"This room has reached it's maximum number of occupants":[null,"Questa stanza ha raggiunto il limite massimo di utenti"],"Topic set by %1$s to: %2$s":[null,"Topic impostato da %1$s a: %2$s"],"%1$s has invited you to join a chat room: %2$s":[null,""],'%1$s has invited you to join a chat room: %2$s, and left the following reason: "%3$s"':[null,""],Minimized:[null,""],"Click to remove this contact":[null,"Clicca per rimuovere questo contatto"],"Click to chat with this contact":[null,"Clicca per parlare con questo contatto"],"Type to filter":[null,""],"I am %1$s":[null,"Sono %1$s"],"Click here to write a custom status message":[null,"Clicca qui per scrivere un messaggio di stato personalizzato"],"Click to change your chat status":[null,"Clicca per cambiare il tuo stato"],"Custom status":[null,"Stato personalizzato"],online:[null,"in linea"],busy:[null,"occupato"],"away for long":[null,"assente da molto"],away:[null,"assente"],"Your XMPP provider's domain name:":[null,""],"Fetch registration form":[null,""],"Tip: A list of public XMPP providers is available":[null,""],here:[null,""],Register:[null,""],"Sorry, the given provider does not support in band account registration. Please try with a different provider.":[null,""],"Requesting a registration form from the XMPP server":[null,""],'Something went wrong while establishing a connection with "%1$s". Are you sure it exists?':[null,""],"Now logging you in":[null,""],"Registered successfully":[null,""],Return:[null,""],"The provider rejected your registration attempt. ":[null,""],"Password:":[null,"Password:"],"Log In":[null,"Entra"],"Sign in":[null,"Accesso"],"Toggle chat":[null,""]}}},locales.ja={domain:"converse",locale_data:{converse:{"":{domain:"converse",plural_forms:"nplurals=1; plural=0;",lang:"JA"},unencrypted:[null,"æå·åããã¦ãã¾ãã"],unverified:[null,"æ¤è¨¼ããã¦ãã¾ãã"],verified:[null,"æ¤è¨¼ããã¾ãã"],finished:[null,"å®äº"],"This contact is busy":[null,"ãã®ç¸æåã¯åãè¾¼ã¿ä¸­ã§ã"],"This contact is online":[null,"ãã®ç¸æåã¯å¨å¸­ãã¦ãã¾ã"],"This contact is offline":[null,"ãã®ç¸æåã¯ãªãã©ã¤ã³ã§ã"],"This contact is unavailable":[null,"ãã®ç¸æåã¯ä¸éã§ã"],"This contact is away for an extended period":[null,"ãã®ç¸æåã¯ä¸å¨ã§ã"],"This contact is away":[null,"ãã®ç¸æåã¯é¢å¸­ä¸­ã§ã"],"My contacts":[null,"ç¸æåä¸è¦§"],"Pending contacts":[null,"ä¿çä¸­ã®ç¸æå"],"Contact requests":[null,"ä¼è©±ã«å¼ã³åºã"],Ungrouped:[null,""],Contacts:[null,"ç¸æå"],Groups:[null,""],Error:[null,"ã¨ã©ã¼"],Connecting:[null,"æ¥ç¶ä¸­ã§ã"],Authenticating:[null,"èªè¨¼ä¸­"],"Authentication Failed":[null,"èªè¨¼ã«å¤±æ"],"Online Contacts":[null,"ãªã³ã©ã¤ã³ã®ç¸æå"],"Re-establishing encrypted session":[null,"æå·åã»ãã·ã§ã³ã®åæ¥ç¶"],"Generating private key.":[null,""],"Your browser might become unresponsive.":[null,""],"Could not verify this user's identify.":[null,"ãã®ã¦ã¼ã¶ã¼ã®æ¬äººæ§ãæ¤è¨¼ã§ãã¾ããã§ããã"],"Exchanging private key with contact.":[null,""],"Personal message":[null,"ç§ä¿¡"],me:[null,"ç§"],"is typing":[null,""],"has stopped typing":[null,""],"Show this menu":[null,"ãã®ã¡ãã¥ã¼ãè¡¨ç¤º"],"Write in the third person":[null,"ç¬¬ä¸èã«æ¸ã"],"Remove messages":[null,"ã¡ãã»ã¼ã¸ãåé¤"],"Are you sure you want to clear the messages from this chat box?":[null,""],"Your message could not be sent":[null,"ã¡ãã»ã¼ã¸ãéä¿¡ã§ãã¾ããã§ãã"],"We received an unencrypted message":[null,"æå·åããã¦ããªãã¡ãã»ã¼ã¸ãåä¿¡ãã¾ãã"],"We received an unreadable encrypted message":[null,"èª­ããªãæå·åã¡ãã»ã¼ã¸ãåä¿¡ãã¾ãã"],"This user has requested an encrypted session.":[null,"ãã®ã¦ã¼ã¶ã¼ã¯æå·åã»ãã·ã§ã³ãæ±ãã¦ãã¾ãã"],"Here are the fingerprints, please confirm them with %1$s, outside of this chat.\n\nFingerprint for you, %2$s: %3$s\n\nFingerprint for %1$s: %4$s\n\nIf you have confirmed that the fingerprints match, click OK, otherwise click Cancel.":[null,"ããã¯éµæç´ã§ãããã£ããä»¥å¤ã®æ¹æ³ã§ãããã %1$s ã¨ç¢ºèªãã¦ãã ããã\n\nããªã %2$s ã®éµæç´: %3$s\n\n%1$s ã®éµæç´: %4$s\n\nç¢ºèªãã¦ãéµæç´ãæ­£ãããã°ãOKãããæ­£ãããªããã°ãã­ã£ã³ã»ã«ããã¯ãªãã¯ãã¦ãã ããã"],"What is your security question?":[null,"ç§å¯ã®è³ªåã¯ãªãã§ãã?"],"What is the answer to the security question?":[null,"ç§å¯ã®è³ªåã®ç­ã¯ãªãã§ãã?"],"Invalid authentication scheme provided":[null,"èªè¨¼ã®æ¹å¼ãæ­£ããããã¾ãã"],"Your messages are not encrypted anymore":[null,"ã¡ãã»ã¼ã¸ã¯ããæå·åããã¾ãã"],"Your messages are not encrypted. Click here to enable OTR encryption.":[null,"ã¡ãã»ã¼ã¸ã¯æå·åããã¾ãããOTR æå·åãæå¹ã«ããã«ã¯ãããã¯ãªãã¯ãã¦ãã ããã"],"End encrypted conversation":[null,"æå·åãããä¼è©±ãçµäº"],"Hide the list of participants":[null,""],"Refresh encrypted conversation":[null,"æå·åãããä¼è©±ããªãã¬ãã·ã¥"],"Start a call":[null,""],"Start encrypted conversation":[null,"æå·åãããä¼è©±ãéå§"],"Verify with fingerprints":[null,"éµæç´ã§æ¤è¨¼"],"Verify with SMP":[null,"SMP ã§æ¤è¨¼"],"What's this?":[null,"ããã¯ä½ã§ãã?"],Online:[null,"ãªã³ã©ã¤ã³"],Busy:[null,"åãè¾¼ã¿ä¸­"],Away:[null,"é¢å¸­ä¸­"],Offline:[null,"ãªãã©ã¤ã³"],"Contact name":[null,"åå"],Search:[null,"æ¤ç´¢"],"Contact username":[null,"ç¸æåã®åå"],Add:[null,"è¿½å "],"Click to add new chat contacts":[null,"ã¯ãªãã¯ãã¦æ°ãããã£ããã®ç¸æåãè¿½å "],"Add a contact":[null,"ç¸æåãè¿½å "],"No users found":[null,"ã¦ã¼ã¶ã¼ãè¦ã¤ããã¾ãã"],"Click to add as a chat contact":[null,"ã¯ãªãã¯ãã¦ãã£ããã®ç¸æåã¨ãã¦è¿½å "],"Room name":[null,"è«è©±å®¤ã®åå"],Nickname:[null,"ããã¯ãã¼ã "],Server:[null,"ãµã¼ãã¼"],Join:[null,"å¥å®¤"],"Show rooms":[null,"è«è©±å®¤ä¸è¦§ãè¦ã"],Rooms:[null,"è«è©±å®¤"],"No rooms on %1$s":[null,"%1$s ã«è«è©±å®¤ã¯ããã¾ãã"],"Rooms on %1$s":[null,"%1$s ã®è«è©±å®¤ä¸è¦§"],"Click to open this room":[null,"ã¯ãªãã¯ãã¦ãã®è«è©±å®¤ãéã"],"Show more information on this room":[null,"ãã®è«è©±å®¤ã«ã¤ãã¦ã®è©³ç´°ãè¦ã"],"Description:":[null,"èª¬æ: "],"Occupants:":[null,"å¥å®¤è:"],"Features:":[null,"ç¹å¾´:"],"Requires authentication":[null,"èªè¨¼ã®è¦æ±"],Hidden:[null,"éè¡¨ç¤º"],"Requires an invitation":[null,"æå¾ã®è¦æ±"],Moderated:[null,"çºè¨å¶é"],"Non-anonymous":[null,"éå¿å"],"Open room":[null,"éæ¾è«è©±å®¤"],"Permanent room":[null,"å¸¸è¨­è«è©±å®¤"],Public:[null,"å¬éè«è©±å®¤"],"Semi-anonymous":[null,"åå¿å"],"Temporary room":[null,"è¨æè«è©±å®¤"],Unmoderated:[null,"çºè¨å¶éãªã"],"This user is a moderator":[null,"ãã®ã¦ã¼ã¶ã¼ã¯å¸ä¼èã§ã"],"This user can send messages in this room":[null,"ãã®ã¦ã¼ã¶ã¼ã¯ãã®è«è©±å®¤ã§çºè¨ã§ãã¾ã"],"This user can NOT send messages in this room":[null,"ãã®ã¦ã¼ã¶ã¼ã¯ãã®è«è©±å®¤ã§çºè¨ã§ãã¾ãã"],"Invite...":[null,""],'You are about to invite %1$s to the chat room "%2$s". ':[null,""],"You may optionally include a message, explaining the reason for the invitation.":[null,""],Message:[null,"ã¡ãã»ã¼ã¸"],"Error: could not execute the command":[null,""],"Remove user's ability to post messages":[null,""],"Change your nickname":[null,""],"Allow muted user to post messages":[null,""],Save:[null,"ä¿å­"],Cancel:[null,"ã­ã£ã³ã»ã«"],"An error occurred while trying to save the form.":[null,"ãã©ã¼ã ãä¿å­ããéã«ã¨ã©ã¼ãçºçãã¾ããã"],"This chatroom requires a password":[null,"ãã®è«è©±å®¤ã«ã¯ãã¹ã¯ã¼ããå¿è¦ã§ã"],"Password: ":[null,"ãã¹ã¯ã¼ã:"],Submit:[null,"éä¿¡"],"This room is not anonymous":[null,"ãã®è«è©±å®¤ã¯éå¿åã§ã"],"This room now shows unavailable members":[null,"ãã®è«è©±å®¤ã¯ã¡ã³ãã¼ä»¥å¤ã«ãè¦ãã¾ã"],"This room does not show unavailable members":[null,"ãã®è«è©±å®¤ã¯ã¡ã³ãã¼ä»¥å¤ã«ã¯è¦ãã¾ãã"],"Non-privacy-related room configuration has changed":[null,"è«è©±å®¤ã®è¨­å®(ãã©ã¤ãã·ã¼ã«ç¡é¢ä¿)ãå¤æ´ããã¾ãã"],"Room logging is now enabled":[null,"è«è©±å®¤ã®è¨é²ãåãã¯ããã¾ã"],"Room logging is now disabled":[null,"è«è©±å®¤ã®è¨é²ãæ­¢ãã¾ã"],"This room is now non-anonymous":[null,"ãã®è«è©±å®¤ã¯ãã ãã¾éå¿åã§ã"],"This room is now semi-anonymous":[null,"ãã®è«è©±å®¤ã¯ãã ãã¾åå¿åã§ã"],"This room is now fully-anonymous":[null,"ãã®è«è©±å®¤ã¯ãã ãã¾å¿åã§ã"],"A new room has been created":[null,"æ°ããè«è©±å®¤ãä½æããã¾ãã"],"You have been banned from this room":[null,"ãã®è«è©±å®¤ããç· ãåºããã¾ãã"],"You have been kicked from this room":[null,"ãã®è«è©±å®¤ããè¹´ãåºããã¾ãã"],"You have been removed from this room because of an affiliation change":[null,"åæã®å¤æ´ã®ããããã®è«è©±å®¤ããåé¤ããã¾ãã"],"You have been removed from this room because the room has changed to members-only and you're not a member":[null,"è«è©±å®¤ãã¡ã³ãã¼å¶ã«å¤æ´ããã¾ãããã¡ã³ãã¼ã§ã¯ãªãããããã®è«è©±å®¤ããåé¤ããã¾ãã"],"You have been removed from this room because the MUC (Multi-user chat) service is being shut down.":[null,"MUC(ã°ã«ã¼ããã£ãã)ã®ãµã¼ãã¹ãåæ­¢ããããããã®è«è©±å®¤ããåé¤ããã¾ããã"],"<strong>%1$s</strong> has been banned":[null,"<strong>%1$s</strong> ãç· ãåºãã¾ãã"],"<strong>%1$s</strong> has been kicked out":[null,"<strong>%1$s</strong> ãè¹´ãåºãã¾ãã"],"<strong>%1$s</strong> has been removed because of an affiliation change":[null,"åæã®å¤æ´ã®ããã<strong>%1$s</strong> ãåé¤ãã¾ãã"],"<strong>%1$s</strong> has been removed for not being a member":[null,"ã¡ã³ãã¼ã§ãªããªã£ãããã<strong>%1$s</strong> ãåé¤ãã¾ãã"],'The reason given is: "':[null,""],"You are not on the member list of this room":[null,"ãã®è«è©±å®¤ã®ã¡ã³ãã¼ä¸è¦§ã«ãã¾ãã"],"No nickname was specified":[null,"ããã¯ãã¼ã ãããã¾ãã"],"You are not allowed to create new rooms":[null,"æ°ããè«è©±å®¤ãä½æããæ¨©éãããã¾ãã"],"Your nickname doesn't conform to this room's policies":[null,"ããã¯ãã¼ã ããã®è«è©±å®¤ã®ããªã·ã¼ã«å¾ã£ã¦ãã¾ãã"],"Your nickname is already taken":[null,"ããã¯ãã¼ã ã¯æ¢ã«ä½¿ããã¦ãã¾ã"],"This room does not (yet) exist":[null,"ãã®è«è©±å®¤ã¯å­å¨ãã¾ãã"],"This room has reached it's maximum number of occupants":[null,"ãã®è«è©±å®¤ã¯å¥å®¤èæ°ã®ä¸éã«éãã¦ãã¾ã"],"Topic set by %1$s to: %2$s":[null,"%1$s ãè©±é¡ãè¨­å®ãã¾ãã: %2$s"],"%1$s has invited you to join a chat room: %2$s":[null,""],'%1$s has invited you to join a chat room: %2$s, and left the following reason: "%3$s"':[null,""],Minimized:[null,""],"Click to remove this contact":[null,"ã¯ãªãã¯ãã¦ãã®ç¸æåãåé¤"],"Click to chat with this contact":[null,"ã¯ãªãã¯ãã¦ãã®ç¸æåã¨ãã£ãã"],"Type to filter":[null,""],"I am %1$s":[null,"ç§ã¯ãã¾ %1$s"],"Click here to write a custom status message":[null,"ç¶æ³ã¡ãã»ã¼ã¸ãå¥åããã«ã¯ããããã¯ãªãã¯"],"Click to change your chat status":[null,"ã¯ãªãã¯ãã¦ãå¨å¸­ç¶æ³ãå¤æ´"],"Custom status":[null,"ç¬èªã®å¨å¸­ç¶æ³"],online:[null,"å¨å¸­"],busy:[null,"åãè¾¼ã¿ä¸­"],"away for long":[null,"ä¸å¨"],away:[null,"é¢å¸­ä¸­"],"Your XMPP provider's domain name:":[null,""],"Fetch registration form":[null,""],"Tip: A list of public XMPP providers is available":[null,""],here:[null,""],Register:[null,""],"Sorry, the given provider does not support in band account registration. Please try with a different provider.":[null,""],"Requesting a registration form from the XMPP server":[null,""],'Something went wrong while establishing a connection with "%1$s". Are you sure it exists?':[null,""],"Now logging you in":[null,""],"Registered successfully":[null,""],Return:[null,""],"The provider rejected your registration attempt. ":[null,""],"Password:":[null,"ãã¹ã¯ã¼ã:"],"Log In":[null,"ã­ã°ã¤ã³"],"Sign in":[null,"ãµã¤ã³ã¤ã³"],"Toggle chat":[null,""]}}},locales.nb={domain:"converse",locale_data:{converse:{"":{domain:"converse",plural_forms:"nplurals=2; plural=(n != 1);",lang:"nb"},unencrypted:[null,"ukryptertÃ"],unverified:[null,"uverifisert"],verified:[null,"verifisert"],finished:[null,"ferdig"],"This contact is busy":[null,"Denne kontakten er opptatt"],"This contact is online":[null,"Kontakten er pÃ¥logget"],"This contact is offline":[null,"Kontakten er avlogget"],"This contact is unavailable":[null,"Kontakten er utilgjengelig"],"This contact is away for an extended period":[null,"Kontakten er borte for en lengre periode"],"This contact is away":[null,"Kontakten er borte"],"Click to hide these contacts":[null,"Klikk for Ã¥ skjule disse kontaktene"],"My contacts":[null,"Mine Kontakter"],"Pending contacts":[null,"Kontakter som venter pÃ¥ godkjenning"],"Contact requests":[null,"KontaktforespÃ¸rsler"],Ungrouped:[null,"Ugrupperte"],Contacts:[null,"Kontakter"],Groups:[null,"Grupper"],Reconnecting:[null,"Kobler til igjen"],Error:[null,"Feil"],Connecting:[null,"Kobler til"],Authenticating:[null,"Godkjenner"],"Authentication Failed":[null,"Godkjenning mislyktes"],"Online Contacts":[null,"PÃ¥loggede Kontakter"],"Re-establishing encrypted session":[null,"Gjenopptar kryptert Ã¸kt"],"Generating private key.":[null,"Genererer privat nÃ¸kkel"],"Your browser might become unresponsive.":[null,"Din nettleser kan bli uresponsiv"],"Authentication request from %1$s\n\nYour chat contact is attempting to verify your identity, by asking you the question below.\n\n%2$s":[null,"GodkjenningsforespÃ¸rsel fra %1$s\n\nDin nettpratkontakt forsÃ¸ker Ã¥ bekrefte din identitet, ved Ã¥ spÃ¸rre deg spÃ¸rsmÃ¥let under.\n\n%2$s"],"Could not verify this user's identify.":[null,"Kunne ikke bekrefte denne brukerens identitet"],"Exchanging private key with contact.":[null,"Bytter private nÃ¸kler med kontakt"],"Personal message":[null,"Personlig melding"],"Are you sure you want to clear the messages from this room?":[null,"Er du sikker pÃ¥ at du vil fjerne meldingene fra dette rommet?"],me:[null,"meg"],"is typing":[null,"skriver"],"has stopped typing":[null,"har stoppet Ã¥ skrive"],"Show this menu":[null,"Viser denne menyen"],"Write in the third person":[null,"Skriv i tredjeperson"],"Remove messages":[null,"Fjern meldinger"],"Are you sure you want to clear the messages from this chat box?":[null,"Er du sikker pÃ¥ at du vil fjerne meldingene fra denne meldingsboksen?"],"Your message could not be sent":[null,"Beskjeden din kunne ikke sendes"],"We received an unencrypted message":[null,"Vi mottok en ukryptert beskjed"],"We received an unreadable encrypted message":[null,"Vi mottok en uleselig melding"],"This user has requested an encrypted session.":[null,"Denne brukeren har Ã¸nsket en kryptert Ã¸kt"],"Here are the fingerprints, please confirm them with %1$s, outside of this chat.\n\nFingerprint for you, %2$s: %3$s\n\nFingerprint for %1$s: %4$s\n\nIf you have confirmed that the fingerprints match, click OK, otherwise click Cancel.":[null,"Here are the fingerprints, please confirm them with %1$s, outside of this chat.\n\nFingerprint for you, %2$s: %3$s\n\nFingerprint for %1$s: %4$s\n\nOm du har bekreftet at avtrykkene matcher, klikk OK. I motsatt fall, trykk Avbryt."],"You will be prompted to provide a security question and then an answer to that question.\n\nYour contact will then be prompted the same question and if they type the exact same answer (case sensitive), their identity will be verified.":[null,"Du vil bli spurt etter Ã¥ tilby et sikkerhetsspÃ¸rsmÃ¥l og siden svare pÃ¥ dette.\n\nDin kontakt vil sÃ¥ bli spurt om det samme spÃ¸rsmÃ¥let, og om de svarer det nÃ¸yaktig samme svaret (det er forskjell pÃ¥ smÃ¥ og store bokstaver), vil identiteten verifiseres."],
"What is your security question?":[null,"Hva er ditt SikkerhetsspÃ¸rsmÃ¥l?"],"What is the answer to the security question?":[null,"Hva er svaret pÃ¥ ditt SikkerhetsspÃ¸rsmÃ¥l?"],"Invalid authentication scheme provided":[null,"Du har vedlagt en ugyldig godkjenningsplan."],"Your messages are not encrypted anymore":[null,"Dine meldinger er ikke kryptert lenger."],"Your messages are now encrypted but your contact's identity has not been verified.":[null,"Dine meldinger er nÃ¥ krypterte, men identiteten til din kontakt har ikke blitt verifisert."],"Your contact's identify has been verified.":[null,"Din kontakts identitet har blitt verifisert."],"Your contact has ended encryption on their end, you should do the same.":[null,"Din kontakt har avsluttet kryptering i sin ende, dette burde du ogsÃ¥ gjÃ¸re."],"Your messages are not encrypted. Click here to enable OTR encryption.":[null,"Dine meldinger er ikke krypterte. Klikk her for Ã¥ aktivere OTR-kryptering."],"Your messages are encrypted, but your contact has not been verified.":[null,"Dine meldinger er krypterte, men din kontakt har ikke blitt verifisert."],"Your messages are encrypted and your contact verified.":[null,"Dine meldinger er krypterte og din kontakt er verifisert."],"Your contact has closed their end of the private session, you should do the same":[null,"Din kontakt har avsluttet Ã¸kten i sin ende, dette burde du ogsÃ¥ gjÃ¸re."],"Clear all messages":[null,"Fjern alle meldinger"],"End encrypted conversation":[null,"Avslutt kryptert Ã¸kt"],"Hide the list of participants":[null,"Skjul deltakerlisten"],"Refresh encrypted conversation":[null,"Last inn kryptert samtale pÃ¥ nytt"],"Start a call":[null,"Start en samtale"],"Start encrypted conversation":[null,"Start en kryptert samtale"],"Verify with fingerprints":[null,"Verifiser med Avtrykk"],"Verify with SMP":[null,"Verifiser med SMP"],"What's this?":[null,"Hva er dette?"],Online:[null,"PÃ¥logget"],Busy:[null,"Opptatt"],Away:[null,"Borte"],Offline:[null,"Avlogget"],"Log out":[null,"Logg Av"],"Contact name":[null,"Kontaktnavn"],Search:[null,"SÃ¸k"],"Contact username":[null,"Brukernavnet til Kontakt"],Add:[null,"Legg Til"],"Click to add new chat contacts":[null,"Klikk for Ã¥ legge til nye meldingskontakter"],"Add a contact":[null,"Legg til en Kontakt"],"No users found":[null,"Ingen brukere funnet"],"Click to add as a chat contact":[null,"Klikk for Ã¥ legge til som meldingskontakt"],"Room name":[null,"Romnavn"],Nickname:[null,"Kallenavn"],Server:[null,"Server"],Join:[null,"Koble til"],"Show rooms":[null,"Vis Rom"],Rooms:[null,"Rom"],"No rooms on %1$s":[null,"Ingen rom pÃ¥ %1$s"],"Rooms on %1$s":[null,"Rom pÃ¥ %1$s"],"Click to open this room":[null,"Klikk for Ã¥ Ã¥pne dette rommet"],"Show more information on this room":[null,"Vis mer informasjon om dette rommet"],"Description:":[null,"Beskrivelse:"],"Occupants:":[null,"Brukere her:"],"Features:":[null,"Egenskaper:"],"Requires authentication":[null,"Krever Godkjenning"],Hidden:[null,"Skjult"],"Requires an invitation":[null,"Krever en invitasjon"],Moderated:[null,"Moderert"],"Non-anonymous":[null,"Ikke-Anonym"],"Open room":[null,"Ãpent Rom"],"Permanent room":[null,"Permanent Rom"],Public:[null,"Alle"],"Semi-anonymous":[null,"Semi-anonymt"],"Temporary room":[null,"Midlertidig Rom"],Unmoderated:[null,"Umoderert"],"This user is a moderator":[null,"Denne brukeren er moderator"],"This user can send messages in this room":[null,"Denne brukeren kan skrive meldinger i dette rommet"],"This user can NOT send messages in this room":[null,"Denne brukeren kan IKKE sende meldinger i dette rommet"],"Invite...":[null,"InvitÃ©r..."],Occupants:[null,"Brukere her:"],'You are about to invite %1$s to the chat room "%2$s". ':[null,'Du er i ferd med Ã¥ invitere %1$s til samtalerommet "%2$s". '],"You may optionally include a message, explaining the reason for the invitation.":[null,"Du kan eventuelt inkludere en melding og forklare Ã¥rsaken til invitasjonen."],Message:[null,"Melding"],"Error: could not execute the command":[null,"Feil: kunne ikke utfÃ¸re kommandoen"],"Ban user from room":[null,"Utesteng bruker fra rommet"],"Kick user from room":[null,"Kast ut bruker fra rommet"],"Write in 3rd person":[null,"Skriv i tredjeperson"],"Remove user's ability to post messages":[null,"Fjern brukerens muligheter til Ã¥ skrive meldinger"],"Change your nickname":[null,"Endre ditt kallenavn"],"Set room topic":[null,"Endre rommets emne"],"Allow muted user to post messages":[null,"Tillat stumme brukere Ã¥ skrive meldinger"],Save:[null,"Lagre"],Cancel:[null,"Avbryt"],"An error occurred while trying to save the form.":[null,"En feil skjedde under lagring av skjemaet."],"This chatroom requires a password":[null,"Dette rommet krever et passord"],"Password: ":[null,"Passord:"],Submit:[null,"Send"],"This room is not anonymous":[null,"Dette rommet er ikke anonymt"],"This room now shows unavailable members":[null,"Dette rommet viser nÃ¥ utilgjengelige medlemmer"],"This room does not show unavailable members":[null,"Dette rommet viser ikke utilgjengelige medlemmer"],"Non-privacy-related room configuration has changed":[null,"Ikke-personvernsrelatert romkonfigurasjon har blitt endret"],"Room logging is now enabled":[null,"Romlogging er nÃ¥ aktivert"],"Room logging is now disabled":[null,"Romlogging er nÃ¥ deaktivert"],"This room is now non-anonymous":[null,"Dette rommet er nÃ¥ ikke-anonymt"],"This room is now semi-anonymous":[null,"Dette rommet er nÃ¥ semi-anonymt"],"This room is now fully-anonymous":[null,"Dette rommet er nÃ¥ totalt anonymt"],"A new room has been created":[null,"Et nytt rom har blitt opprettet"],"You have been banned from this room":[null,"Du har blitt utestengt fra dette rommet"],"You have been kicked from this room":[null,"Du ble kastet ut av dette rommet"],"You have been removed from this room because of an affiliation change":[null,"Du har blitt fjernet fra dette rommet pÃ¥ grunn av en holdningsendring"],"You have been removed from this room because the room has changed to members-only and you're not a member":[null,"Du har blitt fjernet fra dette rommet fordi rommet nÃ¥ kun tillater medlemmer, noe du ikke er."],"You have been removed from this room because the MUC (Multi-user chat) service is being shut down.":[null,"Du har blitt fjernet fra dette rommet fordi MBC (Multi-Bruker-Chat)-tjenesten er stengt ned."],"<strong>%1$s</strong> has been banned":[null,"<strong>%1$s</strong>  har blitt utestengt"],"<strong>%1$s</strong>'s nickname has changed":[null,"<strong>%1$s</strong> sitt kallenavn er endret"],"<strong>%1$s</strong> has been kicked out":[null,"<strong>%1$s</strong>  ble kastet ut"],"<strong>%1$s</strong> has been removed because of an affiliation change":[null,"<strong>%1$s</strong> har blitt fjernet pÃ¥ grunn av en holdningsendring"],"<strong>%1$s</strong> has been removed for not being a member":[null,"<strong>%1$s</strong> har blitt fjernet pÃ¥ grunn av at han/hun ikke er medlem"],"Your nickname has been automatically changed to: <strong>%1$s</strong>":[null,"Ditt kallenavn har blitt automatisk endret til <strong>%1$s</strong> "],"Your nickname has been changed to: <strong>%1$s</strong>":[null,"Ditt kallenavn har blitt endret til <strong>%1$s</strong> "],'The reason given is: "':[null,'Ãrsaken som er oppgitt er: "'],"You are not on the member list of this room":[null,"Du er ikke pÃ¥ medlemslisten til dette rommet"],"No nickname was specified":[null,"Ingen kallenavn var spesifisert"],"You are not allowed to create new rooms":[null,"Du har ikke tillatelse til Ã¥ opprette nye rom"],"Your nickname doesn't conform to this room's policies":[null,"Ditt kallenavn er ikke i samsvar med rommets regler"],"Your nickname is already taken":[null,"Kallenavnet er allerede tatt"],"This room does not (yet) exist":[null,"Dette rommet eksisterer ikke (enda)"],"This room has reached it's maximum number of occupants":[null,"Dette rommet har nÃ¥dd maksimalt antall brukere"],"Topic set by %1$s to: %2$s":[null,"Emnet ble endret den %1$s til: %2$s"],"%1$s has invited you to join a chat room: %2$s":[null,"%1$s har invitert deg til Ã¥ bli med i chatterommet: %2$s"],'%1$s has invited you to join a chat room: %2$s, and left the following reason: "%3$s"':[null,'%1$s har invitert deg til Ã¥ bli med i chatterommet: %2$s, og forlot selv av fÃ¸lgende grunn:  "%3$s"'],"Click to restore this chat":[null,"Klikk for Ã¥ gjenopprette denne samtalen"],Minimized:[null,"Minimert"],"Click to remove this contact":[null,"Klikk for Ã¥ fjerne denne kontakten"],"Click to accept this contact request":[null,"Klikk for Ã¥ Godta denne kontaktforespÃ¸rselen"],"Click to decline this contact request":[null,"Klikk for Ã¥ avslÃ¥ denne kontaktforespÃ¸rselen"],"Click to chat with this contact":[null,"Klikk for Ã¥ chatte med denne kontakten"],"Are you sure you want to remove this contact?":[null,"Er du sikker pÃ¥ at du vil fjerne denne kontakten?"],"Are you sure you want to decline this contact request?":[null,"Er du sikker pÃ¥ at du vil avslÃ¥ denne kontaktforespÃ¸rselen?"],"Type to filter":[null,"Skriv til filter"],"I am %1$s":[null,"Jeg er %1$s"],"Click here to write a custom status message":[null,"Klikk her for Ã¥ skrive en personlig statusmelding"],"Click to change your chat status":[null,"Klikk for Ã¥ endre din meldingsstatus"],"Custom status":[null,"Personlig status"],online:[null,"pÃ¥logget"],busy:[null,"opptatt"],"away for long":[null,"borte lenge"],away:[null,"borte"],"Your XMPP provider's domain name:":[null,"Din XMPP-tilbyders domenenavn:"],"Fetch registration form":[null,"Hent registreringsskjema"],"Tip: A list of public XMPP providers is available":[null,"Tips: En liste med offentlige XMPP-tilbydere er tilgjengelig"],here:[null,"her"],Register:[null,"RegistrÃ©r deg"],"Sorry, the given provider does not support in band account registration. Please try with a different provider.":[null,"Beklager, den valgte tilbyderen stÃ¸tter ikke in band kontoregistrering. Vennligst prÃ¸v igjen med en annen tilbyder. "],"Requesting a registration form from the XMPP server":[null,"SpÃ¸r etter registreringsskjema fra XMPP-tjeneren"],'Something went wrong while establishing a connection with "%1$s". Are you sure it exists?':[null,'Noe gikk galt under etablering av forbindelse med "%1$s". Er du sikker pÃ¥ at denne eksisterer?'],"Now logging you in":[null,"Logger deg inn"],"Registered successfully":[null,"Registrering var vellykket"],Return:[null,"Tilbake"],"The provider rejected your registration attempt. ":[null,"Tilbyderen avviste ditt registreringsforsÃ¸k."],"XMPP Username:":[null,"XMPP Brukernavn:"],"Password:":[null,"Passord:"],"Log In":[null,"Logg inn"],"Sign in":[null,"Innlogging"],"Toggle chat":[null,"Endre chatten"]}}},locales.nl={domain:"converse",locale_data:{converse:{"":{domain:"converse",plural_forms:"nplurals=2; plural=(n != 1);",lang:"nl"},unencrypted:[null,"ongecodeerde"],unverified:[null,"niet geverifieerd"],verified:[null,"geverifieerd"],finished:[null,"klaar"],"This contact is busy":[null,"Contact is bezet"],"This contact is online":[null,"Contact is online"],"This contact is offline":[null,"Contact is offline"],"This contact is unavailable":[null,"Contact is niet beschikbaar"],"This contact is away for an extended period":[null,"Contact is afwezig voor lange periode"],"This contact is away":[null,"Conact is afwezig"],"My contacts":[null,"Mijn contacts"],"Pending contacts":[null,"Conacten in afwachting van"],"Contact requests":[null,"Contact uitnodiging"],Ungrouped:[null,""],Contacts:[null,"Contacten"],Groups:[null,""],Error:[null,"Error"],Connecting:[null,"Verbinden"],Authenticating:[null,"Authenticeren"],"Authentication Failed":[null,"Authenticeren mislukt"],"Online Contacts":[null,"Online Contacten"],"Re-establishing encrypted session":[null,"Bezig versleutelde sessie te herstellen"],"Generating private key.":[null,""],"Your browser might become unresponsive.":[null,""],"Authentication request from %1$s\n\nYour chat contact is attempting to verify your identity, by asking you the question below.\n\n%2$s":[null,""],"Could not verify this user's identify.":[null,"Niet kon de identiteit van deze gebruiker niet identificeren."],"Exchanging private key with contact.":[null,""],"Personal message":[null,"Persoonlijk bericht"],me:[null,"ikzelf"],"Show this menu":[null,"Toon dit menu"],"Write in the third person":[null,"Schrijf in de 3de persoon"],"Remove messages":[null,"Verwijder bericht"],"Are you sure you want to clear the messages from this chat box?":[null,""],"Your message could not be sent":[null,"Je bericht kon niet worden verzonden"],"We received an unencrypted message":[null,"We ontvingen een unencrypted bericht "],"We received an unreadable encrypted message":[null,"We ontvangen een onleesbaar unencrypted bericht"],"This user has requested an encrypted session.":[null,"Deze gebruiker heeft een encrypted sessie aangevraagd."],"Here are the fingerprints, please confirm them with %1$s, outside of this chat.\n\nFingerprint for you, %2$s: %3$s\n\nFingerprint for %1$s: %4$s\n\nIf you have confirmed that the fingerprints match, click OK, otherwise click Cancel.":[null,""],"You will be prompted to provide a security question and then an answer to that question.\n\nYour contact will then be prompted the same question and if they type the exact same answer (case sensitive), their identity will be verified.":[null,""],"What is your security question?":[null,"Wat is jou sericury vraag?"],"What is the answer to the security question?":[null,"Wat is het antwoord op de security vraag?"],"Invalid authentication scheme provided":[null,""],"Your messages are not encrypted anymore":[null,"Je berichten zijn niet meer encrypted"],"Your messages are not encrypted. Click here to enable OTR encryption.":[null,"Jou bericht is niet encrypted. KLik hier om ORC encrytion aan te zetten."],"End encrypted conversation":[null,"Beeindig encrypted gesprek"],"Hide the list of participants":[null,""],"Refresh encrypted conversation":[null,"Ververs encrypted gesprek"],"Start a call":[null,""],"Start encrypted conversation":[null,"Start encrypted gesprek"],"Verify with fingerprints":[null,""],"Verify with SMP":[null,""],"What's this?":[null,"Wat is dit?"],Online:[null,"Online"],Busy:[null,"Bezet"],Away:[null,"Afwezig"],Offline:[null,""],"Contact name":[null,"Contact naam"],Search:[null,"Zoeken"],"Contact username":[null,"Contact gebruikernaam"],Add:[null,"Toevoegen"],"Click to add new chat contacts":[null,"Klik om nieuwe contacten toe te voegen"],"Add a contact":[null,"Voeg contact toe"],"No users found":[null,"Geen gebruikers gevonden"],"Click to add as a chat contact":[null,"Klik om contact toe te voegen"],"Room name":[null,"Room naam"],Nickname:[null,"Nickname"],Server:[null,"Server"],Join:[null,"Deelnemen"],"Show rooms":[null,"Toon rooms"],Rooms:[null,"Rooms"],"No rooms on %1$s":[null,"Geen room op %1$s"],"Rooms on %1$s":[null,"Room op %1$s"],"Click to open this room":[null,"Klik om room te openen"],"Show more information on this room":[null,"Toon meer informatie over deze room"],"Description:":[null,"Beschrijving"],"Occupants:":[null,"Deelnemers:"],"Features:":[null,"Functies:"],"Requires authentication":[null,"Verificatie vereist"],Hidden:[null,"Verborgen"],"Requires an invitation":[null,"Veriest een uitnodiging"],Moderated:[null,"Gemodereerd"],"Non-anonymous":[null,"Niet annoniem"],"Open room":[null,"Open room"],"Permanent room":[null,"Blijvend room"],Public:[null,"Publiek"],"Semi-anonymous":[null,"Semi annoniem"],"Temporary room":[null,"Tijdelijke room"],Unmoderated:[null,"Niet gemodereerd"],"This user is a moderator":[null,"Dit is een moderator"],"This user can send messages in this room":[null,"Deze gebruiker kan berichten sturen in deze room"],"This user can NOT send messages in this room":[null,"Deze gebruiker kan NIET een bericht sturen in deze room"],"Invite...":[null,""],'You are about to invite %1$s to the chat room "%2$s". ':[null,""],"You may optionally include a message, explaining the reason for the invitation.":[null,""],Message:[null,"Bericht"],"Error: could not execute the command":[null,""],"Remove user's ability to post messages":[null,""],"Change your nickname":[null,""],"Allow muted user to post messages":[null,""],Save:[null,"Opslaan"],Cancel:[null,"Annuleren"],"An error occurred while trying to save the form.":[null,"Een error tijdens het opslaan van het formulier."],"This chatroom requires a password":[null,"Chatroom heeft een wachtwoord"],"Password: ":[null,"Wachtwoord: "],Submit:[null,"Indienen"],"This room is not anonymous":[null,"Deze room is niet annoniem"],"This room now shows unavailable members":[null,""],"This room does not show unavailable members":[null,""],"Non-privacy-related room configuration has changed":[null,""],"Room logging is now enabled":[null,""],"Room logging is now disabled":[null,""],"This room is now non-anonymous":[null,"Deze room is nu niet annoniem"],"This room is now semi-anonymous":[null,"Deze room is nu semie annoniem"],"This room is now fully-anonymous":[null,"Deze room is nu volledig annoniem"],"A new room has been created":[null,"Een nieuwe room is gemaakt"],"You have been banned from this room":[null,"Je bent verbannen uit deze room"],"You have been kicked from this room":[null,"Je bent uit de room gegooid"],"You have been removed from this room because of an affiliation change":[null,""],"You have been removed from this room because the room has changed to members-only and you're not a member":[null,""],"You have been removed from this room because the MUC (Multi-user chat) service is being shut down.":[null,""],"<strong>%1$s</strong> has been banned":[null,"<strong>%1$s</strong> is verbannen"],"<strong>%1$s</strong> has been kicked out":[null,"<strong>%1$s</strong> has been kicked out"],"<strong>%1$s</strong> has been removed because of an affiliation change":[null,""],"<strong>%1$s</strong> has been removed for not being a member":[null,""],'The reason given is: "':[null,""],"You are not on the member list of this room":[null,"Je bent niet een gebruiker van deze room"],"No nickname was specified":[null,"Geen nickname ingegeven"],"You are not allowed to create new rooms":[null,"Je bent niet toegestaan nieuwe rooms te maken"],"Your nickname doesn't conform to this room's policies":[null,"Je nickname is niet conform policy"],"Your nickname is already taken":[null,"Je nickname bestaat al"],"This room does not (yet) exist":[null,"Deze room bestaat niet"],"This room has reached it's maximum number of occupants":[null,"Deze room heeft het maximale aantal gebruikers"],"Topic set by %1$s to: %2$s":[null,""],"%1$s has invited you to join a chat room: %2$s":[null,""],'%1$s has invited you to join a chat room: %2$s, and left the following reason: "%3$s"':[null,""],Minimized:[null,""],"Click to remove this contact":[null,"Klik om contact te verwijderen"],"Click to chat with this contact":[null,"Klik om te chatten met contact"],"Type to filter":[null,""],"I am %1$s":[null,"Ik ben %1$s"],"Click here to write a custom status message":[null,"Klik hier om custom status bericht te maken"],"Click to change your chat status":[null,"Klik hier om status te wijzigen"],"Custom status":[null,""],online:[null,"online"],busy:[null,"bezet"],"away for long":[null,"afwezig lange tijd"],away:[null,"afwezig"],"Your XMPP provider's domain name:":[null,""],"Fetch registration form":[null,""],"Tip: A list of public XMPP providers is available":[null,""],here:[null,""],Register:[null,""],"Sorry, the given provider does not support in band account registration. Please try with a different provider.":[null,""],"Requesting a registration form from the XMPP server":[null,""],'Something went wrong while establishing a connection with "%1$s". Are you sure it exists?':[null,""],"Now logging you in":[null,""],"Registered successfully":[null,""],Return:[null,""],"The provider rejected your registration attempt. ":[null,""],"Password:":[null,"Wachtwoord:"],"Log In":[null,"Aanmelden"],"Sign in":[null,"Aanmelden"],"Toggle chat":[null,""]}}},locales.pl={domain:"converse",locale_data:{converse:{"":{domain:"converse",plural_forms:"nplurals=3; plural=(n==1 ? 0 : n%10>=2 && n%10<=4 && (n%100<10 || n%100>=20) ? 1 : 2);",lang:"pl"},unencrypted:[null,"nieszyfrowane"],unverified:[null,"niezweryfikowane"],verified:[null,"zweryfikowane"],finished:[null,"zakoÅczone"],"This contact is busy":[null,"Kontakt jest zajÄty"],"This contact is online":[null,"Kontakt jest poÅÄczony"],"This contact is offline":[null,"Kontakt jest niepoÅÄczony"],"This contact is unavailable":[null,"Kontakt jest niedostÄpny"],"This contact is away for an extended period":[null,"Kontakt jest nieobecny przez dÅuÅ¼szÄ chwilÄ"],"This contact is away":[null,"Kontakt jest nieobecny"],"Click to hide these contacts":[null,"Kliknij aby schowaÄ te kontakty"],"My contacts":[null,"Moje kontakty"],"Pending contacts":[null,"Kontakty oczekujÄce"],"Contact requests":[null,"Zaproszenia do kontaktu"],Ungrouped:[null,"Niezgrupowane"],Contacts:[null,"Kontakty"],Groups:[null,"Grupy"],Reconnecting:[null,"Przywracam poÅÄczenie"],Error:[null,"BÅÄd"],Connecting:[null,"ÅÄczÄ siÄ"],Authenticating:[null,"Autoryzacja"],"Authentication Failed":[null,"Autoryzacja nie powiodÅa siÄ"],"Online Contacts":[null,"DostÄpne kontakty"],"Re-establishing encrypted session":[null,"PrzywrÃ³cenie sesji szyfrowanej"],"Generating private key.":[null,"GenerujÄ klucz prywatny."],"Your browser might become unresponsive.":[null,"Twoja przeglÄdarka moÅ¼e nieco zwolniÄ."],"Authentication request from %1$s\n\nYour chat contact is attempting to verify your identity, by asking you the question below.\n\n%2$s":[null,"ProÅba o autoryzacjÄ od %1$s\n\nKontakt prÃ³buje zweryfikowaÄ twojÄ toÅ¼samoÅÄ, zadajÄc ci pytanie poniÅ¼ej.\n\n%2$s"],"Could not verify this user's identify.":[null,"Nie jestem w stanie zweryfikowaÄ toÅ¼samoÅci kontaktu."],"Exchanging private key with contact.":[null,"Wymieniam klucze szyfrujÄce z kontaktem."],"Personal message":[null,"WiadomoÅÄ osobista"],"Are you sure you want to clear the messages from this room?":[null,"PotwierdÅº czy rzeczywiÅcie chcesz wyczyÅciÄ wiadomoÅci z tego pokoju?"],me:[null,"ja"],"is typing":[null,"pisze"],"has stopped typing":[null,"przestaÅ pisaÄ"],"Show this menu":[null,"PokaÅ¼ menu"],"Write in the third person":[null,"Pisz w trzeciej osobie"],"Remove messages":[null,"UsuÅ wiadomoÅÄ"],"Are you sure you want to clear the messages from this chat box?":[null,"PotwierdÅº czy rzeczywiÅcie chcesz wyczyÅciÄ wiadomoÅci z okienka rozmowy?"],"Your message could not be sent":[null,"Twoja wiadomoÅÄ nie zostaÅa wysÅana"],"We received an unencrypted message":[null,"OtrzymaliÅmy niezaszyfrowanÄ wiadomoÅÄ"],"We received an unreadable encrypted message":[null,"OtrzymaliÅmy nieczytelnÄ zaszyfrowanÄ wiadomoÅÄ"],"This user has requested an encrypted session.":[null,"Kontakt prosi o sesjÄ szyfrowanÄ."],"Here are the fingerprints, please confirm them with %1$s, outside of this chat.\n\nFingerprint for you, %2$s: %3$s\n\nFingerprint for %1$s: %4$s\n\nIf you have confirmed that the fingerprints match, click OK, otherwise click Cancel.":[null,"Oto odciski palcÃ³w, potwiedÅº je proszÄ z %1$s uÅ¼ywajÄc innego sposobuwymiany informacji niÅ¼ ta rozmowa.\n\nOdcisk palca dla ciebie, %2$s: %3$s\n\nOdcisk palca dla %1$s: %4$s\n\nJeÅli odciski palcÃ³w zostaÅy potwierdzone, kliknij OK, w inny wypadku kliknij Anuluj."],"You will be prompted to provide a security question and then an answer to that question.\n\nYour contact will then be prompted the same question and if they type the exact same answer (case sensitive), their identity will be verified.":[null,"Poprosimy ciÄ o podanie pytania sprawdzajÄcego i odpowiedzi na nie.\n\nTwÃ³j kontakt zostanie poproszony pÃ³Åºniej o odpowiedÅº na to samo pytanie i jeÅli udzieli tej samej odpowiedzi (waÅ¼na jest wielkoÅÄ liter), toÅ¼samoÅÄ zostanie zwerfikowana."],"What is your security question?":[null,"Jakie jest pytanie bezpieczeÅstwa?"],"What is the answer to the security question?":[null,"Jaka jest odpowiedÅº na pytanie bezpieczeÅstwa?"],"Invalid authentication scheme provided":[null,"NiewÅaÅciwy schemat autoryzacji"],"Your messages are not encrypted anymore":[null,"Twoje wiadomoÅci nie sÄ juÅ¼ szyfrowane"],"Your messages are now encrypted but your contact's identity has not been verified.":[null,"WiadomoÅci sÄ teraz szyfrowane, ale toÅ¼samoÅÄ kontaktu nie zostaÅa zweryfikowana."],"Your contact's identify has been verified.":[null,"ToÅ¼samoÅÄ kontaktu zostaÅa zweryfikowana"],"Your contact has ended encryption on their end, you should do the same.":[null,"Kontakt zakoÅczyÅ sesjÄ szyfrowanÄ, powinieneÅ zrobiÄ to samo."],"Your messages are not encrypted. Click here to enable OTR encryption.":[null,"Twoje wiadomoÅci nie sÄ szyfrowane. Kliknij, aby uruchomiÄ szyfrowanie OTR"],"Your messages are encrypted, but your contact has not been verified.":[null,"WiadomoÅci sÄ szyfrowane, ale toÅ¼samoÅÄ kontaktu nie zostaÅa zweryfikowana."],"Your messages are encrypted and your contact verified.":[null,"WiadomoÅci sÄ szyfrowane i toÅ¼samoÅÄ kontaktu zostaÅa zweryfikowana."],"Your contact has closed their end of the private session, you should do the same":[null,"Kontakt zakoÅczyÅ prywatnÄ rozmowÄ i ty zrÃ³b to samo"],"Clear all messages":[null,"WyczyÅÄ wszystkie wiadomoÅci"],"End encrypted conversation":[null,"ZakoÅcz szyfrowanÄ rozmowÄ"],"Hide the list of participants":[null,"Ukryj listÄ rozmÃ³wcÃ³w"],"Refresh encrypted conversation":[null,"OdÅwieÅ¼ szyfrowanÄ rozmowÄ"],"Start a call":[null,"ZadzwoÅ"],"Start encrypted conversation":[null,"Rozpocznij szyfrowanÄ rozmowÄ"],"Verify with fingerprints":[null,"Zweryfikuj za pomocÄ odciskÃ³w palcÃ³w"],"Verify with SMP":[null,"Zweryfikuj za pomocÄ SMP"],"What's this?":[null,"Co to jest?"],Online:[null,"DostÄpny"],Busy:[null,"ZajÄty"],Away:[null,"Nieobecny"],Offline:[null,"RozÅÄczony"],"Log out":[null,"Wyloguj"],"Contact name":[null,"Nazwa kontaktu"],Search:[null,"Szukaj"],"Contact username":[null,"Ksywka kontaktu"],Add:[null,"Dodaj"],"Click to add new chat contacts":[null,"Kliknij aby dodaÄ nowe kontakty"],"Add a contact":[null,"Dodaj kontakt"],"No users found":[null,"Nie znaleziono uÅ¼ytkownikÃ³w"],"Click to add as a chat contact":[null,"Kliknij aby dodaÄ jako kontakt"],"Room name":[null,"Nazwa pokoju"],Nickname:[null,"Ksywka"],Server:[null,"Serwer"],Join:[null,"DoÅÄcz"],"Show rooms":[null,"PokaÅ¼ pokoje"],Rooms:[null,"Pokoje"],"No rooms on %1$s":[null,"Brak jest pokojÃ³w na %1$s"],"Rooms on %1$s":[null,"Pokoje na %1$s"],"Click to open this room":[null,"Kliknij aby wejÅÄ do pokoju"],"Show more information on this room":[null,"PokaÅ¼ wiÄcej informacji o pokoju"],"Description:":[null,"Opis:"],"Occupants:":[null,"Uczestnicy:"],"Features:":[null,"MoÅ¼liwoÅci:"],"Requires authentication":[null,"Wymaga autoryzacji"],Hidden:[null,"Ukryty"],"Requires an invitation":[null,"Wymaga zaproszenia"],Moderated:[null,"Moderowany"],"Non-anonymous":[null,"Nieanonimowy"],"Open room":[null,"Otwarty pokÃ³j"],"Permanent room":[null,"StaÅy pokÃ³j"],Public:[null,"Publiczny"],"Semi-anonymous":[null,"PÃ³Åanonimowy"],"Temporary room":[null,"PokÃ³j tymczasowy"],Unmoderated:[null,"Niemoderowany"],"This user is a moderator":[null,"Ten czÅowiek jest moderatorem"],"This user can send messages in this room":[null,"Ten czÅowiek moÅ¼e rozmawiaÄ w niejszym pokoju"],"This user can NOT send messages in this room":[null,"Ten czÅowiek nie moÅ¼e rozmawiaÄ w niniejszym pokoju"],"Invite...":[null,"ZaproÅ..."],Occupants:[null,"UczestnikÃ³w"],'You are about to invite %1$s to the chat room "%2$s". ':[null,'Zamierzasz zaprosiÄ %1$s do pokoju rozmÃ³w "%2$s". '],"You may optionally include a message, explaining the reason for the invitation.":[null,"Masz opcjonalnÄ moÅ¼liwoÅÄ doÅÄczenia wiadomoÅci, ktÃ³ra wyjaÅni przyczynÄ zaproszenia."],Message:[null,"WiadomoÅÄ:"],"Error: could not execute the command":[null,"BÅÄd: nie potrafiÄ uruchomiÄ polecenia"],"Ban user from room":[null,"Zablokuj dostÄpu do pokoju"],"Kick user from room":[null,"Wykop z pokoju"],"Write in 3rd person":[null,"Pisz w trzeciej osobie"],"Remove user's ability to post messages":[null,"Zablokuj czÅowiekowi moÅ¼liwoÅÄ rozmowy"],"Change your nickname":[null,"ZmieÅ ksywkÄ"],"Set room topic":[null,"Ustaw temat pokoju"],"Allow muted user to post messages":[null,"PozwÃ³l uciszonemu czÅowiekowi na rozmowÄ"],Save:[null,"Zachowaj"],Cancel:[null,"Anuluj"],"An error occurred while trying to save the form.":[null,"WystÄpiÅ bÅÄd w czasie prÃ³by zachowania formularza."],"This chatroom requires a password":[null,"PokÃ³j rozmÃ³w wymaga podania hasÅa"],"Password: ":[null,"HasÅo:"],Submit:[null,"WyÅlij"],"This room is not anonymous":[null,"PokÃ³j nie jest anonimowy"],"This room now shows unavailable members":[null,"PokÃ³j pokazuje niedostÄpnych rozmÃ³wcÃ³w"],"This room does not show unavailable members":[null,"Ten pokÃ³j nie wyÅwietla niedostÄpnych czÅonkÃ³w"],"Non-privacy-related room configuration has changed":[null,"Ustawienia pokoju nie zwiÄzane z prywatnoÅciÄ zostaÅy zmienione"],"Room logging is now enabled":[null,"ZostaÅo wÅÄczone zapisywanie rozmÃ³w w pokoju"],"Room logging is now disabled":[null,"ZostaÅo wyÅÄczone zapisywanie rozmÃ³w w pokoju"],"This room is now non-anonymous":[null,"PokÃ³j staÅ siÄ nieanonimowy"],"This room is now semi-anonymous":[null,"PokÃ³j staÅ siÄ pÃ³Åanonimowy"],"This room is now fully-anonymous":[null,"PokÃ³j jest teraz w peÅni anonimowy"],"A new room has been created":[null,"ZostaÅ utworzony nowy pokÃ³j"],"You have been banned from this room":[null,"JesteÅ niemile widziany w tym pokoju"],"You have been kicked from this room":[null,"ZostaÅeÅ wykopany z pokoju"],"You have been removed from this room because of an affiliation change":[null,"ZostaÅeÅ usuniÄty z pokoju ze wzglÄdu na zmianÄ przynaleÅ¼noÅci"],"You have been removed from this room because the room has changed to members-only and you're not a member":[null,"ZostaÅeÅ usuniÄty z pokoju ze wzglÄdu na to, Å¼e pokÃ³j zmieniÅ siÄ na wymagajÄcy czÅonkowstwa, a ty nie jesteÅ czÅonkiem"],"You have been removed from this room because the MUC (Multi-user chat) service is being shut down.":[null,"ZostaÅeÅ usuniÄty z pokoju ze wzglÄdu na to, Å¼e serwis MUC(Multi-user chat) zostaÅ wyÅÄczony."],"<strong>%1$s</strong> has been banned":[null,"<strong>%1$s</strong> zostaÅ zbanowany"],"<strong>%1$s</strong>'s nickname has changed":[null,"<strong>%1$s</strong> zmieniÅ ksywkÄ"],"<strong>%1$s</strong> has been kicked out":[null,"<strong>%1$s</strong> zostaÅ wykopany"],"<strong>%1$s</strong> has been removed because of an affiliation change":[null,"<strong>%1$s</strong> zostaÅ usuniÄty z powodu zmiany przynaleÅ¼noÅci"],"<strong>%1$s</strong> has been removed for not being a member":[null,"<strong>%1$s</strong> zostaÅ usuniÄty ze wzglÄdu na to, Å¼e nie jest czÅonkiem"],"Your nickname has been automatically changed to: <strong>%1$s</strong>":[null,"Twoja ksywka zostaÅa automatycznie zmieniona na: <strong>%1$s</strong>"],"Your nickname has been changed to: <strong>%1$s</strong>":[null,"Twoja ksywka zostaÅa zmieniona na: <strong>%1$s</strong>"],'The reason given is: "':[null,'Podana przyczyna to: "'],"You are not on the member list of this room":[null,"Nie jesteÅ czÅonkiem tego pokoju rozmÃ³w"],"No nickname was specified":[null,"Nie podaÅeÅ ksywki"],"You are not allowed to create new rooms":[null,"Nie masz uprawnieÅ do tworzenia nowych pokojÃ³w rozmÃ³w"],"Your nickname doesn't conform to this room's policies":[null,"Twoja ksywka nie jest zgodna z regulaminem pokoju"],"Your nickname is already taken":[null,"Twoja ksywka jest juÅ¼ w uÅ¼yciu"],"This room does not (yet) exist":[null,"Ten pokÃ³j (jeszcze) nie istnieje"],"This room has reached it's maximum number of occupants":[null,"PokÃ³j przekroczyÅ dozwolonÄ iloÅÄ rozmÃ³wcÃ³w"],"Topic set by %1$s to: %2$s":[null,"Temat ustawiony przez %1$s na: %2$s"],"%1$s has invited you to join a chat room: %2$s":[null,"%1$s zaprosiÅ(a) ciÄ do wejÅcia do pokoju rozmÃ³w %2$s"],'%1$s has invited you to join a chat room: %2$s, and left the following reason: "%3$s"':[null,'%1$s zaprosiÅ ciÄ do pokoju: %2$s, podajÄc nastÄpujÄcy powÃ³d: "%3$s"'],"Click to restore this chat":[null,"Kliknij aby powrÃ³ciÄ do rozmowy"],
Minimized:[null,"Zminimalizowany"],"Click to remove this contact":[null,"Kliknij aby usunÄÄ kontakt"],"Click to accept this contact request":[null,"Klknij aby zaakceptowaÄ Å¼yczenie nawiÄzania kontaktu"],"Click to decline this contact request":[null,"Kliknij aby odrzuciÄ Å¼yczenie nawiÄzania kontaktu"],"Click to chat with this contact":[null,"Kliknij aby porozmawiaÄ z kontaktem"],"Are you sure you want to remove this contact?":[null,"Czy potwierdzasz zamiar usnuniÄcia tego kontaktu?"],"Are you sure you want to decline this contact request?":[null,"Czy potwierdzasz odrzucenie chÄci nawiÄzania kontaktu?"],"Type to filter":[null,"Zacznij pisaÄ, aby odfiltrowaÄ"],"I am %1$s":[null,"Jestem %1$s"],"Click here to write a custom status message":[null,"Kliknij aby wpisaÄ nowy status"],"Click to change your chat status":[null,"Kliknij aby zmieniÄ status rozmowy"],"Custom status":[null,"WÅasny status"],online:[null,"dostÄpny"],busy:[null,"zajÄty"],"away for long":[null,"dÅuÅ¼ej nieobecny"],away:[null,"nieobecny"],"Your XMPP provider's domain name:":[null,"Domena twojego dostawcy XMPP:"],"Fetch registration form":[null,"Pobierz formularz rejestracyjny"],"Tip: A list of public XMPP providers is available":[null,"WskazÃ³wka: dostÄpna jest lista publicznych dostawcÃ³w XMPP"],here:[null,"tutaj"],Register:[null,"Zarejestruj"],"Sorry, the given provider does not support in band account registration. Please try with a different provider.":[null,"Przepraszamy, ale podany dostawca nie obsÅuguje rejestracji. SprÃ³buj wskazaÄ innego dostawcÄ."],"Requesting a registration form from the XMPP server":[null,"Pobieranie formularza rejestracyjnego z serwera XMPP"],'Something went wrong while establishing a connection with "%1$s". Are you sure it exists?':[null,'CoÅ nie zadziaÅaÅo przy prÃ³bie poÅÄczenia z "%1$s". JesteÅ pewien Å¼e istnieje?'],"Now logging you in":[null,"Teraz jesteÅ logowany"],"Registered successfully":[null,"SzczÄÅliwie zarejestrowany"],Return:[null,"PowrÃ³t"],"The provider rejected your registration attempt. ":[null,"Dostawca odrzuciÅ twojÄ prÃ³bÄ rejestracji. "],"XMPP Username:":[null,"Nazwa uÅ¼ytkownika XMPP:"],"Password:":[null,"HasÅo:"],"Log In":[null,"Zaloguj siÄ"],"Sign in":[null,"Zarejestruj siÄ"],"Toggle chat":[null,"PrzeÅÄcz rozmowÄ"]}}},locales.pt_br={domain:"converse",locale_data:{converse:{"":{domain:"converse",plural_forms:"nplurals=2; plural=(n > 1);",lang:"pt_BR"},unencrypted:[null,"nÃ£o-criptografado"],unverified:[null,"nÃ£o-verificado"],verified:[null,"verificado"],finished:[null,"finalizado"],"This contact is busy":[null,"Este contato estÃ¡ ocupado"],"This contact is online":[null,"Este contato estÃ¡ online"],"This contact is offline":[null,"Este contato estÃ¡ offline"],"This contact is unavailable":[null,"Este contato estÃ¡ indisponÃ­vel"],"This contact is away for an extended period":[null,"Este contato estÃ¡ ausente por um longo perÃ­odo"],"This contact is away":[null,"Este contato estÃ¡ ausente"],"My contacts":[null,"Meus contatos"],"Pending contacts":[null,"Contados pendentes"],"Contact requests":[null,"SolicitaÃ§Ã£o de contatos"],Ungrouped:[null,""],Contacts:[null,"Contatos"],Groups:[null,""],Error:[null,"Erro"],Connecting:[null,"Conectando"],Authenticating:[null,"Autenticando"],"Authentication Failed":[null,"Falha de autenticaÃ§Ã£o"],"Online Contacts":[null,"Contatos online"],"Re-establishing encrypted session":[null,"Reestabelecendo sessÃ£o criptografada"],"Generating private key.":[null,"Gerando chave-privada."],"Your browser might become unresponsive.":[null,"Seu navegador pode parar de responder."],"Could not verify this user's identify.":[null,"NÃ£o foi possÃ­vel verificar a identidade deste usuÃ¡rio."],"Personal message":[null,"Mensagem pessoal"],me:[null,"eu"],"Show this menu":[null,"Mostrar o menu"],"Write in the third person":[null,"Escrever em terceira pessoa"],"Remove messages":[null,"Remover mensagens"],"Are you sure you want to clear the messages from this chat box?":[null,"Tem certeza que deseja limpar as mensagens dessa caixa?"],"Your message could not be sent":[null,"Sua mensagem nÃ£o pode ser enviada"],"We received an unencrypted message":[null,"Recebemos uma mensagem nÃ£o-criptografada"],"We received an unreadable encrypted message":[null,"Recebemos uma mensagem nÃ£o-criptografada ilegÃ­vel"],"This user has requested an encrypted session.":[null,"UsuÃ¡rio pediu uma sessÃ£o criptografada."],"Here are the fingerprints, please confirm them with %1$s, outside of this chat.\n\nFingerprint for you, %2$s: %3$s\n\nFingerprint for %1$s: %4$s\n\nIf you have confirmed that the fingerprints match, click OK, otherwise click Cancel.":[null,"Aqui estÃ£o as assinaturas digitais, por favor confirme elas com %1$s, fora deste chat.\n\nAssinatura para vocÃª, %2$s: %3$s\n\nAssinatura para %1$s: %4$s\n\nSe vocÃª tiver confirmado que as assinaturas conferem, clique OK, caso contrÃ¡rio, clique Cancelar."],"What is your security question?":[null,"Qual Ã© a sua pergunta de seguranÃ§a?"],"What is the answer to the security question?":[null,"Qual Ã© a resposta para a pergunta de seguranÃ§a?"],"Invalid authentication scheme provided":[null,"Schema de autenticaÃ§Ã£o fornecido Ã© invÃ¡lido"],"Your messages are not encrypted anymore":[null,"Suas mensagens nÃ£o estÃ£o mais criptografadas"],"Your messages are not encrypted. Click here to enable OTR encryption.":[null,"Suas mensagens nÃ£o estÃ£o criptografadas. Clique aqui para habilitar criptografia OTR."],"End encrypted conversation":[null,"Finalizar conversa criptografada"],"Hide the list of participants":[null,""],"Refresh encrypted conversation":[null,"Atualizar conversa criptografada"],"Start a call":[null,""],"Start encrypted conversation":[null,"Iniciar conversa criptografada"],"Verify with fingerprints":[null,"Verificar com assinatura digital"],"Verify with SMP":[null,"Verificar com SMP"],"What's this?":[null,"O que Ã© isso?"],Online:[null,"Online"],Busy:[null,"Ocupado"],Away:[null,"Ausente"],Offline:[null,"Offline"],"Contact name":[null,"Nome do contato"],Search:[null,"Procurar"],"Contact username":[null,"UsuÃ¡rio do contatt"],Add:[null,"Adicionar"],"Click to add new chat contacts":[null,"Clique para adicionar novos contatos ao chat"],"Add a contact":[null,"Adicionar contato"],"No users found":[null,"NÃ£o foram encontrados usuÃ¡rios"],"Click to add as a chat contact":[null,"Clique para adicionar como um contato do chat"],"Room name":[null,"Nome da sala"],Nickname:[null,"Apelido"],Server:[null,"Server"],Join:[null,"Entrar"],"Show rooms":[null,"Mostar salas"],Rooms:[null,"Salas"],"No rooms on %1$s":[null,"Sem salas em %1$s"],"Rooms on %1$s":[null,"Salas em %1$s"],"Click to open this room":[null,"CLique para abrir a sala"],"Show more information on this room":[null,"Mostrar mais informaÃ§Ãµes nessa sala"],"Description:":[null,"DescriÃ§Ã£o:"],"Occupants:":[null,"Ocupantes:"],"Features:":[null,"Recursos:"],"Requires authentication":[null,"Requer autenticaÃ§Ã£o"],Hidden:[null,"Escondido"],"Requires an invitation":[null,"Requer um convite"],Moderated:[null,"Moderado"],"Non-anonymous":[null,"NÃ£o anÃ´nimo"],"Open room":[null,"Sala aberta"],"Permanent room":[null,"Sala permanente"],Public:[null,"PÃºblico"],"Semi-anonymous":[null,"Semi anÃ´nimo"],"Temporary room":[null,"Sala temporÃ¡ria"],Unmoderated:[null,"Sem moderaÃ§Ã£o"],"This user is a moderator":[null,"Esse usuÃ¡rio Ã© o moderador"],"This user can send messages in this room":[null,"Esse usuÃ¡rio pode enviar mensagens nessa sala"],"This user can NOT send messages in this room":[null,"Esse usuÃ¡rio NÃO pode enviar mensagens nessa sala"],"Invite...":[null,""],'You are about to invite %1$s to the chat room "%2$s". ':[null,""],"You may optionally include a message, explaining the reason for the invitation.":[null,""],Message:[null,"Mensagem"],"Error: could not execute the command":[null,""],"Remove user's ability to post messages":[null,""],"Change your nickname":[null,""],"Allow muted user to post messages":[null,""],Save:[null,"Salvar"],Cancel:[null,"Cancelar"],"An error occurred while trying to save the form.":[null,"Ocorreu um erro enquanto tentava salvar o formulÃ¡rio"],"This chatroom requires a password":[null,"Esse chat precisa de senha"],"Password: ":[null,"Senha: "],Submit:[null,"Enviar"],"This room is not anonymous":[null,"Essa sala nÃ£o Ã© anÃ´nima"],"This room now shows unavailable members":[null,"Agora esta sala mostra membros indisponÃ­veis"],"This room does not show unavailable members":[null,"Essa sala nÃ£o mostra membros indisponÃ­veis"],"Non-privacy-related room configuration has changed":[null,"ConfiguraÃ§Ãµs nÃ£o relacionadas Ã  privacidade mudaram"],"Room logging is now enabled":[null,"O log da sala estÃ¡ ativado"],"Room logging is now disabled":[null,"O log da sala estÃ¡ desativado"],"This room is now non-anonymous":[null,"Esse sala Ã© nÃ£o anÃ´nima"],"This room is now semi-anonymous":[null,"Essa sala agora Ã© semi anÃ´nima"],"This room is now fully-anonymous":[null,"Essa sala agora Ã© totalmente anÃ´nima"],"A new room has been created":[null,"Uma nova sala foi criada"],"You have been banned from this room":[null,"VocÃª foi banido dessa sala"],"You have been kicked from this room":[null,"VocÃª foi expulso dessa sala"],"You have been removed from this room because of an affiliation change":[null,"VocÃª foi removido da sala devido a uma mudanÃ§a de associaÃ§Ã£o"],"You have been removed from this room because the room has changed to members-only and you're not a member":[null,"VocÃª foi removido da sala porque ela foi mudada para somente membrose vocÃª nÃ£o Ã© um membro"],"You have been removed from this room because the MUC (Multi-user chat) service is being shut down.":[null,"VocÃª foi removido da sala devido a MUC (Multi-user chat)o serviÃ§o estÃ¡ sendo desligado"],"<strong>%1$s</strong> has been banned":[null,"<strong>%1$s</strong> foi banido"],"<strong>%1$s</strong> has been kicked out":[null,"<strong>%1$s</strong> foi expulso"],"<strong>%1$s</strong> has been removed because of an affiliation change":[null,"<srtong>%1$s</strong> foi removido por causa de troca de associaÃ§Ã£o"],"<strong>%1$s</strong> has been removed for not being a member":[null,"<strong>%1$s</strong> foi removido por nÃ£o ser um membro"],'The reason given is: "':[null,""],"You are not on the member list of this room":[null,"VocÃª nÃ£o Ã© membro dessa sala"],"No nickname was specified":[null,"VocÃª nÃ£o escolheu um apelido "],"You are not allowed to create new rooms":[null,"VocÃª nÃ£o tem permitiÃ§Ã£o de criar novas salas"],"Your nickname doesn't conform to this room's policies":[null,"Seu apelido nÃ£o estÃ¡ de acordo com as regras da sala"],"Your nickname is already taken":[null,"Seu apelido jÃ¡ foi escolhido"],"This room does not (yet) exist":[null,"A sala nÃ£o existe (ainda)"],"This room has reached it's maximum number of occupants":[null,"A sala atingiu o nÃºmero mÃ¡ximo de ocupantes"],"Topic set by %1$s to: %2$s":[null,"Topico definido por %1$s para: %2$s"],"%1$s has invited you to join a chat room: %2$s":[null,""],'%1$s has invited you to join a chat room: %2$s, and left the following reason: "%3$s"':[null,""],Minimized:[null,"Minimizado"],"Click to remove this contact":[null,"Clique para remover o contato"],"Click to chat with this contact":[null,"Clique para conversar com o contato"],"Type to filter":[null,""],"I am %1$s":[null,"Estou %1$s"],"Click here to write a custom status message":[null,"Clique aqui para customizar a mensagem de status"],"Click to change your chat status":[null,"Clique para mudar seu status no chat"],"Custom status":[null,"Status customizado"],online:[null,"online"],busy:[null,"ocupado"],"away for long":[null,"ausente a bastante tempo"],away:[null,"ausente"],"Your XMPP provider's domain name:":[null,""],"Fetch registration form":[null,""],"Tip: A list of public XMPP providers is available":[null,""],here:[null,""],Register:[null,""],"Sorry, the given provider does not support in band account registration. Please try with a different provider.":[null,""],"Requesting a registration form from the XMPP server":[null,""],'Something went wrong while establishing a connection with "%1$s". Are you sure it exists?':[null,""],"Now logging you in":[null,""],"Registered successfully":[null,""],Return:[null,""],"The provider rejected your registration attempt. ":[null,""],"Password:":[null,"Senha:"],"Log In":[null,"Entrar"],"Sign in":[null,"Conectar-se"],"Toggle chat":[null,"Alternar bate-papo"]}}},locales.ru={domain:"converse",locale_data:{converse:{"":{domain:"converse",lang:"ru"},unencrypted:[null,"Ð½Ðµ Ð·Ð°ÑÐ¸ÑÑÐ¾Ð²Ð°Ð½Ð¾"],unverified:[null,"Ð½ÐµÐ¿ÑÐ¾Ð²ÐµÑÐµÐ½Ð¾"],verified:[null,"Ð¿ÑÐ¾Ð²ÐµÑÐµÐ½Ð¾"],finished:[null,"Ð·Ð°ÐºÐ¾Ð½ÑÐµÐ½Ð¾"],"This contact is busy":[null,"ÐÐ°Ð½ÑÑ"],"This contact is online":[null,"Ð ÑÐµÑÐ¸"],"This contact is offline":[null,"ÐÐµ Ð² ÑÐµÑÐ¸"],"This contact is unavailable":[null,"ÐÐµ Ð´Ð¾ÑÑÑÐ¿ÐµÐ½"],"This contact is away for an extended period":[null,"ÐÐ° Ð´Ð¾Ð»Ð³Ð¾ Ð¾ÑÐ¾ÑÑÐ»"],"This contact is away":[null,"ÐÑÐ¾ÑÑÐ»"],"My contacts":[null,"ÐÐ¾Ð½ÑÐ°ÐºÑÑ"],"Pending contacts":[null,"Ð¡Ð¾Ð±ÐµÑÐµÐ´Ð½Ð¸ÐºÐ¸ Ð¾Ð¶Ð¸Ð´Ð°ÑÑÐ¸Ðµ Ð°Ð²ÑÐ¾ÑÐ¸Ð·Ð°ÑÐ¸Ð¸"],"Contact requests":[null,"ÐÐ°Ð¿ÑÐ¾ÑÑ Ð½Ð° Ð°Ð²ÑÐ¾ÑÐ¸Ð·Ð°ÑÐ¸Ñ"],Ungrouped:[null,""],Contacts:[null,"ÐÐ¾Ð½ÑÐ°ÐºÑÑ"],Groups:[null,""],Error:[null,"ÐÑÐ¸Ð±ÐºÐ°"],Connecting:[null,"Ð¡Ð¾ÐµÐ´Ð¸Ð½ÐµÐ½Ð¸Ðµ"],Authenticating:[null,"ÐÐ²ÑÐ¾ÑÐ¸Ð·Ð°ÑÐ¸Ñ"],"Authentication Failed":[null,"ÐÐµ ÑÐ´Ð°Ð»Ð¾ÑÑ Ð°Ð²ÑÐ¾ÑÐ¸Ð·Ð¾Ð²Ð°ÑÑÑÑ"],"Online Contacts":[null,"CÐ¿Ð¸ÑÐ¾Ðº ÑÐ¾Ð±ÐµÑÐµÐ´Ð½Ð¸ÐºÐ¾Ð²"],"Re-establishing encrypted session":[null,""],"Generating private key.":[null,""],"Your browser might become unresponsive.":[null,""],"Authentication request from %1$s\n\nYour chat contact is attempting to verify your identity, by asking you the question below.\n\n%2$s":[null,""],"Could not verify this user's identify.":[null,""],"Exchanging private key with contact.":[null,""],"Personal message":[null,"ÐÐ²ÐµÐ´Ð¸ÑÐµ ÑÐ¾Ð¾Ð±ÑÐµÐ½Ð¸Ðµ"],me:[null,"Ð¯"],"is typing":[null,""],"has stopped typing":[null,""],"Show this menu":[null,"ÐÐ¾ÐºÐ°Ð·Ð°ÑÑ ÑÑÐ¾ Ð¼ÐµÐ½Ñ"],"Write in the third person":[null,""],"Remove messages":[null,"Ð£Ð´Ð°Ð»Ð¸ÑÑ ÑÐ¾Ð¾Ð±ÑÐµÐ½Ð¸Ñ"],"Are you sure you want to clear the messages from this chat box?":[null,""],"Your message could not be sent":[null,"ÐÐ°ÑÐµ ÑÐ¾Ð¾Ð±ÑÐµÐ½Ð¸Ðµ Ð½Ðµ Ð¿Ð¾ÑÐ»Ð°Ð½Ð¾"],"We received an unencrypted message":[null,""],"We received an unreadable encrypted message":[null,""],"This user has requested an encrypted session.":[null,""],"Here are the fingerprints, please confirm them with %1$s, outside of this chat.\n\nFingerprint for you, %2$s: %3$s\n\nFingerprint for %1$s: %4$s\n\nIf you have confirmed that the fingerprints match, click OK, otherwise click Cancel.":[null,""],"You will be prompted to provide a security question and then an answer to that question.\n\nYour contact will then be prompted the same question and if they type the exact same answer (case sensitive), their identity will be verified.":[null,""],"What is your security question?":[null,""],"What is the answer to the security question?":[null,""],"Invalid authentication scheme provided":[null,""],"Your messages are not encrypted anymore":[null,"ÐÐ°ÑÐ¸ ÑÐ¾Ð¾Ð±ÑÐµÐ½Ð¸Ñ Ð±Ð¾Ð»ÑÑÐµ Ð½Ðµ ÑÐ¸ÑÑÑÑÑÑÑ"],"Your contact has ended encryption on their end, you should do the same.":[null,""],"Your messages are not encrypted. Click here to enable OTR encryption.":[null,"ÐÐ°ÑÐ¸ ÑÐ¾Ð¾Ð±ÑÐµÐ½Ð¸Ñ Ð½Ðµ ÑÐ¸ÑÑÑÑÑÑÑ. ÐÐ°Ð¶Ð¼Ð¸ÑÐµ Ð·Ð´ÐµÑÑ ÑÑÐ¾Ð±Ñ Ð½Ð°ÑÑÑÐ¾Ð¸ÑÑ ÑÐ¸ÑÑÐ¾Ð²Ð°Ð½Ð¸Ðµ."],"Your contact has closed their end of the private session, you should do the same":[null,""],"End encrypted conversation":[null,""],"Hide the list of participants":[null,""],"Refresh encrypted conversation":[null,""],"Start a call":[null,""],"Start encrypted conversation":[null,""],"Verify with fingerprints":[null,""],"Verify with SMP":[null,""],"What's this?":[null,"Ð§ÑÐ¾ ÑÑÐ¾?"],Online:[null,"Ð ÑÐµÑÐ¸"],Busy:[null,"ÐÐ°Ð½ÑÑ"],Away:[null,"ÐÑÐ¾ÑÑÐ»"],Offline:[null,"ÐÐµ Ð² ÑÐµÑÐ¸"],"Contact name":[null,"ÐÐ¼Ñ ÐºÐ¾Ð½ÑÐ°ÐºÑÐ°"],Search:[null,"ÐÐ¾Ð¸ÑÐº"],"Contact username":[null,"ÐÐ¼Ñ Ð¿Ð¾Ð»ÑÐ·Ð¾Ð²Ð°ÑÐµÐ»Ñ"],Add:[null,"ÐÐ¾Ð±Ð°Ð²Ð¸ÑÑ"],"Click to add new chat contacts":[null,"ÐÐ¾Ð±Ð°Ð²Ð¸ÑÑ Ð½Ð¾Ð²ÑÑ ÐºÐ¾Ð½ÑÐµÑÐµÐ½ÑÐ¸Ñ"],"Add a contact":[null,"ÐÐ¾Ð±Ð°Ð²ÑÑ ÐºÐ¾Ð½ÑÐ°ÐºÑ"],"No users found":[null,"ÐÐ¾Ð»ÑÐ·Ð¾Ð²Ð°ÑÐµÐ»Ð¸ Ð½Ðµ Ð½Ð°Ð¹Ð´ÐµÐ½Ñ"],"Click to add as a chat contact":[null,"ÐÐ¾Ð±Ð°Ð²Ð¸ÑÑ ÐºÐ¾Ð½ÑÐ°ÐºÑ"],"Room name":[null,"ÐÐ¼Ñ ÐºÐ¾Ð½ÑÐµÑÐµÐ½ÑÐ¸Ð¸"],Nickname:[null,"ÐÑÐµÐ²Ð´Ð¾Ð½Ð¸Ð¼"],Server:[null,"Ð¡ÐµÑÐ²ÐµÑ"],Join:[null,"ÐÐ¾Ð´ÐºÐ»ÑÑÐ¸ÑÑÑÑ"],"Show rooms":[null,"ÐÐ±Ð½Ð¾Ð²Ð¸ÑÑ"],Rooms:[null,"ÐÐ¾Ð½ÑÐµÑ."],"No rooms on %1$s":[null,"ÐÐµÑ Ð´Ð¾ÑÑÑÐ¿Ð½ÑÑ ÐºÐ¾Ð½ÑÐµÑÐµÐ½ÑÐ¸Ð¹ %1$s"],"Rooms on %1$s":[null,"ÐÐ¾Ð½ÑÐµÑÐµÐ½ÑÐ¸Ð¸ %1$s:"],"Click to open this room":[null,"ÐÐ°Ð¹ÑÐ¸ Ð² ÐºÐ¾Ð½ÑÐµÑÐµÐ½ÑÐ¸Ñ"],"Show more information on this room":[null,"ÐÐ¾ÐºÐ°Ð·Ð°ÑÑ Ð±Ð¾Ð»ÑÑÐµ Ð¸Ð½ÑÐ¾ÑÐ¼Ð°ÑÐ¸Ð¸ Ð¾Ð± ÑÑÐ¾Ð¹ ÐºÐ¾Ð½ÑÐµÑÐµÐ½ÑÐ¸Ð¸"],"Description:":[null,"ÐÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ:"],"Occupants:":[null,"Ð£ÑÐ°ÑÑÐ½Ð¸ÐºÐ¸:"],"Features:":[null,"Ð¡Ð²Ð¾Ð¹ÑÑÐ²Ð°:"],"Requires authentication":[null,"Ð¢ÑÐµÐ±ÑÐµÑÑÑ Ð°Ð²ÑÐ¾ÑÐ¸Ð·Ð°ÑÐ¸Ñ"],Hidden:[null,"Ð¡ÐºÑÑÑÐ¾"],"Requires an invitation":[null,"Ð¢ÑÐµÐ±ÑÐµÑÑÑ Ð¿ÑÐ¸Ð³Ð»Ð°ÑÐµÐ½Ð¸Ðµ"],Moderated:[null,"ÐÐ¾Ð´ÐµÑÐ¸ÑÑÐµÐ¼Ð°Ñ"],"Non-anonymous":[null,"ÐÐµ Ð°Ð½Ð¾Ð½Ð¸Ð¼Ð½Ð°Ñ"],"Open room":[null,"ÐÑÐºÑÑÑÑ ÐºÐ¾Ð½ÑÐµÑÐµÐ½ÑÐ¸Ñ"],"Permanent room":[null,"ÐÐµÑÐ¼Ð°Ð½ÐµÐ½ÑÐ½Ð°Ñ ÐºÐ¾Ð½ÑÐµÑÐµÐ½ÑÐ¸Ñ"],Public:[null,"ÐÑÐ±Ð»Ð¸ÑÐ½ÑÐ¹"],"Semi-anonymous":[null,"Ð§Ð°ÑÑÐ¸ÑÐ½Ð¾ Ð°Ð½Ð¾Ð½Ð¸Ð¼Ð½Ð°Ñ"],"Temporary room":[null,"ÐÑÐµÐ¼ÐµÐ½Ð½Ð°Ñ ÐºÐ¾Ð½ÑÐµÑÐµÐ½ÑÐ¸Ñ"],Unmoderated:[null,"ÐÐµÐ¼Ð¾Ð´ÐµÑÐ¸ÑÑÐµÐ¼Ð°Ñ"],"This user is a moderator":[null,"ÐÐ¾Ð´ÐµÑÐ°ÑÐ¾Ñ"],"This user can send messages in this room":[null,"Ð¡Ð¾Ð±ÐµÑÐµÐ´Ð½Ð¸Ðº"],"This user can NOT send messages in this room":[null,"ÐÐ¾Ð»ÑÐ·Ð¾Ð²Ð°ÑÐµÐ»Ñ Ð½Ðµ Ð¼Ð¾Ð¶ÐµÑ Ð¿Ð¾ÑÑÐ»Ð°ÑÑ ÑÐ¾Ð¾Ð±ÑÐµÐ½Ð¸Ñ Ð² ÑÑÑ ÐºÐ¾Ð¼Ð½Ð°ÑÑ"],"Invite...":[null,""],'You are about to invite %1$s to the chat room "%2$s". ':[null,""],"You may optionally include a message, explaining the reason for the invitation.":[null,""],Message:[null,"Ð¡Ð¾Ð¾Ð±ÑÐµÐ½Ð¸Ðµ"],"Error: could not execute the command":[null,""],"Write in 3rd person":[null,""],"Remove user's ability to post messages":[null,""],"Change your nickname":[null,""],"Allow muted user to post messages":[null,""],Save:[null,"Ð¡Ð¾ÑÑÐ°Ð½Ð¸ÑÑ"],Cancel:[null,"ÐÑÐ¼ÐµÐ½Ð¸ÑÑ"],"An error occurred while trying to save the form.":[null,"ÐÑÐ¸ ÑÐ¾ÑÑÐ°Ð½ÐµÐ½Ð¸Ðµ ÑÐ¾ÑÐ¼Ñ Ð¿ÑÐ¾Ð¸Ð·Ð¾ÑÐ»Ð° Ð¾ÑÐ¸Ð±ÐºÐ°."],"This chatroom requires a password":[null,"ÐÐ»Ñ Ð´Ð¾ÑÑÑÐ¿Ð° Ð² ÐºÐ¾Ð½ÑÐµÑ. Ð½ÐµÐ¾Ð±ÑÐ¾Ð´Ð¸Ð¼ Ð¿Ð°ÑÐ¾Ð»Ñ."],"Password: ":[null,"ÐÐ°ÑÐ¾Ð»Ñ: "],Submit:[null,"ÐÑÐ¿ÑÐ°Ð²Ð¸ÑÑ"],"This room is not anonymous":[null,"Ð­ÑÐ° ÐºÐ¾Ð¼Ð½Ð°ÑÐ° Ð½Ðµ Ð°Ð½Ð¾Ð½Ð¸Ð¼Ð½Ð°Ñ"],"This room now shows unavailable members":[null,"Ð­ÑÐ° ÐºÐ¾Ð¼Ð½Ð°ÑÐ° Ð¿Ð¾ÐºÐ°Ð·ÑÐ²Ð°ÐµÑ Ð´Ð¾ÑÑÑÐ¿Ð½ÑÑ ÑÐ¾Ð±ÐµÑÐµÐ´Ð½Ð¸ÐºÐ¾Ð²"],"This room does not show unavailable members":[null,"Ð­ÑÐ° ÐºÐ¾Ð¼Ð½Ð°ÑÐ° Ð½Ðµ Ð¿Ð¾ÐºÐ°Ð·ÑÐ²Ð°ÐµÑ Ð½ÐµÐ´Ð¾ÑÑÑÐ¿Ð½ÑÑ ÑÐ¾Ð±ÐµÑÐµÐ´Ð½Ð¸ÐºÐ¾Ð²"],"Non-privacy-related room configuration has changed":[null,""],"Room logging is now enabled":[null,""],"Room logging is now disabled":[null,""],"This room is now non-anonymous":[null,"Ð­ÑÐ° ÐºÐ¾Ð¼Ð½Ð°ÑÐ° Ð½Ðµ Ð°Ð½Ð¾Ð½Ð¸Ð¼Ð½Ð°Ñ"],"This room is now semi-anonymous":[null,"Ð­ÑÐ° ÐºÐ¾Ð¼Ð½Ð°ÑÐ° ÑÐ°ÑÑÐ¸ÑÐ½Ð¾ Ð°Ð½Ð¾Ð½Ð¸Ð¼Ð½Ð°Ñ"],"This room is now fully-anonymous":[null,"Ð­ÑÐ° ÐºÐ¾Ð¼Ð½Ð°ÑÐ° ÑÑÐ°Ð»Ð° Ð¿Ð¾Ð»Ð½Ð¾ÑÑÑÑ Ð°Ð½Ð¾Ð½Ð¸Ð¼Ð½Ð¾Ð¹"],"A new room has been created":[null,"ÐÐ¾Ð²Ð°Ñ ÐºÐ¾Ð¼Ð½Ð°ÑÐ° Ð±ÑÐ»Ð° ÑÐ¾Ð·Ð´Ð°Ð½Ð°"],"You have been banned from this room":[null,"ÐÐ°Ð¼ Ð·Ð°Ð¿ÑÐµÑÐµÐ½Ð¾ Ð¿Ð¾Ð´ÐºÐ»ÑÑÐ°ÑÑÑ Ðº ÑÑÐ¾Ð¹ ÐºÐ¾Ð½ÑÐµÑÐµÐ½ÑÐ¸Ð¸"],"You have been kicked from this room":[null,"ÐÐ°Ð¼ Ð·Ð°Ð¿ÑÐµÑÐµÐ½Ð¾ Ð¿Ð¾Ð´ÐºÐ»ÑÑÐ°ÑÑÑ Ðº ÑÑÐ¾Ð¹ ÐºÐ¾Ð½ÑÐµÑÐµÐ½ÑÐ¸Ð¸"],"You have been removed from this room because of an affiliation change":[null,"<strong>%1$s</strong> ÑÐ´Ð°Ð»ÑÐ½ Ð¿Ð¾ÑÐ¾Ð¼Ñ ÑÑÐ¾ Ð¸Ð·Ð¼ÐµÐ½Ð¸Ð»Ð¸ÑÑ Ð¿ÑÐ°Ð²Ð°"],"You have been removed from this room because the room has changed to members-only and you're not a member":[null,"ÐÑ Ð¾ÑÐºÐ»ÑÑÐµÐ½Ñ Ð¾Ñ ÑÑÐ¾Ð¹ ÐºÐ¾Ð½ÑÐµÑÐµÐ½ÑÐ¸Ð¸ Ð¿Ð¾ÑÐ¾Ð¼Ñ ÑÑÐ¾ ÑÐµÐ¶Ð¸Ð¼ Ð¸Ð·Ð¼ÐµÐ½Ð¸Ð»ÑÑ: ÑÐ¾Ð»ÑÐºÐ¾-ÑÑÐ°ÑÑÐ½Ð¸ÐºÐ¸"],"You have been removed from this room because the MUC (Multi-user chat) service is being shut down.":[null,"ÐÑ Ð¾ÑÐºÐ»ÑÑÐµÐ½Ñ Ð¾Ñ ÑÑÐ¾Ð¹ ÐºÐ¾Ð½ÑÐµÑÐµÐ½ÑÐ¸Ð¸ Ð¿Ð¾ÑÐ¾Ð¼Ñ ÑÑÐ¾ ÑÐµÑÐ²Ð¸ÑÑ ÐºÐ¾Ð½ÑÐµÑÐµÐ½ÑÐ¸Ð¹ Ð²ÑÐºÐ»ÑÑÐµÐ½."],"<strong>%1$s</strong> has been banned":[null,"<strong>%1$s</strong> Ð·Ð°Ð±Ð°Ð½ÐµÐ½"],"<strong>%1$s</strong> has been kicked out":[null,"<strong>%1$s</strong> Ð²ÑÐ´Ð²Ð¾ÑÐµÐ½"],"<strong>%1$s</strong> has been removed because of an affiliation change":[null,"<strong>%1$s</strong> has been removed because of an affiliation change"],"<strong>%1$s</strong> has been removed for not being a member":[null,"<strong>%1$s</strong> ÑÐ´Ð°Ð»ÑÐ½ Ð¿Ð¾ÑÐ¾Ð¼Ñ ÑÑÐ¾ Ð½Ðµ ÑÑÐ°ÑÑÐ½Ð¸Ðº"],'The reason given is: "':[null,""],"You are not on the member list of this room":[null,"ÐÐ°Ñ Ð½ÐµÑ Ð² ÑÐ¿Ð¸ÑÐºÐµ ÑÑÐ¾Ð¹ ÐºÐ¾Ð½ÑÐµÑÐµÐ½ÑÐ¸Ð¸"],"No nickname was specified":[null,"ÐÑ Ð½Ðµ ÑÐºÐ°Ð·Ð°Ð»Ð¸ Ð¿ÑÐµÐ²Ð´Ð¾Ð½Ð¸Ð¼"],"You are not allowed to create new rooms":[null,"ÐÑ Ð½Ðµ Ð¸Ð¼ÐµÐµÑÐµ Ð¿ÑÐ°Ð²Ð° ÑÐ¾Ð·Ð´Ð°Ð²Ð°ÑÑ ÐºÐ¾Ð½ÑÐµÑ."],"Your nickname doesn't conform to this room's policies":[null,"ÐÑÐµÐ²Ð´Ð¾Ð½Ð¸Ð¼ Ð½Ðµ ÑÐ¾Ð³Ð»Ð°ÑÑÐµÑÑÑ Ñ Ð¿ÑÐ°Ð²Ð¸Ð»Ð°Ð¼Ð¸ ÐºÐ¾Ð½ÑÐµÑ."],"Your nickname is already taken":[null,"ÐÐ°Ñ Ð½Ð¸Ðº ÑÐ¶Ðµ Ð¸ÑÐ¿Ð¾Ð»ÑÐ·ÑÐµÑÑÑ Ð´ÑÑÐ³Ð¸Ð¼ Ð¿Ð¾Ð»ÑÐ·Ð¾Ð²Ð°ÑÐµÐ»ÐµÐ¼"],"This room does not (yet) exist":[null,"Ð­ÑÐ° ÐºÐ¾Ð¼Ð½Ð°ÑÐ° Ð½Ðµ ÑÑÑÐµÑÑÐ²ÑÐµÑ"],"This room has reached it's maximum number of occupants":[null,"ÐÐ¾Ð½ÑÐµÑÐµÐ½ÑÐ¸Ñ Ð´Ð¾ÑÑÐ¸Ð³Ð»Ð° Ð¼Ð°ÐºÑÐ¸Ð¼Ð°Ð»ÑÐ½Ð¾Ð³Ð¾ ÐºÐ¾Ð»Ð¸ÑÐµÑÑÐ²Ð° ÑÑÐ°ÑÑÐ½Ð¸ÐºÐ¾Ð²"],"Topic set by %1$s to: %2$s":[null,"Ð¢ÐµÐ¼Ð° %2$s ÑÑÑÐ°ÑÐ½Ð¾Ð²Ð»ÐµÐ½Ð° %1$s"],"%1$s has invited you to join a chat room: %2$s":[null,""],'%1$s has invited you to join a chat room: %2$s, and left the following reason: "%3$s"':[null,""],Minimized:[null,""],"Click to remove this contact":[null,"Ð£Ð´Ð°Ð»Ð¸ÑÑ ÐºÐ¾Ð½ÑÐ°ÐºÑ"],"Click to chat with this contact":[null,"ÐÐ°ÑÐ°ÑÑ Ð¾Ð±ÑÐµÐ½Ð¸Ðµ"],"Type to filter":[null,""],"I am %1$s":[null,"%1$s"],"Click here to write a custom status message":[null,"Ð ÐµÐ´Ð°ÐºÑÐ¸ÑÐ¾Ð²Ð°ÑÑ Ð¿ÑÐ¾Ð¸Ð·Ð²Ð¾Ð»ÑÐ½ÑÐ¹ ÑÑÐ°ÑÑÑ"],"Click to change your chat status":[null,"ÐÐ·Ð¼ÐµÐ½Ð¸ÑÑ Ð²Ð°Ñ ÑÑÐ°ÑÑÑ"],"Custom status":[null,"ÐÑÐ¾Ð¸Ð·Ð²Ð¾Ð»ÑÐ½ÑÐ¹ ÑÑÐ°ÑÑÑ"],online:[null,"Ð½Ð° ÑÐ²ÑÐ·Ð¸"],busy:[null,"Ð·Ð°Ð½ÑÑ"],"away for long":[null,"Ð¾ÑÐ¾ÑÑÐ» Ð½Ð° Ð´Ð¾Ð»Ð³Ð¾"],away:[null,"Ð¾ÑÐ¾ÑÑÐ»"],"Your XMPP provider's domain name:":[null,""],"Fetch registration form":[null,""],"Tip: A list of public XMPP providers is available":[null,""],here:[null,""],Register:[null,""],"Sorry, the given provider does not support in band account registration. Please try with a different provider.":[null,""],"Requesting a registration form from the XMPP server":[null,""],'Something went wrong while establishing a connection with "%1$s". Are you sure it exists?':[null,""],"Now logging you in":[null,""],"Registered successfully":[null,""],Return:[null,""],"The provider rejected your registration attempt. ":[null,""],"Password:":[null,"ÐÐ°ÑÐ¾Ð»Ñ:"],"Log In":[null,"ÐÐ¾Ð¹ÑÐ¸"],"Sign in":[null,"ÐÐ¾Ð´Ð¿Ð¸ÑÐ°ÑÑ"],"Toggle chat":[null,""]}}},locales.zh={domain:"converse",locale_data:{converse:{"":{domain:"converse",lang:"zh"},unencrypted:[null,"æªå å¯"],unverified:[null,"æªéªè¯"],verified:[null,"å·²éªè¯"],finished:[null,"ç»æäº"],"This contact is busy":[null,"å¯¹æ¹å¿ç¢ä¸­"],"This contact is online":[null,"å¯¹æ¹å¨çº¿ä¸­"],"This contact is offline":[null,"å¯¹æ¹å·²ä¸çº¿"],"This contact is unavailable":[null,"å¯¹æ¹åææ°"],"This contact is away for an extended period":[null,"å¯¹æ¹ææ¶ç¦»å¼"],"This contact is away":[null,"å¯¹æ¹ç¦»å¼"],"My contacts":[null,"æçå¥½ååè¡¨"],"Pending contacts":[null,"ä¿çä¸­çèç³»äºº"],"Contact requests":[null,"æ¥èªå¥½åçè¯·æ±"],Ungrouped:[null,""],Contacts:[null,"èç³»äºº"],Groups:[null,""],Error:[null,"éè¯¯"],Connecting:[null,"è¿æ¥ä¸­"],Authenticating:[null,"éªè¯ä¸­"],"Authentication Failed":[null,"éªè¯å¤±è´¥"],"Online Contacts":[null,"å¨çº¿å¥½å"],"Re-establishing encrypted session":[null,"éæ°å»ºç«å å¯ä¼è¯"],"Generating private key.":[null,"æ­£å¨çæç§é¥"],"Your browser might become unresponsive.":[null,"æ¨çæµè§å¨å¯è½ä¼ææ¶æ ååº"],"Could not verify this user's identify.":[null,"æ æ³éªè¯å¯¹æ¹ä¿¡æ¯ã"],"Personal message":[null,"ç§ä¿¡"],me:[null,"æ"],"is typing":[null,""],"has stopped typing":[null,""],"Show this menu":[null,"æ¾ç¤ºæ­¤é¡¹èå"],"Write in the third person":[null,"ä»¥ç¬¬ä¸èèº«ä»½å"],"Remove messages":[null,"ç§»é¤æ¶æ¯"],"Are you sure you want to clear the messages from this chat box?":[null,"ä½ ç¡®å®æ¸é¤æ­¤æ¬¡çèå¤©è®°å½åï¼"],"Your message could not be sent":[null,"æ¨çæ¶æ¯æ æ³éåº"],"We received an unencrypted message":[null,"æä»¬æ¶å°äºä¸æ¡æªå å¯çä¿¡æ¯"],"We received an unreadable encrypted message":[null,"æä»¬æ¶å°ä¸æ¡æ æ³è¯»åçä¿¡æ¯"],"This user has requested an encrypted session.":[null,"æ­¤ç¨æ·è¯·æ±äºä¸ä¸ªå å¯ä¼è¯ã"],"Here are the fingerprints, please confirm them with %1$s, outside of this chat.\n\nFingerprint for you, %2$s: %3$s\n\nFingerprint for %1$s: %4$s\n\nIf you have confirmed that the fingerprints match, click OK, otherwise click Cancel.":[null,"è¿éæ¯æçº¹ãè¯·ä¸ %1$s ç¡®è®¤ã\n\næ¨ç %2$s æçº¹: %3$s\n\n%1$s çæçº¹: %4$s\n\nå¦æç¡®è®¤ç¬¦åï¼è¯·ç¹å»OKï¼å¦åç¹å»åæ¶"],"What is your security question?":[null,"æ¨çå®å¨é®é¢æ¯?"],"What is the answer to the security question?":[null,"æ­¤å®å¨é®é¢çç­æ¡æ¯?"],"Invalid authentication scheme provided":[null,"éæ³çè®¤è¯æ¹å¼"],"Your messages are not encrypted anymore":[null,"æ¨çæ¶æ¯å°ä¸åè¢«å å¯"],"Your messages are not encrypted. Click here to enable OTR encryption.":[null,"æ¨çæ¶æ¯æªå å¯ãç¹å»è¿éæ¥å¯ç¨OTRå å¯"],"End encrypted conversation":[null,"ç»æå å¯çä¼è¯"],"Hide the list of participants":[null,""],"Refresh encrypted conversation":[null,"å·æ°å å¯çä¼è¯"],"Start a call":[null,""],"Start encrypted conversation":[null,"å¼å§å å¯çä¼è¯"],"Verify with fingerprints":[null,"éªè¯æçº¹"],"Verify with SMP":[null,"éªè¯SMP"],"What's this?":[null,"è¿æ¯ä»ä¹?"],Online:[null,"å¨çº¿"],Busy:[null,"å¿ç¢ä¸­"],Away:[null,"ç¦»å¼"],Offline:[null,"ç¦»çº¿"],"Contact name":[null,"èç³»äººåç§°"],Search:[null,"æç´¢"],"Contact username":[null,"èç³»äººå§å"],Add:[null,"æ·»å "],"Click to add new chat contacts":[null,"ç¹å»æ·»å æ°èç³»äºº"],"Add a contact":[null,"æ·»å èç³»äºº"],"No users found":[null,"æªæ¾å°ç¨æ·"],"Click to add as a chat contact":[null,"ç¹å»æ·»å ä¸ºå¥½å"],"Room name":[null,"èå¤©å®¤åç§°"],Nickname:[null,"æµç§°"],Server:[null,"æå¡å¨"],Join:[null,"å å¥"],"Show rooms":[null,"æ¾ç¤ºææèå¤©å®¤"],Rooms:[null,"èå¤©å®¤"],"No rooms on %1$s":[null,"%1$s ä¸æ²¡æèå¤©å®¤"],"Rooms on %1$s":[null,"%1$s ä¸çèå¤©å®¤"],"Click to open this room":[null,"æå¼èå¤©å®¤"],"Show more information on this room":[null,"æ¾ç¤ºæ¬¡èå¤©å®¤çæ´å¤ä¿¡æ¯"],"Description:":[null,"æè¿°: "],"Occupants:":[null,"æå:"],"Features:":[null,"ç¹æ§:"],"Requires authentication":[null,"éè¦éªè¯"],Hidden:[null,"éèç"],"Requires an invitation":[null,"éè¦è¢«éè¯·"],Moderated:[null,"åè¨åé"],"Non-anonymous":[null,"éå¿å"],"Open room":[null,"æå¼èå¤©å®¤"],"Permanent room":[null,"æ°¸ä¹èå¤©å®¤"],Public:[null,"å¬å¼ç"],"Semi-anonymous":[null,"åå¿å"],"Temporary room":[null,"ä¸´æ¶èå¤©å®¤"],Unmoderated:[null,"æ åè¨éå¶"],"This user is a moderator":[null,"æ­¤ç¨æ·æ¯ä¸»æäºº"],"This user can send messages in this room":[null,"æ­¤ç¨æ·å¨è¿æ¿é´éå¯åæ¶æ¯"],"This user can NOT send messages in this room":[null,"æ­¤ç¨æ·ä¸å¯å¨æ­¤æ¿é´åæ¶æ¯"],"Invite...":[null,""],'You are about to invite %1$s to the chat room "%2$s". ':[null,""],"You may optionally include a message, explaining the reason for the invitation.":[null,""],Message:[null,"ä¿¡æ¯"],"Error: could not execute the command":[null,""],"Remove user's ability to post messages":[null,""],"Change your nickname":[null,""],"Allow muted user to post messages":[null,""],Save:[null,"ä¿å­"],Cancel:[null,"åæ¶"],"An error occurred while trying to save the form.":[null,"ä¿å­è¡¨åæ¯åºéã"],"This chatroom requires a password":[null,"æ­¤èå¤©å®¤éè¦å¯ç "],"Password: ":[null,"å¯ç :"],Submit:[null,"åé"],"This room is not anonymous":[null,"æ­¤ä¸ºéå¿åèå¤©å®¤"],"This room now shows unavailable members":[null,"æ­¤èå¤©å®¤æ¾ç¤ºä¸å¯ç¨ç¨æ·"],"This room does not show unavailable members":[null,"æ­¤èå¤©å®¤ä¸æ¾ç¤ºä¸å¯ç¨ç¨æ·"],"Non-privacy-related room configuration has changed":[null,"æ­¤èå¤©å®¤è®¾ç½®(éç§å¯æ§)å·²æ¹å"],"Room logging is now enabled":[null,"èå¤©å®¤èå¤©è®°å½å·²å¯ç¨"],"Room logging is now disabled":[null,"èå¤©å®¤èå¤©è®°å½å·²ç¦ç¨"],"This room is now non-anonymous":[null,"æ­¤èå¤©å®¤éå¿å"],"This room is now semi-anonymous":[null,"æ­¤èå¤©å®¤åå¿å"],"This room is now fully-anonymous":[null,"æ­¤èå¤©å®¤å®å¨å¿å"],"A new room has been created":[null,"æ°èå¤©å®¤å·²åå»º"],"You have been banned from this room":[null,"æ¨å·²è¢«æ­¤èå¤©å®¤ç¦æ­¢å¥å"],"You have been kicked from this room":[null,"æ¨å·²è¢«è¸¢åºæ¬¡æ¿é´"],"You have been removed from this room because of an affiliation change":[null,"ç±äºå³ç³»ååï¼æ¨å·²è¢«ç§»é¤æ­¤æ¿é´"],"You have been removed from this room because the room has changed to members-only and you're not a member":[null,"æ¨å·²è¢«ç§»é¤æ­¤æ¿é´å ä¸ºæ­¤æ¿é´æ´æ¹ä¸ºåªåè®¸æåå å¥ï¼èæ¨éæå"],"You have been removed from this room because the MUC (Multi-user chat) service is being shut down.":[null,"ç±äºæå¡ä¸å¯ç¨ï¼æ¨å·²è¢«ç§»é¤æ­¤æ¿é´ã"],"<strong>%1$s</strong> has been banned":[null,"<strong>%1$s</strong> å·²è¢«ç¦æ­¢"],"<strong>%1$s</strong> has been kicked out":[null,"<strong>%1$s</strong> å·²è¢«è¸¢åº"],"<strong>%1$s</strong> has been removed because of an affiliation change":[null,"ç±äºå³ç³»è§£é¤ã<strong>%1$s</strong> å·²è¢«ç§»é¤"],"<strong>%1$s</strong> has been removed for not being a member":[null,"ç±äºä¸æ¯æåã<strong>%1$s</strong> å·²è¢«ç§»é¤"],'The reason given is: "':[null,""],"You are not on the member list of this room":[null,"æ¨å¹¶éæ­¤æ¿é´æå"],"No nickname was specified":[null,"æªæå®æµç§°"],"You are not allowed to create new rooms":[null,"æ¨å¯æ­¤åå»ºæ°æ¿é´äº"],"Your nickname doesn't conform to this room's policies":[null,"æ¨çæµç§°ä¸ç¬¦åæ­¤æ¿é´æ å"],"Your nickname is already taken":[null,"æ¨çæµç§°å·²è¢«å ç¨"],"This room does not (yet) exist":[null,"æ­¤æ¿é´ä¸å­å¨"],"This room has reached it's maximum number of occupants":[null,"æ­¤æ¿é´äººæ°å·²è¾¾ä¸çº¿"],"Topic set by %1$s to: %2$s":[null,"%1$s è®¾ç½®è¯é¢ä¸º: %2$s"],"%1$s has invited you to join a chat room: %2$s":[null,""],'%1$s has invited you to join a chat room: %2$s, and left the following reason: "%3$s"':[null,""],Minimized:[null,"æå°åç"],"Click to remove this contact":[null,"ç¹å»ç§»é¤èç³»äºº"],"Click to chat with this contact":[null,"ç¹å»ä¸å¯¹æ¹äº¤è°"],"Type to filter":[null,""],"I am %1$s":[null,"æç°å¨%1$s"],"Click here to write a custom status message":[null,"ç¹å»è¿éï¼å¡«åç¶æä¿¡æ¯"],"Click to change your chat status":[null,"ç¹å»è¿éæ¹åèå¤©ç¶æ"],"Custom status":[null,"DIYç¶æ"],online:[null,"å¨çº¿"],busy:[null,"å¿ç¢"],"away for long":[null,"é¿æ¶é´ç¦»å¼"],away:[null,"ç¦»å¼"],"Your XMPP provider's domain name:":[null,""],"Fetch registration form":[null,""],"Tip: A list of public XMPP providers is available":[null,""],here:[null,""],Register:[null,""],"Sorry, the given provider does not support in band account registration. Please try with a different provider.":[null,""],"Requesting a registration form from the XMPP server":[null,""],'Something went wrong while establishing a connection with "%1$s". Are you sure it exists?':[null,""],"Now logging you in":[null,""],"Registered successfully":[null,""],Return:[null,""],"The provider rejected your registration attempt. ":[null,""],"Password:":[null,"å¯ç :"],"Log In":[null,"ç»å½"],"Sign in":[null,"ç»å½"],"Toggle chat":[null,"æå èå¤©çªå£"]}}},this.templates=this.templates||{},this.templates.action=function(obj){obj||(obj={});var __t,__p="";_.escape;with(obj)__p+='<div class="chat-message '+(null==(__t=extra_classes)?"":__t)+'" data-isodate="'+(null==(__t=isodate)?"":__t)+'">\n    <span class="chat-message-'+(null==(__t=sender)?"":__t)+'">'+(null==(__t=time)?"":__t)+" **"+(null==(__t=username)?"":__t)+' </span>\n    <span class="chat-message-content">'+(null==(__t=message)?"":__t)+"</span>\n</div>\n";return __p},this.templates.add_contact_dropdown=function(obj){obj||(obj={});var __t,__p="";_.escape;with(obj)__p+='<dl class="add-converse-contact dropdown">\n    <dt id="xmpp-contact-search" class="fancy-dropdown">\n        <a class="toggle-xmpp-contact-form" href="#"\n            title="'+(null==(__t=label_click_to_chat)?"":__t)+'">\n        <span class="icon-plus"></span>'+(null==(__t=label_add_contact)?"":__t)+'</a>\n    </dt>\n    <dd class="search-xmpp" style="display:none"><ul></ul></dd>\n</dl>\n';return __p},this.templates.add_contact_form=function(obj){obj||(obj={});var __t,__p="";_.escape;with(obj)__p+='<li>\n    <form class="add-xmpp-contact">\n        <input type="text"\n            name="identifier"\n            class="username"\n            placeholder="'+(null==(__t=label_contact_username)?"":__t)+'"/>\n        <button type="submit">'+(null==(__t=label_add)?"":__t)+"</button>\n    </form>\n</li>\n";return __p},this.templates.change_status_message=function(obj){obj||(obj={});var __t,__p="";_.escape;with(obj)__p+='<form id="set-custom-xmpp-status">\n    <span class="input-button-group">\n        <input type="text" class="custom-xmpp-status" '+(null==(__t=status_message)?"":__t)+'\n            placeholder="'+(null==(__t=label_custom_status)?"":__t)+'"/>\n        <button type="submit">'+(null==(__t=label_save)?"":__t)+"</button>\n    </span>\n</form>\n";return __p},this.templates.chat_status=function(obj){obj||(obj={});var __t,__p="";_.escape;with(obj)__p+='<div class="xmpp-status">\n    <a class="choose-xmpp-status '+(null==(__t=chat_status)?"":__t)+'"\n       data-value="'+(null==(__t=status_message)?"":__t)+'"\n       href="#" title="'+(null==(__t=desc_change_status)?"":__t)+'">\n\n        <span class="icon-'+(null==(__t=chat_status)?"":__t)+'"></span>'+(null==(__t=status_message)?"":__t)+'\n    </a>\n    <a class="change-xmpp-status-message icon-pencil"\n        href="#"\n        title="'+(null==(__t=desc_custom_status)?"":__t)+'"></a>\n</div>\n';return __p},this.templates.chatarea=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)__p+='<div class="chat-area">\n    <div class="chat-content"></div>\n    <form class="sendXMPPMessage" action="" method="post">\n        ',
show_toolbar&&(__p+='\n            <ul class="chat-toolbar no-text-select"></ul>\n        '),__p+='\n        <textarea type="text" class="chat-textarea" \n            placeholder="'+(null==(__t=label_message)?"":__t)+'"/>\n    </form>\n</div>\n';return __p},this.templates.chatbox=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)__p+='<div class="box-flyout" style="height: '+(null==(__t=height)?"":__t)+'px">\n    <div class="dragresize dragresize-tm"></div>\n    <div class="chat-head chat-head-chatbox">\n        <a class="close-chatbox-button icon-close"></a>\n        <a class="toggle-chatbox-button icon-minus"></a>\n        <div class="chat-title">\n            ',url&&(__p+='\n                <a href="'+(null==(__t=url)?"":__t)+'" target="_blank" class="user">\n            '),__p+="\n                    "+(null==(__t=fullname)?"":__t)+"\n            ",url&&(__p+="\n                </a>\n            "),__p+='\n        </div>\n        <p class="user-custom-message"><p/>\n    </div>\n    <div class="chat-body">\n        <div class="chat-content"></div>\n        <form class="sendXMPPMessage" action="" method="post">\n            ',show_toolbar&&(__p+='\n                <ul class="chat-toolbar no-text-select"></ul>\n            '),__p+='\n        <textarea\n            type="text"\n            class="chat-textarea"\n            placeholder="'+(null==(__t=label_personal_message)?"":__t)+'"/>\n        </form>\n    </div>\n</div>\n';return __p},this.templates.chatroom=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)__p+='<div class="box-flyout" style="height: '+(null==(__t=height)?"":__t)+'px"\n    ',minimized&&(__p+=' style="display:none" '),__p+='>\n    <div class="dragresize dragresize-tm"></div>\n    <div class="chat-head chat-head-chatroom">\n        <a class="close-chatbox-button icon-close"></a>\n        <a class="toggle-chatbox-button icon-minus"></a>\n        <a class="configure-chatroom-button icon-wrench" style="display:none"></a>\n        <div class="chat-title"> '+(null==(__t=name.replace("private, ",""))?"":__t)+' </div>\n        <p class="chatroom-topic"><p/>\n    </div>\n    <div class="chat-body"><span class="spinner centered"/></div>\n</div>\n';return __p},this.templates.chatroom_password_form=function(obj){obj||(obj={});var __t,__p="";_.escape;with(obj)__p+='<div class="chatroom-form-container">\n    <form class="chatroom-form">\n        <legend>'+(null==(__t=heading)?"":__t)+"</legend>\n        <label>"+(null==(__t=label_password)?"":__t)+'</label>\n        <input type="password" name="password"/>\n        <input type="submit" value="'+(null==(__t=label_submit)?"":__t)+'"/>\n    </form>\n</div>\n';return __p},this.templates.chatroom_sidebar=function(obj){obj||(obj={});var __t,__p="";_.escape;with(obj)__p+='<!-- <div class="participants"> -->\n<label>'+(null==(__t=label_occupants)?"":__t)+':</label>\n<ul class="participant-list"></ul>\n<!-- </div> -->\n';return __p},this.templates.chatrooms_tab=function(obj){obj||(obj={});var __t,__p="";_.escape;with(obj)__p+='<li><a class="s" href="#chatrooms">'+(null==(__t=label_rooms)?"":__t)+"</a></li>\n";return __p},this.templates.chats_panel=function(obj){obj||(obj={});var __p="";_.escape;with(obj)__p+='<div id="minimized-chats">\n    <a id="toggle-minimized-chats" href="#"></a>\n    <div class="minimized-chats-flyout"></div>\n</div>\n';return __p},this.templates.choose_status=function(obj){obj||(obj={});var __p="";_.escape;with(obj)__p+='<dl id="target" class="dropdown">\n    <dt id="fancy-xmpp-status-select" class="fancy-dropdown"></dt>\n    <dd><ul class="xmpp-status-menu"></ul></dd>\n</dl>\n';return __p},this.templates.contacts_panel=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)__p+='<form class="set-xmpp-status" action="" method="post">\n    <span id="xmpp-status-holder">\n        <select id="select-xmpp-status" style="display:none">\n            <option value="online">'+(null==(__t=label_online)?"":__t)+'</option>\n            <option value="dnd">'+(null==(__t=label_busy)?"":__t)+'</option>\n            <option value="away">'+(null==(__t=label_away)?"":__t)+'</option>\n            <option value="offline">'+(null==(__t=label_offline)?"":__t)+"</option>\n            ",allow_logout&&(__p+='\n            <option value="logout">'+(null==(__t=label_logout)?"":__t)+"</option>\n            "),__p+="\n        </select>\n    </span>\n</form>\n";return __p},this.templates.contacts_tab=function(obj){obj||(obj={});var __t,__p="";_.escape;with(obj)__p+='<li><a class="s current" href="#users">'+(null==(__t=label_contacts)?"":__t)+"</a></li>\n";return __p},this.templates.controlbox=function(obj){obj||(obj={});var __t,__p="";_.escape;with(obj)__p+='<div class="box-flyout" style="height: '+(null==(__t=height)?"":__t)+'px">\n    <div class="dragresize dragresize-tm"></div>\n    <div class="chat-head controlbox-head">\n        <ul id="controlbox-tabs"></ul>\n        <a class="close-chatbox-button icon-close"></a>\n    </div>\n    <div class="controlbox-panes"></div>\n</div>\n';return __p},this.templates.controlbox_toggle=function(obj){obj||(obj={});var __t,__p="";_.escape;with(obj)__p+='<span class="conn-feedback">'+(null==(__t=label_toggle)?"":__t)+'</span>\n<span style="display: none" id="online-count">(0)</span>\n';return __p},this.templates.field=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)__p+='<field var="'+(null==(__t=name)?"":__t)+'">',_.isArray(value)?(__p+="\n    ",_.each(value,function(a){__p+="<value>"+(null==(__t=a)?"":__t)+"</value>"}),__p+="\n"):__p+="\n    <value>"+(null==(__t=value)?"":__t)+"</value>\n",__p+="</field>\n";return __p},this.templates.form_captcha=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)label&&(__p+="\n<label>\n    "+(null==(__t=label)?"":__t)+"\n</label>\n"),__p+='\n<img src="data:'+(null==(__t=type)?"":__t)+";base64,"+(null==(__t=data)?"":__t)+'">\n<input name="'+(null==(__t=name)?"":__t)+'" type="text" ',required&&(__p+=' class="required" '),__p+=" >\n\n\n";return __p},this.templates.form_checkbox=function(obj){obj||(obj={});var __t,__p="";_.escape;with(obj)__p+="<label>"+(null==(__t=label)?"":__t)+'</label>\n<input name="'+(null==(__t=name)?"":__t)+'" type="'+(null==(__t=type)?"":__t)+'" '+(null==(__t=checked)?"":__t)+">\n";return __p},this.templates.form_input=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)label&&(__p+="\n<label>\n    "+(null==(__t=label)?"":__t)+"\n</label>\n"),__p+='\n<input name="'+(null==(__t=name)?"":__t)+'" type="'+(null==(__t=type)?"":__t)+'" \n    ',value&&(__p+=' value="'+(null==(__t=value)?"":__t)+'" '),__p+="\n    ",required&&(__p+=' class="required" '),__p+=" >\n";return __p},this.templates.form_select=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)__p+="<label>"+(null==(__t=label)?"":__t)+'</label>\n<select name="'+(null==(__t=name)?"":__t)+'"  ',multiple&&(__p+=' multiple="multiple" '),__p+=">"+(null==(__t=options)?"":__t)+"</select>\n";return __p},this.templates.form_textarea=function(obj){obj||(obj={});var __t,__p="";_.escape;with(obj)__p+='<label class="label-ta">'+(null==(__t=label)?"":__t)+'</label>\n<textarea name="'+(null==(__t=name)?"":__t)+'">'+(null==(__t=value)?"":__t)+"</textarea>\n";return __p},this.templates.form_username=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)label&&(__p+="\n<label>\n    "+(null==(__t=label)?"":__t)+"\n</label>\n"),__p+='\n<div class="input-group">\n    <input name="'+(null==(__t=name)?"":__t)+'" type="'+(null==(__t=type)?"":__t)+'"\n        ',value&&(__p+=' value="'+(null==(__t=value)?"":__t)+'" '),__p+="\n        ",required&&(__p+=' class="required" '),__p+=' />\n    <span title="'+(null==(__t=domain)?"":__t)+'">'+(null==(__t=domain)?"":__t)+"</span>\n</div>\n";return __p},this.templates.group_header=function(obj){obj||(obj={});var __t,__p="";_.escape;with(obj)__p+='<a href="#" class="group-toggle icon-'+(null==(__t=toggle_state)?"":__t)+'" title="'+(null==(__t=desc_group_toggle)?"":__t)+'">'+(null==(__t=label_group)?"":__t)+"</a>\n";return __p},this.templates.info=function(obj){obj||(obj={});var __t,__p="";_.escape;with(obj)__p+='<div class="chat-info">'+(null==(__t=message)?"":__t)+"</div>\n";return __p},this.templates.login_panel=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)__p+='<form id="converse-login" method="post">\n    ',auto_login&&(__p+='\n        <span class="spinner login-submit"/>\n    '),__p+="\n    ",auto_login||(__p+="\n        ",authentication==LOGIN&&(__p+="\n            <label>"+(null==(__t=label_username)?"":__t)+'</label>\n            <input name="jid" placeholder="'+(null==(__t=placeholder_username)?"":__t)+'">\n            <label>'+(null==(__t=label_password)?"":__t)+'</label>\n            <input type="password" name="password" placeholder="'+(null==(__t=placeholder_password)?"":__t)+'">\n            <input class="submit" type="submit" value="'+(null==(__t=label_login)?"":__t)+'">\n            <span class="conn-feedback"></span>\n        '),__p+="\n        ",authentication==ANONYMOUS&&(__p+='\n            <input type="submit" class="submit login-anon" value="'+(null==(__t=label_anon_login)?"":__t)+'"/>\n        '),__p+="\n        ",authentication==PREBIND&&(__p+='\n           <span class="spinner"></span>\n        ',__p+="\n            <p>(If it takes time, please reload page to reconnect with chat.)</p>\n        "),__p+="\n    "),__p+="\n</form>\n";return __p},this.templates.login_tab=function(obj){obj||(obj={});var __t,__p="";_.escape;with(obj)__p+='<li><a class="current" href="#login-dialog">'+(null==(__t=label_sign_in)?"":__t)+"</a></li>\n";return __p},this.templates.message=function(obj){obj||(obj={});var __t,__p="";_.escape;with(obj)__p+='<div class="chat-message '+(null==(__t=extra_classes)?"":__t)+'" data-isodate="'+(null==(__t=isodate)?"":__t)+'">\n    <span class="chat-message-'+(null==(__t=sender)?"":__t)+'">'+(null==(__t=time)?"":__t)+" "+(null==(__t=username)?"":__t)+':&nbsp;</span>\n    <span class="chat-message-content">'+(null==(__t=message)?"":__t)+"</span>\n</div>\n";return __p},this.templates.new_day=function(obj){obj||(obj={});var __t,__p="";_.escape;with(obj)__p+='<time class="chat-date" data-isodate="'+(null==(__t=isodate)?"":__t)+'">'+(null==(__t=datestring)?"":__t)+"</time>\n";return __p},this.templates.occupant=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)__p+='<li class="'+(null==(__t=role)?"":__t)+'"\n    ',"moderator"===role&&(__p+='\n       title="'+(null==(__t=desc_moderator)?"":__t)+'"\n    '),__p+="\n    ","participant"===role&&(__p+='\n       title="'+(null==(__t=desc_participant)?"":__t)+'"\n    '),__p+="\n    ","visitor"===role&&(__p+='\n       title="'+(null==(__t=desc_visitor)?"":__t)+'"\n    '),__p+="\n>"+(null==(__t=nick)?"":__t)+"</li>\n";return __p},this.templates.pending_contact=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)allow_chat_pending_contacts&&(__p+='\n<a class="open-chat"href="#">\n'),__p+='\n<span class="pending-contact-name" title="Name: '+(null==(__t=fullname)?"":__t)+"\nJID: "+(null==(__t=jid)?"":__t)+'">'+(null==(__t=fullname)?"":__t)+"</span> \n",allow_chat_pending_contacts&&(__p+="\n</a>\n"),__p+='\n<a class="remove-xmpp-contact icon-remove" title="'+(null==(__t=desc_remove)?"":__t)+'" href="#"></a>\n';return __p},this.templates.pending_contacts=function(obj){obj||(obj={});var __t,__p="";_.escape;with(obj)__p+='<dt id="pending-xmpp-contacts"><a href="#" class="group-toggle icon-'+(null==(__t=toggle_state)?"":__t)+'" title="'+(null==(__t=desc_group_toggle)?"":__t)+'">'+(null==(__t=label_pending_contacts)?"":__t)+"</a></dt>\n";return __p},this.templates.register_panel=function(obj){obj||(obj={});var __t,__p="";_.escape;with(obj)__p+='<form id="converse-register">\n    <span class="reg-feedback"></span>\n    <label>'+(null==(__t=label_domain)?"":__t)+'</label>\n    <input type="text" name="domain" placeholder="'+(null==(__t=domain_placeholder)?"":__t)+'">\n    <p class="form-help">'+(null==(__t=help_providers)?"":__t)+' <a href="'+(null==(__t=href_providers)?"":__t)+'" class="url" target="_blank">'+(null==(__t=help_providers_link)?"":__t)+'</a>.</p>\n    <input class="submit" type="submit" value="'+(null==(__t=label_register)?"":__t)+'">\n</form>\n';return __p},this.templates.register_tab=function(obj){obj||(obj={});var __t,__p="";_.escape;with(obj)__p+='<li><a class="s" href="#register">'+(null==(__t=label_register)?"":__t)+"</a></li>\n";return __p},this.templates.registration_form=function(obj){obj||(obj={});var __t,__p="";_.escape;with(obj)__p+='<p class="provider-title">'+(null==(__t=domain)?"":__t)+"</p>\n<a href='https://xmpp.net/result.php?domain="+(null==(__t=domain)?"":__t)+"&amp;type=client'>\n    <img class=\"provider-score\" src='https://xmpp.net/badge.php?domain="+(null==(__t=domain)?"":__t)+"' alt='xmpp.net score' />\n</a>\n<p class=\"title\">"+(null==(__t=title)?"":__t)+'</p>\n<p class="instructions">'+(null==(__t=instructions)?"":__t)+"</p>\n";return __p},this.templates.registration_request=function(obj){obj||(obj={});var __t,__p="";_.escape;with(obj)__p+='<span class="spinner login-submit"/>\n<p class="info">'+(null==(__t=info_message)?"":__t)+'</p>\n<button class="cancel hor_centered">'+(null==(__t=cancel)?"":__t)+"</button>\n";return __p},this.templates.requesting_contact=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)allow_chat_pending_contacts&&(__p+='\n<a class="open-chat"href="#">\n'),__p+='\n<span class="req-contact-name" title="Name: '+(null==(__t=fullname)?"":__t)+"\nJID: "+(null==(__t=jid)?"":__t)+'">'+(null==(__t=fullname)?"":__t)+"</span>\n",allow_chat_pending_contacts&&(__p+="\n</a>\n"),__p+='\n<span class="request-actions">\n    <a class="accept-xmpp-request icon-checkmark" title="'+(null==(__t=desc_accept)?"":__t)+'" href="#"></a>\n    <a class="decline-xmpp-request icon-close" title="'+(null==(__t=desc_decline)?"":__t)+'" href="#"></a>\n</span>\n';return __p},this.templates.requesting_contacts=function(obj){obj||(obj={});var __t,__p="";_.escape;with(obj)__p+='<dt id="xmpp-contact-requests"><a href="#" class="group-toggle icon-'+(null==(__t=toggle_state)?"":__t)+'" title="'+(null==(__t=desc_group_toggle)?"":__t)+'">'+(null==(__t=label_contact_requests)?"":__t)+"</a></dt>\n";return __p},this.templates.room_description=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)__p+='<!-- FIXME: check markup in mockup -->\n<div class="room-info">\n<p class="room-info"><strong>'+(null==(__t=label_desc)?"":__t)+"</strong> "+(null==(__t=desc)?"":__t)+'</p>\n<p class="room-info"><strong>'+(null==(__t=label_occ)?"":__t)+"</strong> "+(null==(__t=occ)?"":__t)+'</p>\n<p class="room-info"><strong>'+(null==(__t=label_features)?"":__t)+"</strong>\n    <ul>\n        ",passwordprotected&&(__p+='\n        <li class="room-info locked">'+(null==(__t=label_requires_auth)?"":__t)+"</li>\n        "),__p+="\n        ",hidden&&(__p+='\n        <li class="room-info">'+(null==(__t=label_hidden)?"":__t)+"</li>\n        "),__p+="\n        ",membersonly&&(__p+='\n        <li class="room-info">'+(null==(__t=label_requires_invite)?"":__t)+"</li>\n        "),__p+="\n        ",moderated&&(__p+='\n        <li class="room-info">'+(null==(__t=label_moderated)?"":__t)+"</li>\n        "),__p+="\n        ",nonanonymous&&(__p+='\n        <li class="room-info">'+(null==(__t=label_non_anon)?"":__t)+"</li>\n        "),__p+="\n        ",open&&(__p+='\n        <li class="room-info">'+(null==(__t=label_open_room)?"":__t)+"</li>\n        "),__p+="\n        ",persistent&&(__p+='\n        <li class="room-info">'+(null==(__t=label_permanent_room)?"":__t)+"</li>\n        "),__p+="\n        ",publicroom&&(__p+='\n        <li class="room-info">'+(null==(__t=label_public)?"":__t)+"</li>\n        "),__p+="\n        ",semianonymous&&(__p+='\n        <li class="room-info">'+(null==(__t=label_semi_anon)?"":__t)+"</li>\n        "),__p+="\n        ",temporary&&(__p+='\n        <li class="room-info">'+(null==(__t=label_temp_room)?"":__t)+"</li>\n        "),__p+="\n        ",unmoderated&&(__p+='\n        <li class="room-info">'+(null==(__t=label_unmoderated)?"":__t)+"</li>\n        "),__p+="\n    </ul>\n</p>\n</div>\n";return __p},this.templates.room_item=function(obj){obj||(obj={});var __t,__p="";_.escape;with(obj)__p+='<dd class="available-chatroom">\n<a class="open-room" data-room-jid="'+(null==(__t=jid)?"":__t)+'"\n   title="'+(null==(__t=open_title)?"":__t)+'" href="#">'+(null==(__t=name)?"":__t)+"</a>\n</dd>\n";return __p},this.templates.room_panel=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)__p+='<form class="add-chatroom" action="" method="post">\n    <input type="hidden" name="chatroom" class="new-chatroom-name"\n        placeholder="'+(null==(__t=label_room_name)?"":__t)+'"/>\n <input type="hidden" name="nick" class="new-chatroom-nick"\n        placeholder="'+(null==(__t=label_nickname)?"":__t)+'"/>\n    ',"hidden"!=server_input_type&&(__p+="\n        <label"+(null==(__t=server_label_global_attr)?"":__t)+">"+(null==(__t=label_server)?"":__t)+"</label>\n    "),__p+='\n    <input type="'+(null==(__t=server_input_type)?"":__t)+'" name="server" class="new-chatroom-server"\n        placeholder="'+(null==(__t=label_server)?"":__t)+'"/>\n    <input type="button" class="right hide" name="show" id="show-rooms" value="'+(null==(__t=label_show_rooms)?"":__t)+'"/>\n    </div>\n</form>\n<dl id="available-chatrooms"></dl>\n';return __p},this.templates.roster=function(obj){obj||(obj={});var __t,__p="";_.escape;with(obj)__p+='<span class="input-button-group">\n    <input style="display: none;" class="roster-filter" placeholder="'+(null==(__t=placeholder)?"":__t)+'">\n    <select style="display: none;" class="filter-type">\n        <option value="contacts">'+(null==(__t=label_contacts)?"":__t)+'</option>\n        <option value="groups">'+(null==(__t=label_groups)?"":__t)+"</option>\n    </select>\n</span>\n";return __p},this.templates.roster_item=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)__p+='<a class="open-chat" title="'+(null==(__t=title_fullname)?"":__t)+": "+(null==(__t=fullname)?"":__t)+"\nJID: "+(null==(__t=jid)?"":__t)+"\n"+(null==(__t=desc_chat)?"":__t)+'" href="#"><span class="icon-'+(null==(__t=chat_status)?"":__t)+'" title="'+(null==(__t=desc_status)?"":__t)+'"></span>'+(null==(__t=fullname)?"":__t)+"</a>\n",allow_contact_removal&&(__p+='\n<a class="remove-xmpp-contact icon-remove" title="'+(null==(__t=desc_remove)?"":__t)+'" href="#"></a>\n'),__p+="\n";return __p},this.templates.search_contact=function(obj){obj||(obj={});var __t,__p="";_.escape;with(obj)__p+='<li>\n    <form class="search-xmpp-contact">\n        <input type="text"\n            name="identifier"\n            class="username"\n            placeholder="'+(null==(__t=label_contact_name)?"":__t)+'"/>\n        <button type="submit">'+(null==(__t=label_search)?"":__t)+"</button>\n    </form>\n</li>\n";return __p},this.templates.select_option=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)__p+='<option value="'+(null==(__t=value)?"":__t)+'" ',selected&&(__p+=' selected="selected" '),__p+=" >"+(null==(__t=label)?"":__t)+"</option>\n";return __p},this.templates.status_option=function(obj){obj||(obj={});var __t,__p="";_.escape;with(obj)__p+='<li>\n    <a href="#" class="'+(null==(__t=value)?"":__t)+'" data-value="'+(null==(__t=value)?"":__t)+'">\n        <span class="icon-'+(null==(__t=value)?"":__t)+'"></span>\n        '+(null==(__t=text)?"":__t)+"\n    </a>\n</li>\n";return __p},this.templates.toggle_chats=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)__p+=(null==(__t=Minimized)?"":__t)+' <span id="minimized-count">('+(null==(__t=num_minimized)?"":__t)+')</span>\n<span class="unread-message-count"\n    ',num_unread||(__p+=' style="display: none" '),__p+='\n    href="#">'+(null==(__t=num_unread)?"":__t)+"</span>\n";return __p},this.templates.toolbar=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)show_emoticons&&(__p+='\n    <li class="toggle-smiley icon-happy" title="'+(null==(__t=label_insert_smiley)?"":__t)+'">\n        <ul>\n            <li><a class="icon-smiley" href="javascript:void(0)" data-emoticon=":)"></a></li>\n            <li><a class="icon-wink" href="javascript:void(0)" data-emoticon=";)"></a></li>\n            <li><a class="icon-grin" href="javascript:void(0)" data-emoticon=":D"></a></li>\n            <li><a class="icon-tongue" href="javascript:void(0)" data-emoticon=":P"></a></li>\n            <li><a class="icon-cool" href="javascript:void(0)" data-emoticon="8)"></a></li>\n            <li><a class="icon-evil" href="javascript:void(0)" data-emoticon=">:)"></a></li>\n            <li><a class="icon-confused" href="javascript:void(0)" data-emoticon=":S"></a></li>\n            <li><a class="icon-wondering" href="javascript:void(0)" data-emoticon=":\\"></a></li>\n            <li><a class="icon-angry" href="javascript:void(0)" data-emoticon=">:("></a></li>\n            <li><a class="icon-sad" href="javascript:void(0)" data-emoticon=":("></a></li>\n            <li><a class="icon-shocked" href="javascript:void(0)" data-emoticon=":O"></a></li>\n            <li><a class="icon-thumbs-up" href="javascript:void(0)" data-emoticon="(^.^)b"></a></li>\n            <li><a class="icon-heart" href="javascript:void(0)" data-emoticon="<3"></a></li>\n        </ul>\n    </li>\n'),__p+="\n",show_call_button&&(__p+='\n<li class="toggle-call"><a class="icon-phone" title="'+(null==(__t=label_start_call)?"":__t)+'"></a></li>\n'),__p+="\n",show_participants_toggle&&(__p+='\n<li class="toggle-participants"><a class="icon-hide-users" title="'+(null==(__t=label_hide_participants)?"":__t)+'"></a></li>\n'),__p+="\n",show_clear_button&&(__p+='\n<li class="toggle-clear"><a class="icon-remove" title="'+(null==(__t=label_clear)?"":__t)+'"></a></li>\n'),__p+="\n",allow_otr&&(__p+='\n    <li class="toggle-otr '+(null==(__t=otr_status_class)?"":__t)+'" title="'+(null==(__t=otr_tooltip)?"":__t)+'">\n        <span class="chat-toolbar-text">'+(null==(__t=otr_translated_status)?"":__t)+"</span>\n        ",otr_status==UNENCRYPTED&&(__p+='\n            <span class="icon-unlocked"></span>\n        '),__p+="\n        ",otr_status==UNVERIFIED&&(__p+='\n            <span class="icon-lock"></span>\n        '),__p+="\n        ",otr_status==VERIFIED&&(__p+='\n            <span class="icon-lock"></span>\n        '),__p+="\n        ",otr_status==FINISHED&&(__p+='\n            <span class="icon-unlocked"></span>\n        '),__p+="\n        <ul>\n            ",otr_status==UNENCRYPTED&&(__p+='\n               <li><a class="start-otr" href="#">'+(null==(__t=label_start_encrypted_conversation)?"":__t)+"</a></li>\n            "),__p+="\n            ",otr_status!=UNENCRYPTED&&(__p+='\n               <li><a class="start-otr" href="#">'+(null==(__t=label_refresh_encrypted_conversation)?"":__t)+'</a></li>\n               <li><a class="end-otr" href="#">'+(null==(__t=label_end_encrypted_conversation)?"":__t)+'</a></li>\n               <li><a class="auth-otr" data-scheme="smp" href="#">'+(null==(__t=label_verify_with_smp)?"":__t)+"</a></li>\n            "),__p+="\n            ",otr_status==UNVERIFIED&&(__p+='\n               <li><a class="auth-otr" data-scheme="fingerprint" href="#">'+(null==(__t=label_verify_with_fingerprints)?"":__t)+"</a></li>\n            "),__p+='\n            <li><a href="http://www.cypherpunks.ca/otr/help/3.2.0/levels.php" target="_blank">'+(null==(__t=label_whats_this)?"":__t)+"</a></li>\n        </ul>\n    </li>\n"),__p+="\n";return __p},this.templates.trimmed_chat=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)__p+='<a class="close-chatbox-button icon-close"></a>\n<a class="chat-head-message-count" \n    ',num_unread||(__p+=' style="display: none" '),__p+='\n    href="#">'+(null==(__t=num_unread)?"":__t)+'</a>\n<a href="#" class="restore-chat" title="'+(null==(__t=tooltip)?"":__t)+'">\n    '+(null==(__t=title)?"":__t)+"\n</a>\n";return __p},function(a,b){"function"==typeof define&&define.amd?define(["jquery","converse-templates","locales"],b):a.utils=b(jQuery,templates)}(this,function(a,b,c){"use strict";var d={"text-private":"password","text-single":"textline",fixed:"label","boolean":"checkbox",hidden:"hidden","jid-multi":"textarea","list-single":"dropdown","list-multi":"dropdown"};a.expr[":"].emptyVal=function(a){return""===a.value},a.fn.hasScrollBar=function(){return a.contains(document,this.get(0))&&this.parent().height()<this.get(0).scrollHeight?!0:!1},a.fn.addHyperlinks=function(){return this.length>0&&this.each(function(b,c){var d=a(c).html(),e=d.match(/\b(https?:\/\/|www\.|https?:\/\/www\.)[^\s<]{2,200}\b/g);if(e)for(b=0;b<e.length;b++){var f=0===e[b].indexOf("http://")||0===e[b].indexOf("https://")?"":"http://",g=encodeURI(decodeURI(e[b])).replace(/[!'()]/g,escape).replace(/\*/g,"%2A");d=d.replace(e[b],"<a target='_blank' href='"+f+g+"'>"+e[b]+"</a>")}a(c).html(d)}),this},a.fn.addEmoticons=function(b){return b&&this.length>0&&this.each(function(b,c){var d=a(c).html();d=d.replace(/&gt;:\)/g,'<span class="emoticon icon-evil"></span>'),d=d.replace(/:\)/g,'<span class="emoticon icon-smiley"></span>'),d=d.replace(/:\-\)/g,'<span class="emoticon icon-smiley"></span>'),d=d.replace(/;\)/g,'<span class="emoticon icon-wink"></span>'),d=d.replace(/;\-\)/g,'<span class="emoticon icon-wink"></span>'),d=d.replace(/:D/g,'<span class="emoticon icon-grin"></span>'),d=d.replace(/:\-D/g,'<span class="emoticon icon-grin"></span>'),d=d.replace(/:P/g,'<span class="emoticon icon-tongue"></span>'),d=d.replace(/:\-P/g,'<span class="emoticon icon-tongue"></span>'),d=d.replace(/:p/g,'<span class="emoticon icon-tongue"></span>'),d=d.replace(/:\-p/g,'<span class="emoticon icon-tongue"></span>'),d=d.replace(/8\)/g,'<span class="emoticon icon-cool"></span>'),d=d.replace(/:S/g,'<span class="emoticon icon-confused"></span>'),d=d.replace(/:\\/g,'<span class="emoticon icon-wondering"></span>'),d=d.replace(/:\/ /g,'<span class="emoticon icon-wondering"></span>'),d=d.replace(/&gt;:\(/g,'<span class="emoticon icon-angry"></span>'),d=d.replace(/:\(/g,'<span class="emoticon icon-sad"></span>'),d=d.replace(/:\-\(/g,'<span class="emoticon icon-sad"></span>'),d=d.replace(/:O/g,'<span class="emoticon icon-shocked"></span>'),d=d.replace(/:\-O/g,'<span class="emoticon icon-shocked"></span>'),d=d.replace(/\=\-O/g,'<span class="emoticon icon-shocked"></span>'),d=d.replace(/\(\^.\^\)b/g,'<span class="emoticon icon-thumbs-up"></span>'),d=d.replace(/&lt;3/g,'<span class="emoticon icon-heart"></span>'),a(c).html(d)}),this};var e={__:function(b){"undefined"==typeof this.i18n&&(this.i18n=c.en),"string"==typeof this.i18n&&(this.i18n=a.parseJSON(this.i18n)),"undefined"==typeof this.jed&&(this.jed=new Jed(this.i18n));var d=this.jed.translate(b);return arguments.length>1?d.fetch.apply(d,[].slice.call(arguments,1)):d.fetch()},___:function(a){return a},webForm2xForm:function(c){var d,e=a(c);if(e.is("[type=checkbox]"))d=e.is(":checked")&&1||0;else if(e.is("textarea")){d=[];for(var f=e.val().split("\n"),g=0;g<f.length;g++){var h=a.trim(f[g]);""!==h&&d.push(h)}}else d=e.val();return a(b.field({name:e.attr("name"),value:d}))[0]},xForm2webForm:function(c,e){var f,g,h,i,j,k=[];if("list-single"==c.attr("type")||"list-multi"==c.attr("type")){for(j=[],h=c.children("value"),f=0;f<h.length;f++)j.push(a(h[f]).text());for(g=c.children("option"),f=0;f<g.length;f++)i=a(g[f]).find("value").text(),k.push(b.select_option({value:i,label:a(g[f]).attr("label"),selected:j.indexOf(i)>=0,required:c.find("required").length}));return b.form_select({name:c.attr("var"),label:c.attr("label"),options:k.join(""),multiple:"list-multi"==c.attr("type"),required:c.find("required").length})}return"fixed"==c.attr("type")?a('<p class="form-help">').text(c.find("value").text()):"jid-multi"==c.attr("type")?b.form_textarea({name:c.attr("var"),label:c.attr("label")||"",value:c.find("value").text(),required:c.find("required").length}):"boolean"==c.attr("type")?b.form_checkbox({name:c.attr("var"),type:d[c.attr("type")],label:c.attr("label")||"",checked:"1"===c.find("value").text()&&'checked="1"'||"",required:c.find("required").length}):c.attr("type")&&"username"===c.attr("var")?b.form_username({domain:" @"+this.domain,name:c.attr("var"),type:d[c.attr("type")],label:c.attr("label")||"",value:c.find("value").text(),required:c.find("required").length}):c.attr("type")?b.form_input({name:c.attr("var"),type:d[c.attr("type")],label:c.attr("label")||"",value:c.find("value").text(),required:c.find("required").length}):"ocr"===c.attr("var")?_.reduce(_.map(c.find("uri"),a.proxy(function(a){return b.form_captcha({label:this.$field.attr("label"),name:this.$field.attr("var"),data:this.$stanza.find('data[cid="'+a.textContent.replace(/^cid:/,"")+'"]').text(),type:a.getAttribute("type"),required:this.$field.find("required").length})},{$stanza:e,$field:c})),function(a,b){return a+b},""):void 0}};return e}),function(a,b){"function"==typeof define&&define.amd?define("converse",["converse-dependencies","converse-templates"],function(a,c){return b(c,a.jQuery,a.$iq,a.$msg,a.$pres,a.$build,a.otr?a.otr.DSA:void 0,a.otr?a.otr.OTR:void 0,a.Strophe,a.underscore,a.moment,a.utils,a.SHA1.b64_sha1)}):a.converse=b(templates,jQuery,$iq,$msg,$pres,$build,DSA,OTR,Strophe,_,moment,utils,b64_sha1)}(this,function(a,b,c,d,e,f,g,h,i,j,k,l,m){("undefined"==typeof console||"undefined"==typeof console.log)&&(console={log:function(){},error:function(){}}),j.templateSettings={evaluate:/\{\[([\s\S]+?)\]\}/g,interpolate:/\{\{([\s\S]+?)\}\}/g};var n=function(a,b){return function(c){if("object"==typeof a){var d=!1;return j.each(a,function(a){d=d||-1!==c.get(a).toLowerCase().indexOf(b.toLowerCase())}),d}if("string"==typeof a)return-1!==c.get(a).toLowerCase().indexOf(b.toLowerCase());throw new TypeError("contains: wrong attribute type. Must be string or array.")}};n.not=function(a,b){return function(c){return!n(a,b)(c)}},String.prototype.splitOnce=function(a){if("function"==typeof this.split){var b=this.split(a);return[b.shift(),b.join(a)]}};var o={plugins:{},templates:a,emit:function(a,c){b(this).trigger(a,c)},once:function(a,c){b(this).one(a,c)},on:function(a,c){b(this).bind(a,c)},off:function(a,c){b(this).unbind(a,c)},refreshWebkit:function(){if(b.browser.webkit){var a=document.getElementById("conversejs");a.style.display="none",a.offsetHeight=a.offsetHeight,a.style.display="block"}}},p=["max","first","last","after","before","index","count"],q=["with","start","end"],r={offline:6,unavailable:5,xa:4,away:3,dnd:2,chat:1,online:1};o.initialize=function(o,p){"use strict";var q,s=this;"onpagehide"in window?q="pagehide":"onbeforeunload"in window?q="beforeunload":"onunload"in window&&(q="unload"),i.log=function(a,b){s.log(a+" "+b,a)},i.error=function(a){s.log(a,"error")},i.addNamespace("CARBONS","urn:xmpp:carbons:2"),i.addNamespace("CHATSTATES","http://jabber.org/protocol/chatstates"),i.addNamespace("CSI","urn:xmpp:csi:0"),i.addNamespace("MAM","urn:xmpp:mam:0"),i.addNamespace("MUC_ADMIN",i.NS.MUC+"#admin"),i.addNamespace("MUC_OWNER",i.NS.MUC+"#owner"),i.addNamespace("MUC_REGISTER","jabber:iq:register"),i.addNamespace("MUC_ROOMCONF",i.NS.MUC+"#roomconfig"),i.addNamespace("MUC_USER",i.NS.MUC+"#user"),i.addNamespace("REGISTER","jabber:iq:register"),i.addNamespace("ROSTERX","http://jabber.org/protocol/rosterx"),i.addNamespace("RSM","http://jabber.org/protocol/rsm"),i.addNamespace("XFORM","jabber:x:data");var u=0;Object.keys(i.Status).forEach(function(a){u=Math.max(u,i.Status[a])}),i.Status.REGIFAIL=u+1,i.Status.REGISTERED=u+2,i.Status.CONFLICT=u+3,
i.Status.NOTACCEPTABLE=u+5;var v="login",w="anonymous",x="prebind",y=0,z=1,A=2,B=3,C={ENTER:13,FORWARD_SLASH:47},D={0:"ERROR",1:"CONNECTING",2:"CONNFAIL",3:"AUTHENTICATING",4:"AUTHFAIL",5:"CONNECTED",6:"DISCONNECTED",7:"DISCONNECTING",8:"ATTACHED",9:"REDIRECT"},E="inactive",F="active",G="composing",H="paused",I="gone";this.TIMEOUTS={PAUSED:2e4,INACTIVE:9e4};var J="undefined"!=typeof crypto&&("function"==typeof crypto.randomBytes||"function"==typeof crypto.getRandomValues),K=J&&"undefined"!=typeof CryptoJS&&"undefined"!=typeof h&&"undefined"!=typeof g,L="opened",M="closed";this.isConverseLocale=function(a){return"undefined"!=typeof locales[a]},this.isMomentLocale=function(a){return k.locale()!=k.locale(a)},this.isLocaleAvailable=function(a,b){if(b(a))return a;var c=a.split("-")[0];return c!=a&&b(c)?c:void 0},this.detectLocale=function(a){var b,c;if(window.navigator.userLanguage&&(b=this.isLocaleAvailable(window.navigator.userLanguage,a)),window.navigator.languages&&!b)for(c=0;c<window.navigator.languages.length&&!b;c++)b=this.isLocaleAvailable(window.navigator.languages[c],a);return window.navigator.browserLanguage&&!b&&(b=this.isLocaleAvailable(window.navigator.browserLanguage,a)),window.navigator.language&&!b&&(b=this.isLocaleAvailable(window.navigator.language,a)),window.navigator.systemLanguage&&!b&&(b=this.isLocaleAvailable(window.navigator.systemLanguage,a)),b||"en"},k.locale||(k.locale=k.lang),k.locale(this.detectLocale(this.isMomentLocale)),this.i18n=o.i18n?o.i18n:locales[this.detectLocale(this.isConverseLocale)];var N=l.__.bind(this),O=l.___;if(this.default_settings={allow_chat_pending_contacts:!1,allow_contact_removal:!0,allow_contact_requests:!0,allow_dragresize:!0,allow_logout:!0,allow_muc:!0,allow_otr:!0,archived_messages_page_size:"20",auto_away:0,auto_xa:0,allow_registration:!0,animate:!0,auto_list_rooms:!1,auto_login:!1,auto_reconnect:!1,auto_subscribe:!1,bosh_service_url:void 0,cache_otr_key:!1,csi_waiting_time:0,debug:!1,domain_placeholder:N(" e.g. conversejs.org"),default_box_height:400,expose_rid_and_sid:!1,forward_messages:!1,hide_muc_server:!1,hide_offline_users:!1,jid:void 0,keepalive:!1,message_archiving:"never",message_carbons:!1,muc_history_max_stanzas:void 0,no_trimming:!1,ping_interval:180,play_sounds:!1,sounds_path:"/sounds/",password:void 0,authentication:"login",prebind:!1,prebind_url:null,providers_link:"https://xmpp.net/directory.php",rid:void 0,roster_groups:!1,show_controlbox_by_default:!1,show_only_online_users:!1,show_toolbar:!0,sid:void 0,storage:"session",use_otr_by_default:!1,use_vcards:!0,visible_toolbar_buttons:{emoticons:!0,call:!1,clear:!0,toggle_participants:!0},websocket_url:void 0,xhr_custom_status:!1,xhr_custom_status_url:"",xhr_user_search:!1,xhr_user_search_url:""},j.extend(this,this.default_settings),j.extend(this,j.pick(o,Object.keys(this.default_settings))),this.prebind===!0&&(this.authentication=x),this.authentication===w&&!this.jid)throw"Config Error: you need to provide the server's domain via the 'jid' option when using anonymous authentication.";o.visible_toolbar_buttons&&j.extend(this.visible_toolbar_buttons,j.pick(o.visible_toolbar_buttons,["emoticons","call","clear","toggle_participants"])),b.fx.off=!this.animate,this.allow_otr=this.allow_otr&&K,this.use_otr_by_default=this.use_otr_by_default&&this.allow_otr;var P={};P[y]="unencrypted",P[z]="unverified",P[A]="verified",P[B]="finished";var Q={};Q[y]=N("unencrypted"),Q[z]=N("unverified"),Q[A]=N("verified"),Q[B]=N("finished");var R={dnd:N("This contact is busy"),online:N("This contact is online"),offline:N("This contact is offline"),unavailable:N("This contact is unavailable"),xa:N("This contact is away for an extended period"),away:N("This contact is away")},S=N("Click to hide these contacts"),T=N("My contacts"),U=N("Pending contacts"),V=N("Contact requests"),W=N("Ungrouped"),X=N("Contacts"),Y=N("Groups"),Z={};Z[T]=0,Z[W]=1,Z[V]=2,Z[U]=3,this.callback=p||function(){},this.initial_presence_sent=0,this.msg_counter=0,this.sendCSI=function(a){s.features[i.NS.CSI],s.connection.send(f(a,{xmlns:i.NS.CSI})),this.inactive=a===E?!0:!1},this.onUserActivity=function(){this.idle_seconds>0&&(this.idle_seconds=0),s.connection.authenticated&&(this.inactive&&this.sendCSI(F),this.auto_changed_status===!0&&(this.auto_changed_status=!1,this.xmppstatus.setStatus("online")))},this.onEverySecond=function(){if(s.connection.authenticated){var a=this.xmppstatus.getStatus();this.idle_seconds++,this.csi_waiting_time>0&&this.idle_seconds>this.csi_waiting_time&&!this.inactive&&this.sendCSI(E),this.auto_away>0&&this.idle_seconds>this.auto_away&&"away"!==a&&"xa"!==a?(this.auto_changed_status=!0,this.xmppstatus.setStatus("away")):this.auto_xa>0&&this.idle_seconds>this.auto_xa&&"xa"!==a&&(this.auto_changed_status=!0,this.xmppstatus.setStatus("xa"))}},this.registerIntervalHandler=function(){this.auto_away<1&&this.auto_xa<1&&this.csi_waiting_time<1||(this.idle_seconds=0,this.auto_changed_status=!1,b(window).on("click mousemove keypress focus"+q,this.onUserActivity.bind(this)),window.setInterval(this.onEverySecond.bind(this),1e3))},this.playNotification=function(){var a;s.play_sounds&&"undefined"!=typeof Audio&&(a=new Audio(s.sounds_path+"msg_received.ogg"),a.canPlayType("/audio/ogg")?a.play():(a=new Audio(s.sounds_path+"msg_received.mp3"),a.play()))},this.giveFeedback=function(a,c){b(".conn-feedback").each(function(d,e){var f=b(e);f.addClass("conn-feedback").text(a),c?f.addClass(c):f.removeClass("error")})},this.log=function(a,b){this.debug&&("error"==b?console.log("ERROR: "+a):console.log(a))},this.rejectPresenceSubscription=function(a,b){var c=e({to:a,type:"unsubscribed"});b&&""!==b&&c.c("status").t(b),s.connection.send(c)},this.getVCard=function(a,c,d){return this.use_vcards?void s.connection.vcard.get(function(d){var e=b(d).find("vCard"),f=e.find("FN").text(),g=e.find("BINVAL").text(),h=e.find("TYPE").text(),i=e.find("URL").text();if(a){var l=s.roster.get(a);l&&(f=j.isEmpty(f)?l.get("fullname")||a:f,l.save({fullname:f,image_type:h,image:g,url:i,vcard_updated:k().format()}))}c&&c(d,a,f,g,h,i)}.bind(this),a,function(b){var c=s.roster.get(a);c&&c.save({vcard_updated:k().format()}),d&&d(b,a)}):void(c&&c(a,a))},this.reconnect=function(a){s.log("Attempting to reconnect in 5 seconds"),s.giveFeedback(N("Attempting to reconnect in 5 seconds"),"error"),setTimeout(function(){"prebind"!==s.authentication?this.connection.connect(this.connection.jid,this.connection.pass,function(a,b){this.onConnectStatusChanged(a,b,!0)}.bind(this),this.connection.wait,this.connection.hold,this.connection.route):s.prebind_url&&(this.clearSession(),this._tearDown(),this.startNewBOSHSession())}.bind(this),5e3)},this.renderLoginPanel=function(){s._tearDown();var a=s.chatboxviews.get("controlbox");a.model.set({connected:!1}),a.renderLoginPanel()},this.onConnectStatusChanged=function(a,b,c){s.log("Status changed to: "+D[a]),a===i.Status.CONNECTED||a===i.Status.ATTACHED?(delete s.disconnection_cause,"undefined"!=typeof c&&c?(s.log(a===i.Status.CONNECTED?"Reconnected":"Reattached"),s.onReconnected()):(s.log(a===i.Status.CONNECTED?"Connected":"Attached"),s.onConnected())):a===i.Status.DISCONNECTED?s.disconnection_cause==i.Status.CONNFAIL&&s.auto_reconnect?s.reconnect(b):s.renderLoginPanel():a===i.Status.ERROR?s.giveFeedback(N("Error"),"error"):a===i.Status.CONNECTING?s.giveFeedback(N("Connecting")):a===i.Status.AUTHENTICATING?s.giveFeedback(N("Authenticating")):a===i.Status.AUTHFAIL?(s.giveFeedback(N("Authentication Failed"),"error"),s.connection.disconnect(N("Authentication Failed")),s.disconnection_cause=i.Status.AUTHFAIL):a===i.Status.CONNFAIL?s.disconnection_cause=i.Status.CONNFAIL:a===i.Status.DISCONNECTING&&(s.connection.connected||s.renderLoginPanel(),b&&s.giveFeedback(b,"error"))},this.applyHeightResistance=function(a){if("undefined"==typeof a)return s.default_box_height;var b=10;return a!==s.default_box_height&&Math.abs(a-s.default_box_height)<b?s.default_box_height:a},this.updateMsgCounter=function(){this.msg_counter>0?(-1==document.title.search(/^Messages \(\d+\) /)?document.title="Messages ("+this.msg_counter+") "+document.title:document.title=document.title.replace(/^Messages \(\d+\) /,"Messages ("+this.msg_counter+") "),window.blur(),window.focus()):-1!=document.title.search(/^Messages \(\d+\) /)&&(document.title=document.title.replace(/^Messages \(\d+\) /,""))},this.incrementMsgCounter=function(){this.msg_counter+=1,this.updateMsgCounter()},this.clearMsgCounter=function(){this.msg_counter=0,this.updateMsgCounter()},this.initStatus=function(a){this.xmppstatus=new this.XMPPStatus;var b=m("converse.xmppstatus-"+s.bare_jid);this.xmppstatus.id=b,this.xmppstatus.browserStorage=new Backbone.BrowserStorage[s.storage](b),this.xmppstatus.fetch({success:a,error:a})},this.initSession=function(){this.session=new this.Session;var a=m("converse.bosh-session");this.session.id=a,this.session.browserStorage=new Backbone.BrowserStorage[s.storage](a),this.session.fetch()},this.clearSession=function(){this.roster&&this.roster.browserStorage._clear(),this.session.browserStorage._clear(),s.connection.connected&&s.chatboxes.get("controlbox").save({connected:!1})},this.logOut=function(){s.chatboxviews.closeAllChatBoxes(!1),s.clearSession(),s.connection.disconnect()},this.registerGlobalEventHandlers=function(){b(document).click(function(){b(".toggle-otr ul").is(":visible")&&b(".toggle-otr ul",this).slideUp(),b(".toggle-smiley ul").is(":visible")&&b(".toggle-smiley ul",this).slideUp()}),b(document).on("mousemove",function(a){return this.resized_chatbox&&this.allow_dragresize?(a.preventDefault(),void this.resized_chatbox.resizeChatBox(a)):!0}.bind(this)),b(document).on("mouseup",function(a){if(!this.resized_chatbox||!this.allow_dragresize)return!0;a.preventDefault();var b=this.applyHeightResistance(this.resized_chatbox.height);this.connection.connected?this.resized_chatbox.model.save({height:b}):this.resized_chatbox.model.set({height:b}),this.resized_chatbox=null}.bind(this)),b(window).on("blur focus",function(a){this.windowState!=a.type&&"focus"==a.type&&s.clearMsgCounter(),this.windowState=a.type}.bind(this)),b(window).on("resize",j.debounce(function(a){this.chatboxviews.trimChats()}.bind(this),200))},this.ping=function(a,b,c,d){return s.lastStanzaDate=new Date,("undefined"==typeof a||null===a)&&(a=i.getDomainFromJid(s.bare_jid)),"undefined"==typeof d&&(d=null),"undefined"==typeof b&&(b=null),"undefined"==typeof c&&(c=null),s.connection?(s.connection.ping.ping(a,b,c,d),!0):!1},this.pong=function(a){return s.lastStanzaDate=new Date,s.connection.ping.pong(a),!0},this.registerPongHandler=function(){s.connection.disco.addFeature(i.NS.PING),s.connection.ping.addPingHandler(this.pong)},this.registerPingHandler=function(){this.registerPongHandler(),this.ping_interval>0&&(this.connection.addHandler(function(){return this.lastStanzaDate=new Date,!0}.bind(s)),this.connection.addTimedHandler(1e3,function(){var a=new Date;return this.lastStanzaDate||(this.lastStanzaDate=a),(a-this.lastStanzaDate)/1e3>this.ping_interval?this.ping():!0}))},this.onReconnected=function(){this.initStatus(function(){this.registerPingHandler(),this.rosterview.registerRosterXHandler(),this.rosterview.registerPresenceHandler(),this.chatboxes.registerMessageHandler(),this.xmppstatus.sendPresence(),this.giveFeedback(N("Contacts"))}.bind(this))},this.enableCarbons=function(){if(this.message_carbons&&!this.session.get("carbons_enabled")){var a=new i.Builder("iq",{from:this.connection.jid,id:"enablecarbons",type:"set"}).c("enable",{xmlns:i.NS.CARBONS});this.connection.addHandler(function(a){b(a).find("error").length>0?s.log("ERROR: An error occured while trying to enable message carbons."):(this.session.save({carbons_enabled:!0}),s.log("Message carbons have been enabled."))}.bind(this),null,"iq",null,"enablecarbons"),this.connection.send(a)}},this.onConnected=function(){this.chatboxviews.closeAllChatBoxes(),this.jid=this.connection.jid,this.bare_jid=i.getBareJidFromJid(this.connection.jid),this.resource=i.getResourceFromJid(this.connection.jid),this.domain=i.getDomainFromJid(this.connection.jid),this.minimized_chats=new s.MinimizedChats({model:this.chatboxes}),this.features=new this.Features,this.enableCarbons(),this.initStatus(function(){this.registerPingHandler(),this.registerIntervalHandler(),this.chatboxes.onConnected(),this.giveFeedback(N("Contacts")),this.callback&&("jasmine tests"===this.connection.service?this.callback(this):this.callback())}.bind(this)),s.emit("ready")},this.OTR=Backbone.Model.extend({getSessionPassphrase:function(){if("prebind"===s.authentication){var a=m(s.connection.jid),b=window.sessionStorage[a];return"undefined"==typeof b&&(b=Math.floor(4294967295*Math.random()).toString(),window.sessionStorage[a]=b),b}return s.connection.pass},generatePrivateKey:function(){var a=new g,b=s.connection.jid;if(s.cache_otr_key){var c=CryptoJS.lib.PasswordBasedCipher,d=this.getSessionPassphrase();"undefined"!=typeof d&&(window.sessionStorage[m(b+"priv_key")]=c.encrypt(CryptoJS.algo.AES,a.packPrivate(),d).toString(),window.sessionStorage[m(b+"instance_tag")]=instance_tag,window.sessionStorage[m(b+"pass_check")]=c.encrypt(CryptoJS.algo.AES,"match",d).toString())}return a}}),this.Message=Backbone.Model,this.Messages=Backbone.Collection.extend({model:s.Message,comparator:"time"}),this.ChatBox=Backbone.Model.extend({initialize:function(){var a=s.applyHeightResistance(this.get("height"));"controlbox"!==this.get("box_id")?(this.messages=new s.Messages,this.messages.browserStorage=new Backbone.BrowserStorage[s.storage](m("converse.messages"+this.get("jid")+s.bare_jid)),this.save({chat_state:void 0,box_id:m(this.get("jid")),height:a,minimized:this.get("minimized")||!1,num_unread:this.get("num_unread")||0,otr_status:this.get("otr_status")||y,time_minimized:this.get("time_minimized")||k(),time_opened:this.get("time_opened")||k().valueOf(),url:"",user_id:i.getNodeFromJid(this.get("jid"))})):this.set({height:a,time_opened:k(0).valueOf(),num_unread:this.get("num_unread")||0})},maximize:function(){this.save({minimized:!1,time_opened:k().valueOf()})},minimize:function(){this.save({minimized:!0,time_minimized:k().format()})},getSession:function(a){var b,c,d,e,f=CryptoJS.lib.PasswordBasedCipher;if(s.cache_otr_key&&(b=s.otr.getSessionPassphrase(),"undefined"!=typeof b&&(c=window.sessionStorage[m(this.id+"instance_tag")],d=window.sessionStorage[m(this.id+"priv_key")],e=window.sessionStorage[m(this.connection.jid+"pass_check")],d&&c&&"undefined"!=typeof e))){var i=f.decrypt(CryptoJS.algo.AES,d,b),j=g.parsePrivate(i.toString(CryptoJS.enc.Latin1));if("match"===f.decrypt(CryptoJS.algo.AES,e,b).toString(CryptoJS.enc.Latin1))return this.trigger("showHelpMessages",[N("Re-establishing encrypted session")]),void a({key:j,instance_tag:c})}this.trigger("showHelpMessages",[N("Generating private key."),N("Your browser might become unresponsive.")],null,!0),setTimeout(function(){a({key:s.otr.generatePrivateKey.apply(this),instance_tag:h.makeInstanceTag()})},500)},updateOTRStatus:function(a){switch(a){case h.CONST.STATUS_AKE_SUCCESS:this.otr.msgstate===h.CONST.MSGSTATE_ENCRYPTED&&this.save({otr_status:z});break;case h.CONST.STATUS_END_OTR:this.otr.msgstate===h.CONST.MSGSTATE_FINISHED?this.save({otr_status:B}):this.otr.msgstate===h.CONST.MSGSTATE_PLAINTEXT&&this.save({otr_status:y})}},onSMP:function(a,b){switch(a){case"question":this.otr.smpSecret(prompt(N("Authentication request from %1$s\n\nYour chat contact is attempting to verify your identity, by asking you the question below.\n\n%2$s",[this.get("fullname"),b])));break;case"trust":b===!0?this.save({otr_status:A}):(this.trigger("showHelpMessages",[N("Could not verify this user's identify.")],"error"),this.save({otr_status:z}));break;default:throw new TypeError("ChatBox.onSMP: Unknown type for SMP")}},initiateOTR:function(a){this.save({otr_status:y});this.getSession(function(b){this.otr=new h({fragment_size:140,send_interval:200,priv:b.key,instance_tag:b.instance_tag,debug:this.debug}),this.otr.on("status",this.updateOTRStatus.bind(this)),this.otr.on("smp",this.onSMP.bind(this)),this.otr.on("ui",function(a){this.trigger("showReceivedOTRMessage",a)}.bind(this)),this.otr.on("io",function(a){this.trigger("sendMessage",a)}.bind(this)),this.otr.on("error",function(a){this.trigger("showOTRError",a)}.bind(this)),this.trigger("showHelpMessages",[N("Exchanging private key with contact.")]),a?this.otr.receiveMsg(a):this.otr.sendQueryMsg()}.bind(this))},endOTR:function(){this.otr&&this.otr.endOtr(),this.save({otr_status:y})},createMessage:function(a,b,c){b=b||a.find("delay");var d,e,f,g,h=a.children("body").text(),l=b.length>0,m=this.get("fullname"),n="groupchat"===a.attr("type"),o=a.attr("id"),p=a.find(G).length&&G||a.find(H).length&&H||a.find(E).length&&E||a.find(F).length&&F||a.find(I).length&&I;g=n?i.unescapeNode(i.getResourceFromJid(a.attr("from"))):i.getBareJidFromJid(a.attr("from")),m=(j.isEmpty(m)?g:m).split(" ")[0],l?(d=b.attr("stamp"),e=d):e=k().format(),f=n&&g===this.get("nick")||!n&&g==s.bare_jid?"me":"them",this.messages.create({chat_state:p,delayed:l,fullname:m,message:h||void 0,msgid:o,sender:f,time:e,archive_id:c})},receiveMessage:function(a,b,c){var d=a.children("body"),e=d.length>0?d.text():void 0;return e&&s.allow_otr?void(e.match(/^\?OTRv23?/)?this.initiateOTR(e):j.contains([z,A],this.get("otr_status"))?this.otr.receiveMsg(e):e.match(/^\?OTR/)?this.otr?this.otr.receiveMsg(e):this.initiateOTR(e):this.createMessage(a,b,c)):this.createMessage(a,b,c)}}),this.ChatBoxView=Backbone.View.extend({length:200,tagName:"div",className:"chatbox",is_chatroom:!1,events:{"click .close-chatbox-button":"close","click .toggle-chatbox-button":"minimize","keypress textarea.chat-textarea":"keyPressed","click .toggle-smiley":"toggleEmoticonMenu","click .toggle-smiley ul li":"insertEmoticon","click .toggle-clear":"clearMessages","click .toggle-otr":"toggleOTRMenu","click .start-otr":"startOTRFromToolbar","click .end-otr":"endOTR","click .auth-otr":"authOTR","click .toggle-call":"toggleCall","mousedown .dragresize-tm":"onDragResizeStart"},initialize:function(){this.model.messages.on("add",this.onMessageAdded,this),this.model.on("show",this.show,this),this.model.on("destroy",this.hide,this),this.model.on("change:chat_state",this.sendChatState,this),this.model.on("change:chat_status",this.onChatStatusChanged,this),this.model.on("change:image",this.renderAvatar,this),this.model.on("change:otr_status",this.onOTRStatusChanged,this),this.model.on("change:minimized",this.onMinimizedChanged,this),this.model.on("change:status",this.onStatusChanged,this),this.model.on("showOTRError",this.showOTRError,this),this.model.on("showHelpMessages",this.showHelpMessages,this),this.model.on("sendMessage",this.sendMessage,this),this.model.on("showSentOTRMessage",function(a){this.showMessage({message:a,sender:"me"})},this),this.model.on("showReceivedOTRMessage",function(a){this.showMessage({message:a,sender:"them"})},this),this.updateVCard().render().fetchMessages().insertIntoPage().hide(),(j.contains([z,A],this.model.get("otr_status"))||s.use_otr_by_default)&&this.model.initiateOTR()},render:function(){return this.$el.attr("id",this.model.get("box_id")).html(s.templates.chatbox(j.extend(this.model.toJSON(),{show_toolbar:s.show_toolbar,label_personal_message:N("Personal message")}))),this.$content=this.$el.find(".chat-content"),this.renderToolbar().renderAvatar(),this.$content.on("scroll",j.debounce(this.onScroll.bind(this),100)),s.emit("chatBoxOpened",this),setTimeout(s.refreshWebkit,50),this.showStatusMessage()},onScroll:function(a){0===b(a.target).scrollTop()&&this.model.messages.length&&(this.$content.first().hasClass("spinner")||this.$content.prepend('<span class="spinner"/>'),this.fetchArchivedMessages({before:this.model.messages.at(0).get("archive_id"),"with":this.model.get("jid"),max:s.archived_messages_page_size}))},fetchMessages:function(){return this.model.messages.fetch({add:!0,success:function(){s.features.findWhere({"var":i.NS.MAM})&&this.model.messages.length<s.archived_messages_page_size&&this.fetchArchivedMessages({before:"","with":this.model.get("jid"),max:s.archived_messages_page_size})}.bind(this)}),this},fetchArchivedMessages:function(a){t.archive.query(j.extend(a,{groupchat:this.is_chatroom}),function(a){this.clearSpinner(),a.length&&(this.is_chatroom?j.map(a,this.onChatRoomMessage.bind(this)):j.map(a,s.chatboxes.onMessage.bind(s.chatboxes)))}.bind(this),function(a){this.clearSpinner(),s.log("Error while trying to fetch archived messages","error")}.bind(this))},insertIntoPage:function(){return this.$el.insertAfter(s.chatboxviews.get("controlbox").$el),this},initDragResize:function(){return this.prev_pageY=0,s.connection.connected&&(this.height=this.model.get("height")),this},showStatusNotification:function(a,c){c||this.$content.find("div.chat-event").remove(),this.$content.append(b('<div class="chat-event"></div>').text(a)),this.scrollDown()},clearChatRoomMessages:function(a){"undefined"!=typeof a&&a.stopPropagation();var b=confirm(N("Are you sure you want to clear the messages from this room?"));return b===!0&&this.$content.empty(),this},clearSpinner:function(){this.$content.children(":first").is("span.spinner")&&this.$content.children(":first").remove()},prependDayIndicator:function(a){var b=k(a).startOf("day");this.$content.prepend(s.templates.new_day({isodate:b.format(),datestring:b.format("dddd MMM Do YYYY")}))},appendMessage:function(a){j.compose(j.debounce(this.scrollDown.bind(this),50),this.$content.append.bind(this.$content))(this.renderMessage(a))},showMessage:function(a){var c,d,e,f,g,h,i=this.$content.children(".chat-message:first"),l=i.data("isodate");return l?(d=k(a.time)||k,c=this.$content.children(".chat-message:last").data("isodate"),"undefined"!=typeof c&&(d.isAfter(c)||d.isSame(c))?(d.isAfter(c,"day")&&(e=k(d).startOf("day"),this.$content.append(s.templates.new_day({isodate:d.format(),datestring:d.format("dddd MMM Do YYYY")}))),void this.appendMessage(a)):void("undefined"!=typeof l&&(d.isBefore(l)||d.isSame(l)&&!d.isSame(c))?(0===i.prev().length&&this.prependDayIndicator(l),d.isBefore(l,"day")?(j.compose(this.scrollDownMessageHeight.bind(this),function(a){return this.$content.prepend(a),a}.bind(this))(this.renderMessage(a)),this.prependDayIndicator(d)):j.compose(this.scrollDownMessageHeight.bind(this),function(a){return a.insertBefore(i),a})(this.renderMessage(a))):(d=d.format(),f=this.$content.children(".chat-message"),g=j.map(f,function(a){return b(a).data("isodate")}),g.push(d),g.sort(),h=g.indexOf(d)-1,j.compose(this.scrollDownMessageHeight.bind(this),function(a){return a.insertAfter(this.$content.find('.chat-message[data-isodate="'+g[h]+'"]')),a}.bind(this))(this.renderMessage(a))))):void this.appendMessage(a)},renderMessage:function(a){var c,d,e=k(a.time)||k,f=a.message,g=f.match(/^\/(.*?)(?: (.*))?$/),h=this.model.get("fullname")||a.fullname,i=a.delayed&&"delayed"||"";return g&&"me"===g[1]?(f=f.replace(/^\/me/,""),c=s.templates.action,d=h):(c=s.templates.message,d="me"===a.sender&&N("me")||h),this.$content.find("div.chat-event").remove(),this.is_chatroom&&"them"==a.sender&&new RegExp("\\b"+this.model.get("nick")+"\\b").test(f)&&(i+=" mentioned"),b(c({sender:a.sender,time:e.format("hh:mm"),isodate:e.format(),username:d,message:"",extra_classes:i})).children(".chat-message-content").first().text(f).addHyperlinks().addEmoticons(s.visible_toolbar_buttons.emoticons).parent()},showHelpMessages:function(a,c,d){var e,f=a.length;for(e=0;f>e;e++)this.$content.append(b('<div class="chat-'+(c||"info")+'">'+a[e]+"</div>"));return d===!0?this.$content.append('<span class="spinner"/>'):d===!1&&this.$content.find("span.spinner").remove(),this.scrollDown()},onMessageAdded:function(a){if(a.get("message"))this.showMessage(j.clone(a.attributes));else{if(a.get("chat_state")===G)return void this.showStatusNotification(a.get("fullname")+" "+N("is typing"));if(a.get("chat_state")===H)return void this.showStatusNotification(a.get("fullname")+" "+N("has stopped typing"));if(j.contains([E,F],a.get("chat_state")))return void this.$content.find("div.chat-event").remove();if(a.get("chat_state")===I)return void this.showStatusNotification(a.get("fullname")+" "+N("has gone away"))}"me"!=a.get("sender")&&"blur"==s.windowState&&s.incrementMsgCounter(),this.model.get("minimized")||this.$el.is(":visible")||j.debounce(this.show.bind(this),100)()},sendMessage:function(a){var b=(new Date).getTime(),c=this.model.get("jid"),e=d({from:s.connection.jid,to:c,type:"chat",id:b}).c("body").t(a).up().c(F,{xmlns:i.NS.CHATSTATES}).up();if(this.model.get("otr_status")!=y&&e.c("private",{xmlns:i.NS.CARBONS}),s.connection.send(e),s.forward_messages){var f=d({to:s.bare_jid,type:"chat",id:b}).c("forwarded",{xmlns:"urn:xmpp:forward:0"}).c("delay",{xmns:"urn:xmpp:delay",stamp:b}).up().cnode(e.tree());s.connection.send(f)}},onMessageSubmitted:function(a){if(!s.connection.authenticated)return this.showHelpMessages(["Sorry, the connection has been lost, and your message could not be sent"],"error");var b,c=a.replace(/^\s*/,"").match(/^\/(.*)\s*$/);if(c){if("clear"===c[1])return this.clearMessages();if("help"===c[1])return b=["<strong>/help</strong>:"+N("Show this menu"),"<strong>/me</strong>:"+N("Write in the third person"),"<strong>/clear</strong>:"+N("Remove messages")],void this.showHelpMessages(b);if(s.allow_otr&&"endotr"===c[1])return this.endOTR();if(s.allow_otr&&"otr"===c[1])return this.model.initiateOTR()}if(j.contains([z,A],this.model.get("otr_status")))this.model.otr.sendMsg(a),this.model.trigger("showSentOTRMessage",a);else{var d=s.xmppstatus.get("fullname");d=j.isEmpty(d)?s.bare_jid:d,this.model.messages.create({fullname:d,sender:"me",time:k().format(),message:a}),this.sendMessage(a)}},sendChatState:function(){s.connection.send(d({to:this.model.get("jid"),type:"chat"}).c(this.model.get("chat_state"),{xmlns:i.NS.CHATSTATES}))},setChatState:function(a,b){return"undefined"!=typeof this.chat_state_timeout&&(clearTimeout(this.chat_state_timeout),delete this.chat_state_timeout),a===G?this.chat_state_timeout=setTimeout(this.setChatState.bind(this),s.TIMEOUTS.PAUSED,H):a===H&&(this.chat_state_timeout=setTimeout(this.setChatState.bind(this),s.TIMEOUTS.INACTIVE,E)),b||this.model.get("chat_state")==a||this.model.set("chat_state",a),this},keyPressed:function(a){var c,d=b(a.target);a.keyCode==C.ENTER?(a.preventDefault(),c=d.val(),d.val("").focus(),""!==c&&(this.model.get("chatroom")?this.onChatRoomMessageSubmitted(c):this.onMessageSubmitted(c),s.emit("messageSend",c)),this.setChatState(F)):this.model.get("chatroom")||this.setChatState(G,a.keyCode==C.FORWARD_SLASH)},onDragResizeStart:function(a){return s.allow_dragresize?(this.height=this.$el.children(".box-flyout").height(),s.resized_chatbox=this,void(this.prev_pageY=a.pageY)):!0},setChatBoxHeight:function(a){this.model.get("minimized")||(this.$el.children(".box-flyout")[0].style.height=s.applyHeightResistance(a)+"px")},resizeChatBox:function(a){var b=a.pageY-this.prev_pageY;b&&(this.height-=b,this.prev_pageY=a.pageY,this.setChatBoxHeight(this.height))},clearMessages:function(a){a&&a.preventDefault&&a.preventDefault();var b=confirm(N("Are you sure you want to clear the messages from this chat box?"));return b===!0&&(this.$content.empty(),this.model.messages.reset(),this.model.messages.browserStorage._clear()),this},insertEmoticon:function(a){a.stopPropagation(),this.$el.find(".toggle-smiley ul").slideToggle(200);var c=this.$el.find("textarea.chat-textarea"),d=c.val(),e=b(a.target);e=e.is("a")?e:e.children("a"),d&&" "!==d[d.length-1]&&(d+=" "),c.focus().val(d+e.data("emoticon")+" ")},toggleEmoticonMenu:function(a){a.stopPropagation(),this.$el.find(".toggle-smiley ul").slideToggle(200)},toggleOTRMenu:function(a){a.stopPropagation(),this.$el.find(".toggle-otr ul").slideToggle(200)},showOTRError:function(a){"Message cannot be sent at this time."==a?this.showHelpMessages([N("Your message could not be sent")],"error"):"Received an unencrypted message."==a?this.showHelpMessages([N("We received an unencrypted message")],"error"):"Received an unreadable encrypted message."==a?this.showHelpMessages([N("We received an unreadable encrypted message")],"error"):this.showHelpMessages(["Encryption error occured: "+a],"error"),console.log("OTR ERROR:"+a)},startOTRFromToolbar:function(a){b(a.target).parent().parent().slideUp(),a.stopPropagation(),this.model.initiateOTR()},endOTR:function(a){"undefined"!=typeof a&&(a.preventDefault(),a.stopPropagation()),this.model.endOTR()},authOTR:function(a){var c,d,e,f=b(a.target).data().scheme;"fingerprint"===f?(c=confirm(N("Here are the fingerprints, please confirm them with %1$s, outside of this chat.\n\nFingerprint for you, %2$s: %3$s\n\nFingerprint for %1$s: %4$s\n\nIf you have confirmed that the fingerprints match, click OK, otherwise click Cancel.",[this.model.get("fullname"),s.xmppstatus.get("fullname")||s.bare_jid,this.model.otr.priv.fingerprint(),this.model.otr.their_priv_pk.fingerprint()])),c===!0?this.model.save({otr_status:A}):this.model.save({otr_status:z})):"smp"===f?(alert(N("You will be prompted to provide a security question and then an answer to that question.\n\nYour contact will then be prompted the same question and if they type the exact same answer (case sensitive), their identity will be verified.")),d=prompt(N("What is your security question?")),d&&(e=prompt(N("What is the answer to the security question?")),this.model.otr.smpSecret(e,d))):this.showHelpMessages([N("Invalid authentication scheme provided")],"error")},toggleCall:function(a){a.stopPropagation(),s.emit("callButtonClicked",{connection:s.connection,model:this.model})},onChatStatusChanged:function(a){var b=a.get("chat_status"),c=a.get("fullname");c=j.isEmpty(c)?a.get("jid"):c,this.$el.is(":visible")&&("offline"===b?this.showStatusNotification(c+" "+N("has gone offline")):"away"===b?this.showStatusNotification(c+" "+N("has gone away")):"dnd"===b?this.showStatusNotification(c+" "+N("is busy")):"online"===b&&this.$el.find("div.chat-event").remove()),s.emit("contactStatusChanged",a.attributes,a.get("chat_status"))},onStatusChanged:function(a){this.showStatusMessage(),s.emit("contactStatusMessageChanged",a.attributes,a.get("status"))},onOTRStatusChanged:function(a){this.renderToolbar().informOTRChange()},onMinimizedChanged:function(a){a.get("minimized")?this.hide():this.maximize()},showStatusMessage:function(a){return a=a||this.model.get("status"),"string"==typeof a&&this.$el.find("p.user-custom-message").text(a).attr("title",a),this},close:function(a){return a&&a.preventDefault&&a.preventDefault(),s.connection.connected?(this.model.destroy(),this.setChatState(E)):this.hide(),s.emit("chatBoxClosed",this),this},maximize:function(){var a=s.chatboxviews;this.$el.insertAfter(a.get("controlbox").$el).show("fast",function(){a.trimChats(this),s.refreshWebkit(),this.setChatState(F).focus(),s.emit("chatBoxMaximized",this)}.bind(this))},minimize:function(a){a&&a.preventDefault&&a.preventDefault(),this.setChatState(E).model.minimize(),this.$el.hide("fast",s.refreshwebkit),s.emit("chatBoxMinimized",this)},updateVCard:function(){if(!this.use_vcards)return this;var a=this.model.get("jid"),b=s.roster.get(a);return b&&!b.get("vcard_updated")&&s.getVCard(a,function(a,b,c,d,e,f){this.model.save({fullname:c||b,url:f,image_type:e,image:d})}.bind(this),function(){s.log("ChatBoxView.initialize: An error occured while fetching vcard")}),this},informOTRChange:function(){var a=this.model.toJSON(),b=[];return a.otr_status==y?b.push(N("Your messages are not encrypted anymore")):a.otr_status==z?b.push(N("Your messages are now encrypted but your contact's identity has not been verified.")):a.otr_status==A?b.push(N("Your contact's identify has been verified.")):a.otr_status==B&&b.push(N("Your contact has ended encryption on their end, you should do the same.")),this.showHelpMessages(b,"info",!1)},renderToolbar:function(){if(s.show_toolbar){var a=this.model.toJSON();a.otr_status==y?a.otr_tooltip=N("Your messages are not encrypted. Click here to enable OTR encryption."):a.otr_status==z?a.otr_tooltip=N("Your messages are encrypted, but your contact has not been verified."):a.otr_status==A?a.otr_tooltip=N("Your messages are encrypted and your contact verified."):a.otr_status==B&&(a.otr_tooltip=N("Your contact has closed their end of the private session, you should do the same")),
this.$el.find(".chat-toolbar").html(s.templates.toolbar(j.extend(a,{FINISHED:B,UNENCRYPTED:y,UNVERIFIED:z,VERIFIED:A,allow_otr:s.allow_otr&&!this.is_chatroom,label_clear:N("Clear all messages"),label_end_encrypted_conversation:N("End encrypted conversation"),label_insert_smiley:N("Insert a smiley"),label_hide_participants:N("Hide the list of participants"),label_refresh_encrypted_conversation:N("Refresh encrypted conversation"),label_start_call:N("Start a call"),label_start_encrypted_conversation:N("Start encrypted conversation"),label_verify_with_fingerprints:N("Verify with fingerprints"),label_verify_with_smp:N("Verify with SMP"),label_whats_this:N("What's this?"),otr_status_class:P[a.otr_status],otr_translated_status:Q[a.otr_status],show_call_button:s.visible_toolbar_buttons.call,show_clear_button:s.visible_toolbar_buttons.clear,show_emoticons:s.visible_toolbar_buttons.emoticons,show_participants_toggle:this.is_chatroom&&s.visible_toolbar_buttons.toggle_participants})))}return this},renderAvatar:function(){if(this.model.get("image")){var a="data:"+this.model.get("image_type")+";base64,"+this.model.get("image"),c=b('<canvas height="32px" width="32px" class="avatar"></canvas>').get(0);if(!c.getContext||!c.getContext("2d"))return this;var d=c.getContext("2d"),e=new Image;return e.onload=function(){var a=e.width/e.height;d.drawImage(e,0,0,35*a,35)},e.src=a,this.$el.find(".chat-title").before(c),this}},focus:function(){return this.$el.find(".chat-textarea").focus(),s.emit("chatBoxFocused",this),this},hide:function(){return this.$el.is(":visible")&&"1"==this.$el.css("opacity")&&(this.$el.hide(),s.refreshWebkit()),this},show:function(a){return this.$el.is(":visible")&&"1"==this.$el.css("opacity")?this.focus():(this.$el.fadeIn(function(){"function"==typeof a&&a.apply(this,arguments),s.connection.connected&&(this.model.save(),this.initDragResize()),this.setChatState(F),this.scrollDown().focus()}.bind(this)),this)},scrollDownMessageHeight:function(a){return this.$content.is(":visible")&&this.$content.scrollTop(this.$content.scrollTop()+a[0].scrollHeight),this},scrollDown:function(){return this.$content.is(":visible")&&this.$content.scrollTop(this.$content[0].scrollHeight),this}}),this.ContactsPanel=Backbone.View.extend({tagName:"div",className:"controlbox-pane",id:"users",events:{"click a.toggle-xmpp-contact-form":"toggleContactForm","submit form.add-xmpp-contact":"addContactFromForm","submit form.search-xmpp-contact":"searchContacts","click a.subscribe-to-user":"addContactFromList"},initialize:function(a){a.$parent.append(this.$el),this.$tabs=a.$parent.parent().find("#controlbox-tabs")},render:function(){var a,b=s.templates.contacts_panel({label_online:N("Online"),label_busy:N("Busy"),label_away:N("Away"),label_offline:N("Offline"),label_logout:N("Log out"),allow_logout:s.allow_logout});return this.$tabs.append(s.templates.contacts_tab({label_contacts:X})),a=s.xhr_user_search?s.templates.search_contact({label_contact_name:N("Contact name"),label_search:N("Search")}):s.templates.add_contact_form({label_contact_username:N("e.g. user@example.com"),label_add:N("Add")}),s.allow_contact_requests&&(b+=s.templates.add_contact_dropdown({label_click_to_chat:N("Click to add new chat contacts"),label_add_contact:N("Add a contact")})),this.$el.html(b),this.$el.find(".search-xmpp ul").append(a),this},toggleContactForm:function(a){a.preventDefault(),this.$el.find(".search-xmpp").toggle("fast",function(){b(this).is(":visible")&&b(this).find("input.username").focus()})},searchContacts:function(a){a.preventDefault(),b.getJSON(s.xhr_user_search_url+"?q="+b(a.target).find("input.username").val(),function(a){var c=b(".search-xmpp ul");c.find("li.found-user").remove(),c.find("li.chat-info").remove(),a.length||c.append('<li class="chat-info">'+N("No users found")+"</li>"),b(a).each(function(a,d){c.append(b('<li class="found-user"></li>').append(b('<a class="subscribe-to-user" href="#" title="'+N("Click to add as a chat contact")+'"></a>').attr("data-recipient",i.getNodeFromJid(d.id)+"@"+i.getDomainFromJid(d.id)).text(d.fullname)))})})},addContactFromForm:function(a){a.preventDefault();var c=b(a.target).find("input"),d=c.val();return d?(s.roster.addAndSubscribe(d),void b(".search-xmpp").hide()):void c.addClass("error")},addContactFromList:function(a){a.preventDefault();var c=b(a.target),d=c.attr("data-recipient"),e=c.text();s.roster.addAndSubscribe(d,e),c.parent().remove(),b(".search-xmpp").hide()}}),this.RoomsPanel=Backbone.View.extend({tagName:"div",className:"controlbox-pane",id:"chatrooms",events:{"submit form.add-chatroom":"createChatRoom","click input#show-rooms":"showRooms","click a.open-room":"createChatRoom","click a.room-info":"showRoomInfo","change input[name=server]":"setDomain","change input[name=nick]":"setNick"},initialize:function(a){this.$parent=a.$parent,this.model.on("change:muc_domain",this.onDomainChange,this),this.model.on("change:nick",this.onNickChange,this)},render:function(){return this.$parent.append(this.$el.html(s.templates.room_panel({server_input_type:s.hide_muc_server&&"hidden"||"text",server_label_global_attr:s.hide_muc_server&&" hidden"||"",label_room_name:N("Board name"),label_nickname:N("Nickname"),label_server:N("Server"),label_join:N("Join Board"),label_show_rooms:N("Show Boards")})).hide()),this.$tabs=this.$parent.parent().find("#controlbox-tabs"),this.$tabs.append(s.templates.chatrooms_tab({label_rooms:N("Boards")})),this},onDomainChange:function(a){var b=this.$el.find("input.new-chatroom-server");b.val(a.get("muc_domain")),s.auto_list_rooms&&this.updateRoomsList()},onNickChange:function(a){var b=this.$el.find("input.new-chatroom-nick");b.val(a.get("nick"))},informNoRoomsFound:function(){var a=this.$el.find("#available-chatrooms");a.html("<dt>"+N("No boards")+"</dt>"),b("input#show-rooms").show().siblings("span.spinner").remove()},onRoomsFound:function(a){var c,d,e,f,g=this.$el.find("#available-chatrooms");if(this.rooms=b(a).find("query").find("item"),this.rooms.length){for(f=document.createDocumentFragment(),e=0;e<this.rooms.length;e++)c=i.unescapeNode(b(this.rooms[e]).attr("name").replace("private, ","")||b(this.rooms[e]).attr("jid")),d=b(this.rooms[e]).attr("jid"),f.appendChild(b(s.templates.room_item({name:c,jid:d,open_title:N("Click to open this board"),info_title:N("Show more information on this board")}))[0]);g.append(f),b("input#show-rooms").show().siblings("span.spinner").remove()}else this.informNoRoomsFound();return!0},updateRoomsList:function(){s.connection.sendIQ(c({to:this.model.get("muc_domain"),from:s.connection.jid,type:"get"}).c("query",{xmlns:i.NS.DISCO_ITEMS}),this.onRoomsFound.bind(this),this.informNoRoomsFound.bind(this))},showRooms:function(a){var c=this.$el.find("#available-chatrooms"),d=this.$el.find("input.new-chatroom-server"),e=d.val();return e?(this.$el.find("input.new-chatroom-name").removeClass("error"),d.removeClass("error"),c.empty(),b("input#show-rooms").hide().after('<span class="spinner"/>'),this.model.save({muc_domain:e}),void this.updateRoomsList()):void d.addClass("error")},showRoomInfo:function(a){var c=a.target,d=b(c).parent("dd"),e=d.find("div.room-info");e.length?e.remove():(d.find("span.spinner").remove(),d.append('<span class="spinner hor_centered"/>'),s.connection.disco.info(b(c).attr("data-room-jid"),null,function(a){var c=b(a);d.find("span.spinner").replaceWith(s.templates.room_description({desc:c.find('field[var="muc#roominfo_description"] value').text(),occ:c.find('field[var="muc#roominfo_occupants"] value').text(),hidden:c.find('feature[var="muc_hidden"]').length,membersonly:c.find('feature[var="muc_membersonly"]').length,moderated:c.find('feature[var="muc_moderated"]').length,nonanonymous:c.find('feature[var="muc_nonanonymous"]').length,open:c.find('feature[var="muc_open"]').length,passwordprotected:c.find('feature[var="muc_passwordprotected"]').length,persistent:c.find('feature[var="muc_persistent"]').length,publicroom:c.find('feature[var="muc_public"]').length,semianonymous:c.find('feature[var="muc_semianonymous"]').length,temporary:c.find('feature[var="muc_temporary"]').length,unmoderated:c.find('feature[var="muc_unmoderated"]').length,label_desc:N("Description:"),label_occ:N("Occupants:"),label_features:N("Features:"),label_requires_auth:N("Requires authentication"),label_hidden:N("Hidden"),label_requires_invite:N("Requires an invitation"),label_moderated:N("Moderated"),label_non_anon:N("Non-anonymous"),label_open_room:N("Open board"),label_permanent_room:N("Permanent board"),label_public:N("Public"),label_semi_anon:j("Semi-anonymous"),label_temp_room:j("Temporary board"),label_unmoderated:N("Unmoderated")}))}.bind(this)))},createChatRoom:function(a){a.preventDefault();var c,d,e,f,g,h,j=this.$el.find("input.new-chatroom-nick"),k=j.val();if(k?j.removeClass("error"):j.addClass("error"),"click"===a.type)c=b(a.target).text(),g=b(a.target).attr("data-room-jid");else{if(d=this.$el.find("input.new-chatroom-name"),f=this.$el.find("input.new-chatroom-server"),e=f.val(),c=d.val().trim(),d.val(""),!c||!e)return c||d.addClass("error"),void(e||f.addClass("error"));g=i.escapeNode(c.toLowerCase())+"@"+e,d.removeClass("error"),f.removeClass("error"),this.model.save({muc_domain:e})}k&&(h=s.chatboxviews.showChat({id:g,jid:g,name:c||i.unescapeNode(i.getNodeFromJid(g)),nick:k,chatroom:!0,box_id:m(g)}))},setDomain:function(a){this.model.save({muc_domain:a.target.value})},setNick:function(a){this.model.save({nick:a.target.value})}}),this.ControlBoxView=s.ChatBoxView.extend({tagName:"div",className:"chatbox",id:"controlbox",events:{"click a.close-chatbox-button":"close","click ul#controlbox-tabs li a":"switchTab","mousedown .dragresize-tm":"onDragResizeStart"},initialize:function(){this.$el.insertAfter(s.controlboxtoggle.$el),this.model.on("change:connected",this.onConnected,this),this.model.on("destroy",this.hide,this),this.model.on("hide",this.hide,this),this.model.on("show",this.show,this),this.model.on("change:closed",this.ensureClosedState,this),this.render(),this.model.get("connected")&&this.initRoster(),this.model.get("closed")?this.hide():this.show()},giveFeedback:function(a,b){var c=this.$(".conn-feedback");c.addClass("conn-feedback").text(a),b&&c.addClass(b)},onConnected:function(){if(this.model.get("connected")){this.render().initRoster(),s.features.off("add",this.featureAdded,this),s.features.on("add",this.featureAdded,this);var a=s.features.findWhere({"var":i.NS.MUC});a&&this.featureAdded(a)}},initRoster:function(){s.roster=new s.RosterContacts,s.roster.browserStorage=new Backbone.BrowserStorage[s.storage](m("converse.contacts-"+s.bare_jid));var a=new s.RosterGroups;return a.browserStorage=new Backbone.BrowserStorage[s.storage](m("converse.roster.groups"+s.bare_jid)),s.rosterview=new s.RosterView({model:a}),this.contactspanel.$el.append(s.rosterview.$el),s.rosterview.render().fetch().update(),this},render:function(){return s.connection.connected&&s.connection.authenticated&&!s.connection.disconnecting?this.contactspanel&&this.contactspanel.$el.is(":visible")||this.renderContactsPanel():this.renderLoginPanel(),this},renderLoginPanel:function(){var a=this.$(".conn-feedback");this.$el.html(s.templates.controlbox(this.model.toJSON()));var b={$parent:this.$el.find(".controlbox-panes"),model:this};return this.loginpanel?(this.loginpanel.delegateEvents().initialize(b),s.allow_registration&&this.registerpanel.delegateEvents().initialize(b)):(this.loginpanel=new s.LoginPanel(b),s.allow_registration&&(this.registerpanel=new s.RegisterPanel(b))),this.loginpanel.render(),s.allow_registration&&this.registerpanel.render().$el.hide(),this.initDragResize(),a.length&&this.$(".conn-feedback").replaceWith(a),this},renderContactsPanel:function(){this.$el.html(s.templates.controlbox(this.model.toJSON())),this.contactspanel=new s.ContactsPanel({$parent:this.$el.find(".controlbox-panes")}),this.contactspanel.render(),s.xmppstatusview=new s.XMPPStatusView({model:s.xmppstatus}),s.xmppstatusview.render(),s.allow_muc&&(this.roomspanel=new s.RoomsPanel({$parent:this.$el.find(".controlbox-panes"),model:new(Backbone.Model.extend({id:m("converse.roomspanel"+s.bare_jid),browserStorage:new Backbone.BrowserStorage[s.storage](m("converse.roomspanel"+s.bare_jid))}))}),this.roomspanel.render().model.fetch(),this.roomspanel.model.get("nick")||this.roomspanel.model.save({nick:i.getNodeFromJid(s.bare_jid)})),this.initDragResize()},close:function(a){return a&&a.preventDefault&&a.preventDefault(),s.connection.connected?this.model.save({closed:!0}):this.model.trigger("hide"),s.emit("controlBoxClosed",this),this},ensureClosedState:function(){this.model.get("closed")?this.hide():this.show()},hide:function(a){return this.$el.hide("fast",function(){s.refreshWebkit(),s.emit("chatBoxClosed",this),s.controlboxtoggle.show(function(){"function"==typeof a&&a()})}),this},show:function(){return s.controlboxtoggle.hide(function(){this.$el.show("fast",function(){s.rosterview&&s.rosterview.update(),s.refreshWebkit()}.bind(this)),s.emit("controlBoxOpened",this)}.bind(this)),this},featureAdded:function(a){if(a.get("var")==i.NS.MUC&&s.allow_muc){this.roomspanel.model.save({muc_domain:a.get("from")});var b=this.$el.find("input.new-chatroom-server");b.is(":focus")||b.val(this.roomspanel.model.get("muc_domain"))}},switchTab:function(a){a&&a.preventDefault&&a.preventDefault();var c=b(a.target),d=c.parent().siblings("li").children("a"),e=b(c.attr("href"));return b(d.attr("href")).hide(),d.removeClass("current"),c.addClass("current"),e.show(),this},showHelpMessages:function(a){}}),this.ChatRoomOccupant=Backbone.Model,this.ChatRoomOccupantView=Backbone.View.extend({tagName:"li",initialize:function(){this.model.on("add",this.render,this),this.model.on("change",this.render,this),this.model.on("destroy",this.destroy,this)},render:function(){var a=s.templates.occupant(j.extend(this.model.toJSON(),{desc_moderator:N("This user is a moderator"),desc_participant:N("This user can send messages in this room"),desc_visitor:N("This user can NOT send messages in this room")}));return this.$el.replaceWith(a),this.setElement(a,!0),this},destroy:function(){this.$el.remove()}}),this.ChatRoomOccupants=Backbone.Collection.extend({model:s.ChatRoomOccupant}),this.ChatRoomOccupantsView=Backbone.Overview.extend({tagName:"div",className:"participants",initialize:function(){this.model.on("add",this.onOccupantAdded,this)},render:function(){return this.$el.html(s.templates.chatroom_sidebar({label_invitation:N("Invite..."),label_occupants:N("Occupants")})),this.initInviteWidget()},onOccupantAdded:function(a){var b=this.get(a.get("id"));b?(delete b.model,b.model=a,b.initialize()):b=this.add(a.get("id"),new s.ChatRoomOccupantView({model:a})),this.$(".participant-list").append(b.render().$el)},parsePresence:function(a){var b=i.getResourceFromJid(a.getAttribute("from")),c={id:b,nick:b,type:a.getAttribute("type"),states:[]};return j.each(a.childNodes,function(a){switch(a.nodeName){case"status":c.status=a.textContent||null;break;case"show":c.show=a.textContent||null;break;case"x":a.getAttribute("xmlns")===i.NS.MUC_USER&&j.each(a.childNodes,function(a){switch(a.nodeName){case"item":c.affiliation=a.getAttribute("affiliation"),c.role=a.getAttribute("role"),c.jid=a.getAttribute("jid"),c.nick=a.getAttribute("nick")||c.nick;break;case"status":a.getAttribute("code")&&c.states.push(a.getAttribute("code"))}})}}),c},updateOccupantsOnPresence:function(a){var b,c=this.parsePresence(a);switch(c.type){case"error":return!0;case"unavailable":b=this.model.get(c.id),b&&b.destroy();break;default:b=this.model.get(c.id),b?b.save(c):this.model.create(c)}},initInviteWidget:function(){var a=this.$("input.invited-contact");return a.typeahead({minLength:1,highlight:!0},{name:"contacts-dataset",source:function(a,b){var c=[];j.each(s.roster.filter(n(["fullname","jid"],a)),function(a){c.push({value:a.get("fullname"),jid:a.get("jid")})}),b(c)},templates:{suggestion:j.template('<p data-jid="{{jid}}">{{value}}</p>')}}),a.on("typeahead:selected",function(a,c,d){var e=prompt(N(O('You are about to invite %1$s to the chat room "%2$s". '),c.value,this.model.get("id"))+N("You may optionally include a message, explaining the reason for the invitation."));null!==e&&this.chatroomview.directInvite(c.jid,e),b(a.target).typeahead("val","")}.bind(this)),this}}),this.ChatRoomView=s.ChatBoxView.extend({length:300,tagName:"div",className:"chatroom",events:{"click .close-chatbox-button":"close","click .toggle-chatbox-button":"minimize","click .configure-chatroom-button":"configureChatRoom","click .toggle-smiley":"toggleEmoticonMenu","click .toggle-smiley ul li":"insertEmoticon","click .toggle-clear":"clearChatRoomMessages","click .toggle-call":"toggleCall","click .toggle-participants a":"toggleOccupants","keypress textarea.chat-textarea":"keyPressed","mousedown .dragresize-tm":"onDragResizeStart"},is_chatroom:!0,initialize:function(){this.model.messages.on("add",this.onMessageAdded,this),this.model.on("change:minimized",function(a){a.get("minimized")?this.hide():this.maximize()},this),this.model.on("destroy",function(a,b,c){this.hide().leave()},this),this.occupantsview=new s.ChatRoomOccupantsView({model:new s.ChatRoomOccupants({nick:this.model.get("nick")})});var a=m("converse.occupants"+s.bare_jid+this.model.get("id")+this.model.get("nick"));this.occupantsview.model.id=a,this.occupantsview.model.browserStorage=new Backbone.BrowserStorage[s.storage](a),this.occupantsview.chatroomview=this,this.render(),this.occupantsview.model.fetch({add:!0}),this.join(null,{maxstanzas:s.muc_history_max_stanzas}),this.fetchMessages(),s.emit("chatRoomOpened",this),this.$el.insertAfter(s.chatboxviews.get("controlbox").$el),this.model.get("minimized")?this.hide():this.show()},render:function(){return this.$el.attr("id",this.model.get("box_id")).html(s.templates.chatroom(this.model.toJSON())),this.renderChatArea(),this.$content.on("scroll",j.debounce(this.onScroll.bind(this),100)),setTimeout(s.refreshWebkit,50),this},renderChatArea:function(){return this.$(".chat-area").length||(this.$(".chat-body").empty().append(s.templates.chatarea({show_toolbar:s.show_toolbar,label_message:N("Message")})).append(this.occupantsview.render().$el),this.renderToolbar(),this.$content=this.$el.find(".chat-content")),this.model.set({hidden_occupants:!this.model.get("hidden_occupants")}),this.toggleOccupants(),this},toggleOccupants:function(a){a&&(a.preventDefault(),a.stopPropagation());var b=this.$(".icon-hide-users");this.model.get("hidden_occupants")?(this.model.save({hidden_occupants:!1}),b.removeClass("icon-show-users").addClass("icon-hide-users"),this.$(".chat-area, form.sendXMPPMessage").css({width:"",overflow:""}),this.$("div.participants").show().animate({width:"auto"},this.scrollDown.bind(this)),this.$("div.participants").css({width:""})):(this.model.save({hidden_occupants:!0}),b.removeClass("icon-hide-users").addClass("icon-show-users"),this.$("form.sendXMPPMessage, .chat-area").animate({width:"100%"}),this.$("div.participants").animate({width:0},this.scrollDown.bind(this)))},directInvite:function(a,b){var c={xmlns:"jabber:x:conference",jid:this.model.get("jid")};null!==b&&(c.reason=b),this.model.get("password")&&(c.password=this.model.get("password"));var e=d({from:s.connection.jid,to:a,id:s.connection.getUniqueId()}).c("x",c);s.connection.send(e),s.emit("roomInviteSent",this,a,b)},onCommandError:function(a){this.showStatusNotification(N("Error: could not execute the command"),!0)},sendChatRoomMessage:function(a){var b=s.connection.getUniqueId(),c=d({to:this.model.get("jid"),from:s.connection.jid,type:"groupchat",id:b}).c("body").t(a).up().c("x",{xmlns:"jabber:x:event"}).c("composing");s.connection.send(c);var e=s.xmppstatus.get("fullname");this.model.messages.create({fullname:j.isEmpty(e)?s.bare_jid:e,sender:"me",time:k().format(),message:a,msgid:b})},setAffiliation:function(a,b,d,e,g,h){var j=f("item",{jid:b,affiliation:d}),k=c({to:a,type:"set"}).c("query",{xmlns:i.NS.MUC_ADMIN}).cnode(j.node);return null!==e&&k.c("reason",e),s.connection.sendIQ(k.tree(),g,h)},modifyRole:function(a,b,d,e,g,h){var j=f("item",{nick:b,role:d}),k=c({to:a,type:"set"}).c("query",{xmlns:i.NS.MUC_ADMIN}).cnode(j.node);return null!==e&&k.c("reason",e),s.connection.sendIQ(k.tree(),g,h)},member:function(a,b,c,d,e){return this.setAffiliation(a,b,"member",c,d,e)},revoke:function(a,b,c,d,e){return this.setAffiliation(a,b,"none",c,d,e)},owner:function(a,b,c,d,e){return this.setAffiliation(a,b,"owner",c,d,e)},admin:function(a,b,c,d,e){return this.setAffiliation(a,b,"admin",c,d,e)},onChatRoomMessageSubmitted:function(a){var b=a.replace(/^\s*/,"").match(/^\/(.*?)(?: (.*))?$/)||[!1,"",""],c=b[2].splitOnce(" ");switch(b[1]){case"admin":this.setAffiliation(this.model.get("jid"),c[0],"admin",c[1],void 0,this.onCommandError.bind(this));break;case"ban":this.setAffiliation(this.model.get("jid"),c[0],"outcast",c[1],void 0,this.onCommandError.bind(this));break;case"clear":this.clearChatRoomMessages();break;case"deop":this.modifyRole(this.model.get("jid"),c[0],"participant",c[1],void 0,this.onCommandError.bind(this));break;case"help":this.showHelpMessages(["<strong>/admin</strong>: "+N("Change user's affiliation to admin"),"<strong>/ban</strong>: "+N("Ban user from room"),"<strong>/clear</strong>: "+N("Remove messages"),"<strong>/deop</strong>: "+N("Change user role to participant"),"<strong>/help</strong>: "+N("Show this menu"),"<strong>/kick</strong>: "+N("Kick user from room"),"<strong>/me</strong>: "+N("Write in 3rd person"),"<strong>/member</strong>: "+N("Grant membership to a user"),"<strong>/mute</strong>: "+N("Remove user's ability to post messages"),"<strong>/nick</strong>: "+N("Change your nickname"),"<strong>/op</strong>: "+N("Grant moderator role to user"),"<strong>/owner</strong>: "+N("Grant ownership of this room"),"<strong>/revoke</strong>: "+N("Revoke user's membership"),"<strong>/topic</strong>: "+N("Set room topic"),"<strong>/voice</strong>: "+N("Allow muted user to post messages")]);break;case"kick":this.modifyRole(this.model.get("jid"),c[0],"none",c[1],void 0,this.onCommandError.bind(this));break;case"mute":this.modifyRole(this.model.get("jid"),c[0],"visitor",c[1],void 0,this.onCommandError.bind(this));break;case"member":this.setAffiliation(this.model.get("jid"),c[0],"member",c[1],void 0,this.onCommandError.bind(this));break;case"nick":s.connection.send(e({from:s.connection.jid,to:this.getRoomJIDAndNick(b[2]),id:s.connection.getUniqueId()}).tree());break;case"owner":this.setAffiliation(this.model.get("jid"),c[0],"owner",c[1],void 0,this.onCommandError.bind(this));break;case"op":this.modifyRole(this.model.get("jid"),c[0],"moderator",c[1],void 0,this.onCommandError.bind(this));break;case"revoke":this.setAffiliation(this.model.get("jid"),c[0],"none",c[1],void 0,this.onCommandError.bind(this));break;case"topic":s.connection.send(d({to:this.model.get("jid"),from:s.connection.jid,type:"groupchat"}).c("subject",{xmlns:"jabber:client"}).t(b[2]).tree());break;case"voice":this.modifyRole(this.model.get("jid"),c[0],"participant",c[1],void 0,this.onCommandError.bind(this));break;default:this.sendChatRoomMessage(a)}},handleMUCStanza:function(a){var c,d,e,f=a.getAttribute("from"),g=b(a).find('[xmlns="'+i.NS.MAM+'"]').length>0;if(!f||this.model.get("id")!==f.split("/")[0]||g)return!0;if("message"===a.nodeName)j.compose(this.onChatRoomMessage.bind(this),this.showStatusMessages.bind(this))(a);else if("presence"===a.nodeName&&(d=a.getElementsByTagName("x"),d.length>0))for(e=0;e<d.length;e++)if(c=d[e].getAttribute("xmlns"),c&&c.match(i.NS.MUC)){this.onChatRoomPresence(a);break}return!0},getRoomJIDAndNick:function(a){a=a||this.model.get("nick");var b=this.model.get("jid"),c=i.getNodeFromJid(b),d=i.getDomainFromJid(b);return c+"@"+d+(null!==a?"/"+a:"")},join:function(a,b,c){var d=e({from:s.connection.jid,to:this.getRoomJIDAndNick()}).c("x",{xmlns:i.NS.MUC});return"object"==typeof b&&Object.keys(b).length&&(d=d.c("history",b).up()),a&&d.cnode(i.xmlElement("password",[],a)),"undefined"!=typeof c&&null!==c&&d.up.cnode(c),this.handler||(this.handler=s.connection.addHandler(this.handleMUCStanza.bind(this))),this.model.set("connection_status",i.Status.CONNECTING),s.connection.send(d)},leave:function(a){var b=s.connection.getUniqueId(),c=e({type:"unavailable",id:b,from:s.connection.jid,to:this.getRoomJIDAndNick()});null!==a&&c.c("status",a),s.connection.addHandler(function(){this.model.set("connection_status",i.Status.DISCONNECTED)}.bind(this),null,"presence",null,b),s.connection.send(c)},renderConfigurationForm:function(a){var c=this.$el.find("form.chatroom-form"),d=b(a),e=d.find("field"),f=d.find("title").text(),g=d.find("instructions").text();c.find("span.spinner").remove(),c.append(b("<legend>").text(f)),g&&g!=f&&c.append(b('<p class="instructions">').text(g)),j.each(e,function(a){c.append(l.xForm2webForm(b(a),d))}),c.append('<input type="submit" class="save-submit" value="'+N("Save")+'"/>'),c.append('<input type="button" class="cancel-submit" value="'+N("Cancel")+'"/>'),c.on("submit",this.saveConfiguration.bind(this)),c.find("input[type=button]").on("click",this.cancelConfiguration.bind(this))},sendConfiguration:function(a,b,d){var e=c({to:this.model.get("jid"),type:"set"}).c("query",{xmlns:i.NS.MUC_OWNER}).c("x",{xmlns:i.NS.XFORM,type:"submit"});return j.each(a,function(a){e.cnode(a).up()}),s.connection.sendIQ(e.tree(),b,d)},saveConfiguration:function(a){a.preventDefault();var c=this,d=b(a.target).find(":input:not([type=button]):not([type=submit])"),e=d.length,f=[];d.each(function(){f.push(l.webForm2xForm(this)),--e||c.sendConfiguration(f,c.onConfigSaved.bind(c),c.onErrorConfigSaved.bind(c))}),this.$el.find("div.chatroom-form-container").hide(function(){b(this).remove(),c.$el.find(".chat-area").show(),c.$el.find(".participants").show()})},onConfigSaved:function(a){},onErrorConfigSaved:function(a){this.showStatusNotification(N("An error occurred while trying to save the form."))},cancelConfiguration:function(a){a.preventDefault();var c=this;this.$el.find("div.chatroom-form-container").hide(function(){b(this).remove(),c.$el.find(".chat-area").show(),c.$el.find(".participants").show()})},configureChatRoom:function(a){a.preventDefault(),this.$el.find("div.chatroom-form-container").length||(this.$(".chat-body").children().hide(),this.$(".chat-body").append(b('<div class="chatroom-form-container"><form class="chatroom-form"><span class="spinner centered"/></form></div>')),s.connection.sendIQ(c({to:this.model.get("jid"),type:"get"}).c("query",{xmlns:i.NS.MUC_OWNER}).tree(),this.renderConfigurationForm.bind(this)))},submitPassword:function(a){a.preventDefault();var b=this.$el.find(".chatroom-form").find("input[type=password]").val();this.$el.find(".chatroom-form-container").replaceWith('<span class="spinner centered"/>'),this.join(b)},renderPasswordForm:function(){this.$(".chat-body").children().hide(),this.$("span.centered.spinner").remove(),this.$(".chat-body").append(s.templates.chatroom_password_form({heading:N("This chatroom requires a password"),label_password:N("Password: "),label_submit:N("Submit")})),this.$(".chatroom-form").on("submit",this.submitPassword.bind(this))},showDisconnectMessage:function(a){this.$(".chat-area").hide(),this.$(".participants").hide(),this.$("span.centered.spinner").remove(),this.$(".chat-body").append(b("<p>"+a+"</p>"))},infoMessages:{100:N("This room is not anonymous"),102:N("This room now shows unavailable members"),103:N("This room does not show unavailable members"),104:N("Non-privacy-related room configuration has changed"),170:N("Room logging is now enabled"),171:N("Room logging is now disabled"),172:N("This room is now non-anonymous"),173:N("This room is now semi-anonymous"),174:N("This room is now fully-anonymous"),201:N("A new room has been created")},disconnectMessages:{301:N("You have been banned from this room"),307:N("You have been kicked from this room"),321:N("You have been removed from this room because of an affiliation change"),322:N("You have been removed from this room because the room has changed to members-only and you're not a member"),332:N("You have been removed from this room because the MUC (Multi-user chat) service is being shut down.")},actionInfoMessages:{301:O("<strong>%1$s</strong> has been banned"),303:O("<strong>%1$s</strong>'s nickname has changed"),307:O("<strong>%1$s</strong> has been kicked out"),321:O("<strong>%1$s</strong> has been removed because of an affiliation change"),322:O("<strong>%1$s</strong> has been removed for not being a member")},newNicknameMessages:{210:O("Your nickname has been automatically changed to: <strong>%1$s</strong>"),303:O("Your nickname has been changed to: <strong>%1$s</strong>")},showStatusMessages:function(a,c){var d=b(a),e=[],f=[],g=[];if(d.find('x[xmlns="'+i.NS.MUC_USER+'"]').each(function(a,h){var k=b(h).find("item");i.getBareJidFromJid(k.attr("jid"))===s.bare_jid&&"owner"===k.attr("affiliation")&&this.$el.find("a.configure-chatroom-button").show(),b(h).find("item reason").each(function(a,c){b(c).text()&&g.push(b(c).text())}),b(h).find("status").each(function(a,g){var h=g.getAttribute("code"),l=i.unescapeNode(i.getResourceFromJid(d.attr("from")));c&&"210"===h?f.push(N(this.newNicknameMessages[h],l)):c&&"303"===h?f.push(N(this.newNicknameMessages[h],k.attr("nick"))):c&&j.contains(j.keys(this.disconnectMessages),h)?e.push(this.disconnectMessages[h]):!c&&j.contains(j.keys(this.actionInfoMessages),h)?f.push(N(this.actionInfoMessages[h],l)):j.contains(j.keys(this.infoMessages),h)?f.push(this.infoMessages[h]):"110"!==h&&b(g).text()&&f.push(b(g).text())}.bind(this))}.bind(this)),e.length>0){for(u=0;u<e.length;u++)this.showDisconnectMessage(e[u]);for(u=0;u<g.length;u++)this.showDisconnectMessage(N('The reason given is: "'+g[u]+'"'),!0);return void this.model.set("connection_status",i.Status.DISCONNECTED)}for(u=0;u<f.length;u++)this.$content.append(s.templates.info({message:f[u]}));for(u=0;u<g.length;u++)this.showStatusNotification(N('The reason given is: "'+g[u]+'"'),!0);return this.scrollDown(),a},showErrorMessage:function(a){"auth"==a.attr("type")?a.find("not-authorized").length?this.renderPasswordForm():a.find("registration-required").length?this.showDisconnectMessage(N("You are not on the member list of this room")):a.find("forbidden").length&&this.showDisconnectMessage(N("You have been banned from this room")):"modify"==a.attr("type")?a.find("jid-malformed").length&&this.showDisconnectMessage(N("No nickname was specified")):"cancel"==a.attr("type")&&(a.find("not-allowed").length?this.showDisconnectMessage(N("You are not allowed to create new rooms")):a.find("not-acceptable").length?this.showDisconnectMessage(N("Your nickname doesn't conform to this room's policies")):a.find("conflict").length?this.showDisconnectMessage(N("Your nickname is already taken")):a.find("item-not-found").length?this.showDisconnectMessage(N("This room does not (yet) exist")):a.find("service-unavailable").length&&this.showDisconnectMessage(N("This room has reached it's maximum number of occupants")))},onChatRoomPresence:function(a){var c,d=b(a),e=this.model.get("nick");"error"===d.attr("type")?(this.model.set("connection_status",i.Status.DISCONNECTED),this.showErrorMessage(d.find("error"))):(c=d.find("status[code='110']").length||d.attr("from")==this.model.get("id")+"/"+i.escapeNode(e),this.model.get("connection_status")!==i.Status.CONNECTED&&(this.model.set("connection_status",i.Status.CONNECTED),this.$("span.centered.spinner").remove(),this.$el.find(".chat-body").children().show()),this.showStatusMessages(a,c)),this.occupantsview.updateOccupantsOnPresence(a)},onChatRoomMessage:function(a){var c,d=b(a),e=d.find('result[xmlns="'+i.NS.MAM+'"]').attr("id"),f=d.find("delay").length>0,g=d.find("forwarded");g.length&&(d=g.children("message"),c=g.children("delay"),f=c.length>0);var h=d.children("body").text(),j=d.attr("from"),k=d.attr("id"),l=i.getResourceFromJid(j),m=l&&i.unescapeNode(l)||"",n=d.children("subject").text();return k&&this.model.messages.findWhere({msgid:k})?!0:(n&&(this.$el.find(".chatroom-topic").text(n).attr("title",n),
this.$content.append(s.templates.info({message:N("Topic set by %1$s to: %2$s",m,n)}))),""===m?!0:(this.model.createMessage(d,c,e),!f&&m!==this.model.get("nick")&&new RegExp("\\b"+this.model.get("nick")+"\\b").test(h)&&s.playNotification(),m!==this.model.get("nick")&&s.emit("message",a),!0))}}),this.ChatBoxes=Backbone.Collection.extend({model:s.ChatBox,comparator:"time_opened",registerMessageHandler:function(){s.connection.addHandler(function(a){return this.onMessage(a),!0}.bind(this),null,"message","chat"),s.connection.addHandler(function(a){return this.onInvite(a),!0}.bind(this),"jabber:x:conference","message")},onConnected:function(){this.browserStorage=new Backbone.BrowserStorage[s.storage](m("converse.chatboxes-"+s.bare_jid)),this.registerMessageHandler(),this.fetch({add:!0,success:function(a,b){a.each(function(a){"controlbox"===a.get("id")||a.get("minimized")||a.trigger("show")}),j.include(j.pluck(b,"id"),"controlbox")||this.add({id:"controlbox",box_id:"controlbox"}),this.get("controlbox").save({connected:!0})}.bind(this)})},isOnlyChatStateNotification:function(a){return 0===a.find("body").length&&(0!==a.find(F).length||0!==a.find(G).length||0!==a.find(E).length||0!==a.find(H).length||0!==a.find(I).length)},onInvite:function(a){var c,d=b(a),e=d.children('x[xmlns="jabber:x:conference"]'),f=i.getBareJidFromJid(d.attr("from")),g=e.attr("jid"),h=e.attr("reason"),k=s.roster.get(f);if(c=h?confirm(N(O('%1$s has invited you to join a chat room: %2$s, and left the following reason: "%3$s"'),k.get("fullname"),g,h)):confirm(N(O("%1$s has invited you to join a chat room: %2$s"),k.get("fullname"),g)),c===!0){var l=s.chatboxviews.showChat({id:g,jid:g,name:i.unescapeNode(i.getNodeFromJid(g)),nick:i.unescapeNode(i.getNodeFromJid(s.connection.jid)),chatroom:!0,box_id:m(g),password:e.attr("password")});j.contains([i.Status.CONNECTING,i.Status.CONNECTED],l.get("connection_status"))||s.chatboxviews.get(g).join(null)}},onMessage:function(a){var c,d,e,f,g,h,j,k,l,m=b(a),n=m.attr("from"),o=m.attr("to"),p=i.getResourceFromJid(o),q=m.find('result[xmlns="'+i.NS.MAM+'"]').attr("id");return p&&p!==s.resource?(s.log("Ignore incoming message intended for a different resource: "+o,"info"),!0):n===s.connection.jid?(s.log("Ignore incoming message sent from this client's JID: "+n,"info"),!0):(d=m.find("forwarded"),d.length&&(m=d.children("message"),e=d.children("delay"),n=m.attr("from"),o=m.attr("to")),f=i.getBareJidFromJid(n),g=i.getResourceFromJid(n),h=f==s.bare_jid,j=m.attr("id"),h?(c=i.getBareJidFromJid(o),l=i.getResourceFromJid(o)):(c=f,l=g),(k=this.getChatBox(c,m.find("body").length>0))?j&&k.messages.findWhere({msgid:j})?!0:(this.isOnlyChatStateNotification(m)||h||d.length||s.playNotification(),k.receiveMessage(m,e,q),s.roster.addResource(c,l),s.emit("message",a),!0):!0)},getChatBox:function(a,b){var c=i.getBareJidFromJid(a),d=this.get(c);if(!d&&b){var e=s.roster.get(c);if(void 0===e)return void s.log("Could not get roster item for JID "+c,"error");d=this.create({id:c,jid:c,fullname:j.isEmpty(e.get("fullname"))?a:e.get("fullname"),image_type:e.get("image_type"),image:e.get("image"),url:e.get("url")})}return d}}),this.ChatBoxViews=Backbone.Overview.extend({initialize:function(){this.model.on("add",this.onChatBoxAdded,this),this.model.on("change:minimized",function(a){a.get("minimized")===!0?this.trimChats():this.trimChats(this.get(a.get("id")))},this)},_ensureElement:function(){if(this.el)this.setElement(j.result(this,"el"),!1);else{var a=b("#conversejs");a.length||(a=b('<div id="conversejs">'),b("body").append(a)),a.html(s.templates.chats_panel()),this.setElement(a,!1)}},onChatBoxAdded:function(a){var b=this.get(a.get("id"));b?(delete b.model,b.model=a,b.initialize()):(b=a.get("chatroom")?new s.ChatRoomView({model:a}):"controlbox"===a.get("box_id")?new s.ControlBoxView({model:a}):new s.ChatBoxView({model:a}),this.add(a.get("id"),b)),this.trimChats(b)},trimChats:function(a){if(!(s.no_trimming||this.model.length<=1)){var c,d=0,e=s.minimized_chats.$el,f=j.contains(this.model.pluck("minimized"),!0)?e.outerWidth(!0):0,g=a?a.$el.outerWidth(!0):0,h=a?a.model.get("id"):null,i=this.get("controlbox");d=i&&i.$el.is(":visible")?i.$el.outerWidth(!0):s.controlboxtoggle.$el.outerWidth(!0),j.each(this.getAll(),function(a){var b=a.model.get("id");"controlbox"!==b&&b!==h&&!a.model.get("minimized")&&a.$el.is(":visible")&&(g+=a.$el.outerWidth(!0))}),f+g+d>b("body").outerWidth(!0)&&(c=this.getOldestMaximizedChat(),c&&c.get("id")!==h&&c.minimize())}},getOldestMaximizedChat:function(){for(var a=0,b=this.model.sort().at(a);"controlbox"===b.get("id")||b.get("minimized")===!0;)if(a++,b=this.model.at(a),!b)return null;return b},closeAllChatBoxes:function(a){var b=[];return this.model.each(function(c){var d=c.get("id");(a||"controlbox"!==d)&&b.push(d)}),b.forEach(function(a){var b=this.get(a);b&&b.close()},this),this},showChat:function(a){var b=this.model.get(a.jid);return b||(b=this.model.create(a,{error:function(a,b){s.log(b.responseText)}})),b.get("minimized")?b.maximize():b.trigger("show"),b}}),this.MinimizedChatBoxView=Backbone.View.extend({tagName:"div",className:"chat-head",events:{"click .close-chatbox-button":"close","click .restore-chat":"restore"},initialize:function(){this.model.messages.on("add",function(a){a.get("message")&&this.updateUnreadMessagesCounter()},this),this.model.on("change:minimized",this.clearUnreadMessagesCounter,this),this.model.on("showReceivedOTRMessage",this.updateUnreadMessagesCounter,this),this.model.on("showSentOTRMessage",this.updateUnreadMessagesCounter,this)},render:function(){var a=j.extend(this.model.toJSON(),{tooltip:N("Click to restore this chat")});return this.model.get("chatroom")?(a.title=this.model.get("name"),this.$el.addClass("chat-head-chatroom")):(a.title=this.model.get("fullname"),this.$el.addClass("chat-head-chatbox")),this.$el.html(s.templates.trimmed_chat(a))},clearUnreadMessagesCounter:function(){this.model.set({num_unread:0}),this.render()},updateUnreadMessagesCounter:function(){this.model.set({num_unread:this.model.get("num_unread")+1}),this.render()},close:function(a){return a&&a.preventDefault&&a.preventDefault(),this.model.destroy(),s.emit("chatBoxClosed",this),this},restore:j.debounce(function(a){a&&a.preventDefault&&a.preventDefault(),this.model.messages.off("add",null,this),this.model.maximize()},200,!0)}),this.MinimizedChats=Backbone.Overview.extend({el:"#minimized-chats",events:{"click #toggle-minimized-chats":"toggle"},initialize:function(){this.initToggle(),this.model.on("add",this.onChanged,this),this.model.on("destroy",this.removeChat,this),this.model.on("change:minimized",this.onChanged,this),this.model.on("change:num_unread",this.updateUnreadMessagesCounter,this)},tearDown:function(){return this.model.off("add",this.onChanged),this.model.off("destroy",this.removeChat),this.model.off("change:minimized",this.onChanged),this.model.off("change:num_unread",this.updateUnreadMessagesCounter),this},initToggle:function(){this.toggleview=new s.MinimizedChatsToggleView({model:new s.MinimizedChatsToggle});var a=m("converse.minchatstoggle"+s.bare_jid);this.toggleview.model.id=a,this.toggleview.model.browserStorage=new Backbone.BrowserStorage[s.storage](a),this.toggleview.model.fetch()},render:function(){return 0===this.keys().length?this.$el.hide("fast"):1===this.keys().length&&this.$el.show("fast"),this.$el},toggle:function(a){a&&a.preventDefault&&a.preventDefault(),this.toggleview.model.save({collapsed:!this.toggleview.model.get("collapsed")}),this.$(".minimized-chats-flyout").toggle()},onChanged:function(a){"controlbox"!==a.get("id")&&a.get("minimized")?this.addChat(a):this.get(a.get("id"))&&this.removeChat(a)},addChat:function(a){var b=this.get(a.get("id"));if(!b||0===b.$el.parent().length){var c=new s.MinimizedChatBoxView({model:a});this.$(".minimized-chats-flyout").append(c.render()),this.add(a.get("id"),c),this.toggleview.model.set({num_minimized:this.keys().length}),this.render()}},removeChat:function(a){this.remove(a.get("id")),this.toggleview.model.set({num_minimized:this.keys().length}),this.render()},updateUnreadMessagesCounter:function(){var a,b=this.model.pluck("num_unread"),c=0;for(a=0;a<b.length;a++)c+=b[a];this.toggleview.model.set({num_unread:c}),this.render()}}),this.MinimizedChatsToggle=Backbone.Model.extend({initialize:function(){this.set({collapsed:this.get("collapsed")||!1,num_minimized:this.get("num_minimized")||0,num_unread:this.get("num_unread")||0})}}),this.MinimizedChatsToggleView=Backbone.View.extend({el:"#toggle-minimized-chats",initialize:function(){this.model.on("change:num_minimized",this.render,this),this.model.on("change:num_unread",this.render,this),this.$flyout=this.$el.siblings(".minimized-chats-flyout")},render:function(){return this.$el.html(s.templates.toggle_chats(j.extend(this.model.toJSON(),{Minimized:N("Minimized")}))),this.model.get("collapsed")?this.$flyout.hide():this.$flyout.show(),this.$el}}),this.RosterContact=Backbone.Model.extend({initialize:function(a,b){var c=a.jid,d=i.getBareJidFromJid(c),e=i.getResourceFromJid(c);a.jid=d,this.set(j.extend({id:d,jid:d,fullname:d,chat_status:"offline",user_id:i.getNodeFromJid(c),resources:e?[e]:[],groups:[],image_type:"image/png",image:"iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAIAAABt+uBvAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3gwHCy455JBsggAABkJJREFUeNrtnM1PE1sUwHvvTD8otWLHST/Gimi1CEgr6M6FEWuIBo2pujDVsNDEP8GN/4MbN7oxrlipG2OCgZgYlxAbkRYw1KqkIDRCSkM7nXvvW8x7vjyNeQ9m7p1p3z1LQk/v/Dhz7vkEXL161cHl9wI5Ag6IA+KAOCAOiAPigDggLhwQB2S+iNZ+PcYY/SWEEP2HAAAIoSAIoihCCP+ngDDGtVotGAz29/cfOXJEUZSOjg6n06lp2sbGRqlUWlhYyGazS0tLbrdbEASrzgksyeYJId3d3el0uqenRxRFAAAA4KdfIIRgjD9+/Pj8+fOpqSndslofEIQwHA6Pjo4mEon//qmFhYXHjx8vLi4ihBgDEnp7e9l8E0Jo165dQ0NDd+/eDYVC2/qsJElDQ0OEkKWlpa2tLZamxAhQo9EIBoOjo6MXL17csZLe3l5FUT59+lQul5l5JRaAVFWNRqN37tw5ceKEQVWRSOTw4cOFQuHbt2+iKLYCIISQLMu3b99OJpOmKAwEAgcPHszn8+vr6wzsiG6UQQhxuVyXLl0aGBgwUW0sFstkMl6v90fo1KyAMMYDAwPnzp0zXfPg4GAqlWo0Gk0MiBAiy/L58+edTqf5Aa4onj59OhaLYYybFRCEMBaL0fNxBw4cSCQStN0QRUBut3t4eJjq6U+dOiVJElVPRBFQIBDo6+ujCqirqyscDlONGykC2lYyYSR6pBoQQapHZwAoHo/TuARYAOrs7GQASFEUqn6aIiBJkhgA6ujooFpUo6iaTa7koFwnaoWadLNe81tbWwzoaJrWrICWl5cZAFpbW6OabVAEtLi4yABQsVjUNK0pAWWzWQaAcrlcswKanZ1VVZUqHYRQEwOq1Wpv3ryhCmh6erpcLjdrNl+v1ycnJ+l5UELI27dvv3//3qxxEADgy5cvExMT9Mznw4cPtFtAdAPFarU6Pj5eKpVM17yxsfHy5cvV1VXazXu62gVBKBQKT58+rdVqJqrFGL948eLdu3dU8/g/H4FBUaJYLAqC0NPTY9brMD4+PjY25mDSracOCABACJmZmXE6nUePHjWu8NWrV48ePSKEsGlAs7Agfd5nenq6Wq0mk0kjDzY2NvbkyRMIIbP2PLvhBUEQ8vl8NpuNx+M+n29bzhVjvLKycv/+/YmJCcazQuwA6YzW1tYmJyf1SY+2trZ/rRk1Go1SqfT69esHDx4UCgVmNaa/zZ/9ABUhRFXVYDB48uTJeDweiUQkSfL7/T9MA2NcqVTK5fLy8vL8/PzU1FSxWHS5XJaM4wGr9sUwxqqqer3eUCgkSZJuUBBCfTRvc3OzXC6vrKxUKhWn02nhCJ5lM4oQQo/HgxD6+vXr58+fHf8sDOp+HQDg8XgclorFU676dKLlo6yWRdItIBwQB8QBcUCtfosRQjRNQwhhjPUC4w46WXryBSHU1zgEQWBz99EFhDGu1+t+v//48ePxeFxRlD179ng8nh0Efgiher2+vr6ur3HMzMysrq7uTJVdACGEurq6Ll++nEgkPB7Pj9jPoDHqOxyqqubz+WfPnuVyuV9XPeyeagAAAoHArVu3BgcHab8CuVzu4cOHpVKJUnfA5GweY+xyuc6cOXPv3r1IJMLAR8iyPDw8XK/Xi8Wiqqqmm5KZgBBC7e3tN27cuHbtGuPVpf7+/lAoNDs7W61WzfVKpgHSSzw3b95MpVKW3MfRaDQSiczNzVUqFRMZmQOIEOL1eq9fv3727FlL1t50URRFluX5+flqtWpWEGAOIFEUU6nUlStXLKSjy759+xwOx9zcnKZpphzGHMzhcDiTydgk9r1w4YIp7RPTAAmCkMlk2FeLf/tIEKbTab/fbwtAhJBoNGrutpNx6e7uPnTokC1eMU3T0um0DZPMkZER6wERQnw+n/FFSxpy7Nix3bt3WwwIIcRgIWnHkkwmjecfRgGx7DtuV/r6+iwGhDHev3+/bQF1dnYaH6E2CkiWZdsC2rt3r8WAHA5HW1ubbQGZcjajgOwTH/4qNko1Wlg4IA6IA+KAOKBWBUQIsfNojyliKIoRRfH9+/dut9umf3wzpoUNNQ4BAJubmwz+ic+OxefzWWlBhJD29nbug7iT5sIBcUAcEAfEAXFAHBAHxOVn+QMrmWpuPZx12gAAAABJRU5ErkJggg==",status:""},a)),this.on("destroy",function(){this.removeFromRoster()}.bind(this))},subscribe:function(a){this.save("ask","subscribe");var b=e({to:this.get("jid"),type:"subscribe"});a&&""!==a&&b.c("status").t(a).up();var c=s.xmppstatus.get("fullname");return c&&""!==c&&b.c("nick",{xmlns:i.NS.NICK}).t(c).up(),s.connection.send(b),this},ackSubscribe:function(){s.connection.send(e({type:"subscribe",to:this.get("jid")}))},ackUnsubscribe:function(a){s.connection.send(e({type:"unsubscribe",to:this.get("jid")})),this.destroy()},unauthorize:function(a){return s.rejectPresenceSubscription(this.get("jid"),a),this},authorize:function(a){var b=e({to:this.get("jid"),type:"subscribed"});return a&&""!==a&&b.c("status").t(a),s.connection.send(b),this},removeResource:function(a){var b,c=this.get("resources");return a&&(b=j.indexOf(c,a),-1!==b&&(c.splice(b,1),this.save({resources:c}))),c.length},removeFromRoster:function(a){var b=c({type:"set"}).c("query",{xmlns:i.NS.ROSTER}).c("item",{jid:this.get("jid"),subscription:"remove"});return s.connection.sendIQ(b,a,a),this},showInRoster:function(){var a=this.get("chat_status");return s.show_only_online_users&&"online"!==a||s.hide_offline_users&&"offline"===a?"subscribe"===this.get("ask")||"from"===this.get("subscription")||this.get("requesting")===!0?!0:!1:!0}}),this.RosterContactView=Backbone.View.extend({tagName:"dd",events:{"click .accept-xmpp-request":"acceptRequest","click .decline-xmpp-request":"declineRequest","click .open-chat":"openChat","click .remove-xmpp-contact":"removeContact"},initialize:function(){this.model.on("change",this.render,this),this.model.on("remove",this.remove,this),this.model.on("destroy",this.remove,this),this.model.on("open",this.openChat,this)},render:function(){if(!this.model.showInRoster())return this.$el.hide(),this;"none"===this.$el[0].style.display&&this.$el.show();var a=this.model,b=a.get("ask"),c=a.get("chat_status"),d=a.get("requesting"),e=a.get("subscription"),f=["current-xmpp-contact","pending-xmpp-contact","requesting-xmpp-contact"].concat(j.keys(R));return j.each(f,function(a){-1!==this.el.className.indexOf(a)&&this.$el.removeClass(a)},this),this.$el.addClass(c).data("status",c),"subscribe"===b||"from"===e?(this.$el.addClass("pending-xmpp-contact"),this.$el.html(s.templates.pending_contact(j.extend(a.toJSON(),{desc_remove:N("Click to remove this contact"),allow_chat_pending_contacts:s.allow_chat_pending_contacts})))):d===!0?(this.$el.addClass("requesting-xmpp-contact"),this.$el.html(s.templates.requesting_contact(j.extend(a.toJSON(),{desc_accept:N("Click to accept this contact request"),desc_decline:N("Click to decline this contact request"),allow_chat_pending_contacts:s.allow_chat_pending_contacts}))),s.controlboxtoggle.showControlBox()):("both"===e||"to"===e)&&(this.$el.addClass("current-xmpp-contact"),this.$el.removeClass(j.without(["both","to"],e)[0]).addClass(e),this.$el.html(s.templates.roster_item(j.extend(a.toJSON(),{desc_status:R[c||"offline"],desc_chat:N("Click to chat with this contact"),desc_remove:N("Click to remove this contact"),title_fullname:N("Name"),allow_contact_removal:s.allow_contact_removal})))),this},openChat:function(a){return a&&a.preventDefault&&a.preventDefault(),s.chatboxviews.showChat(this.model.attributes)},removeContact:function(a){if(a&&a.preventDefault&&a.preventDefault(),s.allow_contact_removal){var b=confirm(N("Are you sure you want to remove this contact?"));if(b===!0){var d=c({type:"set"}).c("query",{xmlns:i.NS.ROSTER}).c("item",{jid:this.model.get("jid"),subscription:"remove"});s.connection.sendIQ(d,function(a){this.model.destroy(),this.remove()}.bind(this),function(a){alert(N("Sorry, there was an error while trying to remove "+name+" as a contact.")),s.log(a)})}}},acceptRequest:function(a){a&&a.preventDefault&&a.preventDefault(),s.roster.sendContactAddIQ(this.model.get("jid"),this.model.get("fullname"),[],function(){this.model.authorize().subscribe()}.bind(this))},declineRequest:function(a){a&&a.preventDefault&&a.preventDefault();var b=confirm(N("Are you sure you want to decline this contact request?"));return b===!0&&this.model.unauthorize().destroy(),this}}),this.RosterContacts=Backbone.Collection.extend({model:s.RosterContact,comparator:function(a,b){var c,d,e=a.get("chat_status")||"offline",f=b.get("chat_status")||"offline";return r[e]===r[f]?(c=a.get("fullname").toLowerCase(),d=b.get("fullname").toLowerCase(),d>c?-1:c>d?1:0):r[e]<r[f]?-1:1},subscribeToSuggestedItems:function(a){return b(a).find("item").each(function(a,c){b(this);"add"===this.getAttribute("action")&&s.roster.addAndSubscribe(this.getAttribute("jid"),null,s.xmppstatus.get("fullname"))}),!0},isSelf:function(a){return i.getBareJidFromJid(a)===i.getBareJidFromJid(s.connection.jid)},addAndSubscribe:function(a,b,c,d,e){this.addContact(a,b,c,e).done(function(a){a instanceof s.RosterContact&&a.subscribe(d)})},sendContactAddIQ:function(a,b,d,e,f){b=j.isEmpty(b)?a:b;var g=c({type:"set"}).c("query",{xmlns:i.NS.ROSTER}).c("item",{jid:a,name:b});j.map(d,function(a){g.c("group").t(a).up()}),s.connection.sendIQ(g,e,f)},addContact:function(a,c,d,e){var f=new b.Deferred;return d=d||[],c=j.isEmpty(c)?a:c,this.sendContactAddIQ(a,c,d,function(b){var g=this.create(j.extend({ask:void 0,fullname:c,groups:d,jid:a,requesting:!1,subscription:"none"},e),{sort:!1});f.resolve(g)}.bind(this),function(a){alert(N("Sorry, there was an error while trying to add "+c+" as a contact.")),s.log(a),f.resolve(a)}),f.promise()},addResource:function(a,b){var c,d=this.get(a);d&&(c=d.get("resources"),c?-1==j.indexOf(c,b)&&(c.push(b),d.set({resources:c})):d.set({resources:[b]}))},subscribeBack:function(a){var b=this.get(a);b instanceof s.RosterContact?b.authorize().subscribe():this.addContact(a,"",[],{subscription:"from"}).done(function(a){a instanceof s.RosterContact&&a.authorize().subscribe()})},getNumOnlineContacts:function(){var a,b=0,c=["offline","unavailable"],d=this.models,e=d.length;for(s.show_only_online_users&&(c=j.union(c,["dnd","xa","away"])),a=0;e>a;a++)-1===j.indexOf(c,d[a].get("chat_status"))&&b++;return b},onRosterPush:function(a){var d=a.getAttribute("id"),e=a.getAttribute("from");return e&&""!==e&&e!=s.bare_jid?(s.connection.send(c({type:"error",id:d,from:s.connection.jid}).c("error",{type:"cancel"}).c("service-unavailable",{xmlns:i.NS.ROSTER})),!0):(s.connection.send(c({type:"result",id:d,from:s.connection.jid})),b(a).children("query").find("item").each(function(a,b){this.updateContact(b)}.bind(this)),!0)},fetchFromServer:function(a,b){var d=c({type:"get",id:s.connection.getUniqueId("roster")}).c("query",{xmlns:i.NS.ROSTER});return s.connection.sendIQ(d,this.onReceivedFromServer.bind(this))},onReceivedFromServer:function(a){s.emit("roster",a),b(a).children("query").find("item").each(function(a,b){this.updateContact(b)}.bind(this)),s.initial_presence_sent||(s.initial_presence_sent=1,s.xmppstatus.sendPresence())},updateContact:function(a){var c=a.getAttribute("jid");if(!this.isSelf(c)){var d=[],e=this.get(c),f=a.getAttribute("ask"),g=a.getAttribute("subscription");if(b.map(a.getElementsByTagName("group"),function(a){d.push(i.getText(a))}),e){if("remove"===g)return e.destroy();e.save({subscription:g,ask:f,requesting:null,groups:d})}else{if("none"===g&&null===f||"remove"===g)return;this.create({ask:f,fullname:a.getAttribute("name")||c,groups:d,jid:c,subscription:g},{sort:!1})}}},createContactFromVCard:function(a,b,c,d,e,f){var g=i.getBareJidFromJid(b);this.create({jid:g,subscription:"none",ask:null,requesting:!0,fullname:c||g,image:d,image_type:e,url:f,vcard_updated:k().format()})},handleIncomingSubscription:function(a){var b=i.getBareJidFromJid(a),c=this.get(b);s.allow_contact_requests||s.rejectPresenceSubscription(a,N("This client does not allow presence subscriptions")),s.auto_subscribe?c&&"to"==c.get("subscription")?c.authorize():this.subscribeBack(b):c?"none"!=c.get("subscription")?c.authorize():"subscribe"==c.get("ask")&&c.authorize():c||s.getVCard(b,this.createContactFromVCard.bind(this),function(a,b){s.log("Error while retrieving vcard for "+b),this.createContactFromVCard.call(this,a,b)}.bind(this))},presenceHandler:function(a){var c=b(a),d=a.getAttribute("type");if("error"===d)return!0;var e=a.getAttribute("from"),f=i.getBareJidFromJid(e),g=i.getResourceFromJid(e),h=c.find("show").text()||"online",j=c.find("status"),k=this.get(f);if(this.isSelf(f))return void(s.connection.jid!==e&&"unavailable"!==d&&(s.xmppstatus.save({status:h}),j.length&&s.xmppstatus.save({status_message:j.text()})));if(0!==(c.find("x").attr("xmlns")||"").indexOf(i.NS.MUC))if(k&&j.text()!=k.get("status")&&k.save({status:j.text()}),"subscribed"===d&&k)k.ackSubscribe();else if("unsubscribed"===d&&k)k.ackUnsubscribe();else{if("unsubscribe"===d)return;"subscribe"===d?this.handleIncomingSubscription(e):"unavailable"===d&&k?0===k.removeResource(g)&&k.save({chat_status:"offline"}):k&&(this.addResource(f,g),k.save({chat_status:h}))}}}),this.RosterGroup=Backbone.Model.extend({initialize:function(a,b){this.set(j.extend({description:S,state:L},a)),this.contacts=new s.RosterContacts}}),this.RosterGroupView=Backbone.Overview.extend({tagName:"dt",className:"roster-group",events:{"click a.group-toggle":"toggle"},initialize:function(){this.model.contacts.on("add",this.addContact,this),this.model.contacts.on("change:subscription",this.onContactSubscriptionChange,this),this.model.contacts.on("change:requesting",this.onContactRequestChange,this),this.model.contacts.on("change:chat_status",function(a){this.model.contacts.sort(),this.positionContact(a).render()},this),this.model.contacts.on("destroy",this.onRemove,this),this.model.contacts.on("remove",this.onRemove,this),s.roster.on("change:groups",this.onContactGroupChange,this)},render:function(){return this.$el.attr("data-group",this.model.get("name")),this.$el.html(b(s.templates.group_header({label_group:this.model.get("name"),desc_group_toggle:this.model.get("description"),toggle_state:this.model.get("state")}))),this},addContact:function(a){var b=new s.RosterContactView({model:a});this.add(a.get("id"),b),b=this.positionContact(a).render(),a.showInRoster()&&(this.model.get("state")===M?("none"!==b.$el[0].style.display&&b.$el.hide(),this.$el.is(":visible")||this.$el.show()):"block"!==this.$el[0].style.display&&this.show())},positionContact:function(a){var b=this.get(a.get("id")),c=this.model.contacts.indexOf(a);return b.$el.detach(),0===c?this.$el.after(b.$el):c==this.model.contacts.length-1?this.$el.nextUntil("dt").last().after(b.$el):this.$el.nextUntil("dt").eq(c).before(b.$el),b},show:function(){this.$el.show(),j.each(this.getAll(),function(a){a.model.showInRoster()&&a.$el.show()})},hide:function(){this.$el.nextUntil("dt").addBack().hide()},filter:function(a){var b;0===a.length?(this.model.get("state")===L&&this.model.contacts.each(function(a){a.showInRoster()&&this.get(a.get("id")).$el.show()}.bind(this)),this.showIfNecessary()):(a=a.toLowerCase(),b=this.model.contacts.filter(n.not("fullname",a)),b.length===this.model.contacts.length?this.hide():(j.each(b,function(a){this.get(a.get("id")).$el.hide()}.bind(this)),j.each(this.model.contacts.reject(n.not("fullname",a)),function(a){this.get(a.get("id")).$el.show()}.bind(this)),this.showIfNecessary()))},showIfNecessary:function(){!this.$el.is(":visible")&&this.model.contacts.length>0&&this.$el.show()},toggle:function(a){a&&a.preventDefault&&a.preventDefault();var c=b(a.target);c.hasClass("icon-opened")?(this.$el.nextUntil("dt").slideUp(),this.model.save({state:M}),c.removeClass("icon-opened").addClass("icon-closed")):(c.removeClass("icon-closed").addClass("icon-opened"),this.model.save({state:L}),this.filter(s.rosterview.$(".roster-filter").val(),s.rosterview.$(".filter-type").val()))},onContactGroupChange:function(a){var b=j.contains(a.get("groups"),this.model.get("name")),c=a.get("id"),d=!this.get(c);b&&!d?this.model.contacts.remove(c):!b&&d&&this.addContact(a)},onContactSubscriptionChange:function(a){this.model.get("name")===U&&"from"!==a.get("subscription")&&this.model.contacts.remove(a.get("id"))},onContactRequestChange:function(a){this.model.get("name")!==V||a.get("requesting")||this.model.contacts.remove(a.get("id"))},onRemove:function(a){this.remove(a.get("id")),0===this.model.contacts.length&&this.$el.hide()}}),this.RosterGroups=Backbone.Collection.extend({model:s.RosterGroup,comparator:function(a,b){a=a.get("name"),b=b.get("name");var c=j.keys(Z),d=j.contains(c,a),e=j.contains(c,b);return d||e?d&&e?Z[a]<Z[b]?-1:Z[a]>Z[b]?1:0:!d&&e?b===T?1:-1:d&&!e?a===T?-1:1:void 0:a.toLowerCase()<b.toLowerCase()?-1:a.toLowerCase()>b.toLowerCase()?1:0}}),this.RosterView=Backbone.Overview.extend({tagName:"div",id:"converse-roster",events:{"keydown .roster-filter":"liveFilter","click .onX":"clearFilter","mousemove .x":"togglePointer","change .filter-type":"changeFilterType"},initialize:function(){this.roster_handler_ref=this.registerRosterHandler(),this.rosterx_handler_ref=this.registerRosterXHandler(),this.presence_ref=this.registerPresenceHandler(),s.roster.on("add",this.onContactAdd,this),s.roster.on("change",this.onContactChange,this),s.roster.on("destroy",this.update,this),s.roster.on("remove",this.update,this),this.model.on("add",this.onGroupAdd,this),this.model.on("reset",this.reset,this),this.$roster=b('<dl class="roster-contacts" style="display: none;"></dl>')},unregisterHandlers:function(){s.connection.deleteHandler(this.roster_handler_ref),delete this.roster_handler_ref,s.connection.deleteHandler(this.rosterx_handler_ref),delete this.rosterx_handler_ref,s.connection.deleteHandler(this.presence_ref),delete this.presence_ref},update:j.debounce(function(){var a=b("#online-count");return a.text("("+s.roster.getNumOnlineContacts()+")"),a.is(":visible")||a.show(),0===this.$roster.parent().length&&this.$el.append(this.$roster.show()),this.showHideFilter()},s.animate?100:0),render:function(){return this.$el.html(s.templates.roster({placeholder:N("Type to filter"),label_contacts:X,label_groups:Y})),s.allow_contact_requests||this.$el.addClass("no-contact-requests"),this},fetch:function(){return this.model.fetch({silent:!0,success:function(a,b,c){0!==a.length&&this.positionFetchedGroups(a,b,c),s.roster.fetch({add:!0,success:function(a){a.length>0?s.initial_presence_sent=1:s.roster.fetchFromServer()}})}.bind(this)}),this},changeFilterType:function(a){a&&a.preventDefault&&a.preventDefault(),this.clearFilter(),this.filter(this.$(".roster-filter").val(),a.target.value)},tog:function(a){return a?"addClass":"removeClass"},togglePointer:function(a){a&&a.preventDefault&&a.preventDefault();var c=a.target;b(c)[this.tog(c.offsetWidth-18<a.clientX-c.getBoundingClientRect().left)]("onX")},filter:function(a,b){a=a.toLowerCase(),"groups"===b?j.each(this.getAll(),function(b,c){-1===b.model.get("name").toLowerCase().indexOf(a.toLowerCase())?b.hide():b.model.contacts.length>0&&b.show()}):j.each(this.getAll(),function(c){c.filter(a,b)})},liveFilter:j.debounce(function(a){a&&a.preventDefault&&a.preventDefault();var b=this.$(".roster-filter"),c=b.val(),d=this.$(".filter-type").val();b[this.tog(c)]("x"),this.filter(c,d)},300),clearFilter:function(a){a&&a.preventDefault&&(a.preventDefault(),b(a.target).removeClass("x onX").val("")),this.filter("")},showHideFilter:function(){if(this.$el.is(":visible")){var a=this.$(".roster-filter"),b=this.$(".filter-type"),c=a.is(":visible");if(!(c&&a.val().length>0))return this.$roster.hasScrollBar()?c||(a.show(),b.show()):(a.hide(),b.hide()),this}},reset:function(){return s.roster.reset(),this.removeAll(),this.$roster=b('<dl class="roster-contacts" style="display: none;"></dl>'),this.render().update(),this},registerRosterHandler:function(){s.connection.addHandler(s.roster.onRosterPush.bind(s.roster),i.NS.ROSTER,"iq","set")},registerRosterXHandler:function(){var a=0;s.connection.addHandler(function(c){return window.setTimeout(function(){s.connection.flush(),s.roster.subscribeToSuggestedItems.bind(s.roster)(c)},a),a+=250*b(c).find("item").length,!0},i.NS.ROSTERX,"message",null)},registerPresenceHandler:function(){s.connection.addHandler(function(a){return s.roster.presenceHandler(a),!0}.bind(this),null,"presence",null)},onGroupAdd:function(a){var b=new s.RosterGroupView({model:a});this.add(a.get("name"),b.render()),this.positionGroup(b)},onContactAdd:function(a){this.addRosterContact(a).update(),a.get("vcard_updated")||s.getVCard(a.get("jid"))},onContactChange:function(a){this.updateChatBox(a).update(),j.has(a.changed,"subscription")&&("from"==a.changed.subscription?this.addContactToGroup(a,U):j.contains(["both","to"],a.get("subscription"))&&this.addExistingContact(a)),j.has(a.changed,"ask")&&"subscribe"==a.changed.ask&&this.addContactToGroup(a,U),j.has(a.changed,"subscription")&&"true"==a.changed.requesting&&this.addContactToGroup(a,V),this.liveFilter()},updateChatBox:function(a){var b=s.chatboxes.get(a.get("jid")),c={};return b?(j.has(a.changed,"chat_status")&&(c.chat_status=a.get("chat_status")),j.has(a.changed,"status")&&(c.status=a.get("status")),b.save(c),this):this},positionFetchedGroups:function(a,b,c){a.sort(),a.each(function(a,b){var c=this.get(a.get("name"));c||(c=new s.RosterGroupView({model:a}),this.add(a.get("name"),c.render())),0===b?this.$roster.append(c.$el):this.appendGroup(c)}.bind(this))},positionGroup:function(a){var c=this.$roster.find(".roster-group"),d=c.length?this.model.indexOf(a.model):0;return 0===d?this.$roster.prepend(a.$el):d==this.model.length-1?this.appendGroup(a):b(c.eq(d)).before(a.$el),this},appendGroup:function(a){var b=this.$roster.find(".roster-group").last(),c=b.siblings("dd");return c.length>0?c.last().after(a.$el):b.after(a.$el),this},getGroup:function(a){var b=this.get(a);return b?b.model:this.model.create({name:a,id:m(a)})},addContactToGroup:function(a,b){this.getGroup(b).contacts.add(a)},addExistingContact:function(a){var b;s.roster_groups?(b=a.get("groups"),0===b.length&&(b=[W])):b=[T],j.each(b,j.bind(this.addContactToGroup,this,a))},addRosterContact:function(a){return"both"===a.get("subscription")||"to"===a.get("subscription")?this.addExistingContact(a):"subscribe"===a.get("ask")||"from"===a.get("subscription")?this.addContactToGroup(a,U):a.get("requesting")===!0&&this.addContactToGroup(a,V),this}}),this.XMPPStatus=Backbone.Model.extend({initialize:function(){this.set({status:this.getStatus()}),this.on("change",function(a){void 0===this.get("fullname")&&s.getVCard(null,function(a,b,c,d,e,f){this.save({fullname:c})}.bind(this)),j.has(a.changed,"status")&&s.emit("statusChanged",this.get("status")),j.has(a.changed,"status_message")&&s.emit("statusMessageChanged",this.get("status_message"))}.bind(this))},constructPresence:function(a,b){"undefined"==typeof a&&(a=this.get("status")||"online"),"undefined"==typeof b&&(b=this.get("status_message"));var c;return"unavailable"===a||"probe"===a||"error"===a||"unsubscribe"===a||"unsubscribed"===a||"subscribe"===a||"subscribed"===a?c=e({type:a}):"offline"===a?(c=e({type:"unavailable"}),b&&c.c("show").t(a)):(c="online"===a?e():e().c("show").t(a).up(),b&&c.c("status").t(b)),c},sendPresence:function(a,b){s.connection.send(this.constructPresence(a,b))},setStatus:function(a){this.sendPresence(a),this.save({status:a})},getStatus:function(){return this.get("status")||"online"},setStatusMessage:function(a){this.sendPresence(this.getStatus(),a);var c=this.get("status_message");this.save({status_message:a}),this.xhr_custom_status&&b.ajax({url:this.xhr_custom_status_url,type:"POST",data:{msg:a}}),c===a&&this.trigger("update-status-ui",this)}}),this.XMPPStatusView=Backbone.View.extend({el:"span#xmpp-status-holder",events:{"click a.choose-xmpp-status":"toggleOptions","click #fancy-xmpp-status-select a.change-xmpp-status-message":"renderStatusChangeForm","submit #set-custom-xmpp-status":"setStatusMessage","click .dropdown dd ul li a":"setStatus"},initialize:function(){this.model.on("change:status",this.updateStatusUI,this),this.model.on("change:status_message",this.updateStatusUI,this),this.model.on("update-status-ui",this.updateStatusUI,this)},render:function(){var a,c=this.$el.find("select#select-xmpp-status"),d=this.model.get("status")||"offline",e=b("option",c),f=[];return this.$el.html(s.templates.choose_status()),this.$el.find("#fancy-xmpp-status-select").html(s.templates.chat_status({status_message:this.model.get("status_message")||N("I am %1$s",this.getPrettyStatus(d)),chat_status:d,desc_custom_status:N("Click here to write a custom status message"),desc_change_status:N("Click to change your chat status")})),e.each(function(){f.push(s.templates.status_option({
value:b(this).val(),text:this.text}))}),a=this.$el.find("#target dd ul").hide(),a.append(f.join("")),c.remove(),this},toggleOptions:function(a){a.preventDefault(),b(a.target).parent().parent().siblings("dd").find("ul").toggle("fast")},renderStatusChangeForm:function(a){a.preventDefault();var b=this.model.get("status")||"offline",c=s.templates.change_status_message({status_message:b,label_custom_status:N("Custom status"),label_save:N("Save")});this.$el.find(".xmpp-status").replaceWith(c),this.$el.find(".custom-xmpp-status").focus().focus()},setStatusMessage:function(a){a.preventDefault(),this.model.setStatusMessage(b(a.target).find("input").val())},setStatus:function(a){a.preventDefault();var c=b(a.target),d=c.attr("data-value");"logout"===d?(this.$el.find(".dropdown dd ul").hide(),s.logOut()):(this.model.setStatus(d),this.$el.find(".dropdown dd ul").hide())},getPrettyStatus:function(a){return"chat"===a?N("online"):"dnd"===a?N("busy"):"xa"===a?N("away for long"):"away"===a?N("away"):"offline"===a?N("offline"):N(a)||N("online")},updateStatusUI:function(a){var b=a.get("status"),c=a.get("status_message")||N("I am %1$s",this.getPrettyStatus(b));this.$el.find("#fancy-xmpp-status-select").html(s.templates.chat_status({chat_status:b,status_message:c,desc_custom_status:N("Click here to write a custom status message"),desc_change_status:N("Click to change your chat status")}))}}),this.Session=Backbone.Model,this.Feature=Backbone.Model,this.Features=Backbone.Collection.extend({model:s.Feature,initialize:function(){this.addClientIdentities().addClientFeatures(),this.browserStorage=new Backbone.BrowserStorage[s.storage](m("converse.features"+s.bare_jid)),this.on("add",this.onFeatureAdded,this),0===this.browserStorage.records.length?(s.connection.disco.info(s.domain,null,this.onInfo.bind(this)),s.connection.disco.items(s.domain,null,this.onItems.bind(this))):this.fetch({add:!0})},onFeatureAdded:function(a){var b=a.get("preferences")||{};s.emit("serviceDiscovered",a),a.get("var")==i.NS.MAM&&b["default"]!==s.message_archiving&&s.connection.sendIQ(c({type:"get"}).c("prefs",{xmlns:i.NS.MAM}),j.bind(this.onMAMPreferences,this,a),j.bind(this.onMAMError,this,a))},onMAMPreferences:function(a,d){var e,f=b(d).find('prefs[xmlns="'+i.NS.MAM+'"]'),g=f.attr("default");g!==s.message_archiving?(e=c({type:"set"}).c("prefs",{xmlns:i.NS.MAM,"default":s.message_archiving}),f.children().each(function(a,b){e.cnode(b).up()}),s.connection.sendIQ(e,j.bind(function(a,b){a.save({preferences:{"default":s.message_archiving}})},this,a),j.bind(this.onMAMError,this,a))):a.save({preferences:{"default":s.message_archiving}})},onMAMError:function(a){b(a).find("feature-not-implemented").length?s.log("Message Archive Management (XEP-0313) not supported by this browser"):(s.log("An error occured while trying to set archiving preferences."),s.log(a))},addClientIdentities:function(){return s.connection.disco.addIdentity("client","web","Converse.js"),this},addClientFeatures:function(){return s.connection.disco.addFeature("jabber:x:conference"),s.connection.disco.addFeature(i.NS.BOSH),s.connection.disco.addFeature(i.NS.CHATSTATES),s.connection.disco.addFeature(i.NS.DISCO_INFO),s.connection.disco.addFeature(i.NS.MAM),s.connection.disco.addFeature(i.NS.ROSTERX),s.use_vcards&&s.connection.disco.addFeature(i.NS.VCARD),s.allow_muc&&s.connection.disco.addFeature(i.NS.MUC),s.message_carbons&&s.connection.disco.addFeature(i.NS.CARBONS),this},onItems:function(a){b(a).find("query item").each(function(a,c){s.connection.disco.info(b(c).attr("jid"),null,this.onInfo.bind(this))}.bind(this))},onInfo:function(a){var c=b(a);(0!==c.find("identity[category=server][type=im]").length||0!==c.find("identity[category=conference][type=text]").length)&&c.find("feature").each(function(a,d){var e=b(d).attr("var");this[e]=!0,this.create({"var":e,from:c.attr("from")})}.bind(this))}}),this.RegisterPanel=Backbone.View.extend({tagName:"div",id:"register",className:"controlbox-pane",events:{"submit form#converse-register":"onProviderChosen"},initialize:function(a){this.reset(),this.$parent=a.$parent,this.$tabs=a.$parent.parent().find("#controlbox-tabs"),this.registerHooks()},render:function(){return this.$parent.append(this.$el.html(s.templates.register_panel({label_domain:N("Your XMPP provider's domain name:"),label_register:N("Fetch registration form"),help_providers:N("Tip: A list of public XMPP providers is available"),help_providers_link:N("here"),href_providers:s.providers_link,domain_placeholder:s.domain_placeholder}))),this.$tabs.append(s.templates.register_tab({label_register:N("Register")})),this},registerHooks:function(){var a=s.connection,b=a._connect_cb.bind(a);a._connect_cb=function(a,c,d){this._registering?this.getRegistrationFields(a,c,d)&&(this._registering=!1):b(a,c,d)}.bind(this)},getRegistrationFields:function(a,b,d){s.log("sendQueryStanza was called");var e=s.connection;e.connected=!0;var f=e._proto._reqToData(a);if(f){if(e._proto._connect_cb(f)===i.Status.CONNFAIL)return!1;var g=f.getElementsByTagName("register"),h=f.getElementsByTagName("mechanism");return 0===g.length&&0===h.length?(e._proto._no_auth_received(b),!1):0===g.length?(e._changeConnectStatus(i.Status.REGIFAIL,N("Sorry, the given provider does not support in band account registration. Please try with a different provider.")),!0):(e._addSysHandler(this.onRegistrationFields.bind(this),null,"iq",null,null),e.send(c({type:"get"}).c("query",{xmlns:i.NS.REGISTER}).tree()),!0)}},onRegistrationFields:function(a){return 1!==a.getElementsByTagName("query").length?(s.connection._changeConnectStatus(i.Status.REGIFAIL,"unknown"),!1):(this.setFields(a),this.renderRegistrationForm(a),!1)},reset:function(a){var b={fields:{},urls:[],title:"",instructions:"",registered:!1,_registering:!1,domain:null,form_type:null};j.extend(this,b),a&&j.extend(this,j.pick(a,Object.keys(b)))},onProviderChosen:function(a){a&&a.preventDefault&&a.preventDefault();var c=b(a.target),d=c.find("input[name=domain]"),e=d.val();return e?(c.find("input[type=submit]").hide().after(s.templates.registration_request({cancel:N("Cancel"),info_message:N("Requesting a registration form from the XMPP server")})),c.find("button.cancel").on("click",this.cancelRegistration.bind(this)),this.reset({domain:i.getDomainFromJid(e),_registering:!0}),s.connection.connect(this.domain,"",this.onRegistering.bind(this)),!1):void d.addClass("error")},giveFeedback:function(a,c){this.$(".reg-feedback").attr("class","reg-feedback").text(a),c&&b(".reg-feedback").addClass(c)},onRegistering:function(a,c){var d;console.log("onRegistering"),j.contains([i.Status.DISCONNECTED,i.Status.CONNFAIL,i.Status.REGIFAIL,i.Status.NOTACCEPTABLE,i.Status.CONFLICT],a)?(s.log("Problem during registration: Strophe.Status is: "+a),this.cancelRegistration(),c?this.giveFeedback(c,"error"):this.giveFeedback(N('Something went wrong while establishing a connection with "%1$s". Are you sure it exists?',this.domain),"error")):a==i.Status.REGISTERED&&(s.log("Registered successfully."),s.connection.reset(),d=this,this.$("form").hide(function(){b(this).replaceWith('<span class="spinner centered"/>'),d.fields.password&&d.fields.username?(s.connection.connect(d.fields.username.toLowerCase()+"@"+d.domain.toLowerCase(),d.fields.password,s.onConnectStatusChanged),s.chatboxviews.get("controlbox").switchTab({target:d.$tabs.find(".current")}).giveFeedback(N("Now logging you in"))):s.chatboxviews.get("controlbox").renderLoginPanel().giveFeedback(N("Registered successfully")),d.reset()}))},renderRegistrationForm:function(c){var d,e,f=this.$("form"),g=b(c);f.empty().append(s.templates.registration_form({domain:this.domain,title:this.title,instructions:this.instructions})),"xform"==this.form_type?(d=g.find("field"),j.each(d,function(a){f.append(l.xForm2webForm.bind(this,b(a),g))}.bind(this))):(j.each(Object.keys(this.fields),function(c){"username"==c?e=a.form_username({domain:" @"+this.domain,name:c,type:"text",label:c,value:"",required:1}):(f.append("<label>"+c+"</label>"),e=b('<input placeholder="'+c+'" name="'+c+'"></input>'),("password"===c||"email"===c)&&e.attr("type",c)),f.append(e)}.bind(this)),j.each(this.urls,function(a){f.append(b('<a target="blank"></a>').attr("href",a).text(a))}.bind(this))),this.fields?(f.append('<input type="submit" class="save-submit" value="'+N("Register")+'"/>'),f.on("submit",this.submitRegistrationForm.bind(this)),f.append('<input type="button" class="cancel-submit" value="'+N("Cancel")+'"/>'),f.find("input[type=button]").on("click",this.cancelRegistration.bind(this))):(f.append('<input type="button" class="submit" value="'+N("Return")+'"/>'),f.find("input[type=button]").on("click",this.cancelRegistration.bind(this)))},reportErrors:function(a){var c,d=this.$("form"),e=b(a).find("error text"),f=d.find(".form-errors");f.length?f.empty():(c='<legend class="form-errors"></legend>',d.find("p.instructions").length?d.find("p.instructions").append(c):d.prepend(c),f=d.find(".form-errors")),e.each(function(a,c){f.append(b("<p>").text(b(c).text()))}),e.length||f.append(b("<p>").text(N("The provider rejected your registration attempt. Please check the values you entered for correctness."))),f.show()},cancelRegistration:function(a){a&&a.preventDefault&&a.preventDefault(),s.connection.reset(),this.render()},submitRegistrationForm:function(a){a&&a.preventDefault&&a.preventDefault();var d=this.$("input.required:emptyVal");if(d.length)return void d.addClass("error");var e=b(a.target).find(":input:not([type=button]):not([type=submit])"),f=c({type:"set"}).c("query",{xmlns:i.NS.REGISTER});"xform"==this.form_type?(f.c("x",{xmlns:i.NS.XFORM,type:"submit"}),e.each(function(){f.cnode(l.webForm2xForm(this)).up()})):e.each(function(){var a=b(this);f.c(a.attr("name"),{},a.val())}),s.connection._addSysHandler(this._onRegisterIQ.bind(this),null,"iq",null,null),s.connection.send(f),this.setFields(f.tree())},setFields:function(a){var c,d=b(a).find("query");d.length>0&&(c=d.find('x[xmlns="'+i.NS.XFORM+'"]'),c.length>0?this._setFieldsFromXForm(c):this._setFieldsFromLegacy(d))},_setFieldsFromLegacy:function(a){a.children().each(function(a,c){var d=b(c);return"instructions"===c.tagName.toLowerCase()?void(this.instructions=i.getText(c)):"x"===c.tagName.toLowerCase()?void("jabber:x:oob"===d.attr("xmlns")&&d.find("url").each(function(a,c){this.urls.push(b(c).text())}.bind(this))):void(this.fields[c.tagName.toLowerCase()]=i.getText(c))}.bind(this)),this.form_type="legacy"},_setFieldsFromXForm:function(a){this.title=a.find("title").text(),this.instructions=a.find("instructions").text(),a.find("field").each(function(a,c){var d=c.getAttribute("var");d?this.fields[d.toLowerCase()]=b(c).children("value").text():console.log("WARNING: Found field we couldn't parse")}.bind(this)),this.form_type="xform"},_onRegisterIQ:function(a){var b=null,c=a.getElementsByTagName("query");if(c.length>0&&(c=c[0]),"error"===a.getAttribute("type")){if(s.log("Registration failed."),b=a.getElementsByTagName("error"),1!==b.length)return s.connection._changeConnectStatus(i.Status.REGIFAIL,"unknown"),!1;b=b[0].firstChild.tagName.toLowerCase(),"conflict"===b?s.connection._changeConnectStatus(i.Status.CONFLICT,b):"not-acceptable"===b?s.connection._changeConnectStatus(i.Status.NOTACCEPTABLE,b):s.connection._changeConnectStatus(i.Status.REGIFAIL,b),this.reportErrors(a)}else s.connection._changeConnectStatus(i.Status.REGISTERED,null);return!1},remove:function(){this.$tabs.empty(),this.$el.parent().empty()}}),this.LoginPanel=Backbone.View.extend({tagName:"div",id:"login-dialog",className:"controlbox-pane",events:{"submit form#converse-login":"authenticate"},initialize:function(a){a.$parent.html(this.$el.html(s.templates.login_panel({LOGIN:v,ANONYMOUS:w,PREBIND:x,auto_login:s.auto_login,authentication:s.authentication,label_username:N("XMPP Username:"),label_password:N("Password:"),label_anon_login:N("Click here to log in anonymously"),label_login:N("Log In"),placeholder_username:N("user@server"),placeholder_password:N("password")}))),this.$tabs=a.$parent.parent().find("#controlbox-tabs")},render:function(){return this.$tabs.append(s.templates.login_tab({label_sign_in:N("Sign in")})),this.$el.find("input#jid").focus(),this.$el.is(":visible")||this.$el.show(),this},authenticate:function(a){a&&a.preventDefault&&a.preventDefault();var c=b(a.target);if(s.authentication===w)return void this.connect(c,s.jid,null);var d=c.find("input[name=jid]"),e=d.val(),f=c.find("input[name=password]"),g=f.val(),h=!1;return e||(h=!0,d.addClass("error")),g||(h=!0,f.addClass("error")),h?void 0:(this.connect(c,e,g),!1)},connect:function(a,b,c){var d;a&&a.find("input[type=submit]").hide().after('<span class="spinner login-submit"/>'),b&&(d=i.getResourceFromJid(b),b=d?i.getBareJidFromJid(b).toLowerCase()+"/"+i.getResourceFromJid(b):b.toLowerCase()+"/converse.js-"+Math.floor(139749825*Math.random()).toString()),s.connection.connect(b,c,s.onConnectStatusChanged)},remove:function(){this.$tabs.empty(),this.$el.parent().empty()}}),this.ControlBoxToggle=Backbone.View.extend({tagName:"a",className:"toggle-controlbox",id:"toggle-controlbox",events:{click:"onClick"},attributes:{href:"#"},initialize:function(){this.render()},render:function(){return b("#conversejs").prepend(this.$el.html(s.templates.controlbox_toggle({label_toggle:N("Toggle chat")}))),this.$el.hide(),this},hide:function(a){this.$el.fadeOut("fast",a)},show:function(a){this.$el.show("fast",a)},showControlBox:function(){var a=s.chatboxes.get("controlbox");a||(a=s.addControlBox()),s.connection.connected?a.save({closed:!1}):a.trigger("show")},onClick:function(a){if(a.preventDefault(),b("div#controlbox").is(":visible")){var c=s.chatboxes.get("controlbox");s.connection.connected?c.save({closed:!0}):c.trigger("hide")}else this.showControlBox()}}),this.addControlBox=function(){return this.chatboxes.add({id:"controlbox",box_id:"controlbox",height:this.default_box_height,closed:!this.show_controlbox_by_default})},this.setUpXMLLogging=function(){this.debug&&(this.connection.xmlInput=function(a){console.log(a.outerHTML)},this.connection.xmlOutput=function(a){console.log(a.outerHTML)})},this.startNewBOSHSession=function(){b.ajax({url:this.prebind_url,type:"GET",success:function(a){this.connection.attach(a.jid,a.sid,a.rid,this.onConnectStatusChanged)}.bind(this),error:function(a){delete this.connection,this.emit("noResumeableSession")}.bind(this)})},this.attemptPreboundSession=function(a){if(!this.keepalive){if(this.jid&&this.sid&&this.rid)return this.connection.attach(this.jid,this.sid,this.rid,this.onConnectStatusChanged);throw new Error("initConnection: If you use prebind and not keepalive, then you MUST supply JID, RID and SID values")}if(!this.jid)throw new Error("initConnection: when using 'keepalive' with 'prebind, you must supply the JID of the current user.");try{return this.connection.restore(this.jid,this.onConnectStatusChanged)}catch(b){s.log("Could not restore session for jid: "+this.jid+" Error message: "+b.message)}this.prebind_url?this.startNewBOSHSession():(delete this.connection,this.emit("noResumeableSession"))},this.attemptNonPreboundSession=function(){if(this.keepalive)try{return this.connection.restore(void 0,this.onConnectStatusChanged)}catch(a){s.log("Could not restore sessions. Error message: "+a.message)}if(this.auto_login){if(!this.jid)throw new Error("initConnection: If you use auto_login, you also need to provide a jid value");if(this.authentication===w)this.connection.connect(this.jid.toLowerCase(),null,this.onConnectStatusChanged);else if(this.authentication===v){if(!this.password)throw new Error("initConnection: If you use auto_login and authentication='login' then you also need to provide a password.");this.jid=i.getBareJidFromJid(this.jid).toLowerCase()+"/"+i.getResourceFromJid(this.jid),this.connection.connect(this.jid,this.password,this.onConnectStatusChanged)}}},this.initConnection=function(){if(this.connection&&this.connection.connected)this.setUpXMLLogging(),this.onConnected();else{if(!this.bosh_service_url&&!this.websocket_url)throw new Error("initConnection: you must supply a value for either the bosh_service_url or websocket_url or both.");if(("WebSocket"in window||"MozWebSocket"in window)&&this.websocket_url)this.connection=new i.Connection(this.websocket_url);else{if(!this.bosh_service_url)throw new Error("initConnection: this browser does not support websockets and bosh_service_url wasn't specified.");this.connection=new i.Connection(this.bosh_service_url,{keepalive:this.keepalive})}this.setUpXMLLogging(),this.authentication===x?this.attemptPreboundSession():this.attemptNonPreboundSession()}},this._tearDown=function(){return this.initial_presence_sent=!1,this.roster&&this.roster.off().reset(),this.rosterview&&(this.rosterview.unregisterHandlers(),this.rosterview.model.off().reset()),this.chatboxes.remove(),this.features&&this.features.reset(),this.minimized_chats&&(this.minimized_chats.undelegateEvents().model.reset(),this.minimized_chats.removeAll(),delete this.minimized_chats),this},this._initialize=function(){return this.chatboxes=new this.ChatBoxes,this.chatboxviews=new this.ChatBoxViews({model:this.chatboxes}),this.controlboxtoggle=new this.ControlBoxToggle,this.otr=new this.OTR,this.initSession(),this.initConnection(),this.connection&&this.addControlBox(),this},this._overrideAttribute=function(a,b){var c=b.overrides[a];"function"==typeof c?("undefined"==typeof b._super&&(b._super={converse:s}),b._super[a]=s[a].bind(s),s[a]=c.bind(b)):s[a]=c},this._extendObject=function(a,b){a.prototype._super||(a.prototype._super={converse:s}),j.each(b,function(b,c){"events"===c?a.prototype[c]=j.extend(b,a.prototype[c]):("function"==typeof b&&(a.prototype._super[c]=a.prototype[c]),a.prototype[c]=b)})},this._initializePlugins=function(){j.each(this.plugins,function(a){a.converse=s,j.each(Object.keys(a.overrides),function(b){var c=a.overrides[b];"object"==typeof c?this._extendObject(s[b],c):this._overrideAttribute(b,a)}.bind(this)),"function"==typeof a.initialize?a.initialize.bind(a)(this):a.bind(this)(this)}.bind(this))},o.connection&&(this.connection=o.connection),this._initializePlugins(),this._initialize(),this.registerGlobalEventHandlers(),s.emit("initialized")};var s=function(a){if(a){var b=o.chatboxviews.get(a.get("jid"));return{close:b.close.bind(b),endOTR:a.endOTR.bind(a),focus:b.focus.bind(b),get:a.get.bind(a),initiateOTR:a.initiateOTR.bind(a),is_chatroom:a.is_chatroom,maximize:a.maximize.bind(a),minimize:a.minimize.bind(a),open:b.show.bind(b),set:a.set.bind(a)}}},t={initialize:function(a,b){o.initialize(a,b)},disconnect:function(){o.connection.disconnect()},account:{logout:function(){o.logOut()}},user:{logout:function(){o.logOut()},status:{get:function(){return o.xmppstatus.get("status")},set:function(a,b){var c={status:a};if(!j.contains(j.keys(r),a))throw new Error("Invalid availability value. See https://xmpp.org/rfcs/rfc3921.html#rfc.section.2.2.2.1");"string"==typeof b&&(c.status_message=b),o.xmppstatus.save(c)},message:{get:function(){return o.xmppstatus.get("status_message")},set:function(a){o.xmppstatus.save({status_message:a})}}}},settings:{get:function(a){return j.contains(Object.keys(o.default_settings),a)?o[a]:void 0},set:function(a,b){var c={};"object"==typeof a?j.extend(o,j.pick(a,Object.keys(o.default_settings))):"string"==typeof a&&(c[a]=b,j.extend(o,j.pick(c,Object.keys(o.default_settings))))}},contacts:{get:function(a){var b=function(a){var b=o.roster.get(i.getBareJidFromJid(a));return b?b.attributes:null};if("undefined"==typeof a)a=o.roster.pluck("jid");else if("string"==typeof a)return b(a);return j.map(a,b)},add:function(a,b){if("string"!=typeof a||a.indexOf("@")<0)throw new TypeError("contacts.add: invalid jid");o.roster.addAndSubscribe(a,j.isEmpty(b)?a:b)}},chats:{open:function(a){var b;return"undefined"==typeof a?(o.log("chats.open: You need to provide at least one JID","error"),null):"string"==typeof a?(b=s(o.chatboxes.getChatBox(a,!0)),b.open(),b):j.map(a,function(a){return b=s(o.chatboxes.getChatBox(a,!0)),b.open(),b})},get:function(a){return"undefined"==typeof a?(o.log("chats.get: You need to provide at least one JID","error"),null):"string"==typeof a?s(o.chatboxes.getChatBox(a,!0)):j.map(a,j.partial(j.compose(s,o.chatboxes.getChatBox.bind(o.chatboxes)),j,!0))}},archive:{query:function(a,d,e){var f,g=[];if("function"==typeof a&&(d=a,e=d),!o.features.findWhere({"var":i.NS.MAM}))throw new Error("This server does not support XEP-0313, Message Archive Management");var h=o.connection.getUniqueId(),l={type:"set"};if("undefined"!=typeof a&&a.groupchat){if(!a["with"])throw new Error('You need to specify a "with" value containing the chat room JID, when querying groupchat messages.');l.to=a["with"]}var m=c(l).c("query",{xmlns:i.NS.MAM,queryid:h});"undefined"!=typeof a&&(m.c("x",{xmlns:i.NS.XFORM,type:"submit"}).c("field",{"var":"FORM_TYPE",type:"hidden"}).c("value").t(i.NS.MAM).up().up(),a["with"]&&!a.groupchat&&m.c("field",{"var":"with"}).c("value").t(a["with"]).up().up(),j.each(["start","end"],function(b){if(a[b]){if(f=k(a[b]),!f.isValid())throw new TypeError("archive.query: invalid date provided for: "+b);m.c("field",{"var":b}).c("value").t(f.format()).up().up()}}),m.up(),a instanceof i.RSM?m.cnode(a.toXML()):j.intersection(p,j.keys(a)).length&&m.cnode(new i.RSM(a).toXML())),o.connection.addHandler(function(c){var e,f,k=b(c);return"function"==typeof d?(e=k.find('fin[xmlns="'+i.NS.MAM+'"]'),e.length?(f=new i.RSM({xml:e.find("set")[0]}),j.extend(f,j.pick(a,["max"])),j.extend(f,j.pick(a,q)),d(g,f),!1):(h==k.find("result").attr("queryid")&&g.push(c),!0)):!1},i.NS.MAM),o.connection.sendIQ(m,null,e)}},rooms:{open:function(a,b){if(b||(b=i.getNodeFromJid(o.bare_jid)),"string"!=typeof b)throw new TypeError("rooms.open: invalid nick, must be string");var c=function(a){var c=o.chatboxes.get(a);return o.log("jid"),c||(c=o.chatboxviews.showChat({id:a,jid:a,name:i.unescapeNode(i.getNodeFromJid(a)),nick:b,chatroom:!0,box_id:m(a)})),s(o.chatboxes.getChatBox(c,!0))};if("undefined"==typeof a)throw new TypeError("rooms.open: You need to provide at least one JID");return"string"==typeof a?c(a):j.map(a,c)},get:function(a){if("undefined"==typeof a)throw new TypeError("rooms.get: You need to provide at least one JID");return"string"==typeof a?s(o.chatboxes.getChatBox(a,!0)):j.map(a,j.partial(s,j.bind(o.chatboxes.getChatBox,o.chatboxes,j,!0)))}},tokens:{get:function(a){return o.expose_rid_and_sid&&"undefined"!=typeof o.connection?"rid"===a.toLowerCase()?o.connection.rid||o.connection._proto.rid:"sid"===a.toLowerCase()?o.connection.sid||o.connection._proto.sid:void 0:null}},listen:{once:function(a,b){o.once(a,b)},on:function(a,b){o.on(a,b)},not:function(a,b){o.off(a,b)}},send:function(a){o.connection.send(a)},ping:function(a){o.ping(a)},plugins:{add:function(a,b){o.plugins[a]=b},remove:function(a){delete o.plugins[a]},override:function(a,b){o._overrideAttribute(a,b)},extend:function(a,b){o._extendObject(a,b)}},env:{$build:f,$iq:c,$msg:d,$pres:e,Strophe:i,_:j,b64_sha1:m,jQuery:b,moment:k}};return t}),function(a){if("undefined"!=typeof exports&&"undefined"!=typeof require)var b=a._||require("underscore"),c=a.Backbone||require("backbone");else var b=a._,c=a.Backbone;var d=c.View.extend({events:{submit:function(a){this.trigger("submit",a)}},initialize:function(a){var c=this;a=this.options=b.extend({submitButton:!1},a);var d=this.schema=function(){if(a.schema)return b.result(a,"schema");var d=a.model;return d&&d.schema?b.result(d,"schema"):c.schema?b.result(c,"schema"):{}}();b.extend(this,b.pick(a,"model","data","idPrefix","templateData"));var e=this.constructor;this.template=a.template||this.template||e.template,this.Fieldset=a.Fieldset||this.Fieldset||e.Fieldset,this.Field=a.Field||this.Field||e.Field,this.NestedField=a.NestedField||this.NestedField||e.NestedField;var f=this.selectedFields=a.fields||b.keys(d),g=this.fields={};b.each(f,function(a){var b=d[a];g[a]=this.createField(a,b)},this);var h=a.fieldsets||b.result(this,"fieldsets")||b.result(this.model,"fieldsets")||[f];this.fieldsets=[];b.each(h,function(a){this.fieldsets.push(this.createFieldset(a))},this)},createFieldset:function(a){var b={schema:a,fields:this.fields,legend:a.legend||null};return new this.Fieldset(b)},createField:function(a,b){var c={form:this,key:a,schema:b,idPrefix:this.idPrefix};this.model?c.model=this.model:this.data?c.value=this.data[a]:c.value=null;var d=new this.Field(c);return this.listenTo(d.editor,"all",this.handleEditorEvent),d},handleEditorEvent:function(a,c){var d=c.key+":"+a;switch(this.trigger.call(this,d,this,c,Array.prototype.slice.call(arguments,2)),a){case"change":this.trigger("change",this);break;case"focus":this.hasFocus||this.trigger("focus",this);break;case"blur":if(this.hasFocus){var e=this;setTimeout(function(){var a=b.find(e.fields,function(a){return a.editor.hasFocus});a||e.trigger("blur",e)},0)}}},templateData:function(){var a=this.options;return{submitButton:a.submitButton}},render:function(){var a=this,d=this.fields,e=c.$,f=e(e.trim(this.template(b.result(this,"templateData"))));return f.find("[data-editors]").add(f).each(function(c,f){var g=e(f),h=g.attr("data-editors");if(!b.isUndefined(h)){var i="*"==h?a.selectedFields||b.keys(d):h.split(",");b.each(i,function(a){var b=d[a];g.append(b.editor.render().el)})}}),f.find("[data-fields]").add(f).each(function(c,f){var g=e(f),h=g.attr("data-fields");if(!b.isUndefined(h)){var i="*"==h?a.selectedFields||b.keys(d):h.split(",");b.each(i,function(a){var b=d[a];g.append(b.render().el)})}}),f.find("[data-fieldsets]").add(f).each(function(c,d){var f=e(d),g=f.attr("data-fieldsets");b.isUndefined(g)||b.each(a.fieldsets,function(a){f.append(a.render().el)})}),this.setElement(f),f.addClass(this.className),this.attributes&&f.attr(this.attributes),this},validate:function(a){var c=this.fields,d=this.model,e={};if(a=a||{},b.each(c,function(a){var b=a.validate();b&&(e[a.key]=b)}),!a.skipModelValidate&&d&&d.validate){var f=d.validate(this.getValue());if(f){var g=b.isObject(f)&&!b.isArray(f);g||(e._others=e._others||[],e._others.push(f)),g&&b.each(f,function(a,b){if(c[b]&&!e[b])c[b].setError(a),e[b]=a;else{e._others=e._others||[];var d={};d[b]=a,e._others.push(d)}})}}return b.isEmpty(e)?null:e},commit:function(a){a=a||{};var c={skipModelValidate:!a.validate},d=this.validate(c);if(d)return d;var e,f=b.extend({error:function(a,b){e=b}},a);return this.model.set(this.getValue(),f),e?e:void 0},getValue:function(a){if(a)return this.fields[a].getValue();var c={};return b.each(this.fields,function(a){c[a.key]=a.getValue()}),c},setValue:function(a,b){var c={};"string"==typeof a?c[a]=b:c=a;var d;for(d in this.schema)void 0!==c[d]&&this.fields[d].setValue(c[d])},getEditor:function(a){var b=this.fields[a];if(!b)throw new Error("Field not found: "+a);return b.editor},focus:function(){if(!this.hasFocus){var a=this.fieldsets[0],b=a.getFieldAt(0);b&&b.editor.focus()}},blur:function(){if(this.hasFocus){var a=b.find(this.fields,function(a){return a.editor.hasFocus});a&&a.editor.blur()}},trigger:function(a){return"focus"===a?this.hasFocus=!0:"blur"===a&&(this.hasFocus=!1),c.View.prototype.trigger.apply(this,arguments)},remove:function(){return b.each(this.fieldsets,function(a){a.remove()}),b.each(this.fields,function(a){a.remove()}),c.View.prototype.remove.apply(this,arguments)}},{editors:{}});d.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},d.template=b.template('    <form class="form-horizontal">     <div data-fieldsets></div>      <% if (submitButton) { %>        <button type="submit" class="btn btn-primary js-custom-field-submit-btn"><%= submitButton %></button>      <% } %>    </form>  ',null,d.templateSettings),d.validators=function(){var a={};return a.errMessages={required:"Required",regexp:"Invalid",number:"Must be a number",range:b.template("Must be a number between <%= min %> and <%= max %>",null,d.templateSettings),email:"Invalid email address",url:"Invalid URL",match:b.template('Must match field "<%= field %>"',null,d.templateSettings)},a.required=function(a){return a=b.extend({type:"required",message:this.errMessages.required},a),function(c){a.value=c;var d={type:a.type,message:b.isFunction(a.message)?a.message(a):a.message};return null===c||void 0===c||c===!1||""===c||""===$.trim(c)?d:void 0}},a.regexp=function(a){if(!a.regexp)throw new Error('Missing required "regexp" option for "regexp" validator');return a=b.extend({type:"regexp",match:!0,message:this.errMessages.regexp},a),function(c){a.value=c;var d={type:a.type,message:b.isFunction(a.message)?a.message(a):a.message};if(null!==c&&void 0!==c&&""!==c)return"string"==typeof a.regexp&&(a.regexp=new RegExp(a.regexp,a.flags)),(a.match?!a.regexp.test(c):a.regexp.test(c))?d:void 0}},a.number=function(c){return c=b.extend({type:"number",message:this.errMessages.number,regexp:/^[-+]?([0-9]*.[0-9]+|[0-9]+)$/},c),a.regexp(c)},a.range=function(c){return c=b.extend({type:"range",message:this.errMessages.range,numberMessage:this.errMessages.number,min:0,max:100},c),function(d){c.value=d;var e={type:c.type,message:b.isFunction(c.message)?c.message(c):c.message};if(null!==d&&void 0!==d&&""!==d){var f=a.number({message:c.numberMessage})(d);if(f)return f;var g=parseFloat(c.value);return g<c.min||g>c.max?e:void 0}}},a.email=function(c){return c=b.extend({type:"email",message:this.errMessages.email,regexp:/^[a-z0-9!#$%&'*+\/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+\/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i},c),a.regexp(c)},a.url=function(c){return c=b.extend({type:"url",message:this.errMessages.url,regexp:/^(http|https):\/\/(([A-Z0-9][A-Z0-9_\-]*)(\.[A-Z0-9][A-Z0-9_\-]*)+)(:(\d+))?\/?/i},c),a.regexp(c)},a.match=function(a){if(!a.field)throw new Error('Missing required "field" options for "match" validator');return a=b.extend({type:"match",message:this.errMessages.match},a),function(c,d){a.value=c;var e={type:a.type,message:b.isFunction(a.message)?a.message(a):a.message};if(null!==c&&void 0!==c&&""!==c)return c!==d[a.field]?e:void 0}},a}(),d.Fieldset=c.View.extend({initialize:function(a){a=a||{};var c=this.schema=this.createSchema(a.schema);this.fields=b.pick(a.fields,c.fields),this.template=a.template||c.template||this.template||this.constructor.template},createSchema:function(a){return b.isArray(a)&&(a={fields:a}),a.legend=a.legend||null,a},getFieldAt:function(a){var b=this.schema.fields[a];return this.fields[b]},templateData:function(){return this.schema},render:function(){var a=(this.schema,this.fields),d=c.$,e=d(d.trim(this.template(b.result(this,"templateData"))));return e.find("[data-fields]").add(e).each(function(c,e){var f=d(e),g=f.attr("data-fields");b.isUndefined(g)||b.each(a,function(a){f.append(a.render().el)})}),this.setElement(e),this},remove:function(){b.each(this.fields,function(a){a.remove()}),c.View.prototype.remove.call(this)}},{template:b.template("    <fieldset data-fields>      <% if (legend) { %>        <legend><%= legend %></legend>      <% } %>    </fieldset>  ",null,d.templateSettings)}),d.Field=c.View.extend({initialize:function(a){a=a||{},b.extend(this,b.pick(a,"form","key","model","value","idPrefix"));var c=this.schema=this.createSchema(a.schema);this.template=a.template||c.template||this.template||this.constructor.template,this.errorClassName=a.errorClassName||this.errorClassName||this.constructor.errorClassName,this.editor=this.createEditor()},createSchema:function(a){return b.isString(a)&&(a={type:a}),a=b.extend({type:"Text",title:this.createTitle()},a),a.type=b.isString(a.type)?d.editors[a.type]:a.type,a},createEditor:function(){var a=b.extend(b.pick(this,"schema","form","key","model","value"),{id:this.createEditorId()}),c=this.schema.type;return new c(a)},createEditorId:function(){var a=this.idPrefix,c=this.key;return c=c.replace(/\./g,"_"),b.isString(a)||b.isNumber(a)?a+c:b.isNull(a)?c:this.model?this.model.cid+"_"+c:c},createTitle:function(){var a=this.key;return a=a.replace(/([A-Z])/g," $1"),a=a.replace(/^./,function(a){
return a.toUpperCase()})},templateData:function(){var a=this.schema;return{help:a.help||"",title:a.title,titleHTML:a.titleHTML,fieldAttrs:a.fieldAttrs,editorAttrs:a.editorAttrs,key:this.key,editorId:this.editor.id}},render:function(){var a=this.schema,d=this.editor,e=c.$;if(this.editor.noField===!0)return this.setElement(d.render().el);var f=e(e.trim(this.template(b.result(this,"templateData"))));return a.fieldClass&&f.addClass(a.fieldClass),a.fieldAttrs&&f.attr(a.fieldAttrs),f.find("[data-editor]").add(f).each(function(a,c){var f=e(c),g=f.attr("data-editor");b.isUndefined(g)||f.append(d.render().el)}),this.setElement(f),this},disable:function(){b.isFunction(this.editor.disable)?this.editor.disable():($input=this.editor.$el,$input=$input.is("input")?$input:$input.find("input"),$input.attr("disabled",!0))},enable:function(){b.isFunction(this.editor.enable)?this.editor.enable():($input=this.editor.$el,$input=$input.is("input")?$input:$input.find("input"),$input.attr("disabled",!1))},validate:function(){var a=this.editor.validate();return a?this.setError(a.message):this.clearError(),a},setError:function(a){this.editor.hasNestedForm||(this.$el.addClass(this.errorClassName),this.$("[data-error]").html(a))},clearError:function(){this.$el.removeClass(this.errorClassName),this.$("[data-error]").empty()},commit:function(){return this.editor.commit()},getValue:function(){return this.editor.getValue()},setValue:function(a){this.editor.setValue(a)},focus:function(){this.editor.focus()},blur:function(){this.editor.blur()},remove:function(){this.editor.remove(),c.View.prototype.remove.call(this)}},{template:b.template('    <div>      <label for="<%= editorId %>">        <% if (titleHTML){ %><%= titleHTML %>        <% } else { %><%- title %><% } %>      </label>      <div>        <span data-editor></span>        <div data-error></div>        <div><%= help %></div>      </div>    </div>  ',null,d.templateSettings),errorClassName:"error"}),d.NestedField=d.Field.extend({template:b.template('    <div>      <label for="<%= editorId %>">        <% if (titleHTML){ %><%= titleHTML %>        <% } else { %><%- title %><% } %>      </label>      <div>        <span data-editor></span>        <div class="error-text" data-error></div>        <div class="error-help"><%= help %></div>      </div>    </div>  ',null,d.templateSettings)}),d.Editor=d.editors.Base=c.View.extend({defaultValue:null,hasFocus:!1,initialize:function(a){var a=a||{};if(a.model){if(!a.key)throw new Error("Missing option: 'key'");this.model=a.model,this.value=this.model.get(a.key)}else void 0!==a.value&&(this.value=a.value);void 0===this.value&&(this.value=this.defaultValue),b.extend(this,b.pick(a,"key","form"));var c=this.schema=a.schema||{};this.validators=a.validators||c.validators,this.$el.attr("id",this.id),this.$el.attr("name",this.getName()),c.editorClass&&this.$el.addClass(c.editorClass),c.editorAttrs&&this.$el.attr(c.editorAttrs)},getName:function(){var a=this.key||"";return a.replace(/\./g,"_")},getValue:function(){return this.value},setValue:function(a){this.value=a},focus:function(){throw new Error("Not implemented")},blur:function(){throw new Error("Not implemented")},commit:function(a){var b=this.validate();return b?b:(this.listenTo(this.model,"invalid",function(a,c){b=c}),this.model.set(this.key,this.getValue(),a),b?b:void 0)},validate:function(){var a=(this.$el,null),c=this.getValue(),d=this.form?this.form.getValue():{},e=this.validators,f=this.getValidator;return e&&b.every(e,function(b){return a=f(b)(c,d),a?!1:!0}),a},trigger:function(a){return"focus"===a?this.hasFocus=!0:"blur"===a&&(this.hasFocus=!1),c.View.prototype.trigger.apply(this,arguments)},getValidator:function(a){var c=d.validators;if(b.isRegExp(a))return c.regexp({regexp:a});if(b.isString(a)){if(!c[a])throw new Error('Validator "'+a+'" not found');return c[a]()}if(b.isFunction(a))return a;if(b.isObject(a)&&a.type){var e=a;return c[e.type](e)}throw new Error("Invalid validator: "+a)}}),d.editors.Text=d.Editor.extend({tagName:"input",className:"form-control",defaultValue:"",previousValue:"",events:{keyup:"determineChange",keypress:function(a){var b=this;setTimeout(function(){b.determineChange()},0)},select:function(a){this.trigger("select",this)},focus:function(a){this.trigger("focus",this)},blur:function(a){this.trigger("blur",this)}},initialize:function(a){d.editors.Base.prototype.initialize.call(this,a);var b=this.schema,c="text";b&&b.editorAttrs&&b.editorAttrs.type&&(c=b.editorAttrs.type),b&&b.dataType&&(c=b.dataType),this.$el.attr("type",c)},render:function(){return this.setValue(this.value),this},determineChange:function(a){var b=this.$el.val(),c=b!==this.previousValue;c&&(this.previousValue=b,this.trigger("change",this))},getValue:function(){return this.$el.val()},setValue:function(a){this.value=a,this.$el.val(a)},focus:function(){this.hasFocus||this.$el.focus()},blur:function(){this.hasFocus&&this.$el.blur()},select:function(){this.$el.select()}}),d.editors.BackboneDatepicker=d.editors.Base.extend({initialize:function(a){d.editors.Text.prototype.initialize.call(this,a),this.$el.addClass("datepicker-input")},getValue:function(){var a=this.$el.val();return a?moment(a,"MM/DD/YYYY").format():""},setValue:function(a){if(a){var b=moment(a).utc().format("MM/DD/YYYY");this.$el.val(b)}else this.$el.val("")},render:function(){return d.editors.Text.prototype.render.apply(this,arguments),this.$el.datepicker({autoclose:!0}),this}},{template:b.template('<div class="input-append">  <input type="text" id="start_date" name="start_date" data-date-format="<%= dateFormat %>" class="datepicker input input-medium" readonly="readonly" value="<%= value %>">  <span class="add-on"><i class="icon-calendar"></i></span></div>',null,d.templateSettings)}),d.editors.TextArea=d.editors.Text.extend({tagName:"textarea",className:"form-control",initialize:function(a){d.editors.Base.prototype.initialize.call(this,a)}}),d.editors.Password=d.editors.Text.extend({initialize:function(a){d.editors.Text.prototype.initialize.call(this,a),this.$el.attr("type","password")}}),d.editors.Number=d.editors.Text.extend({defaultValue:0,events:b.extend({},d.editors.Text.prototype.events,{keypress:"onKeyPress",change:"onKeyPress"}),initialize:function(a){d.editors.Text.prototype.initialize.call(this,a);var b=this.schema;this.$el.attr("type","number"),b&&b.editorAttrs&&b.editorAttrs.step||this.$el.attr("step","any")},onKeyPress:function(a){var b=this,c=function(){setTimeout(function(){b.determineChange()},0)};if(0===a.charCode)return void c();var d=this.$el.val();void 0!=a.charCode&&(d+=String.fromCharCode(a.charCode));var e=/^[0-9]*\.?[0-9]*?$/.test(d);e?c():a.preventDefault()},getValue:function(){var a=this.$el.val();return""===a?null:parseFloat(a,10)},setValue:function(a){a=function(){return b.isNumber(a)?a:b.isString(a)&&""!==a?parseFloat(a,10):null}(),b.isNaN(a)&&(a=null),this.value=a,d.editors.Text.prototype.setValue.call(this,a)}}),d.editors.Hidden=d.editors.Text.extend({defaultValue:"",noField:!0,initialize:function(a){d.editors.Text.prototype.initialize.call(this,a),this.$el.attr("type","hidden")},focus:function(){},blur:function(){}}),d.editors.Checkbox=d.editors.Base.extend({defaultValue:!1,tagName:"input",events:{click:function(a){this.trigger("change",this)},focus:function(a){this.trigger("focus",this)},blur:function(a){this.trigger("blur",this)}},initialize:function(a){d.editors.Base.prototype.initialize.call(this,a),this.$el.attr("type","checkbox")},render:function(){return this.setValue(this.value),this},getValue:function(){return this.$el.prop("checked")},setValue:function(a){a?this.$el.prop("checked",!0):this.$el.prop("checked",!1),this.value=!!a},focus:function(){this.hasFocus||this.$el.focus()},blur:function(){this.hasFocus&&this.$el.blur()}}),d.editors.Select=d.editors.Base.extend({tagName:"select",className:"form-control",previousValue:"",events:{keyup:"determineChange",keypress:function(a){var b=this;setTimeout(function(){b.determineChange()},0)},change:function(a){this.trigger("change",this)},focus:function(a){this.trigger("focus",this)},blur:function(a){this.trigger("blur",this)}},initialize:function(a){if(d.editors.Base.prototype.initialize.call(this,a),!this.schema||!this.schema.options)throw new Error("Missing required 'schema.options'")},render:function(){return this.setOptions(this.schema.options),this},setOptions:function(a){var d=this;if(a instanceof c.Collection){var e=a;e.length>0?this.renderOptions(a):e.fetch({success:function(b){d.renderOptions(a)}})}else b.isFunction(a)?a(function(a){d.renderOptions(a)},d):this.renderOptions(a)},renderOptions:function(a){var b,c=this.$el;b=this._getOptionsHtml(a),c.html(b),c.prepend('<option value="">Please Select</option>'),this.setValue(this.value)},_getOptionsHtml:function(a){var d;if(b.isString(a))d=a;else if(b.isArray(a))d=this._arrayToHtml(a);else if(a instanceof c.Collection)d=this._collectionToHtml(a);else if(b.isFunction(a)){var e;a(function(a){e=a},this),d=this._getOptionsHtml(e)}else d=this._objectToHtml(a);return d},determineChange:function(a){var b=this.getValue(),c=b!==this.previousValue;c&&(this.previousValue=b,this.trigger("change",this))},getValue:function(){return this.$el.val()},setValue:function(a){this.value=a,this.$el.val(a)},focus:function(){this.hasFocus||this.$el.focus()},blur:function(){this.hasFocus&&this.$el.blur()},_collectionToHtml:function(a){var b=[];a.each(function(a){b.push({val:a.id,label:a.toString()})});var c=this._arrayToHtml(b);return c},_objectToHtml:function(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push({val:c,label:a[c]});var d=this._arrayToHtml(b);return d},_arrayToHtml:function(a){var c=$();return b.each(a,function(a){if(b.isObject(a))if(a.group){var d=$("<optgroup>").attr("label",a.group).html(this._getOptionsHtml(a.options));c=c.add(d)}else{var e=a.val||0===a.val?a.val:"";c=c.add($("<option>").val(e).text(a.label))}else c=c.add($("<option>").text(a))},this),c}}),d.editors.Radio=d.editors.Select.extend({tagName:"ul",className:"list-unstyled",events:{"change input[type=radio]":function(){this.trigger("change",this)},"focus input[type=radio]":function(){this.hasFocus||this.trigger("focus",this)},"blur input[type=radio]":function(){if(this.hasFocus){var a=this;setTimeout(function(){a.$("input[type=radio]:focus")[0]||a.trigger("blur",a)},0)}}},getTemplate:function(){return this.schema.template||this.constructor.template},getValue:function(){return this.$("input[type=radio]:checked").val()},setValue:function(a){this.value=a,this.$("input[type=radio]").val([a])},focus:function(){if(!this.hasFocus){var a=this.$("input[type=radio]:checked");return a[0]?void a.focus():void this.$("input[type=radio]").first().focus()}},blur:function(){this.hasFocus&&this.$("input[type=radio]:focus").blur()},_arrayToHtml:function(a){var c=this,d=this.getTemplate(),e=c.getName(),f=c.id,g=b.map(a,function(a,c){var d={name:e,id:f+"-"+c};return b.isObject(a)?(d.value=a.val||0===a.val?a.val:"",d.label=a.label,d.labelHTML=a.labelHTML):(d.value=a,d.label=a),d});return d({items:g})}},{template:b.template('    <% _.each(items, function(item) { %>      <li>        <input type="radio" name="<%= item.name %>" value="<%- item.value %>" id="<%= item.id %>" />        <label for="<%= item.id %>"><% if (item.labelHTML){ %><%= item.labelHTML %><% }else{ %><%- item.label %><% } %></label>      </li>    <% }); %>  ',null,d.templateSettings)}),d.editors.Checkboxes=d.editors.Select.extend({tagName:"ul",className:"list-unstyled",groupNumber:0,events:{"click input[type=checkbox]":function(){this.trigger("change",this)},"focus input[type=checkbox]":function(){this.hasFocus||this.trigger("focus",this)},"blur input[type=checkbox]":function(){if(this.hasFocus){var a=this;setTimeout(function(){a.$("input[type=checkbox]:focus")[0]||a.trigger("blur",a)},0)}}},getValue:function(){var a=[],b=this;return this.$("input[type=checkbox]:checked").each(function(){a.push(b.$(this).val())}),a},setValue:function(a){b.isArray(a)||(a=[a]),this.value=a,this.$("input[type=checkbox]").val(a)},focus:function(){this.hasFocus||this.$("input[type=checkbox]").first().focus()},blur:function(){this.hasFocus&&this.$("input[type=checkbox]:focus").blur()},_arrayToHtml:function(a){var c=$(),d=this;return b.each(a,function(a,e){var f=$("<li>");if(b.isObject(a))if(a.group){var g=d.id;d.id+="-"+d.groupNumber++,f=$('<fieldset class="group">').append($("<legend>").text(a.group)),f=f.append(d._arrayToHtml(a.options)),d.id=g,close=!1}else{var h=a.val||0===a.val?a.val:"";f.append($('<input type="checkbox" name="'+d.getName()+'" id="'+d.id+"-"+e+'" />').val(h)),a.labelHTML?f.append($('<label for="'+d.id+"-"+e+'" />').html(a.labelHTML)):f.append($('<label for="'+d.id+"-"+e+'" />').text(a.label))}else f.append($('<input type="checkbox" name="'+d.getName()+'" id="'+d.id+"-"+e+'" />').val(a)),f.append($('<label for="'+d.id+"-"+e+'" />').text(a));c=c.add(f)}),c}}),d.editors.Object=d.editors.Base.extend({hasNestedForm:!0,initialize:function(a){if(this.value={},d.editors.Base.prototype.initialize.call(this,a),!this.form)throw new Error('Missing required option "form"');if(!this.schema.subSchema)throw new Error("Missing required 'schema.subSchema' option for Object editor")},render:function(){var a=this.form.constructor;return this.nestedForm=new a({schema:this.schema.subSchema,data:this.value,idPrefix:this.id+"_",Field:a.NestedField}),this._observeFormEvents(),this.$el.html(this.nestedForm.render().el),this.hasFocus&&this.trigger("blur",this),this},getValue:function(){return this.nestedForm?this.nestedForm.getValue():this.value},setValue:function(a){this.value=a,this.render()},focus:function(){this.hasFocus||this.nestedForm.focus()},blur:function(){this.hasFocus&&this.nestedForm.blur()},remove:function(){this.nestedForm.remove(),c.View.prototype.remove.call(this)},validate:function(){var a=b.extend({},d.editors.Base.prototype.validate.call(this),this.nestedForm.validate());return b.isEmpty(a)?!1:a},_observeFormEvents:function(){this.nestedForm&&this.nestedForm.on("all",function(){var a=b.toArray(arguments);a[1]=this,this.trigger.apply(this,a)},this)}}),d.editors.NestedModel=d.editors.Object.extend({initialize:function(a){if(d.editors.Base.prototype.initialize.call(this,a),!this.form)throw new Error('Missing required option "form"');if(!a.schema.model)throw new Error('Missing required "schema.model" option for NestedModel editor')},render:function(){var a=this.form.constructor,b=this.value||{},c=(this.key,this.schema.model),d=b.constructor===c?b:new c(b);return this.nestedForm=new a({model:d,idPrefix:this.id+"_",fieldTemplate:"nestedField"}),this._observeFormEvents(),this.$el.html(this.nestedForm.render().el),this.hasFocus&&this.trigger("blur",this),this},commit:function(){var a=this.nestedForm.commit();return a?(this.$el.addClass("error"),a):d.editors.Object.prototype.commit.call(this)}}),d.editors.Date=d.editors.Base.extend({events:{"change select":function(){this.updateHidden(),this.trigger("change",this)},"focus select":function(){this.hasFocus||this.trigger("focus",this)},"blur select":function(){if(this.hasFocus){var a=this;setTimeout(function(){a.$("select:focus")[0]||a.trigger("blur",a)},0)}}},initialize:function(a){a=a||{},d.editors.Base.prototype.initialize.call(this,a);var c=d.editors.Date,e=new Date;if(this.options=b.extend({monthNames:c.monthNames,showMonthNames:c.showMonthNames},a),this.schema=b.extend({yearStart:e.getFullYear()-100,yearEnd:e.getFullYear()},a.schema||{}),this.value&&!b.isDate(this.value)&&(this.value=new Date(this.value)),!this.value){var f=new Date;f.setSeconds(0),f.setMilliseconds(0),this.value=f}this.template=a.template||this.constructor.template},render:function(){var a=this.options,d=this.schema,e=c.$,f=b.map(b.range(1,32),function(a){return'<option value="'+a+'">'+a+"</option>"}),g=b.map(b.range(0,12),function(b){var c=a.showMonthNames?a.monthNames[b]:b+1;return'<option value="'+b+'">'+c+"</option>"}),h=d.yearStart<d.yearEnd?b.range(d.yearStart,d.yearEnd+1):b.range(d.yearStart,d.yearEnd-1,-1),i=b.map(h,function(a){return'<option value="'+a+'">'+a+"</option>"}),j=e(e.trim(this.template({dates:f.join(""),months:g.join(""),years:i.join("")})));return this.$date=j.find('[data-type="date"]'),this.$month=j.find('[data-type="month"]'),this.$year=j.find('[data-type="year"]'),this.$hidden=e('<input type="hidden" name="'+this.key+'" />'),j.append(this.$hidden),this.setValue(this.value),this.setElement(j),this.$el.attr("id",this.id),this.$el.attr("name",this.getName()),this.hasFocus&&this.trigger("blur",this),this},getValue:function(){var a=this.$year.val(),b=this.$month.val(),c=this.$date.val();return a&&b&&c?new Date(a,b,c):null},setValue:function(a){this.value=a,this.$date.val(a.getDate()),this.$month.val(a.getMonth()),this.$year.val(a.getFullYear()),this.updateHidden()},focus:function(){this.hasFocus||this.$("select").first().focus()},blur:function(){this.hasFocus&&this.$("select:focus").blur()},updateHidden:function(){var a=this.getValue();b.isDate(a)&&(a=a.toISOString()),this.$hidden.val(a)}},{template:b.template('    <div>      <select class="form-control" data-type="date"><%= dates %></select>      <select class="form-control" data-type="month"><%= months %></select>      <select class="form-control" data-type="year"><%= years %></select>    </div>  ',null,d.templateSettings),showMonthNames:!0,monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"]}),d.editors.DateTime=d.editors.Base.extend({events:{"change select":function(){this.updateHidden(),this.trigger("change",this)},"focus select":function(){this.hasFocus||this.trigger("focus",this)},"blur select":function(){if(this.hasFocus){var a=this;setTimeout(function(){a.$("select:focus")[0]||a.trigger("blur",a)},0)}}},initialize:function(a){a=a||{},d.editors.Base.prototype.initialize.call(this,a),this.options=b.extend({DateEditor:d.editors.DateTime.DateEditor},a),this.schema=b.extend({minsInterval:15},a.schema||{}),this.dateEditor=new this.options.DateEditor(a),this.value=this.dateEditor.value,this.template=a.template||this.constructor.template},render:function(){function a(a){return 10>a?"0"+a:a}var d=this.schema,e=c.$,f=b.map(b.range(0,24),function(b){return'<option value="'+b+'">'+a(b)+"</option>"}),g=b.map(b.range(0,60,d.minsInterval),function(b){return'<option value="'+b+'">'+a(b)+"</option>"}),h=e(e.trim(this.template({hours:f.join(),mins:g.join()})));return h.find("[data-date]").append(this.dateEditor.render().el),this.$hour=h.find('select[data-type="hour"]'),this.$min=h.find('select[data-type="min"]'),this.$hidden=h.find('input[type="hidden"]'),this.setValue(this.value),this.setElement(h),this.$el.attr("id",this.id),this.$el.attr("name",this.getName()),this.hasFocus&&this.trigger("blur",this),this},getValue:function(){var a=this.dateEditor.getValue(),b=this.$hour.val(),c=this.$min.val();return a&&b&&c?(a.setHours(b),a.setMinutes(c),a):null},setValue:function(a){b.isDate(a)||(a=new Date(a)),this.value=a,this.dateEditor.setValue(a),this.$hour.val(a.getHours()),this.$min.val(a.getMinutes()),this.updateHidden()},focus:function(){this.hasFocus||this.$("select").first().focus()},blur:function(){this.hasFocus&&this.$("select:focus").blur()},updateHidden:function(){var a=this.getValue();b.isDate(a)&&(a=a.toISOString()),this.$hidden.val(a)},remove:function(){this.dateEditor.remove(),d.editors.Base.prototype.remove.call(this)}},{template:b.template('    <div class="bbf-datetime">      <div class="bbf-date-container" data-date></div>      <select class="form-control" data-type="hour"><%= hours %></select>      :      <select class="form-control" data-type="min"><%= mins %></select>    </div>  ',null,d.templateSettings),DateEditor:d.editors.Date}),d.VERSION="0.14.0",c.Form=d,"undefined"!=typeof module&&(module.exports=d)}(window||global||this),"undefined"==typeof App&&(App={}),App.OAuth=Backbone.Model.extend({url:function(){return api_url+"oauth.json"}}),"undefined"==typeof App&&(App={}),App.User=Backbone.Model.extend({initialize:function(a){this.activities=new App.ActivityCollection,this.activities.url=api_url+"users/"+this.id+"/activities.json",this.cards=new App.CardUserCollection,this.cards.url=api_url+"users/"+this.id+"/cards.json",this.boards_stars=new App.BoardStarCollection,this.boards_users=new App.BoardsUserCollection,this.organizations=new App.OrganizationCollection}}),"undefined"==typeof App&&(App={}),App.Board=Backbone.Model.extend({url:function(){return api_url+"boards/"+this.id+".json"},storeName:"board",initialize:function(a){this.lists=new App.ListCollection,this.lists.url=api_url+"boards/"+this.id+"/lists.json",this.lists.board=this,this.board_subscribers=new App.BoardSubscriberCollection,this.board_subscribers.url=api_url+"boards/"+this.id+"/board_subscribers.json",this.board_subscribers.board=this,this.board_stars=new App.BoardSubscriberCollection,this.board_stars.board=this,this.activities=new App.ActivityCollection,this.activities.url=api_url+"boards/"+this.id+"/activities.json",this.activities.board=this,this.board_subscriber=new App.BoardSubscriber,this.board_subscriber.url=api_url+"boards/"+this.id+"/subscriber.json",this.board_subscriber.board=this,this.board_star=new App.BoardStar,this.board_star.url=api_url+"boards/"+this.id+"/subscriber.json",this.board_star.board=this,this.board_users=new App.BoardsUserCollection,this.board_users.url=api_url+"boards/"+this.id+"/users.json",this.board_users.board=this,this.custom_attachments=new App.CardAttachmentCollection,this.attachments=new App.CardAttachmentCollection,this.cards=new App.CardCollection,this.labels=new App.CardLabelCollection,this.checklists=new App.CardCheckListCollection,this.checklist_items=new App.CheckListItemCollection,this.boards_stars=new App.BoardStarCollection,this.acl_links=new App.AclBoardLinksCollection}}),"undefined"==typeof App&&(App={}),App.BoardSubscriber=Backbone.Model.extend({url:function(){return api_url+"board_subscribers/"+this.id+".json"}}),"undefined"==typeof App&&(App={}),App.List=Backbone.Model.extend({initialize:function(){this.url=api_url+"boards/"+this.attributes.board_id+"/lists.json",this.cards=new App.CardCollection,this.cards.url=api_url+"boards/"+this.attributes.board_id+"/lists/"+this.id+"/cards.json",this.cards.list=this,this.boards=new App.BoardCollection,this.board_users=new App.BoardsUserCollection,this.attachments=new App.CardAttachmentCollection,this.activities=new App.ActivityCollection,this.subscriber=new App.ListSubscriber,this.labels=new App.CardLabelCollection,this.lists_subscribers=new App.ListSubscriberCollection},storeName:"list",moveAfter:function(a){var b=this.collection.get(a),c=this.collection.next(b);"undefined"==typeof c?afterPosition=b.position()+2:afterPosition=c.position();var d=(afterPosition-b.position())/2,e=d+b.position();return this.set({position:e},{silent:!0}),this},moveBefore:function(a){var b=this.collection.get(a),c=this.collection.previous(b);"undefined"==typeof c?beforePosition=0:beforePosition=c.position();var d=(b.position()-beforePosition)/2,e=d+beforePosition;return this.set({position:e},{silent:!0}),this.collection.sort({silent:!0}),this},position:function(){return parseFloat(this.attributes.position)}}),"undefined"==typeof App&&(App={}),App.Flickr=Backbone.Model.extend({initialize:function(){this.url="https://api.flickr.com/services/rest/?api_key="+FLICKR_API_KEY+"&format=json&method=flickr.photos.getRecent&nojsoncallback=1&page=1&per_page=20"},storeName:"flickr"}),"undefined"==typeof App&&(App={}),App.Organization=Backbone.Model.extend({initialize:function(a){this.boards=new App.BoardCollection,this.board_users=new App.BoardsUserCollection,this.organizations_users=new App.OrganizationsUserCollection,this.acl_links=new App.AclOrganizationLinksCollection}}),"undefined"==typeof App&&(App={}),App.ListSubscriber=Backbone.Model.extend({}),"undefined"==typeof App&&(App={}),App.Card=Backbone.Model.extend({storeName:"card",initialize:function(){this.url=api_url+"boards/"+this.attributes.board_id+"/lists/"+this.attributes.list_id+"/cards.json",this.attachments=new App.CardAttachmentCollection,this.attachments.card=this,this.labels=new App.CardLabelCollection,this.labels.card=this,this.board_labels=new App.CardLabelCollection,this.checklists=new App.CardCheckListCollection,this.checklists.card=this,this.board_users=new App.BoardsUserCollection,this.board_users.card=this,this.cards=new App.CardCollection,this.users=new App.UserCollection,this.card_voters=new App.CardVoterCollection,this.board_activities=new App.ActivityCollection,this.cards_subscribers=new App.CardSubscriberCollection},moveAfter:function(a){var b=this.collection.get(a),c=this.collection.next(b);"undefined"==typeof c?afterPosition=b.position()+2:afterPosition=c.position();var d=(afterPosition-b.position())/2,e=d+b.position();return this.set({position:e},{silent:!0}),this},moveBefore:function(a){var b=this.collection.get(a),c=this.collection.previous(b);"undefined"==typeof c?beforePosition=0:beforePosition=c.position();var d=(b.position()-beforePosition)/2,e=d+beforePosition;return this.set({position:e},{silent:!0}),this.collection.sort({silent:!0}),this},position:function(){return parseFloat(this.attributes.position)}}),"undefined"==typeof App&&(App={}),App.OrganizationsUser=Backbone.Model.extend({}),"undefined"==typeof App&&(App={}),App.BoardsUser=Backbone.Model.extend({storeName:"board_user"}),"undefined"==typeof App&&(App={}),App.Activity=Backbone.Model.extend({storeName:"comment",initialize:function(){this.user=new App.User,this.cards=new App.CardCollection,this.lists=new App.ListCollection,this.boards=new App.BoardCollection}}),"undefined"==typeof App&&(App={}),App.CardVoter=Backbone.Model.extend({storeName:"card_voter"}),"undefined"==typeof App&&(App={}),App.CardSubscriber=Backbone.Model.extend({storeName:"card_subscriber"}),"undefined"==typeof App&&(App={}),App.CardAttachment=Backbone.Model.extend({initialize:function(){this.card=new App.Card}}),"undefined"==typeof App&&(App={}),App.Label=Backbone.Model.extend({storeName:"label",initialize:function(){this.card=new App.Card}}),"undefined"==typeof App&&(App={}),App.CheckList=Backbone.Model.extend({storeName:"checklist",initialize:function(){this.checklist_items=new App.CheckListItemCollection,this.board_users=new App.BoardsUserCollection,this.card=new App.Card},moveAfter:function(a){var b=this.collection.get(a),c=this.collection.next(b);"undefined"==typeof c?afterPosition=b.position()+2:afterPosition=c.position();var d=(afterPosition-b.position())/2,e=d+b.position();return this.set({position:e}),this},moveBefore:function(a){var b=this.collection.get(a),c=this.collection.previous(b);"undefined"==typeof c?beforePosition=0:beforePosition=c.position();var d=(b.position()-beforePosition)/2,e=d+beforePosition;return this.set({position:e}),this.collection.sort({silent:!0}),this},position:function(){return parseFloat(this.attributes.position)}}),"undefined"==typeof App&&(App={}),App.CheckListItem=Backbone.Model.extend({storeName:"item",initialize:function(){this.board_users=new App.BoardsUserCollection,this.cards=new App.CardCollection},moveAfter:function(a){var b=this.collection.get(a),c=this.collection.next(b);"undefined"==typeof c?afterPosition=b.position()+2:afterPosition=c.position();var d=(afterPosition-b.position())/2,e=d+b.position();return this.set({position:e}),this},moveBefore:function(a){var b=this.collection.get(a),c=this.collection.previous(b);"undefined"==typeof c?beforePosition=0:beforePosition=c.position();var d=(b.position()-beforePosition)/2,e=d+beforePosition;return this.set({position:e}),this.collection.sort({silent:!0}),this},position:function(){return parseFloat(this.attributes.position)}}),"undefined"==typeof App&&(App={}),App.CardUser=Backbone.Model.extend({storeName:"card_user"}),"undefined"==typeof App&&(App={}),App.ElasticSearch=Backbone.Model.extend({}),"undefined"==typeof App&&(App={}),App.WorkFlowTemplate=Backbone.Model.extend({}),"undefined"==typeof App&&(App={}),App.ACL=Backbone.Model.extend({initialize:function(){this.acl_links_roles=new App.RoleSettingsCollection}}),"undefined"==typeof App&&(App={}),App.Role=Backbone.Model.extend({}),"undefined"==typeof App&&(App={}),App.RoleSetting=Backbone.Model.extend({}),"undefined"==typeof App&&(App={}),App.SettingCategory=Backbone.Model.extend({}),"undefined"==typeof App&&(App={}),App.BoardStar=Backbone.Model.extend({url:function(){return api_url+"board_stars/"+this.id+".json"}}),"undefined"==typeof App&&(App={}),App.InstantCardAdd=Backbone.Model.extend({}),"undefined"==typeof App&&(App={}),App.EmailTemplate=Backbone.Model.extend({}),"undefined"==typeof App&&(App={}),App.App=Backbone.Model.extend({}),"undefined"==typeof App&&(App={}),App.OauthClient=Backbone.Model.extend({}),"undefined"==typeof App&&(App={}),App.OauthApplication=Backbone.Model.extend({idAttribute:"client_id"}),"undefined"==typeof App&&(App={}),App.AclBoardLinks=Backbone.Model.extend({initialize:function(){this.acl_board_links_boards_user_roles=new App.AclBoardLinksCollection}}),"undefined"==typeof App&&(App={}),App.BoardUserRoles=Backbone.Model.extend({}),"undefined"==typeof App&&(App={}),App.AclOrganizationLinks=Backbone.Model.extend({initialize:function(){this.acl_organization_links_organizations_user_roles=new App.AclOrganizationLinksCollection}}),"undefined"==typeof App&&(App={}),App.OrganizationUserRoles=Backbone.Model.extend({}),"undefined"==typeof App&&(App={}),App.ChatHistory=Backbone.Model.extend({model:"chat_history",initialize:function(){this.user=new App.User,this.cards=new App.CardCollection,this.lists=new App.ListCollection,this.boards=new App.BoardCollection}}),"undefined"==typeof App&&(App={}),App.UserCollection=Backbone.Collection.extend({model:App.User,initialize:function(){this.sortField="id",this.sortDirection="desc"},forSelect:function(){return this.map(function(a){return[a.get("name"),a.id]})},saved:function(){return this.reject(function(a){return a.isNew()})},setSortField:function(a,b){this.sortField=a,this.sortDirection=b},comparator:function(a){var b=this,c=""+a.get(this.sortField);if("id"!==this.sortField)return c=c.toLowerCase(),c=c.split(""),c=_.map(c,function(a){return"desc"===b.sortDirection.toLowerCase()?String.fromCharCode(-a.charCodeAt(0)):String.fromCharCode(a.charCodeAt(0))});if("created"!==this.sortField&&"last_login_date"!==this.sortField)return"desc"===b.sortDirection.toLowerCase()?-a.get(this.sortField):a.get(this.sortField);if(null!==a.get(this.sortField)){var d=a.get(this.sortField).split(" ");return _.isUndefined(d[1])?_date=d[0]:_date=d[0]+"T"+d[1],sort_date=new Date(_date),"desc"===b.sortDirection.toLowerCase()?-sort_date.getTime():sort_date.getTime()}},parse:function(a){return _.isUndefined(a._metadata)?a:a.data}}),"undefined"==typeof App&&(App={}),App.AttachmentCollection=Backbone.Collection.extend({model:App.Attachment,saved:function(){return this.reject(function(a){return a.isNew()})}}),"undefined"==typeof App&&(App={}),App.ListCollection=Backbone.Collection.extend({model:App.List,comparator:function(a){return a.get("position")},sortByColumn:function(a){this.sortKey=a,this.sort()},storeName:"list",search:function(a){if(""===a)return this;var b=new RegExp(a,"gi");return _(this.filter(function(a){return b.test(a.get("name"))}))},next:function(a){return this.at(this.indexOf(a)+1)},previous:function(a){return this.at(this.indexOf(a)-1)}}),"undefined"==typeof App&&(App={}),App.FlickrCollection=Backbone.Collection.extend({model:App.Flickr,storeName:"flickr"}),"undefined"==typeof App&&(App={}),App.OrganizationCollection=Backbone.Collection.extend({model:App.Organization,initialize:function(){this.sortField="name",this.sortDirection="ASC"},saved:function(){return this.reject(function(a){return a.isNew()})},setSortField:function(a,b){this.sortField=a,this.sortDirection=b},comparator:function(a){var b=this,c=""+a.get(this.sortField);return"id"!==this.sortField?(c=c.toLowerCase(),c=c.split(""),c=_.map(c,function(a){
return"desc"===b.sortDirection.toLowerCase()?String.fromCharCode(-a.charCodeAt(0)):String.fromCharCode(a.charCodeAt(0))})):"desc"===b.sortDirection.toLowerCase()?-a.get(this.sortField):a.get(this.sortField)}}),"undefined"==typeof App&&(App={}),App.OrganizationsUserCollection=Backbone.Collection.extend({model:App.OrganizationsUser,saved:function(){return this.reject(function(a){return a.isNew()})}}),"undefined"==typeof App&&(App={}),App.BoardsUserCollection=Backbone.Collection.extend({model:App.BoardsUser,comparator:function(a){return-a.get("board_user_role_id")},search:function(a){if(""===a)return this;var b=new RegExp(a,"gi");return _(this.filter(function(a){return b.test(a.get("username"))||b.test(a.get("email"))}))},saved:function(){return this.reject(function(a){return a.isNew()})}}),"undefined"==typeof App&&(App={}),App.ActivityCollection=Backbone.Collection.extend({model:App.Activity,parse:function(a){return _.isUndefined(a._metadata)?a:a.data}}),"undefined"==typeof App&&(App={}),App.BoardSubscriberCollection=Backbone.Collection.extend({model:App.BoardSubscriber}),"undefined"==typeof App&&(App={}),App.CardCollection=Backbone.Collection.extend({model:App.Card,sortDirection:"asc",comparator:function(a){return"desc"===this.sortDirection?-a.get("position"):a.get("position")},sortByColumn:function(a){this.sortKey=a,this.sort()},search:function(a){if(""===a)return this;var b=new RegExp(a,"gi");return _(this.filter(function(a){return b.test(a.get("name"))}))},next:function(a){var b=this.where({list_id:a.attributes.list_id}),c=new App.CardCollection;return c.reset(b,{silent:!0}),c.sortByColumn("position"),c.at(c.indexOf(a)+1)},previous:function(a){var b=this.where({list_id:a.attributes.list_id}),c=new App.CardCollection;return c.reset(b,{silent:!0}),c.sortByColumn("position"),c.at(c.indexOf(a)-1)}}),"undefined"==typeof App&&(App={}),App.BoardCollection=Backbone.Collection.extend({model:App.Board,search:function(a){if(""===a)return this;RegExp.escape=function(a){return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")};var b=new RegExp(RegExp.escape(a),"i");return _(this.filter(function(a){return b.test(a.get("name"))}))},setSortField:function(a,b){this.sortField=a,this.sortDirection=b},comparator:function(a){if(!_.isUndefined(this.sortDirection)){var b=this,c=""+a.get(this.sortField);if("id"!==this.sortField)return c=c.toLowerCase(),c=c.split(""),c=_.map(c,function(a){return"desc"===b.sortDirection.toLowerCase()?String.fromCharCode(-a.charCodeAt(0)):String.fromCharCode(a.charCodeAt(0))});if("created"!==this.sortField&&"modified"!==this.sortField)return"desc"===b.sortDirection.toLowerCase()?-a.get(this.sortField):a.get(this.sortField);if(null!==a.get(this.sortField)){var d=a.get(this.sortField).split(" ");return _.isUndefined(d[1])?_date=d[0]:_date=d[0]+"T"+d[1],sort_date=new Date(_date),"desc"===b.sortDirection.toLowerCase()?-sort_date.getTime():sort_date.getTime()}}},parse:function(a){return _.isUndefined(a._metadata)?a:a.data}}),"undefined"==typeof App&&(App={}),App.CardAttachmentCollection=Backbone.Collection.extend({model:App.CardAttachment}),"undefined"==typeof App&&(App={}),App.CardLabelCollection=Backbone.Collection.extend({model:App.Label}),"undefined"==typeof App&&(App={}),App.CardPositionCollection=Backbone.Collection.extend({model:App.Position}),"undefined"==typeof App&&(App={}),App.CardCheckListCollection=Backbone.Collection.extend({model:App.CheckList,comparator:function(a){return a.get("position")},sortByColumn:function(a){this.sortKey=a,this.sort()},next:function(a){var b=this.where({card_id:a.attributes.card_id}),c=new App.CardCheckListCollection;return c.reset(b),c.at(c.indexOf(a)+1)},previous:function(a){var b=this.where({card_id:a.attributes.card_id}),c=new App.CardCheckListCollection;return c.reset(b),c.at(c.indexOf(a)-1)}}),"undefined"==typeof App&&(App={}),App.CheckListItemCollection=Backbone.Collection.extend({model:App.CheckListItem,comparator:function(a){return a.get("position")},sortByColumn:function(a){this.sortKey=a,this.sort()},next:function(a){var b=this.where({checklist_id:a.attributes.checklist_id}),c=new App.CheckListItemCollection;return c.reset(b),c.at(c.indexOf(a)+1)},previous:function(a){var b=this.where({checklist_id:a.attributes.checklist_id}),c=new App.CheckListItemCollection;return c.reset(b),c.at(c.indexOf(a)-1)}}),"undefined"==typeof App&&(App={}),App.CardVoterCollection=Backbone.Collection.extend({model:App.CardVoter}),"undefined"==typeof App&&(App={}),App.ElasticSearchCollection=Backbone.Collection.extend({model:App.ElasticSearch}),"undefined"==typeof App&&(App={}),App.WorkFlowTemplateCollection=Backbone.Collection.extend({model:App.WorkFlowTemplate}),"undefined"==typeof App&&(App={}),App.ListSubscriberCollection=Backbone.Collection.extend({model:App.ListSubscriber}),"undefined"==typeof App&&(App={}),App.CardSubscriberCollection=Backbone.Collection.extend({model:App.CardSubscriber}),"undefined"==typeof App&&(App={}),App.CardUserCollection=Backbone.Collection.extend({model:App.CardUser}),"undefined"==typeof App&&(App={}),App.ACLCollection=Backbone.Collection.extend({model:App.ACL}),"undefined"==typeof App&&(App={}),App.RoleCollection=Backbone.Collection.extend({model:App.Role}),"undefined"==typeof App&&(App={}),App.SettingCategoryCollection=Backbone.Collection.extend({model:App.SettingCategory,url:api_url+"settings.json",initialize:function(a){this.url=api_url+"settings.json"}}),"undefined"==typeof App&&(App={}),App.BoardStarCollection=Backbone.Collection.extend({model:App.BoardStar}),"undefined"==typeof App&&(App={}),App.EmailTemplateCollection=Backbone.Collection.extend({model:App.EmailTemplate}),"undefined"==typeof App&&(App={}),App.RoleSettingsCollection=Backbone.Collection.extend({model:App.RoleSetting}),"undefined"==typeof App&&(App={}),App.AppCollection=Backbone.Collection.extend({model:App.App}),"undefined"==typeof App&&(App={}),App.OauthClientCollection=Backbone.Collection.extend({model:App.OauthClient,parse:function(a){return _.isUndefined(a._metadata)?a:a.data}}),"undefined"==typeof App&&(App={}),App.OauthApplicationCollection=Backbone.Collection.extend({model:App.OauthApplication,parse:function(a){return _.isUndefined(a._metadata)?a:a.data}}),"undefined"==typeof App&&(App={}),App.AclBoardLinksCollection=Backbone.Collection.extend({model:App.AclBoardLinks}),"undefined"==typeof App&&(App={}),App.OrganizationUserRolesCollection=Backbone.Collection.extend({model:App.OrganizationUserRoles}),"undefined"==typeof App&&(App={}),App.AclOrganizationLinksCollection=Backbone.Collection.extend({model:App.AclOrganizationLinks}),"undefined"==typeof App&&(App={}),App.BoardUserRolesCollection=Backbone.Collection.extend({model:App.BoardUserRoles}),"undefined"==typeof App&&(App={}),App.ChatHistoryCollection=Backbone.Collection.extend({model:App.ChatHistory,parse:function(a){return _.isUndefined(a._metadata)?a:a.data}}),this.JST=this.JST||{},this.JST["templates/about_us"]=function(obj){obj||(obj={});var __p="",__e=_.escape;with(obj)__p+='<div class="about-block col-xs-pull-0 col-xs-push-0">\r\n	<h1><a title="'+__e(SITE_NAME)+'" href="javascript:void(0);"><img src="img/logo.png" alt="[Image: '+__e(SITE_NAME)+' ]" title="'+__e(SITE_NAME)+'" class="img-responsive center-block"/></a> </h1>\r\n	<small class="show text-center">v 0.3 (2016-06-30)</small>\r\n	<h3>'+__e(i18next.t("Technologies and Components"))+'</h3>\r\n		<ul class="list-unstyled">\r\n			<li>Restya platform <a class="text-primary" target="_blank" title="http://restya.com/?utm_source=Restyaboard - '+__e(SITE_NAME)+'&utm_medium=web&utm_campaign=about_us" href="http://restya.com/">http://restya.com/ </a></li>\r\n			<li>Backbone.js <a class="text-primary" target="_blank" title="http://backbonejs.org/" href="http://backbonejs.org/ ">http://backbonejs.org/ </a></li>\r\n			<li>Underscore <a class="text-primary" target="_blank" title="http://underscorejs.org" href="http://underscorejs.org">http://underscorejs.org </a></li>\r\n			<li>jQuery <a class="text-primary" target="_blank" title="http://jquery.com/" href="http://jquery.com/">http://jquery.com/ </a></li>\r\n			<li>jQuery UI <a class="text-primary" target="_blank" title="http://jqueryui.com" href="http://jqueryui.com">http://jqueryui.com </a></li>\r\n			<li>Bootstrap3 <a class="text-primary" target="_blank" title="http://getbootstrap.com/" href="http://getbootstrap.com/">http://getbootstrap.com/ </a></li>\r\n			<li>Font Awesome <a class="text-primary" target="_blank" title="http://fortawesome.github.io/Font-Awesome/" href="http://fortawesome.github.io/Font-Awesome/">http://fortawesome.github.io/Font-Awesome/ </a></li>\r\n			<li>Dockmodal <a class="text-primary" target="_blank" title="http://uxmine.com/demo/dockmodal/" href="http://uxmine.com/demo/dockmodal/">http://uxmine.com/demo/dockmodal/ </a></li>\r\n			<li>FullCalendar <a class="text-primary" target="_blank" title="http://fullcalendar.io/" href="http://fullcalendar.io/">http://fullcalendar.io/ </a></li>\r\n			<li>Gantt <a class="text-primary" target="_blank" title="http://taitems.github.io/jQuery.Gantt/" href="http://taitems.github.io/jQuery.Gantt/">http://taitems.github.io/jQuery.Gantt/ </a></li>\r\n			<li>Markdown Converter <a class="text-primary" target="_blank" title="https://github.com/showdownjs/showdown" href="https://github.com/showdownjs/showdown">https://github.com/showdownjs/showdown </a></li>\r\n			<li>Select2 <a class="text-primary" target="_blank" title="https://select2.github.io/" href="https://select2.github.io/">https://select2.github.io/ </a></li>\r\n			<li>Fileupload <a class="text-primary" target="_blank" title="https://blueimp.github.io/jQuery-File-Upload/" href="https://blueimp.github.io/jQuery-File-Upload/">https://blueimp.github.io/jQuery-File-Upload/ </a></li>\r\n			<li>Emoji <a class="text-primary" target="_blank" title="http://hassankhan.me/emojify.js/" href="http://hassankhan.me/emojify.js/">http://hassankhan.me/emojify.js/ </a></li>\r\n			<li>Doughnut Chart <a class="text-primary" target="_blank" title="https://github.com/githiro/drawDoughnutChart" href="https://github.com/githiro/drawDoughnutChart">https://github.com/githiro/drawDoughnutChart </a></li>\r\n			<li>Dualstorage <a class="text-primary" target="_blank" title="https://github.com/nilbus/Backbone.dualStorage" href="https://github.com/nilbus/Backbone.dualStorage">https://github.com/nilbus/Backbone.dualStorage </a></li>\r\n			<li>Backbone Batch Operations <a class="text-primary" target="_blank" title="https://github.com/akiomik/backbone-batch-operations/" href="https://github.com/akiomik/backbone-batch-operations/">https://github.com/akiomik/backbone-batch-operations/ </a></li>\r\n			<li>Timeago <a class="text-primary" target="_blank" title="http://timeago.yarp.com/" href="http://timeago.yarp.com/">http://timeago.yarp.com/ </a></li>\r\n			<li>Flickr <a class="text-primary" target="_blank" title="https://www.flickr.com/services/api/" href="https://www.flickr.com/services/api/">https://www.flickr.com/services/api/ </a></li>\r\n			<li>Musical <a class="text-primary" target="_blank" title="https://github.com/PencilCode/musical.js" href="https://github.com/PencilCode/musical.js">https://github.com/PencilCode/musical.js </a></li>\r\n			<li>Dropbox <a class="text-primary" target="_blank" title="https://www.dropbox.com/developers/dropins/chooser/js" href="https://www.dropbox.com/developers/dropins/chooser/js">https://www.dropbox.com/developers/dropins/chooser/js </a></li>\r\n			<li>PostgreSQL <a class="text-primary" target="_blank" title="http://www.postgresql.org" href="http://www.postgresql.org">http://www.postgresql.org </a></li>\r\n			<li>Finediff <a class="text-primary" target="_blank" title="http://www.raymondhill.net/finediff/" href="http://www.raymondhill.net/finediff/">http://www.raymondhill.net/finediff/ </a></li>\r\n			<li>OAuth <a class="text-primary" target="_blank" title="http://bshaffer.github.io/oauth2-server-php-docs/" href="http://bshaffer.github.io/oauth2-server-php-docs/">http://bshaffer.github.io/oauth2-server-php-docs/ </a></li>\r\n			<li>ElasticSearch <a class="text-primary" target="_blank" title="https://www.elastic.co/" href="https://www.elastic.co/">https://www.elastic.co/ </a></li>\r\n			<li>Grunt <a class="text-primary" target="_blank" title="http://gruntjs.com/" href="http://gruntjs.com/">http://gruntjs.com/ </a></li>\r\n			<li>Swagger UI <a class="text-primary" target="_blank" title="http://swagger.io/swagger-ui/" href="http://swagger.io/swagger-ui/">http://swagger.io/swagger-ui/ </a></li>\r\n			<li>XMPP chat <a class="text-primary" target="_blank" title="http://conversejs.org" href="http://conversejs.org">http://conversejs.org </a></li>\r\n			<li>Custom fields <a class="text-primary" target="_blank" title="http://github.com/powmedia/backbone-forms" href="http://github.com/powmedia/backbone-forms">http://github.com/powmedia/backbone-forms </a></li>\r\n			<li>Sparkline <a class="text-primary" target="_blank" title="http://omnipotent.net/jquery.sparkline/" href="http://omnipotent.net/jquery.sparkline/">http://omnipotent.net/jquery.sparkline/ </a></li>\r\n		</ul>\r\n</div>';return __p},this.JST["templates/activity"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;Array.prototype.join;with(obj){if(_.isEmpty(activity)||null==activity)__p+='<div class="media-body alert alert-info">'+__e(i18next.t("No %s available.",{postProcess:"sprintf",sprintf:[i18next.t("activities")]}))+"</div>";else{__p+=" \r\n";var unread="";if(__p+="\r\n",!_.isUndefined(activity.from_footer)&&parseInt(activity.attributes.id)>parseInt(authuser.user.unread_activity_id)){if(__p+="\r\n	 ",parseInt(activity.attributes.user_id)!==parseInt(authuser.user.id)){__p+=" \r\n	 ";var unread="js-unread-activity";__p+=' \r\n	 <span class="label label-primary col-xs-12 sr-only">&nbsp;</span>   \r\n	'}__p+="    \r\n"}if(__p+='                   \r\n<div class="media '+(null==(__t=unread)?"":__t)+"  modal-",__p+="add_comment"==activity.attributes.type||"edit_comment"==activity.attributes.type?"comments":"activities",__p+=" ",_.isUndefined(authuser.user)||activity.attributes.user_id!=authuser.user.id||(__p+="modal-logged-user-activities"),__p+='">\r\n<a data-placement="bottom" title="'+__e(activity.attributes.full_name)+" ("+__e(activity.attributes.username)+')" data-toggle="tooltip" data-container="body" data-html="true" class="js-tooltip pull-left" href="#/user/'+__e(activity.attributes.user_id)+'">\r\n		',_.isEmpty(activity.attributes.profile_picture_path))__p+=' \r\n			<i class="avatar avatar-color-194 img-rounded">'+__e(activity.attributes.initials)+"</i>\r\n		";else{var profile_picture_path=activity.showImage("User",activity.attributes.user_id,"small_thumb");__p+='      \r\n			<img src="'+(null==(__t=profile_picture_path)?"":__t)+'" alt="[Image: '+__e(activity.attributes.full_name)+']" title="'+__e(activity.attributes.full_name)+" ("+__e(activity.attributes.username)+')" class="img-rounded img-responsive">\r\n		'}if(__p+='       \r\n	</a>\r\n	<div class="media-body">   \r\n    	',"add_comment"==activity.attributes.type&&"edit_comment"==activity.attributes.type)__p+='\r\n		<div class="media-heading">			\r\n			\r\n            <span class="js-activity-'+__e(activity.attributes.id)+'">'+(null==(__t=converter.makeHtml(makeLink(""+_.escape(activity.attributes.comment),activity.attributes.board_id)))?"":__t)+"</span>\r\n		</div>   \r\n        ";else{__p+="\r\n		";var cardLink='<a href="#/board/'+activity.attributes.board_id+"/card/"+activity.attributes.card_id+'">'+_.escape(activity.attributes.card_name)+"</a>",organizationLink='<a href="#/organization/'+activity.attributes.organization_id+'">'+_.escape(activity.attributes.organization_name)+"</a>";if("add_comment"!=activity.attributes.type&&"edit_comment"!=activity.attributes.type)activity.attributes.comment=activity.attributes.comment.replace("##ORGANIZATION_LINK##",organizationLink),activity.attributes.comment=activity.attributes.comment.replace("##CARD_LINK##",cardLink),activity.attributes.comment=activity.attributes.comment.replace("##LABEL_NAME##",_.escape(activity.attributes.label_name)),activity.attributes.comment=activity.attributes.comment.replace("##CARD_NAME##",_.escape(activity.attributes.card_name)),activity.attributes.comment=activity.attributes.comment.replace("##DESCRIPTION##",_.escape(activity.attributes.card_description)),activity.attributes.comment=activity.attributes.comment.replace("##LIST_NAME##",_.escape(activity.attributes.list_name)),activity.attributes.comment=activity.attributes.comment.replace("##BOARD_NAME##",_.escape(activity.attributes.board_name)),activity.attributes.comment=activity.attributes.comment.replace("##USER_NAME##",'<span class="h5">'+_.escape(activity.attributes.full_name)+"</span>"),activity.attributes.comment=activity.attributes.comment.replace("##CHECKLIST_ITEM_NAME##",_.escape(activity.attributes.checklist_item_name)),activity.attributes.comment=activity.attributes.comment.replace("##CHECKLIST_ITEM_PARENT_NAME##",_.escape(activity.attributes.checklist_item_parent_name)),activity.attributes.comment=activity.attributes.comment.replace("##CHECKLIST_NAME##",_.escape(activity.attributes.checklist_name));else if(!_.isUndefined(activity.from_footer)){var comment='<span class="h5">'+activity.attributes.full_name+"</span> commented in card "+cardLink,matches=activity.attributes.comment.match(/@([^ ]*)/g),_username=[];_.each(matches,function(a){_username.push(a.substr(1))}),_.contains(_username,authuser.user.username)&&(comment=activity.attributes.full_name+" has mentioned you in card "+cardLink)}__p+='             \r\n		<div class="col-xs-12 btn-block">  \r\n					<div class="activities-list js-activity-'+__e(activity.attributes.id)+'">\r\n					',"add_comment"==activity.attributes.type||"edit_comment"==activity.attributes.type?(__p+="\r\n						",_.isUndefined(activity.from_footer)||(__p+="\r\n							<span>"+(null==(__t=comment)?"":__t)+"</span>\r\n						"),__p+='\r\n							<div class="panel no-mar"><div class="panel-body">\r\n\r\n							'+(null==(__t=converter.makeHtml(makeLink(activity.attributes.comment,activity.attributes.board_id)))?"":__t)+"\r\n							",null!=activity.attributes.difference&&_.contains(["update_card_comment","edit_list","edit_organization","edit_board","update_card_checklist","update_profile","edit_card"],activity.attributes.type)&&(__p+='\r\n						<div class="',_.isUndefined(activity.from_footer)||(__p+="thumbnail"),__p+=' list-group-item-text">\r\n							',_.each(activity.attributes.difference,function(a){__p+="\r\n								"+(null==(__t=converter.makeHtml(a))?"":__t)+"\r\n							"}),__p+="\r\n						</div>\r\n					"),__p+="\r\n							</div></div>\r\n					"):(__p+="\r\n						",_.isUndefined(activity.from_footer)&&(__p+='\r\n							<div class="panel no-mar"><div class="panel-body">\r\n						'),__p+="\r\n							"+(null==(__t=converter.makeHtml(makeLink(activity.attributes.comment,activity.attributes.board_id)))?"":__t)+"\r\n							",null!=activity.attributes.difference&&_.contains(["update_card_comment","edit_list","edit_organization","edit_board","update_card_checklist","update_profile","edit_card"],activity.attributes.type)&&(__p+='\r\n						<div class="',_.isUndefined(activity.from_footer)||(__p+="thumbnail"),__p+=' list-group-item-text">\r\n							',_.each(activity.attributes.difference,function(a){__p+="\r\n								"+(null==(__t=converter.makeHtml(a))?"":__t)+"\r\n							"}),__p+="\r\n						</div>\r\n					"),__p+="\r\n						",_.isUndefined(activity.from_footer)&&(__p+="\r\n							</div></div>\r\n						"),__p+="\r\n					"),__p+='\r\n					<small class="pull-left">\r\n			<abbr class="timeago text-muted pull-left clearfix" title="'+__e(activity.attributes.created)+'">'+__e(activity.attributes.created)+"</abbr>\r\n			","add_organization_attachment"!=activity.attributes.type&&"change_visibility"!=activity.attributes.type&&"add_organization_user"!=activity.attributes.type&&"delete_organization_user"!=activity.attributes.type||_.isEmpty(activity.attributes.organization_name)?"all"!=type||"edit_organization"==activity.attributes.type||"add_organization"==activity.attributes.type||_.isEmpty(activity.attributes.board_name)||(__p+='\r\n				<a class="pull-left" href="#/board/'+(null==(__t=activity.attributes.board_id)?"":__t)+'">&nbsp;'+__e(i18next.t("on"))+"&nbsp;"+__e(activity.attributes.board_name)+"</a>\r\n			"):__p+='\r\n				<a href="#/organization/'+(null==(__t=activity.attributes.organization_id)?"":__t)+'">&nbsp;'+__e(i18next.t("on"))+"&nbsp;"+__e(activity.attributes.organization_name)+"</a>\r\n			",__p+="\r\n				",!_.isUndefined(authuser.user)&&"add_comment"==activity.attributes.type&&"all"!=type&&_.isUndefined(activity.from_footer)?(__p+='\r\n					<div class="js-acticity-action-'+__e(activity.attributes.id)+' pull-left navbar-btn col-xs-8">\r\n						<ul class="list-inline">\r\n						',_.isUndefined(authuser.user)||1!=authuser.user.role_id&&_.isEmpty(board.acl_links.where({slug:"edit_comment",board_user_role_id:parseInt(activity.board_user_role_id)}))||(__p+='\r\n							<li><a title="Edit" class="js-show-edit-activity js-edit-activity-link-'+__e(activity.attributes.id)+'" href="#" data-activity-id="'+__e(activity.attributes.id)+'"  data-activity-temp-id="'+__e(activity.attributes.temp_id)+'"><i class="icon-edit"></i>'+__e(i18next.t("Edit"))+"</a></li>\r\n						"),__p+=' \r\n							<li><a title="Reply" class="js-show-reply-activity-form js-reply-activity-link-'+__e(activity.attributes.id)+'" href="#" data-activity-id="'+__e(activity.attributes.id)+'"><i class="icon-repeat"></i>'+__e(i18next.t("Reply"))+"</a></li>\r\n						",_.isUndefined(authuser.user)||1!=authuser.user.role_id&&_.isEmpty(board.acl_links.where({slug:"delete_comment",board_user_role_id:parseInt(activity.board_user_role_id)}))||(__p+='\r\n								<li class="dropdown">\r\n									<a title="Delete" class="dropdown-toggle js-show-confirm-comment-delete" data-toggle="dropdown" href="#" data-activity-id="'+__e(activity.attributes.id)+'"><i class="icon-remove"></i>'+__e(i18next.t("Delete"))+'</a>\r\n									<ul class="dropdown-menu arrow arrow-right">\r\n										<li id="js-acticity-actions-response-'+__e(activity.attributes.id)+'" class="js-dropdown-popup dropdown-popup"></li>\r\n									</ul>\r\n								</li>\r\n							\r\n						'),__p+="\r\n						</ul>\r\n					</div>\r\n				"):null==activity.attributes.revisions||""==activity.attributes.revisions||_.isUndefined(authuser.user)||(__p+="\r\n					",_.isEmpty(role_links.where({slug:"undo_activity"}))||(__p+="\r\n						",__p+=_.isUndefined(activity.from_footer)?'	\r\n							<div class="js-acticity-action-'+__e(activity.attributes.id)+'"><ul class="list-inline"><li><a title="Undo" class="js-undo col-xs-12 nav navbar-btn" href="#" data-activity-id="'+__e(activity.attributes.id)+'"><i class="icon-undo"></i>'+__e(i18next.t("Undo"))+"</a></li></ul></div>\r\n						":'\r\n							<div class="js-acticity-action-'+__e(activity.attributes.id)+'"><ul class="list-inline"><li><a title="Undo" class="js-undo2 col-xs-12 nav navbar-btn" href="#" data-activity-id="'+__e(activity.attributes.id)+'"><i class="icon-undo"></i>'+__e(i18next.t("Undo"))+"</a></li></ul></div>							\r\n						",__p+="	\r\n					"),__p+="\r\n				"),__p+='\r\n				<span class="pull-left col-xs-12 js-activity-reply-form-response-'+__e(activity.attributes.id)+'"></span>\r\n		</small>\r\n					</div>\r\n		</div>\r\n        '}__p+="\r\n	</div>\r\n</div>\r\n\r\n\r\n\r\n	",_.isEmpty(unread)&&(__p+=' \r\n		<hr class="clearfix col-xs-12 btn-block"/>\r\n	'),__p+="\r\n	",_.isEmpty(unread)||(__p+='\r\n		<div class="well-sm clearfix"></div>\r\n	'),__p+="\r\n"}__p+="\r\n"}return __p},this.JST["templates/activity_add_form"]=function(obj){obj||(obj={});var __p="",__e=_.escape;with(obj)__p+='<div class="form-group required"><textarea id="inputAddComment" name="comment" class="form-control" placeholder="Write a comment"  title="Write a comment" required></textarea></div><div class="submit"><input type="hidden" name="list_id" id="ListID" value="'+__e(card.attributes.list_id)+'"> <input type="hidden" name="card_id" id="CardID" value="'+__e(card.attributes.id)+'"> <input type="submit" id="submitCommentAdd" class="btn btn-primary" value="Comment"></div>';return __p},this.JST["templates/activity_card_search"]=function(obj){obj||(obj={});var __p="",__e=_.escape;Array.prototype.join;with(obj)__p+=null!=card?'\r\n<a title="'+__e(card.attributes.name)+'" href="#" class="js-add-comment-card" data-board-id="'+__e(card.attributes.board_id)+'" data-card-id="'+__e(card.id)+'" data-card-name="'+__e(card.attributes.name)+'"><span>'+__e(card.attributes.name)+"</span></a>\r\n":'\r\n<span class="alert alert-info">\r\n'+__e(i18next.t("No %s available.",{postProcess:"sprintf",sprintf:[i18next.t("cards")]}))+"\r\n</span>\r\n",__p+="\r\n";return __p},this.JST["templates/activity_delete_confirm"]=function(obj){obj||(obj={});var __p="",__e=_.escape;with(obj)__p+='<div class="clearfix text-center col-xs-12"><span class="col-xs-10"><strong>'+__e(i18next.t("Delete Comment"))+'?</strong></span><a class="js-close-popover pull-right" href="#"><i class="icon-remove"></i></a></div><div class="divider col-xs-12"></div><div class="col-xs-12"><p>'+__e(i18next.t("Deleting a comment is forever. There is no undo."))+'</p><a class="js-delete-comment btn btn-primary" title="Delete" data-activity-id="'+__e(activity_id)+'">'+__e(i18next.t("Delete"))+"</a></div>";return __p},this.JST["templates/activity_index"]=function(obj){obj||(obj={});var __p="",__e=_.escape;with(obj)__p+='<div class="well-sm"></div>\r\n<ul class="clearfix list-unstyled" id="js-admin-activity-list">\r\n\r\n</ul>\r\n<div class="btn btn-primary hide" id="js-admin-activites-load-more">'+__e(i18next.t("Load more activities"))+"</div>";return __p},this.JST["templates/activity_reply_form"]=function(obj){obj||(obj={});var __p="",__e=_.escape;with(obj)__p+='<div class="required form-group"><textarea rows="4" id="inputAddComment" name="comment" class="form-control" placeholder="'+__e(i18next.t("Write a comment"))+'" title="'+__e(i18next.t("Write a comment"))+'" required></textarea></div><div class="submit"><input type="hidden" name="list_id" id="ListID" value="'+__e(activity.attributes.list_id)+'"> <input type="hidden" name="card_id" id="CardID" value="'+__e(activity.attributes.card_id)+'"> <input type="hidden" name="root" id="RootID" value="'+__e(activity.attributes.id)+'"> <input type="submit" id="submitCommentAdd" class="btn btn-primary" value="'+__e(i18next.t("Reply"))+'"> <i class="icon-remove js-hide-reply-comment-form btn btn-link cur" title="'+__e(i18next.t("Cancel"))+'" data-activity-id="'+__e(activity.attributes.id)+'"></i></div>';return __p},this.JST["templates/activity_user_add_search_result"]=function(obj){obj||(obj={});var __p="",__e=_.escape;Array.prototype.join;with(obj){if(null!=user){if(__p+='<li><a title="'+__e(user.attributes.full_name)+" ("+__e(user.attributes.username)+')" href="#" class="js-add-comment-member" data-user-id="'+__e(user.id)+'" data-user-name="'+__e(user.attributes.username)+'" data-user-initial="'+__e(user.attributes.initials)+'" data-user-profile-picture-path="'+__e(user.attributes.profile_picture_path)+'" data-user-fullname="'+__e(user.attributes.full_name)+"><span>\r\n",_.isEmpty(user.attributes.profile_picture_path))__p+=' <i class="avatar avatar-color-194 avatar-sm img-rounded">'+__e(user.attributes.initials)+"</i>";else{var profile_picture_path=user.showImage("User",user.attributes.user_id,"micro_thumb");__p+='\r\n<img src="'+__e(profile_picture_path)+'" alt="[Image: '+__e(user.attributes.username)+']" title="'+__e(user.attributes.full_name)+" ("+__e(user.attributes.username)+')" class="img-rounded img-responsive avatar avatar-sm">'}__p+="</span> <span>"+__e(user.attributes.full_name)+" ("+__e(user.attributes.username)+")</span></a></li>"}else __p+='<li><span class="alert alert-info"> '+__e(i18next.t("No %s available.",{postProcess:"sprintf",sprintf:[i18next.t("users")]}))+"</span></li>";__p+="\r\n\r\n"}return __p},this.JST["templates/admin_activity_index"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;Array.prototype.join;with(obj){if(_.isEmpty(activity)||null==activity)__p+='<div class="media-body alert alert-info">'+__e(i18next.t("No %s available.",{postProcess:"sprintf",sprintf:[i18next.t("activities")]}))+"</div>";else{__p+=" \r\n";var cardLink='<a href="#/board/'+activity.attributes.board_id+"/card/"+activity.attributes.card_id+'">'+_.escape(activity.attributes.card_name)+"</a>",organizationLink='<a href="#/organization/'+activity.attributes.organization_id+'">'+_.escape(activity.attributes.organization_name)+"</a>";if("add_comment"!=activity.attributes.type&&"edit_comment"!=activity.attributes.type)activity.attributes.comment=activity.attributes.comment.replace("##ORGANIZATION_LINK##",organizationLink),activity.attributes.comment=activity.attributes.comment.replace("##CARD_LINK##",cardLink),activity.attributes.comment=activity.attributes.comment.replace("##LABEL_NAME##",_.escape(activity.attributes.label_name)),activity.attributes.comment=activity.attributes.comment.replace("##CARD_NAME##",_.escape(activity.attributes.card_name)),activity.attributes.comment=activity.attributes.comment.replace("##DESCRIPTION##",_.escape(activity.attributes.card_description)),activity.attributes.comment=activity.attributes.comment.replace("##LIST_NAME##",_.escape(activity.attributes.list_name)),activity.attributes.comment=activity.attributes.comment.replace("##BOARD_NAME##",_.escape(activity.attributes.board_name)),activity.attributes.comment=activity.attributes.comment.replace("##USER_NAME##",'<span class="h5">'+_.escape(activity.attributes.full_name)+"</span>"),activity.attributes.comment=activity.attributes.comment.replace("##CHECKLIST_ITEM_NAME##",_.escape(activity.attributes.checklist_item_name)),activity.attributes.comment=activity.attributes.comment.replace("##CHECKLIST_ITEM_PARENT_NAME##",_.escape(activity.attributes.checklist_item_parent_name)),activity.attributes.comment=activity.attributes.comment.replace("##CHECKLIST_NAME##",_.escape(activity.attributes.checklist_name));else{var comment=activity.attributes.full_name+" commented in card "+cardLink,matches=activity.attributes.comment.match(/@([^ ]*)/g),_username=[];_.each(matches,function(a){_username.push(a.substr(1))}),_.contains(_username,authuser.user.username)&&(comment=activity.attributes.full_name+" has mentioned you in card "+cardLink)}if(__p+='\r\n<div class="media">\r\n	<a data-placement="bottom" title="'+__e(activity.attributes.full_name)+" ("+__e(activity.attributes.username)+')" data-toggle="tooltip" class="js-tooltip pull-left" href="#/user/'+__e(activity.attributes.user_id)+'">\r\n		',_.isEmpty(activity.attributes.profile_picture_path))__p+=' \r\n			<i class="avatar avatar-color-194 img-rounded">'+__e(activity.attributes.initials)+"</i>\r\n		";else{var profile_picture_path=activity.showImage("User",activity.attributes.user_id,"small_thumb");__p+='\r\n			<img src="'+(null==(__t=profile_picture_path)?"":__t)+'" alt="[Image: '+__e(activity.attributes.full_name)+']" title="'+__e(activity.attributes.full_name)+" ("+__e(activity.attributes.username)+')" class="img-rounded img-responsive avatar">\r\n		'}__p+='\r\n	</a>\r\n	<div class="media-body"> <!-- Condition for comment activities design -->\r\n    	',"add_comment"!=activity.attributes.type&&"add_card_duedate"!=activity.attributes.type?(__p+='\r\n		<div class="media-heading">			\r\n            <span class="js-activity-'+__e(activity.attributes.id)+'">\r\n				',__p+="add_comment"==activity.attributes.type||"edit_comment"==activity.attributes.type?"	\r\n					<span>"+(null==(__t=comment)?"":__t)+"</span>\r\n					"+(null==(__t=converter.makeHtml(makeLink(_.escape(activity.attributes.comment),activity.attributes.board_id)))?"":__t)+"\r\n				":"\r\n					"+(null==(__t=converter.makeHtml(makeLink(activity.attributes.comment,activity.attributes.board_id)))?"":__t)+" \r\n				",__p+="\r\n			</span>\r\n            ",
null!=activity.attributes.difference&&_.contains(["update_card_comment","edit_list","edit_organization","edit_board","update_card_checklist","update_profile","edit_card"],activity.attributes.type)&&(__p+='\r\n                <div class="thumbnail media-body no-mar">\r\n					',_.each(activity.attributes.difference,function(a){__p+="\r\n						"+(null==(__t=converter.makeHtml(a))?"":__t)+"\r\n					"}),__p+="\r\n				</div>\r\n            "),__p+="\r\n		</div>   \r\n        "):(__p+='             \r\n		<div class="col-xs-12 row">\r\n			<div class="panel no-mar">\r\n				<div class="panel-body">\r\n					<span class="js-activity-'+__e(activity.attributes.id)+'">\r\n						',__p+="add_comment"==activity.attributes.type||"edit_comment"==activity.attributes.type?"	\r\n							<span>"+(null==(__t=comment)?"":__t)+"</span>\r\n							"+(null==(__t=converter.makeHtml(makeLink(_.escape(activity.attributes.comment),activity.attributes.board_id)))?"":__t)+"\r\n						":"\r\n							"+(null==(__t=converter.makeHtml(makeLink(activity.attributes.comment,activity.attributes.board_id)))?"":__t)+" \r\n						",__p+="\r\n					</span>\r\n					",null!=activity.attributes.difference&&_.contains(["update_card_comment","edit_list","edit_organization","edit_board","update_card_checklist","update_profile","edit_card"],activity.attributes.type)&&(__p+='\r\n						<div class="thumbnail media-body no-mar">'+(null==(__t=converter.makeHtml(activity.attributes.difference[0]))?"":__t)+"</div>\r\n					"),__p+="\r\n					\r\n				</div>\r\n			</div>		\r\n		</div>\r\n        "),__p+='\r\n	</div>\r\n</div>\r\n<div class="clearfix col-xs-12">\r\n	<div class="clearfix col-xs-12">\r\n		<small class="col-xs-12 pull-left">\r\n			<abbr class="timeago pull-left text-muted" title="'+__e(activity.attributes.created)+'">'+__e(activity.attributes.created)+"</abbr>\r\n			","add_organization_attachment"!=activity.attributes.type&&"change_visibility"!=activity.attributes.type&&"add_organization_user"!=activity.attributes.type&&"delete_organization_user"!=activity.attributes.type||_.isEmpty(activity.attributes.organization_name)?"all"!=type||"update_profile"==activity.attributes.type||"edit_organization"==activity.attributes.type||"add_organization"==activity.attributes.type||_.isEmpty(activity.attributes.board_name)||(__p+='\r\n				<a class="pull-left" href="#/board/'+(null==(__t=activity.attributes.board_id)?"":__t)+'">&nbsp;'+__e(i18next.t("on"))+"&nbsp;"+__e(activity.attributes.board_name)+"</a>\r\n			"):__p+='\r\n				<a class="pull-left" href="#/organization/'+(null==(__t=activity.attributes.organization_id)?"":__t)+'">&nbsp;'+__e(i18next.t("on"))+"&nbsp;"+__e(activity.attributes.organization_name)+"</a>\r\n			",__p+="\r\n					",_.isUndefined(authuser.user)||"add_comment"!=activity.attributes.type||"all"==type?null==activity.attributes.revisions||""==activity.attributes.revisions||1!=parseInt(authuser.user.id)&&1!=current_user_can_undo_it||(__p+="\r\n						",_.isEmpty(role_links.where({slug:"undo_activity"}))||(__p+="\r\n							",_.isUndefined(activity.from_footer)&&(__p+='\r\n								<div class="pull-left js-acticity-action-'+__e(activity.attributes.id)+'"><ul class="list-inline col-xs-offset-0"><li><a title="'+__e(i18next.t("Undo"))+'" class="js-undo2 pull-left" href="#" data-activity-id="'+__e(activity.attributes.id)+'"><i class="icon-undo"></i>'+__e(i18next.t("Undo"))+"</a></li></ul></div>\r\n							"),__p+="	\r\n						"),__p+="\r\n					"):(__p+='    \r\n						<div class="js-acticity-action-'+__e(activity.attributes.id)+' pull-left">\r\n							<ul class="list-inline col-xs-offset-0">\r\n							',_.isEmpty(role_links.where({slug:"edit_comment"}))||(__p+='\r\n								<li><a title="'+__e(i18next.t("Edit"))+'" class="js-show-edit-activity js-edit-activity-link-'+__e(activity.attributes.id)+'" href="#" data-activity-id="'+__e(activity.attributes.id)+'"><i class="icon-edit"></i>'+__e(i18next.t("Edit"))+"</a></li>\r\n							"),__p+=' \r\n								<li><a title="'+__e(i18next.t("Reply"))+'" class="js-show-reply-activity-form js-reply-activity-link-'+__e(activity.attributes.id)+'" href="#" data-activity-id="'+__e(activity.attributes.id)+'"><i class="icon-repeat"></i>'+__e(i18next.t("Reply"))+"</a></li>\r\n							",_.isEmpty(role_links.where({slug:"delete_comment"}))||(__p+='								\r\n									<li class="dropdown">   \r\n										<a title="'+__e(i18next.t("Delete"))+'" class="dropdown-toggle js-show-confirm-comment-delete" data-toggle="dropdown" href="#" data-activity-id="'+__e(activity.attributes.id)+'"><i class="icon-remove"></i>'+__e(i18next.t("Delete"))+'</a>\r\n										<ul class="dropdown-menu arrow arrow-right">\r\n											<li id="js-acticity-actions-response-'+__e(activity.attributes.id)+'" class="js-dropdown-popup dropdown-popup"></li>\r\n										</ul>\r\n									</li>\r\n								\r\n							'),__p+="\r\n							</ul>\r\n						</div>\r\n					"),__p+='\r\n					<span class="pull-left col-xs-12 js-activity-reply-form-response-'+__e(activity.attributes.id)+'"></span>\r\n		</small>\r\n	</div>\r\n</div>\r\n<hr class="clearfix col-xs-12 btn-block"/>\r\n'}__p+="\r\n"}return __p},this.JST["templates/admin_board_index"]=function(obj){obj||(obj={});var __p="",__e=_.escape;Array.prototype.join;with(obj){if(!_.isEmpty(role_links.where({slug:"view_my_boards"}))){__p+='\r\n  <div class="panel clearfix col-xs-12">    \r\n    <div class="well-sm"></div>\r\n	<section class="clearfix">\r\n		 <div class="col-xs-12">\r\n			<ul class="nav nav-pills text-center thumbnail js-filter-list">\r\n				<li><a class="js-filter cur" data-filter="open" title="'+__e(i18next.t("Open"))+'"><span class="show"><strong>'+__e(filter_count.open)+"</strong></span>"+__e(i18next.t("Open"))+'</a></li>\r\n				<li><a class="js-filter cur" data-filter="closed" title="'+__e(i18next.t("Closed"))+'"><span class="show"><strong>'+__e(filter_count.closed)+"</strong></span>"+__e(i18next.t("Closed"))+'</a></li>\r\n				<li><a class="js-filter cur" data-filter="public" title="'+__e(i18next.t("Public"))+'"><span class="show"><strong>'+__e(filter_count["public"])+"</strong></span>"+__e(i18next.t("Public"))+'</a></li>\r\n				<li><a class="js-filter cur" data-filter="private" title="'+__e(i18next.t("Private"))+'"><span class="show"><strong>'+__e(filter_count["private"])+"</strong></span>"+__e(i18next.t("Private"))+'</a></li>\r\n				<li><a class="js-filter cur" data-filter="organization" title="'+__e(i18next.t("Organization"))+'"><span class="show"><strong>'+__e(filter_count.organization)+"</strong></span>"+__e(i18next.t("Organization"))+"</a></li>\r\n				";var all=parseInt(filter_count.open)+parseInt(filter_count.closed);__p+='\r\n				<li class="active"><a href="#/boards/list" title="'+__e(i18next.t("All"))+'"><span class="show"><strong>'+__e(all)+"</strong></span>"+__e(i18next.t("All"))+'</a></li>\r\n				<li class="pull-right h4"><form id="BoardSearch" name="BoardSearch" class="form-horizontal col-xs-12"><input type="text" placeholder="Search" name="board_search" id="board_search" class="form-control" /></form></li>\r\n				\r\n			</ul>\r\n		 </div>\r\n	</section>\r\n	<section>\r\n		<div class="well-sm"></div>\r\n		<form role="form" class="col-xs-12">\r\n			<div class="table-responsive">\r\n				<table class="table table-striped table-bordered table-hover list-group-item-text">\r\n					<thead> \r\n						<tr class="active">\r\n						  <th rowspan="2" class="text-center">'+__e(i18next.t("Select"))+'</th>\r\n						  <th rowspan="2" class="col-xs-2 text-center"><span class="js-sort cur" data-field="name" data-direction="desc"  title="'+__e(i18next.t("Board Name"))+'"><span class="icon-caret-down"></span>'+__e(i18next.t("Board"))+'</span></th>\r\n						   <th rowspan="2" class="text-center"><span class="js-sort cur" data-field="organization_name" data-direction="desc"  title="Organization"><span class="icon-caret-down hide"></span>'+__e(i18next.t("Organization"))+'</span></th>\r\n						   <th rowspan="2" class="text-center col-xs-1"><span class="js-sort cur" data-field="username" data-direction="desc"  title="Created by"><span class="icon-caret-down hide"></span>'+__e(i18next.t("Created by"))+'</span></th>\r\n						   <th rowspan="2" class="text-center">'+__e(i18next.t("Members"))+'</th>\r\n						  <th colspan="2" class="text-center">'+__e(i18next.t("List"))+'</th>\r\n						  <th colspan="2" class="text-center">'+__e(i18next.t("Card"))+'</th>\r\n						  <th rowspan="2" class="text-center"><span class="js-sort cur" data-field="created" data-direction="desc"  title="'+__e(i18next.t("Created"))+'"><span class="icon-caret-down hide"></span>'+__e(i18next.t("Created"))+'</span></th>\r\n						  <th rowspan="2" class="text-center"><span class="js-sort cur" data-field="modified" data-direction="desc"  title="'+__e(i18next.t("Last activity"))+'"><span class="icon-caret-down hide"></span>'+__e(i18next.t("Last activity"))+'</span></th>\r\n						  <th rowspan="2" class="text-center th-width-sm">'+__e(i18next.t("Visibility"))+'</th>\r\n						</tr>\r\n						<tr class="active">\r\n						  <th class="text-center"><span class="icon-caret-down hide"></span><span class="js-sort cur verticalTableHeader show" data-field="list_count" data-direction="desc"  title="'+__e(i18next.t("Open"))+'">'+__e(i18next.t("Open"))+'</span></th>\r\n						  <th class="text-center"><span class="icon-caret-down hide"></span><span class="js-sort cur verticalTableHeader show" data-field="archived_list_count" data-direction="desc"  title="'+__e(i18next.t("Archived"))+'">'+__e(i18next.t("Archived"))+'</span></th>\r\n						  <th class="text-center"><span class="icon-caret-down hide"></span><span class="js-sort cur verticalTableHeader show" data-field="card_count" data-direction="desc"  title="'+__e(i18next.t("Open"))+'">'+__e(i18next.t("Open"))+'</span></th>\r\n						  <th class="text-center"><span class="icon-caret-down hide"></span><span class="js-sort cur verticalTableHeader show" data-field="archived_card_count" data-direction="desc"  title="'+__e(i18next.t("Archived"))+'">'+__e(i18next.t("Archived"))+'</span></th>\r\n						</tr>\r\n					</thead>  \r\n					<tbody class="js-my-boards">\r\n					</tbody>\r\n                </table>\r\n	        </div>\r\n        </form> \r\n        <div class="clearfix navbar-btn col-xs-12">\r\n			  <div class="well-sm navbar-btn"></div>\r\n				<ul class="list-inline pull-left">\r\n					<li>'+__e(i18next.t("Select"))+':</li>\r\n					<li><a href="#/users" class="js-select js-no-pjax" data-checked="js-checkbox-list" title="'+__e(i18next.t("All"))+'">'+__e(i18next.t("All"))+'</a></li>\r\n					<li><a href="#/users" class="js-select js-no-pjax" data-unchecked="js-checkbox-list" title="'+__e(i18next.t("None"))+'">'+__e(i18next.t("None"))+'</a></li>\r\n					<li><a title="'+__e(i18next.t("Inactive"))+'" href="#/users" class="js-select" data-unchecked="js-checkbox-active" data-checked="js-checkbox-inactive">'+__e(i18next.t("Closed"))+'</a></li>\r\n					<li><a title="'+__e(i18next.t("Active"))+'" href="#/users" class="js-select" data-unchecked="js-checkbox-inactive" data-checked="js-checkbox-active">'+__e(i18next.t("Open"))+'</a></li>\r\n				</ul>\r\n			  <div class="pull-left">\r\n				<form class="form-inline" role="form">\r\n				  <div class="pr clearfix">\r\n						<select class="js-more-action-user" id="js-more-action">\r\n						  <option value="0">'+__e(i18next.t("More Actions"))+'</option>\r\n						  <option value="1">'+__e(i18next.t("Close"))+'</option>\r\n						  <option value="2">'+__e(i18next.t("Reopen"))+'</option>\r\n						  <option value="3">'+__e(i18next.t("Delete"))+'</option>\r\n						</select>\r\n					</div>\r\n				</form>\r\n			  </div>\r\n			  <div class="pull-right pagination pagination-right pagination-boxes list-group-item-heading"></div>\r\n        </div>\r\n	</section>\r\n   </div>\r\n'}__p+="\r\n"}return __p},this.JST["templates/admin_board_view"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;Array.prototype.join;with(obj){__p+='<td>\r\n    <div class="form-group text-center">\r\n	    <div class="checkbox">\r\n            <input id="'+__e(board.attributes.id)+'"  name="board_id['+__e(board.attributes.id)+']" value="'+__e(board.attributes.id)+'" class="js-checkbox-list ',__p+=0===parseInt(board.attributes.is_closed)?"js-checkbox-active":"js-checkbox-inactive",__p+='" type="checkbox">\r\n            <label class="js-update-board" data-board_id="'+__e(board.attributes.id)+'" for="'+__e(board.attributes.id)+'"></label>\r\n        </div>\r\n    </div>\r\n</td>\r\n<td>\r\n	<div class="row">\r\n		<div class="pull-left col-sm-10">\r\n			<div class="clearfix">\r\n			';var style="";if(board.attributes.background_picture_url){var background_picture_url=board.attributes.background_picture_url.replace("_XXXX.jpg","_n.jpg");style="background:url("+background_picture_url+") 25% 25%; background-size: cover"}else if(board.attributes.background_pattern_url){var background_pattern_url=board.attributes.background_pattern_url.replace("_XXXX.jpg","_s.jpg");style="background: transparent url("+background_pattern_url+")  repeat scroll 0% 0%;"}else board.attributes.background_color&&(style="background:"+board.attributes.background_color);if(__p+='\r\n			<a href="#/board/'+__e(board.id)+'" class="avatar-sm pull-left" title="'+__e(board.attributes.name)+'" ><span class="clearfix cover-image" style="'+(null==(__t=style)?"":__t)+'"></span></a>\r\n			',_.isEmpty(role_links.where({slug:"view_board"}))||(__p+='\r\n				  <a href="#/board/'+__e(board.id)+'" title="'+__e(board.attributes.name)+'" class="col-xs-10 htruncate left-mar-sm">\r\n				'),__p+="\r\n				",board.attributes.organization_id>0&&null!=board.attributes.organization_id){var logo_path="img/default-organization.png";_.isUndefined(board.attributes.organization_logo_url)||null==board.attributes.organization_logo_url||""==board.attributes.organization_logo_url||(logo_path=board.showImage("Organization",board.attributes.organization_id,"small_thumb")),__p+="\r\n					\r\n				  "}if(__p+="\r\n				  "+__e(board.attributes.name)+" \r\n				  ",_.isEmpty(role_links.where({slug:"view_board"}))||(__p+="\r\n				  </a>\r\n				  "),__p+="  \r\n		    </div>\r\n	    </div>\r\n		",null!=board.attributes.music_name&&(__p+='\r\n			<div class="col-sm-2"><i class="icon-music text-muted"></i></div>\r\n			'),__p+="\r\n	</div>\r\n \r\n</td>\r\n\r\n<td>\r\n",__p+=_.isEmpty(board.attributes.organization_name)?'\r\n <a class="col-xs-9 htruncate" title="-">-</a>\r\n ':'\r\n<div class="clearfix"> \r\n<a href="#/board/'+__e(board.id)+'"" class="small-user pull-left show"><img alt="[Image: Organization]" title="'+__e(board.attributes.organization_name)+'" width="16" height="16" src="'+__e(logo_path)+'"></a>\r\n <a class="col-xs-9 htruncate" title="'+__e(board.attributes.organization_name)+'" href="#/board/'+__e(board.id)+'">'+__e(board.attributes.organization_name)+"</a></div>\r\n ",__p+='\r\n</td> \r\n<td>\r\n	<div class="clearfix">\r\n	   <a href="#/user/'+__e(board.attributes.user_id)+'" class="small-user pull-left show" title="'+__e(board.attributes.full_name)+" ("+__e(board.attributes.username)+')">\r\n	   		',_.isEmpty(board.attributes.profile_picture_path))__p+='\r\n				<i class="avatar avatar-color-194 avatar-sm img-rounded">'+__e(board.attributes.initials)+"</i>\r\n			";else{var profile_picture_path=board.showImage("User",board.attributes.user_id,"micro_thumb",!0);__p+='\r\n				<img class="img-rounded" width="16" height="16" src="'+(null==(__t=profile_picture_path)?"":__t)+'" alt="[Images: '+__e(board.attributes.username)+']" title="'+__e(board.attributes.username)+'" />\r\n			'}__p+=' \r\n	   </a>\r\n	   <a href="#/user/'+__e(board.attributes.user_id)+'" title="'+__e(board.attributes.full_name)+" ("+__e(board.attributes.username)+')" class="col-xs-7 htruncate">'+__e(board.attributes.username)+'</a>\r\n	</div>\r\n</td>\r\n<td>\r\n<div class="clearfix dropdown">\r\n	\r\n	<a href="javascript:void(0);" data-toggle="dropdown" class="dropdown-toggle show clearfix navbar-btn h4">\r\n		';var i=1;if(!_.isUndefined(board.admin_board_users)){__p+="\r\n			 ";var admin_board_users_count=board.admin_board_users.length;_.each(board.admin_board_users,function(a){if(3>=i){if(__p+='\r\n            	<span class="pull-left btn-xs nav">\r\n					<span class="col-xs-12 btn-block" title="'+__e(a.full_name)+" ("+__e(a.username)+')">\r\n						',_.isEmpty(a.profile_picture_path))__p+='\r\n							<i class="avatar avatar-color-194 img-rounded">'+(null==(__t=a.initials)?"":__t)+"</i>\r\n						";else{var b=board.showImage("User",a.user_id,"small_thumb");__p+='\r\n						<img  width="30" height="30" class="img-responsive img-rounded avatar" title="'+__e(a.full_name)+" ("+__e(a.username)+')" alt="[Images: '+__e(a.full_name)+']" src="'+(null==(__t=b)?"":__t)+'">\r\n						'}__p+="\r\n						",_.isUndefined(board.board_user_roles[a.board_user_role_id-1].id)||1!==parseInt(board.board_user_roles[a.board_user_role_id-1].id)||(__p+='\r\n							<span class="name-block col-xs-12 label btn-xs col-xs-push-0">'+__e(i18next.t("Owner"))+"</span>\r\n						"),__p+="\r\n					</span>\r\n				</span>\r\n			  ",i++}})}if(__p+="\r\n			  \r\n			  ",!_.isUndefined(board.normal_board_users)){var normal_board_users_count=board.normal_board_users.length;3>admin_board_users_count&&_.each(board.normal_board_users,function(a){if(3>=i){var b="";if(1!==i&&(b="hidden-xs"),__p+='\r\n            	<span class="pull-left btn-xs nav '+__e(b)+'">\r\n					<span class="col-xs-12 btn-block" title="'+__e(a.full_name)+" ("+__e(a.username)+')">\r\n						',_.isEmpty(a.profile_picture_path))__p+='\r\n							<i class="avatar avatar-color-194 img-rounded">'+(null==(__t=a.initials)?"":__t)+"</i>\r\n						";else{var c=board.showImage("User",a.user_id,"small_thumb");__p+='\r\n						<img  width="30" height="30" class="img-responsive img-rounded avatar" title="'+__e(a.full_name)+" ("+__e(a.username)+')" alt="[Images: '+__e(a.full_name)+']" src="'+(null==(__t=c)?"":__t)+'">\r\n						'}__p+="\r\n					</span>\r\n				</span>\r\n			  ",i++}})}__p+="\r\n			 \r\n			  ",__p+=_.isUndefined(board.normal_board_users)&&_.isUndefined(board.admin_board_users)?"-":' <span class="col-xs-3 label small hidden-xs"> \r\n				<span class="small navbar-btn">\r\n					<span class="show text-left text-muted" title="'+__e(i18next.t("Owner %s",{postProcess:"sprintf",sprintf:[admin_board_users_count]}))+' ">'+__e(i18next.t("Owner %s",{postProcess:"sprintf",sprintf:[admin_board_users_count]}))+'</span> \r\n					<span class="show navbar-btn text-left text-muted" title="'+__e(i18next.t("Member %s",{postProcess:"sprintf",sprintf:[normal_board_users_count]}))+' ">'+__e(i18next.t("Member %s",{postProcess:"sprintf",sprintf:[normal_board_users_count]}))+"</span>\r\n					</span> \r\n				</span> ",__p+='</a>\r\n				<ul class="list-unstyled js-visibility-chooser dropdown-menu arrow arrow-right">\r\n					  <li class="text-center">\r\n						<strong>'+__e(i18next.t("Members"))+'</strong>\r\n						<span href="#" class="js-close-popover pull-right col-xs-2"><i class="icon-remove cur"></i></span>\r\n					  </li>\r\n					  <li class="divider"></li>\r\n					  <li class="col-xs-12">\r\n						<ul class="list-unstyled clearfix js-get-board-member-lists-response">\r\n							',board.board_users.each(function(a){if(__p+='\r\n								<li class="form-inline navbar-btn btn-xs pull-left js-board-user-avatar-click dropdown nav">\r\n										<a href="#/user/'+__e(a.attributes.id)+'">\r\n										<span data-placement="bottom" title="'+__e(a.attributes.full_name)+" ("+__e(a.attributes.username)+')" data-toggle="tooltip" class="col-xs-12 btn-block navbar-btn">				\r\n										',_.isEmpty(a.attributes.profile_picture_path))__p+='\r\n											<i class="avatar avatar-color-194 img-rounded">'+__e(a.attributes.initials)+"</i>									\r\n										";else{var b=board.showImage("User",a.attributes.user_id,"small_thumb");__p+='\r\n											<img src="'+(null==(__t=b)?"":__t)+'" alt="[Image: '+__e(a.attributes.full_name)+']" title="'+__e(a.attributes.full_name)+" ("+__e(a.attributes.username)+')" class="img-rounded img-responsive avatar">\r\n										'}__p+="\r\n										",_.isUndefined(board.board_user_roles[a.attributes.board_user_role_id-1].id)||1!==parseInt(board.board_user_roles[a.attributes.board_user_role_id-1].id)||(__p+='\r\n											<span class="name-block col-xs-1 label btn-xs col-xs-push-0">'+__e(i18next.t("Owner"))+"</span>\r\n										"),__p+="\r\n									</span>\r\n									</a>\r\n								</li>\r\n							"}),__p+='	\r\n						</ul>\r\n						</li>\r\n					</ul>\r\n			  </div>\r\n</td>\r\n \r\n<td class="text-center">\r\n	'+__e(board.attributes.list_count)+'\r\n</td>\r\n<td class="text-center">\r\n	'+__e(board.attributes.archived_list_count)+'\r\n</td>\r\n<td class="text-center"> \r\n	'+__e(board.attributes.card_count)+' \r\n</td> \r\n<td class="text-center"> \r\n	'+__e(board.attributes.archived_card_count)+' \r\n</td> \r\n<td class="text-center">\r\n    <a href="#" class="js-no-action"><abbr class="timeago" title="'+__e(board.attributes.created)+'">'+__e(board.attributes.created)+'</abbr></a>\r\n</td>\r\n<td class="text-center">\r\n    <a href="#" class="js-no-action"><abbr class="timeago" title="'+__e(board.attributes.modified)+'">'+__e(board.attributes.modified)+'</abbr></a>\r\n</td>\r\n<td class="text-center">\r\n    <div class="btn-group navbar-btn js-visibility-list-dropdown dropdown">\r\n        ';var board_visibility="",board_visibility_icon="";0==board.attributes.board_visibility?(board_visibility="Private",board_visibility_icon="icon-lock"):1==board.attributes.board_visibility&&board.attributes.organization_id>0?(board_visibility="Organization",board_visibility_icon="icon-group"):2==board.attributes.board_visibility&&(board_visibility="Public",board_visibility_icon="icon-circle"),__p+='\r\n			<button class="btn btn-default btn-sm js-board-visibility" type="button"><i class="'+__e(board_visibility_icon)+'"></i><span class="hidden-xs">'+(null==(__t=i18next.t(board_visibility))?"":__t)+'</span></button>\r\n			\r\n			<button data-toggle="dropdown" class="btn btn-default btn-sm dropdown-toggle active js-board-visibility" type="button"> <span><i class="icon-caret-down cur"></i></span> <span class="sr-only">'+__e(i18next.t("Toggle Dropdown"))+'</span> </button>\r\n			\r\n			<ul class="dropdown-menu arrow arrow-right col-xs-push-0 pre-scrollable vertical-scrollbar">\r\n				<li class="js-visibility-popup js-dropdown-popup dropdown-popup col-xs-12">          \r\n					<div class="clearfix text-center"><a class="js-back-to-board-visibility hide pull-left" href="#"><i class="icon-caret-left"></i></a><span class="col-xs-10"><strong>'+__e(i18next.t("Change Visibility"))+'</strong></span><a class="js-close-popover pull-right" href="#"><i class="icon-remove"></i></a>\r\n					</div>\r\n				</li>\r\n				<li class="col-xs-12 divider js-visibility-list"></li>\r\n			</ul>\r\n	</div>\r\n	             \r\n</td>'}return __p},this.JST["templates/admin_user_add"]=function(obj){obj||(obj={});var __p="",__e=_.escape;with(obj)__p+='<div class="col-lg-4 col-md-4 col-sm-6 col-xs-12 col-lg-offset-4 col-md-offset-4 col-sm-offset-3">\r\n<div class="panel panel-default">\r\n  <div class="panel-heading lead">'+__e(i18next.t("Add User"))+'</div>\r\n  <div class="panel-body well-lg">\r\n	<form id="AdminUserAddForm" name="AdminUserAddForm" class="form-horizontal col-xs-12">\r\n	  <div class="form-group required">\r\n		<label class="sr-only control-label" for="inputEmail">'+__e(i18next.t("Email"))+'</label>\r\n		<input type="email" required name="email" id="inputEmail" class="form-control" placeholder="'+__e(i18next.t("Email"))+'" title="'+__e(i18next.t("Email"))+'">\r\n	  </div>\r\n	  <div class="form-group required">\r\n		<label class="sr-only control-label" for="inputUsername">'+__e(i18next.t("Username"))+'</label>\r\n		<input type="name" name="username" id="inputUsername" class="form-control" placeholder="'+__e(i18next.t("Username"))+'" required pattern=".{3,15}" title="'+__e(i18next.t("Username. Minimum 3 characters"))+'">\r\n	  </div>\r\n	  <div class="form-group required">\r\n		<label class="sr-only control-label" for="inputPassword">'+__e(i18next.t("Password"))+'</label>\r\n		<input type="password" required name="password" id="inputPassword"class="form-control" placeholder="'+__e(i18next.t("Password"))+'" pattern="[A-Za-z0-9\\S]{6,50}" title="'+__e(i18next.t("Password. Minimum 6 characters and white space not allowed"))+'">\r\n	  </div>\r\n	  <div class="form-group">\r\n		<label class="sr-only control-label" for="submitAddUser">'+__e(i18next.t("Join Now"))+'</label>\r\n		<input type="submit" class="btn btn-primary col-xs-12" id="submitAddUser" value="'+__e(i18next.t("Add"))+'">\r\n	  </div>\r\n	</form>\r\n  </div>\r\n</div>\r\n</div>';return __p},this.JST["templates/app"]=function(obj){obj||(obj={});var __p="",__e=_.escape;Array.prototype.join;with(obj)__p+='<div class="well-lg navbar-btn"></div>\r\n',apps.length>0&&_.each(apps,function(a){__p+='\r\n	<div class="clearfix">\r\n		<div class="col-xs-1">\r\n			<div class="pull-left"><img width="80" height="80" src="'+__e(a.icon)+'"></div>\r\n		</div>\r\n		<div class="col-xs-9">\r\n			<h4><span class="c">'+__e(i18next.t(a.name))+'</span></h4>\r\n			<div class="grayc top-space">'+__e(i18next.t(a.description))+'</div>\r\n			<div class="grayc top-space">'+__e(i18next.t("Version"))+" "+__e(a.version)+" | "+__e(i18next.t("By"))+' <a href="'+__e(a.authorUrl)+'" target="_blank">'+__e(a.author)+'</a></div>\r\n		</div>\r\n		<div class="col-xs-2 pull-right">\r\n			<div class="row-fluid">\r\n				<div class="pull-right">\r\n					<div class="btn-group">\r\n						<button class="btn ">',__p+=__e(1==a.enabled?i18next.t("Enabled"):i18next.t("Disabled")),__p+='</button>\r\n						<button class="btn dropdown-toggle js-no-pjax xltriggered" data-toggle="dropdown"><i class="icon-cog"></i><span class="caret"></span></button>\r\n						<ul class="dropdown-menu arrow arrow-right pull-right">\r\n							<li><a class="cur js-update-app" data-current-status="'+__e(a.enabled)+'" data-folder="'+__e(a.folder)+'" title="',__p+=__e(1==a.enabled?i18next.t("Disabled"):i18next.t("Enabled")),__p+='"><i class="',__p+=1==a.enabled?"icon-minus-sign":"icon-plus-sign",__p+='"></i>',__p+=__e(1==a.enabled?i18next.t("Disabled"):i18next.t("Enabled")),__p+="</a></li>\r\n							",a.settings&&(__p+='\r\n								<li><a title="'+__e(i18next.t("Settings"))+'" href="#/apps/'+__e(a.folder)+'"><i class="icon-cog"></i>'+__e(i18next.t("Settings"))+"</a></li>\r\n							"),__p+="\r\n						</ul>\r\n					</div>\r\n				</div>\r\n			</div>\r\n		</div>\r\n	</div>\r\n	<hr/>\r\n"});return __p},this.JST["templates/app_setting"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;Array.prototype.join;with(obj){if(__p+='<div class="well-sm">\r\n	<h3>'+__e(i18next.t(app_settings[0].app_name))+" - "+__e(i18next.t("Settings"))+'</h3>\r\n</div>\r\n<div class="alert alert-info list-group-item-text">'+(null==(__t=i18next.t(app_settings[0].settings_description))?"":__t)+'</div>\r\n<div class="well-sm"></div>\r\n<form class="js-app-setting-form" role="form" id="js-app-setting-form">\r\n',app_settings.length>0){var folder="";_.each(app_settings,function(a){folder=a.folder,__p+='\r\n	<div class="form-group col-xs-12">\r\n			  <label class="col-sm-2  control-label col-xs-12">'+__e(i18next.t(a.label))+'</label>\r\n			  <div class=" col-sm-7  col-xs-12">\r\n				<input type="text" value="'+__e(a.value)+'" class="form-control" name="'+__e(a.name)+'" id="'+__e(a.name)+'">\r\n				<div><span class="help-block">'+__e(a.info)+"</span></div>\r\n			  </div>\r\n	</div>\r\n\r\n"})}__p+='\r\n<input type="hidden" value="'+__e(folder)+'" name="folder" id="folder">\r\n  <div class="form-group">\r\n	<label for="submit" class="sr-only  col-sm-4  control-label col-xs-12">'+__e(i18next.t("Submit"))+'</label>\r\n	<div class="col-xs-offset-2">\r\n	<input type="submit" value="'+__e(i18next.t("Update"))+'" id="submit" class="btn btn-primary">\r\n	</div>\r\n  </div>\r\n</form>'}return __p},this.JST["templates/archive_card_delete_confirm"]=function(obj){obj||(obj={});var __p="",__e=_.escape;with(obj)__p+='<div class="clearfix text-center col-xs-12">	\r\n	<a href="#" class="js-archived-items pull-left" data-list-id="'+__e(list.id)+'"><i class="icon-caret-left "></i></a><span class="col-xs-10"><strong>'+__e(i18next.t("Delete All Card"))+'</strong></span><a class="js-close-popup pull-right" href="#"><i class="icon-remove "></i></a>\r\n</div>\r\n<div class="col-xs-12 divider"></div>\r\n<div class="col-xs-12">\r\n	<p>'+__e(i18next.t("There is no undo. This will remove All Archive Cards and destroy its history."))+'</p>	\r\n	<a class="js-delete-all-archived-cards-delete btn  btn-primary" title="'+__e(i18next.t("Delete All Card"))+'" data-list-id="'+__e(list.id)+'">'+__e(i18next.t("Delete"))+"</a>\r\n</div>";return __p},this.JST["templates/archive_list_delete_confirm"]=function(obj){obj||(obj={});var __p="",__e=_.escape;with(obj)__p+='<div class="clearfix text-center col-xs-12">	\r\n	<a href="#" class="js-archived-items pull-left" data-list-id="'+__e(list.id)+'"><i class="icon-caret-left "></i></a><span class="col-xs-10"><strong>'+__e(i18next.t("Delete All List"))+'</strong></span><a class="js-close-popup pull-right" href="#"><i class="icon-remove "></i></a>\r\n</div>\r\n<div class="col-xs-12 divider"></div>\r\n<div class="col-xs-12">\r\n	<p>'+__e(i18next.t("There is no undo. This will remove All Archive Lists and destroy its history."))+'</p>	\r\n	<a class="js-delete-all-archived-list-delete btn  btn-primary" title="'+__e(i18next.t("Delete All List"))+'" data-list-id="'+__e(list.id)+'">'+__e(i18next.t("Delete"))+"</a>\r\n</div>";return __p},this.JST["templates/archived_card"]=function(obj){obj||(obj={});var __p="",__e=_.escape;Array.prototype.join;with(obj)null!=card?_.isUndefined(authuser.user)||1!=authuser.user.role_id&&_.isEmpty(card.acl_links.where({slug:"view_archived_cards",board_user_role_id:parseInt(card.board_user_role_id)}))||(__p+='\r\n<a href="#/card/'+__e(card.attributes.id)+'" class="highlight-icon pull-left">'+__e(card.attributes.name)+'</a><div class="pull-right">',_.isUndefined(authuser.user)||1!=authuser.user.role_id&&_.isEmpty(card.acl_links.where({slug:"send_back_to_archived_card",board_user_role_id:parseInt(card.board_user_role_id)}))||(__p+='<a title="'+__e(i18next.t("Send to board"))+'" class="js-send-card-to-board ',_.isEmpty(role_links.where({slug:"add_organization"}))||(__p+="send_back_to_archived_card "),__p+='" data-card_id="'+__e(card.attributes.id)+'"><i class="icon-reply"></i></a>'),_.isUndefined(authuser.user)||1!=authuser.user.role_id&&_.isEmpty(card.acl_links.where({slug:"delete_all_archived_cards",board_user_role_id:parseInt(card.board_user_role_id)}))||(__p+='<a class="js-delete-archived-card" data-card_id="'+__e(card.attributes.id)+'" title="'+__e(i18next.t("Delete"))+'"><i class="icon-remove btn btn-link"></i></a>'),__p+="</div>\r\n"):__p+='\r\n<span class="alert alert-info">\r\n	'+__e(i18next.t("No %s available.",{postProcess:"sprintf",sprintf:[i18next.t("cards")]}))+"\r\n</span>\r\n",__p+="\r\n";return __p},this.JST["templates/archived_cards"]=function(obj){obj||(obj={});var __p="",__e=_.escape;Array.prototype.join;with(obj)__p+='<form class="form-horizontal"><div class="form-group"><input class="js-search-archived-cards form-control" id="inputSearchArchivedCards" name="name"></div></form><div class="row navbar-btn"><a href="#" class="js-show-archived-lists">'+__e(i18next.t("Switch to lists"))+"</a>",_.isUndefined(authuser.user)||1!=authuser.user.role_id&&_.isEmpty(board.acl_links.where({slug:"delete_all_archived_cards",board_user_role_id:parseInt(board.board_user_role_id)}))||(__p+='<button  href="#" class="js-delete-all-archived-cards btn btn-primary pull-right">'+__e(i18next.t("Delete All"))+"</button>"),__p+='</div><div class="row"><ul class="sidebar-boards-list list-unstyled  js-archived-cards-container"></ul></div>';return __p},this.JST["templates/archived_items"]=function(obj){
obj||(obj={});var __p="",__e=_.escape;with(obj)__p+='<ul class="list-unstyled"><li><div class="clearfix text-center col-xs-12"><a href="#" class="js-back-to-sidebar pull-left btn btn-xs btn-link"><i class="icon-caret-left"></i></a> <span class="col-xs-10 navbar-btn"><strong>'+__e(i18next.t("Archived Items"))+'</strong></span></div><div class="col-xs-12 divider"></div><div class="col-xs-12 member-modal js-pre-scrollable vertical-scrollbar js-archived-items-container"></div></li></ul>';return __p},this.JST["templates/archived_list"]=function(obj){obj||(obj={});var __p="",__e=_.escape;Array.prototype.join;with(obj)null!=list?_.isUndefined(authuser.user)||1!=authuser.user.role_id&&_.isEmpty(list.board.acl_links.where({slug:"view_archived_lists",board_user_role_id:parseInt(list.board.board_user_role_id)}))||(__p+='\r\n<span class="highlight-icon pull-left">'+__e(list.attributes.name)+'</span><div class="pull-right">',_.isUndefined(authuser.user)||1!=authuser.user.role_id&&_.isEmpty(list.board.acl_links.where({slug:"send_back_to_archived_list",board_user_role_id:parseInt(list.board.board_user_role_id)}))||(__p+='<a title="'+__e(i18next.t("Send to board"))+'" class="js-send-list-to-board" data-list_id="'+__e(list.attributes.id)+'"><i class="icon-reply"></i></a>'),_.isUndefined(authuser.user)||1!=authuser.user.role_id&&_.isEmpty(list.board.acl_links.where({slug:"delete_all_archived_lists",board_user_role_id:parseInt(list.board.board_user_role_id)}))||(__p+='<a title="'+__e(i18next.t("Delete"))+'" class="js-delete-archived-list" data-list_id="'+__e(list.attributes.id)+'"><i class="icon-remove btn btn-link"></i></a>'),__p+="</div>\r\n"):__p+='\r\n<span class="alert alert-info">\r\n	'+__e(i18next.t("No %s available.",{postProcess:"sprintf",sprintf:[i18next.t("lists")]}))+"\r\n</span>\r\n";return __p},this.JST["templates/archived_lists"]=function(obj){obj||(obj={});var __p="",__e=_.escape;Array.prototype.join;with(obj)__p+='<form class="form-horizontal"><div class="form-group"><input class="js-search-archived-lists form-control" id="inputSearchArchivedLists" name="name"></div></form><div class="row navbar-btn"><a href="#" class="js-show-archived-card-lists">'+__e(i18next.t("Switch to Cards"))+"</a>",_.isUndefined(authuser.user)||1!=authuser.user.role_id&&_.isEmpty(board.acl_links.where({slug:"delete_all_archived_lists",board_user_role_id:parseInt(board.board_user_role_id)}))||(__p+='<button href="#" class="js-delete-all-archived-lists-confirm btn btn-primary pull-right">'+__e(i18next.t("Delete All"))+"</button>"),__p+='</div><div class="row"><ul class="sidebar-boards-list list-unstyled js-archived-cards-container"></ul></div>';return __p},this.JST["templates/attachment"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;Array.prototype.join;with(obj){if(null!=attachment){if(__p+=' \r\n	<a target="_blank" href="'+(null==(__t=attachment.downloadLink("download",attachment.get("id")))?"":__t)+'?view" class="pull-left navbar-btn img-thumbnail thumb-img">\r\n		',attachment.get("name").match(/\.(jpg|jpeg|png|gif)$/)){var picture_path=attachment.showImage("CardAttachment",attachment.attributes.id,"large_thumb");__p+='\r\n			<img src="'+(null==(__t=picture_path)?"":__t)+'" class="img-responsive center-block">\r\n		'}else{var extension=attachment.attributes.name.split(".");__p+='\r\n			<p class="thumb-img"><span class="h1 navbar-btn">',!_.isUndefined(extension)&&extension.length>1&&(__p+=__e(extension[extension.length-1].toUpperCase())),__p+="</span></p>\r\n		"}if(__p+='\r\n	</a>\r\n	<div class="clearfix btn-block col-xs-12">\r\n		<a target="_blank" class="htruncate col-xs-12 btn-block" href="'+(null==(__t=attachment.downloadLink("download",attachment.get("id")))?"":__t)+'" title="'+__e(attachment.get("name"))+'">'+__e(attachment.get("name"))+'\r\n		<span class="show">'+__e(i18next.t("Added"))+' <small class="text-muted"><abbr class="timeago" title="'+__e(attachment.get("created"))+'">'+__e(attachment.get("created"))+"</abbr></small></span>\r\n		</a> \r\n		",!_.isUndefined(authuser.user)){__p+='\r\n		<div class="btn-toolbar navbar-btn">\r\n			<div class="btn-group btn-group-xs navbar-btn">\r\n				<div class="btn btn-primary">\r\n				';var download_link=attachment.downloadLink("download",attachment.get("id"));__p+='\r\n					<a target="_blank" href="'+(null==(__t=download_link)?"":__t)+'" title="'+__e(i18next.t("Download"))+'">\r\n						<i class="icon-arrow-down cur icon-light"></i>\r\n					</a>\r\n				</div>\r\n				',_.isUndefined(authuser.user)||1!=authuser.user.role_id&&_.isEmpty(board.acl_links.where({slug:"remove_card_attachment",board_user_role_id:parseInt(board.board_user_role_id)}))||(__p+=' \r\n					<div class="dropdown dropdown pull-left">\r\n						<a href="#" title="Delete" class="js-show-confirm-delete-attachment dropdown-toggle btn btn-default btn-xs" data-toggle="dropdown"><i class="icon-remove cur"></i></a>\r\n						<ul class="dropdown-menu arrow list-unstyled">\r\n							<li class="js-dropdown-popup js-attachment-confirm-respons-'+__e(attachment.id)+'"></li>\r\n						</ul>\r\n					</div>\r\n				'),__p+="\r\n			</div>\r\n		</div>\r\n		"}__p+="\r\n	</div>\r\n"}else __p+=' \r\n	<span class="alert alert-info">'+__e(i18next.t("No %s available.",{postProcess:"sprintf",sprintf:[i18next.t("attachments")]}))+"</span>\r\n";__p+=" "}return __p},this.JST["templates/attachment_delete_confirm"]=function(obj){obj||(obj={});var __p="",__e=_.escape;with(obj)__p+='<div class="clearfix text-center col-xs-12"><span class="col-xs-10"><strong>'+__e(i18next.t("Delete Attachment"))+'?</strong></span><a class="js-span-close-popup pull-right" href="#"><i class="icon-remove"></i></a></div><div class="col-xs-12 divider"></div><div class="col-xs-12"><p>'+__e(i18next.t("Deleting an attachment is permanent. There is no undo."))+'</p><a class="js-delete-attachment btn btn-primary" title="'+__e(i18next.t("Delete Attachment"))+'">'+__e(i18next.t("Delete"))+"</a></div>";return __p},this.JST["templates/attachment_delete_confirm_form"]=function(obj){obj||(obj={});var __p="",__e=_.escape;with(obj)__p+='<div class="clearfix text-center col-xs-12"><span class="col-xs-10"><strong>'+__e(i18next.t("Delete Attachment"))+'? </strong></span><a class="js-close-popup pull-right" href="#"><i class="icon-remove"></i></a></div><div class="col-xs-12 divider"></div><div class="col-xs-12"><p>'+__e(i18next.t("Deleting an attachment is permanent. There is no undo."))+'</p><a class="js-delete-attachment btn btn-primary" title="'+__e(i18next.t("Delete Attachment"))+'">'+__e(i18next.t("Delete"))+"</a></div>";return __p},this.JST["templates/board"]=function(obj){obj||(obj={});var __p="",__e=_.escape;Array.prototype.join;with(obj)if(board.attributes.is_closed){var style="";(board.attributes.background_picture_url||board.attributes.background_pattern_url||board.attributes.background_color)&&(style="color:#ffffff;"),__p+='\r\n<div class="well-lg navbar-btn">&nbsp;</div>\r\n<div class="board-close-view">\r\n  <strong>'+__e(i18next.t("Board is closed"))+"</strong>\r\n  ",_.isUndefined(authuser.user)||(__p+='\r\n  <div class="dropdown well-sm text-center"><a data-toggle="dropdown" class="dropdown-toggle btn btn-primary" href="#">'+__e(i18next.t("Click here to Reopen Board"))+'</a>\r\n        <ul class="dropdown-menu">\r\n      <li class="js-visibility-popup js-dropdown-popup dropdown-popup">\r\n        <div class="clearfix text-center col-xs-12">\r\n          <span class="col-xs-10"><strong>'+__e(i18next.t("Reopen Board"))+'</strong></span><a class="js-close-popover pull-right" href="#"><i class="icon-remove"></i></a>\r\n        </div>\r\n		<div class="col-xs-12 divider"></div>\r\n        <div class="col-xs-12  text-left">\r\n          <form class="normal" name="BoardReopenForm" id="BoardReopenForm">\r\n            <input id="inputBoardClose" name="is_closed" type="hidden" value="false">\r\n            <div class="h6 btn-block">'+__e(i18next.t("Are you sure you want to do this action"))+'?</div>\r\n            <div class="submit">\r\n              <input type="submit" value="'+__e(i18next.t("Reopen"))+'" id="submitBoardReopen" class="btn btn-primary btn-sm">\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </li>\r\n    </ul>\r\n  </div>\r\n  '),__p+="\r\n  </div>\r\n  "}else __p+='\r\n  <section class="row body-no-webkit-scrollbars">\r\n		<div id="switch-board-view" class="clearfix js-board-view-'+__e(board.id)+'">\r\n			<div id="js-board-lists" class="board-list-view boardlist-scrollbar">\r\n			',_.isUndefined(authuser.user)||1!=authuser.user.role_id&&_.isEmpty(board.acl_links.where({slug:"add_list",board_user_role_id:parseInt(board.board_user_role_id)}))||(__p+='\r\n			  <div class="col-lg-3 col-md-3 col-sm-4 col-xs-12 btn-block list" id="js-add-list-block">\r\n				<div class="js-list-form"><a href="#" class="js-show-add-list-form toggle-show text-muted" title="'+__e(i18next.t("Add a list"))+'">'+__e(i18next.t("Add a list"))+'</a>\r\n				  <form class="js-add-list hide">\r\n					<div class="form-group">\r\n					  <label for="\r\n					  inputListName" class="sr-only">'+__e(i18next.t("Name"))+'</label>\r\n					  <input type="text" id="inputListName" autocomplete="off" name="name" class="form-control" placeholder="'+__e(i18next.t("Add a list"))+'" required maxlength="255" title="'+__e(i18next.t("Whitespace alone not allowed"))+'" required pattern=".*\\S+.*">\r\n					</div>\r\n					<div class="form-group">\r\n					  <input type="submit" name="Save" class="btn btn-primary" value="'+__e(i18next.t("Save"))+'">\r\n					  <i class="icon-remove js-hide-add-list-form btn btn-link cur" title="'+__e(i18next.t("Cancel"))+'"></i></div>\r\n				  </form>\r\n				</div>\r\n			  </div>\r\n			  '),__p+="\r\n		 </div>          \r\n	  </div>          \r\n  </section>\r\n  ";return __p},this.JST["templates/board_404"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;Array.prototype.join;with(obj)__p+='<div class="well-lg navbar-btn">&nbsp;</div>\r\n<div class="board-close-view">\r\n  <strong>'+__e(i18next.t("Board not found"))+'</strong>\r\n  <div class="well-sm">'+__e(i18next.t("This board may be private."))+" ",!_.isEmpty(role_links.where({slug:"users_login"}))&&_.isUndefined(authuser.user)&&(__p+=(null==(__t=i18next.t("You may be able to view it by %s",{postProcess:"sprintf",sprintf:['<a href="#/users/login" class="text-primary" title="'+i18next.t("Login")+'">'+i18next.t("logging in.")+"</a>"]}))?"":__t)+" "),__p+="\r\n  </div>\r\n  </div>";return __p},this.JST["templates/board_add"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;Array.prototype.join;with(obj)__p+='<li>\r\n	<div class="col-xs-12 text-center clearfix">\r\n		<a href="#" class="js-show-organizations-board-from pull-left"><i class="icon-caret-left"></i></a>\r\n		<span class="col-xs-10"><strong>'+__e(i18next.t("Create Board"))+'</strong></span>\r\n		<a class="js-close-popover pull-right" href="#"><i class="icon-remove"></i></a>\r\n	</div>\r\n</li>\r\n<li class="col-xs-12 divider"></li>\r\n<li>\r\n	<form class="col-xs-12" name="BoardAddForm" id="BoardAddForm">\r\n		<div class="form-group">\r\n			<label for="inputBoardName">'+__e(i18next.t("Name"))+'</label>\r\n			<input class="form-control input-sm" type="text" id="inputBoardName" name="name" title="'+__e(i18next.t("Whitespace alone not allowed"))+'" required pattern=".*\\S+.*">\r\n		</div>\r\n		',templates.models.length>0&&!_.isEmpty(role_links.where({slug:"view_organization_visibility"}))&&(__p+='\r\n			<div class="form-group">\r\n				<label for="inputchecklist">'+__e(i18next.t("Template"))+'</label>\r\n				<select id="inputtemplatelist" class="js-chosen-select" name="template">\r\n					<option value="">'+__e(i18next.t("Select Template"))+"</option>\r\n					",_.each(templates.models,function(a){__p+='\r\n					<option value="'+(null==(__t=a.get("value"))?"":__t)+'">'+__e(a.get("name"))+"</option>\r\n					"}),__p+="\r\n				</select></div>"),__p+='\r\n				<div id="js-board-add-organization"></div>\r\n				<input id="inputBoardAddVisibility" name="board_visibility" type="hidden" value="0">\r\n				<div class="clearfix js-open-dropdown js-board-add-dropdown board-add-dropdown dropdown"> \r\n					<span class="js-visibility-container">\r\n						<span class="pull-left">\r\n							<span class="pull-left navbar-btn">'+__e(i18next.t("This board will be"))+' </span>\r\n						</span>\r\n						<div class="btn-group pull-right">\r\n							<button type="button" class="btn btn-default btn-sm js-change-visibility"><i class="icon-lock"></i>'+__e(i18next.t("Private"))+'</button>\r\n							<button type="button" class="btn btn-default btn-sm dropdown-toggle js-change-visibility" data-toggle="dropdown" aria-expanded="false">\r\n								<span><i class="icon-caret-down"></i></span>\r\n								<span class="sr-only">'+__e(i18next.t("Toggle Dropdown"))+'</span>\r\n							</button>\r\n						</div>\r\n					</span>\r\n					<div class="js-visibility-chooser dropdown-menu"></div>\r\n				</div>\r\n					<div class="submit"><input type="submit" value="'+__e(i18next.t("Add"))+'" id="submitBoardAdd" class="btn btn-primary"></div></form></li>';return __p},this.JST["templates/board_add_organization_form"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;Array.prototype.join;with(obj){__p+='<label for="inputchecklist">'+__e(i18next.t("Organization"))+"</label>\r\n";var organization_options="";_.each(organizations.models,function(a){organization_options+='<option value="'+a.id+'">'+_.escape(a.attributes.name)+"</option>"}),__p+='<select class="form-control cur" name="organization_id" id="inputListOrganization" required>',__p+=_.isEmpty(organizations.models)?'<option value="">'+__e(i18next.t("(none)"))+"</option>":'<option value="">'+__e(i18next.t("Please Select"))+"</option>"+(null==(__t=organization_options)?"":__t),__p+="</select>"}return __p},this.JST["templates/board_additional_settings"]=function(obj){obj||(obj={});var __p="",__e=_.escape;Array.prototype.join;with(obj)__p+='<div class="clearfix text-center col-xs-12"><a href="#" class="js-back-to-sidebar pull-left btn btn-xs btn-link"><i class="icon-caret-left"></i></a><span class="col-xs-10 navbar-btn"><strong>'+__e(i18next.t("Additional Settings"))+'</strong></span></div><div class="col-xs-12 divider"></div><ul class="list-unstyled well-sm col-xs-12 js-board-dues"><li class="js-enable-covers js-AdditionalSettings-enabled ',board.attributes.is_show_image_front_of_card||(__p+=" hide "),__p+='"><div class="cur list-group-item well-sm">'+__e(i18next.t("Card Cover Images Enabled"))+' <i class="icon-ok"></i></div></li><li class="clearfix js-enable-covers js-AdditionalSettings-enable list-group-item cur ',board.attributes.is_show_image_front_of_card&&(__p+=" hide "),__p+='">'+__e(i18next.t("Enable Card Cover Images"))+"</li></ul>";return __p},this.JST["templates/board_background"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;Array.prototype.join;with(obj){if(__p+='<div class="clearfix text-center col-xs-12">\r\n  <a href="#" class="js-back-to-sidebar pull-left btn btn-xs btn-link"><i class="icon-caret-left"></i></a><span class="col-xs-10 navbar-btn"><strong>'+__e(i18next.t("Change Background"))+'</strong></span>\r\n</div>\r\n<div class="col-xs-12 divider"></div>\r\n<div class="col-xs-12 member-modal js-pre-scrollable vertical-scrollbar clearfix">\r\n  <ul class="list-inline col-xs-offset-0">\r\n    <li class="list-inline js-change-color board-background-select navbar-btn cur" data-color="#34495e"><span class="background-box show well-lg" style="background-color:#34495e"></span></li>\r\n    <li class="list-inline js-change-color board-background-select navbar-btn cur" data-color="#23719f"><span class="background-box show well-lg" style="background-color:#23719f"></span></li>\r\n    <li class="list-inline js-change-color board-background-select navbar-btn cur" data-color="#5a966e"><span class="background-box show well-lg" style="background-color:#5a966e"></span></li>\r\n    <li class="list-inline js-change-color board-background-select navbar-btn cur" data-color="#bf4a40"><span class="background-box show well-lg" style="background-color:#bf4a40"></span></li>\r\n    <li class="list-inline js-change-color board-background-select navbar-btn cur" data-color="#5f778e"><span class="background-box show well-lg" style="background-color:#5f778e"></span></li>\r\n    <li class="list-inline js-change-color board-background-select navbar-btn cur" data-color="#0091ff"><span class="background-box show well-lg" style="background-color:#0091ff"></span></li>\r\n    <li class="list-inline js-change-color board-background-select navbar-btn cur" data-color="#46ba97"><span class="background-box show well-lg" style="background-color:#46ba97"></span></li>\r\n    <li class="list-inline js-change-color board-background-select navbar-btn cur" data-color="#f47564"><span class="background-box show well-lg" style="background-color:#f47564"></span></li>\r\n    <li class="list-inline js-change-color board-background-select navbar-btn cur" data-color="#819da2"><span class="background-box show well-lg" style="background-color:#819da2"></span></li>\r\n    <li class="list-inline js-change-color board-background-select navbar-btn cur" data-color="#47b7cd"><span class="background-box show well-lg" style="background-color:#47b7cd"></span></li>\r\n    <li class="list-inline js-change-color board-background-select navbar-btn cur" data-color="#95d9ad"><span class="background-box show well-lg" style="background-color:#95d9ad"></span></li>\r\n    <li class="list-inline js-change-color board-background-select navbar-btn cur" data-color="#f7b09c"><span class="background-box show well-lg" style="background-color:#f7b09c"></span></li>\r\n    <li class="list-inline js-change-color board-background-select navbar-btn cur" data-color="#b3bec1"><span class="background-box show well-lg" style="background-color:#b3bec1"></span></li>\r\n    <li class="list-inline js-change-color board-background-select navbar-btn cur" data-color="#bee5f3"><span class="background-box show well-lg" style="background-color:#bee5f3"></span></li>\r\n    <li class="list-inline js-change-color board-background-select navbar-btn cur" data-color="#caefd2"><span class="background-box show well-lg" style="background-color:#caefd2"></span></li>\r\n    <li class="list-inline js-change-color board-background-select navbar-btn cur" data-color="#f7d2c8"><span class="background-box show well-lg" style="background-color:#f7d2c8"></span></li>\r\n    <li class="list-inline js-change-color board-background-select navbar-btn cur" data-color="#444444"><span class="background-box show well-lg" style="background-color:#444444"></span></li>\r\n    <li class="list-inline js-change-color board-background-select navbar-btn cur" data-color="#4f4d7e"><span class="background-box show well-lg" style="background-color:#4f4d7e"></span></li>\r\n    <li class="list-inline js-change-color board-background-select navbar-btn cur" data-color="#2f663c"><span class="background-box show well-lg" style="background-color:#2f663c"></span></li>\r\n    <li class="list-inline js-change-color board-background-select navbar-btn cur" data-color="#a37e58"><span class="background-box show well-lg" style="background-color:#a37e58"></span></li>\r\n    <li class="list-inline js-change-color board-background-select navbar-btn cur" data-color="#6b6b6b"><span class="background-box show well-lg" style="background-color:#6b6b6b"></span></li>\r\n    <li class="list-inline js-change-color board-background-select navbar-btn cur" data-color="#7b5cb3"><span class="background-box show well-lg" style="background-color:#7b5cb3"></span></li>\r\n    <li class="list-inline js-change-color board-background-select navbar-btn cur" data-color="#65ab36"><span class="background-box show well-lg" style="background-color:#65ab36"></span></li>\r\n    <li class="list-inline js-change-color board-background-select navbar-btn cur" data-color="#bd6f32"><span class="background-box show well-lg" style="background-color:#bd6f32"></span></li>\r\n    <li class="list-inline js-change-color board-background-select navbar-btn cur" data-color="#999999"><span class="background-box show well-lg" style="background-color:#999999"></span></li>\r\n    <li class="list-inline js-change-color board-background-select navbar-btn cur" data-color="#baa1e6"><span class="background-box show well-lg" style="background-color:#baa1e6"></span></li>\r\n    <li class="list-inline js-change-color board-background-select navbar-btn cur" data-color="#9dbb1d"><span class="background-box show well-lg" style="background-color:#9dbb1d"></span></li>\r\n    <li class="list-inline js-change-color board-background-select navbar-btn cur" data-color="#ffce54"><span class="background-box show well-lg" style="background-color:#ffce54"></span></li>\r\n    <li class="list-inline js-change-color board-background-select navbar-btn cur" data-color="#d5d5d5"><span class="background-box show well-lg" style="background-color:#d5d5d5"></span></li>\r\n    <li class="list-inline js-change-color board-background-select navbar-btn cur" data-color="#dbcff1"><span class="background-box show well-lg" style="background-color:#dbcff1"></span></li>\r\n    <li class="list-inline js-change-color board-background-select navbar-btn cur" data-color="#ccdc87"><span class="background-box show well-lg" style="background-color:#ccdc87"></span></li>\r\n    <li class="list-inline js-change-color board-background-select navbar-btn cur" data-color="#f1eabf"><span class="background-box show well-lg" style="background-color:#f1eabf"></span></li>\r\n  </ul>\r\n  <h4>'+__e(i18next.t("Photos"))+"</h4>\r\n  ",_.isEmpty(board.attributes.background_picture_url)||"NULL"==board.attributes.background_picture_url)__p+='\r\n	 <a href="#" class="js-modal-fliker-trigger"  data-type="image" data-toggle="modal" data-target="#modalFlickrPhoto">'+__e(i18next.t("Choose..."))+"</a>\r\n  ";else{var background_picture_url=board.attributes.background_picture_url.replace("_XXXX.jpg","_s.jpg");__p+='\r\n	  <ul class="list-inline col-xs-offset-0 clearfix">\r\n		<li class="list-inline board-background-select navbar-btn cur col-xs-12">\r\n\r\n		<ul class="list-inline clearfix">\r\n		<li class="pull-left">\r\n			<span class="background-box show well-lg" style="background-image:url('+(null==(__t=background_picture_url)?"":__t)+'); background-size:cover;"></span>\r\n		</li>\r\n		<li class="pull-left col-xs-8">\r\n			<div class="clearfix">\r\n				<p class="col-xs-5 nav htruncate">\r\n				',_.isEmpty(board.attributes.background_name)||"NULL"==board.attributes.background_name||(__p+="\r\n					"+(null==(__t=board.attributes.background_name)?"":__t)+" \r\n				"),__p+='\r\n				</p>\r\n				<div class="pull-right">\r\n					<div class="btn-group btn-group-xs navbar-btn">\r\n						<a class="btn btn-primary js-modal-fliker-trigger" title="'+__e(i18next.t("Change"))+'" href="#" data-type="image" data-toggle="modal" data-target="#modalFlickrPhoto">'+__e(i18next.t("Change"))+'</a>\r\n						<div class="dropdown btn btn-default">\r\n							<a data-toggle="dropdown" class="dropdown-toggle" title="'+__e(i18next.t("Delete"))+'" href="#">\r\n								<i class="icon-remove cur js-delete-background-img"></i>\r\n							</a>\r\n							<ul class="dropdown-menu arrow arrow-right list-unstyled">\r\n								<li id="js-attachment-confirm-respons-22" class="js-dropdown-popup">\r\n								  <div>\r\n									<div class="clearfix text-center col-xs-12"><span class="col-xs-10"><strong>'+__e(i18next.t("Delete Attachment"))+'?</strong></span><a href="#" class="js-span-close-popup pull-right"><i class="icon-remove"></i></a></div>\r\n									<div class="col-xs-12 divider"></div>\r\n									<div class="col-xs-12 text-left">\r\n									  <p>'+__e(i18next.t("Deleting an background photo. There is no undo."))+'</p>\r\n									  <a title="'+__e(i18next.t("Delete background photo"))+'" class="btn btn-primary btn-large">'+__e(i18next.t("Delete"))+'</a></div>\r\n								  </div>\r\n								</li>\r\n							</ul>\r\n						</div>\r\n					</div>\r\n				</div>\r\n			</div>\r\n			<div>\r\n				<small class="navbar-btn">'+__e(i18next.t("Powered by"))+' <a href="javascript:void(0);" title="'+__e(i18next.t("Flickr"))+'"><strong class="text-primary">'+__e(i18next.t("Flickr"))+"</strong></a></small>\r\n			</div>		\r\n		</li>\r\n		</ul>	\r\n		\r\n		\r\n		</li>\r\n	  </ul>\r\n  "}if(__p+="  \r\n\r\n  <h4>"+__e(i18next.t("Patterns and Textures"))+"</h4>\r\n  ",_.isEmpty(board.attributes.background_pattern_url)||"NULL"==board.attributes.background_pattern_url)__p+='\r\n	 <a href="#" class="js-modal-fliker-trigger" data-type="texture" data-toggle="modal" data-target="#modalFlickrPhoto">'+__e(i18next.t("Choose..."))+"</a>\r\n  ";else{var background_pattern_url=board.attributes.background_pattern_url.replace("_XXXX.jpg","_s.jpg");__p+='		\r\n <ul class="list-inline col-xs-offset-0 clearfix">\r\n    <li class="list-inline board-background-select navbar-btn cur col-xs-12">\r\n	\r\n				<ul class="list-inline clearfix">\r\n		<li class="pull-left">\r\n			<span class="background-box show well-lg" style="background-image:url('+(null==(__t=background_pattern_url)?"":__t)+'); background-size:cover;"></span>\r\n		</li>\r\n		<li class="pull-left col-xs-8">\r\n			<div class="clearfix">\r\n				<p class="col-xs-5 nav htruncate"> ',_.isEmpty(board.attributes.background_name)||"NULL"==board.attributes.background_name||(__p+="\r\n					"+(null==(__t=board.attributes.background_name)?"":__t)+" \r\n				"),__p+=' </p>\r\n				<div class="pull-right">\r\n					<div class="btn-group btn-group-xs navbar-btn">\r\n						<a class="btn btn-primary js-modal-fliker-trigger" title="'+__e(i18next.t("Change"))+'" href="#" data-type="texture" data-toggle="modal" data-target="#modalFlickrPhoto">'+__e(i18next.t("Change"))+'</a>\r\n						<div class="dropdown btn btn-default">\r\n							<a data-toggle="dropdown" class="dropdown-toggle" title="'+__e(i18next.t("Delete"))+'" href="#">\r\n								<i class="icon-remove cur js-delete-background-img"></i>\r\n							</a>\r\n							<ul class="dropdown-menu arrow arrow-right list-unstyled">\r\n								<li id="js-attachment-confirm-respons-22" class="js-dropdown-popup">\r\n								  <div>\r\n									<div class="clearfix text-center col-xs-12"><span class="col-xs-10"><strong>'+__e(i18next.t("Delete Attachment"))+'?</strong></span><a href="#" class="js-span-close-popup pull-right"><i class="icon-remove"></i></a></div>\r\n									<div class="col-xs-12 divider"></div>\r\n									<div class="col-xs-12 text-left">\r\n									  <p>'+__e(i18next.t("Deleting an background photo. There is no undo."))+'</p>\r\n									  <a title="'+__e(i18next.t("Delete background photo"))+'" class="btn btn-primary btn-large">'+__e(i18next.t("Delete"))+'</a></div>\r\n								  </div>\r\n								</li>\r\n							</ul>\r\n						</div>\r\n					</div>\r\n				</div>\r\n			</div>\r\n			<div>\r\n				<small class="navbar-btn">'+__e(i18next.t("Powered by"))+' <a href="javascript:void(0);" title="'+__e(i18next.t("Flickr"))+'"><strong class="text-primary">'+__e(i18next.t("Flickr"))+"</strong></a></small>\r\n			</div>		\r\n		</li>\r\n		</ul>\r\n		\r\n	</li>\r\n  </ul>\r\n  "}__p+="  \r\n \r\n  \r\n",1!=authuser.user.role_id&&_.isEmpty(board.acl_links.where({slug:"add_custom_background",board_user_role_id:parseInt(board.board_user_role_id)}))||(__p+=" \r\n  <h4>"+__e(i18next.t("Custom"))+'<span class="clearfix navbar-btn col-xs-7 pull-right"><span id="custom-dropzone-cssloader"></span></span></h4>\r\n  <ul class="js-board-background-custom-lists list-inline">\r\n    ',board.custom_attachments.each(function(a){__p+='\r\n    <li class="js-change-custom-background board-background-select navbar-btn cur" data-background="'+(null==(__t=a.get("path"))?"":__t)+'"><span class="background-box show well-lg" style="background-image:url('+(null==(__t=a.get("path"))?"":__t)+'"></span></li>\r\n    '}),__p+='\r\n  </ul>\r\n\r\n\r\n<div class="clearfix col-xs-12" id="custom-background-dropzone">\r\n	<form id="js-board-custom-background-form" class="form-horizontal clearfix  js-cusotm-background-add" role="form" enctype="multipart/form-data">\r\n		<div id="manager-area" class="js-cusotm-background-dropzone empty-block js-computer-open-board-background">\r\n			'+__e(i18next.t("Drop files to upload"))+"\r\n		</div>\r\n	</form>\r\n</div>\r\n"),__p+='\r\n<div class="col-xs-12 member-modal clearfix btn-block">\r\n<h4>'+__e(i18next.t("Productivity Beats"))+"</h4>\r\n",__p+=_.isEmpty(board.attributes.music_content)||"NULL"==board.attributes.music_content?'\r\n	<a href="#" class="js-modal-music-trigger" data-toggle="modal" data-target="#modalMusic">'+__e(i18next.t("Add..."))+"</a>\r\n  ":'\r\n <ul class="list-inline col-xs-offset-0 clearfix">\r\n    <li class="clearfix col-xs-12">\r\n	\r\n	  <ul class="list-inline col-xs-offset-0">\r\n		<li class="list-inline board-background-select navbar-btn cur col-xs-12">\r\n\r\n		<ul class="list-inline clearfix">\r\n		<li class="pull-left col-xs-12">\r\n			<div class="clearfix">\r\n				<p class="col-xs-7 nav htruncate">\r\n				'+(null==(__t=board.attributes.music_name)?"":__t)+'\r\n				</p>\r\n				<div class="pull-right">\r\n					<div class="btn-group btn-group-xs navbar-btn">\r\n						<a class="btn btn-primary js-modal-music-trigger" title="'+__e(i18next.t("Change"))+'" href="#" data-toggle="modal" data-target="#modalMusic">'+__e(i18next.t("Change"))+'</a>\r\n						<div class="dropdown btn btn-default">\r\n							<a data-toggle="dropdown" class="dropdown-toggle" title="'+__e(i18next.t("Delete"))+'" href="#">\r\n								<i class="icon-remove cur js-music-clear"></i>\r\n							</a>\r\n							<ul class="dropdown-menu arrow arrow-right list-unstyled">\r\n								<li id="js-attachment-confirm-respons-22" class="js-dropdown-popup">\r\n								  <div>\r\n									<div class="clearfix text-center col-xs-12"><span class="col-xs-10"><strong>'+__e(i18next.t("Delete Attachment"))+'?</strong></span><a href="#" class="js-span-close-popup pull-right"><i class="icon-remove"></i></a></div>\r\n									<div class="col-xs-12 divider"></div>\r\n									<div class="col-xs-12 text-left">\r\n									  <p>'+__e(i18next.t("Deleting an background photo. There is no undo."))+'</p>\r\n									  <a title="'+__e(i18next.t("Delete background photo"))+'" class="btn btn-primary btn-large">'+__e(i18next.t("Delete"))+"</a></div>\r\n								  </div>\r\n								</li>\r\n							</ul>\r\n						</div>\r\n					</div>\r\n				</div>\r\n			</div>	\r\n		</li>\r\n		</ul>	\r\n	\r\n	</li>\r\n  </ul>\r\n  ",__p+="  \r\n</div>\r\n</div>"}return __p},this.JST["templates/board_custom_background"]=function(obj){obj||(obj={});var __t,__p="";_.escape;with(obj)__p+='<span class="background-box" style="background-image:url('+(null==(__t=board_background.attributes.custom_attachments.path)?"":__t)+'"></span>';return __p},this.JST["templates/board_filter"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;Array.prototype.join;with(obj){if(__p+='<div class="clearfix text-center col-xs-12">\r\n	<a href="#" class="js-back-to-sidebar pull-left btn btn-xs btn-link">\r\n			<i class="icon-caret-left"></i>\r\n	</a>\r\n	<span class="col-xs-10 navbar-btn"><strong>'+__e(i18next.t("Filter Cards"))+'</strong></span>\r\n</div>\r\n<div class="col-xs-12 divider"></div>\r\n<div class="col-xs-12 member-modal js-pre-scrollable vertical-scrollbar">\r\n	',board.labels.length>0){__p+='\r\n	<ul class="nav nav-pills nav-stacked js-board-labels">\r\n	';var labels=board.labels.pluck("name");labels=_.uniq(labels,function(a){return a}),_.each(labels,function(a){__p+=' \r\n		<li class="clearfix js-toggle-label-filter cur card-label-show h5 btn-link media">\r\n			<span style="background:#'+__e(converter.colorCode(""+a).substring(0,6))+';color:#ffffff" class="pull-left btn btn-xs"><i class="'+(null==(__t=LABEL_ICON)?"":__t)+' icon-light"></i></span><div class="htruncate js-label">'+__e(a)+"</div>\r\n		</li> \r\n	"}),
__p+="\r\n	</ul>\r\n	<hr>\r\n	"}__p+="\r\n	",board.board_users.length>0&&(__p+='\r\n	<ul class="nav nav-pills nav-stacked js-board-users">\r\n		',board.board_users.each(function(a){if(__p+='\r\n		<li class="clearfix js-toggle-member-filter cur card-label-show h5 btn-link">\r\n			<div class="navbar-btn clearfix media">\r\n				<span class="pull-left">\r\n					',_.isEmpty(a.attributes.profile_picture_path))__p+='\r\n						<i class="avatar avatar-color-194 img-rounded" title="'+__e(a.attributes.username)+'">'+__e(a.attributes.initials)+"</i>\r\n					";else{var b=a.showImage("User",a.attributes.user_id,"small_thumb");__p+='\r\n						<img class="img-rounded img-responsive" src="'+__e(b)+'" alt="[Images: '+__e(a.attributes.username)+']" title="'+__e(a.attributes.username)+'" />\r\n					'}__p+=' \r\n				</span>			\r\n				<span class="pull-left navbar-btn htruncate">\r\n					'+__e(a.attributes.username)+'\r\n					<span class="js-user hide">user-filter-'+__e(a.attributes.user_id)+"</span>\r\n				</span>\r\n			</div>\r\n		</li>\r\n		"}),__p+="\r\n	</ul>\r\n	<hr>\r\n	"),__p+='\r\n	<ul class="nav nav-pills nav-stacked js-board-dues">\r\n		<li class="clearfix js-due-filter cur card-label-show h5 btn-link"><div class="navbar-btn clearfix media htruncate">'+__e(i18next.t("Due in the next day"))+' <span class="js-due hide">day</span></div></li>\r\n		<li class="clearfix js-due-filter cur card-label-show h5 btn-link"><div class="navbar-btn clearfix media htruncate">'+__e(i18next.t("Due in the next week"))+' <span class="js-due hide">week</span></div></li>\r\n		<li class="clearfix js-due-filter cur card-label-show h5 btn-link"><div class="navbar-btn clearfix media htruncate">'+__e(i18next.t("Due in the next month"))+' <span class="js-due hide">month</span></div></li>\r\n		<li class="clearfix js-due-filter cur card-label-show h5 btn-link"><div class="navbar-btn clearfix media htruncate">'+__e(i18next.t("Overdue"))+' <span class="js-due hide">overdue</span></div></li>\r\n	</ul>\r\n	<hr>\r\n	<ul class="nav nav-pills nav-stacked">\r\n		<li class="clearfix h5 btn-link">\r\n			<span class="js-clear-all text-muted">'+__e(i18next.t("Clear Filter"))+"</span>\r\n		</li>\r\n	</ul>\r\n</div>"}return __p},this.JST["templates/board_header"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;Array.prototype.join;with(obj){if(__p+=' <div class="container-fluid">\r\n	 <div class="row">\r\n			  <div class="navbar-left navbar-btn mob-no-mar col-sm-11 col-xs-10 nav ',__p+=0==board.attributes.organization_id?" col-lg-6 col-md-5 ":" col-lg-5 col-md-4",__p+='">\r\n			  <div class="clearfix row-flex">\r\n			  <ul class="nav nav-pills pull-left col-flex col-flex1 ',0==board.attributes.organization_id&&(__p+=" hide "),__p+='">\r\n			  ',0!=board.attributes.organization_id){__p+='\r\n               <li>\r\n				<a href="#/organization/'+(null==(__t=board.attributes.organization_id)?"":__t)+'" class=" text-muted btn btn-link pull-left htruncate col-lg-10 col-sm-10 col-md-9 col-xs-9 nav" title="'+__e(board.attributes.organization_name)+'">\r\n					';var logo_path="img/default-organization.png";_.isUndefined(board.attributes.organization_logo_url)||null==board.attributes.organization_logo_url||""==board.attributes.organization_logo_url||(logo_path=board.showImage("Organization",board.attributes.organization_id,"small_thumb")),__p+='\r\n					<span><img src="'+(null==(__t=logo_path)?"":__t)+'" height="16" width="16" alt="[Image: '+(null==(__t=board.attributes.organization_name)?"":__t)+']" title="'+(null==(__t=board.attributes.organization_name)?"":__t)+'"></span> \r\n					<strong>'+__e(board.attributes.organization_name)+'</strong>\r\n				</a>\r\n				<span class="navbar-btn mob-no-mar pull-left icon"><span class="navbar-btn pull-left">&nbsp;/&nbsp;</span></span>\r\n			   </li>\r\n			   '}if(__p+='\r\n			</ul>\r\n			<div class="navbar-btn pull-left mob-no-mar list-group-item-text col-flex ',__p+=0!=board.attributes.organization_id?" col-flex2 ":" col-flex3  ",__p+='">	\r\n					  <form name="BoardStarForm" id="BoardStarForm">\r\n						<input id="inputBoardStar" name="is_starred" type="hidden" value="',__p+=_.isUndefined(star)?"0":__e(star.attributes.is_starred),__p+='"> \r\n					  </form>\r\n					<div class="col-xs-12 pull-left navbar-btn list-group-item-text ',_.isUndefined(authuser.user)||1!=authuser.user.role_id&&_.isEmpty(board.acl_links.where({slug:"edit_board",board_user_role_id:parseInt(board.board_user_role_id)}))||(__p+="dropdown"),__p+='">\r\n					  ',_.isEmpty(role_links.where({slug:"starred_board"}))||(__p+="\r\n					  ",__p+=_.isUndefined(star)||1!==parseInt(star.attributes.is_starred)?'\r\n					  <a href="#" class="js-star-board pull-left" name="star" title="\r\n'+__e(i18next.t("Star"))+'"><i class="icon-star-empty"></i></a>\r\n					  ':'\r\n					  <a href="#" class="js-star-board pull-left" name="unstar" title="\r\n'+__e(i18next.t("Unstar"))+'"><i class="icon-star text-primary"></i></a>\r\n					  ',__p+="\r\n					  "),__p+='\r\n					  <a href="#" class="js-star-load pull-left text-primary hide"><img src="img/star-load.gif" alt="[Images: Star]" title="\r\n'+__e(i18next.t("Star"))+'"></a><a href="#" class="col-xs-8 nav htruncate ',__p+=_.isUndefined(authuser.user)?"js-no-action":"js-rename-board",__p+='" data-toggle="',_.isUndefined(authuser.user)||1!=authuser.user.role_id&&_.isEmpty(board.acl_links.where({slug:"edit_board",board_user_role_id:parseInt(board.board_user_role_id)}))||(__p+="dropdown"),__p+='" title="'+__e(board.attributes.name)+'"><strong>'+__e(board.attributes.name)+"</strong></a>\r\n				  ",_.isUndefined(authuser.user)||1!=authuser.user.role_id&&_.isEmpty(board.acl_links.where({slug:"edit_board",board_user_role_id:parseInt(board.board_user_role_id)}))||(__p+='\r\n				  <ul class="dropdown-menu dropdown-menu-left arrow arrow-left">\r\n					<li class="js-rename-popup js-dropdown-popup dropdown-popup">\r\n					  <div class="clearfix text-center col-xs-12">\r\n						<span class="col-xs-10"><strong>\r\n'+__e(i18next.t("Rename Board"))+'</strong></span><a class="js-close-popover pull-right" href="#"><i class="icon-remove"></i></a>\r\n					  </div>\r\n					  <div class="col-xs-12 divider"></div>\r\n					  <div class="col-xs-12 text-left">\r\n						<form class="normal" name="BoardRenameForm" id="BoardRenameForm">\r\n						  <div class="required form-group">\r\n							<label for="inputBoardName">\r\n'+__e(i18next.t("Name"))+'</label>\r\n							<input type="text" id="inputBoardName" name="name" class="form-control input-sm" title="\r\n'+__e(i18next.t("Whitespace alone not allowed"))+'" required pattern=".*\\S+.*" value="'+__e(board.attributes.name)+'">\r\n						  </div>\r\n						  <div class="submit">\r\n							<input type="submit" value="\r\n'+__e(i18next.t("Rename"))+'" id="submitBoardRename" class="btn btn-primary btn-sm">\r\n						  </div>\r\n						</form>\r\n					  </div>\r\n					</li>\r\n				  </ul>\r\n				  '),__p+='\r\n				  </div>\r\n			</div>\r\n				</div>\r\n				</div>\r\n				 <div class="navbar-header"><button data-toggle="collapse" data-target=".navbar-collapse" class="navbar-toggle" type="button"> <span class="sr-only">\r\n'+__e(i18next.t("Toggle navigation"))+'</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button></div>\r\n			<nav class="navbar-collapse collapse mob-no-pad">\r\n			  <div class="navbar-right">\r\n			  ',!_.isUndefined(authuser.user)){__p+='\r\n			  <ul class="nav nav-pills pull-left pillsuser-list navbar-btn h4 right-mar">\r\n				  <li class="dropdown"> <a href="javascript:void(0);" data-toggle="dropdown" class="dropdown-toggle show clearfix navbar-btn h4">\r\n				  ';var i=1,admin_board_users_count=board.admin_board_users.length,normal_board_users_count=board.normal_board_users.length;_.each(board.admin_board_users,function(a){if(3>=i){if(__p+='\r\n            	<span class="pull-left btn-xs nav">\r\n					<span class="col-xs-12 btn-block navbar-btn" title="'+__e(a.attributes.full_name)+" ("+__e(a.attributes.username)+')">\r\n						',_.isEmpty(a.attributes.profile_picture_path))__p+='\r\n							<i class="avatar avatar-sm avatar-color-194 img-rounded">'+(null==(__t=a.attributes.initials)?"":__t)+"</i>\r\n						";else{var b=board.showImage("User",a.attributes.user_id,"small_thumb");__p+='\r\n						<img  width="30" height="30" class="img-responsive img-rounded board-user-img" title="'+__e(a.attributes.full_name)+" ("+__e(a.attributes.username)+')" alt="[Images: '+__e(a.attributes.full_name)+']" src="'+(null==(__t=b)?"":__t)+'">\r\n						'}__p+="\r\n						",1===board.board_user_roles[a.attributes.board_user_role_id-1].id&&(__p+='\r\n							<span class="name-block htruncate col-xs-12 label btn-xs col-xs-push-0">\r\n'+__e(i18next.t("Owner"))+"</span>\r\n						"),__p+="\r\n					</span>\r\n				</span>\r\n			  ",i++}}),__p+="\r\n			  ",3>admin_board_users_count&&_.each(board.normal_board_users,function(a){if(3>=i){var b="";if(1!==i&&(b="hidden-xs"),__p+='\r\n            	<span class="pull-left btn-xs nav '+__e(b)+'">\r\n					<span class="col-xs-12 btn-block navbar-btn" title="'+__e(a.attributes.full_name)+" ("+__e(a.attributes.username)+')">\r\n						',_.isEmpty(a.attributes.profile_picture_path))__p+='\r\n							<i class="avatar avatar-sm avatar-color-194 img-rounded">'+(null==(__t=a.attributes.initials)?"":__t)+"</i>\r\n						";else{var c=board.showImage("User",a.attributes.user_id,"small_thumb");__p+='\r\n						<img  width="30" height="30" class="img-responsive img-rounded board-user-img" title="'+__e(a.attributes.full_name)+" ("+__e(a.attributes.username)+')" alt="[Images: '+__e(a.attributes.full_name)+']" src="'+(null==(__t=c)?"":__t)+'">\r\n						'}__p+="\r\n					</span>\r\n				</span>\r\n			  ",i++}}),__p+='\r\n				  <span class="col-xs-3 label small hidden-xs"> <span class="small"><span class="show text-left" title="'+__e(i18next.t("Owner %s",{postProcess:"sprintf",sprintf:[admin_board_users_count]}))+'">'+__e(i18next.t("Owner %s",{postProcess:"sprintf",sprintf:[admin_board_users_count]}))+'</span> <span class="show text-left" title="'+__e(i18next.t("Member %s",{postProcess:"sprintf",sprintf:[normal_board_users_count]}))+'">'+__e(i18next.t("Member %s",{postProcess:"sprintf",sprintf:[normal_board_users_count]}))+'</span></span> </span> </a>\r\n					<ul class="list-unstyled js-visibility-chooser dropdown-menu arrow arrow-right">\r\n					  <li class="text-center">\r\n						<strong>'+__e(i18next.t("Members"))+'</strong>\r\n						<span href="#" class="js-close-popover pull-right col-xs-2"><i class="icon-remove cur"></i></span>\r\n					  </li>\r\n					  <li class="divider"></li>\r\n					  <li class="col-xs-12">\r\n						<ul class="list-unstyled clearfix js-get-board-member-lists-response">\r\n						</ul>\r\n						',_.isUndefined(authuser.user)||1!=authuser.user.role_id&&_.isEmpty(board.acl_links.where({slug:"add_board_users",board_user_role_id:parseInt(board.board_user_role_id)}))||(__p+='\r\n						<ul class="list-unstyled clearfix js-hide-on-offline">\r\n						<li class="col-xs-12 navbar-btn text-left">\r\n								<div class="js-add-board-member-dropdown dropdown inner-dropdown col-xs-12"> \r\n									<a href="#" class="text-muted" data-toggle="dropdown">'+__e(i18next.t("Add Member"))+'...</a>\r\n									<ul class="dropdown-menu arrow">\r\n										<li>\r\n										  <div class="col-xs-12 text-center clearfix">\r\n											<span class="col-xs-10"><strong>'+__e(i18next.t("Members"))+'</strong></span><a class="js-close-popover-board-member-dropdown pull-right" href="#"><i class="icon-remove"></i></a>										\r\n										  </div> \r\n										  <div class="col-xs-12 divider"></div>\r\n										  <div class="col-xs-12">\r\n											<form method="post" class="text-center" id="js-add-board-member-form">\r\n											  <div class="form-group">\r\n												<label class="sr-only">'+__e(i18next.t("Search Member"))+'</label>\r\n												<input type="text" autocomplete="off" id="inputBoardUserSearch" placeholder="'+__e(i18next.t("Email or Username"))+'" name="email" title="'+__e(i18next.t("Email or Username"))+'" required class="js-search-users form-control input-sm">\r\n											  </div>\r\n											</form>\r\n										  </div>\r\n										  </li>\r\n										  <li class="js-board-member-search-response col-xs-12 pre-scrollable vertical-scrollbar">\r\n											<span class="small">'+__e(i18next.t("Search for a person in %s by name or email address.",{postProcess:"sprintf",sprintf:[SITE_NAME]}))+"</span>\r\n										 </li>\r\n									</ul>\r\n								</div>\r\n							</li>\r\n							</ul>\r\n							"),__p+="\r\n					  </li>\r\n					</ul>\r\n				  </li>\r\n				</ul>\r\n				"}if(__p+='\r\n				<ul class="nav nav-pills pull-left">\r\n					',_.isUndefined(authuser.user)||1!=authuser.user.role_id&&_.isEmpty(board.acl_links.where({slug:"edit_board",board_user_role_id:parseInt(board.board_user_role_id)}))){__p+='\r\n					<li>\r\n						<div class="btn-group navbar-btn js-visibility-list-dropdown dropdown">\r\n							';var board_visibility="",board_visibility_icon="";0==board.attributes.board_visibility?(board_visibility="Private",board_visibility_icon="icon-lock"):1==board.attributes.board_visibility&&board.attributes.organization_id>0?(board_visibility="Organization",board_visibility_icon="icon-group"):2==board.attributes.board_visibility&&(board_visibility="Public",board_visibility_icon="icon-circle"),__p+='\r\n							<button class="btn btn-default btn-sm" type="button"><i class="'+__e(board_visibility_icon)+'"></i><span class="hidden-xs">'+(null==(__t=board_visibility)?"":__t)+"</span></button>\r\n						</div>\r\n					</li>\r\n				  "}else{__p+=' \r\n					<li>\r\n						<div class="btn-group navbar-btn js-visibility-list-dropdown dropdown">\r\n							';var board_visibility="",board_visibility_icon="";0==board.attributes.board_visibility?(board_visibility=i18next.t("Private"),board_visibility_icon="icon-lock"):1==board.attributes.board_visibility&&board.attributes.organization_id>0?(board_visibility=i18next.t("Organization"),board_visibility_icon="icon-group"):2==board.attributes.board_visibility&&(board_visibility=i18next.t("Public"),board_visibility_icon="icon-circle"),__p+='\r\n							<button class="btn btn-default btn-sm js-board-visibility" type="button"><i class="'+__e(board_visibility_icon)+'"></i><span class="hidden-xs">'+(null==(__t=board_visibility)?"":__t)+'</span></button>\r\n							\r\n							<button data-toggle="dropdown" class="btn btn-default btn-sm dropdown-toggle active js-board-visibility" type="button"> <span><i class="icon-caret-down cur"></i></span> <span class="sr-only">'+__e(i18next.t("Toggle Dropdown"))+'</span> </button>\r\n							\r\n							<ul class="dropdown-menu arrow arrow-right col-xs-push-0">\r\n								<li class="js-visibility-popup js-dropdown-popup dropdown-popup col-xs-12">          \r\n									<div class="clearfix text-center"><a class="js-back-to-board-visibility hide pull-left" href="#"><i class="icon-caret-left"></i></a><span class="col-xs-10"><strong>'+__e(i18next.t("Change Visibility"))+'</strong></span><a class="js-close-popover pull-right" href="#"><i class="icon-remove"></i></a>\r\n									</div>\r\n								</li>\r\n								<li class="col-xs-12 divider js-visibility-list"></li>\r\n							</ul>\r\n					</div>\r\n	              </li>\r\n				  '}if(__p+='\r\n				  \r\n				  <li class="js-switch-view"><a href="#" class=" navbar-btn h4 js-switch-grid-view text-muted list-group-item-text" title="'+__e(i18next.t("Grid"))+'" data-placement="bottom" data-toggle="tooltip"><i class="icon-th"></i></a></li>\r\n				  <li class="js-switch-view"><a href="#" class=" navbar-btn h4 js-switch-list-view text-muted list-group-item-text" title="'+__e(i18next.t("List"))+'" data-placement="bottom" data-toggle="tooltip"><i class="icon-list-ul"></i></a></li>\r\n				  <li class="js-switch-view"><a href="#" class=" navbar-btn h4 js-switch-calendar-view text-muted list-group-item-text" title="'+__e(i18next.t("Calendar"))+'" data-placement="bottom" data-toggle="tooltip"><i class="icon-calendar"></i></a></li>\r\n				  <li class="js-switch-view"><a href="#" class=" navbar-btn h4 js-switch-timeline-view text-muted list-group-item-text" title="'+__e(i18next.t("Gantt"))+'" data-placement="bottom" data-toggle="tooltip"><i class="icon-time"></i></a></li>\r\n				</ul>\r\n				<div class="pull-right dropdown"> \r\n				  <a data-toggle="dropdown" class="navbar-btn icon h4 btn btn-primary dropdown-toggle js-back-setting-response col-sm-offset-1 show" type="button"><i class="icon-cog h3 cur"></i></a>\r\n				  <ul class="dropdown-menu arrow arrow-right col-xs-12 js-setting-response">\r\n							<li class="js-list-form"><a class="nav-list-item js-show-filters" href="#"><span class="icon-sm icon-filter icon-type"></span> '+__e(i18next.t("Filter Cards"))+'</a></li>\r\n							<li><a class="nav-list-item js-show-labels" href="#"><span class="icon-sm  icon-tag icon-type"></span> '+__e(i18next.t("Labels"))+"</a></li>\r\n							",_.isUndefined(authuser.user)||(__p+="\r\n								",_.isUndefined(authuser.user)||1!=authuser.user.role_id&&_.isEmpty(board.acl_links.where({slug:"view_archived_lists",board_user_role_id:parseInt(board.board_user_role_id)}))&&_.isEmpty(board.acl_links.where({slug:"view_archived_cards",board_user_role_id:parseInt(board.board_user_role_id)}))||(__p+='\r\n								<li><a class="nav-list-item js-archived-items" href="#"><span class="icon-sm icon-archive icon-type"></span> '+__e(i18next.t("Archived Items"))+"</a></li>\r\n								"),__p+="\r\n							"),__p+="\r\n							",!_.isUndefined(authuser.user)){if(__p+="\r\n							",_.isUndefined(authuser.user)||1!=authuser.user.role_id&&_.isEmpty(board.acl_links.where({slug:"view_sync_calendar",board_user_role_id:parseInt(board.board_user_role_id)}))||(__p+='\r\n							<li class="js-sync-google-dropdown inner-dropdown"><a href="#" class="js-syn-google-calendar" data-toggle="dropdown"><span class="icon-calendar"></span> '+__e(i18next.t("iCal Feed"))+"</a>\r\n							</li> \r\n							"),__p+='\r\n							<li class="divider"></li>\r\n							',_.isUndefined(authuser.user)||(__p+=' \r\n							  <li class="navbar-btn right-mar">\r\n								<form name="BoardSubscribeForm" id="BoardSubscribeForm">\r\n								  <input id="inputBoardSubscribe" name="is_subscribed" type="hidden" value=" ',__p+=_.isUndefined(subscriber)?"0":" "+__e(subscriber.attributes.is_subscribed),__p+='">\r\n								</form> \r\n								',!_.isUndefined(subscriber)&&parseInt(subscriber.attributes.is_subscribed)?(__p+="\r\n								",_.isUndefined(authuser.user)||1!=authuser.user.role_id&&_.isEmpty(board.acl_links.where({slug:"board_subscriber",board_user_role_id:parseInt(board.board_user_role_id)}))||(__p+='\r\n								<a href="#" class="js-show-unsubscribe-form navbar-btn h4 list-group-item-text" name="unsubscribe" title="'+__e(i18next.t("Subscribed"))+'"><i class="icon-eye-close"></i><span class="hidden-xs">'+__e(i18next.t("Subscribed"))+' <i class="icon-ok js-filter-icon cur"></i></span></a>\r\n								'),__p+="\r\n								"):(__p+="  \r\n								",_.isUndefined(authuser.user)||1!=authuser.user.role_id&&_.isEmpty(board.acl_links.where({slug:"subscribe_board",board_user_role_id:parseInt(board.board_user_role_id)}))&&(_.isEmpty(role_links.where({slug:"subscribe_board"}))||2!=board.attributes.board_visibility)||(__p+='\r\n								<a href="#" class="js-show-subscribe-form navbar-btn h4" name="subscribe" title="'+__e(i18next.t("Subscribe"))+'"><i class="icon-eye-open"></i><span class="hidden-xs">'+__e(i18next.t("Subscribe"))+"</span></a>\r\n								"),__p+="\r\n								"),__p+="\r\n							  </li>\r\n						    "),__p+="\r\n							",!(_.isUndefined(authuser.user)||1!=authuser.user.role_id&&_.isEmpty(board.acl_links.where({slug:"edit_board",board_user_role_id:parseInt(board.board_user_role_id)})))){__p+="\r\n							";var background_color=board.attributes.background_color,background_picture_url=board.attributes.background_picture_url,background_pattern_url=board.attributes.background_pattern_url,preview="";_.isEmpty(background_picture_url)||"NULL"==background_picture_url?_.isEmpty(background_pattern_url)||"NULL"==background_pattern_url?_.isEmpty(background_color)||"NULL"==background_color||(preview='<span style="background-color:'+background_color+'" class=" background-box show well-lg"></span>'):(background_pattern_url=background_pattern_url.replace("_XXXX.jpg","_b.jpg"),preview='<span style="background-image:url('+background_pattern_url+');" class="background-box show well-lg"></span>'):(background_picture_url=background_picture_url.replace("_XXXX.jpg","_b.jpg"),preview='<span style="background-image:url('+background_picture_url+');" class="background-box show well-lg"></span>'),__p+='\r\n							<li><a href="#" class="nav-list-item nav-list-sub-item js-change-background"> '+__e(i18next.t("Change Background"))+"</a></li>\r\n							",_.isEmpty(IMAP_EMAIL)||(__p+='\r\n							<li><a href="#" class="nav-list-item nav-list-sub-item js-email-to-board-settings"> '+__e(i18next.t("Email to board settings"))+"</a></li>\r\n							"),__p+="\r\n							"}__p+="\r\n							",_.isUndefined(authuser.user)||1!=authuser.user.role_id&&_.isEmpty(board.acl_links.where({slug:"copy_board",board_user_role_id:parseInt(board.board_user_role_id)}))||(__p+='\r\n							<li class="js-sync-google-dropdown inner-dropdown"><a data-toggle="dropdown" href="#" class="js-show-copy-board">'+__e(i18next.t("Copy board"))+"</a>\r\n							</li>\r\n							"),__p+="\r\n							"}__p+='\r\n							<li class="divider"></li>\r\n							<li><a href="#" class="js-show-board-modal" data-toggle="modal" data-target="#modalListView">'+__e(i18next.t("Show Attachments"))+'</a></li>\r\n							<li><a href="#" class="js-show-chat-history-modal" data-toggle="modal" data-target="#modalChatHistoryView">'+__e(i18next.t("Show Chat History"))+"</a></li>\r\n							",_.isUndefined(authuser.user)||1!=authuser.user.role_id&&_.isEmpty(board.acl_links.where({slug:"edit_board",board_user_role_id:parseInt(board.board_user_role_id)}))||(__p+='\r\n							<li><a href="#" class="js-additional-settings">'+__e(i18next.t("Additional Settings"))+'</a></li>\r\n							<li class="divider"></li>\r\n							<li class="dropdown js-open-dropdown inner-dropdown"><a href="#" class="dropdown-toggle" data-toggle="dropdown"><i class="icon-sm icon-warning-sign icon-type text-primary"></i>'+__e(i18next.t("Close board"))+'</a>\r\n							  <ul class="dropdown-menu arrow pull-right">\r\n								<li class="js-dropdown-popup dropdown-popup">\r\n								  <div class="clearfix text-center col-xs-12">\r\n									<span class="col-xs-10"><strong>'+__e(i18next.t("Close board"))+'</strong></span><a class="js-close-sub-popover pull-right" href="#"><i class="icon-remove"></i></a>						\r\n								  </div>\r\n								  <div class="col-xs-12 divider"></div>\r\n								  <div class="col-xs-12">\r\n									<form class="normal col-xs-12" name="BoardCloseForm" id="BoardCloseForm">\r\n									  <input id="inputBoardClose" name="is_closed" type="hidden" value="true">\r\n									  <p>'+__e(i18next.t('You can reopen the board by clicking the "Boards" menu from the header, selecting "View Closed Boards", finding the board and clicking "Reopen".'))+'</p>\r\n									  <div class="submit">\r\n										<input type="submit" value="'+__e(i18next.t("Close"))+'" id="submitBoardClose" class="btn btn-primary js-close-board">\r\n									  </div>\r\n									</form>\r\n								  </div>\r\n								</li>\r\n							  </ul>\r\n							</li>\r\n							'),__p+="\r\n				  </ul>\r\n				</div>\r\n			  </div>\r\n			  </nav>\r\n		</div>\r\n	</div>\r\n"}return __p},this.JST["templates/board_index"]=function(obj){obj||(obj={});var __p="";_.escape,Array.prototype.join;with(obj)__p+="  ",_.isEmpty(role_links.where({slug:"view_my_boards"}))||(__p+='\r\n  <div class="btn-block clearfix">\r\n    <div class="col-xs-12 js-my-boards mob-no-pad">\r\n    </div>\r\n  </div>\r\n  '),__p+="\r\n";return __p},this.JST["templates/board_index_header"]=function(obj){obj||(obj={});var __p="",__e=_.escape;with(obj)__p+='<div class="container-fluid">\r\n	<div class="row">\r\n        <div class="pull-left">\r\n            <div class="clearfix">\r\n                <h2 class="pull-left navbar-btn list-group-item-text"><span class="pull-left"><a href="#/" title="'+__e(SITE_NAME)+'"><img src="img/logo.png" alt="[Image: '+__e(SITE_NAME)+']" title="'+__e(SITE_NAME)+'" class="img-responsive center-block"/></a></span>\r\n					<ul class="list-inline pull-left h3 navbar-btn text-center">\r\n						 <li class="navbar-btn text-muted"><span class="h5">&nbsp;/&nbsp;</span></li>\r\n						<li><span class="text-muted h4">'+__e(i18next.t("Dashboard"))+'</span></li>\r\n					</ul>\r\n				</h2>\r\n            </div>\r\n        </div>\r\n		<div class="navbar-header"><button data-toggle="collapse" data-target=".navbar-collapse" class="navbar-toggle" type="button"> <span class="sr-only">'+__e(i18next.t("Toggle navigation"))+'</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button></div>\r\n    </div>\r\n</div>    ';return __p},this.JST["templates/board_labels"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;Array.prototype.join;with(obj){if(__p+='<div class="clearfix text-center col-xs-12">\r\n	<a href="#" class="js-back-to-sidebar pull-left btn btn-xs btn-link">\r\n			<i class="icon-caret-left"></i>\r\n	</a>\r\n	<span class="col-xs-10 navbar-btn"><strong>'+__e(i18next.t("Labels"))+'</strong></span>\r\n</div>\r\n<div class="col-xs-12 divider"></div>\r\n<div class="col-xs-12 member-modal js-pre-scrollable vertical-scrollbar">\r\n	',board.labels.length>0){__p+='\r\n	<ul class="nav nav-pills nav-stacked label-block">\r\n	';var labels=Array();board.labels.each(function(a){_.contains(labels,a.attributes.name)||(labels.push(a.attributes.name),__p+='    \r\n		<li class="clearfix cur card-label-show h5 btn-link media">\r\n			<span style="background:#'+__e(converter.colorCode(a.attributes.name).substring(0,6))+';color:#ffffff" class="pull-left btn btn-xs"><i class="'+(null==(__t=LABEL_ICON)?"":__t)+' icon-light"></i></span><div class="htruncate">'+__e(a.attributes.name)+'</div><div><a data-id="'+__e(a.attributes.label_id)+'" class="js-delete-labels btn btn-default btn-xs pull-right" data-toggle="dropdown">\r\n			<i class="icon-remove cur"></i></a></div> \r\n		</li> \r\n	')}),__p+="\r\n	</ul>\r\n	<hr>\r\n	"}else __p+='\r\n	<span class="alert alert-info">\r\n		'+__e(i18next.t("No %s available.",{postProcess:"sprintf",sprintf:[i18next.t("labels")]}))+"\r\n    </span>\r\n	";__p+="\r\n</div>"}return __p},this.JST["templates/board_member_add_search_result"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;Array.prototype.join;with(obj){if(__p+='<span title="'+__e(user.attributes.full_name)+" ("+__e(user.attributes.username)+')"> <span>				\r\n				',_.isEmpty(user.attributes.profile_picture_path))__p+='\r\n					<i class="avatar avatar-color-194 avatar-sm img-rounded">'+__e(user.attributes.initials)+"</i>									\r\n				";else{var profile_picture_path=user.showImage("User",user.attributes.id,"micro_thumb");__p+='\r\n					<img src="'+(null==(__t=profile_picture_path)?"":__t)+'" alt="[Image: '+__e(user.attributes.username)+']" title="'+__e(user.attributes.full_name)+" ("+__e(user.attributes.username)+')" class="img-rounded img-responsive avatar  avatar-sm">\r\n				'}__p+="\r\n</span><span>"+__e(user.attributes.full_name)+" ("+__e(user.attributes.username)+")</span></span>"}return __p},this.JST["templates/board_organization_form"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;Array.prototype.join;with(obj){var organization_options="",is_org_found=!1,display_options=!1;_.each(organizations.models,function(a){display_options=!0,parseInt(a.id)===board.attributes.organization_id&&(is_org_found=!0);var b=parseInt(a.id)===board.attributes.organization_id?'selected="selected"':"",c=parseInt(a.id)===board.attributes.organization_id?" "+i18next.t("(current)"):"";organization_options+='<option value="'+a.id+'" '+b+">"+_.escape(a.attributes.name)+c+"</option>"}),is_org_found||0==board.attributes.organization_id||(display_options=!0,organization_options+='<option value="'+board.attributes.organization_id+'" selected="selected" >'+_.escape(board.attributes.organization_name)+" "+i18next.t("(current)")+"</option>"),__p+=' \r\n<form class="normal js-save-board-visibility" name="BoardVisibilityForm">\r\n<div class="form-group select"><label for="inputListBoard">'+__e(i18next.t("Organization"))+'</label><select name="organization_id" class="form-control cur" required>',__p+=display_options?'<option value="">'+__e(i18next.t("Please select organization"))+"</option>"+(null==(__t=organization_options)?"":__t):'<option value="">'+__e(i18next.t("(none)"))+"</option>",__p+='</select></div><div class="submit"><input type="submit" class="btn btn-primary" value="'+__e(i18next.t("Save"))+'" ',display_options||(__p+=__e(i18next.t("Disabled"))+" "),__p+="></div>\r\n</form>"}return __p},this.JST["templates/board_sidebar"]=function(obj){obj||(obj={});var __p="",__e=_.escape;Array.prototype.join;with(obj){var background_color=board.attributes.background_color,background_picture_url=board.attributes.background_picture_url,background_pattern_url=board.attributes.background_pattern_url,preview="";_.isEmpty(background_picture_url)||"NULL"==background_picture_url?_.isEmpty(background_pattern_url)||"NULL"==background_pattern_url?_.isEmpty(background_color)||"NULL"==background_color||(preview='<span style="background-color:'+background_color+'" class=" background-box show well-lg"></span>'):(background_pattern_url=background_pattern_url.replace("_XXXX.jpg","_s.jpg"),preview='<span style="background-image:url('+background_pattern_url+');" class="background-box show well-lg"></span>'):(background_picture_url=background_picture_url.replace("_XXXX.jpg","_b.jpg"),preview='<span style="background-image:url('+background_picture_url+');" class="background-box show well-lg"></span>'),__p+=' \r\n<li class="js-list-form"><a class="nav-list-item js-show-filters" href="#"><span class="icon-sm icon-filter icon-type"></span> '+__e(i18next.t("Filter Cards"))+'</a></li>\r\n<li><a class="nav-list-item js-show-labels" href="#"><span class="icon-sm  icon-tag icon-type"></span> '+__e(i18next.t("Labels"))+"</a></li>\r\n",_.isUndefined(authuser.user)||(__p+="\r\n	",1!=authuser.user.role_id&&_.isEmpty(board.acl_links.where({slug:"view_archived_lists",board_user_role_id:parseInt(board.board_user_role_id)}))&&_.isEmpty(board.acl_links.where({slug:"view_archived_cards",board_user_role_id:parseInt(board.board_user_role_id)}))||(__p+='\r\n	<li><a class="nav-list-item js-archived-items" href="#"><span class="icon-sm icon-archive icon-type"></span> '+__e(i18next.t("Archived Items"))+"</a></li>\r\n	"),__p+="\r\n"),__p+=" \r\n",_.isUndefined(authuser.user)||(__p+="\r\n",1!=authuser.user.role_id&&_.isEmpty(board.acl_links.where({slug:"view_sync_calendar",board_user_role_id:parseInt(board.board_user_role_id)}))||(__p+='\r\n<li class="dropdown js-sync-google-dropdown inner-dropdown"><a href="#" class="js-syn-google-calendar" data-toggle="dropdown"><span class="icon-calendar"></span> '+__e(i18next.t("iCal Feed"))+"</a></li>\r\n"),__p+='\r\n<li class="divider"></li>\r\n',_.isUndefined(authuser.user)||(__p+=' \r\n  <li class="navbar-btn right-mar">\r\n	<form name="BoardSubscribeForm" id="BoardSubscribeForm">\r\n	  <input id="inputBoardSubscribe" name="is_subscribed" type="hidden" value=" ',__p+=_.isUndefined(subscriber)?"0":" "+__e(subscriber.attributes.is_subscribed),__p+='">\r\n	</form> \r\n	',!_.isUndefined(subscriber)&&parseInt(subscriber.attributes.is_subscribed)?(__p+="\r\n	",1!=authuser.user.role_id&&_.isEmpty(board.acl_links.where({slug:"board_subscriber",board_user_role_id:parseInt(board.board_user_role_id)}))||(__p+='\r\n	<a href="#" class="js-show-unsubscribe-form navbar-btn h4 list-group-item-text" name="unsubscribe" title="'+__e(i18next.t("Subscribed"))+'"><i class="icon-eye-close"></i><span class="hidden-xs">'+__e(i18next.t("Subscribed"))+' <i class="icon-ok js-filter-icon cur"></i></span></a>\r\n	'),
__p+="\r\n	"):(__p+=" \r\n	",_.isUndefined(authuser.user)||1!=authuser.user.role_id&&_.isEmpty(board.acl_links.where({slug:"subscribe_board",board_user_role_id:parseInt(board.board_user_role_id)}))&&(_.isEmpty(role_links.where({slug:"subscribe_board"}))||2!=board.attributes.board_visibility)||(__p+='\r\n	<a href="#" class="js-show-subscribe-form navbar-btn h4" name="subscribe" title="'+__e(i18next.t("Subscribe"))+'"><i class="icon-eye-open"></i><span class="hidden-xs">'+__e(i18next.t("Subscribe"))+"</span></a>\r\n	"),__p+="\r\n	"),__p+="\r\n  </li>\r\n"),__p+="  \r\n",_.isUndefined(authuser.user)||1!=authuser.user.role_id&&_.isEmpty(board.acl_links.where({slug:"edit_board",board_user_role_id:parseInt(board.board_user_role_id)}))||(__p+='\r\n<li><a href="#" class="nav-list-item nav-list-sub-item js-change-background">'+__e(i18next.t("Change Background"))+"</a></li>\r\n",_.isEmpty(IMAP_EMAIL)||(__p+='\r\n<li><a href="#" class="nav-list-item nav-list-sub-item js-email-to-board-settings"> '+__e(i18next.t("Email to board settings"))+"</a></li>\r\n"),__p+="\r\n"),__p+="\r\n",_.isUndefined(authuser.user)||1!=authuser.user.role_id&&_.isEmpty(board.acl_links.where({slug:"copy_board",board_user_role_id:parseInt(board.board_user_role_id)}))||(__p+='\r\n	<li class="js-sync-google-dropdown inner-dropdown"><a data-toggle="dropdown" href="#" class="js-show-copy-board">'+__e(i18next.t("Copy board"))+"</a></li>\r\n"),__p+="\r\n"),__p+='\r\n<li class="divider"></li>\r\n<li><a href="#" class="js-show-board-modal" data-toggle="modal" data-target="#modalListView">'+__e(i18next.t("Show Attachments"))+'</a></li>\r\n<li><a href="#" class="js-show-chat-history-modal" data-toggle="modal" data-target="#modalChatHistoryView">'+__e(i18next.t("Show Chat History"))+"</a></li>\r\n",_.isUndefined(authuser.user)||1!=authuser.user.role_id&&_.isEmpty(board.acl_links.where({slug:"edit_board",board_user_role_id:parseInt(board.board_user_role_id)}))||(__p+='\r\n<li><a href="#" class="js-additional-settings">'+__e(i18next.t("Additional Settings"))+'</a></li>\r\n<li class="divider"></li>\r\n<li class="dropdown js-open-dropdown inner-dropdown"><a href="#" class="dropdown-toggle" data-toggle="dropdown"><i class="icon-sm icon-warning-sign icon-type text-primary"></i>'+__e(i18next.t("Close board"))+'</a>\r\n  <ul class="dropdown-menu arrow pull-right">\r\n	<li class="js-dropdown-popup dropdown-popup">\r\n	  <div class="clearfix text-center col-xs-12">\r\n		<span class="col-xs-10"><strong>'+__e(i18next.t("Close board"))+'</strong></span><a class="js-close-sub-popover pull-right" href="#"><i class="icon-remove"></i></a>						\r\n	  </div>\r\n	  <div class="col-xs-12 divider"></div>\r\n	  <div class="col-xs-12">\r\n		<form class="normal col-xs-12" name="BoardCloseForm" id="BoardCloseForm">\r\n		  <input id="inputBoardClose" name="is_closed" type="hidden" value="true">\r\n		  <p>'+__e(i18next.t('You can reopen the board by clicking the "Boards" menu from the header, selecting "View Closed Boards", finding the board and clicking "Reopen".'))+'</p>\r\n		  <div class="submit">\r\n			<input type="submit" value="'+__e(i18next.t("Close"))+'" id="submitBoardClose" class="btn btn-primary js-close-board">\r\n		  </div>\r\n		</form>\r\n	  </div>\r\n	</li>\r\n  </ul>\r\n</li>\r\n')}return __p},this.JST["templates/board_simple_view"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;Array.prototype.join;with(obj)if(null!=board){if(__p+='\r\n<hr>\r\n<div class="panel">\r\n  ',!_.isEmpty(board.subscribers)){board.subscribers.findWhere({user_id:parseInt(authuser.user.id)})}if(__p+='\r\n  <div class="panel-body bg-warning">\r\n    <div class="clearfix">\r\n		<h4 class="col-md-9 col-sm-8 col-xs-9 navbar-btn">\r\n			<span class="show row navbar-btn">\r\n			  ',_.isEmpty(role_links.where({slug:"view_board"}))||(__p+='\r\n			  <a href="#/board/'+__e(board.id)+'" title="'+__e(board.attributes.name)+'" class="htruncate btn-block">\r\n			  '),__p+="\r\n			  ",board.attributes.organization_id>0&&null!=board.attributes.organization_id){var logo_path="img/default-organization.png";_.isUndefined(board.attributes.organization_logo_url)||null==board.attributes.organization_logo_url||""==board.attributes.organization_logo_url||(logo_path=board.showImage("Organization",board.attributes.organization_id,"small_thumb")),__p+='\r\n					<img src="'+__e(logo_path)+'" title="'+__e(board.attributes.organization_name)+'" alt="[Image: Organization]" class="pull-left navbar-btn" width="16" height="16" /> &nbsp;\r\n			  '}__p+="\r\n			   "+__e(board.attributes.name)+"\r\n			  ",_.isEmpty(role_links.where({slug:"view_board"}))||(__p+="\r\n			  </a>\r\n			  "),__p+='\r\n      		</span>\r\n	  	</h4> \r\n		<span class="pull-right dropdown h5">\r\n		',0==board.attributes.board_visibility?__p+='\r\n		  <span title="'+__e(i18next.t("Private"))+'" class="text-primary icon-lock col-lg-2"></span>\r\n		  ':1==board.attributes.board_visibility?__p+='\r\n		  <span title="'+__e(i18next.t("Organization"))+'" class="text-primary icon-group col-lg-2"></span>\r\n		  ':2==board.attributes.board_visibility&&(__p+='\r\n		  <span title="'+__e(i18next.t("Public"))+'" class="text-primary icon-circle col-lg-2"></span>\r\n		  '),__p+="\r\n		</span>\r\n	  ",_.isEmpty(role_links.where({slug:"starred_board"}))||(__p+="\r\n      ",__p+=_.isUndefined(starred_boards)||-1==starred_boards.map(Number).indexOf(board.attributes.id)?'\r\n      <a title="'+__e(i18next.t("Star"))+'" href="#" class="pull-right js-star-board h5" name="star"><i class="icon-star-empty"></i></a>\r\n      ':'\r\n      <a title="'+__e(i18next.t("Unstar"))+'" href="#" class="pull-right js-star-board h5" name="unstar"><i class="icon-star text-primary"></i></a>\r\n      ',__p+="\r\n      "),__p+='\r\n    </div>\r\n    <div class="js-board-inner-view"></div>\r\n	<ul class="list-unstyled chart-block">\r\n	';var style="";if(board.attributes.background_picture_url){var background_picture_url=board.attributes.background_picture_url.replace("_XXXX.jpg","_n.jpg");style="background:url("+background_picture_url+") 25% 25%; background-size: cover"}else if(board.attributes.background_pattern_url){var background_pattern_url=board.attributes.background_pattern_url.replace("_XXXX.jpg","_s.jpg");style="background: transparent url("+background_pattern_url+")  repeat scroll 0% 0%;"}else board.attributes.background_color&&(style="background:"+board.attributes.background_color);__p+='\r\n		<li class="list-group-item clearfix" style="'+(null==(__t=style)?"":__t)+'">\r\n			',_.isEmpty(board.attributes.music_name)||(__p+='\r\n			<div class="col-xs-push-0 pa well-sm board-music-bg"><i class="icon-music icon-light"></i></div>\r\n			'),__p+='\r\n			<a class="show" href="#/board/'+__e(board.id)+'">\r\n			    <div id="doughnutChart" class="chart js-chart"></div>\r\n			</a>\r\n		</li>\r\n	</ul>\r\n  </div>\r\n</div>\r\n'}else __p+='\r\n<div class="alert alert-info">\r\n	'+(null==(__t=message)?"":__t)+"\r\n</div>\r\n";return __p},this.JST["templates/board_user_actions"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;Array.prototype.join;with(obj){if(__p+='<li>\r\n<div class="col-xs-12 clearfix text-center">\r\n	<span class="pull-left" data-placement="bottom" title="'+__e(user.attributes.full_name)+" ("+__e(user.attributes.username)+')" data-toggle="tooltip">\r\n	',_.isEmpty(user.attributes.profile_picture_path))__p+='\r\n		<i class="avatar avatar-color-194 img-rounded">'+__e(user.attributes.initials)+"</i>\r\n	";else{var profile_picture_path=user.showImage("User",user.attributes.user_id,"micro_thumb");__p+='\r\n		<img src="'+(null==(__t=profile_picture_path)?"":__t)+'" alt="[Image: '+__e(user.attributes.username)+']" title="'+__e(user.attributes.full_name)+" ("+__e(user.attributes.username)+')" class="img-rounded">\r\n	'}__p+='</span>\r\n	<span class="col-xs-8"><a class="js-user-profile" data-id="'+__e(user.attributes.user_id)+'" title="'+__e(user.attributes.full_name+"@"+user.attributes.username)+'" href="javascript:void(0)"><strong>'+__e(user.attributes.full_name)+"</strong> @"+__e(user.attributes.username)+'</a></span>\r\n		<span class="">\r\n			<a class="js-close-popover pull-right" href="#"><i class="icon-remove"></i></a>\r\n		</span>\r\n</div>\r\n<div class="col-xs-12 divider"></div>\r\n<div class="col-xs-12">\r\n	<ul class="list-unstyled dropdown-menu dropdown-list show">\r\n		',_.isUndefined(authuser.user)||1!=authuser.user.role_id&&_.isEmpty(user.collection.board.acl_links.where({slug:"edit_board_user",board_user_role_id:parseInt(user.collection.board.board_user_role_id)}))||(__p+='\r\n		<li class="dropdown"> \r\n			<a href="#" data-toggle="dropdown" class="dropdown-toggle js-show-dropdown"> '+__e(i18next.t("Change permissions"))+" ("+__e(user.board_user_roles[parseInt(user.attributes.board_user_role_id)-1].name)+')</a>\r\n			<ul class="dropdown-menu dropdown-menu-right arrow arrow-right js-list-actions-response">\r\n				<div class="clearfix text-center col-xs-12"> <span class="col-xs-10"><strong>'+__e(i18next.t("Change permissions"))+'</strong></span><a href="#" class="js-close-popup pull-right"><i class="icon-remove "></i></a> </div>\r\n				<div class="col-xs-12 divider"></div>\r\n				<div class="col-xs-12">\r\n				  <ul class="list-unstyled">\r\n				  ',_.each(user.board_user_roles,function(a){__p+='\r\n							<li> <a href="#" data-board_user_role_id="'+__e(a.id)+'" class="js-edit-board-member-permission"> <span class="show text-primary">\r\n							'+__e(a.name)+"\r\n							",a.id==user.attributes.board_user_role_id&&(__p+='<i class="icon-check well-sm"></i>'),__p+='							\r\n							</span> <span class="text-muted">'+__e(a.description)+'</span> </a> </li>\r\n							<li class="divider"></li>\r\n				  '}),__p+="\r\n				  </ul>\r\n				</div>\r\n			</ul>\r\n		</li>\r\n		"),__p+="\r\n		<li>\r\n			";var title=i18next.t("View member's board activity");__p+='\r\n			<a href="#" title="'+__e(title)+'" data-user-id="'+__e(user.attributes.user_id)+'" class="js-view-user-activities">\r\n				<span>'+__e(i18next.t("View member's board activity"))+"</span>\r\n			</a>\r\n		</li>\r\n		",_.isUndefined(authuser.user)||1!=authuser.user.role_id&&_.isEmpty(user.collection.board.acl_links.where({slug:"remove_board_user",board_user_role_id:parseInt(user.collection.board.board_user_role_id)}))||(__p+='\r\n			<li><a href="#" title="',__p+=__e(parseInt(authuser.user.id)!=user.attributes.user_id?i18next.t("Remove from board"):i18next.t("Leave from board")),__p+='" class="js-show-confirm-delete-board-member">',__p+=__e(parseInt(authuser.user.id)!=user.attributes.user_id?i18next.t("Remove from board"):i18next.t("Leave from board")),__p+="</a></li>\r\n		"),__p+="\r\n		\r\n	</ul>\r\n</div>\r\n\r\n<li>"}return __p},this.JST["templates/board_user_activity"]=function(obj){obj||(obj={});var __p="",__e=_.escape;with(obj)__p+='<div class="clearfix text-center col-xs-12"><span class="col-xs-10"><strong>'+__e(i18next.t("Member Activities"))+'</strong></span><a class="js-close-popover pull-right" href="#"><i class="icon-remove"></i></a></div><div class="col-xs-12 divider"></div><div class="col-xs-12 member-modal js-pre-scrollable vertical-scrollbar"><ul class="list-unstyled list-inline"><li>'+__e(i18next.t("User activities......"))+"</li></ul></div>";return __p},this.JST["templates/board_user_remove_confirm"]=function(obj){obj||(obj={});var __p="",__e=_.escape;with(obj)__p+='<li>\r\n	<div class="col-xs-12">\r\n		<h4>'+__e(i18next.t("Remove Member"))+'?\r\n			<span class="pull-right">\r\n				<a class="js-close-popover" href="#"><i class="icon-remove"></i></a>\r\n			</span>\r\n		</h4>\r\n		<hr>\r\n	</div>\r\n	<div class="col-xs-12">\r\n		<form class="normal" name="BoardUserForm" id="BoardUserForm">\r\n			<div class="h5">'+__e(i18next.t("Are you sure you want to do this action"))+'?</div>\r\n			<ul class="dropdown-menu dropdown-list show">\r\n				<li>\r\n					<a class="js-delete-board-member" data-board_user_id="'+__e(board_user.attributes.id)+'" href="#">\r\n					 \r\n					 '+__e(i18next.t("Remove %s from %s Boards? The member will be removed from all cards on this board.",{postProcess:"sprintf",sprintf:[board_user.attributes.username,board_user.attributes.board_name]}))+"\r\n				 </li>\r\n			</ul>\r\n		</form>\r\n	</div>\r\n</li>";return __p},this.JST["templates/board_user_role_add"]=function(obj){obj||(obj={});var __p="",__e=_.escape;with(obj)__p+='<div class="col-lg-4 col-md-4 col-sm-6 col-xs-12 col-lg-offset-4 col-md-offset-4 col-sm-offset-3">\r\n<div class="panel panel-default">\r\n  <div class="panel-heading lead">'+__e(i18next.t("Add Board User Role"))+'</div>\r\n  <div class="panel-body well-lg">\r\n	<form id="BoardUserRoleAddForm" name="BoardUserRoleAddForm" class="form-horizontal col-xs-12">\r\n	  <div class="form-group required">\r\n		<label class="sr-only control-label" for="inputName">'+__e(i18next.t("Name"))+'</label>\r\n		<input type="name" name="name" id="inputName" class="form-control" placeholder="'+__e(i18next.t("Name"))+'" required>\r\n	  </div>\r\n	  <div class="form-group required">\r\n		<label class="sr-only control-label" for="inputDescription">'+__e(i18next.t("Description"))+'</label>\r\n		<input type="text" name="description" id="inputDescription" class="form-control" placeholder="'+__e(i18next.t("Description"))+'">\r\n	  </div>\r\n	  <div class="form-group">\r\n		<label class="sr-only control-label" for="submitAddBoardUserRole">'+__e(i18next.t("Add"))+'</label>\r\n		<input type="submit" class="btn btn-primary col-xs-12" id="submitAddBoardUserRole" value="'+__e(i18next.t("Add"))+'">\r\n	  </div>\r\n	</form>\r\n  </div>\r\n</div>\r\n</div>';return __p},this.JST["templates/board_users_view"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;Array.prototype.join;with(obj){if(__p+='<a title="'+__e(user.attributes.full_name)+" ("+__e(user.attributes.username)+')" href="#" class="dropdown-toggle js-show-board-user-action pull-left" data-toggle="dropdown"> <span data-placement="bottom" title="'+__e(user.attributes.full_name)+" ("+__e(user.attributes.username)+')" data-toggle="tooltip" class="col-xs-12 btn-block navbar-btn">				\r\n	',_.isEmpty(user.attributes.profile_picture_path))__p+='\r\n		<i class="avatar avatar-color-194 img-rounded">'+__e(user.attributes.initials)+"</i>									\r\n	";else{var profile_picture_path=user.showImage("User",user.attributes.user_id,"small_thumb");__p+='\r\n		<img src="'+(null==(__t=profile_picture_path)?"":__t)+'" alt="[Image: '+__e(user.attributes.full_name)+']" title="'+__e(user.attributes.full_name)+" ("+__e(user.attributes.username)+')" class="img-rounded img-responsive avatar">\r\n	'}__p+="\r\n	",1===user.board_user_roles[user.attributes.board_user_role_id-1].id&&(__p+='\r\n		<span class="name-block col-xs-1 label btn-xs col-xs-push-0">'+__e(i18next.t("Owner"))+"</span>\r\n	"),__p+='\r\n</span></a>\r\n		<ul class="dropdown-menu dropdown-menu-left arrow arrow-left">\r\n			<li class="js-show-board-user-action-response js-dropdown-popup dropdown-popup">\r\n				\r\n			</li>\r\n		</ul>'}return __p},this.JST["templates/board_visibility"]=function(obj){obj||(obj={});var __p="",__e=_.escape;Array.prototype.join;with(obj)__p+='<li class="col-xs-12"><input class="js-input-board-visibility" name="board_visibility" type="hidden" value="'+__e(board.attributes.board_visibility)+'">\r\n<input class="js-input-board-organization-id" name="organization_id" type="hidden" value="'+__e(board.attributes.organization_id)+'">\r\n<a href="#" name="private" class="btn-default show row small well-xs js-select-visibility"><span class="show text-primary col-xs-12 navbar-btn h5">'+__e(i18next.t("Private"))+"\r\n  ",0==board.attributes.board_visibility&&(__p+='\r\n  <i class="icon-check"></i>\r\n  '),__p+='\r\n  </span><span class="col-xs-12 navbar-btn">'+__e(i18next.t("This board is private. Only people added to the board can view and edit it."))+'</span></a></li>\r\n  <li class="divider col-xs-12"></li>\r\n<li class="col-xs-12"><a href="#" name="org" class="show row small well-xs js-select-visibility disabled"><span class="show text-primary col-xs-12 navbar-btn h5">'+__e(i18next.t("Organization"))+"\r\n  ",1==board.attributes.board_visibility&&(__p+='\r\n  <i class="icon-check"></i>\r\n  '),__p+='\r\n  </span> <span class="col-xs-12 navbar-btn">'+__e(i18next.t("This board is visible to members of the organization. Only people added to the board can edit."))+' <span class="error">'+__e(i18next.t("The board must be added to an org to enable this."))+'</span></span></a></li>\r\n  <li class="divider col-xs-12"></li>\r\n<li class="col-xs-12"><a href="#" name="public" class="show row small well-xs js-select-visibility"><span class="show text-primary col-xs-12 navbar-btn h5">'+__e(i18next.t("Public"))+"\r\n  ",2==board.attributes.board_visibility&&(__p+='\r\n  <i class="icon-check"></i>\r\n  '),__p+='\r\n  </span> <span class="col-xs-12 navbar-btn">'+__e(i18next.t("This board is public. It's visible to anyone with the link and will show up in search engines like Google. Only people added to the board can edit."))+"</span></a></li>\r\n";return __p},this.JST["templates/card"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;Array.prototype.join;with(obj){if(__p+='<div class="panel-body">\r\n  ',_.isUndefined(authuser.user)||1!=authuser.user.role_id&&_.isEmpty(card.list.board.acl_links.where({slug:"view_card_labels",board_user_role_id:parseInt(card.board_user_role_id)}))||(__p+='\r\n  <div class="clearfix js-card-label-section-'+__e(card.attributes.id)+'">\r\n  ',card.labels.each(function(a){_.isUndefined(a)||""===a.attributes.name||(__p+='\r\n			<span class="cur"><i style="color:#'+__e(converter.colorCode(""+a.attributes.name).substring(0,6))+';" data-toggle="tooltip" data-container="body" data-placement="top" data-original-title="'+__e(a.attributes.name)+'" title="'+__e(a.attributes.name)+'" class="'+(null==(__t=LABEL_ICON)?"":__t)+' cur"></i></span>\r\n               \r\n   ')}),__p+=" \r\n  \r\n  \r\n  </div>\r\n "),__p+=' \r\n <div class="clearfix">\r\n  ',!_.isEmpty(card.attachments)&&card.attachments.length>0&&!_.isEmpty(card.attachments.at(0).attributes.name)&&card.attachments.at(0).attributes.name.toLowerCase().match(/\.(jpg|jpeg|png|gif)$/)){__p+='\r\n	  <div class="clearfix js-card-attachment-image navbar-btn ',_.isEmpty(card.collection)||card.list.collection.board.attributes.is_show_image_front_of_card||(__p+=" hide "),__p+='">\r\n		';var img_src=card.showImage("CardAttachment",card.attachments.at(0).attributes.id,"large_thumb");__p+='\r\n		<img class="img-responsive center-block" src="'+(null==(__t=img_src)?"":__t)+'"/>\r\n	  </div>\r\n	'}if(__p+=' \r\n  <a href="#" title="'+__e(card.attributes.name)+'">'+__e(card.attributes.name)+'</a>\r\n  </div>\r\n  <div class="pull-left navbar-btn">\r\n  <ul class="list-unstyled list-inline text-muted clearfix">\r\n  	',!_.isUndefined(authuser)&&!_.isUndefined(authuser.user))var cards_subscribers=card.cards_subscribers.where({is_subscribed:1,user_id:parseInt(authuser.user.id)});if(__p+="\r\n	",_.isUndefined(cards_subscribers)||_.isEmpty(cards_subscribers)||(__p+='\r\n		<li><small><span class="icon-eye-open"></span></small></li>\r\n	'),__p+=" \r\n	",card.card_voters.length>0&&(__p+='\r\n	<li><small  title="'+__e(i18next.t("{{count}} Vote",{count:card.card_voters.length}))+' "><span class="icon-thumbs-up"></span><span>'+__e(card.card_voters.length)+"</span></small></li>\r\n	"),__p+="\r\n	",card.attributes.comment_count>0&&(__p+='\r\n	<li><small title="'+__e(i18next.t("{{count}} Comment",{count:card.attributes.comment_count}))+' " ><span class="icon-comment"></span><span>'+__e(card.attributes.comment_count)+"</span></small></li>\r\n	"),__p+="\r\n	",_.isEmpty(card.attributes.description)||(__p+='\r\n	<li><small title="'+__e(i18next.t("Description"))+'"><span class="icon-align-left"></span><span></span></small></li>\r\n	'),__p+="\r\n	",card.attributes.checklist_item_count>0&&(__p+='\r\n		<li><small title="'+__e(i18next.t("%s checklist completed out of %s",{postProcess:"sprintf",sprintf:[card.attributes.checklist_item_completed_count,card.attributes.checklist_item_count]}))+' ">',card.attributes.checklist_item_completed_count==card.attributes.checklist_item_count&&(__p+='<div class="label label-success"> '),__p+='<span class="icon-list-ul"></span><span>'+__e(card.attributes.checklist_item_completed_count)+"/"+__e(card.attributes.checklist_item_count)+"</span>",card.attributes.checklist_item_completed_count==card.attributes.checklist_item_count&&(__p+="</div>"),__p+="</small></li>\r\n	"),__p+=" \r\n	",card.attributes.due_date>0&&(__p+='\r\n		<li><small title="'+__e(i18next.t("Due Date"))+'"><span class="icon-time"></span><span>'+__e(card.attributes.due_date)+"</span></small></li>\r\n	"),__p+=" \r\n	",!_.isEmpty(card.attachments)&&card.attachments.length>0&&(__p+='\r\n	<li>\r\n		<small title="'+__e(i18next.t("{{count}} Attachment",{count:card.attachments.length}))+' ">\r\n			<span class="icon-paper-clip"></span>\r\n			<span>\r\n			'+__e(card.attachments.length)+"\r\n			</span>\r\n		</small>\r\n	</li>\r\n	"),__p+="  \r\n	",_.isUndefined(card.id)||!_.isUndefined(card.attributes.is_offline)&&0!=card.attributes.is_offline||(__p+='\r\n	<li class="pull-right card-id"><strong>#'+__e(card.id)+"</strong></li>\r\n	"),__p+="\r\n	",!_.isEmpty(card.attributes.due_date)&&"NULL"!=card.attributes.due_date){var date_time=card.attributes.due_date.split("T");date_time=date_time[0].split(" "),__p+="\r\n	";var today=new Date;card_due_date=card.attributes.due_date.split("T");var due_date=new Date(card_due_date[0]),diff=Math.floor(due_date.getTime()-today.getTime()),day=864e5,days=Math.floor(diff/day);-1>days?label="label-past":-1==days?label="label-present":days>-1&&(label="label-future"),__p+='\r\n	<li><small title=" '+__e(i18next.t("Due Date"))+'"><span class="label '+__e(label)+'">'+(null==(__t=dateFormat(date_time[0],"mediumDate"))?"":__t)+"</span></small></li>\r\n	"}__p+='\r\n	</ul>\r\n	</div>\r\n	<div class="clearfix pull-right">\r\n		<ul class="list-unstyled list-inline text-muted clearfix">\r\n		',card.users.each(function(a){if(!_.isUndefined(a)){if(__p+='\r\n					<li class="pull-right js-tooltip navbar-btn" data-container="body" data-placement="bottom" title="'+__e(a.attributes.full_name)+" ("+__e(a.attributes.username)+')" data-toggle="tooltip">\r\n						',_.isEmpty(a.attributes.profile_picture_path))__p+='\r\n							<i class="avatar avatar-color-194 img-rounded">'+__e(a.attributes.initials)+"</i>									\r\n						";else{var b=card.showImage("User",a.attributes.user_id,"small_thumb");__p+='\r\n							<img src="'+(null==(__t=b)?"":__t)+'" alt="[Image: '+__e(a.attributes.username)+']" title="'+__e(a.attributes.full_name)+" ("+__e(a.attributes.username)+')" class="img-rounded img-responsive avatar">\r\n						'}__p+="\r\n					</li>\r\n		"}}),__p+="\r\n		</ul>\r\n	</div>\r\n</div>"}return __p},this.JST["templates/card_actions"]=function(obj){obj||(obj={});var __p="",__e=_.escape;Array.prototype.join;with(obj)__p+='<li class="text-center"><strong>'+__e(i18next.t("Options"))+'</strong></li><li class="divider"></li>',_.isUndefined(authuser.user)||1!=authuser.user.role_id&&_.isEmpty(card.list.collection.board.acl_links.where({slug:"add_card_user",board_user_role_id:parseInt(card.board_user_role_id)}))||(__p+='<li><a class="js-show-add-member-form" title="'+__e(i18next.t("Members"))+'" href="#">'+__e(i18next.t("Members"))+"</a></li>"),_.isUndefined(authuser.user)||1!=authuser.user.role_id&&_.isEmpty(card.list.collection.board.acl_links.where({slug:"add_labels",board_user_role_id:parseInt(card.board_user_role_id)}))||(__p+='<li><a class="js-show-card-label-form" title="'+__e(i18next.t("Labels"))+'" href="#">'+__e(i18next.t("Labels"))+"</a></li>"),__p+='<li><a class="js-show-card-position-form" title="'+__e(i18next.t("Position"))+'" href="#">'+__e(i18next.t("Position"))+"</a></li>";return __p},this.JST["templates/card_add"]=function(obj){obj||(obj={});var __p="",__e=_.escape;with(obj)__p+='<div class="js-lables-list"></div>\r\n<form method="post" role="form" class="form-horizontal js-cardAddForm col-xs-12" name="cardAddForm">\r\n	<input type="hidden" name="board_id" value="'+__e(model.attributes.board_id)+'">\r\n	<input type="hidden" name="list_id" class="js-card-add-list" value="'+__e(model.attributes.list_id)+'">\r\n	<input type="hidden" name="user_ids" class="js-card-user-ids" value="">\r\n	<input type="hidden" name="card_labels" class="js-card-add-labels" value="">\r\n	<input type="hidden" name="position" class="js-card-add-position" value="">\r\n	<div class="form-group">\r\n		<textarea placeholder=" '+__e(i18next.t("Add a card"))+'" rows="3" id="AddCard" class="form-control" name="name" required>'+__e(name)+'</textarea> \r\n	</div>\r\n	<div class="row">     \r\n		<div class="pull-left">\r\n			<input type="submit" value="'+__e(i18next.t("Add"))+'" class="btn btn-primary js-cardAddForm-btn">\r\n		</div>\r\n		<ul class="list-unstyled pull-right">\r\n			<li class="pull-left">\r\n				<a title="'+__e(i18next.t("Cancel"))+'" href="#" class="btn btn-link js-cancel-card-add"><i class="icon-remove text-muted"></i></a>\r\n			</li>\r\n			<li class="pull-right dropdown inner-dropdown">\r\n				<a title="'+__e(i18next.t("Options"))+'" data-toggle="dropdown" class="btn btn-link btn-block dropdown-toggle js-show-card-action-list" href="#"><i class="icon-cog text-muted"></i></a>\r\n			</li>\r\n		</ul>\r\n	</div>\r\n</form>\r\n';return __p},this.JST["templates/card_attachment"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;Array.prototype.join;with(obj){if(_.isEmpty(attachment.attributes.link)&&!_.isEmpty(attachment.attributes.name)){if(__p+='\r\n	<a target="_blank" href="'+(null==(__t=attachment.downloadLink("download",attachment.attributes.id))?"":__t)+'?view" class="pull-left navbar-btn img-thumbnail">\r\n	',attachment.attributes.name.toLowerCase().match(/\.(jpg|jpeg|png|gif)$/)){var picture_path=attachment.showImage("CardAttachment",attachment.attributes.id,"large_thumb");__p+='\r\n		<img src="'+(null==(__t=picture_path)?"":__t)+'">\r\n	'}else{var extension=attachment.attributes.name.split(".");__p+='\r\n		<p class="thumb-img">'+__e(extension[extension.length-1].toUpperCase())+"</p>\r\n	"}__p+="\r\n	</a>\r\n"}else if(!_.isEmpty(attachment.attributes.link)){if(__p+='\r\n	<a target="_blank" href="'+(null==(__t=attachment.attributes.link)?"":__t)+'" title="'+__e(attachment.attributes.link)+'" class="pull-left navbar-btn img-thumbnail">\r\n		<p class="thumb-img">\r\n		',attachment.attributes.link.indexOf("dropbox.com")>-1)__p+='\r\n			<i class="icon-dropbox"></i>\r\n		';else if(attachment.attributes.link.indexOf("docs.google.com")>-1)__p+='\r\n			<i class="icon-cloud"></i>\r\n		';else if(attachment.attributes.link.indexOf("github.com")>-1)__p+='\r\n			<i class="icon-github"></i>\r\n		';else if(!_.isEmpty(attachment.attributes.name)&&!_.isEmpty(attachment.attributes.link)){var extension=attachment.attributes.name.split(".");!_.isUndefined(extension)&&extension.length>1&&(__p+=attachment.attributes.name.toLowerCase().match(/\.(jpg|jpeg|png|gif)$/)?__e(extension[extension.length-1].toUpperCase()):"LINK")}__p+="\r\n		</p>\r\n	</a>\r\n"}if(__p+='\r\n<div class="clearfix btn-block col-xs-12">\r\n',_.isEmpty(attachment.attributes.link)&&!_.isEmpty(attachment.attributes.name)?__p+='\r\n		<a target="_blank" href="'+(null==(__t=attachment.downloadLink("download",attachment.attributes.id))?"":__t)+'" title="'+__e(attachment.attributes.name)+'"><span class="show htruncate col-xs-11 nav">'+__e(attachment.attributes.name)+'</span><span class="show btn-block col-xs-12">'+__e(i18next.t("Added"))+' <small class="text-muted"><abbr class="timeago" title="'+__e(attachment.attributes.created)+'">'+__e(attachment.attributes.created)+"</abbr></small></span></a>\r\n":_.isEmpty(attachment.attributes.link)||(__p+='\r\n		<a target="_blank" href="'+(null==(__t=attachment.attributes.link)?"":__t)+'" title="'+__e(attachment.attributes.link)+'">\r\n			<span class="show htruncate col-xs-11 nav">'+__e(attachment.attributes.link)+'</span><span class="show btn-block col-xs-12">'+__e(i18next.t("Added"))+' <small class="text-muted"><abbr class="timeago" title="'+__e(attachment.attributes.created)+'">'+__e(attachment.attributes.created)+"</abbr></small></span>\r\n		</a>\r\n"),__p+="\r\n",!_.isUndefined(authuser.user)){if(__p+='\r\n	<div class="btn-toolbar navbar-btn">\r\n		<div class="btn-group btn-group-xs navbar-btn">\r\n			',!(_.isUndefined(authuser.user)||1!=authuser.user.role_id&&_.isEmpty(attachment.board.acl_links.where({slug:"download_attachment_card",board_user_role_id:parseInt(attachment.board.board_user_role_id)})))){if(__p+='\r\n			<div class="btn btn-primary">	\r\n			',_.isEmpty(attachment.attributes.link)){__p+=" \r\n			";var download_link=attachment.downloadLink("download",attachment.attributes.id);__p+='\r\n				<a target="_blank" href="'+(null==(__t=download_link)?"":__t)+'" title="'+__e(i18next.t("Download"))+'">\r\n				<i class="icon-arrow-down cur icon-light"></i></a>\r\n			'}else{__p+="\r\n				";var link_title="Open in New Tab";__p+="\r\n				   ",attachment.attributes.link.indexOf("dropbox.com")>-1?(__p+="\r\n					",link_title="Open in Dropbox",__p+="\r\n				"):attachment.attributes.link.indexOf("docs.google.com")>-1?(__p+="\r\n					",link_title="Open in Google Drive",__p+="\r\n				"):attachment.attributes.link.indexOf("github.com")>-1&&(__p+="\r\n					",link_title="Open in Github",__p+="\r\n				"),__p+='\r\n				<a target="_blank" href="'+(null==(__t=attachment.attributes.link)?"":__t)+'" title="'+__e(link_title)+'">\r\n				<i class="icon-external-link cur icon-light"></i></a>\r\n			'}__p+="\r\n			</div>\r\n			"}__p+="\r\n				",_.isUndefined(authuser.user)||1!=authuser.user.role_id&&_.isEmpty(attachment.board.acl_links.where({slug:"remove_card_attachment",board_user_role_id:parseInt(attachment.board.board_user_role_id)}))||(__p+=' \r\n					<div class="dropdown pull-left">\r\n						<a href="#" title="'+__e(i18next.t("Delete"))+'" class="btn btn-default btn-xs js-show-confirm-delete-attachment dropdown-toggle" data-toggle="dropdown">\r\n							<i class="icon-remove cur"></i>\r\n						</a>\r\n						<ul class="dropdown-menu arrow list-unstyled">\r\n							<li class="js-dropdown-popup js-attachment-confirm-respons-'+__e(attachment.id)+'"></li>\r\n						</ul>\r\n					</div>\r\n				'),__p+="\r\n		</div>\r\n	</div>\r\n"}__p+="\r\n</div>"}return __p},this.JST["templates/card_checklist"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;Array.prototype.join;with(obj){__p+='<div class="list-group-item-heading clearfix js-checklist-head">\r\n	<h3 class="pull-left col-xs-9">\r\n		<span class="pull-left row"><i class="icon-list text-muted lead"></i></span>\r\n		<span class="',_.isUndefined(authuser.user)||1!=authuser.user.role_id&&_.isEmpty(checklist.board_users.board.acl_links.where({slug:"edit_checklist",board_user_role_id:parseInt(checklist.board_user_role_id)}))||(__p+="js-show-checklist-edit-form"),__p+=' col-sm-12">\r\n			<a href="#" title="'+__e(checklist.get("name"))+'" class="',(_.isUndefined(authuser.user)||1==authuser.user.role_id||_.isEmpty(checklist.board_users.board.acl_links.where({slug:"edit_checklist",board_user_role_id:parseInt(checklist.board_user_role_id)})))&&(__p+=" js-no-action"),__p+='">'+__e(checklist.get("name"))+"</a>\r\n		</span>\r\n	</h3>\r\n	",_.isUndefined(authuser.user)||1!=authuser.user.role_id&&_.isEmpty(checklist.board_users.board.acl_links.where({slug:"delete_checklist",board_user_role_id:parseInt(checklist.board_user_role_id)}))||(__p+='\r\n	<div class="navbar-right dropdown h4">\r\n		<a class="btn btn-link dropdown-toggle js-show-checklist-actions" role="button" data-toggle="dropdown" title=" '+__e(i18next.t("Checklist"))+'" href="#"> \r\n			<span><i class="icon-chevron-sign-down text-primary"></i></span>\r\n		</a>\r\n		<ul class="dropdown-menu arrow dropdown-menu-left" id="js-checklist-confirm-response-'+__e(checklist.get("id"))+'">\r\n			<li class="clearfix">\r\n				<div class="clearfix text-center col-xs-12">\r\n					<span class="col-xs-10"><strong>'+__e(i18next.t("Checklist"))+'</strong></span>\r\n					<a class="js-close-popover pull-right" href="#"><i class="icon-remove "></i></a>\r\n				</div>\r\n			</li>\r\n			<li class="clearfix"><div class="col-xs-12 divider"></div></li>\r\n			<li class="clearfix" id="js-checklist-actions-response-'+__e(checklist.get("id"))+'"></li>\r\n		</ul>\r\n	</div>\r\n	'),
__p+='\r\n</div>\r\n<div class="list-group-item-text clearfix">\r\n';var percentage=parseInt(checklist.get("checklist_item_completed_count"))/parseInt(checklist.get("checklist_item_count"))*100;__p+="\r\n ",isNaN(percentage)?percentage_val=0:percentage_val=Math.round(percentage,2),__p+='\r\n <div class="clearfix">\r\n 	<span class="pull-left" id="js-checklist-progress-percent-'+__e(checklist.get("id"))+'">\r\n		'+(null==(__t=percentage_val)?"":__t)+'% &nbsp;</span><div class="progress"><div class="progress-bar progress-bar-success" role="progressbar" aria-valuenow="20" aria-valuemin="0" aria-valuemax="100" id="js-checklist-progress-bar-'+__e(checklist.get("id"))+'" style="width:'+(null==(__t=Math.round(percentage,2))?"":__t)+'%"><span class="sr-only">'+(null==(__t=Math.round(percentage,2))?"":__t)+'%</span></div></div></div> <div  id="js-checklist-items-'+__e(checklist.get("id"))+'" class="js-checklist-items-sorting checklist-items-sorting" data-checklist_id="'+__e(checklist.get("id"))+'"> </div></div>'}return __p},this.JST["templates/card_checklist_item"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;Array.prototype.join;with(obj)__p+='<div class="form-group list-group-item-text" data-checklist-id="'+__e(checklist_item.get("id"))+'">\r\n	<div class="checkbox list-group-item-text">\r\n		<input id="checklist'+__e(checklist_item.get("id"))+'" type="checkbox" class="hide ',_.isUndefined(authuser.user)||(__p+=1===parseInt(checklist_item.get("is_completed"))?" js-markas-incomplete ":" js-markas-completed "),__p+='" ',1===parseInt(checklist_item.get("is_completed"))&&(__p+="checked"),__p+=" ",_.isUndefined(authuser.user)&&(__p+=" disabled"),__p+=' >\r\n		<label for="checklist'+__e(checklist_item.get("id"))+'" class="pull-left js-checklist-item-head">\r\n		</label>\r\n		<div class="col-xs-11 row">\r\n			<span id="js-checklist-item-'+__e(checklist_item.get("id"))+'" class="',__p+=_.isUndefined(authuser.user)||1!=authuser.user.role_id&&_.isEmpty(checklist_item.board_users.board.acl_links.where({slug:"edit_checklist_item",board_user_role_id:parseInt(checklist_item.board_user_role_id)}))?"js-no-action":"js-show-item-edit-form",__p+="  ",1===parseInt(checklist_item.get("is_completed"))&&(__p+=" strike-through-text "),__p+='" >'+(null==(__t=converter.makeHtml(_.escape(checklist_item.get("name"))))?"":__t)+"</span>\r\n		</div>\r\n	</div>\r\n</div>";return __p},this.JST["templates/card_copy"]=function(obj){obj||(obj={});var __p="",__e=_.escape;with(obj)__p+='<li><div class="clearfix text-center col-xs-12"><a data-list-id="95" class="js-back-to-card-actions pull-left" href="#"><i class="icon-caret-left"></i></a><span class="col-xs-10"><strong>'+__e(i18next.t("Search for a card to copy"))+'</strong></span><a href="#" class="js-close-popup pull-right"><i class="icon-remove"></i></a></div></li><li class="col-xs-12 divider"></li><li><div class="col-xs-12"><div class="form-group"><input type="text" placeholder="'+__e(i18next.t("Search for a card to copy"))+'" class="js-card-add-search form-control input-sm" title="'+__e(i18next.t("Search for a card to copy"))+'"></div><div class="js-card-add-search-response"><ul class="list-unstyled js-card-add-search-response"></ul></div></div></li>';return __p},this.JST["templates/card_duedate_from"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;Array.prototype.join;with(obj){var currentdate=new Date,date=currentdate.getFullYear()+"-"+(currentdate.getMonth()+1<10?"0"+(currentdate.getMonth()+1):currentdate.getMonth()+1)+"-"+(currentdate.getDate()<10?"0"+currentdate.getDate():currentdate.getDate()),time=currentdate.getHours()+":"+(currentdate.getMinutes()<10?"0":"")+currentdate.getMinutes()+":"+(currentdate.getSeconds()<10?"0":"")+currentdate.getSeconds();if(!_.isUndefined(this.model.attributes.due_date)&&null!==this.model.attributes.due_date&&"NULL"!==this.model.attributes.due_date){var date_time=this.model.attributes.due_date.replace("T"," ");date_time=date_time.split(" "),date=date_time[0],time=date_time[1]}__p+='\r\n<div class="form-group">\r\n	<div class="col-xs-6">\r\n		<label>'+__e(i18next.t("Date"))+'\r\n		</label>\r\n		<input type="text" class="form-control input-sm js-card-duedate-edit-'+(null==(__t=card.attributes.id)?"":__t)+'" name="due_date" data-format="yyyy-MM-dd" value="'+(null==(__t=date)?"":__t)+'" required>\r\n	</div>\r\n	<div class="col-xs-6">\r\n		<label>'+__e(i18next.t("Time"))+'\r\n		</label>\r\n		<input type="text" class="form-control input-sm js-card-duetime-edit-'+(null==(__t=card.attributes.id)?"":__t)+'" name="due_time" data-format="hh:mm:ss" value="'+(null==(__t=time)?"":__t)+'" required>\r\n	</div>\r\n</div>\r\n<div class="form-group">\r\n	<div class="col-xs-6">\r\n		<label for="save" class="sr-only">'+__e(i18next.t("Save"))+'\r\n		</label>\r\n		<input type="submit" value="'+__e(i18next.t("Save"))+'" id="save" class="btn btn-primary" id="submitCardDueDateEditForm">\r\n	</div>\r\n	',_.isEmpty(card.attributes.due_date)||"NULL"==card.attributes.due_date||(__p+='\r\n	<div class="col-xs-6">\r\n		<label for="remove" class="sr-only">'+__e(i18next.t("Remove"))+'\r\n		</label>\r\n		<input type="reset" value="'+__e(i18next.t("Remove"))+'" class="btn btn-default js-remove-due-date">\r\n	</div>\r\n	'),__p+="\r\n</div>"}return __p},this.JST["templates/card_label"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<span style="background:#'+(null==(__t=background)?"":__t)+';color:#ffffff" class="btn">'+__e(label.get("name"))+"</span>";return __p},this.JST["templates/card_label_form"]=function(obj){obj||(obj={});var __p="",__e=_.escape;with(obj)__p+='<div class="clearfix text-center col-xs-12">\r\n	<span class="col-xs-10">\r\n		<strong> '+__e(i18next.t("Labels"))+'</strong>\r\n	</span><a class="js-close-popover pull-right" href="#"><i class="icon-remove"></i></a></div><div class="col-xs-12 divider"></div><div class="col-xs-12"><form name="cardLabelAddForm" class="js-card-label-add-form"><div class="form-group"><input type="text" class="inputCardLabel" name="name" value="'+__e(labels)+'" /><input type="hidden" class="inputHiddenCardLabel" name="hiddenName" value="'+__e(labels)+'" /></div><div class="submit"><input type="submit" value="'+__e(i18next.t("Save"))+'" class="btn btn-primary pull-left"></div></form></div>';return __p},this.JST["templates/card_labels_form"]=function(obj){obj||(obj={});var __p="",__e=_.escape;with(obj)__p+='<div class="clearfix text-center col-xs-12"><a class="js-back-to-card-actions pull-left" href="#"><i class="icon-caret-left no-pad"></i></a><span class="col-xs-10"><strong>'+__e(i18next.t("Labels"))+'</strong></span><a class="js-close-sub-popover pull-right" href="#"><i class="icon-remove"></i></a></div><div class="col-xs-12 divider"></div><div class="col-xs-12"><div class=""><input type="text" class="js-card-label" name="labels"></div></div>';return __p},this.JST["templates/card_list_view"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;Array.prototype.join;with(obj)if(null==card||_.isEmpty(card))__p+='<td colspan="4"  class="text-center alert alert-info">'+__e(i18next.t("No %s available.",{postProcess:"sprintf",sprintf:[i18next.t("cards")]}))+"</td>";else{if(__p+='\r\n<td>\r\n <ul class="unstyled  hide js-card-labels">\r\n</ul>\r\n<ul class="unstyled  js-card-users hide">\r\n</ul>\r\n<ul class="unstyled  js-card-due hide">\r\n <li></li>\r\n</ul>\r\n<div id="js-card-'+__e(card.attributes.id)+'" class="js-show-modal-card-view panel cur">\r\n	<div class="panel-body"> \r\n		<ul class="list-inline navbar-btn clearfix">\r\n		  <li class="col-md-1 col-xs-2"><span class="card-id">#'+__e(card.attributes.id)+'</span></li>\r\n		  <li class="col-md-4 col-xs-3">'+__e(card.attributes.name)+'</li>\r\n		  <li class="col-md-4 col-xs-3">'+__e(card.list_name)+'</li>\r\n		<li class="list-view">\r\n			<ul class="list-inline">\r\n			 ',!_.isUndefined(authuser)&&!_.isUndefined(authuser.user))var cards_subscribers=card.cards_subscribers.where({is_subscribed:1,user_id:parseInt(authuser.user.id)});if(!_.isUndefined(cards_subscribers)&&cards_subscribers>0&&(__p+='\r\n				<li><small><span class="icon-eye-open"></span></small></li>'),__p+="\r\n				",__p+=card.attributes.card_voter_count>0?'<li title="'+__e(i18next.t("{{count}}",{count:card.attributes.card_voter_count}))+'" data-placement="bottom" data-toggle="tooltip"><small>'+__e(card.attributes.card_voter_count)+"</small></li>":"<li> <small>0</small></li>",__p+="\r\n				",__p+=!_.isEmpty(card.attachments)&&card.attachments.length>0?'<li title="'+__e(i18next.t("{{count}}",{count:card.attachments.length}))+' "" data-placement="bottom" data-toggle="tooltip"><small>'+__e(card.attachments.length)+"</small></li>":"<li> <small>0</small></li>",__p+="\r\n				",__p+=card.attributes.comment_count>0?'<li title="'+__e(i18next.t("{{count}}",{count:card.attributes.comment_count}))+' "" data-placement="bottom" data-toggle="tooltip"><small>'+__e(card.attributes.comment_count)+"</small></li>":"<li> <small>0</small></li>",__p+="\r\n				",card.attributes.checklist_item_count>0?(__p+='<li title="'+__e(i18next.t("%s checklist completed out of %s",{postProcess:"sprintf",sprintf:[card.attributes.checklist_item_completed_count,card.attributes.checklist_item_count]}))+' "" data-placement="bottom" data-toggle="tooltip"><small>\r\n					',__p+=card.attributes.checklist_item_completed_count==card.attributes.checklist_item_count?'\r\n						<span class="label label-success">'+__e(card.attributes.checklist_item_completed_count)+"/"+__e(card.attributes.checklist_item_count)+"</span>\r\n					":'\r\n						<span class="label label-danger">'+__e(card.attributes.checklist_item_completed_count)+"/"+__e(card.attributes.checklist_item_count)+"</span>\r\n					",__p+="	\r\n				</small></li>"):__p+="<li><small>-</small></li>",__p+="\r\n				\r\n				",!_.isEmpty(card.attributes.due_date)&&"NULL"!=card.attributes.due_date){card_due_date=card.attributes.due_date;var today=new Date,next_month_last_day=(new Date(today.getFullYear(),today.getMonth()+1,0),new Date(today.getFullYear(),today.getMonth()+2,0)),due_date=new Date(card_due_date),diff=Math.floor(due_date.getTime()-today.getTime()),day=864e5,days=Math.floor(diff/day),months=Math.floor((days+(today.getDate()+1))/next_month_last_day.getDate()),years=Math.floor(months/12),label=(days-(6-today.getDay()),"label-default");(0>years||0>months||-1>=days)&&(label="label-danger"),__p+='<li title="'+__e(i18next.t("Due Date"))+'" data-placement="bottom" data-toggle="tooltip"><small><span class="label '+__e(label)+'">';var date_time=card.attributes.due_date.split("T");date_time=date_time[0].split(" "),__p+=(null==(__t=dateFormat(date_time[0],"mediumDate"))?"":__t)+"</span></small></li>"}__p+="\r\n			</ul>\r\n		</li>\r\n		</ul>\r\n	</div>\r\n</div>\r\n</td>\r\n"}return __p},this.JST["templates/card_member_form"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;Array.prototype.join;with(obj)__p+='<li class="clearfix text-center col-xs-12">\r\n	<div class="clearfix">\r\n		<a class="js-back-to-card-actions pull-left" href="#"><i class="icon-caret-left"></i></a>\r\n		<span class="col-xs-10"><strong>'+__e(i18next.t("Members"))+'</strong></span>\r\n		<a class="js-close-popup pull-right" href="#"><i class="icon-remove"></i></a>\r\n	</div>\r\n</li>\r\n<li class="col-xs-12 divider"></li>\r\n		',_.isEmpty(card.board_users.models)?__p+='\r\n			<li><span class="alert alert-info">'+__e(i18next.t("No %s available.",{postProcess:"sprintf",sprintf:[i18next.t("members")]}))+"</span></li>\r\n		":card.board_users.each(function(a){var b=card.users.findWhere({user_id:a.get("user_id")});if(_.isEmpty(b)){if(__p+='\r\n				 	<li>\r\n						<a href="#" class="highlight-icon js-add-card-member" data-toggle="tooltip" title="'+__e(a.attributes.full_name)+" ("+__e(a.attributes.username)+')" data-user-id="'+__e(a.get("user_id"))+'" data-user-name="'+__e(a.get("username"))+'" data-user-initial="'+__e(a.get("initials"))+'" data-user-profile-picture-path="'+(null==(__t=a.get("profile_picture_path"))?"":__t)+'" data-user-fullname="'+__e(a.get("full_name"))+'">				\r\n						',_.isEmpty(a.attributes.profile_picture_path))__p+='\r\n							<i class="avatar avatar-color-194 avatar-sm img-rounded">'+__e(a.attributes.initials)+"</i>			\r\n						";else{var c=a.showImage("User",a.attributes.user_id,"micro_thumb");__p+='\r\n							<img src="'+(null==(__t=c)?"":__t)+'" alt="[Image: '+__e(a.attributes.username)+']" class="img-rounded img-responsive avatar  avatar-sm">\r\n						'}__p+="\r\n						"+__e(a.get("username"))+"</a>\r\n					</li>\r\n				"}else{if(__p+='\r\n					<li>\r\n						<a href="#" class="highlight-icon js-remove-card-member" data-id="'+__e(b.id)+'"><i class="avatar avatar-color-194 img-rounded" title="'+__e(a.get("username"))+'">'+__e(a.get("initials"))+"\r\n						",_.isEmpty(a.attributes.profile_picture_path))__p+='\r\n							<i class="avatar avatar-color-194 avatar-sm img-rounded">'+__e(a.attributes.initials)+"</i>			\r\n						";else{var c=a.showImage("User",a.attributes.id,"micro_thumb");__p+='\r\n							<img src="'+(null==(__t=c)?"":__t)+'" alt="[Image: '+__e(a.attributes.username)+']" title="'+__e(a.attributes.username)+'" class="img-rounded img-responsive avatar  avatar-sm">\r\n						'}__p+="\r\n						"+__e(a.get("username"))+'</i></a> <i class="icon-ok"></i></li>\r\n					'}}),__p+="\r\n";return __p},this.JST["templates/card_positions_form"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;Array.prototype.join;with(obj){var content_list='<div class="navbar-btn clearfix"><select name="selected_list_id" class="js-change-card-position form-control input-sm cur">',content_position='<div class="navbar-btn"><select name="card_position" class="js-position form-control col-xs-12 input-sm cur">',filtered_lists=card.list.collection.board.lists.where({is_archived:0});_.each(filtered_lists,function(a){if(card.attributes.list_id==a.id){content_list+='<option value="'+a.id+'" selected="selected">'+_.escape(a.attributes.name)+" "+i18next.t("(current)")+"</option>";for(var b=card.list.collection.board.cards.where({list_id:a.id,is_archived:0}).length,c=b+1,d=1;b+1>=d;d++)content_position+=card.attributes.list_id==a.attributes.id&&d==c?'<option value="'+d+'" selected="selected">'+d+" "+i18next.t("(current)")+" </option>":'<option value="'+d+'">'+d+"</option>";if(card.attributes.list_id!=a.attributes.id){var e=b+1;content_position+='<option value="'+e+'">'+e+"</option>"}}else content_list+='<option value="'+a.id+'">'+_.escape(a.attributes.name)+"</option>"}),content_list+="</select></div>",content_position+="</select></div>";var content=content_list+content_position;__p+='\r\n<div class="clearfix text-center col-xs-12">	\r\n		<a href="#" class="js-back-to-card-actions pull-left" ><i class="icon-caret-left  no-pad"></i></a> <span class="col-xs-10"><strong>'+__e(i18next.t("Position"))+'</strong></span><a href="#" class="js-close-sub-popover pull-right"><i class="icon-remove "></i></a>	\r\n</div>\r\n<div class="col-xs-12 divider"></div>\r\n<div class="col-xs-12">\r\n	'+(null==(__t=content)?"":__t)+"\r\n</div>"}return __p},this.JST["templates/card_search_result"]=function(obj){obj||(obj={});var __p="",__e=_.escape;with(obj)__p+=__e(card.attributes.name);return __p},this.JST["templates/card_search_users_result"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;Array.prototype.join;with(obj)if(null!=user){if(__p+='\r\n	<a data-toggle="tooltip" title="'+__e(user.attributes.full_name)+" ("+__e(user.attributes.username)+')" class="cur ',!_.isUndefined(user.attributes.is_existing_user)||is_added_user?_.isUndefined(authuser.user)||1!=authuser.user.role_id&&_.isEmpty(board.acl_links.where({slug:"delete_card_user",board_user_role_id:parseInt(user.attributes.board_user_role_id)}))||(__p+="js-remove-card-member"):__p+="js-add-card-member",__p+='" ',(!_.isUndefined(user.attributes.is_existing_user)||is_added_user)&&(__p+=' data-card-user-id="'+__e(added_user.id)),__p+='" data-user-name="'+__e(user.attributes.username)+'" data-user-initial="'+__e(user.attributes.initials)+'" data-user-fullname="'+__e(user.attributes.full_name)+'" data-user-profile-picture-path="'+(null==(__t=user.attributes.profile_picture_path)?"":__t)+'" data-user-id="',__p+=__e(_.isUndefined(user.attributes.user_id)?user.attributes.id:user.attributes.user_id),__p+='">\r\n		<span>\r\n			',_.isEmpty(user.attributes.profile_picture_path))__p+='\r\n				<i class="avatar avatar-color-194 avatar-sm img-rounded">'+__e(user.attributes.initials)+"</i>\r\n			";else{var user_id=_.isUndefined(user.attributes.user_id)?user.attributes.id:user.attributes.user_id,profile_picture_path=user.showImage("User",user_id,"micro_thumb");__p+='\r\n				<img src="'+(null==(__t=profile_picture_path)?"":__t)+'" alt="[Image: '+__e(user.attributes.username)+']" title="'+__e(user.attributes.username)+'" class="img-rounded img-responsive avatar avatar-sm">\r\n			'}__p+="\r\n		</span> <span>"+__e(user.attributes.full_name)+" ("+__e(user.attributes.username)+")</span>\r\n	",(!_.isUndefined(user.attributes.is_existing_user)||is_added_user)&&(__p+='<i class="icon-ok"></i>'),__p+="</a>\r\n"}else __p+='\r\n	<div class="col-xs-12 alert alert-info"> '+__e(i18next.t("No %s available.",{postProcess:"sprintf",sprintf:[i18next.t("users")]}))+"</div>\r\n";return __p},this.JST["templates/card_voters_list"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;Array.prototype.join;with(obj)__p+='<li>		\r\n	<div class="clearfix text-center col-xs-12">\r\n		<span class="col-xs-10"><strong> '+__e(i18next.t("Votes"))+'</strong></span><a class="js-close-popover pull-right" href="#"><i class="icon-remove "></i></a>\r\n	</div>\r\n</li>\r\n<li class="col-xs-12 divider"></li>\r\n',_.isEmpty(card.card_voters.models)?__p+='\r\n	<li class="col-xs-12 alert alert-info">'+__e(i18next.t("No %s available.",{postProcess:"sprintf",sprintf:[i18next.t("Votes")]}))+"</i>\r\n   ":card.card_voters.each(function(a){if(__p+='\r\n		<li class="col-xs-12"><a class="js-no-action" data-placement="bottom" data-toggle="tooltip" title="'+__e(a.attributes.full_name)+" ("+__e(a.attributes.username)+')" href="#"> \r\n		<span>\r\n			',_.isEmpty(a.attributes.profile_picture_path))__p+='\r\n					<i class="avatar avatar-color-194 avatar-sm img-rounded">'+__e(a.attributes.initials)+"</i>			\r\n			";else{var b=card.showImage("User",a.attributes.user_id,"micro_thumb");__p+='\r\n				<img src="'+(null==(__t=b)?"":__t)+'" alt="[Image: '+__e(a.attributes.username)+']" title="'+__e(a.attributes.username)+'" class="img-rounded">\r\n			'}__p+="\r\n		</span>\r\n		<span>"+__e(a.attributes.username)+"</span></a></li>\r\n   "}),__p+="\r\n";return __p},this.JST["templates/change_password"]=function(obj){obj||(obj={});var __p="",__e=_.escape;with(obj)__p+='<div class="col-lg-4 col-md-4 col-sm-6 col-xs-12 col-lg-offset-4 col-md-offset-4 col-sm-offset-3">\r\n<div class="panel panel-default">\r\n	<div class="panel-heading lead"> '+__e(i18next.t("Change Password"))+'</div>\r\n	<div class="panel-body well-lg">\r\n		<form class="form-horizontal col-xs-12" name="UserChangePasswordForm" id="UserChangePasswordForm">\r\n				<div class="form-group input password required">\r\n					<label class="sr-only control-label" for="inputOldPassword">'+__e(i18next.t("Old Password"))+'</label>\r\n					<input type="password" class="form-control" placeholder="'+__e(i18next.t("Old Password"))+'" id="inputOldPassword" name="old_password" title="'+__e(i18next.t("Old Password"))+'" required>\r\n				</div>\r\n				<div class="form-group input password required">\r\n					<label class="sr-only control-label" for="inputPassword">'+__e(i18next.t("Enter a new Password"))+'</label>\r\n					<input type="password" class="form-control" placeholder="'+__e(i18next.t("Enter a new Password"))+'" id="inputPassword" name="password" required title="'+__e(i18next.t("Enter a new Password"))+'">\r\n				</div>\r\n				<div class="form-group input cpassword required">\r\n					<label class="sr-only control-label" for="inputConfirmPassword">'+__e(i18next.t("Confirm Password"))+'</label>\r\n					<input type="password" class="form-control" placeholder="'+__e(i18next.t("Confirm Password"))+'" id="inputConfirmPassword" name="confirm_password" required title="'+__e(i18next.t("Confirm Password"))+'">\r\n				</div>\r\n				<div class="form-group">\r\n					<label class="sr-only control-label" for="submit2">'+__e(i18next.t("Change Password"))+'</label>\r\n					<input type="submit" class="btn btn-primary col-xs-12" value="'+__e(i18next.t("Change Password"))+'" id="submitChangePassword" >\r\n				</div>\r\n		</form>\r\n		</div>\r\n	</div>\r\n</div>';return __p},this.JST["templates/chat"]=function(obj){obj||(obj={});var __p="",__e=_.escape;with(obj)__p+="<h2> "+__e(i18next.t("Coming soon....."))+"</h2> ";return __p},this.JST["templates/chat_history"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;Array.prototype.join;with(obj)_.isEmpty(chat_history)||null==chat_history?__p+='\r\n	<div class="media-body">No Chat History available.</div>\r\n':(chat_history.attributes.created_date!=previous_date&&(__p+='\r\n<div class="h3 list-group-item-text navbar-btn well-sm">'+(null==(__t=chat_history.attributes.display_date)?"":__t)+'</div>\r\n<hr class="clearfix"/>\r\n'),__p+='\r\n<div class="media">\r\n	<div class="pull-left">\r\n	<strong>'+__e(chat_history.attributes.created_time)+'</strong>\r\n	</div>\r\n	<div class="pull-left">\r\n	<strong>'+__e("<"+chat_history.attributes.username+">")+'</strong>\r\n	</div>\r\n	<div class="media-body">\r\n		<span class="js-chat_history-'+__e(chat_history.attributes.id)+'">'+(null==(__t=makeLink(chat_history.attributes.comment,chat_history.attributes.board_id))?"":__t)+"</span>\r\n	</div> \r\n</div>\r\n",previous_date=chat_history.attributes.created_date),__p+="\r\n";return __p},this.JST["templates/checklist_actions"]=function(obj){obj||(obj={});var __p="",__e=_.escape;with(obj)__p+=" "+__e(i18next.t("Delete this Checklist"))+"\r\n";return __p},this.JST["templates/checklist_add_form"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;Array.prototype.join;with(obj){__p+='<div class="form-group">\r\n	<label for="inputListName">'+__e(i18next.t("Title"))+'</label>\r\n	<input id="inputListName" type="text" placeholder=" '+__e(i18next.t("Title"))+'\r\n" autocomplete="off" class="form-control input-sm" name="name" value="Checklist" title="'+__e(i18next.t("Whitespace alone not allowed"))+' " required pattern=".*\\S+.*">\r\n</div>\r\n<div class="form-group">\r\n	<label for="copy-items">'+__e(i18next.t("Copy Items From"))+'</label>\r\n	<input type="hidden" name="board_id" value="'+__e(card.attributes.board_id)+'" />\r\n	<input type="hidden" name="list_id" value="'+__e(card.attributes.list_id)+'" />\r\n	<input type="hidden" name="card_id" value="'+__e(card.id)+'" />\r\n	<select  name="checklist_id" id="inputchecklist" class="form-control input-sm cur">\r\n		<option value="0">'+__e(i18next.t("Please Select"))+"</option>\r\n		";var content="",checklist_options=[];card.board_users.board.checklists.models.length>0&&card.board_users.board.checklists.models[0].collection.each(function(a){var b=card.collection.findWhere({id:a.attributes.card_id}).get("name"),c=a.attributes.card_id,d={};if(d.checklist_id=a.attributes.id,d.checklist_name=a.attributes.name,d.checklist_item_count=isNaN(a.attributes.checklist_item_count)?a.checklist_items.length:a.attributes.checklist_item_count,_.isUndefined(checklist_options[c])){var e={};e.card_id=c,e.card_name=b,e.checklists=[],e.checklists.push(d),checklist_options[c]=e}else checklist_options[c].checklists.push(d)});var content="";_.isEmpty(checklist_options)||checklist_options.forEach(function(a){content+='<optgroup label="'+_.escape(a.card_name)+'">',a.checklists.forEach(function(a){content+='<option value="'+a.checklist_id+'">'+_.escape(a.checklist_name)+" ("+a.checklist_item_count+" items)</option>"}),content+="</optgroup>"}),__p+="\r\n        "+(null==(__t=content)?"":__t)+'\r\n	</select>\r\n</div>\r\n<div class="form-group">\r\n	<label for="submit" class="sr-only col-sm-4 control-label">'+__e(i18next.t("submit"))+'</label>\r\n	<input type="submit" name="Save" class="btn btn-primary" value="'+__e(i18next.t("Add"))+'">\r\n</div>'}return __p},this.JST["templates/checklist_delete_confirm_form"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="clearfix text-center col-xs-12">\r\n	<span class="col-xs-10"><strong> '+__e(i18next.t("Delete Checklist"))+'?\r\n</strong></span><a class="js-close-popover pull-right" href="#"><i class="icon-remove "></i></a>\r\n</div>\r\n<div class="col-xs-12 divider"></div>\r\n<div class="col-xs-12" id="js-checklist-actions-response-'+(null==(__t=checklist.get("id"))?"":__t)+'">\r\n	<p>'+__e(i18next.t("Deleting a checklist is permanent and there is no way to get it back."))+'</p>\r\n	<a class="js-delete-checklist btn  btn-primary" title="'+__e(i18next.t("Delete Checklist"))+'">'+__e(i18next.t("Delete"))+"</a>\r\n</div>";return __p},this.JST["templates/checklist_edit_form"]=function(obj){obj||(obj={});var __p="",__e=_.escape;with(obj)__p+='<div class="form-group">\r\n	<label for="inputListName" class="col-sm-4 control-label hide"> '+__e(i18next.t("Name"))+'\r\n</label>\r\n	<div class="col-sm-10">\r\n		<textarea name="name" id="checklistEditName" class="form-control" required>'+__e(checklist.get("name"))+'</textarea>\r\n	</div>\r\n</div>\r\n<div class="form-group">\r\n	<div class="col-sm-8">\r\n		<input type="submit" value="'+__e(i18next.t("Save"))+'" class="btn btn-primary"/>\r\n		<a class="js-hide-checklist-edit-form"><i class="icon-remove btn btn-link"></i></a>\r\n	</div>\r\n</div>';return __p},this.JST["templates/checklist_item_actions"]=function(obj){obj||(obj={});var __p="",__e=_.escape;with(obj)__p+='<div class="clearfix text-center col-xs-12">\r\n	<span class="col-xs-10"><strong> '+__e(i18next.t("Options"))+'\r\n</strong></span><a class="js-close-popup pull-right" href="#"><i class="icon-remove "></i></a>\r\n</div>\r\n<div class="col-xs-12 divider"></div></li>\r\n<a href="#" class="js-show-mention-member-form" title="'+__e(i18next.t("Mention a member"))+'">'+__e(i18next.t("Mention a member"))+'</a>\r\n<a class="js-show-emoji-list-form" title="'+__e(i18next.t("Add Emoji"))+'" href="#">'+__e(i18next.t("Add Emoji"))+"</a>";return __p},this.JST["templates/checklist_item_add_form"]=function(obj){obj||(obj={});var __p="",__e=_.escape;with(obj)__p+='<div class="form-group required clearfix">\r\n	<label for="inputItemName" class="sr-only"> '+__e(i18next.t("Name"))+'\r\n</label>\r\n	<div class="clearfix">\r\n		<textarea name="name" id="ChecklistItem" class="form-control" required></textarea>\r\n	</div>\r\n</div>\r\n<div class="submit">\r\n	<input type="submit" name="Save" class="btn btn-primary" value="'+__e(i18next.t("Add"))+'">\r\n	<i class="icon-remove js-hide-checklist-item-add-form btn btn-link cur" title="'+__e(i18next.t("Cancel"))+'"></i>\r\n	<div class="navbar-right dropdown">\r\n			<a title="'+__e(i18next.t("Item Options"))+'" class="dropdown-toggle js-show-item-options btn btn-link" data-toggle="dropdown" href="#"><i class="icon-chevron-sign-down"></i></a>\r\n			<ul class="dropdown-menu dropdown-menu-left arrow  js-dropdown-popup dropdown-popup" id="js-item-add-option-response-'+__e(checklist.id)+'">\r\n			</ul>\r\n		</div>\r\n</div>';return __p},this.JST["templates/checklist_item_add_link"]=function(obj){obj||(obj={});var __p="",__e=_.escape;with(obj)__p+='<a class="js-show-checklist-item-add-form js-add-item-view" href="#">'+__e(i18next.t("Add Item"))+'</a>\r\n<div class="js-checklist-item-add-form-view">\r\n\r\n</div>';return __p},this.JST["templates/checklist_item_delete_confirm_form"]=function(obj){obj||(obj={});var __p="",__e=_.escape;with(obj)__p+='<div class="clearfix text-center col-xs-12">\r\n	<a href="#" class="js-back-to-list-actions pull-left"></a><span class="col-xs-10"><strong>'+__e(i18next.t("Delete Checklist"))+'?</strong></span><a class="js-close-popup pull-right" href="#"><i class="icon-remove "></i></a>\r\n</div>\r\n<div class="col-xs-12 divider"></div>\r\n<div class="col-xs-12">\r\n	<p>'+__e(i18next.t("Deleting a item is permanent and there is no way to get it back."))+' </p>\r\n	<a class="js-delete-item btn  btn-primary" title="'+__e(i18next.t("Delete Checklist"))+'">'+__e(i18next.t("Delete"))+"</a>\r\n</div>";return __p},this.JST["templates/checklist_item_edit_form"]=function(obj){obj||(obj={});var __p="",__e=_.escape;Array.prototype.join;with(obj)__p+='<div class="form-group required">\r\n	<label for="inputitemName" class="hide"> '+__e(i18next.t("Name"))+'\r\n</label>\r\n	<textarea rows="4" id="ChecklistItem" name="name" class="form-control">'+__e(checklist_item.get("name"))+'</textarea>\r\n</div>\r\n<div class="form-group">\r\n	<div class="col-xs-12 h4 btn-block clearfix">\r\n		<ul class="clearfix list-unstyled">\r\n			<li class="pull-left">\r\n				<div class="submit">\r\n					<input type="submit" value="'+__e(i18next.t("Save"))+'" class="btn btn-primary"/>\r\n				</div>\r\n			</li>\r\n			<li class="pull-left">\r\n				<a class="js-hide-item-edit-form"><i class="icon-remove btn btn-link show"></i></a>\r\n			</li>\r\n			<li class="pull-right">\r\n				<ul class="list-unstyled">\r\n					',_.isUndefined(authuser.user)||1!=authuser.user.role_id&&_.isEmpty(checklist_item.board_users.board.acl_links.where({slug:"delete_checklist_item",board_user_role_id:parseInt(checklist_item.board_user_role_id)}))||(__p+='\r\n					<li class="pull-right dropdown">\r\n						<a title="'+__e(i18next.t("Delete"))+'" class="dropdown-toggle js-show-confirm-item-delete btn btn-link btn-sm" data-toggle="dropdown" href="#"><strong>'+__e(i18next.t("Delete"))+'</strong></a>\r\n						<ul class="dropdown-menu arrow arrow-right">\r\n							<li class="js-dropdown-popup dropdown-popup" id="js-item-actions-response-'+__e(checklist_item.id)+'"></li>\r\n						</ul>\r\n					</li>\r\n					'),__p+="\r\n					",_.isUndefined(authuser.user)||1!=authuser.user.role_id&&_.isEmpty(checklist_item.board_users.board.acl_links.where({slug:"convert_item_to_card",board_user_role_id:parseInt(checklist_item.board_user_role_id)}))||(__p+='\r\n						<li class="pull-right">\r\n							<a class="btn btn-link btn-sm pull-right js-convert-to-card" href="#" title="'+__e(i18next.t("Convert to Card"))+'"><strong>'+__e(i18next.t("Convert to Card"))+"</strong></a>\r\n						</li>\r\n				  "),__p+='\r\n					<li class="dropdown navbar-right">\r\n						<a title="'+__e(i18next.t("Item Options"))+'" class="dropdown-toggle js-show-item-options btn btn-link btn-sm" data-toggle="dropdown" href="#"><i class="icon-chevron-sign-down"></i></a>\r\n						<ul class="dropdown-menu arrow dropdown-menu-left" id="js-item-option-response-'+__e(checklist_item.id)+'"></ul>\r\n					</li>\r\n				</ul>\r\n			</li>\r\n		</ul>\r\n	</div>\r\n</div>\r\n';return __p},this.JST["templates/checklist_item_emoji_list"]=function(obj){obj||(obj={});var __p="",__e=_.escape;Array.prototype.join;with(obj)__p+='<ul class="list-unstyled">\r\n<li class="col-xs-12 clearfix text-center">\r\n<a href="#" class="js-back-to-item-options pull-left"><i class="icon-caret-left"></i></a><span class="col-xs-10"><strong>'+__e(i18next.t("Add Emoji"))+'</strong></span>\r\n<a class="js-close-popover pull-right" href="#"><i class="icon-remove "></i></a>\r\n</li>\r\n<li class="col-xs-12 divider"></li>\r\n<li class="col-xs-12 js-comment-emoji-search-response">\r\n  <div class="clearfix">\r\n	<label class="sr-only">'+__e(i18next.t("Search Member"))+'</label>\r\n	<input value="'+__e(search_value)+'" type="text" autocomplete="off" placeholder="Search emoji" name="member" class="js-search-emoji form-control input-sm js-no-action" title="Search emoji">\r\n  </div>\r\n</li>\r\n',_.isEmpty(emojiLists)?__p+='\r\n	<li class="col-xs-12 navbar-btn"><span class="alert alert-info">'+__e(i18next.t("No %s available.",{postProcess:"sprintf",sprintf:[i18next.t("emoji")]}))+"</span></li>\r\n":(__p+="\r\n",
_.each(emojiLists,function(a){__p+='\r\n	<li class="col-xs-12 navbar-btn">\r\n	  <span>:'+__e(a)+':</span>\r\n	  <span class="js-checklist-item-add-emoji">'+__e(a)+"</span>\r\n	</li>\r\n"}),__p+="\r\n"),__p+="\r\n</ul>";return __p},this.JST["templates/checklist_item_mention_member"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;Array.prototype.join;with(obj){if(null!=board_user){if(__p+='\r\n<a class="clearfix ',__p+=_.isUndefined(class_name)?"js-add-item-member":__e(class_name),__p+='" data-member-id="'+__e(board_user.id)+'" href="#"> \r\n	<span data-placement="bottom" data-toggle="tooltip" title="'+__e(board_user.attributes.username)+'">\r\n	',_.isEmpty(board_user.attributes.profile_picture_path))__p+='\r\n		<i class="avatar avatar-color-194 avatar-sm img-rounded">'+__e(board_user.attributes.initials)+"</i>\r\n	";else{var profile_picture_path=board_user.showImage("User",board_user.attributes.user_id,"small_thumb");__p+='\r\n		<img src="'+(null==(__t=profile_picture_path)?"":__t)+'" alt="[Image: '+__e(board_user.attributes.username)+']" title="'+__e(board_user.attributes.username)+'" class="img-rounded img-responsive avatar avatar-sm">\r\n	'}__p+="\r\n	</span> <span>"+__e(board_user.attributes.username)+"</span>\r\n\r\n</a>\r\n"}else __p+='\r\n<span class="alert alert-info">\r\n  '+__e(i18next.t("No %s available.",{postProcess:"sprintf",sprintf:[i18next.t("users")]}))+"\r\n</span>\r\n";__p+="\r\n"}return __p},this.JST["templates/checklist_item_mention_member_search_form"]=function(obj){obj||(obj={});var __p="",__e=_.escape;with(obj)__p+='<div class="clearfix text-center col-xs-12">							\r\n	<a href="#" class="js-back-to-item-options pull-left"><i class="icon-caret-left"></i></a><span class="col-xs-10"><strong> '+__e(i18next.t("Mention a member"))+'\r\n</strong></span><a href="#" class="js-close-popup pull-right"><i class="icon-remove"></i></a>\r\n</div>\r\n<div class="col-xs-12 divider"></div>\r\n<div class="col-xs-12">\r\n	<ul class="list-unstyled">\r\n		<li>\r\n		  <form method="post" class="text-center">\r\n			<div class="form-group">\r\n			  <label class="sr-only">'+__e(i18next.t("Search Member"))+'</label>\r\n			  <input type="text" id="inputItemUserSearch" autocomplete="off" placeholder="'+__e(i18next.t("Search Members"))+'" name="email" required class="js-item-search-member form-control input-sm" title="'+__e(i18next.t("Search Members"))+'">\r\n			</div>\r\n		  </form>\r\n		</li>\r\n		<li class="js-item-member-search-response">\r\n			'+__e(i18next.t("Search for a person in %s by name or email address.",{postProcess:"sprintf",sprintf:[SITE_NAME]}))+" \r\n			</li>\r\n	</ul>\r\n</div>";return __p},this.JST["templates/closed_boards_index"]=function(obj){obj||(obj={});var __p="";_.escape,Array.prototype.join;with(obj)__p+="  ",_.isEmpty(role_links.where({slug:"view_closed_boards"}))||(__p+='\r\n  <div class="btn-block clearfix">\r\n    <div class="col-xs-12 js-header-closed-boards">\r\n	  <hr>\r\n    </div>\r\n  </div>\r\n  '),__p+="\r\n";return __p},this.JST["templates/closed_boards_listing"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;Array.prototype.join;with(obj)if(null!=board){var style="";if(board.attributes.background_picture_url){var background_picture_url=board.attributes.background_picture_url.replace("_XXXX.jpg","_s.jpg");style="background-image:url("+background_picture_url+"); background-size:cover;"}else if(board.attributes.background_pattern_url){var background_pattern_url=board.attributes.background_pattern_url.replace("_XXXX.jpg","_s.jpg");style="background-image:url("+background_pattern_url+"); background-size:cover;"}else style=board.attributes.background_color?"background-color:"+board.attributes.background_color+";color:#ffffff;":"";__p+='\r\n<a href="#/board/'+__e(board.attributes.id)+'" class="col-xs-9">\r\n<span style="'+(null==(__t=style)?"":__t)+'" class="preview-thumbnail"></span>\r\n	<span class="details navbar-btn">\r\n		<span title="'+__e(board.attributes.name)+'" class="board-list-item-name navbar-btn">'+__e(board.attributes.name)+'</span>\r\n		<span class="pull-right hide js-stared-conatiner js-stared-conatiner-'+__e(board.attributes.board_id)+'"></span>  \r\n	</span> \r\n</a>\r\n<div class="pull-right js-reopen-dropdown dropdown">\r\n	<a href="#" class="dropdown-toggle" data-toggle="dropdown"><span class="btn btn-primary btn-xs"> '+__e(i18next.t("Reopen"))+'\r\n</span></a>\r\n	<ul class="dropdown-menu reopen-dropdownmenu arrow arrow-right">\r\n		<li class="js-visibility-popup js-dropdown-popup dropdown-popup">\r\n			<div class="clearfix text-center col-xs-12">\r\n				<span class="col-xs-10"><strong>'+__e(i18next.t("Reopen Board"))+'</strong></span>					\r\n				<a class="js-close-popover pull-right" href="#"><i class="icon-remove"></i></a>					\r\n			</div>\r\n			<div class="col-xs-12 divider"></div>\r\n			<div class="col-xs-12">\r\n				<form class="normal" name="BoardReopenForm" >\r\n					<input name="is_closed" type="hidden" value="false">\r\n					<div class="h6 btn-block">'+__e(i18next.t("Are you sure you want to do this action"))+'?</div>\r\n					<div class="submit">\r\n						<span class="btn btn-primary btn-xs js-board-reopen">'+__e(i18next.t("Reopen"))+"</span>\r\n					</div>\r\n				</form>\r\n			</div>\r\n		</li>\r\n	</ul>\r\n</div>	\r\n"}else __p+='\r\n <div class="alert alert-info">\r\n	'+__e(i18next.t("No %s available.",{postProcess:"sprintf",sprintf:[i18next.t("boards")]}))+"\r\n</div>\r\n";return __p},this.JST["templates/copy_board_visibility"]=function(obj){obj||(obj={});var __p="",__e=_.escape;Array.prototype.join;with(obj)__p+='<span class="pull-left">\r\n	<span class="pull-left"> '+__e(i18next.t("This board will be"))+' </span>\r\n	<span class="pull-left">'+__e(i18next.t("Private"))+'</span>.\r\n</span>\r\n<a class="pull-left js-change-visibility" href="#">'+__e(i18next.t("Change"))+"</a>\r\n","org"==name?__p+='\r\n	<span class="pull-left"><span class="pull-left">'+__e(i18next.t("This board will be"))+' </span><span class="pull-left">'+__e(i18next.t("Organization"))+'</span>.</span><a class="pull-left js-change-visibility" href="#">'+__e(i18next.t("Change"))+"</a>\r\n":"public"==name&&(__p+='\r\n	<span class="pull-left"><span class="pull-left">'+__e(i18next.t("This board will be"))+' </span><span class="pull-left">'+__e(i18next.t("Public"))+'</span>.</span><a class="pull-left js-change-visibility" href="#">'+__e(i18next.t("Change"))+"</a>\r\n");return __p},this.JST["templates/copy_card"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;Array.prototype.join;with(obj){if(card.attachments.length>0||card.activities.length>0||card.labels.length>0||card.checklists.length>0||card.users.length>0){__p+='\r\n		<div class="form-group">\r\n			<h4> '+__e(i18next.t("Keep..."))+"</h4>\r\n			",card.attachments.length>0&&(__p+='\r\n				<div class="form-group">\r\n					<div class="checkbox">\r\n					<input id="Attachments" class="hide" type="checkbox" name="keep_attachments" value="1" checked="checked">\r\n						<label for="Attachments">\r\n						'+__e(i18next.t("Attachments"))+"("+__e(card.attachments.length)+")\r\n						</label>\r\n					</div>\r\n				</div>\r\n		   ");var comment=card.list.collection.board.activities.where({card_id:card.attributes.id,type:"add_comment"});comment.length>0&&(__p+='\r\n			   <div class="form-group">\r\n				   <div class="checkbox">\r\n					    <input id="Activities" class="hide" type="checkbox" name="keep_activities" value="1" checked="checked">\r\n						<label for="Activities">\r\n							'+__e(i18next.t("Comments"))+" ("+__e(comment.length)+")\r\n						</label>\r\n					</div>\r\n				</div>\r\n		   "),card.labels.length>0&&(__p+='\r\n			   <div class="form-group">\r\n				   <div class="checkbox">\r\n					    <input id="Labels" class="hide" type="checkbox" name="keep_labels" value="1" checked="checked">\r\n						<label for="Labels">\r\n							'+__e(i18next.t("Labels"))+" ("+__e(card.labels.length)+")\r\n						</label>\r\n					</div>\r\n				</div>\r\n			"),card.checklists.length>0&&(__p+='\r\n				<div class="form-group">\r\n					<div class="checkbox">\r\n						<input id="Checklists" class="hide" type="checkbox" name="keep_checklists" value="1" checked="checked">\r\n						<label for="Checklists">\r\n							'+__e(i18next.t("Checklists"))+" ("+__e(card.checklists.length)+")\r\n						</label>\r\n					</div>\r\n				</div>\r\n		   "),card.users.length>0&&(__p+='\r\n				<div class="form-group">\r\n					<div class="checkbox">\r\n						<input id="users" class="hide" type="checkbox" name="keep_users" value="1" checked="checked">\r\n						<label for="users">\r\n							'+__e(i18next.t("Members"))+" ("+__e(card.users.length)+")\r\n						</label>\r\n					</div>\r\n				</div>\r\n		   "),__p+="\r\n		</div>\r\n"}var content_board='<div class="form-group clearfix"><select name="board_id" class="js-change-list col-xs-12 form-control panel-body cur">',content_list='<div class="form-group clearfix"><select name="list_id" class="js-change-position col-xs-12 form-control panel-body cur">',content_position='<div class="form-group clearfix"><select name="position" class="js-position col-xs-12 form-control panel-body cur">',current_position=card.collection.indexOf(card)+1;boards.each(function(a){if(card.attributes.board_id==a.id){content_board+='<option value="'+a.id+'" selected="selected">'+_.escape(a.attributes.name)+" "+i18next.t("(current)")+"</option>",a.lists.add(a.attributes.lists);var b=a.lists.where({is_archived:0});_.each(b,function(a){if(card.attributes.list_id==a.id){content_list+='<option value="'+a.id+'" selected="selected">'+_.escape(a.attributes.name)+" "+i18next.t("(current)")+"</option>";for(var b=1;b<=a.attributes.card_count;b++)content_position+=card.attributes.list_id==a.attributes.id&&b==current_position?'<option value="'+b+'" selected="selected">'+b+" "+i18next.t("(current)")+"</option>":'<option value="'+b+'">'+b+"</option>";var c=parseInt(a.attributes.card_count)+1;isNaN(a.attributes.card_count)&&(c=1),content_position+='<option value="'+c+'">'+c+"</option>"}else content_list+='<option value="'+a.id+'">'+_.escape(a.attributes.name)+"</option>"})}else content_board+='<option value="'+a.id+'">'+_.escape(a.attributes.name)+"</option>"}),content_board+="</select></div>",content_list+="</select></div>",content_position+="</select></div>";var content=content_board+content_list+content_position;__p+="		\r\n"+(null==(__t=content)?"":__t)}return __p},this.JST["templates/copy_from_existing_card"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;Array.prototype.join;with(obj){__p+='<li><h4 class="text-center">'+__e(i18next.t("Copy Card"))+'</h4></li>\r\n<li class="divider"></li>\r\n<li>\r\n	<form role="form" method="post" class="js-copy-existing-card-form col-xs-12">\r\n		<div class="col-xs-12">\r\n			<div class="form-group">\r\n				<label for="card-title">'+__e(i18next.t("Title"))+'</label>\r\n				<textarea id="card-title" class="form-control" rows="3" name="name">'+__e(card.attributes.name)+'</textarea>\r\n			</div>\r\n		</div>\r\n		<div class="js-show-move-card-form-response col-xs-12">\r\n		';var content="",content_board='<div class="form-group"><select name="board_id" class="js-change-list form-control cur">',content_list='<div class="form-group"><select name="list_id" class="js-change-position form-control cur">',content_position='<div class="form-group"><select name="position" class="js-position form-control cur">',is_first=!0;boards.each(function(a){if(card.attributes.board_id==a.id?(is_first=!0,content_board+='<option value="'+a.id+'" selected="selected">'+_.escape(a.attributes.name)+" "+i18next.t("(current)")+"</option>"):content_board+='<option value="'+a.id+'">'+_.escape(a.attributes.name)+"</option>",is_first){is_first=!1,content_list='<div class="form-group"><select name="list_id" class="js-change-position form-control cur">',a.lists.add(a.attributes.lists);var b=!0;a.lists.each(function(c){if(is_first=!1,card.attributes.list_id==c.id?(b=!0,content_list+='<option value="'+c.id+'" selected="selected">'+_.escape(c.attributes.name)+" "+i18next.t("(current)")+"</option>",a.cards.add(a.attributes.cards)):content_list+='<option value="'+c.id+'">'+_.escape(c.attributes.name)+"</option>",b){content_position='<div class="form-group"><select name="position" class="js-position form-control cur">',b=!1;for(var d=1;d<=c.attributes.card_count;d++)content_position+='<option value="'+d+'">'+d+"</option>"}})}}),content_board+="</select></div>",content_list+="</select></div>",content_position+="</select></div>",content=content_board+content_list+content_position,__p+="\r\n		"+(null==(__t=content)?"":__t)+'\r\n		</div>\r\n		<div class="form-group col-xs-12 clearfix">\r\n			<label class="sr-only">'+__e(i18next.t("Create card"))+'</label>\r\n			<input name="copied_card_id" type="hidden" value="'+__e(card.attributes.id)+'"/>\r\n			<input type="submit" class="btn btn-primary col-xs-12 js-copy-existing-card" value="'+__e(i18next.t("Create card"))+'">\r\n		</div>\r\n	</form>\r\n</li>\r\n\r\n				'}return __p},this.JST["templates/copy_list"]=function(obj){obj||(obj={});var __p="",__e=_.escape;with(obj)__p+='<div class="clearfix text-center col-xs-12">	\r\n	<a href="#" class="js-back-to-list-actions pull-left" data-list-id="'+__e(list.id)+'"><i class="icon-caret-left"></i></a><span class="col-xs-10"><strong>'+__e(i18next.t("Copy List"))+'</strong></span><a href="#" class="js-close-popup pull-right"><i class="icon-remove"></i></a>\r\n</div>\r\n<div class="col-xs-12 divider"></div>\r\n			<div class="col-xs-12">\r\n	<form class="js-add-list" name="ListCloneForm" id="ListCloneForm">\r\n		<div class="form-group required">\r\n			<label for="inputListName">'+__e(i18next.t("Name"))+'</label>\r\n			<input maxlength="255" id="inputListName" type="text" name="name" autocomplete="off" placeHolder="'+__e(i18next.t("Add a list"))+'" class="form-control input-sm" value="'+__e(list.attributes.name)+'" required title="'+__e(i18next.t("Add a list"))+'"/>\r\n			<input type="hidden" value="'+__e(list.id)+'" name="clone_list_id"/>\r\n			<input type="hidden" value="'+__e(list.attributes.position)+'" name="position"/>\r\n		</div>\r\n		<div class="submit">\r\n			<input type="submit" id="submitListAdd" class="btn  btn-primary" value="'+__e(i18next.t("Create List"))+'"/>\r\n		</div>\r\n	</form>\r\n</div>';return __p},this.JST["templates/edit_activity_form"]=function(obj){obj||(obj={});var __p="",__e=_.escape;Array.prototype.join;with(obj)__p+='<ul class="media-list">\r\n<li class="media comment-block">\r\n<div class="form-group required">\r\n	<textarea rows="4" class="js-inputComment form-control js-comment" name="comment" required>'+__e(activity.attributes.comment)+'</textarea>\r\n	<input type="hidden" value="'+__e(activity.attributes.id)+'" name="id"/>\r\n</div>\r\n</li>\r\n<li class="js-new-comment clearfix btn-block navbar-btn">\r\n<div class="col-xs-11 radio pull-right btn-block">\r\n	<ul class="list-unstyled clearfix col-xs-12">\r\n		<li class="pull-left radio-inline">\r\n			<div class="clearfix dropdown js-show-emoji-list-response"> <a class="js-show-emoji-list show dropdown-toggle btn-link btn-xs btn-block" role="button" data-toggle="dropdown" title="'+__e(i18next.t("Add Emoji"))+'" href="#"> <span class="text-muted show" >'+__e(i18next.t("Add Emoji"))+"</span> </a>\r\n			</div>\r\n		</li>\r\n		",_.isUndefined(authuser.user)||1!=authuser.user.role_id&&_.isEmpty(activity.board.acl_links.where({slug:"view_card_search",board_user_role_id:parseInt(activity.board_user_role_id)}))||(__p+='\r\n			<li class="pull-left radio radio-inline">\r\n			  <div class="clearfix dropdown"> <a class="show dropdown-toggle btn-link btn-xs btn-block" role="button" data-toggle="dropdown" title="'+__e(i18next.t("Add Card"))+'" href="#"> <span class="text-muted show" >'+__e(i18next.t("Add Card"))+'</span> </a>\r\n				<ul class="dropdown-menu arrow col-xs-3 list-group">\r\n				  <li class="col-xs-12 clearfix text-center">\r\n					<div><span class="col-xs-10"><strong>'+__e(i18next.t("Add Card"))+'</strong></span>\r\n					<a class="js-close-popover pull-right" href="#"><i class="icon-remove "></i></a></div>\r\n				  </li>\r\n				  <li class="col-xs-12 divider"></li>\r\n				  <li class="col-xs-12 js_activity_card_search_response">\r\n					  <div class="clearfix">\r\n						<label class="sr-only">'+__e(i18next.t("Search Card"))+'</label>                            \r\n						  <input type="text" placeholder="'+__e(i18next.t("Search Card"))+'" name="card" class="js-search-card form-control input-sm  js-no-action" title="'+__e(i18next.t("Search Card"))+'">\r\n					  </div>\r\n				  </li>\r\n				</ul>\r\n			  </div>\r\n			</li>\r\n		'),__p+='\r\n		<li class="dropdown pull-left radio-inline radio">\r\n		  <div class="clearfix dropdown"> <a class="show dropdown-toggle btn-link btn-xs btn-block js-show-members" role="button" data-toggle="dropdown" title="'+__e(i18next.t("Mention a member"))+'" href="#"> <span class="text-muted show" >'+__e(i18next.t("Mention a member"))+'</span> </a>\r\n			<ul class="dropdown-menu arrow col-xs-3">\r\n			  <li class="col-xs-12 clearfix text-center"><div><span class="col-xs-10"><strong>'+__e(i18next.t("Mention a member"))+'</strong></span> <a class="js-close-popover pull-right" href="#"><i class="icon-remove "></i></a></div></li>\r\n			  <li class="col-xs-12 divider"></li>\r\n			  <li class="col-xs-12 js-comment-member-search-response">\r\n				  <div class="clearfix">\r\n					<label class="sr-only">'+__e(i18next.t("Search Member"))+'</label>\r\n					<input type="text" autocomplete="off" placeholder="'+__e(i18next.t("Search Members"))+'" name="member" class="js-search-member form-control input-sm js-no-action" title="'+__e(i18next.t("Search Members"))+'">\r\n				  </div>\r\n			  </li>\r\n			</ul>\r\n		   </div>\r\n		</li>\r\n	</ul>\r\n<div class="submit panel-body">\r\n<input type="submit" id="submitListAdd" class="btn  btn-primary" value="Save"/>\r\n<i class="icon-remove js-hide-edit-comment-form btn btn-link cur" title="Cancel" data-activity-id="'+__e(activity.attributes.id)+'"></i>\r\n</div>\r\n</li>\r\n';return __p},this.JST["templates/edit_board_member_permission_to_admin"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<ul class="list-unstyled list-inline clearfix">\r\n	<li>\r\n		<a class="js-show-board-member-permission-form" data-board_user_id="'+(null==(__t=board_user_id)?"":__t)+'" href="#">\r\n			<span class="js-change-permission-content-'+(null==(__t=board_user_id)?"":__t)+'">'+__e(i18next.t("Owner"))+'</span>\r\n		</a>\r\n	</li>\r\n	<li>\r\n		<a href="#" class="show js-board-user-activity">'+__e(i18next.t("Activity"))+'</a>\r\n	</li>\r\n	<li>\r\n		<div disabled="disabled"><span>'+__e(i18next.t("Remove from board"))+"</span></div>\r\n	</li>\r\n</ul>";return __p},this.JST["templates/edit_board_member_permission_to_normal"]=function(obj){obj||(obj={});var __p="",__e=_.escape;with(obj)__p+='<ul class="list-unstyled list-inline clearfix">\r\n	<li>\r\n		<a class="js-show-board-member-permission-form" data-board_user_id="'+__e(board_user_id)+'" href="#">\r\n			<span class="js-change-permission-content-'+__e(board_user_id)+'">'+__e(i18next.t("Member"))+'</span>\r\n		</a>\r\n	</li>\r\n	<li>\r\n		<a href="#" class=" show js-board-user-activity">'+__e(i18next.t("Activity"))+'</a></li>\r\n		<li>\r\n			<a class="js-show-confirm-delete-board-member" data-board_user_id="'+__e(board_user_id)+'" href="#">\r\n				<span>'+__e(i18next.t("Remove from board"))+"</span>\r\n			</a>\r\n		</li>\r\n</ul>";return __p},this.JST["templates/email_templates"]=function(obj){obj||(obj={});var __p="",__e=_.escape;Array.prototype.join;with(obj){__p+='<!-- Main block start -->\r\n\r\n<section class="clearfix row">\r\n  <div class="col-xs-12">\r\n	<div class="clearfix">\r\n		<ul class="nav nav-tabs no-bor h3">\r\n		';var i=0;if(list.models.length>0&&_.each(list.models,function(a){a.get("template");__p+="\r\n				<li ",_.isUndefined(id)||id!=a.get("id")?_.isUndefined(id)&&1==a.get("id")&&(__p+='class="active" '):__p+='class="active" ',__p+=' ><a href="#/email_templates/'+__e(a.get("id"))+'">'+__e(i18next.t(a.get("display_name")))+"</a></li>\r\n		",i++}),__p+='\r\n		</ul>\r\n	</div>\r\n	\r\n	<div class="row">\r\n		<div class="tab-content col-sm-10">\r\n		',list.models.length>0){var j=0;_.each(list.models,function(a){var b=a.get("template");__p+='		\r\n				<div class="modal-body tab-pane clearfix ',_.isUndefined(id)||id!=a.get("id")?_.isUndefined(id)&&1==a.get("id")&&(__p+=" active "):__p+=" active ",__p+='" id="settingTab'+__e(a.get("id"))+'">\r\n					',_.isEmpty(b)||(__p+='\r\n					<p class="alert alert-info ">'+__e(i18next.t(b.description))+'</p>\r\n					<form class="form-horizontal js-email-templates-form" role="form" id="js-email-templates-form">\r\n					  <div class="form-group">\r\n						 <label for="inputFromEmail" class="col-md-2 col-sm-3 control-label">'+__e(i18next.t("From"))+'</label>\r\n						 <div class="col-md-4 col-sm-9">\r\n							<input type="text" id="inputFromEmail" name="from_email" class="form-control" value="'+__e(b.from_email)+'" />\r\n						 </div>\r\n					  </div>\r\n					  <div class="form-group">\r\n						 <label for="inputReplyToEmail" class="col-md-2 col-sm-3 control-label">'+__e(i18next.t("Reply To"))+'</label>\r\n						 <div class="col-md-4 col-sm-9">\r\n							<input type="text" id="inputReplyToEmail" name="reply_to_email" class="form-control" value="'+__e(b.reply_to_email)+'" />\r\n						 </div>\r\n					  </div>\r\n					  <div class="form-group">\r\n						 <label for="inputSubject" class="col-md-2 col-sm-3 control-label">'+__e(i18next.t("Subject"))+'</label>\r\n						 <div class="col-md-4 col-sm-9">\r\n							<input type="text" id="inputSubject" name="subject" class="form-control" value="'+__e(b.subject)+'" />\r\n							<span class="info">'+__e(b.email_variables)+'</span>\r\n						 </div>\r\n					  </div>\r\n					  <div class="form-group">\r\n						 <label class="col-md-2 col-sm-3 control-label" for="EmailTemplateEmailTextContent">'+__e(i18next.t("Email Content"))+'</label>\r\n						<div class="col-md-10 col-sm-9">\r\n							<textarea id="EmailTemplateEmailTextContent" class="form-control" name="email_text_content"	rows="20">'+__e(b.email_text_content)+'</textarea>\r\n							<span class="info">'+__e(b.email_variables)+'</span>\r\n						</div>\r\n					  </div>\r\n					  <div class="form-group">\r\n						<label for="submit2" class="sr-only col-md-2 col-sm-3 control-label">'+__e(i18next.t("Submit"))+'</label>\r\n						<div class="col-md-4 col-sm-9">\r\n						<input type="submit" value="'+__e(i18next.t("Update"))+'" id="submit2" class="btn btn-primary">\r\n						</div>\r\n					  </div>\r\n					</form>\r\n					'),__p+="\r\n				</div>\r\n		",j++})}__p+="				\r\n		</div>\r\n	</div>\r\n  </div>\r\n</section>\r\n<!-- Main block end -->"}return __p},this.JST["templates/email_to_board_setting"]=function(obj){obj||(obj={});var __p="",__e=_.escape;Array.prototype.join;with(obj)__p+='<ul class="list-unstyled">\r\n	<li>\r\n		<div class="clearfix text-center col-xs-12">\r\n			<a href="#" class="js-back-to-sidebar pull-left btn btn-xs btn-link"><i class="icon-caret-left"></i></a> \r\n			<span class="col-xs-10 navbar-btn"><strong>'+__e(i18next.t("Add Cards via Email"))+'</strong></span>\r\n		</div>\r\n		<div class="col-xs-12 divider"></div>\r\n		<div class="col-xs-12">\r\n			<div class="form-group">\r\n			  <label for="boardEmail">'+__e(i18next.t("Your email address for this board"))+'</label>\r\n			  <input type="text" readonly="readonly" value="'+__e(board_email)+'" class="form-control js-board-email" name="boardEmail" id="boardEmail">\r\n			</div>\r\n			<div class="col-xs-12 divider"></div>\r\n			<div class="form-group">\r\n			  <p>'+__e(i18next.t("Your emailed cards appear in..."))+"</p>\r\n			  <label>"+__e(i18next.t("List"))+'</label>\r\n			  <select class="js-select-list form-control input-sm cur list-group" placeholder="'+__e(i18next.t("List"))+'">\r\n			  ',_.each(board.lists.models,function(a){0===parseInt(a.attributes.is_archived)&&(__p+="\r\n				<option ",board.attributes.default_email_list_id===a.attributes.id&&(__p+="selected"),__p+=' value="'+__e(a.attributes.id)+'">'+__e(a.attributes.name)+"</option>\r\n			  ")}),__p+="\r\n			  </select>\r\n			  <label>"+__e(i18next.t("Position"))+'</label>\r\n			  <select class="js-select-position form-control input-sm cur">\r\n				<option ',0===parseInt(board.attributes.is_default_email_position_as_bottom)&&(__p+="selected"),__p+=' value="false">'+__e(i18next.t("Top"))+"</option>\r\n				<option ",1===parseInt(board.attributes.is_default_email_position_as_bottom)&&(__p+="selected"),__p+=' value="true">'+__e(i18next.t("Bottom"))+"</option>\r\n			  </select>\r\n			</div>\r\n		</div>\r\n	</li>\r\n</ul>";return __p},this.JST["templates/emoji_list"]=function(obj){obj||(obj={});var __p="",__e=_.escape;Array.prototype.join;with(obj)__p+='<li class="col-xs-12 clearfix text-center">\r\n<div><span class="col-xs-10"><strong>'+__e(i18next.t("Add Emoji"))+'</strong></span>\r\n<a class="js-close-popover pull-right" href="#"><i class="icon-remove "></i></a></div>\r\n</li>\r\n<li class="col-xs-12 divider"></li>\r\n<li class="col-xs-12 js-comment-emoji-search-response">\r\n  <div class="clearfix">\r\n	<label class="sr-only">'+__e(i18next.t("Search Member"))+'</label>\r\n	<input value="'+__e(search_value)+'" type="text" autocomplete="off" placeholder="Search emoji" name="member" class="js-search-emoji form-control input-sm js-no-action" title="Search emoji">\r\n  </div>\r\n</li>\r\n',_.isEmpty(emojiLists)?__p+='\r\n	<li class="col-xs-12 navbar-btn"><span class="alert alert-info">'+__e(i18next.t("No %s available.",{postProcess:"sprintf",sprintf:[i18next.t("emoji")]}))+"</span></li>\r\n":(__p+="\r\n",_.each(emojiLists,function(a){__p+='\r\n	<li class="col-xs-12 navbar-btn">\r\n	  <span>:'+__e(a)+':</span>\r\n	  <span class="js-comment-add-emoji">'+__e(a)+"</span>\r\n	</li>\r\n"}),__p+="\r\n");return __p},this.JST["templates/error_404"]=function(obj){obj||(obj={});var __p="",__e=_.escape;with(obj)__p+=__e(i18next.t("404 Page not found"))+".";return __p},this.JST["templates/flickr"]=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj){if(null!=photo){__p+=" \r\n	";var path="//farm"+photo.farm+".static.flickr.com/"+photo.server+"/"+photo.id+"_"+photo.secret+"_s.jpg";__p+='\r\n	<div class="clearfix">\r\n		<a class="pull-left navbar-btn js-flickr-changebackground" href="#" target="_blank" data-farm="'+(null==(__t=photo.farm)?"":__t)+'" data-server="'+(null==(__t=photo.server)?"":__t)+'" data-id="'+(null==(__t=photo.id)?"":__t)+'" data-secret="'+(null==(__t=photo.secret)?"":__t)+'" data-title="'+(null==(__t=photo.title)?"":__t)+'">\r\n			<img class="img-rounded" title="'+(null==(__t=photo.title)?"":__t)+'" alt="[Image: '+(null==(__t=photo.title)?"":__t)+']" src="'+(null==(__t=path)?"":__t)+'" width="48" height="48">\r\n		</a>\r\n	</div>	\r\n'}__p+=" "}return __p},this.JST["templates/footer"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;Array.prototype.join;with(obj){if(_.isEmpty(role_links.where({slug:"add_board"}))){var delete_github_obj=apps;delete_github_obj.hasOwnProperty("r_import_github")&&delete delete_github_obj.r_import_github}if(__p+='\r\n<section class="action-block action-content">\r\n<div class="row navbar navbar-default list-group-item-text">\r\n<ul class="nav nav-pills navbar-left"> \r\n  <li class="footer-logo visible-xs active"> \r\n  	<a href="javascript:void(0);" title="'+__e(SITE_NAME)+'" class="js-start"><sup class="badge notification-count js-notification-count"></sup><img src="img/logo-icon.png" alt="[Images: '+__e(SITE_NAME)+']" title="'+__e(SITE_NAME)+'" id="js-footer-brand-img" /></a>\r\n	<!-- Todo: quick fix. load image before offline. call after when goes offline\r\n	<img src="img/logo-icon-offline.png" alt="[Images: '+__e(SITE_NAME)+']" style="display:none;" />--->\r\n  </li>\r\n  <li class="hidden-xs about-btn">\r\n	<a href="#/about" title="RestyaBoard">\r\n		<img title="Restya" alt="[Image: '+__e(SITE_NAME)+']" src="img/logo-icon.png">\r\n		<span class="hidden-lg hidden-md hidden-sm navbar-btn">&nbsp;'+__e(i18next.t("About"))+'</span>\r\n		<!-- Todo: quick fix. load image before offline. call after when goes offline--->\r\n		<img src="img/logo-icon-offline.png" alt="[Images: '+__e(SITE_NAME)+']" style="display:none;" />\r\n	</a>\r\n   </li>   \r\n  ',_.isUndefined(authuser.user)?(__p+='\r\n	<li class="hidden-xs music-btn pa">\r\n		',void 0===board_id||null===board_id||""===board_id||_.isEmpty(this.music_content)||""===this.music_content||(__p+="\r\n			",__p+="1"===window.sessionStorage.getItem("music_play")?'\r\n				<a href="#" data-toggle="tooltip" data-container="body" data-placement="top" data-original-title="'+__e(i18next.t("Productivity Beats - %s",{postProcess:"sprintf",sprintf:[this.music_name]}))+'" title="'+__e(i18next.t("Productivity Beats - %s",{postProcess:"sprintf",sprintf:[this.music_name]}))+'" class="animation btn btn-default js-product-beat-action" data-type=\'on\'>\r\n				<span class="show"><i class="icon-volume-up lead show"></i></span>\r\n				</a>\r\n			':'\r\n				<a href="#" data-toggle="tooltip" data-container="body" data-placement="top" data-original-title="'+__e(i18next.t("Productivity Beats - %s",{postProcess:"sprintf",sprintf:[this.music_name]}))+'" title="'+__e(i18next.t("Productivity Beats - %s",{postProcess:"sprintf",sprintf:[this.music_name]}))+'" class="animation btn btn-default js-product-beat-action" data-type=\'off\'>\r\n				<span class="show"><i class="icon-volume-off lead show text-muted"></i></span>\r\n				</a>\r\n			',__p+="\r\n		"),__p+="\r\n	</li> \r\n	\r\n	"):(__p+='\r\n	<li class="hidden-xs music-btn pa"> \r\n		',void 0===board_id||null===board_id||""===board_id||_.isEmpty(this.music_content)||""===this.music_content||(__p+="\r\n			",__p+=1===parseInt(authuser.user.is_productivity_beats)?'\r\n				<a href="#" data-toggle="tooltip" data-container="body" data-placement="top" data-original-title="'+__e(i18next.t("Productivity Beats - %s",{postProcess:"sprintf",sprintf:[this.music_name]}))+'" title="'+__e(i18next.t("Productivity Beats - %s",{postProcess:"sprintf",sprintf:[this.music_name]}))+'" class="animation btn btn-default js-product-beat-action" data-type=\'on\'>\r\n				<span class="show"><i class="icon-volume-up lead tada-animation show"></i></span>\r\n				</a>\r\n			':'\r\n				<a href="#" data-toggle="tooltip" data-container="body" data-placement="top" data-original-title="'+__e(i18next.t("Productivity Beats - %s",{postProcess:"sprintf",sprintf:[this.music_name]}))+'" title="'+__e(i18next.t("Productivity Beats - %s",{postProcess:"sprintf",sprintf:[this.music_name]}))+'" class="animation btn btn-default js-product-beat-action" data-type=\'off\'>\r\n				<span class="show"><i class="icon-volume-off lead text-muted show"></i></span>\r\n				</a>\r\n			',__p+="\r\n		"),__p+="\r\n	</li> \r\n	"),__p+="\r\n ",_.isUndefined(authuser.user)||(__p+='\r\n  <li class="dropdown hidden-xs board-btn"> \r\n	  <a title="'+__e(i18next.t("Dashboard"))+'" href="#" data-toggle="dropdown" class="btn btn-default js-show-boards-list"><span>'+__e(i18next.t("Boards"))+' </span><span><i class="icon-collapse"></i></span> </a>\r\n	  <ul role="menu" class="dropdown-menu js-dropdown-popup col-xs-12 js-show-add-boards-list">\r\n	  	 <li class="js-show-boards-list-response"></li>\r\n		 ',_.isEmpty(role_links.where({slug:"view_board_search"}))||(__p+='\r\n			 <li class="clearfix js-qsearch-container js-boards-list-container">\r\n				<div class="clearfix h6 col-xs-12">\r\n					<input type="text" placeholder="'+__e(i18next.t("Find boards by name..."))+'" class="js-search-boards form-control" id="inputBoardSearch" title="Find boards by name...">\r\n				</div>\r\n			 </li>\r\n			 <li class="divider"></li>\r\n		 '),__p+="\r\n		 ",_.isEmpty(role_links.where({slug:"view_closed_boards"}))||(__p+='\r\n			<li class="clearfix js-closed-board-list dropdown dropdown-submenu dropdown js-boards-list-container-search">            \r\n				<a href="#" class="js-board-dropdown dropdown-toggle js-open-popover js-closed-boards" data-toggle="dropdown" title="'+__e(i18next.t("Closed Boards"))+'">'+__e(i18next.t("Closed Boards"))+'</a>\r\n				<ul class="sidebar-boards-list js-closedboard-list  list-unstyled list-group dropdown-menu"></ul>\r\n				</li>\r\n		'),
_.isEmpty(role_links.where({slug:"view_stared_boards"}))||(__p+='\r\n			<li class="clearfix js-board-dropdown js-stared-board-lists dropdown-submenu dropdown js-boards-list-container-search">            \r\n					<a href="#" class="dropdown-toggle js-open-popover js-starred-boards" data-toggle="dropdown" title="'+__e(i18next.t("Starred Boards"))+'">'+__e(i18next.t("Starred Boards"))+'</a>				\r\n					<ul class="sidebar-boards-list js-board-starred-list list-unstyled list-group dropdown-menu"></ul>			\r\n				</li>\r\n		'),_.isEmpty(role_links.where({slug:"view_my_boards"}))||(__p+='\r\n				<li class="clearfix js-my-board-lists dropdown-submenu dropdown js-boards-list-container-search">			\r\n					<a href="#" class="js-board-dropdown dropdown-toggle js-open-popover js-my-boards-listing" data-toggle="dropdown" title="'+__e(i18next.t("My Boards"))+'">'+__e(i18next.t("My Boards"))+'</a>\r\n					<ul class="sidebar-boards-list js-myboard-list list-unstyled list-group dropdown-menu"></ul>			\r\n				</li>\r\n		'),__p+='\r\n			<li class="clearfix js-boards-list-container-search">            \r\n			<a href="#/" title="'+__e(i18next.t("Boards"))+'">'+__e(i18next.t("Boards"))+"</a>\r\n			</li>\r\n		",_.isEmpty(role_links.where({slug:"add_board"}))&&_.isEmpty(role_links.where({slug:"add_organization"}))||(__p+='		\r\n			<li class="divider js-boards-list-container-search"></li>\r\n			<li class="js-boards-list-container-search dropdown clearfix">\r\n				<a title="'+__e(i18next.t("Add Board or Organization"))+'" class="dropdown-toggle js-show-organizations-board-from btn btn-link" data-toggle="dropdown" href="#"><span class="pull-left"><i class="icon-plus"></i></span> '+__e(i18next.t("Add Board or Organization"))+'</a><ul role="menu" class="dropdown-menu dropdown-menu-right js-show-organizations-board-from-response js-dropdown-popup navbar-btn"></ul>\r\n				</li>\r\n		'),__p+="\r\n	  </ul>\r\n	</li>\r\n  ","undefined"==typeof model.user||_.isEmpty(model.user)||_.isEmpty(role_links.where({slug:"view_organization_listing"}))||(__p+='\r\n  <li class="hidden-xs org-btn"><a title="'+__e(i18next.t("Organizations"))+'" href="#/organizations" class="btn btn-default"><span>'+__e(i18next.t("Organizations"))+"</span></a></li>\r\n   "),__p+="	\r\n  ",""!==apps&&(__p+='\r\n  <li class="dropdown hidden-xs board-btn js-show-add-apps-list add-apps-list"> \r\n	  <a title="'+__e(i18next.t("Apps"))+'" href="#" data-toggle="dropdown" class="btn btn-default js-show-apps-list"><span>'+__e(i18next.t("Apps"))+' </span><span><i class="icon-collapse"></i></span> </a>\r\n	  <ul role="menu" class="dropdown-menu js-dropdown-popup col-xs-12">\r\n			',_.each(apps,function(a,b){__p+='\r\n				<li id="'+__e(b)+'" class="org-btn"><a title="'+__e(i18next.t(a.name))+'" href="#" data-toggle="modal" data-target="#'+__e(b)+'_modal" class="highlight-icon clearfix"><span style="background-image:url('+__e(a.icon)+'); background-size:cover;" class="preview-thumbnail"></span><span class="details btn-block navbar-btn">'+__e(i18next.t(a.name))+"</span></a></li>\r\n			"}),__p+='\r\n			<li class="divider js-apps-list-container-search"></li>\r\n			<li class="dropdown clearfix">\r\n				<a title="'+__e(i18next.t("Add Apps"))+'" class="dropdown-toggle  btn-link" target="_blank" href="http://restya.com/board/apps/?utm_source=Restyaboard - '+__e(SITE_NAME)+'&utm_medium=web&utm_campaign=add_apps_footer"><span class="pull-left"><i class="icon-plus"></i></span> &nbsp; '+__e(i18next.t("Add Apps"))+"</a>\r\n			</li>\r\n	  </ul>\r\n	</li>\r\n  "),__p+="\r\n  "),__p+="\r\n</ul>\r\n",_.isUndefined(authuser.user)||(__p+='\r\n<div class="col-xs-push-0 col-sm-push-1 col-md-push-1 col-lg-push-1 col-lg-4 col-md-3 col-sm-1 col-xs-12 hidden-xs search-xs list-group-item-heading clearfix">\r\n	<form role="form" class="search-container clearfix">\r\n	<div class="text-center clearfix hide search-loader" id="js-loader-img"><img src="img/ajax-loader.gif" alt="[Images:Loader]" title="Loading..." /></div>\r\n	  <div class="form-group">\r\n		<input id="search-box" type="search" class="search-box pull-right form-control js-search search-box">\r\n		<i class="icon-circle-blank search-loader hide" id="res"></i>\r\n		<i class="icon-circle-blank search-loader text-primary hide" id="nres"></i>\r\n		<label for="search-box" class="pull-right"><i class="icon-search btn btn-primary search-icon"></i></label>\r\n		<ul class="dropdown-menu">\r\n			<li class="js-show-search-result js-dropdown-popup dropdown-popup">\r\n			</li>\r\n		</ul>\r\n	  </div>\r\n	  <button type="submit" class="search-submit sr-only">'+__e(i18next.t("Submit"))+"</button>\r\n	</form>\r\n</div>\r\n "),__p+='\r\n<div class="navbar-right clearfix">\r\n	<ul class="nav nav-pills navbar-right">\r\n	',_.isUndefined(authuser.user))__p+="\r\n		",void 0!==board_id&&null!==board_id&&""!==board_id&&(__p+='\r\n	  		<li class="',-1!=Backbone.history.fragment.indexOf("users/register")&&(__p+="active"),__p+='"><a href="#/users/register" title="'+__e(i18next.t("Register"))+'"><strong>'+__e(i18next.t("Register"))+'</strong></a></li>\r\n			<li class="',-1!=Backbone.history.fragment.indexOf("users/login")&&(__p+="active"),__p+='"><a href="#/users/login"	title="'+__e(i18next.t("Login"))+'"><strong>'+__e(i18next.t("Login"))+"</strong></a></li>\r\n		"),__p+="\r\n	  ";else{if(__p+="\r\n	",navigator.userAgent.toLowerCase().indexOf("android")>-1&&navigator.userAgent.toLowerCase().indexOf("chrome")>-1&&(__p+='\r\n		  <li class="hidden-xs"><a href="#" tittle="'+__e(i18next.t("Install this webapp to your phone"))+'" data-toggle="modal" data-target="#add_home_modal" class="btn btn-default pull-right"><i class="icon-plus"></i></a></li>\r\n	'),__p+="\r\n	",_.isUndefined(authuser.user)||_.isEmpty(model.user)||1!=model.user.role_id||(__p+='\r\n		<li class="phone-block"><a class="btn btn-primary pull-right js-show-qr-code hidden-xs" id="phone" title="'+__e(i18next.t("View in iOS App"))+'" href=""><i class="icon-mobile-phone lead"></i></a></li>\r\n	  	<li class="hidden-xs"><a title="'+__e(i18next.t("Admin CP"))+'" class="btn btn-default pull-right admin-cp" href="#/activities"><span class="icon-user lead text-primary"></span><span class="hidden-xs text-primary">'+__e(i18next.t("Admin"))+"</span></a></li>\r\n	  "),__p+='\r\n	  <li class="dropdown">\r\n	   <a href="#" data-toggle="dropdown" class="dropdown-toggle btn btn-default pull-right" title="'+__e(model.user.full_name)+" ("+__e(model.user.username)+')">\r\n	   		<span class="js-user-img">\r\n			',_.isEmpty(model.user.profile_picture_path))__p+='\r\n				<i class="avatar avatar-color-194 avatar-sm">'+__e(model.user.initials)+"</i>\r\n			";else{var profile_picture_path=model.showImage("User",model.user.id,"micro_thumb",!0);__p+='\r\n				<img class="img-rounded" width="16" height="16" src="'+(null==(__t=profile_picture_path)?"":__t)+'" alt="[Images: '+__e(model.user.username)+']" title="'+__e(model.user.username)+'" />\r\n			'}__p+=' \r\n			</span>&nbsp; <b class="caret"></b>\r\n	   </a>\r\n		<ul class="dropdown-menu text-left js-change-avatar-form-response">\r\n			<li> <a title="'+__e(i18next.t("Logout"))+'" href="#/users/logout">'+__e(i18next.t("Logout"))+'</a> </li>			\r\n			<li class="divider"></li>\r\n			<li><a href="#" class="js-show-shortcuts-modal" data-toggle="modal" data-target="#ModalShortcutView">'+__e(i18next.t("Shortcuts"))+"</a></li>\r\n			",model.is_show_enable_notification===!0&&(__p+='\r\n				<li><a title="'+__e(i18next.t("Enable Desktop Notification"))+'" href="#" class="js-enable-desktop-notification">'+__e(i18next.t("Enable Desktop Notification"))+"</a></li>\r\n			"),__p+="	\r\n			",_.isEmpty(role_links.where({slug:"user_changepassword"}))||0!==parseInt(authuser.user.is_ldap)||(__p+='\r\n				<li><a title="'+__e(i18next.t("Change Password"))+'" href="#/users/'+__e(model.user.id)+'/changepassword">'+__e(i18next.t("Change Password"))+"</a></li>\r\n			"),__p+="\r\n		    ",_.isEmpty(role_links.where({slug:"view_user"}))||(__p+='\r\n				<li><a title="'+__e(i18next.t("Profile"))+'" href="#/user/'+__e(model.user.id)+'">'+__e(i18next.t("Profile"))+"</a></li>\r\n			"),__p+='\r\n			<li class="dropdown-submenu dropdown language-dropdown">\r\n				<a href="#" data-toggle="dropdown" class="dropdown-toggle js-open-popover" title="'+__e(i18next.t("Change Language"))+'"><span><i class="icon-caret-left"></i></span>'+__e(i18next.t("Change Language"))+'</a>\r\n				<ul class="dropdown-menu text-left js-change-language-form-response">\r\n				   ',_.each(JSON.parse(languages),function(a,b){__p+='\r\n						<li> <a class="cur ',b!==authuser.user.language&&(__p+="js-change-language"),__p+='" data-lang="'+__e(b)+'">'+__e(a),(!_.isEmpty(authuser.user.language)&&b===authuser.user.language||_.isEmpty(authuser.user.language)&&b===DEFAULT_LANGUAGE)&&(__p+='<i class="icon-ok"></i>'),__p+="</a> </li>			\r\n				   "}),__p+='\r\n				   <li class="divider"></li>\r\n				   <li> <a href="http://transifex.com/restya/restyaboard/?utm_source=Restyaboard&utm_medium=web&utm_campaign=translation_footer" target="_blank" title="'+__e(i18next.t("Contribute to Translation"))+'"><span class="pull-left"><i class="icon-plus"></i></span>&nbsp;  '+__e(i18next.t("Contribute to Translation"))+'</a>\r\n				   </li>\r\n				</ul>\r\n			</li>\r\n		</ul>\r\n	  </li>\r\n	  <li class="hidden-xs"><a data-toggle="tooltip" data-placement="top" title="'+__e(i18next.t("Chat"))+'" ',__p+="undefined"==typeof model.user||_.isEmpty(model.user)?' href="#/users/login"':'href="#" ',__p+=' id="add" class="btn btn-default pull-right  ',"undefined"==typeof model.user||_.isEmpty(model.user)||(__p+="js-show-chat"),__p+='" data-original-title="'+__e(i18next.t("Chat"))+'"><i class="icon-comment lead"></i></a></li> \r\n	  <li class="hidden-xs"><a data-container="body" data-toggle="tooltip" data-placement="top" title="'+__e(i18next.t("Instant add card"))+'" ',__p+="undefined"==typeof model.user||_.isEmpty(model.user)?' href="#/users/login"':'href="#" ',__p+=' id="add" class="btn btn-default pull-right  ',"undefined"==typeof model.user||_.isEmpty(model.user)||(__p+="js-show-instant-card-from"),__p+='" data-original-title="Add New"><i class="icon-plus-sign lead"></i></a></li>\r\n	  <li class="dropdown notifications pull-right hidden-xs"><a data-toggle="dropdown" href="#" class="btn btn-default pull-right js-show-notification" title="Notifications"><sup class="badge notification-count hide js-notification-count"></sup><i class="icon-bell lead"></i></a>\r\n		<div id="all_activities" class="tabbable tabs-below dropdown-menu pull-right js-dropdown-popup" role="menu">\r\n		  <div class="tab-content bg-info clearfix">\r\n		    <div class="col-xs-12 user-filter navbar-btn">\r\n				<span class="pull-left"><strong>'+__e(i18next.t("Activity"))+'</strong></span>\r\n				<ul class="nav nav-pills pull-right mob-no-mar">\r\n					<li id="modal-activities"><a href="#" title="'+__e(i18next.t("Filter by activities"))+'" class="text-muted"><i class="icon-time small"></i></a></li>\r\n					<li id="modal-comments"><a href="#" title="'+__e(i18next.t("Filter by comments"))+'" class="text-muted"><i class=" icon-comment-alt small"></i></a></li>\r\n				</ul>    \r\n			</div> \r\n			<div class="tab-pane js-all-activity-list notification-list vertical-scrollbar col-xs-12 border-top" id="all_">\r\n				<ul id="js-all-activities" class="list-unstyled clearfix navbar-btn"></ul> \r\n			</div>\r\n			',_.isEmpty(board_id)||(__p+='           \r\n				<div class="tab-pane js-boards-activity-list active notification-list vertical-scrollbar col-xs-12 border-top" id="board_">\r\n					<ul id="js-board-activities"  class="list-unstyled clearfix navbar-btn"></ul>\r\n				</div>        \r\n			'),__p+=" \r\n				",__p+=_.isEmpty(board_id)||0===board_id||"0"===board_id?'  \r\n				<div class="col-xs-12 border-top text-center js-load-link" id="js-load-link">\r\n					<a href="#" title="'+__e(i18next.t("View all activity"))+'" id="js-notification-load-more-all" class="js-all-load-more-all btn btn-link">'+__e(i18next.t("Load more activities"))+"</a>\r\n				</div>  \r\n				":'\r\n					<div class="col-xs-12 border-top text-center js-load-link" id="js-load-link1">\r\n						<a href="#" title="View all activity" id="js-notification-load-more" class="js-board-load-more btn btn-link">'+__e(i18next.t("Load more activities"))+'</a>\r\n					</div>\r\n					<div class="col-xs-12 border-top text-center js-load-link hide" id="js-load-link2">\r\n						<a href="#" title="'+__e(i18next.t("View all activity"))+'" id="js-notification-load-more-all" class="js-board-load-more-all btn btn-link">'+__e(i18next.t("Load more activities"))+"</a>\r\n					</div>\r\n				",__p+='\r\n			 </div>\r\n			<ul class="nav nav-tabs ',_.isEmpty(board_id)&&(__p+="hide"),__p+='"> \r\n				<li><a href="#all_" data-toggle="tab" class="js-all-activities">'+__e(i18next.t("All"))+"</a></li>\r\n				\r\n				",_.isEmpty(board_id)||0===board_id||"0"===board_id||_.isUndefined(authuser.user)||1!=authuser.user.role_id&&_.isEmpty(board.acl_links.where({slug:"view_board_activities",board_user_role_id:parseInt(board.board_user_role_id)}))||(__p+='\r\n					<li class="active"><a href="#board_" data-toggle="tab" class="js-board-activities">'+__e(i18next.t("In this board"))+"</a></li>\r\n				"),__p+="\r\n			</ul>\r\n		</div>\r\n	  </li>\r\n	  "}__p+='\r\n	 </ul>\r\n</div>\r\n<div class="hidden-blocks hide js-hidden-blocks"></div>	\r\n</div>\r\n</section>\r\n<section class="search-block-main" id="search-page-result-block"></section>\r\n'}return __p},this.JST["templates/header"]=function(obj){obj||(obj={});var __p="",__e=_.escape;Array.prototype.join;with(obj)if(_.isEmpty(current_param)||"undefined"==typeof user||"undefined"!=typeof user&&1!=user.role_id||"activities"!==current_param&&"users"!==current_param&&"roles"!==current_param&&"apps"!==current_param&&"settings"!==current_param&&"email_templates"!==current_param&&"boards"!==current_param&&"admin_boards_list"!==current_param&&"oauth_clients"!==current_param&&"board_user_roles"!==current_param&&"organization_user_roles"!==current_param){if(__p+='\r\n<div id="js-navbar-default" class="navbar navbar-default" role="navigation">\r\n  <div class="container-fluid">\r\n  <div class="row">\r\n	<div class="navbar-left">\r\n	  <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button>\r\n	  <div class="clearfix"><h2 class="navbar-left navbar-btn list-group-item-text"><span class="navbar-left"><a href="#/" title="'+__e(SITE_NAME)+'"><img src="img/logo.png" alt="[Image: '+__e(SITE_NAME)+']" title="'+__e(SITE_NAME)+'" class="img-responsive center-block"/></a></span></h1>\r\n	  </div>\r\n	</div>\r\n	<nav class="navbar-collapse collapse">\r\n	<div class="navbar-right navbar-btn h4">\r\n	  \r\n	  ',"undefined"==typeof user)__p+='\r\n	  	<ul class="nav nav-pills navbar-left">\r\n	  	',_.isEmpty(role_links.where({slug:"users_register"}))||_.isEmpty(LDAP_LOGIN_ENABLED)||"false"!==LDAP_LOGIN_ENABLED||(__p+='\r\n		<li class="',-1!=Backbone.history.fragment.indexOf("users/register")&&(__p+="active"),__p+='"><a href="#/users/register" title="'+__e(i18next.t("Register"))+'"><strong>'+__e(i18next.t("Register"))+"</strong></a></li>\r\n		 "),_.isEmpty(role_links.where({slug:"users_login"}))||(__p+='\r\n		<li class="',-1!=Backbone.history.fragment.indexOf("users/login")&&(__p+="active"),__p+='"><a href="#/users/login" title="'+__e(i18next.t("Login"))+'"><strong>'+__e(i18next.t("Login"))+"</strong></a></li>\r\n		 "),__p+="\r\n		 </ul>\r\n	 ";else{__p+=' \r\n	 	<ul class="nav nav-pills navbar-left">\r\n			<li class="';var fragment=Backbone.history.fragment,fragments=fragment.split("/");-1!=fragment.indexOf("boards")&&1==fragments.length&&(__p+="active"),__p+='"><a href="#/boards" title="'+__e(i18next.t("My Boards"))+'" class="text-muted list-group-item-text navbar-btn h4"><i class="icon-user"></i></a></li>\r\n            <li class="',-1!=Backbone.history.fragment.indexOf("boards/starred")&&(__p+="active"),__p+='"><a href="#/boards/starred" title="'+__e(i18next.t("Starred Boards"))+'" class="text-muted list-group-item-text navbar-btn h4"><i class="icon-star"></i></a></li>\r\n			<li class="',-1!=Backbone.history.fragment.indexOf("boards/closed")&&(__p+="active"),__p+='"><a href="#/boards/closed" title="'+__e(i18next.t("Closed Boards"))+'" class="text-muted list-group-item-text navbar-btn h4"><i class="icon-th-large"></i></a></li>\r\n        </ul>\r\n	 '}__p+="\r\n	  \r\n	</div>\r\n	</nav>\r\n   </div>\r\n  </div>\r\n</div>\r\n"}else"undefined"==typeof user||_.isEmpty(current_param)||"activities"!==current_param&&"users"!==current_param&&"roles"!==current_param&&"apps"!==current_param&&"settings"!==current_param&&"email_templates"!==current_param&&"admin_boards_list"!==current_param&&"oauth_clients"!==current_param&&"board_user_roles"!==current_param&&"organization_user_roles"!==current_param?__p+='\r\n<div role="navigation" class="navbar navbar-default" id="js-navbar-default">\r\n  <div class="container-fluid">\r\n  <div class="row">\r\n	<div class="navbar-left">\r\n	  \r\n	  <div class="clearfix"><h2 class="navbar-left navbar-btn list-group-item-text"><span class="navbar-left"><a title="Restyaboard1" href="#/"><img src="img/logo.png" alt="[Image: '+__e(SITE_NAME)+']" title="'+__e(SITE_NAME)+'" class="img-responsive center-block"/></a></span></h2>\r\n	  </div>\r\n	</div>\r\n	\r\n   </div>\r\n  </div>\r\n</div>\r\n':(__p+="\r\n",_.isEmpty(current_param)||"activities"!==current_param?_.isEmpty(current_param)||"users"!==current_param?_.isEmpty(current_param)||"roles"!==current_param&&"board_user_roles"!==current_param&&"organization_user_roles"!==current_param?_.isEmpty(current_param)||"apps"!==current_param?_.isEmpty(current_param)||"settings"!==current_param?_.isEmpty(current_param)||"email_templates"!==current_param?_.isEmpty(current_param)||"admin_boards_list"!==current_param?_.isEmpty(current_param)||"oauth_clients"!==current_param||(current_title=i18next.t("Developer applications")):current_title=i18next.t("Boards"):current_title=i18next.t("Email Templates"):current_title=i18next.t("Settings"):current_title=i18next.t("Apps"):current_title=i18next.t("Roles"):current_title=i18next.t("Users"):current_title=i18next.t("Activities"),__p+='\r\n\r\n<div class="container-fluid bg-primary">\r\n<div class="navbar-header">\r\n	<button data-toggle="collapse" data-target=".navbar-collapse" class="navbar-toggle" type="button"> \r\n		<span class="sr-only">'+__e(i18next.t("Toggle navigation"))+'</span> \r\n		<span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> \r\n	</button>\r\n  <div class="clearfix navbar-left"> \r\n	<h1 class="navbar-left navbar-btn mob-no-mar clearfix"><div class="navbar-left"><a href="#/" title="'+__e(SITE_NAME)+'"><img src="img/logo.png" alt="[Image: '+__e(SITE_NAME)+']" title="'+__e(SITE_NAME)+'" class="img-responsive center-block"></a></div></h1>\r\n	<ul class="list-inline navbar-left h2 navbar-btn navbar-form whitec text-center hidden-xs">\r\n            <li class="navbar-btn "><span class="h5">/</span></li>\r\n            <li><span class="icon-user h3"></span><span class="h4"> '+__e(i18next.t("Admin CP"))+'</span></li>\r\n            <li class="navbar-btn "><span class="h5">/</span></li>\r\n            <li id="js-navbar-header"><span class="h4">'+__e(current_title)+"</span></li>\r\n     </ul>\r\n	 ",_.isEmpty(current_param)||"users"!==current_param||(__p+='\r\n	 <div class="pull-left well-sm"> <div class="js-dropdown dropdown  docmodal-submenu row">\r\n              <a data-toggle="dropdown" id="dropdownMenu1" class="dropdown-toggle label" href="#"> <i class="icon-cog h3"></i></a>\r\n              <ul role="menu" class="dropdown-menu arrow">\r\n                 <li class="text-center text-muted"><strong>'+__e(i18next.t("Sort"))+'</strong></li>\r\n                 <li class="divider"></li>\r\n                 <li><a title="'+__e(i18next.t("Username"))+'" href="#" class="js-sort-by" data-field="username">'+__e(i18next.t("Username"))+'</a></li>\r\n				 <li class="dropdown-submenu inner-dropdown dropdown"> <a href="#" title="'+__e(i18next.t("Roles"))+'" data-toggle="dropdown" class="dropdown-toggle js-open-popover">'+__e(i18next.t("Roles"))+'</a>\r\n                  <ul class="dropdown-menu">\r\n				    <li class="inner-dropdown dropdown">\r\n						<a title="'+__e(i18next.t("Admin (%s)",{postProcess:"sprintf",sprintf:[this.admin_board_users]}))+'" href="#" class="js-sort-by" data-field="role_id">'+__e(i18next.t("Admin (%s)",{postProcess:"sprintf",sprintf:[this.admin_board_users]}))+'</a>\r\n					</li>\r\n                    <li class="inner-dropdown dropdown">\r\n						<a title="'+__e(i18next.t("User (%s)",{postProcess:"sprintf",sprintf:[this.normal_board_users]}))+'" href="#" class="js-sort-by" data-field="role_id">'+__e(i18next.t("User (%s)",{postProcess:"sprintf",sprintf:[this.normal_board_users]}))+'</a>\r\n					</li>\r\n                  </ul>\r\n                </li>\r\n                <li class="dropdown-submenu inner-dropdown dropdown"> <a href="#" title="'+__e(i18next.t("Login"))+'" data-toggle="dropdown" class="dropdown-toggle js-open-popover">'+__e(i18next.t("Login"))+'</a>\r\n                  <ul class="dropdown-menu">\r\n                    <li class="inner-dropdown dropdown">\r\n						<a title="'+__e(i18next.t("Login Time"))+'" href="#" class="js-sort-by" data-field="last_login_date">'+__e(i18next.t("Time"))+'</a>\r\n					</li>\r\n                    <li class="inner-dropdown dropdown">\r\n						<a title="'+__e(i18next.t("Login IP"))+'" href="#" class="js-sort-by" data-field="last_login_ip">'+__e(i18next.t("IP"))+'</a>\r\n					</li>\r\n                  </ul>\r\n                </li>\r\n                <li class="dropdown-submenu inner-dropdown dropdown"> <a href="#" title="'+__e(i18next.t("Registered"))+'" data-toggle="dropdown" class="dropdown-toggle js-open-popover">'+__e(i18next.t("Registered"))+'</a>\r\n                  <ul class="dropdown-menu">\r\n                    <li class="inner-dropdown dropdown">\r\n						<a title="'+__e(i18next.t("Time"))+'" href="#" class="js-sort-by" data-field="created">'+__e(i18next.t("Time"))+'</a>\r\n					</li>\r\n                    <li>\r\n						<a title="'+__e(i18next.t("IP"))+'" href="#" class="js-sort-by" data-field="registered_ip">'+__e(i18next.t("IP"))+'</a>\r\n					</li>\r\n                  </ul>\r\n                </li>\r\n                <li><a title="'+__e(i18next.t("Organizations Count"))+'" href="#" class="js-sort-by" data-field="joined_organization_count">'+__e(i18next.t("Organizations Count"))+'</a>\r\n				</li>\r\n                <li><a title="'+__e(i18next.t("Board Count"))+'" href="#" class="js-sort-by" data-field="joined_board_count">'+__e(i18next.t("Board Count"))+"</a>\r\n				</li>\r\n              </ul>\r\n            </div></div>\r\n				",_.isEmpty(LDAP_LOGIN_ENABLED)||"false"!==LDAP_LOGIN_ENABLED||(__p+='\r\n					<div class="pull-left well-sm"><a class="label" href="#/users/admin_user_add" title="'+__e(i18next.t("Add User"))+'"><i class="icon-plus-sign h3"></i><span class="h4">'+__e(i18next.t("Add User"))+"</span></a></div>\r\n				"),__p+="\r\n			"),__p+="\r\n			",_.isEmpty(current_param)||"oauth_clients"!==current_param||(__p+='\r\n				<div class="pull-left well-sm"><a class="label" href="#/oauth_clients/add" title="'+__e(i18next.t("New application"))+'"><i class="icon-plus-sign h3"></i><span class="h4">'+__e(i18next.t("New application"))+"</span></a></div>\r\n			"),__p+='\r\n	</div>\r\n	</div>\r\n	<nav class="navbar-collapse collapse"> \r\n	<div class="navbar-right clearfix">\r\n		<ul class="nav nav-pills navbar-left navbar-btn">\r\n			<li class="js-admin-activity-menu navbar-btn"><a title="'+__e(i18next.t("Activities"))+'" href="#/activities">'+__e(i18next.t("Activities"))+'</a></li>\r\n			<li class="js-admin-user-menu navbar-btn"><a title="'+__e(i18next.t("Users"))+'" href="#/users">'+__e(i18next.t("Users"))+'</a></li>\r\n			<li class="js-admin-board-menu navbar-btn"><a title="'+__e(i18next.t("Boards"))+'" href="#/boards/list">'+__e(i18next.t("Boards"))+'</a></li>\r\n			<li class="js-admin-role-menu navbar-btn"><a title="'+__e(i18next.t("Roles"))+'" href="#/roles">'+__e(i18next.t("Roles"))+'</a></li>\r\n			<li class="js-admin-app-menu navbar-btn"><a title="'+__e(i18next.t("Apps"))+'" href="#/apps">'+__e(i18next.t("Apps"))+'</a></li>\r\n			<li class="js-admin-client-menu navbar-btn"><a title="'+__e(i18next.t("Developer applications"))+'" href="#/oauth_clients">'+__e(i18next.t("Developer applications"))+'</a></li>\r\n			<li class="js-admin-setting-menu navbar-btn"><a title="'+__e(i18next.t("Settings"))+'" href="#/settings">'+__e(i18next.t("Settings"))+'</a></li>\r\n			<li class="js-admin-email-menu navbar-btn"><a title="'+__e(i18next.t("Email Templates"))+'" href="#/email_templates">'+__e(i18next.t("Email Templates"))+"</a></li>\r\n		</ul>\r\n	</div>\r\n	</nav>\r\n</div>\r\n");return __p},this.JST["templates/instant_card_add"]=function(obj){obj||(obj={});var __p="",__e=_.escape;Array.prototype.join;with(obj)if(0==boards.models.length||_.isEmpty(boards.models[0]))__p+="\r\n	",0==boards.models.length?__p+="\r\n 			Please add board.\r\n	":_.isEmpty(boards.models[0])&&(__p+="\r\n			Please add list.\r\n	"),__p+="\r\n";else{if(__p+='\r\n<form class="form-horizontal js-instantCardAddForm js-outside-backbone" role="form" name="CardAddForm" >\r\n	<div class="clearfix" >\r\n		<div class="form-group">\r\n			<label for="title" class="sr-only">Card Title</label>\r\n			<div class="col-xs-12">\r\n				<input type="text" class="form-control" placeholder="'+__e(i18next.t("Card Title"))+'" name="name" id="inputCardName" title="'+__e(i18next.t("Card Title"))+'" required />\r\n				<input type="hidden" value="" class="js-instant-card-user-ids" name="user_ids">\r\n			</div>\r\n		</div>\r\n		',boards.models.length>0){__p+='\r\n			<div class="form-group">\r\n				<div class="col-xs-6">\r\n					<select name="board_id"  id="board_id" class="js-chosen-select col-xs-12 js-instant-card-board" placeholder="'+__e(i18next.t("Select Board"))+'">\r\n					<option></option>\r\n					';var first_board=null;if(_.each(boards.models,function(a){!_.isEmpty(a.attributes.lists)&&a.attributes.lists.length>0&&(null===first_board&&(first_board=a),__p+='\r\n								<option value="'+__e(a.id)+'">'+__e(a.attributes.name)+"</option>\r\n						   ")}),__p+='\r\n					</select>\r\n				</div>\r\n				<div class="col-xs-6">\r\n					<select name="list_id" id="list_id" class="js-chosen-select col-xs-12 js-instant-card-add-list" placeholder="'+__e(i18next.t("Select List"))+'">\r\n					<option></option>\r\n					',null!==first_board){_.each(first_board.attributes.lists,function(a){__p+='\r\n								<option value="'+__e(a.id)+'">'+__e(a.name)+"</option>\r\n					"}),__p+="\r\n					</select>\r\n					";var position=_.max(first_board.attributes.lists,function(a){return a.position});isNaN(position.position)&&(position.position=first_board.attributes.board_lists.length),__p+="\r\n					"}__p+="\r\n				</div>\r\n			</div>\r\n		\r\n		"}__p+='\r\n		 <div class="form-group">\r\n		 	<label class="sr-only">'+__e(i18next.t("Description"))+'</label>\r\n			<div class="col-xs-12">\r\n				<textarea class="form-control" rows="3" placeholder="'+__e(i18next.t("Description"))+'" name="description" id="inputCardDescription" tile="'+__e(i18next.t("Description"))+'" required></textarea>\r\n			</div>\r\n		</div>\r\n		<div class="clearfix form-group">\r\n			<div class="col-xs-12">\r\n				<ul class="list-inline pull-left card-view-mn">\r\n					<li class="dropdown dropup">\r\n						<a title="'+__e(i18next.t("Users"))+'" class="btn btn-link dropdown-toggle js-add-member-dropdown" data-toggle="dropdown" href="#"><i class="icon-user js-instant-user text-muted"></i></a>\r\n						<ul class="dropdown-menu js-dropdown-popup arrow arrow-bottom">\r\n							<li class="js-add-member-dropdown-load js-dropdown-popup dropdown-popup js-instant-card-member-search-response">\r\n								<div class="col-xs-12 text-center clearfix"><span class="col-xs-10"><strong>'+__e(i18next.t("Members"))+'</strong></span><a href="#" class="js-close-popover pull-right"><i class="icon-remove "></i></a></div>\r\n								 <div class="col-xs-12 divider"></div>\r\n								 <div class="col-xs-12">\r\n									 <div class="form-group">\r\n									   <label class="sr-only">'+__e(i18next.t("Search Member"))+'</label>\r\n									   <div class="col-xs-12"><input type="text" autocomplete="off" id="inputInstantCardAddUserSearch" placeholder="'+__e(i18next.t("Email or Username"))+'" name="email" class="js-search-users form-control input-sm" title="'+__e(i18next.t("Email or Username"))+'"></div>\r\n									 </div>\r\n								 </div>\r\n							</li>\r\n						</ul>\r\n					</li>\r\n					<li class="duedate">\r\n						<div class="form-group">\r\n							<label for="calendar" class="control-label col-xs-12 text-right">'+__e(i18next.t("Calendar"))+'</label>\r\n							<div class="input-group">\r\n								<span class="input-group-addon"><i class="icon-calendar cur js-instant-date text-muted"></i></span>\r\n								<input type="text" id="calendar" class="form-control js-instant-duedate" name="due_date">\r\n							</div>\r\n						</div>\r\n					</li>\r\n					<li class="dropdown dropup">\r\n						<a class="btn btn-link js-show-card-label-form" data-toggle="dropdown" title="'+__e(i18next.t("Labels"))+'" href="#"><i class="icon-tag js-instant-label"></i></a>\r\n						<ul class="dropdown-menu list-unstyled js-show-instant-card-label-form-response arrow arrow-bottom"></ul>\r\n					</li>\r\n				</ul>\r\n				\r\n				<div class="pull-right">\r\n					<input type="submit" class="btn btn-primary" value="'+__e(i18next.t("Save"))+'">\r\n				</div>\r\n			</div>\r\n		</div>\r\n	</div>\r\n</form>\r\n'}return __p},this.JST["templates/instant_card_add_labels_form"]=function(obj){obj||(obj={});var __p="",__e=_.escape;with(obj)__p+='<div class="col-xs-12 text-center clearfix"><span class="col-xs-10"><strong>'+__e(i18next.t("Labels"))+'</strong></span><a href="#" class="js-close-popover pull-right "><i class="icon-remove"></i></a></div>\r\n<div class="col-xs-12 divider"></div>\r\n<div class="">\r\n	<div class="col-xs-12 full-form">\r\n		<input type="text" class="js-card-label" name="labels" />\r\n	</div>\r\n</div>';return __p},this.JST["templates/instant_card_add_members_form"]=function(obj){obj||(obj={});var __p="",__e=_.escape;with(obj)__p+='<input type="hidden" name="members" value="'+__e(user_id)+'"/>';return __p},this.JST["templates/label_delete_confirm"]=function(obj){obj||(obj={});var __p="",__e=_.escape;with(obj)__p+='<div class="clearfix text-center col-xs-12">	\r\n	<a href="#" class="js-show-labels pull-left"><i class="icon-caret-left "></i></a><span class="col-xs-10"><strong>'+__e(i18next.t("Delete Label?"))+'</strong></span><a class="js-close-popup pull-right" href="#"><i class="icon-remove "></i></a>\r\n</div>\r\n<div class="col-xs-12 divider"></div>\r\n<div class="col-xs-12">\r\n	<p>'+__e(i18next.t("There is no undo. This will remove this label from all cards and destroy its history."))+'</p>	\r\n	<a class="js-label-confirm-delete btn  btn-primary" title="'+__e(i18next.t("Delete"))+'">'+__e(i18next.t("Delete"))+"</a>\r\n</div>";return __p},this.JST["templates/list"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;Array.prototype.join;with(obj){__p+='\r\n	<div class="list-header js-list-head ',_.isUndefined(authuser.user)||(__p+="cur-grab"),__p+='">\r\n	  <div class="clearfix">\r\n		<a href="#" class="col-xs-8 ',__p+=_.isUndefined(authuser.user)||1!=authuser.user.role_id&&_.isEmpty(list.board.acl_links.where({slug:"edit_list",board_user_role_id:parseInt(list.board_user_role_id)}))?" js-no-action":"js-show-edit-list-form",__p+='"><span><span class="clearfix row show">\r\n		',_.isUndefined(TODO_COLOR)||_.isUndefined(TODO_ICON)||(__p+="\r\n			",
_.each(todo_lists,function(a){__p+="\r\n				",list.attributes.name.trim().toLowerCase()==a.trim().toLowerCase()&&(__p+='\r\n					<span><i class="'+__e(TODO_ICON)+'" style="color:'+__e(TODO_COLOR)+'" ></i></span>\r\n				'),__p+="\r\n			"}),__p+="\r\n		"),__p+="\r\n		",_.isUndefined(DOING_COLOR)||_.isUndefined(DOING_ICON)||(__p+="\r\n			",_.each(doing_lists,function(a){__p+="\r\n				",list.attributes.name.trim().toLowerCase()==a.trim().toLowerCase()&&(__p+='\r\n					<span><i class="'+__e(DOING_ICON)+'" style="color:'+__e(DOING_COLOR)+'"></i></span>\r\n				'),__p+="\r\n			"}),__p+="\r\n		"),__p+="\r\n		",_.isUndefined(DONE_COLOR)||_.isUndefined(DONE_ICON)||(__p+="\r\n			",_.each(done_lists,function(a){__p+="\r\n				",list.attributes.name.trim().toLowerCase()==a.trim().toLowerCase()&&(__p+='\r\n					<span><i class="'+__e(DONE_ICON)+'" style="color:'+__e(DONE_COLOR)+'"></i></span>\r\n				'),__p+="\r\n			"}),__p+="\r\n		"),__p+="\r\n		<strong>"+__e(list.attributes.name)+"</strong></span></span>";var is_sub_class="hide";_.isEmpty(list.subscriber.attributes)||1!=list.subscriber.attributes.is_subscribed||(is_sub_class=""),__p+='<span class="pull-right"><i class="icon-eye-open js-list-subscribed-'+__e(list.attributes.id)+" "+__e(is_sub_class)+'"></i></span></a>\r\n		',_.isUndefined(authuser.user)||1!=authuser.user.role_id&&_.isEmpty(list.board.acl_links.where({slug:"edit_list",board_user_role_id:parseInt(list.board_user_role_id)}))||(__p+='\r\n		<form role="form" class="form-horizontal js-edit-list hide">\r\n			<div class="form-group">\r\n			  <label class="col-sm-4 control-label hide" for="inputListName">'+__e(i18next.t("Name"))+'</label>\r\n			  <div class="col-sm-12">\r\n					<input type="text" maxlength="255" autocomplete="off" id="inputListName" name="name" title="'+__e(i18next.t("Whitespace alone not allowed"))+'" required pattern=".*\\S+.*" value="'+__e(list.attributes.name)+'" class="form-control"/>\r\n				</div>\r\n			</div>\r\n			<div class="form-group">\r\n				<label class="sr-only col-sm-4 control-label hide" for="submit2">'+__e(i18next.t("Submit"))+'</label>\r\n				<div class="col-sm-12">\r\n					<input type="submit" name="Save" class="btn btn-primary" value="'+__e(i18next.t("Save"))+'" />\r\n					<i class="icon-remove js-hide-edit-list-form btn btn-link cur" title="'+__e(i18next.t("Cancel"))+'"></i>\r\n				</div>\r\n			</div>\r\n		</form>\r\n		'),__p+="\r\n		",_.isUndefined(authuser.user)||(__p+='\r\n		<div class="pull-right col-xs-4 clearfix">\r\n			<div class="dropdown">\r\n			<a href="#" class="dropdown-toggle pull-right js-show-list-actions" id="js-show-list-actions-'+__e(list.attributes.id)+'" data-toggle="dropdown" title="'+__e(i18next.t("List Actions"))+'" data-list-id="'+__e(list.attributes.id)+'"><i class="icon-cog text-primary"></i></a>\r\n			</div>\r\n			<div class="dropdown right-mar">\r\n			<a href="#" class="dropdown-toggle pull-right js-show-sort-form right-mar" id="js-show-sort-form-'+__e(list.attributes.id)+'" data-toggle="dropdown" title="'+__e(i18next.t("Sort"))+'" data-list-id="'+__e(list.attributes.id)+'"><i class="icon-sort text-primary"></i></a>\r\n			<ul class="dropdown-menu dropdown-menu-left arrow arrow-left dropdown-menu-top js-sort-list-response right-mar">\r\n				 <li class="text-center"><strong>'+__e(i18next.t("Sort"))+'</strong></li>\r\n				 <li class="divider"></li>\r\n				 <li><a title="'+__e(i18next.t("Votes"))+'" href="#" class="js-sort-by" data-sort-by="card_voter_count">'+__e(i18next.t("Votes"))+'</a></li>\r\n				 <li><a title="'+__e(i18next.t("Attachments"))+'" href="#" class="js-sort-by" data-sort-by="attachment_count">'+__e(i18next.t("Attachments"))+'</a></li>\r\n				 <li><a title="'+__e(i18next.t("Comments"))+'" href="#" class="js-sort-by" data-sort-by="comment_count">'+__e(i18next.t("Comments"))+'</a>\r\n				 </li>\r\n				 <li><a title="'+__e(i18next.t("Checklist pending count"))+'" href="#" class="js-sort-by" data-sort-by="checklist_item_count">'+__e(i18next.t("Checklist pending count"))+'</a>\r\n				 </li>\r\n				 <li><a title="'+__e(i18next.t("Checklist completed count"))+'" href="#" class="js-sort-by" data-sort-by="checklist_item_completed_count">'+__e(i18next.t("Checklist completed count"))+'</a>\r\n				 </li>\r\n				 <li><a title="'+__e(i18next.t("Due date"))+'" href="#" class="js-sort-by" data-sort-by="due_date">'+__e(i18next.t("Due date"))+"</a>\r\n				 </li>\r\n			 </ul>\r\n			</div>\r\n		</div>\r\n		"),__p+='\r\n	  </div>\r\n	</div>\r\n	<div class="list-content vertical-scrollbar vertical-scrollbar-box js-board-list-cards" id="js-card-listing-'+__e(list.attributes.id)+'">\r\n	</div>\r\n	',_.isUndefined(authuser.user)||1!=authuser.user.role_id&&_.isEmpty(list.board.acl_links.where({slug:"add_card",board_user_role_id:parseInt(list.board_user_role_id)}))||(__p+='\r\n		<div class="list-footer clearfix">\r\n			<div class="pull-left"><a href="#" title="'+__e(i18next.t("Add a card"))+'" class="js-show-add-card-form js-bottom text-muted">'+__e(i18next.t("Add a card"))+'</a></div>\r\n<div class="js-card-add-form-'+(null==(__t=list.attributes.id)?"":__t)+'"></div>			\r\n		</div>\r\n	'),__p+="	\r\n  "}return __p},this.JST["templates/list_actions"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;Array.prototype.join;with(obj){var is_subscribed='<i class="icon-ok hide"></i>',subscribe_class="js-list-subscribe",subscribe=subscribers.findWhere({user_id:parseInt(authuser.id),is_subscribed:1}),subscribe_id="";if(_.isEmpty(subscribe)||1!==parseInt(subscribe.attributes.is_subscribed)||(is_subscribed='<i class="icon-ok"></i>',subscribe_class="js-list-unsubscribe",subscribe_id=subscribe.attributes.id),__p+='\r\n<li class="text-center"><strong>'+__e(i18next.t("List Actions"))+'</strong><a class="pull-right"><i class=" icon-remove"></i></a></li>\r\n<li class="divider"></li>\r\n',_.isUndefined(authuser)||1!=authuser.role_id&&_.isEmpty(list.collection.board.acl_links.where({slug:"add_card",board_user_role_id:parseInt(list.board_user_role_id)}))||(__p+='\r\n	<li><a href="#" title="'+__e(i18next.t("Add Card"))+'" class="js-show-add-card-form">'+__e(i18next.t("Add Card"))+"</a></li>\r\n"),__p+="	\r\n",_.isUndefined(authuser)||1!=authuser.role_id&&_.isEmpty(list.collection.board.acl_links.where({slug:"add_list",board_user_role_id:parseInt(list.board_user_role_id)}))||is_offline_data||(__p+='\r\n	<li class="js-hide-on-offline"><a href="#" title="'+__e(i18next.t("Copy List"))+'" class="js-show-copy-list-form">'+__e(i18next.t("Copy List"))+"</a></li>\r\n"),__p+="	\r\n",_.isUndefined(authuser)||1!=authuser.role_id&&_.isEmpty(list.collection.board.acl_links.where({slug:"edit_list",board_user_role_id:parseInt(list.board_user_role_id)}))||(__p+='\r\n	<li><a href="#" title="'+__e(i18next.t("Move List"))+'" class="js-show-move-list-form" data-list-id="'+__e(list.id)+'">'+__e(i18next.t("Move List"))+"</a></li>\r\n"),__p+="\r\n",!_.isUndefined(authuser)&&(1==authuser.role_id||!_.isEmpty(list.collection.board.acl_links.where({slug:"subscribe_list",board_user_role_id:parseInt(list.board_user_role_id)}))&&_.isEmpty(subscribe)||!_.isEmpty(list.collection.board.acl_links.where({slug:"unsubscribe_list",board_user_role_id:parseInt(list.board_user_role_id)}))&&!_.isEmpty(subscribe)||!_.isEmpty(role_links.where({slug:"subscribe_list"}))&&2==list.collection.board.attributes.board_visibility)){__p+="\r\n	";var subscribe_disabled="",subscribe_title=i18next.t("Subscribe"),subscribed=list.collection.board.board_subscribers.findWhere({user_id:parseInt(authuser.id),is_subscribed:1});subscribed&&(subscribe_disabled="disabled",subscribe_title=i18next.t("Board wise subscription already enabled")),__p+='\r\n	<li class="'+(null==(__t=subscribe_disabled)?"":__t)+'"><a href="#" title="'+__e(subscribe_title)+'" class="highlight-icon '+(null==(__t=subscribe_class)?"":__t)+'" data-list-id="'+__e(list.id)+'" data-subscribe-id="'+__e(subscribe_id)+'"><span class="js-subscribe-text">'+__e(i18next.t("Subscribe")),!_.isEmpty(subscribe)&&1===parseInt(subscribe.attributes.is_subscribed),__p+="</span> "+(null==(__t=is_subscribed)?"":__t)+"</a></li>\r\n"}__p+='	\r\n<li class="divider"></li>\r\n',_.isUndefined(authuser)||1!=authuser.role_id&&_.isEmpty(list.collection.board.acl_links.where({slug:"move_list_cards",board_user_role_id:parseInt(list.board_user_role_id)}))||(__p+='\r\n	<li><a href="#" title="'+__e(i18next.t("Move All Cards in This List"))+'" class="js-show-move-card-list-form" data-list-id="'+__e(list.id)+'">'+__e(i18next.t("Move All Cards in This List"))+"</a></li>\r\n"),__p+="\r\n",_.isUndefined(authuser)||1!=authuser.role_id&&_.isEmpty(list.collection.board.acl_links.where({slug:"edit_list",board_user_role_id:parseInt(list.board_user_role_id)}))||(__p+='\r\n	<li><a href="#" title="'+__e(i18next.t("Archive All Cards in this List"))+'" class="js-show-confirm-archive-cards" data-list-id="'+__e(list.id)+'">'+__e(i18next.t("Archive All Cards in this List"))+"</a></li>\r\n"),__p+='\r\n<li class="divider"></li>\r\n<li><a href="#" title="'+__e(i18next.t("Show Attachments"))+'" class="js-show-list-modal">'+__e(i18next.t("Show Attachments"))+"</a></li>\r\n",_.isUndefined(authuser)||1!=authuser.role_id&&_.isEmpty(list.collection.board.acl_links.where({slug:"archive_list",board_user_role_id:parseInt(list.board_user_role_id)}))||(__p+='\r\n	<li><a href="#" title="'+__e(i18next.t("Archive This List"))+'" class="js-show-confirm-archive-list" data-list-id="'+__e(list.id)+'">'+__e(i18next.t("Archive This List"))+"</a></li>\r\n"),__p+="\r\n",_.isUndefined(authuser)||1!=authuser.role_id&&_.isEmpty(list.collection.board.acl_links.where({slug:"delete_list",board_user_role_id:parseInt(list.board_user_role_id)}))||(__p+='\r\n<li><a href="#" title="'+__e(i18next.t("Delete this List"))+'" class="js-show-confirm-list-delete" data-list-id="'+__e(list.id)+'"><i class="icon-sm icon-warning-sign icon-type text-primary"></i>'+__e(i18next.t("Delete this List"))+"</a></li>\r\n")}return __p},this.JST["templates/list_add"]=function(obj){obj||(obj={});var __p="",__e=_.escape;with(obj)__p+='<div class="list js-list-form well ">\r\n	<a href="#" class="js-show-add-list-form toggle-show text-muted" title="'+__e(i18next.t("Add a list"))+'">'+__e(i18next.t("Add a list"))+'</a>\r\n	<span class="hide"></span>\r\n	<form class="js-add-list">\r\n		<div class="form-group required">\r\n			<label for="inputListName" class="hide">'+__e(i18next.t("Name"))+'</label>\r\n			<input maxlength="255" type="text" id="inputListName" name="name" autocomplete="off" class="form-control input-sm"placeholder="Add a list" required />\r\n		</div>\r\n		<div class="submit">\r\n			\r\n			<input type="submit" name="Save" class="btn btn-primary" value="Save"/>\r\n			<i class="icon-remove js-hide-add-list-form btn btn-link cur" title="'+__e(i18next.t("Cancel"))+'"></i>\r\n		</div>\r\n	</form>\r\n</div>';return __p},this.JST["templates/list_archive_confirm"]=function(obj){obj||(obj={});var __p="",__e=_.escape;with(obj)__p+='<div class="clearfix text-center col-xs-12">\r\n	<a href="#" class="js-back-to-list-actions pull-left" data-list-id="'+__e(list.id)+'"><i class="icon-caret-left "></i></a><span class="col-xs-10"><strong>'+__e(i18next.t("Archive This List"))+'</strong></span><a class="js-close-popup pull-right" href="#"><i class="icon-remove "></i></a>\r\n</div>\r\n<div class="col-xs-12 divider"></div>\r\n<div class="col-xs-12">\r\n	<p>'+__e(i18next.t('This will remove list from the board. To view archived lists and bring them back to the board, click "Settings" > "Archived Items" > "Switch to lists".'))+'</p>\r\n	<a class="js-archive-list btn  btn-primary" title="'+__e(i18next.t("Archive"))+'" data-list-id="'+__e(list.id)+'">'+__e(i18next.t("Archive"))+"</a>\r\n</div>";return __p},this.JST["templates/list_cards_archive_confirm"]=function(obj){obj||(obj={});var __p="",__e=_.escape;with(obj)__p+='<div class="clearfix text-center col-xs-12">	\r\n		<a href="#" class="js-back-to-list-actions pull-left" data-list-id="'+__e(list.id)+'"><i class="icon-caret-left "></i></a><span class="col-xs-10"><strong>'+__e(i18next.t("Archive All Cards in this List"))+'?</strong></span><a class="js-close-popup pull-right" href="#"><i class="icon-remove "></i></a></span></h4>\r\n</div>\r\n<div class="col-xs-12 divider"></div>\r\n<div class="col-xs-12">\r\n	<p>'+__e(i18next.t('This will remove all the cards in this list from the board. To view archived cards and bring them back to the board, click "Menu" > "Archived Items".'))+' </p>\r\n	<a class="js-archive-card btn  btn-primary" title="'+__e(i18next.t("Archive All"))+'" data-list-id="'+__e(list.id)+'">'+__e(i18next.t("Archive All"))+"</a>\r\n</div>";return __p},this.JST["templates/list_delete_confirm"]=function(obj){obj||(obj={});var __p="",__e=_.escape;with(obj)__p+='<div class="clearfix text-center col-xs-12">	\r\n	<a href="#" class="js-back-to-list-actions pull-left" data-list-id="'+__e(list.id)+'"><i class="icon-caret-left "></i></a><span class="col-xs-10"><strong>'+__e(i18next.t("Delete this List"))+'</strong></span><a class="js-close-popup pull-right" href="#"><i class="icon-remove "></i></a>\r\n</div>\r\n<div class="col-xs-12 divider"></div>\r\n<div class="col-xs-12">\r\n	<p>'+__e(i18next.t("This will remove list from the board. You can't undo the list after delete."))+'</p>	\r\n	<a class="js-delete-list btn  btn-primary" title="'+__e(i18next.t("Delete List"))+'" data-list-id="'+__e(list.id)+'">'+__e(i18next.t("Delete"))+"</a>\r\n</div>";return __p},this.JST["templates/login"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;Array.prototype.join;with(obj)__p+='<div class="col-lg-4 col-md-4 col-sm-6 col-xs-12 col-lg-offset-4 col-md-offset-4 col-sm-offset-3">\r\n	<div class="panel panel-default">\r\n		 <div class="panel-heading lead">\r\n			'+__e(i18next.t("Login"))+'\r\n		 </div>\r\n		 <div class="panel-body well-lg">\r\n			<form class="form-horizontal clearfix col-xs-12" role="form" name="UserLoginForm" id="UserLoginForm">\r\n				<div class="form-group">\r\n					',_.isEmpty(LDAP_LOGIN_ENABLED)||"true"!=LDAP_LOGIN_ENABLED||_.isEmpty(STANDARD_LOGIN_ENABLED)||"true"!==STANDARD_LOGIN_ENABLED?_.isEmpty(LDAP_LOGIN_ENABLED)||"true"!=LDAP_LOGIN_ENABLED?loginPlaceholder=i18next.t("Email or Username"):loginPlaceholder=i18next.t("LDAP Login"):loginPlaceholder=i18next.t("Email or Username or LDAP Login"),__p+='\r\n				  <label for="inputEmail" class="sr-only control-label">'+__e(i18next.t("Email or Username"))+'</label>\r\n				  <input type="text" placeholder="'+(null==(__t=loginPlaceholder)?"":__t)+'" class="form-control" id="inputEmail" name="email"  title="'+(null==(__t=loginPlaceholder)?"":__t)+'" required/>\r\n				</div>\r\n				<div class="form-group">\r\n				  <label for="inputPassword" class="sr-only control-label">'+__e(i18next.t("Password"))+'</label>\r\n				  <input type="password" placeholder="'+__e(i18next.t("Password"))+'" class="form-control" id="inputPassword" name="password" title="'+__e(i18next.t("Password"))+'" required/>\r\n				</div>\r\n				<div class="form-group">\r\n				  <label for="submit2" class="sr-only control-label">'+__e(i18next.t("Login"))+'</label>\r\n				  <input type="submit" class="btn btn-primary col-xs-12" value="'+__e(i18next.t("Login"))+'" id="submitLogin" />\r\n				</div>\r\n				<ul class="list-inline small text-center">\r\n				  ',_.isEmpty(role_links.where({slug:"users_forgotpassword"}))||(__p+='\r\n					<li><a href="#/users/forgotpassword" title="'+__e(i18next.t("Forgot your password"))+'?" class="text-primary">'+__e(i18next.t("Forgot your password"))+"?</a></li>\r\n			      "),__p+="\r\n				</ul>\r\n		  </form>\r\n		 </div>\r\n	</div>\r\n</div>";return __p},this.JST["templates/modal_activity_view"]=function(obj){obj||(obj={});var __p="",__e=_.escape;Array.prototype.join;with(obj)__p+='<div class="modal fade" id="modalActivityView" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">\r\n	<div class="modal-dialog">\r\n		  <div class="modal-content">\r\n			<div class="modal-header clearfix">\r\n			  <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>\r\n			  <span class="col-xs-10"><strong>',__p+=__e("board"==type?i18next.t("Board"):i18next.t("User")),__p+=__e(i18next.t("Activity"))+'</strong></span>			  \r\n			</div>			\r\n			<div class="modal-body scrollbar clearfix">												\r\n				<div class="clearfix">\r\n				<ul class="list-unstyled" id="js-activities-list"></ul>\r\n				</div>\r\n				<div class="clearfix text-center">\r\n				<a href="#" class="js-load-more hide">'+__e(i18next.t("Load more activities"))+"</a>\r\n				</div>\r\n			</div>\r\n		  </div><!-- /.modal-content -->\r\n    </div>\r\n</div>";return __p},this.JST["templates/modal_card_member_form"]=function(obj){obj||(obj={});var __p="",__e=_.escape;Array.prototype.join;with(obj)__p+='<li class="clearfix text-center col-xs-12">\r\n	<span class="col-xs-10"><strong>'+__e(i18next.t("Members"))+'</strong></span><a class="js-close-popup pull-right" href="#"><i class="icon-remove"></i></a>		\r\n</li>\r\n<li class="col-xs-12 divider"></li>\r\n',board_users.each(function(a){var b=users.findWhere({card_id:card.id,user_id:a.get("user_id")});__p+=_.isUndefined(b)?'\r\n	   <li><a href="#" class="highlight-icon js-add-card-member" data-toggle="tooltip" title="'+__e(a.attributes.full_name)+" ("+__e(a.attributes.username)+')" data-user-id="'+__e(a.get("user_id"))+'" data-user-name="'+__e(a.get("username"))+'" data-user-fullname="'+__e(a.get("full_name"))+'" data-user-initial="'+__e(a.get("initials"))+'" data-user-profile-picture-path="'+__e(a.get("profile_picture_path"))+'" >'+__e(a.get("username"))+"</a></li>\r\n  ":'\r\n		<li><a href="#" class="highlight-icon js-remove-card-member" data-card-user-id="'+__e(b.id)+'"><i class="avatar avatar-color-194 img-rounded" title="'+__e(a.get("full_name"))+" ("+__e(a.get("username"))+')">'+__e(a.get("initials"))+__e(a.get("username"))+'</i></a> <i class="icon-ok"></i></li>\r\n'}),__p+=" ";return __p},this.JST["templates/modal_card_view"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;Array.prototype.join;with(obj){if(__p+='<section class="row js-card-dock-modal-'+__e(card.attributes.id)+' js-card-container" id="dropzone'+__e(card.attributes.id)+'">\r\n  <div class="pull-right js-attachment-loader"></div>\r\n  <div class="clearfix col-xs-12">\r\n  <h3 class="navbar-btn"> <span class="icon-credit-card text-muted"></span> <a href="" title="'+__e(card.attributes.name)+'" class="',__p+=_.isUndefined(authuser.user)||1!=authuser.user.role_id&&_.isEmpty(card.list.collection.board.acl_links.where({slug:"edit_card",board_user_role_id:parseInt(list.board_user_role_id)}))?" js-no-action":"js-show-card-title-edit-form",__p+='">'+__e(card.attributes.name)+"</a><small>"+__e(i18next.t("in list"))+'</small><span class="dropdown"><a class="dropdown-toggle ',__p+=_.isUndefined(authuser.user)||1!=authuser.user.role_id&&_.isEmpty(card.list.collection.board.acl_links.where({slug:"move_list_cards",board_user_role_id:parseInt(list.board_user_role_id)}))?"js-no-action":"js-show-move-card-form",__p+='" data-toggle="dropdown" title="'+__e(list.attributes.name)+'" href="#">'+__e(list.attributes.name)+"</a>\r\n  ",_.isUndefined(authuser.user)||(__p+='\r\n	<ul class="dropdown-menu arrow col-xs-12 panel-body">\r\n		<li class="col-xs-12 clearfix text-center"><div> <span class="col-xs-10"><strong>'+__e(i18next.t("Move Card"))+'</strong></span><a class="js-close-popover pull-right" href="#"><i class="icon-remove "></i></a></div></li>\r\n		<li class="col-xs-12 divider"></li>\r\n		<li class="col-xs-12">\r\n		<form role="form" class="js-move-card" name="MoveCardForm" id="MoveCardForm">\r\n		  <div class="js-show-move-card-form-response"> </div>\r\n		  <div class="form-group clearfix panel-body">\r\n			<label class="sr-only">'+__e(i18next.t("Move"))+'</label>\r\n			<input type="submit" id="submitListMove" class="btn btn-primary col-xs-12" value="'+__e(i18next.t("Move"))+'" />\r\n		  </div>\r\n		</form>\r\n	  </li>\r\n	</ul>\r\n	'),__p+="\r\n	</span>\r\n	",!_.isUndefined(authuser)&&!_.isUndefined(authuser.user))var cards_subscribers=card.cards_subscribers.where({is_subscribed:1,user_id:parseInt(authuser.user.id)});var subscribed="";if(_.isUndefined(cards_subscribers)||_.isEmpty(cards_subscribers)||(__p+='\r\n	<span class="icon-eye-open"></span>\r\n	'),__p+='\r\n  </h3>\r\n  <div class="clearfix navbar-btn row">\r\n	  <div class="splitter-wrap editor ui-resizable" >\r\n		<div class="col-xs-12">\r\n			<ul class="list-unstyled navbar-btn row">\r\n			  <li class="list-group-item list-group-item-info clearfix">\r\n				<div class="list-group-item-heading">\r\n				  \r\n				  ',_.isUndefined(authuser.user)||1!=authuser.user.role_id&&_.isEmpty(card.list.collection.board.acl_links.where({slug:"edit_card",board_user_role_id:parseInt(list.board_user_role_id)}))||(__p+='\r\n				  <form role="form" class="form-horizontal hide js-card-edit-form" name="cardTitleEditForm" id="cardTitleEditForm">\r\n					<div class="form-group">\r\n					  <div class="col-sm-11">\r\n						<textarea rows="4" id="inputCardName" name="name" required  class="form-control">'+__e(card.attributes.name)+'</textarea>\r\n					  </div>\r\n					</div>\r\n					<div class="form-group">\r\n					  <div class="col-sm-8">\r\n						<input type="submit" value="'+__e(i18next.t("Save"))+'" id="submitCardTitleEditForm" class="btn btn-primary">\r\n						<a class="js-cancel-card-title-edit btn btn-link"><i class="icon-remove"></i></a> </div>\r\n					</div>\r\n				  </form>\r\n				  '),__p+='\r\n				</div>\r\n				<ul class="list-group-item-text list-inline clearfix">\r\n				  <li class="mar-bottom">\r\n					<h4 class="text-muted list-group-item-heading">'+__e(i18next.t("Members"))+'</h4>\r\n					<ul class="list-inline clearfix" id="js-card-users-list-'+__e(card.attributes.id)+'">\r\n					',_.isUndefined(authuser.user)||(__p+='\r\n					  <li id="js-card-user-add-container">\r\n						<div class="dropdown js-member-dropdown"> \r\n						',_.isUndefined(authuser.user)||1!=authuser.user.role_id&&_.isEmpty(card.list.collection.board.acl_links.where({slug:"add_card_user",board_user_role_id:parseInt(list.board_user_role_id)}))||(__p+='\r\n						<a class="dropdown-toggle js-show-add-member-form btn btn-default" role="button" data-toggle="dropdown" title="'+__e(i18next.t("Add Member"))+'" href="#"> <i class="icon-plus"></i> </a>\r\n						'),__p+='\r\n						  <ul class="dropdown-menu dropdown-menu-left arrow col-xs-12">\r\n							<li> <div class="clearfix text-center col-xs-12"><span class="col-xs-10"><strong>'+__e(i18next.t("Members"))+'</strong></span><i class="icon-remove cur"></i></div></li>\r\n							<li class="col-xs-12 divider"></li>\r\n							<li class="col-xs-12">\r\n							  <form method="post" class="text-center" name="addMember">\r\n								<div class="form-group">\r\n								  <label class="sr-only">'+__e(i18next.t("Search Member"))+'</label>\r\n								  <input type="text" autocomplete="off" id="inputOrganizationUserSearch" placeholder="'+__e(i18next.t("Search Members"))+'" name="email" required class="js-search-users form-control input-sm" title="'+__e(i18next.t("Search Members"))+'">\r\n								</div>\r\n							  </form>\r\n							</li>\r\n							<li class="js-organization-member-search-response col-xs-12 small">'+__e(i18next.t("Search for a person in %s by name or email address.",{postProcess:"sprintf",sprintf:[SITE_NAME]}))+"</li>\r\n						  </ul>\r\n						</div>\r\n					  </li>\r\n					  "),__p+="\r\n					</ul>\r\n				  </li>\r\n				  ",_.isUndefined(authuser.user)||1!=authuser.user.role_id&&_.isEmpty(card.list.collection.board.acl_links.where({slug:"view_card_labels",board_user_role_id:parseInt(list.board_user_role_id)}))||(__p+='\r\n				  <li class="mar-bottom">\r\n					<h4 class="text-muted list-group-item-heading">'+__e(i18next.t("Labels"))+'</h4>\r\n					<ul class="list-inline clearfix js-card-labels-list">\r\n					',_.isUndefined(authuser.user)||(__p+='\r\n					  <li>\r\n						<div class="dropdown js-label-dropdown">\r\n						',_.isUndefined(authuser.user)||1!=authuser.user.role_id&&_.isEmpty(card.list.collection.board.acl_links.where({slug:"delete_labels",board_user_role_id:parseInt(list.board_user_role_id)}))||(__p+='\r\n							<a class="dropdown-toggle js-show-card-label-form btn btn-default" role="button" data-toggle="dropdown" title="'+__e(i18next.t("Add new Labels"))+'" href="#"> <i class="icon-plus"></i></a>'),__p+='\r\n						  <ul class="dropdown-menu dropdown-menu-left arrow col-xs-12 js-show-card-label-form-response">\r\n						  </ul>\r\n						</div>\r\n					  </li>\r\n					  '),__p+="\r\n					</ul>\r\n				  </li>\r\n				  "),__p+=" \r\n				  ",!_.isEmpty(card.card_voters)){if(__p+='\r\n					  <li class="mar-bottom">\r\n						<h4 class="text-muted list-group-item-heading">'+__e(i18next.t("Votes"))+'</h4>\r\n						<ul class="list-inline clearfix">\r\n						',!(_.isUndefined(authuser.user)||1!=authuser.user.role_id&&_.isEmpty(card.list.collection.board.acl_links.where({slug:"vote_card",board_user_role_id:parseInt(list.board_user_role_id)}))&&_.isEmpty(card.list.collection.board.acl_links.where({slug:"unvote_card",board_user_role_id:parseInt(list.board_user_role_id)})))){if(__p+="\r\n						<li>\r\n							  ",!_.isUndefined(authuser)&&!_.isUndefined(authuser.user)){var voted_user=card.card_voters.findWhere({user_id:parseInt(authuser.user.id)});__p+="\r\n							",_.isEmpty(voted_user)?(__p+="\r\n							  ",_.isUndefined(authuser.user)||1!=authuser.user.role_id&&_.isEmpty(card.list.collection.board.acl_links.where({slug:"vote_card",board_user_role_id:parseInt(list.board_user_role_id)}))||(__p+='\r\n							  <button type="button" class="btn btn-primary js-add-card-vote"><i class=" icon-thumbs-up"></i></button> \r\n							  '),__p+="  \r\n							  "):(__p+="\r\n							  ",_.isUndefined(authuser.user)||1!=authuser.user.role_id&&_.isEmpty(card.list.collection.board.acl_links.where({slug:"unvote_card",board_user_role_id:parseInt(list.board_user_role_id)}))||(__p+='\r\n							  <button type="button" class="btn btn-default active js-delete-card-vote"><i class="  icon-thumbs-up"></i></button>  \r\n							  '),__p+="\r\n							  ")}__p+="         \r\n					   </li>\r\n		          "}__p+='\r\n					  \r\n					  <li class="dropdown"><a href="#" title="'+__e(i18next.t("Add Vote"))+'" class="btn btn-default js-show-card-voters-list dropdown-toggle" data-toggle="dropdown">'+__e(i18next.t("{{count}} Vote",{count:card.card_voters.length}))+'</a>\r\n						<ul class="dropdown-menu dropdown-menu-left arrow js-show-card-voters-list-response">\r\n						</ul>\r\n					  </li>\r\n					</ul>\r\n				  </li>\r\n				  '}if(__p+="\r\n				  ",!(_.isUndefined(authuser.user)||1!=authuser.user.role_id&&_.isEmpty(card.list.collection.board.acl_links.where({slug:"edit_card",board_user_role_id:parseInt(list.board_user_role_id)})))){if(__p+="\r\n				  ",!_.isEmpty(card.attributes.due_date)&&"NULL"!=card.attributes.due_date){__p+='\r\n				  <li class="">\r\n					<h4 class="text-muted list-group-item-heading">'+__e(i18next.t("Due Date"))+'</h4>\r\n					<ul class="list-inline clearfix">\r\n					';var date_time=card.attributes.due_date.split("T");date_time=date_time[0].split(" "),__p+='\r\n					  <li class="dropdown"> <a class="btn btn-default dropdown-toggle ',__p+=_.isUndefined(authuser.user)?"js-no-action ":"js-edit-card-due-date-form",__p+='" role="button" data-toggle="dropdown" title="'+__e(i18next.t("Due Date"))+'" href="#">'+(null==(__t=dateFormat(date_time[0],"mediumDate"))?"":__t)+"</a>\r\n					  ",_.isUndefined(authuser.user)||(__p+='\r\n						<ul class="dropdown-menu arrow col-xs-12 panel-body">\r\n						  <li>\r\n							<h4 class="text-center">'+__e(i18next.t("Due Date"))+'</h4>\r\n						  </li>\r\n						  <li class="divider"></li>\r\n						  <li class="js-edit-card-due-date-form-response">\r\n							<form class="form-horizontal clearfix js-card-edit-form" name="cardDueDateEditForm" id="cardDueDateEditForm">\r\n							</form>\r\n						  </li>\r\n						</ul>\r\n						'),__p+="\r\n					  </li>\r\n					</ul>\r\n				  </li>\r\n				  "}__p+="\r\n				  "}if(__p+='\r\n				</ul>\r\n					<div class="list-group-item-text clearfix">\r\n					  <h4 class="text-muted">'+__e(i18next.t("Description"))+" \r\n					  ",_.isUndefined(authuser.user)||1!=authuser.user.role_id&&_.isEmpty(card.list.collection.board.acl_links.where({slug:"edit_card",board_user_role_id:parseInt(list.board_user_role_id)}))||(__p+='\r\n						  <a href="#" class="',__p+=_.isUndefined(authuser.user)?"js-no-action":"js-show-card-desc-edit-form",__p+='" title="'+__e(i18next.t("Edit"))+'">\r\n					  ',_.isUndefined(authuser.user)||(__p+='\r\n						<i class="icon-pencil"></i>\r\n					   '),__p+="\r\n					  </a>\r\n					  "),__p+="\r\n					  </h4>\r\n					  ",_.isEmpty(card.attributes.description)||(__p+='\r\n					  <p class="js-show-card-desc">'+(null==(__t=converter.makeHtml(_.escape(card.attributes.description)))?"":__t)+"</p>\r\n					  "),__p+="\r\n					   ",_.isUndefined(authuser.user)||(__p+='\r\n					  <form class="hide js-card-edit-form" name="cardDescriptionEditForm" id="cardDescriptionEditForm">\r\n						<div class="form-group required">\r\n						  <textarea rows="4" id="inputCarddescription" name="description" class="form-control" required>'+__e(card.attributes.description)+'</textarea>\r\n						</div>\r\n						<div class="submit panel-body">\r\n						  <input type="submit" value="'+__e(i18next.t("Save"))+'" id="submitCardDescriptionEditForm" class="btn btn-primary">\r\n						  <a class="js-cancel-card-description-edit"><i class="icon-remove btn btn-link"></i></a> </div>\r\n					  </form>\r\n					  '),__p+='\r\n					</div>\r\n\r\n				<div id="js-card-checklists"></div>\r\n				',_.isEmpty(card.attachments)||(__p+='\r\n				<div class="list-group-item-heading clearfix">\r\n				  <h3 class="pull-left"> <span class="pull-left"><i class="icon-paper-clip lead"></i></span>'+__e(i18next.t("Attachment"))+'</h3>\r\n				</div>\r\n				<div class="list-group-item-text clearfix">\r\n				  <ul class="list-unstyled clearfix attachment-list" id="js-card-attachments-list"></ul>\r\n				  ',_.isUndefined(authuser.user)||1!=authuser.user.role_id&&_.isEmpty(card.list.collection.board.acl_links.where({slug:"add_card_attachment",board_user_role_id:parseInt(list.board_user_role_id)}))||(__p+='\r\n				  <div class="clearfix dropdown"> \r\n				  ',_.isUndefined(authuser.user)||(__p+='\r\n				  <a class="dropdown-toggle btn-link h4 js-load-dropbox" role="button" data-toggle="dropdown" title="'+__e(i18next.t("Add an attachment"))+'" href="#"> <span class="text-muted panel-title" >'+__e(i18next.t("Add an attachment"))+"</span> </a>\r\n				  "),__p+='\r\n					<ul class="dropdown-menu arrow col-xs-3">\r\n						<li class="col-xs-12 clearfix text-center"> <div><span class="col-xs-10"><strong>'+__e(i18next.t("Attach From..."))+'</strong></span><a class="js-close-popover pull-right" href="#"><i class="icon-remove "></i></a></div> </li>\r\n						<li class="col-xs-12 divider"></li>\r\n						<li class="col-xs-12"><a href="#" title="'+__e(i18next.t("Computer"))+'" class="js-attachment-computer-open row">'+__e(i18next.t("Computer"))+'</a></li>\r\n						<li class="col-xs-12"><a href="#" title="'+__e(i18next.t("Dropbox"))+'" class="js-attachment-dropbox-open row">'+__e(i18next.t("Dropbox"))+'</a></li>\r\n						<li class="col-xs-12 divider"></li>\r\n						<li class="col-xs-12">\r\n						  <span class="col-xs-10 sr-only">'+__e(i18next.t("Attach a Link"))+'</span>\r\n						  <form class="js-card-attachment-link-form col-xs-12" method="post" role="form">\r\n							<div class="form-group row">  \r\n							  <input type="url" id="AttachList" class="form-control input-sm" name="image_link" placeHolder="'+__e(i18next.t("Paste any link here"))+'" title="'+__e(i18next.t("Whitespace alone not allowed"))+'" required pattern=".*\\S+.*">\r\n							</div>\r\n							<div class="form-group row">\r\n							  <input type="submit" value="'+__e(i18next.t("Submit"))+'" id="submit2" class="btn btn-primary btn-sm">\r\n							</div>\r\n							<span class="help-block row small">'+__e(i18next.t("Tip: You can drag and drop files and links onto cards to upload them."))+"</span>\r\n						  </form>\r\n					  </li>\r\n					</ul>\r\n				  </div>\r\n				  "),
__p+="\r\n				</div>\r\n				"),__p+="\r\n				",!_.isUndefined(authuser.user)){if(__p+='\r\n				<div class="list-group-item-text clearfix">	\r\n					<div class="col-xs-12 row">\r\n					  <h3 class="pull-left">'+__e(i18next.t("Actions"))+'</h3>\r\n				    </div>\r\n				<ul class="js-card-actions list-inline navbar-btn">\r\n					',_.isUndefined(authuser.user)||1!=authuser.user.role_id&&_.isEmpty(card.list.collection.board.acl_links.where({slug:"move_list_cards",board_user_role_id:parseInt(list.board_user_role_id)}))||(__p+='\r\n					<li class="dropdown navbar-btn"> <a class="btn btn-default dropdown-toggle js-show-move-card-form js-card-header-action even-action" role="button" data-toggle="dropdown" title="'+__e(i18next.t("Move"))+'" href="#"><i class="icon-folder-close"></i>'+__e(i18next.t("Move"))+'</a>\r\n					  <ul class="dropdown-menu dropdown-menu-left arrow col-xs-12">\r\n						<li class="col-xs-12 clearfix text-center"><div> <span class="col-xs-10"><strong>'+__e(i18next.t("Move Card"))+'</strong></span><a class="js-close-popover pull-right" href="#"><i class="icon-remove "></i></a></div></li>\r\n						<li class="col-xs-12 divider"></li>\r\n						<li class="col-xs-12">\r\n						  <form role="form" class="js-move-card" name="MoveCardForm" id="MoveCardForm">\r\n							<div class="js-show-move-card-form-response"> </div>\r\n							<div class="form-group clearfix panel-body">\r\n							  <label class="sr-only">'+__e(i18next.t("Move"))+'</label>\r\n							  <input type="submit" id="submitListMove" class="btn btn-primary col-xs-12" value="'+__e(i18next.t("Move"))+'" />\r\n							</div>\r\n						  </form>\r\n						</li>\r\n					  </ul>\r\n					</li>\r\n					'),__p+="\r\n					",_.isUndefined(authuser.user)||1!=authuser.user.role_id&&_.isEmpty(card.list.collection.board.acl_links.where({slug:"copy_card",board_user_role_id:parseInt(list.board_user_role_id)}))||is_offline_data||(__p+='\r\n						<li class="dropdown js-hide-on-offline navbar-btn"> <a class="btn btn-default dropdown-toggle js-show-copy-card-form even-action" role="button" data-toggle="dropdown" title="'+__e(i18next.t("Copy"))+'" href="#"><i class="icon-copy"></i>'+__e(i18next.t("Copy"))+'</a>\r\n						  <ul class="dropdown-menu dropdown-menu-left arrow col-xs-12 pre-scrollable vertical-scrollbar">\r\n							<li class="col-xs-12 clearfix text-center"> <div><span class="col-xs-10"><strong>'+__e(i18next.t("Copy Card"))+'</strong></span><a class="js-close-popover pull-right" href="#"><i class="icon-remove "></i></a></div> </li>\r\n							<li class="col-xs-12 divider"></li>\r\n							<li class="col-xs-12">\r\n							  <form role="form" method="post" class="js-copy-card">\r\n								<div class="form-group">\r\n								  <label for="card-title">'+__e(i18next.t("Title"))+'</label>\r\n								  <textarea id="card-title" class="form-control" rows="4" name="name">'+__e(card.attributes.name)+'</textarea>\r\n								</div>\r\n								<div class="js-show-copy-card-form-response"> </div>\r\n								<div class="form-group clearfix panel-body">\r\n								  <label class="sr-only">'+__e(i18next.t("Create card"))+'</label>\r\n								  <input type="submit" class="btn btn-primary col-xs-12" value="'+__e(i18next.t("Create card"))+'">\r\n								</div>\r\n							  </form>\r\n							</li>\r\n						  </ul>\r\n						</li>\r\n					'),__p+="\r\n					",!_.isUndefined(authuser.user)&&(1==authuser.user.role_id||!_.isEmpty(card.list.collection.board.acl_links.where({slug:"subscribe_card",board_user_role_id:parseInt(list.board_user_role_id)}))&&_.isEmpty(cards_subscribers)||!_.isEmpty(card.list.collection.board.acl_links.where({slug:"unsubscribe_card",board_user_role_id:parseInt(list.board_user_role_id)}))&&!_.isEmpty(cards_subscribers)||!_.isEmpty(role_links.where({slug:"subscribe_card"}))&&2==card.list.collection.board.attributes.board_visibility)){__p+="\r\n						";var subscribe_disabled="",subscribe_title=i18next.t("Subscribe"),subscribed=card.list.collection.board.board_subscribers.findWhere({user_id:parseInt(authuser.user.id),is_subscribed:1});subscribed&&(subscribe_disabled="disabled",subscribe_title=i18next.t("Board wise subscription already enabled")),__p+='\r\n						<li class="'+(null==(__t=subscribe_disabled)?"":__t)+' navbar-btn"> \r\n							<a class="btn btn-default ',__p+=_.isEmpty(cards_subscribers)?"js-card-subscribe ":" js-card-unsubscribe ",__p+=' even-action" title="'+__e(subscribe_title)+' " href="">\r\n							',__p+=_.isEmpty(cards_subscribers)?'\r\n								<i class="icon-eye-close"></i>\r\n							':'\r\n								<i class="icon-eye-open"></i>\r\n						    ',__p+="\r\n							"+__e(i18next.t("Subscribe"))+"\r\n							</a> \r\n					  </li>\r\n				   "}__p+="\r\n					",_.isUndefined(authuser.user)||1!=authuser.user.role_id&&_.isEmpty(card.list.collection.board.acl_links.where({slug:"archive_card",board_user_role_id:parseInt(list.board_user_role_id)}))||(__p+='\r\n						<li class="navbar-btn"> <a class="btn btn-default ',0===parseInt(card.attributes.is_archived)?__p+="js-archive-card":_.isUndefined(authuser.user)||1!=authuser.user.role_id&&_.isEmpty(card.list.collection.board.acl_links.where({slug:"send_back_to_archived_card",board_user_role_id:parseInt(list.board_user_role_id)}))||(__p+=" js-card-send-to-board"),__p+=' even-action" title="',0===parseInt(card.attributes.is_archived)?__p+=__e(i18next.t("Archive")):_.isUndefined(authuser.user)||1!=authuser.user.role_id&&_.isEmpty(card.list.collection.board.acl_links.where({slug:"send_back_to_archived_card",board_user_role_id:parseInt(list.board_user_role_id)}))||(__p+=__e(i18next.t("Send to board"))),__p+='" href=""><i class="icon-cloud-download"></i>\r\n						',0===parseInt(card.attributes.is_archived)?__p+="\r\n							"+__e(i18next.t("Archive"))+"\r\n						":_.isUndefined(authuser.user)||1!=authuser.user.role_id&&_.isEmpty(card.list.collection.board.acl_links.where({slug:"send_back_to_archived_card",board_user_role_id:parseInt(list.board_user_role_id)}))||(__p+="\r\n							  "+__e(i18next.t("Send to board"))+"\r\n						"),__p+="\r\n							</a> \r\n						</li>\r\n					"),__p+="\r\n					",_.isUndefined(authuser.user)||1!=authuser.user.role_id&&_.isEmpty(card.list.collection.board.acl_links.where({slug:"edit_card",board_user_role_id:parseInt(list.board_user_role_id)}))||(__p+='\r\n					<li class="dropdown navbar-btn"> <a class="btn btn-default dropdown-toggle js-show-card-due-date-form even-action" role="button" data-toggle="dropdown" title="'+__e(i18next.t("Due Date"))+'" href="#"><i class="icon-calendar"></i>'+__e(i18next.t("Due Date"))+'</a>\r\n					  <ul class="dropdown-menu dropdown-menu-left arrow col-xs-12">\r\n						<li class="col-xs-12 clearfix text-center"> <div><span class="col-xs-10"><strong>'+__e(i18next.t("Due Date"))+'</strong></span><a class="js-close-popover pull-right" href="#"><i class="icon-remove "></i></a></div> </li>\r\n						<li class="col-xs-12 divider"></li>\r\n						<li class="js-show-card-due-date-form-response col-xs-12"> </li>\r\n					  </ul>\r\n					</li>\r\n					'),__p+="\r\n					",_.isUndefined(authuser.user)||1!=authuser.user.role_id&&_.isEmpty(card.list.collection.board.acl_links.where({slug:"add_checklists",board_user_role_id:parseInt(list.board_user_role_id)}))||(__p+='\r\n						<li class="dropdown navbar-btn"> <a class="btn btn-default dropdown-toggle js-show-checklist-add-form even-action" role="button" data-toggle="dropdown" title="'+__e(i18next.t("Checklist"))+'" href="#"><i class="icon-list-ul"></i>'+__e(i18next.t("Checklist"))+'</a>\r\n						  <ul class="dropdown-menu dropdown-menu-left arrow col-xs-12">\r\n							<li class="col-xs-12 clearfix text-center"> <div><span class="col-xs-10"><strong>'+__e(i18next.t("Add Checklist"))+'</strong></span><a class="js-close-popover pull-right" href="#"><i class="icon-remove "></i></a></div> </li>\r\n							<li class="col-xs-12 divider"></li>\r\n							<li class="col-xs-12 js-checklist-add-form-response"> </li>\r\n						  </ul>\r\n						</li>\r\n					'),__p+="\r\n				 </ul>\r\n				</div>\r\n				"}if(__p+='\r\n			  </li>\r\n			</ul>\r\n		</div>\r\n	  </div>\r\n	  <div class="splitter-wrap ui-resizable"> \r\n	  <div class="inner col-xs-12">   \r\n		<ul class="list-unstyled navbar-btn row"  id="card_activities">\r\n		  <li class="list-group-item list-group-item-info clearfix">\r\n			<div class="list-group-item-heading clearfix">\r\n				  <h3 class="pull-left">'+__e(i18next.t("Activity"))+'</h3>\r\n				  <div class="clearfix pull-right well-sm user-filter">\r\n                        <ul class="nav nav-pills">\r\n                            <li id="modal-activities"><a href="#" title="'+__e(i18next.t("Filter by activities"))+'" class="text-muted" ><i class="icon-time small"></i></a></li>\r\n                            <li id="modal-comments"><a href="#" title="'+__e(i18next.t("Filter by comments"))+'" class="text-muted"><i class="icon-comment-alt small"></i></a></li>\r\n                        </ul>      \r\n                  </div>   \r\n			</div>\r\n			<div class="list-group-item-text">\r\n			  <ul class="media-list">\r\n				',!_.isUndefined(authuser.user)&&(1==authuser.user.role_id||!_.isEmpty(card.list.collection.board.acl_links.where({slug:"comment_card",board_user_role_id:parseInt(list.board_user_role_id)}))||!_.isEmpty(role_links.where({slug:"comment_card"}))&&2==card.list.collection.board.attributes.board_visibility)){if(__p+='\r\n				<li class="media comment-block"> \r\n				  <form method="post" class="form-horizontal js-add-comment">\r\n				  <ul class="media-list">\r\n						<li class="media">\r\n						<a data-placement="bottom" data-container="body" title="'+__e(authuser.user.full_name)+" ("+__e(authuser.user.username)+')" data-toggle="tooltip" class="pull-left" href="#/user/'+__e(authuser.id)+'">\r\n				  ',_.isEmpty(authuser.user.profile_picture_path))__p+='\r\n				  <i class="avatar avatar-color-194 img-rounded">'+__e(authuser.user.initials)+"</i>\r\n				  ";else{var profile_picture_path=card.showImage("User",authuser.user.id,"small_thumb");__p+='\r\n				  <img src="'+(null==(__t=profile_picture_path)?"":__t)+'" alt="[Image: '+__e(authuser.user.username)+']" class="img-rounded img-responsive avatar">\r\n				  '}__p+='\r\n				  </a>\r\n					<div class="media-body">\r\n					  <div class="media-heading clearfix">\r\n						<div class="form-group list-group-item-text">\r\n							<div class="col-xs-12 list-group-item-text navbar-right">\r\n								<label class="sr-only">'+__e(i18next.t("Comment"))+'</label>\r\n								<textarea id="inputAddComment" class="form-control input-sm js-comment" rows="4" name="comment" placeHolder="'+__e(i18next.t("Write a comment"))+'" required title="'+__e(i18next.t("Write a comment"))+'"></textarea>	\r\n							</div>\r\n						</div>\r\n					  </div>\r\n					</div>\r\n					</li>\r\n					<li class="js-new-comment hide clearfix btn-block navbar-btn">\r\n					<div class="col-xs-11 radio pull-right btn-block">\r\n						<ul class="list-unstyled clearfix col-xs-12">\r\n							<li class="pull-left radio-inline">\r\n								<div class="clearfix dropdown js-show-emoji-list-response"> <a class="js-show-emoji-list show dropdown-toggle btn-link btn-xs btn-block" role="button" data-toggle="dropdown" title="'+__e(i18next.t("Add Emoji"))+'" href="#"> <span class="text-muted show" >'+__e(i18next.t("Add Emoji"))+"</span> </a>\r\n								</div>\r\n							</li>\r\n							",_.isUndefined(authuser.user)||1!=authuser.user.role_id&&_.isEmpty(card.list.collection.board.acl_links.where({slug:"view_card_search",board_user_role_id:parseInt(list.board_user_role_id)}))||(__p+='\r\n								<li class="pull-left radio radio-inline">\r\n								  <div class="clearfix dropdown"> <a class="show dropdown-toggle btn-link btn-xs btn-block" role="button" data-toggle="dropdown" title="'+__e(i18next.t("Add Card"))+'" href="#"> <span class="text-muted show" >'+__e(i18next.t("Add Card"))+'</span> </a>\r\n									<ul class="dropdown-menu arrow col-xs-3 list-group">\r\n									  <li class="col-xs-12 clearfix text-center">\r\n										<div><span class="col-xs-10"><strong>'+__e(i18next.t("Add Card"))+'</strong></span>\r\n										<a class="js-close-popover pull-right" href="#"><i class="icon-remove "></i></a></div>\r\n									  </li>\r\n									  <li class="col-xs-12 divider"></li>\r\n									  <li class="col-xs-12 js_activity_card_search_response">\r\n										  <div class="clearfix">\r\n											<label class="sr-only">'+__e(i18next.t("Search Card"))+'</label>                            \r\n											  <input type="text" placeholder="'+__e(i18next.t("Search Card"))+'" name="card" class="js-search-card form-control input-sm  js-no-action" title="'+__e(i18next.t("Search Card"))+'">\r\n										  </div>\r\n									  </li>\r\n									</ul>\r\n								  </div>\r\n								</li>\r\n							'),__p+='\r\n							<li class="dropdown pull-left radio-inline radio">\r\n							  <div class="clearfix dropdown"> <a class="show dropdown-toggle btn-link btn-xs btn-block js-show-members" role="button" data-toggle="dropdown" title="'+__e(i18next.t("Mention a member"))+'" href="#"> <span class="text-muted show" >'+__e(i18next.t("Mention a member"))+'</span> </a>\r\n								<ul class="dropdown-menu arrow col-xs-3">\r\n								  <li class="col-xs-12 clearfix text-center"><div><span class="col-xs-10"><strong>'+__e(i18next.t("Mention a member"))+'</strong></span> <a class="js-close-popover pull-right" href="#"><i class="icon-remove "></i></a></div></li>\r\n								  <li class="col-xs-12 divider"></li>\r\n								  <li class="col-xs-12 js-comment-member-search-response">\r\n									  <div class="clearfix">\r\n										<label class="sr-only">'+__e(i18next.t("Search Member"))+'</label>\r\n										<input type="text" autocomplete="off" placeholder="'+__e(i18next.t("Search Members"))+'" name="member" class="js-search-member form-control input-sm js-no-action" title="'+__e(i18next.t("Search Members"))+'">\r\n									  </div>\r\n								  </li>\r\n								</ul>\r\n							   </div>\r\n							</li>\r\n					    </ul>\r\n					<div class="pull-left col-xs-12">\r\n					  <label class="sr-only" for="submit2">'+__e(i18next.t("Submit"))+'</label>\r\n					  <div class="radio-inline">\r\n						  <input type="submit" id="submitCommentAdd" class="btn btn-primary" value="'+__e(i18next.t("Comment"))+'"/>\r\n					  </div>\r\n					</div>\r\n				  </div>\r\n				  </li>\r\n				  </ul>\r\n				 </form>\r\n				  \r\n				</li>\r\n				'}if(__p+='\r\n				<li> </li>\r\n				<li class="col-xs-12 divider"><hr></li>\r\n			  </ul>\r\n			  <div class="text-center clearfix hide" id="js-loader-img"><img src="img/select2-spinner.gif" alt="[Images:Loader]" title="'+__e(i18next.t("Loading..."))+'" /></div>\r\n				<ul class="media-list col-xs-12 clearfix btn-block" id="js-card-activities-'+(null==(__t=card.attributes.id)?"":__t)+'"></ul>			  \r\n			</div>\r\n			</li>\r\n		  </ul>\r\n		</div>\r\n	  </div>\r\n  </div>\r\n  <div class="drag-drop">'+__e(i18next.t("Drop Files Here"))+"</div>\r\n    \r\n  </div>\r\n  <!-- Side Menu block start -->\r\n  ",!_.isUndefined(authuser.user)){if(__p+='\r\n  <div class="dropdown dockheader-dropdown docmodal-submenu">\r\n  <a aria-expanded="true" data-toggle="dropdown" id="dropdownMenu1" class="dropdown-toggle label"> <i class="icon-cog h3"></i></a>\r\n  <ul role="menu" class="dropdown-menu arrow">\r\n	  ',_.isUndefined(authuser.user)||1!=authuser.user.role_id&&_.isEmpty(card.list.collection.board.acl_links.where({slug:"edit_card",board_user_role_id:parseInt(list.board_user_role_id)}))||(__p+='\r\n	  <li class="dropdown-submenu dropdown"> \r\n		<a href="#" title="'+__e(i18next.t("Add"))+'" class="dropdown-toggle js-open-popover" data-toggle="dropdown" >'+__e(i18next.t("Add"))+'</a>\r\n		<ul class="dropdown-menu">\r\n		',_.isUndefined(authuser.user)||1!=authuser.user.role_id&&_.isEmpty(card.list.collection.board.acl_links.where({slug:"edit_card",board_user_role_id:parseInt(list.board_user_role_id)}))||(__p+='\r\n		<li class="dropdown"> <a class="dropdown-toggle js-show-card-due-date-form" role="button" data-toggle="dropdown" title="'+__e(i18next.t("Due Date"))+'" href="#">'+__e(i18next.t("Due Date"))+'</a>\r\n		  <ul class="dropdown-menu dropdown-menu-left arrow col-xs-12">\r\n			<li class="col-xs-12 clearfix text-center"> <div><span class="col-xs-10"><strong>'+__e(i18next.t("Due Date"))+'</strong></span><a class="js-close-popover pull-right" href="#"><i class="icon-remove "></i></a></div> </li>\r\n			<li class="col-xs-12 divider"></li>\r\n			<li class="js-show-card-due-date-form-response col-xs-12"> </li>\r\n		  </ul>\r\n		</li>\r\n		'),__p+="\r\n		",_.isUndefined(authuser.user)||1!=authuser.user.role_id&&_.isEmpty(card.list.collection.board.acl_links.where({slug:"add_card_user",board_user_role_id:parseInt(list.board_user_role_id)}))||(__p+='\r\n			<li class="dropdown"><a data-toggle="dropdown" class="dropdown-toggle js-show-add-member-form js-card-header-action" title="'+__e(i18next.t("Members"))+'" href="#">'+__e(i18next.t("Members"))+'</a>\r\n				  <ul class="dropdown-menu arrow">\r\n					<li class="col-xs-12 text-center clearfix">\r\n					  <div><span class="col-xs-10"><strong>'+__e(i18next.t("Members"))+'</strong></span> <a href="#" class="js-close-popover pull-right"><i class="icon-remove"></i></a></div>\r\n					</li>\r\n					<li class="col-xs-12 divider"></li>\r\n					<li class="col-xs-12">\r\n					  <form method="post" class="text-center" name="addMember">\r\n						<div class="form-group">\r\n						  <label class="sr-only">'+__e(i18next.t("Search Member"))+'</label>\r\n						  <input type="text" autocomplete="off" id="inputOrganizationUserSearch" placeholder="'+__e(i18next.t("Search Members"))+'" name="email" required class="js-search-users form-control input-sm" title="'+__e(i18next.t("Search Members"))+'">\r\n						</div>\r\n					  </form>\r\n					</li>\r\n					<li class="clearfix js-organization-member-search-response col-xs-12 small">'+__e(i18next.t("Search for a person in %s by name or email address.",{postProcess:"sprintf",sprintf:[SITE_NAME]}))+"</li>\r\n				  </ul>\r\n			</li>\r\n		"),__p+="\r\n		",_.isUndefined(authuser.user)||1!=authuser.user.role_id&&_.isEmpty(card.list.collection.board.acl_links.where({slug:"delete_labels",board_user_role_id:parseInt(list.board_user_role_id)}))||(__p+='\r\n			<li class="dropdown"> <a class="dropdown-toggle js-show-card-label-form js-card-header-action" role="button" data-toggle="dropdown" title="'+__e(i18next.t("Labels"))+'" href="#">'+__e(i18next.t("Labels"))+'</a>\r\n				<ul class="dropdown-menu dropdown-menu-left arrow col-xs-12 js-show-card-label-form-response">\r\n				</ul>\r\n			</li>\r\n		'),__p+="\r\n		",_.isUndefined(authuser.user)||1!=authuser.user.role_id&&_.isEmpty(card.list.collection.board.acl_links.where({slug:"add_checklists",board_user_role_id:parseInt(list.board_user_role_id)}))||(__p+='\r\n		    <li class="dropdown"> <a class="dropdown-toggle js-show-checklist-add-form" role="button" data-toggle="dropdown" title="'+__e(i18next.t("Checklist"))+'" href="#">'+__e(i18next.t("Checklist"))+'</a>\r\n		      <ul class="dropdown-menu dropdown-menu-left arrow col-xs-12">\r\n				<li class="col-xs-12 clearfix text-center"> <div><span class="col-xs-10"><strong>'+__e(i18next.t("Add Checklist"))+'</strong></span><a class="js-close-popover pull-right" href="#"><i class="icon-remove "></i></a></div> </li>\r\n		        <li class="col-xs-12 divider"></li>\r\n				<li class="col-xs-12 js-checklist-add-form-response"> </li>\r\n		      </ul>\r\n		    </li>\r\n	    '),__p+="\r\n		",_.isUndefined(authuser.user)||1!=authuser.user.role_id&&_.isEmpty(card.list.collection.board.acl_links.where({slug:"edit_card",board_user_role_id:parseInt(list.board_user_role_id)}))||(__p+='\r\n			<li class="dropdown"> <a class="js-show-side-card-title-edit-form" role="button" data-toggle="dropdown" title="'+__e(i18next.t("Checklist"))+'" href="#">'+__e(i18next.t("Info"))+'</a>\r\n			  <ul class="dropdown-menu dropdown-menu-left arrow col-xs-12">\r\n				<li class="col-xs-12 clearfix text-center"> <div><span class="col-xs-10"><strong>'+__e(i18next.t("Edit Card Info"))+'</strong></span><a class="js-close-popover pull-right" href="#"><i class="icon-remove "></i></a></div> </li>\r\n				<li class="col-xs-12 divider"></li>\r\n				<li class="col-xs-12 js-show-side-card-title-edit-form-response">\r\n				  <form class="js-card-edit-form" method="POST">\r\n					<div class="form-group">\r\n					  <label for="cardTitle'+__e(card.id)+'">'+__e(i18next.t("Title"))+'</label>\r\n					  <input type="text" class="form-control" id="cardTitle'+__e(card.id)+'" name="name" data-format="hh:mm:ss" value="'+__e(card.attributes.name)+'"/>\r\n					</div>\r\n					<div class="form-group">\r\n					  <label for="cardDescription'+__e(card.id)+'">'+__e(i18next.t("Description"))+'</label>\r\n					  <textarea name="description" rows="3" class="form-control" id="cardDescription'+__e(card.id)+'">'+__e(card.attributes.description)+'</textarea>\r\n					</div>\r\n					<div class="form-group">\r\n					  <div class="col-xs-6 nav">\r\n						<label for="save" class="sr-only">'+__e(i18next.t("Save"))+'</label>\r\n						<input type="submit" value="'+__e(i18next.t("Save"))+'" id="save" class="btn btn-primary" id="submitCardInfoEditForm">\r\n					  </div>\r\n					</div>\r\n				  </form>\r\n				</li>\r\n			  </ul>\r\n			</li>\r\n			'),__p+="\r\n			",_.isUndefined(authuser.user)||1!=authuser.user.role_id&&_.isEmpty(card.list.collection.board.acl_links.where({slug:"add_card_attachment",board_user_role_id:parseInt(list.board_user_role_id)}))||(__p+='\r\n			<li class="dropdown"> <a class="dropdown-toggle js-load-dropbox js-card-header-action" role="button" data-toggle="dropdown" title="'+__e(i18next.t("Attachment"))+'" href="#">'+__e(i18next.t("Attachment"))+'</a>\r\n			  <ul class="dropdown-menu dropdown-menu-left arrow col-xs-12">\r\n			   <li class="col-xs-12 clearfix text-center"> <div><span class="col-xs-10"><strong>'+__e(i18next.t("Attach From..."))+' </strong></span><a class="js-close-popover pull-right" href="#"><i class="icon-remove "></i></a></div> </li>\r\n				<li class="col-xs-12 divider"></li>\r\n				<li class="col-xs-12"><a href="#" title="'+__e(i18next.t("Computer"))+'" class="js-attachment-computer-open row">'+__e(i18next.t("Computer"))+'</a></li>\r\n				<li class="col-xs-12"><a href="#" title="'+__e(i18next.t("Dropbox"))+'" class="js-attachment-dropbox-open row">'+__e(i18next.t("Dropbox"))+'</a></li>\r\n				<li class="col-xs-12 divider"></li>\r\n				<li class="col-xs-12">\r\n				  <span class="col-xs-10 sr-only">'+__e(i18next.t("Attach a Link"))+'</span>\r\n				  <form class="js-card-attachment-link-form col-xs-12" method="post" role="form">\r\n					<div class="form-group row">\r\n					  <input type="url" class="form-control input-sm"   id="" name="image_link" placeHolder="'+__e(i18next.t("Paste any link here"))+'" title="'+__e(i18next.t("Whitespace alone not allowed"))+'" required pattern=".*\\S+.*">\r\n					</div>\r\n					<div class="form-group row">    \r\n					  <input type="submit" value="'+__e(i18next.t("Submit"))+'" id="submit2" class="btn btn-primary btn-sm">\r\n					</div>\r\n					<span class="help-block row small">'+__e(i18next.t("Tip: You can drag and drop files and links onto cards to upload them."))+"</span>\r\n				  </form>\r\n				</li>\r\n			  </ul>\r\n			</li>\r\n			"),__p+="\r\n		</ul>\r\n	  </li>\r\n	  "),__p+="\r\n	  ",!_.isUndefined(authuser.user)){if(__p+='\r\n	  <li class="dropdown-submenu dropdown"> <a href="#" title="'+__e(i18next.t("Actions"))+'" class="dropdown-toggle js-open-popover" data-toggle="dropdown">'+__e(i18next.t("Actions"))+'</a>\r\n		  <ul class="dropdown-menu">\r\n			',_.isUndefined(authuser.user)||1!=authuser.user.role_id&&_.isEmpty(card.list.collection.board.acl_links.where({slug:"move_list_cards",board_user_role_id:parseInt(list.board_user_role_id)}))||(__p+='\r\n			<li class="dropdown"> <a class="dropdown-toggle js-show-move-card-form js-card-header-action" role="button" data-toggle="dropdown" title="'+__e(i18next.t("Move"))+'" href="#">'+__e(i18next.t("Move"))+'</a>\r\n			  <ul class="dropdown-menu dropdown-menu-left arrow col-xs-12">\r\n				<li class="col-xs-12 clearfix text-center"><div> <span class="col-xs-10"><strong>'+__e(i18next.t("Move Card"))+'</strong></span><a class="js-close-popover pull-right" href="#"><i class="icon-remove "></i></a></div></li>\r\n				<li class="col-xs-12 divider"></li>\r\n				<li class="col-xs-12">\r\n				  <form role="form" class="js-move-card" name="MoveCardForm" id="MoveCardForm">\r\n					<div class="js-show-move-card-form-response"> </div>\r\n					<div class="form-group clearfix panel-body">\r\n					  <label class="sr-only">'+__e(i18next.t("Move"))+'</label>\r\n					  <input type="submit" id="submitListMove" class="btn btn-primary col-xs-12" value="'+__e(i18next.t("Move"))+'" />\r\n					</div>\r\n				  </form>\r\n				</li>\r\n			  </ul>\r\n			</li>\r\n			'),__p+="\r\n			",_.isUndefined(authuser.user)||1!=authuser.user.role_id&&_.isEmpty(card.list.collection.board.acl_links.where({slug:"copy_card",board_user_role_id:parseInt(list.board_user_role_id)}))||is_offline_data||(__p+='\r\n				<li class="dropdown js-hide-on-offline"> <a class="dropdown-toggle js-show-copy-card-form" role="button" data-toggle="dropdown" title="'+__e(i18next.t("Copy"))+'" href="#">'+__e(i18next.t("Copy"))+'</a>\r\n				  <ul class="dropdown-menu dropdown-menu-left arrow col-xs-12 pre-scrollable vertical-scrollbar">\r\n					<li class="col-xs-12 clearfix text-center"> <div><span class="col-xs-10"><strong>'+__e(i18next.t("Copy Card"))+'</strong></span><a class="js-close-popover pull-right" href="#"><i class="icon-remove "></i></a></div> </li>\r\n					<li class="col-xs-12 divider"></li>\r\n					<li class="col-xs-12">\r\n					  <form role="form" method="post" class="js-copy-card">\r\n						<div class="form-group">\r\n						  <label for="card-title">'+__e(i18next.t("Title"))+'</label>\r\n						  <textarea id="card-title" class="form-control" rows="4" name="name">'+__e(card.attributes.name)+'</textarea>\r\n						</div>\r\n						<div class="js-show-copy-card-form-response"> </div>\r\n						<div class="form-group clearfix panel-body">\r\n						  <label class="sr-only">'+__e(i18next.t("Create card"))+'</label>\r\n						  <input type="submit" class="btn btn-primary col-xs-12" value="'+__e(i18next.t("Create card"))+'">\r\n						</div>\r\n					  </form>\r\n					</li>\r\n				  </ul>\r\n				</li>\r\n			'),__p+="\r\n			",!_.isUndefined(authuser.user)&&(1==authuser.user.role_id||!_.isEmpty(card.list.collection.board.acl_links.where({slug:"subscribe_card",board_user_role_id:parseInt(list.board_user_role_id)}))&&_.isEmpty(cards_subscribers)||!_.isEmpty(card.list.collection.board.acl_links.where({slug:"unsubscribe_card",board_user_role_id:parseInt(list.board_user_role_id)}))&&!_.isEmpty(cards_subscribers)||!_.isEmpty(role_links.where({slug:"subscribe_card"}))&&2==card.list.collection.board.attributes.board_visibility)){__p+="\r\n				";var subscribe_disabled="",subscribed=card.list.collection.board.board_subscribers.findWhere({user_id:parseInt(authuser.user.id),is_subscribed:1});subscribed&&(subscribe_disabled="disabled",subscribe_title=i18next.t("Board wise subscription already enabled")),__p+='\r\n			    <li class="'+(null==(__t=subscribe_disabled)?"":__t)+'"> <a class="',__p+=_.isEmpty(cards_subscribers)?"js-card-subscribe ":" js-card-unsubscribe ",__p+='" title="'+__e(subscribe_title)+' " href="">'+__e(i18next.t("Subscribe"))+"\r\n		       ",_.isEmpty(cards_subscribers)||(__p+='\r\n			    <i class="icon-ok"></i>\r\n		      '),__p+="\r\n		      </a> \r\n			  </li>\r\n		   "}if(__p+="\r\n		   ",!(_.isUndefined(authuser.user)||1!=authuser.user.role_id&&_.isEmpty(card.list.collection.board.acl_links.where({slug:"vote_card",board_user_role_id:parseInt(list.board_user_role_id)}))&&_.isEmpty(card.list.collection.board.acl_links.where({slug:"unvote_card",board_user_role_id:parseInt(list.board_user_role_id)})))){if(__p+="\r\n		    <li>\r\n		      ",!_.isUndefined(authuser)&&!_.isUndefined(authuser.user)){var voted_user=card.card_voters.findWhere({user_id:parseInt(authuser.user.id)});__p+="\r\n		      ",_.isEmpty(voted_user)?(__p+="\r\n		      ",_.isUndefined(authuser.user)||1!=authuser.user.role_id&&_.isEmpty(card.list.collection.board.acl_links.where({slug:"vote_card",board_user_role_id:parseInt(list.board_user_role_id)}))||(__p+='\r\n		      <a class="panel-heading show js-add-card-vote" title="'+__e(i18next.t("Vote"))+'" href="#">'+__e(i18next.t("Vote"))+"</a>\r\n			  "),__p+="\r\n			  "):(__p+=" \r\n			  ",_.isUndefined(authuser.user)||1!=authuser.user.role_id&&_.isEmpty(card.list.collection.board.acl_links.where({slug:"unvote_card",board_user_role_id:parseInt(list.board_user_role_id)}))||(__p+='\r\n			  <a class="panel-heading show js-delete-card-vote"" title="'+__e(i18next.t("Unvote"))+'" href="#" data-id="'+__e(voted_user.id)+'"> <span class="show" ><i class="icon-thumbs-up-alt"></i>'+__e(i18next.t("Unvote"))+"</span> </a>\r\n			  "),__p+="\r\n			  ")}__p+="\r\n			</li>\r\n		 "}__p+="\r\n		 ",_.isUndefined(authuser.user)||1!=authuser.user.role_id&&_.isEmpty(card.list.collection.board.acl_links.where({slug:"archive_card",board_user_role_id:parseInt(list.board_user_role_id)}))||(__p+='\r\n			<li> <a class="panel-heading show ',0===parseInt(card.attributes.is_archived)?__p+="js-archive-card":_.isUndefined(authuser.user)||1!=authuser.user.role_id&&_.isEmpty(card.list.collection.board.acl_links.where({slug:"send_back_to_archived_card",board_user_role_id:parseInt(list.board_user_role_id)}))||(__p+=" js-card-send-to-board"),__p+='" title="',0===parseInt(card.attributes.is_archived)?__p+=__e(i18next.t("Archive")):_.isUndefined(authuser.user)||1!=authuser.user.role_id&&_.isEmpty(card.list.collection.board.acl_links.where({slug:"send_back_to_archived_card",board_user_role_id:parseInt(list.board_user_role_id)}))||(__p+=__e(i18next.t("Send to board"))),__p+='" href="">\r\n		      ',0===parseInt(card.attributes.is_archived)?__p+="\r\n			      "+__e(i18next.t("Archive"))+"\r\n		      ":_.isUndefined(authuser.user)||1!=authuser.user.role_id&&_.isEmpty(card.list.collection.board.acl_links.where({slug:"send_back_to_archived_card",board_user_role_id:parseInt(list.board_user_role_id)}))||(__p+="\r\n				  "+__e(i18next.t("Send to board"))+"\r\n		      "),__p+="\r\n				</a> \r\n			</li>\r\n			"),__p+="\r\n		    ",1!==parseInt(card.attributes.is_archived)||_.isUndefined(authuser.user)||1!=authuser.user.role_id&&_.isEmpty(card.list.collection.board.acl_links.where({slug:"delete_card",board_user_role_id:parseInt(list.board_user_role_id)}))||(__p+='\r\n			<li >\r\n			  <ul class="list-unstyled panel-body">\r\n				<li class="dropdown"> <a class="col-xs-12 btn btn-primary whitec dropdown-toggle js-open-dropdown" href="#" data-toggle="dropdown"> <span><i class="icon-archive"></i></span> <span>'+__e(i18next.t("Delete"))+'</span> </a>\r\n				  <ul class="dropdown-menu dropdown-menu-left arrow">\r\n					<li class="js-dropdown-popup dropdown-popup">\r\n					  <div class="clearfix text-center col-xs-12"> <span class="col-xs-10"><strong>'+__e(i18next.t("Delete Card"))+'?</strong></span><a class="js-close-popover pull-right" href="#"><i class="icon-remove "></i></a> </div>\r\n					  <div class="col-xs-12 divider"></div>\r\n					  <div class="col-xs-12">\r\n						<p>'+__e(i18next.t("All actions will be removed from the activity feed and you won't be able to reopen the card. There is no undo. You can archive a card to remove it from the board and preserve the activity."))+'</p>\r\n						<a class="js-delete-card btn  btn-primary" title="'+__e(i18next.t("Delete"))+'">'+__e(i18next.t("Delete"))+"</a> </div>\r\n					</li>\r\n				  </ul>\r\n				</li>\r\n			  </ul>\r\n			</li>\r\n			"),__p+="\r\n		  </ul>\r\n	  </li>\r\n	  "}if(__p+='\r\n	  <li class="dropdown js-more-dropdown">\r\n	  <div class="col-xs-12 divider"></div>\r\n	  <a class="show btn btn-link js-more-menu quiet-button" data-toggle="dropdown" title="'+__e(i18next.t("More options share, print, export, and delete."))+'" href="#">'+__e(i18next.t("Share and more..."))+'</a>\r\n		<ul class="dropdown-menu dropdown-menu-left arrow col-xs-12">\r\n			<li class="col-xs-12 clearfix text-center"><div> <span class="col-xs-10"><strong>'+__e(i18next.t("More"))+'</strong></span> <a class="js-close-popover pull-right" href="#"><i class="icon-remove "></i></a></div></li>\r\n			<li class="col-xs-12 divider"></li>       \r\n			<li class="col-xs-12">\r\n			  <p class="text-muted"> <span class="show">'+__e(i18next.t("Card # %s",{
postProcess:"sprintf",sprintf:[card.attributes.id]}))+'</span> <span class="show">'+__e(i18next.t("Link to this card"))+'</span> </p>\r\n			  <form role="form">\r\n				<div class="form-group">\r\n				  <input type="text" value="'+(null==(__t=window.location.origin)?"":__t)+(null==(__t=window.location.pathname)?"":__t)+"#/board/"+__e(card.attributes.board_id)+"/card/"+__e(card.attributes.id)+'" class="form-control input-sm js-select-card-url" readonly="readonly">\r\n				</div>\r\n				',!_.isEmpty(IMAP_EMAIL)){__p+='\r\n					<div class="form-group">\r\n						';var imap_email=IMAP_EMAIL.split("@"),card_email=imap_email[0]+"+"+card.attributes.board_id+"+"+card.attributes.id+"+"+calcMD5(SecuritySalt+card.attributes.board_id+card.attributes.id)+"@"+imap_email[1];__p+='\r\n					  <span class="show">'+__e(i18next.t("Email for this card"))+'</span>\r\n					  <input readonly="readonly" class="form-control" value="'+__e(card_email)+'">\r\n					</div>\r\n				'}__p+="\r\n			  </form>\r\n			</li>\r\n		 </ul>\r\n	  </li>\r\n  </ul>\r\n  </div>\r\n  "}__p+="\r\n  <!-- Side Menu block end -->\r\n</section>\r\n"}return __p},this.JST["templates/modal_chat_history_view"]=function(obj){obj||(obj={});var __p="";_.escape;with(obj)__p+='<div class="modal fade modalChatHistoryView" id="modalChatHistoryView" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">\r\n	<div class="modal-dialog">\r\n		  <div class="modal-content">\r\n			<div class="modal-header">\r\n			<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>\r\n			<h4 id="myModalLabel" class="modal-title"><strong>Chat History</strong></h4>\r\n			</div>			\r\n			<div class="modal-body scrollbar">\r\n				<div>\r\n					<div class="clearfix">\r\n						<ul class="clearfix list-unstyled" id="js-chat-history-list"></ul>\r\n						<span class="btn btn-primary" id="js-chat-histories-load-more" data-page="1">Load more histories</span>\r\n					</div>\r\n				</div>\r\n			</div>\r\n		  </div><!-- /.modal-content -->\r\n    </div>\r\n</div>';return __p},this.JST["templates/modal_flickr_photo_view"]=function(obj){obj||(obj={});var __p="",__e=_.escape;with(obj)__p+='<div class="modal fade" id="modalFlickrPhoto" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">\r\n	<div class="modal-dialog">\r\n		  <div class="modal-content">\r\n			<div class="modal-header">\r\n			  <button type="button" class="close js-close-popover" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>\r\n			  <h4 id="myModalLabel" class="modal-title"><strong>'+__e(i18next.t("Background Photo"))+'</strong></h4>\r\n			</div>			\r\n			<div class="modal-body clearfix">	\r\n				<div class="navbar-btn col-xs-4 nav">\r\n					<div class="input-group">\r\n						<input type="text" class="form-control input-sm js-flickr-search" placeholder="'+__e(i18next.t("Search"))+'" title="'+__e(i18next.t("Search"))+'">\r\n						<span class="input-group-btn"><button class="btn btn-primary input-sm btn-sm js-flickr-search-box" type="button"><i class="icon-search cur"></i></button></span>\r\n					</div>\r\n				</div>\r\n				<div class="pull-right h4"><small class="navbar-btn">'+__e(i18next.t("Powered by"))+' <a href="javascript:void(0);" title="Flickr"><strong class="text-primary">Flickr</strong></a></small></div>\r\n				<div class="col-xs-12 h4">\r\n				<ul class="list-inline clearfix col-xs-offset-0" id="js-flickr-background-photos">\r\n				 \r\n				</ul>\r\n				</div>\r\n				<div class="h4 btn-block pull-left text-center js-flickr-loader-and-more"><a href="javascript:void(0);" class="btn-link js-flickr-loadmore">'+__e(i18next.t("Load More"))+"</a></div>											\r\n			</div>\r\n		  </div><!-- /.modal-content -->\r\n    </div>\r\n</div>";return __p},this.JST["templates/modal_list_view"]=function(obj){obj||(obj={});var __p="",__e=_.escape;with(obj)__p+='<div class="modal fade" id="modalListView" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">\r\n	<div class="modal-dialog modal-lg">\r\n		  <div class="modal-content">\r\n			<div class="modal-header">\r\n			  <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>\r\n			  <a href="#" title="'+__e(list.attributes.name)+'" class="">\r\n			  <h4 id="myModalLabel" class="modal-title htruncate"><strong>'+__e(list.attributes.name)+'</strong></h4></a>\r\n			</div>			\r\n			<div class="modal-body clearfix">	\r\n				<ul class="list-unstyled clearfix col-xs-12 btn-block" id="js-list-attachments-list"><li><span class="cssloader"></span></li></ul>											\r\n			</div>\r\n		  </div><!-- /.modal-content -->\r\n    </div>\r\n</div>';return __p},this.JST["templates/modal_music_view"]=function(obj){obj||(obj={});var __p="",__e=_.escape;with(obj)__p+='<div class="modal fade" id="modalMusic" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">\r\n	<div class="modal-dialog">\r\n		  <div class="modal-content">\r\n			<div class="modal-header">\r\n			  <button type="button" class="close js-close-popover" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>\r\n			  <h4 id="myModalLabel" class="modal-title"><strong>'+__e(i18next.t("Productivity Beats"))+'</strong></h4>\r\n			</div>			\r\n			<div class="modal-body clearfix">					\r\n				<div class="col-xs-12 h4 btn-block">\r\n					<form class="form-horizontal" name="musicUpdate" id="js-MusicForm">						\r\n					  <div class="form-group input text required">\r\n						<label for="title" class="sr-only">'+__e(i18next.t("Name"))+'</label>\r\n						<div class="col-xs-12">\r\n						  <input type="text" class="form-control js-music_name" id="title" placeholder="'+__e(i18next.t("Name"))+'" required title="'+__e(i18next.t("Name"))+'">\r\n						</div>\r\n					  </div>\r\n					  <div class="form-group required">\r\n						<label class="sr-only">'+__e(i18next.t("abc Notation"))+'</label>\r\n						<div class="col-xs-12">\r\n						  <textarea class="form-control js-music_content" rows="3" placeholder="'+__e(i18next.t("abc Notation"))+'" required></textarea>\r\n						  <div>\r\n							<span class="help-block">\r\n								'+__e(i18next.t("Enter abc music notation. May choose from"))+' <a href="http://reissendewoelfe.de/abc/" target="_blank">Reissende Woelfe Collections</a>, <a href="http://abcnotation.com/" target="_blank">abcnotation</a>, or <a href="http://www.lotro-abc.com/" target="_blank">Lotro ABC</a>\r\n							</span>\r\n						  </div>\r\n						</div>\r\n					  </div>\r\n						<div class="form-group">\r\n							<label for="submit2" class="col-sm-1 control-label sr-only">'+__e(i18next.t("Submit"))+'</label>\r\n							<input type="submit" value="'+__e(i18next.t("Submit"))+'" id="js-music_add" class="btn btn-primary btn-lg">\r\n						</div>					  \r\n					</form>				\r\n				</div>										\r\n			</div>\r\n		  </div><!-- /.modal-content -->\r\n    </div>\r\n</div>';return __p},this.JST["templates/modal_shortcut"]=function(obj){obj||(obj={});var __p="",__e=_.escape;with(obj)__p+='<div class="modal fade" id="ModalShortcutView" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">\r\n	<div class="modal-dialog modal-lg">\r\n		  <div class="modal-content">\r\n			<div class="modal-header">\r\n			  <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>\r\n			  <a href="#" title="'+__e(i18next.t("Keyboard Shortcuts"))+'" class="">\r\n			  <h2 id="myModalLabel" class="modal-title htruncate"><strong>'+__e(i18next.t("Keyboard Shortcuts"))+'</strong></h2></a>\r\n			</div>			\r\n			<div class="modal-body clearfix">\r\n				<div class="clearfix">\r\n				<span class="h3 pull-left">'+__e(i18next.t("Add / Remove Members"))+'</span>				\r\n				<span class="pull-right label label-primary right-mar well-sm">M</span>\r\n				</div>				\r\n				<p>'+__e(i18next.t('"m" opens the add / remove members menu. Clicking a member avatar will assign or unassign that person.'))+'</p>\r\n				<hr/>\r\n				<div class="clearfix">\r\n				<span class="h3 pull-left">'+__e(i18next.t("Archive Card"))+'</span>\r\n				<span class="pull-right label label-primary right-mar well-sm">C</span>\r\n				</div>\r\n				<p>'+__e(i18next.t('"c" will archive a card.'))+'</p>\r\n				<hr/>\r\n				<div class="clearfix">\r\n				<span class="h3 pull-left">'+__e(i18next.t("Assign Self"))+'</span>\r\n				<span class="pull-right label label-primary right-mar well-sm">space</span>\r\n				</div>\r\n				<p>'+__e(i18next.t('"space" will assign (or unassign) yourself to a card.'))+'</p>\r\n				<hr/>\r\n				<div class="clearfix">\r\n				<span class="h3 pull-left">'+__e(i18next.t("Clear All Filters"))+'</span>\r\n				<span class="pull-right label label-primary right-mar well-sm">X</span>\r\n				</div>\r\n				<p>'+__e(i18next.t('Use "x" to clear all active card filters.'))+'</p>\r\n				<hr/>\r\n				<div class="clearfix">\r\n				<span class="h3 pull-left">'+__e(i18next.t("Due Date"))+'</span>\r\n				<span class="pull-right label label-primary right-mar well-sm">D</span>\r\n				</div>\r\n				<p>'+__e(i18next.t('"d" will open the due date picker for a card.'))+'</p>\r\n				<hr/>\r\n				<div class="clearfix">\r\n				<span class="h3 pull-left">'+__e(i18next.t("Edit Title"))+'</span>\r\n				<span class="pull-right label label-primary right-mar well-sm">T</span>\r\n				</div>\r\n				<p>'+__e(i18next.t('If viewing a card, "t" will edit the title. If hovering over a card, "t" will open the card and edit the title.'))+'</p>\r\n				<hr/>\r\n				<div class="clearfix">\r\n				<span class="h3 pull-left">'+__e(i18next.t("Insert New Card"))+'</span>\r\n				<span class="pull-right label label-primary right-mar well-sm">N</span>\r\n				</div>\r\n				<p>'+__e(i18next.t('"n" opens a pop-over that allows you to add a card after the currently selected card.'))+'</p>\r\n				<hr/>\r\n				<div class="clearfix">\r\n				<span class="h3 pull-left">'+__e(i18next.t("Label"))+'</span>\r\n				<span class="pull-right label label-primary right-mar well-sm">L</span>\r\n				</div>\r\n				<p>'+__e(i18next.t('"l" opens a pop-over of the available labels. Clicking a label will add or remove it from the card.'))+'</p>\r\n				<hr/>\r\n				<div class="clearfix">\r\n				<span class="h3 pull-left">'+__e(i18next.t("My Cards Filter"))+'</span>\r\n				<span class="pull-right label label-primary right-mar well-sm">Q</span>\r\n				</div>\r\n				<p>'+__e(i18next.t('"q" key toggles the "cards assigned to me" filter.'))+'</p>\r\n				<hr/>\r\n				<div class="clearfix">\r\n				<span class="h3 pull-left">'+__e(i18next.t("Navigate Cards"))+'</span>\r\n				<span class="pull-right label label-primary right-mar well-sm">&#8592;</span>\r\n				<span class="pull-right label label-primary right-mar well-sm">&#8595;/J</span>\r\n				<span class="pull-right label label-primary right-mar well-sm">&#8593;/K</span>\r\n				<span class="pull-right label label-primary right-mar well-sm">&#8594;</span>\r\n				</div>\r\n				<p>'+__e(i18next.t('Arrow keys will select adjacent cards on a board. "j" will select the card below the current card. "k" will select the card above the current card.'))+'</p>\r\n				<hr/>\r\n				<div class="clearfix">\r\n				<span class="h3 pull-left">'+__e(i18next.t("Open Card"))+'</span>\r\n				<span class="pull-right label label-primary right-mar well-sm">enter</span>\r\n				</div>\r\n				<p>'+__e(i18next.t('"enter" will open the currently selected card.'))+'</p>\r\n				<hr/>\r\n				<div class="clearfix">\r\n				<span class="h3 pull-left">'+__e(i18next.t("Open Card Filter Menu"))+'</span>\r\n				<span class="pull-right label label-primary right-mar well-sm">F</span>\r\n				</div>\r\n				<p>'+__e(i18next.t('Use "f" to open the card filter menu.'))+'</p>\r\n				<hr/>\r\n				<div class="clearfix">\r\n				<span class="h3 pull-left">'+__e(i18next.t("Open Shortcuts Page"))+'</span>\r\n				<span class="pull-right label label-primary right-mar well-sm">?</span>\r\n				</div>\r\n				<p>'+__e(i18next.t('"?" will open the shortcuts page.'))+'</p>				\r\n				<hr/>\r\n				<div class="clearfix">\r\n				<span class="h3 pull-left">'+__e(i18next.t("Subscribe"))+'</span>\r\n				<span class="pull-right label label-primary right-mar well-sm">S</span>\r\n				</div>\r\n				<p>'+__e(i18next.t('"s" will subscribe you to, or unsubscribe you from, a card. Subscribing to a card will give you notifications for most actions to that card.'))+'</p>\r\n				<hr/>\r\n				<div class="clearfix">\r\n				<span class="h3 pull-left">'+__e(i18next.t("Toggle Board Menu"))+'</span>\r\n				<span class="pull-right label label-primary right-mar well-sm">W</span>\r\n				</div>\r\n				<p>'+__e(i18next.t('"w" will collapse or expand the board menu, the sidebar on the right.'))+'</p>\r\n				<hr/>\r\n				<div class="clearfix">\r\n				<span class="h3 pull-left">'+__e(i18next.t("Vote"))+'</span>\r\n				<span class="pull-right label label-primary right-mar well-sm">V</span>\r\n				</div>\r\n				<p>'+__e(i18next.t('"v" will add (or remove) your vote on a card.'))+"</p>\r\n				<hr/>\r\n			</div>\r\n		  </div><!-- /.modal-content -->\r\n    </div>\r\n</div>\r\n\r\n";return __p},this.JST["templates/modal_user_activities_list_view"]=function(obj){obj||(obj={});var __p="",__e=_.escape;with(obj)__p+='<div class="modal fade" id="modalUserActivitiesListView" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">\r\n	<div class="modal-dialog">\r\n		  <div class="modal-content">\r\n			<div class="modal-header">\r\n			  <button type="button" class="close pull-right" data-dismiss="modal" aria-hidden="true">&times;</button>			  \r\n			<h4 id="myModalLabel" class="modal-title"><strong>'+__e(list.attributes.full_name)+"</strong> ("+__e(list.attributes.username)+')</h4>\r\n			</div>			\r\n			<div class="modal-body scrollbar">\r\n				<div>\r\n					<div class="clearfix">\r\n						<ul class="clearfix list-unstyled" id="js-list-user-activities-list"></ul>\r\n					</div>\r\n				</div>\r\n			</div>\r\n		  </div><!-- /.modal-content -->\r\n    </div>\r\n</div>';return __p},this.JST["templates/move_card"]=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj){var content_board='<div class="form-group clearfix"><select name="board_id" class="js-change-list col-xs-12 form-control input-sm cur">',content_list='<div class="form-group clearfix"><select name="list_id" class="js-change-position col-xs-12 form-control input-sm cur">',content_position='<div class="form-group clearfix"><select name="position" class="js-position col-xs-12 form-control input-sm cur">';card.list.cards.sortByColumn("position");var current_position=card.list.cards.indexOf(card.list.cards.get(card.attributes.id))+1;0==current_position&&(current_position=1),boards.each(function(a){if(card.attributes.board_id==a.id){content_board+='<option value="'+a.id+'" selected="selected">'+_.escape(a.attributes.name)+" "+i18next.t("(current)")+"</option>";var b=a.lists.where({is_archived:0,board_id:card.attributes.board_id});_.each(b,function(a){if(card.attributes.list_id==a.id){content_list+='<option value="'+a.id+'" selected="selected">'+_.escape(a.attributes.name)+" "+i18next.t("(current)")+"</option>";for(var b=1;b<=a.attributes.card_count;b++)content_position+=card.attributes.list_id==a.attributes.id&&b==current_position?'<option value="'+b+'" selected="selected">'+b+" "+i18next.t("(current)")+"</option>":'<option value="'+b+'">'+b+"</option>";if(card.attributes.list_id!=a.attributes.id){var c=parseInt(a.attributes.card_count)+1;content_position+='<option value="'+c+'">'+c+"</option>"}}else content_list+='<option value="'+a.id+'">'+_.escape(a.attributes.name)+"</option>"})}else 0===parseInt(a.attributes.is_closed)&&(content_board+='<option value="'+a.id+'">'+_.escape(a.attributes.name)+"</option>")}),content_board+="</select></div>",content_list+="</select></div>",content_position+="</select></div>";var content=content_board+content_list+content_position;__p+="\r\n"+(null==(__t=content)?"":__t)}return __p},this.JST["templates/move_cards_from_list"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;Array.prototype.join;with(obj){var list_li="";_.each(filtered_lists,function(a){list_li+=a.id==list.attributes.id?'<li class="disabled navbar-btn"><a href="#" class="js-no-action text-muted">'+_.escape(a.attributes.name)+" "+i18next.t("(current)")+"</a></li>":'<li class="navbar-btn"><a href="#" class="js-move-cards js-close-popup" data-move-list-id="'+a.id+'">'+_.escape(a.attributes.name)+"</a></li>"}),__p+='\r\n<li class="clearfix text-center col-xs-12">\r\n	<div class="clearfix">\r\n	<a href="#" class="js-back-to-list-actions pull-left" data-list-id="'+__e(list.id)+'"><i class="icon-caret-left"></i></a><span class="col-xs-10"><strong>'+__e(i18next.t("Move All Cards in this List"))+'</strong></span><a class="js-close-popup pull-right" href="#"><i class="icon-remove"></i></a>\r\n	</div>	\r\n</li>\r\n<li class="col-xs-12 divider"></li>\r\n'+(null==(__t=list_li)?"":__t)}return __p},this.JST["templates/move_list"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;Array.prototype.join;with(obj){var content_board='<div class="form-group clearfix col-xs-12"><select name="board_id" class="js-move-change-list col-xs-12 form-control input-sm cur">',content_position='<div class="form-group clearfix col-xs-12"><select name="list_id" id="list_position" class="js-move-change-position col-xs-12 form-control input-sm cur">',board_lists=new App.ListCollection;board_lists.sortByColumn("position");var current_position=board_lists.indexOf(board_lists.findWhere({id:list.attributes.id}))+1;0==current_position&&(current_position=1),boards.each(function(a){if(list.attributes.board_id==a.id){var b=a.lists.where({is_archived:0}).length;content_board+='<option value="'+a.id+'" selected="selected">'+_.escape(a.attributes.name)+" "+i18next.t("(current)")+"</option>";for(var c=1;b>=c;c++)content_position+=c==list.attributes.position?'<option value="'+c+'" selected="selected">'+c+" "+i18next.t("(current)")+"</option>":'<option value="'+c+'">'+c+"</option>";if(list.attributes.board_id!=a.attributes.id){var d=parseInt(b)+1;content_position+='<option value="'+d+'">'+d+"</option>"}}else 0===parseInt(a.attributes.is_closed)&&(content_board+='<option value="'+a.id+'">'+_.escape(a.attributes.name)+"</option>")}),content_board+="</select></div>",content_position+="</select></div>";var content=content_board+content_position;__p+='\r\n<div class="clearfix text-center col-xs-12"><a data-list-id="268" class="js-back-to-list-actions pull-left" href="#"><i class="icon-caret-left"></i></a><span class="col-xs-10"><strong>'+__e(i18next.t("Move List"))+'</strong></span><a class="js-close-popup pull-right" href="#"><i class="icon-remove"></i></a></div><div class="col-xs-12 divider"></div>\r\n<form role="form" class="js-move-list" name="MoveListForm" id="MoveListForm">\r\n'+(null==(__t=content)?"":__t)+'\r\n  <div class="form-group clearfix panel-body">\r\n	<label class="sr-only">'+__e(i18next.t("Move"))+'</label>\r\n	<input type="submit" id="submitListMove" class="btn btn-primary col-xs-12" value="'+__e(i18next.t("Move"))+'" />\r\n  </div>\r\n</form>'}return __p},this.JST["templates/my_boards_listing"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;Array.prototype.join;with(obj){if(null!=board){var style="";board.board_subscribers.add(board.attributes.boards_subscribers);var subscriber=board.board_subscribers.findWhere({board_id:parseInt(board.id),user_id:parseInt(authuser.user.id)});if(board.attributes.background_picture_url){var background_picture_url=board.attributes.background_picture_url.replace("_XXXX.jpg","_s.jpg");style="background-image:url("+background_picture_url+"); background-size:cover;"}else if(board.attributes.background_pattern_url){var background_pattern_url=board.attributes.background_pattern_url.replace("_XXXX.jpg","_s.jpg");style="background-image:url("+background_pattern_url+"); background-size:cover;"}else board.attributes.background_color&&(style="background-color:"+board.attributes.background_color+";color:#ffffff;");__p+='\r\n<a  href="#/board/'+__e(board.attributes.id)+'" class="highlight-icon clearfix">\r\n	<span style="'+(null==(__t=style)?"":__t)+'" class="preview-thumbnail"></span>\r\n	<span class="details navbar-btn">\r\n		<span title="'+__e(board.attributes.name)+'" class="board-list-item-name htruncate btn-block navbar-btn ">'+__e(board.attributes.name)+'</span><span class="pull-right hide js-stared-conatiner js-stared-conatiner-'+__e(board.attributes.id)+'">\r\n			',_.isUndefined(subscriber)||_.isEmpty(subscriber)||0!==parseInt(subscriber.attributes.is_subscribe)?(__p+='\r\n				<span title="'+__e(i18next.t("Click to star this board. It will show up at top of your boards list."))+'" name="subscribe" class="icon-star-empty js-star-board" data-subscriber_id="',__p+=_.isUndefined(subscriber)||_.isEmpty(subscriber)?"  ":" "+__e(subscriber.id)+" ",__p+='" data-board_id="'+__e(board.attributes.id)+'"></span>\r\n		'):__p+='\r\n				<span title="'+__e(i18next.t("Click to star this board. It will show up at top of your boards list."))+'" name="unsubscribe" class="icon-star js-star-board" data-subscriber_id="'+__e(subscriber.attributes.id)+'" data-board_id="'+__e(board.attributes.id)+'"></span>\r\n		  ',__p+="\r\n		\r\n		</span>\r\n	</span>\r\n</a>\r\n"}else __p+='\r\n <div class="alert alert-info">\r\n	'+__e(i18next.t("No %s available.",{postProcess:"sprintf",sprintf:[i18next.t("boards")]}))+"\r\n</div>\r\n";__p+="	\r\n		\r\n  "}return __p},this.JST["templates/notification_menu"]=function(obj){obj||(obj={});var __p="",__e=_.escape;with(obj)__p+='<li><a href="#" class="js-all-activities"> '+__e(i18next.t("All"))+'</a></li>\r\n<li><a href="#" class="js-board-activities">'+__e(i18next.t("In this board"))+"</a></li>";return __p},this.JST["templates/oauth_applications"]=function(obj){obj||(obj={});var __p="",__e=_.escape;Array.prototype.join;with(obj)!_.isUndefined(oauth_applications)&&oauth_applications.length>0?_.each(oauth_applications,function(a){__p+='\r\n  <div class="clearfix">\r\n    <div class="col-xs-10">\r\n      <h4><span class="c">'+__e(a.client_name)+'</span></h4>\r\n    </div>\r\n	<div class="col-xs-2 pull-right">\r\n	  <div class="row-fluid">\r\n		<div class="pull-right">\r\n		  <div class="btn-group">\r\n			<button class="btn js-delete" data-client_id="'+__e(a.client_id)+'" title="'+__e(i18next.t("Revoke"))+'">'+__e(i18next.t("Revoke"))+"</button>\r\n		  </div>\r\n		</div>\r\n	  </div>\r\n	</div>\r\n  </div>\r\n\r\n<hr/>\r\n"}):__p+='\r\n	<div class="col-xs-12 alert alert-info">\r\n	'+__e(i18next.t("No %s available.",{postProcess:"sprintf",sprintf:[i18next.t("authorized OAuth application")]}))+"</div>\r\n",__p+="\r\n";return __p},this.JST["templates/oauth_client"]=function(obj){obj||(obj={});var __p="",__e=_.escape;Array.prototype.join;with(obj)__p+='<div class="well-lg navbar-btn"></div>\r\n',!_.isUndefined(oauth_clients)&&oauth_clients.length>0?_.each(oauth_clients,function(a){__p+='\r\n  <div class="clearfix">\r\n    <div class="col-xs-10">\r\n      <h2><span class="c">'+__e(a.client_name)+'</span></h2>\r\n	  <dl class="dl-horizontal">\r\n		  <dt>'+__e(i18next.t("Client ID:"))+"</dt>\r\n		  <dd>"+__e(a.client_id)+"</dd>\r\n		  <dt>"+__e(i18next.t("Client Secret:"))+"</dt>\r\n		  <dd>"+__e(a.client_secret)+'</dd>\r\n	  </dl>\r\n    </div>\r\n	<div class="col-xs-2 pull-right">\r\n	  <div class="row-fluid">\r\n		<div class="pull-right">\r\n		  <div class="btn-group">\r\n			<button class="btn dropdown-toggle js-no-pjax xltriggered" data-toggle="dropdown"><i class="icon-cog"></i><span class="caret"></span></button>\r\n			<ul class="dropdown-menu arrow arrow-right pull-right">\r\n				<li><a title="'+__e(i18next.t("Edit"))+'" href="#/oauth_clients/edit/'+__e(a.id)+'"><i class="icon-edit"></i>'+__e(i18next.t("Edit"))+"</a></li>\r\n				",(7742632501382313==a.id||7857596005287233==a.id||6664115227792148==a.id)&&(__p+='\r\n					<li><a class="js-delete" data-id="'+__e(a.id)+'" title="'+__e(i18next.t("Delete"))+'" href=""><i class="icon-remove"></i>'+__e(i18next.t("Delete"))+"</a></li>\r\n				"),__p+="\r\n			</ul>\r\n		  </div>\r\n		</div>\r\n	  </div>\r\n	</div>\r\n  </div>\r\n\r\n<hr/>\r\n"}):__p+='\r\n	<div class="col-xs-12 text-center alert alert-info">'+__e(i18next.t("No %s available",{postProcess:"sprintf",sprintf:["OAuth application"]}))+"</div>\r\n",__p+="\r\n";return __p},this.JST["templates/oauth_client_add"]=function(obj){obj||(obj={});var __p="",__e=_.escape;with(obj)__p+='<div class="well-sm"><h3>'+__e(i18next.t("Register a new OAuth application"))+'</h3></div>\r\n<form id="oauthClientAddForm" name="oauthClientAddForm" class="form-horizontal col-xs-12">\r\n  <div class="form-group">\r\n	<label class="col-sm-2 control-label col-xs-12" for="inputClientName">'+__e(i18next.t("Application Name"))+'</label>\r\n	<div class="col-sm-8 col-xs-12">\r\n		<input type="text" required name="client_name" id="inputClientName" class="form-control" placeholder="'+__e(i18next.t("Application Name"))+'" title="'+__e(i18next.t("Application Name"))+'">\r\n		<div><span class="help-block">'+__e(i18next.t("Something users will recognize and trust"))+'</span></div>\r\n	</div>\r\n  </div>\r\n  <div class="form-group">\r\n	<label class="col-sm-2 control-label col-xs-12" for="inputClientUrl">'+__e(i18next.t("Homepage URL"))+'</label>\r\n	<div class="col-sm-8 col-xs-12">\r\n		<input type="text" name="client_url" id="inputClientUrl" class="form-control" placeholder="'+__e(i18next.t("Homepage URL"))+'" title="'+__e(i18next.t("Homepage URL"))+'">\r\n		<div><span class="help-block">'+__e(i18next.t("The full URL to your application homepage"))+'</span></div>\r\n	</div>\r\n  </div>\r\n  <div class="form-group">\r\n	<label class="col-sm-2 control-label col-xs-12" for="inputRedirectUris">'+__e(i18next.t("Authorization callback URL"))+'</label>\r\n	<div class="col-sm-8 col-xs-12">\r\n		<input type="text" name="redirect_uri" id="inputRedirectUris" class="form-control" placeholder="'+__e(i18next.t("Authorization callback URL"))+'" title="'+__e(i18next.t("Authorization callback URL"))+'">\r\n		<div><span class="help-block">'+__e(i18next.t("Your application callback URL. Multiple URL can be separated by space"))+'</span></div>\r\n	</div>\r\n  </div>\r\n  <div class="form-group">\r\n	<label class="sr-only col-sm-2 control-label col-xs-12" for="submit2">'+__e(i18next.t("Register application"))+'</label>\r\n	<div class="col-sm-8">\r\n		<input type="submit" class="btn btn-primary" id="submitAddClient" value="'+__e(i18next.t("Register application"))+'">\r\n	</div>\r\n  </div>\r\n</form>';return __p},this.JST["templates/oauth_client_edit"]=function(obj){obj||(obj={});var __p="",__e=_.escape;with(obj)__p+='<div class="well-sm"><h3>'+__e(i18next.t("Edit OAuth application"))+'</h3></div>\r\n<form id="oauthClientEditForm" name="oauthClientEditForm" class="form-horizontal col-xs-12">\r\n  <div class="form-group">\r\n	<label class="col-sm-2 control-label col-xs-12" for="inputClientName">'+__e(i18next.t("Application Name"))+'</label>\r\n	<div class="col-sm-8 col-xs-12">\r\n		<input type="text" required name="client_name" value="'+__e(oauth_client.client_name)+'" id="inputClientName" class="form-control" placeholder="'+__e(i18next.t("Application Name"))+'" title="'+__e(i18next.t("Application Name"))+'">\r\n		<div><span class="help-block">'+__e(i18next.t("Something users will recognize and trust"))+'</span></div>\r\n	</div>\r\n  </div>\r\n  <div class="form-group">\r\n	<label class="col-sm-2 control-label col-xs-12" for="inputClientUrl">'+__e(i18next.t("Homepage URL"))+'</label>\r\n	<div class="col-sm-8 col-xs-12">\r\n		<input type="text" name="client_url" value="'+__e(oauth_client.client_url)+'" id="inputClientUrl" class="form-control" placeholder="'+__e(i18next.t("Homepage URL"))+'" title="'+__e(i18next.t("Homepage URL"))+'">\r\n		<div><span class="help-block">'+__e(i18next.t("The full URL to your application homepage"))+'</span></div>\r\n	</div>\r\n  </div>\r\n  <div class="form-group">\r\n	<label class="col-sm-2 control-label col-xs-12" for="inputRedirectUris">'+__e(i18next.t("Authorization callback URL"))+'</label>\r\n	<div class="col-sm-8 col-xs-12">\r\n		<input type="text" name="redirect_uri" value="'+__e(oauth_client.redirect_uri)+'" id="inputRedirectUris" class="form-control" placeholder="'+__e(i18next.t("Authorization callback URL"))+'" title="'+__e(i18next.t("Authorization callback URL"))+'">\r\n		<div><span class="help-block">'+__e(i18next.t("Your application callback URL. Multiple URL can be separated by space"))+'</span></div>\r\n	</div>\r\n  </div>\r\n  <div class="form-group">\r\n	<label class="sr-only col-sm-2 control-label col-xs-12" for="submit2">'+__e(i18next.t("Update application"))+'</label>\r\n	<div class="col-sm-8">\r\n		<input type="submit" class="btn btn-primary" id="submitEditClient" value="'+__e(i18next.t("Update application"))+'">\r\n	</div>\r\n  </div>\r\n</form>';return __p},this.JST["templates/organization_add"]=function(obj){obj||(obj={});var __p="",__e=_.escape;with(obj)__p+='<div class="clearfix text-center col-xs-12">\r\n	<a href="#" class="js-show-organizations-board-from pull-left"><i class="icon-caret-left"></i></a><span class="col-xs-10"><strong> '+__e(i18next.t("Create Organization"))+'</strong></span><a class="js-close-popover pull-right" href="#"><i class="icon-remove"></i></a></span></h4>\r\n</div>\r\n<div class="col-xs-12 divider"></div>\r\n<div class="col-xs-12">\r\n	<form name="OrganizationAddForm" id="OrganizationAddForm">\r\n		<div class="form-group required">\r\n			<label for="inputOrganizationName">'+__e(i18next.t("Name"))+'</label>\r\n			<input class="form-control input-sm" type="text" maxlength="255" id="inputOrganizationName" name="name" required>\r\n		</div>\r\n		<div class="form-group">\r\n			<label for="inputOrganizationDescription">'+__e(i18next.t("Description"))+'</label>\r\n			<textarea class="form-control" type="textarea" id="inputOrganizationDescription" name="description"></textarea>\r\n		</div>\r\n		<div class="form-group">\r\n			<input type="submit" value="'+__e(i18next.t("Add"))+'" id="js-add-organization" class="btn  btn-primary">\r\n		</div>\r\n		<p>'+__e(i18next.t("An organization is a group of boards and members."))+"</p>\r\n		</form>\r\n</div>";return __p},this.JST["templates/organization_board"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;Array.prototype.join;with(obj)if(null!=board){__p+='\r\n<div class="panel">\r\n	<div class="panel-body bg-warning">\r\n		<div class="clearfix">\r\n			<h4 class="col-md-9 col-sm-8 col-xs-9 navbar-btn">\r\n				<span class="show row navbar-btn">\r\n				',__p+=_.isEmpty(role_links.where({slug:"starred_board"}))?"\r\n					"+__e(board.attributes.name)+"					\r\n				":'\r\n					<a class="htruncate btn-block" href="#/board/'+__e(board.id)+'" title="'+__e(board.attributes.name)+'">'+__e(board.attributes.name)+"</a>\r\n				",__p+="\r\n				</span> \r\n			</h4>\r\n			",_.isEmpty(role_links.where({slug:"starred_board"}))||(__p+='\r\n				<span class="pull-right dropdown">\r\n					<a href="#" class="js-board-visibility text-muted h5 show" data-toggle="dropdown">\r\n						',0==board.attributes.board_visibility?__p+='\r\n							<span title="'+__e(i18next.t("Private"))+'" class="icon-lock col-lg-2 text-primary"></span>\r\n						':1==board.attributes.board_visibility?__p+=' \r\n							<span title="'+__e(i18next.t("Organization"))+'" class="icon-group col-lg-2 text-primary"></span>\r\n						':2==board.attributes.board_visibility&&(__p+='\r\n							<span title="'+__e(i18next.t("Public"))+'" class="icon-circle col-lg-2 text-primary"></span>\r\n						'),__p+='\r\n					</a>\r\n					<ul class="dropdown-menu arrow arrow-right">\r\n						<li class="js-visibility-popup js-dropdown-popup dropdown-popup">\r\n							<div class="clearfix text-center col-xs-12">\r\n							  <a class="js-back-to-board-visibility hide pull-left" href="#"><i class="icon-caret-left"></i></a>\r\n							  <span class="col-xs-10"><strong>'+__e(i18next.t("Change Visibility"))+'</strong></span><a class="js-close-span-popover pull-right" href="#"><i class="icon-remove"></i></a>\r\n							</div>\r\n						</li>\r\n						<li class="col-xs-12 divider js-visibility-list"></li>\r\n					</ul> \r\n				</span>\r\n			'),
__p+="\r\n			",_.isEmpty(role_links.where({slug:"starred_board"}))||(__p+="\r\n				",__p+=_.isEmpty(stared)?'\r\n					<a title="'+__e(i18next.t("Star"))+'" href="#" class="h5 pull-right js-star-board" name="star"><i class="icon-star-empty"></i></a>\r\n				':'\r\n					<a title="'+__e(i18next.t("Unstar"))+'" href="#" class="h5 pull-right js-star-board" name="unstar"><i class="icon-star  text-primary"></i></a>\r\n				',__p+="\r\n			"),__p+='\r\n	  </div>\r\n	  <div class="js-board-inner-view"></div>\r\n		<ul class="list-unstyled chart-block">\r\n		';var style="";if(board.attributes.background_picture_url){var background_picture_url=board.attributes.background_picture_url.replace("_XXXX.jpg","_n.jpg");style="background:url("+background_picture_url+") 25% 25%; background-size: cover"}else if(board.attributes.background_pattern_url){var background_pattern_url=board.attributes.background_pattern_url.replace("_XXXX.jpg","_n.jpg");style="background:url("+background_pattern_url+") repeat scroll 0% 0%;"}else board.attributes.background_color&&(style="background:"+board.attributes.background_color);__p+="\r\n		",__p+=_.isEmpty(role_links.where({slug:"starred_board"}))?'\r\n			<li class="list-group-item clearfix" style="'+(null==(__t=style)?"":__t)+'">\r\n					<div id="doughnutChart" class="chart js-chart"></div>\r\n			</li>\r\n		':'\r\n			<li class="list-group-item clearfix" style="'+(null==(__t=style)?"":__t)+'">\r\n				<a class="show" href="#/board/'+__e(board.id)+'">\r\n					<div id="doughnutChart" class="chart js-chart"></div>\r\n				</a>\r\n			</li>\r\n		',__p+="\r\n		</ul>\r\n	</div>\r\n</div>\r\n"}else __p+='\r\n	<div class="alert alert-info">\r\n	'+__e(i18next.t("No %s available.",{postProcess:"sprintf",sprintf:[i18next.t("boards")]}))+"\r\n</div>\r\n";return __p},this.JST["templates/organization_delete_form"]=function(obj){obj||(obj={});var __p="",__e=_.escape;with(obj)__p+='<div class="col-xs-12 text-center clearfix">	\r\n	<span class="col-xs-10"><strong>'+__e(i18next.t("Delete Organization")+"?")+'</strong></span><a class="js-close-popover pull-right" href="#"><i class="icon-remove"></i></a>\r\n</div>\r\n<div class="col-xs-12 divider"></div>\r\n<div class="col-xs-12">\r\n	<ul class="list-unstyled">\r\n		<li class="text-left">\r\n				<span class="show">'+__e(i18next.t("Deleting an organization is permanent. There is no undo."))+'</span>\r\n				<div class="col-xs-12 btn-block navbar-btn">\r\n					<a class="js-delete-organization" title="'+__e(i18next.t("Delete Organization"))+'"><span class=" btn btn-primary">'+__e(i18next.t("Delete"))+"</span></a>\r\n				</div>\r\n		</li>\r\n	</ul>\r\n</div>";return __p},this.JST["templates/organization_header"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;Array.prototype.join;with(obj)__p+='  <div class="container-fluid">\r\n	<div class="navbar-left navbar-btn col-sm-11 col-xs-10 nav  col-lg-5 col-md-4 list-group-item-text">\r\n		<div class="clearfix row-flex">\r\n			<h2 class="navbar-left navbar-btn col-flex col-flex1 list-group-item-heading list-group-item-text"><span class="navbar-left"><a href="#/" title="'+__e(SITE_NAME)+'"><img src="img/logo.png" alt="[Image: '+__e(SITE_NAME)+']" title="'+__e(SITE_NAME)+'" class="img-responsive center-block"/></a></span></h2>\r\n			<ul class="list-inline navbar-left h3 navbar-btn navbar-form text-center col-flex col-flex2">\r\n				<li>\r\n					<span class=" pull-left h4 navbar-btn">/</span>\r\n					<span class="text-muted h4 navbar-btn htruncate col-xs-10 list-group-item-heading list-group-item-text text-left">'+__e(organization.attributes.name)+"</span></li>\r\n			</ul>\r\n		</div>\r\n	</div>\r\n	",_.isUndefined(authuser.user)||(__p+='\r\n  <div class="navbar-right navbar-btn">\r\n	<ul class="nav nav-pills navbar-left">\r\n	',_.isUndefined(authuser.user)||1!=authuser.user.role_id&&_.isEmpty(organization.acl_links.where({slug:"delete_organization",organization_user_role_id:parseInt(organization.organization_user_role_id)}))||(__p+='\r\n	  <li class="dropdown">\r\n			<a href="#" title="Delete" class="text-muted list-group-item-text navbar-btn h4 dropdown-toggle" data-toggle="dropdown"><i class="icon-trash"></i></a>\r\n			<ul class="dropdown-menu arrow arrow-right list-unstyled">\r\n					<li class="col-xs-12 text-center clearfix">						\r\n							<div class="clearfix"><span class="col-xs-10"><strong>'+__e(i18next.t("Delete Organization")+"?")+'</strong></span><a class="js-close-popover pull-right" href="#"><i class="icon-remove"></i></a></div>\r\n					</li>\r\n					<li class="col-xs-12 divider"></li>\r\n					<li>\r\n						<a class="js-delete-organization show clearfix small well-xs" href="#">\r\n							<span class="show text-primary col-xs-12 navbar-btn h5">'+__e(i18next.t("Remove from organization"))+'</span>\r\n							<span class="col-xs-12 navbar-btn">'+__e(i18next.t("Deleting an organization is permanent. Are you sure you want to delete this organization? There is no undo. Boards with this organization won't be deleted. Your boards in this organization will appear in your personal boards list."))+"</span>\r\n						</a>\r\n					</li>					\r\n			</ul>\r\n		</li>\r\n	"),__p+="		  \r\n	  ",_.isUndefined(authuser.user)||1!=authuser.user.role_id&&_.isEmpty(organization.acl_links.where({slug:"edit_organization",organization_user_role_id:parseInt(organization.organization_user_role_id)}))||(__p+='\r\n		  <li class="dropdown navbar-btn">\r\n			<a href="#" title="Edit" class="text-muted dropdown-toggle" data-toggle="dropdown"><span class="icon-pencil"></span></a>\r\n			<ul class="dropdown-menu arrow arrow-right list-unstyled list-inline clearfix pull-right">\r\n				<li class="js-dropdown-popup dropdown-popup btn-block">\r\n					<div class="js-organization-edit-block col-xs-12">\r\n						<form name="OrganizationEditForm" id="OrganizationEditForm"> \r\n							<div class="form-group required">\r\n								<label for="inputOrganizationName">'+__e(i18next.t("Name"))+'</label>\r\n								<input type="text" id="inputOrganizationName" maxlength="255" name="name" class="form-control input-sm" value="'+__e(organization.attributes.name)+'" required />\r\n							</div>\r\n							<div class="form-group">\r\n								<label for="inputOrganizationWebsite">'+__e(i18next.t("Website"))+'</label>\r\n								<input type="text" id="inputOrganizationWebsite" name="website_url" class="form-control input-sm" value="'+(null==(__t=organization.attributes.website_url)?"":__t)+'" />\r\n							</div>\r\n							<div class="form-group">\r\n								<label for="inputOrganizationDescription">'+__e(i18next.t("Description"))+'</label>\r\n								<textarea type="textarea" id="inputOrganizationDescription" class="form-control" name="description">'+__e(organization.attributes.description)+'</textarea>\r\n							</div>\r\n							<div class="submit">\r\n								<input type="submit" value="'+__e(i18next.t("Save"))+'" id="js-edit-organization" class="btn btn-primary" />\r\n								<input type="button" class="js-close-popover btn btn-default" value="'+__e(i18next.t("Cancel"))+'" />\r\n							</div>\r\n						</form>\r\n					</div>\r\n				</li>\r\n			</ul>	\r\n		  </li>\r\n	  '),__p+="\r\n	  ",_.isUndefined(authuser.user)||1!=authuser.user.role_id&&_.isEmpty(organization.acl_links.where({slug:"view_organization_visibility",organization_user_role_id:parseInt(organization.organization_user_role_id)}))||(__p+='\r\n	  <li class="dropdown navbar-btn">\r\n		<a href="" title="',__p+=__e(1==organization.attributes.organization_visibility?i18next.t("Public"):i18next.t("Private")),__p+='" class="js-org-visibility-name js-show-organization-visibility-form text-muted dropdown-toggle" data-toggle="dropdown"><span class="js-org-visibility-icon ',__p+=1==organization.attributes.organization_visibility?"icon-circle ":"icon-lock",__p+=' text-muted"></span><span class="h4 js-org-visibility-type">',__p+=__e(1==organization.attributes.organization_visibility?i18next.t("Public"):i18next.t("Private")),__p+='</span></a>\r\n		<ul class="dropdown-menu arrow arrow-right list-unstyled clearfix pull-left js-organization-visibility">\r\n		'),__p+="	\r\n		</ul>\r\n	  </li>\r\n	</ul>\r\n	</div>\r\n");return __p},this.JST["templates/organization_member_confirm_remove_form"]=function(obj){obj||(obj={});var __p="",__e=_.escape;with(obj)__p+='<div class="col-xs-12 text-center clearfix">	\r\n	<span class="col-xs-10"><strong>'+__e(i18next.t("Leave organization"))+'</strong></span><a class="js-close-popover pull-right" href="#"><i class="icon-remove"></i></a>\r\n</div>\r\n<div class="col-xs-12 divider"></div>\r\n<div class="col-xs-12">\r\n	<ul class="list-unstyled">\r\n		<li>\r\n			<a class="js-delete-organization-member" data-organizations_user_id="'+__e(organization_users.organizations_user_id)+'" href="#">\r\n				<span class="show"> '+__e(i18next.t("Remove all access to the organization.  The member will remain on all their boards in this organization. They will receive a notification."))+"</span>\r\n			</a>\r\n		</li>\r\n	</ul>\r\n</div>";return __p},this.JST["templates/organization_member_permission_form"]=function(obj){obj||(obj={});var __p="",__e=_.escape;Array.prototype.join;with(obj)_.isUndefined(authuser.user)||1!=authuser.user.role_id&&_.isEmpty(organization_user.acl_links.where({slug:"edit_organization_user",organization_user_role_id:parseInt(organization_user.organization_user_role_id)}))||(__p+='\r\n<li class="col-xs-12 text-center clearfix">\r\n	<div class="clearfix">\r\n		<span class="col-xs-10"><strong>'+__e(i18next.t("Change permissions"))+'</strong></span><a class="js-close-popover pull-right" href="#"><i class="icon-remove"></i></a>\r\n	</div>\r\n</li>\r\n<li class="divider col-xs-12 btn-block"></li>\r\n',_.each(organization_user.organization_user_roles,function(a){__p+='\r\n	<li class="col-xs-12 btn-block">\r\n		<a class="h6 navbar-btn js-edit-organization-member-permission" data-organizations_user_id="'+__e(organization_user.organizations_user_id)+'" \r\n		data-organizations_id="'+__e(organization_user.attributes.organization_id)+'" data-organization_user_role_id="'+__e(a.id)+'" href="#">\r\n			<span class="show text-primary navbar-btn h5">'+__e(a.name)+"  \r\n			",a.id==organization_user.attributes.organization_user_role_id&&(__p+='<i class="icon-check well-sm"></i>'),__p+='	\r\n			</span>\r\n			<span class="show">'+__e(i18next.t("Can view, create and edit org boards, and change settings for the organization."))+'</span>\r\n		</a>\r\n	</li>\r\n	<li class="divider col-xs-12 btn-block"></li>\r\n'}));return __p},this.JST["templates/organization_member_remove_form"]=function(obj){obj||(obj={});var __p="",__e=_.escape;with(obj)__p+='<li class="col-xs-12">\r\n	<a class="show row small well-xs js-delete-organization-member" data-organizations_user_id="'+__e(organization_users.organizations_user_id)+'" href="#">\r\n		<span class="show text-primary navbar-btn h5">'+__e(i18next.t("Remove from organization"))+'</span>\r\n		<span class="navbar-btn">'+__e(i18next.t("Remove all access to the organization.  The member will remain on all their boards in this organization."))+"</span>\r\n	</a>\r\n</li>\r\n";return __p},this.JST["templates/organization_user_role_add"]=function(obj){obj||(obj={});var __p="",__e=_.escape;with(obj)__p+='<div class="col-lg-4 col-md-4 col-sm-6 col-xs-12 col-lg-offset-4 col-md-offset-4 col-sm-offset-3">\r\n<div class="panel panel-default">\r\n  <div class="panel-heading lead">'+__e(i18next.t("Add Organization User Role"))+'</div>\r\n  <div class="panel-body well-lg">\r\n	<form id="OrganizationUserRoleAddForm" name="OrganizationUserRoleAddForm" class="form-horizontal col-xs-12">\r\n	  <div class="form-group required">\r\n		<label class="sr-only control-label" for="inputName">'+__e(i18next.t("Name"))+'</label>\r\n		<input type="name" name="name" id="inputName" class="form-control" placeholder="'+__e(i18next.t("Name"))+'" required>\r\n	  </div>\r\n	  <div class="form-group required">\r\n		<label class="sr-only control-label" for="inputDescription">'+__e(i18next.t("Description"))+'</label>\r\n		<input type="text" name="description" id="inputDescription" class="form-control" placeholder="'+__e(i18next.t("Description"))+'">\r\n	  </div>\r\n	  <div class="form-group">\r\n		<label class="sr-only control-label" for="submitAddOrganizationUserRole">'+__e(i18next.t("Add"))+'</label>\r\n		<input type="submit" class="btn btn-primary col-xs-12" id="submitAddOrganizationUserRole" value="'+__e(i18next.t("Add"))+'">\r\n	  </div>\r\n	</form>\r\n  </div>\r\n</div>\r\n</div>';return __p},this.JST["templates/organization_view"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;Array.prototype.join;with(obj){__p+='<!-- Main block start -->\r\n<section class="clearfix row">\r\n <div class="col-xs-12 h4">\r\n	<ul class="nav nav-tabs">\r\n		<li ',(_.isUndefined(type)||"boards"==type)&&(__p+='class="active" '),__p+='><a href="#/organization/'+__e(organization.attributes.id)+'/boards" class="">'+__e(i18next.t("Boards"))+"</a></li>\r\n		",_.isUndefined(authuser.user)||1!=authuser.user.role_id&&_.isEmpty(organization.acl_links.where({slug:"view_organization_user_listing",organization_user_role_id:parseInt(organization.organization_user_role_id)}))&&_.isEmpty(organization.acl_links.where({slug:"add_organization_user",organization_user_role_id:parseInt(organization.organization_user_role_id)}))||(__p+="\r\n			<li ",_.isUndefined(type)||"users"!=type||(__p+='class="active" '),__p+='><a href="#/organization/'+__e(organization.attributes.id)+'/users" class="">'+__e(i18next.t("Members"))+"</a></li>\r\n		"),__p+='\r\n	</ul>\r\n</div>\r\n  <div class="col-xs-12"> <div class="col-lg-10 col-md-9 col-sm-9 col-xs-12">\r\n	<!-- Tab panes -->\r\n		<div class="tab-content">\r\n			<div class="tab-pane ',(_.isUndefined(type)||"boards"==type)&&(__p+="active"),__p+='" id="board">\r\n				<section class="clearfix">\r\n				  <div class="clearfix" id="js-organization-board-listing"> \r\n				  </div>\r\n				</section>\r\n			</div>\r\n			<div class="tab-pane js-get-organization-member-lists-response  ',_.isUndefined(type)||"users"!=type||(__p+="active"),__p+='" id="member"></div>\r\n		</div>\r\n  </div>\r\n  <form class="col-lg-2 col-md-3 col-sm-3 col-xs-12 js-org-drag" role="form" enctype="multipart/form-data" id="js-org-drag">\r\n	<div class="well well-sm clearfix text-center">\r\n	';var logo_path="img/default-organization.png",is_logo_added=!1;_.isUndefined(organization.attributes.logo_url)||null==organization.attributes.logo_url||(is_logo_added=!0,logo_path=organization.showImage("Organization",organization.attributes.id,"medium_thumb")+"?"+(new Date).getTime()),__p+="\r\n	  <div ",_.isUndefined(authuser.user)||1!=authuser.user.role_id&&_.isEmpty(organization.acl_links.where({slug:"upload_organization_logo",organization_user_role_id:parseInt(organization.organization_user_role_id)}))||(__p+=' id="dropzone" '),__p+='class="navbar-btn btn-xs">',!_.isUndefined(authuser.user)&&is_logo_added&&(__p+='<span class="profile-block show"><i class="js-remove-image icon icon-remove close-block cur"></i><span>'),__p+='<img src="'+(null==(__t=logo_path)?"":__t)+'" alt="[Image: '+(null==(__t=organization.attributes.name)?"":__t)+']" title="'+(null==(__t=organization.attributes.name)?"":__t)+'" class="',_.isUndefined(authuser.user)||1!=authuser.user.role_id&&_.isEmpty(organization.acl_links.where({slug:"upload_organization_logo",organization_user_role_id:parseInt(organization.organization_user_role_id)}))||(__p+="js-org-image-uploaded "),__p+="img-responsive img-thumbnail ",_.isEmpty(role_links.where({slug:"starred_board"}))||(__p+="drag-box"),__p+='" id="js-organization-logo-'+__e(organization.attributes.id)+'">\r\n		<div id="manager-area">\r\n			\r\n		</div>\r\n		</span>\r\n		</span>\r\n		<div class="drag-drop drag-drop-sm">'+__e(i18next.t("Drop Files Here"))+'</div>\r\n	</form>\r\n	<span id="org-loader"></span>\r\n  </div>\r\n  \r\n  </div>\r\n  </div>\r\n  </div>\r\n</section>  '}return __p},this.JST["templates/organization_visibility_form"]=function(obj){obj||(obj={});var __p="",__e=_.escape;Array.prototype.join;with(obj)__p+='<li class="col-xs-12 text-center clearfix">\r\n	<div class="clearfix"><span class="col-xs-10"><strong>'+__e(i18next.t("Select Visibility"))+'</strong></span><a class="js-close-popover pull-right" href="#"><i class="icon-remove"></i></a></div>\r\n</li>\r\n<li class="col-xs-12 divider"></li>\r\n<li class="col-xs-12">\r\n	<a class="btn-default show row small well-xs js-edit-organization-visibility-to-private" href="#">\r\n		<span class="show text-primary col-xs-12 navbar-btn h5">'+__e(i18next.t("Private")),2==organization.attributes.organization_visibility&&(__p+='<i class="icon-check well-sm"></i>'),__p+='</span>\r\n		<span class="col-xs-12 navbar-btn">'+__e(i18next.t("This organization is private. It's not indexed or visible to those outside the org."))+'</span>\r\n	</a>\r\n</li>\r\n<li class="divider col-xs-12"></li>\r\n<li class="col-xs-12">\r\n	<a class="show row small well-xs js-edit-organization-visibility-to-public" href="#">\r\n		<span class="show text-primary col-xs-12 navbar-btn h5">'+__e(i18next.t("Public")),1==organization.attributes.organization_visibility&&(__p+='<i class="icon-check well-sm"></i>'),__p+='</span>\r\n		<span class="col-xs-12 navbar-btn">'+__e(i18next.t("This organization is public. It's visible to anyone with the link and will show up in search engines like Google. Only those invited to the org can add and edit org boards."))+"</span>\r\n	</a>\r\n</li>";return __p},this.JST["templates/organizations_board_form_view"]=function(obj){obj||(obj={});var __p="",__e=_.escape;Array.prototype.join;with(obj)__p+='<li class="js-back">\r\n	 <div class="col-xs-12 text-center clearfix"><a href="#" class="js-back-boards-list pull-left"><i class="icon-caret-left"></i></a><span class="col-xs-10"><strong>'+__e(i18next.t("Add"))+' </strong></span><a class="js-close-popover pull-right" href="#"><i class="icon-remove"></i> </a></div> \r\n</li>\r\n<li class="col-xs-12 navbar-btn divider js-back"></li>\r\n',_.isEmpty(role_links.where({slug:"add_board"}))||(__p+='\r\n<li class="col-xs-12 btn-block js-back">\r\n	<a href="#" class="js-show-board-import-form col-xs-12 navbar-btn h6">\r\n		<span class="show clearfix text-primary navbar-btn h5">\r\n			<span class="pull-left">'+__e(i18next.t("Import Board from Trello"))+'</span> <span class="cssloader pull-right hide" id="js-board-import-loader"></span>\r\n		</span>\r\n		<span class="show">'+__e(i18next.t("Upload json file exported from Trello."))+'</span>\r\n	</a>\r\n	<form class="hide" id="js-board-import" enctype="multipart/form-data">\r\n		<input type="file" name="board_import" class="js-board-import-file"/>\r\n	</form>\r\n</li>\r\n<li class="col-xs-12 navbar-btn divider js-back"></li>\r\n<li class="col-xs-12 btn-block js-back">\r\n	<a href="#" class="js-show-board-add-form col-xs-12 h6 navbar-btn">\r\n		<span class="show clearfix text-primary navbar-btn h5">'+__e(i18next.t("New Board"))+'</span>\r\n		<span class="show">'+__e(i18next.t("A board is a collection of cards ordered in a list of lists. Use it to manage a project, track a collection, or organize anything."))+'</span>\r\n	</a>\r\n</li>\r\n<li class="col-xs-12 navbar-btn divider js-back"></li>\r\n'),__p+=" \r\n",_.isEmpty(role_links.where({slug:"add_organization"}))||(__p+='\r\n<li class="col-xs-12 btn-block js-back">\r\n	<a href="#" class="js-show-organizations-add-form col-xs-12 navbar-btn h6">\r\n		<span class="show clearfix text-primary navbar-btn h5">'+__e(i18next.t("New Organization"))+'</span>\r\n		<span class="show">'+__e(i18next.t("An organization is a group of boards and people. Use it to group boards in your company, team, or family."))+"</span>\r\n	</a>\r\n</li>\r\n");return __p},this.JST["templates/organizations_list_view"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;Array.prototype.join;with(obj)if(null!=organization){__p+='\r\n<td class="col-lg-5 col-md-3 col-sm-6 col-xs-5">\r\n	<div class="media">\r\n		';var logo_path="img/default-organization.png";_.isUndefined(organization.attributes.logo_url)||null==organization.attributes.logo_url||(logo_path=organization.showImage("Organization",organization.attributes.id,"small_thumb")),__p+='\r\n		<a data-placement="bottom" title="'+__e(organization.attributes.name)+'" data-toggle="tooltip" class="pull-left" href="#/organization/'+__e(organization.attributes.id)+'"> <img alt="[Images: '+__e(organization.attributes.name)+']" src="'+(null==(__t=logo_path)?"":__t)+'" height="32" width="32" class="img-rounded"></a>\r\n		  <div class="media-body">\r\n		  	<div class="clearfix">\r\n				<a class="pull-left" href="#/organization/'+__e(organization.attributes.id)+'"><h4 class="navbar-btn">'+__e(organization.attributes.name)+"</h4></a>\r\n			</div>\r\n			",""!=organization.attributes.description&&(__p+='\r\n			<div>\r\n				<p class="htruncate-l3">'+__e(organization.attributes.description)+"</p>\r\n			</div>\r\n			"),__p+='\r\n		  </div>\r\n	</div>\r\n</td>\r\n<td class="text-right">\r\n<ul class="list-inline clearfix">\r\n	<li class="pull-right ">\r\n		<ul class="list-inline navbar-btn clearfix">\r\n			<li class="dropdown navbar-btn">\r\n				<a title="'+__e(i18next.t("New Board"))+'" class="btn btn-default ',__p+=0!=organization.attributes.organizations_user_count?"dropdown-toggle":"js-no-action",__p+='" href="#" ',0!=organization.attributes.organizations_user_count&&(__p+='data-toggle="dropdown"'),__p+=">"+__e(organization.attributes.organizations_user_count)+" "+__e(i18next.t("Members"))+"</a>\r\n				",0!=organization.attributes.organizations_user_count&&(__p+='\r\n					<ul class="dropdown-menu arrow arrow-left  text-left" role="boards">\r\n						',_.each(organization.attributes.organizations_users,function(a){__p+='\r\n							<li><a href="#/user/'+__e(a.user_id)+'">'+__e(a.username)+"</a></li>\r\n						"}),__p+="\r\n					</ul>\r\n				"),__p+='\r\n			</li>\r\n			<li class="navbar-btn">\r\n				<div class="checkbox-inline dropdown">\r\n					<a title="'+__e(i18next.t("Boards"))+'" class="btn btn-default ',__p+=0!=organization.attributes.board_count?"dropdown-toggle":"js-no-action",__p+='" href="#" ',0!=organization.attributes.board_count&&(__p+='data-toggle="dropdown"'),__p+=">"+__e(organization.attributes.board_count)+" "+__e(i18next.t("Boards"))+"</a>\r\n					",0!=organization.attributes.board_count&&(__p+='\r\n						<ul class="dropdown-menu arrow arrow-right  text-left" role="boards">\r\n							',_.each(organization.attributes.boards_listing,function(a){__p+="\r\n							";var b="";if(a.background_picture_url){var c=a.background_picture_url.replace("_XXXX.jpg","_n.jpg");b="background:url("+c+") 25% 25%; background-size: cover"}else if(a.background_pattern_url){var d=a.background_pattern_url.replace("_XXXX.jpg","_n.jpg");b="background:url("+d+") repeat scroll 0% 0%;"}else b=a.background_color?"background-color:"+a.background_color:"";__p+='\r\n								<li>\r\n									<a href="#/board/'+__e(a.id)+'">\r\n										<span style="'+(null==(__t=b)?"":__t)+'" class="preview-thumbnail"></span>\r\n										<span class="details navbar-btn">\r\n											<span title="'+__e(a.name)+'" class="board-list-item-name navbar-btn">'+__e(a.name)+"</span>\r\n										</span> \r\n									</a>\r\n								</li>\r\n							"}),__p+="\r\n						</ul>\r\n					"),__p+='\r\n				</div>\r\n			</li>\r\n			<li class="dropdown navbar-btn pull-right">\r\n				<a class="btn btn-primary dropdown-toggle js-show-confirm-delete-organization" data-organization_id="'+__e(organization.attributes.id)+'" data-toggle="dropdown" href="#"><span><i class="icon-remove"></i></span><span>'+__e(i18next.t("Delete"))+'</span></a>\r\n				<ul class="dropdown-menu dropdown-menu-right arrow arrow-right col-xs-12">\r\n					<li class="js-show-confirm-delete-organization-response js-dropdown-popup dropdown-popup"></li>\r\n				</ul>\r\n			</li>\r\n			</ul>\r\n		</li>\r\n		<li class="pull-right text-center">\r\n			<ul class="list-inline navbar-btn clearfix">\r\n				<li>\r\n					<dl class="clearfix text-center list-group-item-heading">\r\n						<dt>\r\n							<div class="btn-group navbar-btn list-activity"> <a href="#" class="btn btn-default js-no-action htruncate"><abbr class="timeago" title="'+__e(organization.attributes.modified)+'">'+__e(organization.attributes.modified)+'</abbr></a> </div>\r\n						</dt>\r\n						<dd><h6 class="text-center h4 navbar-btn">'+__e(i18next.t("Recent activity"))+'</h6></dd>\r\n					</dl></li>\r\n				<li>\r\n					<dl class="clearfix text-center list-group-item-heading">\r\n						<dt>\r\n							<div class="btn-group navbar-btn list-activity"> <a href="#" class="btn btn-default js-no-action htruncate"><abbr class="timeago" title="'+__e(organization.attributes.created)+'">'+__e(organization.attributes.created)+'</abbr></a> </div>\r\n						</dt>\r\n						<dd><h6 class="text-center h4 navbar-btn">'+__e(i18next.t("Created"))+'</h6></dd>\r\n					</dl>\r\n				</li>\r\n				<li>\r\n					<dl class="clearfix text-center list-group-item-heading">\r\n						<dt>\r\n							<div class="btn-group navbar-btn list-activity"> ',__p+=null!=organization.attributes.username?'<a href="#/user/'+__e(organization.attributes.user_id)+'" class="btn btn-default htruncate" title="'+__e(organization.attributes.username)+'">'+__e(organization.attributes.username)+"</a>":"-",__p+='</div>\r\n						</dt>\r\n						<dd><h6 class="text-center h4 navbar-btn">'+__e(i18next.t("Owner"))+"</h6></dd>\r\n					</dl>\r\n				</li>\r\n			 </ul>\r\n		</li>\r\n	</ul>\r\n</td>\r\n"}else __p+='\r\n	<div class="alert alert-info">\r\n		'+__e(i18next.t("No %s available.",{postProcess:"sprintf",sprintf:[i18next.t("organizations")]}))+"\r\n	</div>\r\n";return __p},this.JST["templates/organizations_lists_header"]=function(obj){obj||(obj={});var __p="",__e=_.escape;with(obj)__p+='<div id="js-navbar-default" class="navbar navbar-default" role="navigation">\r\n  <div class="container-fluid">\r\n	<div class="navbar-left">\r\n		<h1 class="navbar-left navbar-btn list-group-item-text"><span class="navbar-left"><a href="#/" title="'+__e(SITE_NAME)+'"><img src="img/logo.png" alt="[Image: '+__e(SITE_NAME)+']" title="'+__e(SITE_NAME)+'" class="img-responsive center-block"/></a></span></h1>\r\n		<ul class="list-inline navbar-left h2 navbar-btn navbar-form text-center">\r\n			<li class="text-muted"><span class="h5">/</span></li>\r\n			<li><span class="text-muted h4">'+__e(i18next.t("Organizations"))+'</span></li>\r\n		</ul>\r\n		 <div class="pull-left"> <div class="js-dropdown dropdown  docmodal-submenu row">\r\n              <a data-toggle="dropdown" id="dropdownMenu1" class="dropdown-toggle btn btn-link show" href="#"> <i class="icon-cog h3 text-muted"></i></a>\r\n              <ul role="menu" class="dropdown-menu arrow">\r\n                 <li class="text-center text-muted"><strong>'+__e(i18next.t("Sort"))+'</strong></li>\r\n                 <li class="divider"></li>\r\n                 <li><a title="'+__e(i18next.t("Name"))+'" href="#" class="js-sort-by" data-field="name">'+__e(i18next.t("Name"))+'</a></li>\r\n                <li><a title="'+__e(i18next.t("Owner"))+'" href="#" data-field="username" class="js-sort-by">'+__e(i18next.t("Owner"))+'</a></li>\r\n                <li><a title="'+__e(i18next.t("Created"))+'" href="#" data-field="created" class="js-sort-by">'+__e(i18next.t("Created"))+'</a></li>\r\n                <li><a title="'+__e(i18next.t("Users Count"))+'" href="#" data-field="organizations_user_count" class="js-sort-by">'+__e(i18next.t("Users Count"))+'</a></li>\r\n                <li><a title="'+__e(i18next.t("Board Count"))+'" href="#" data-field="board_count" class="js-sort-by">'+__e(i18next.t("Board Count"))+"</a></li>\r\n              </ul>\r\n            </div></div>\r\n	</div>\r\n  </div>\r\n</div>";return __p},this.JST["templates/organizations_lists_view"]=function(obj){obj||(obj={});var __p="";_.escape;with(obj)__p+='<div class="panel clearfix col-xs-12">\r\n	<div class="table-responsive">\r\n		<table class="table table-hover table-list">\r\n			<tbody id="js-organizations-list">\r\n				\r\n			</tbody>\r\n		</table>\r\n	</div>\r\n</div>';return __p},this.JST["templates/organizations_user_view"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;Array.prototype.join;with(obj){if(__p+='<div class="clearfix">\r\n',_.isUndefined(authuser.user)||1!=authuser.user.role_id&&_.isEmpty(organization.acl_links.where({slug:"add_organization_user",organization_user_role_id:parseInt(organization.organization_user_role_id)}))||(__p+='\r\n<div>\r\n	<ul class="list-inline clearfix">\r\n		<li class="dropdown pull-right">\r\n			<a class="btn btn-primary dropdown-toggle js-add-member-dropdown" data-toggle="dropdown" href="#"><span><i class="icon-plus"></i></span><span>'+__e(i18next.t("Add Member"))+'</span></a>\r\n			<ul class="dropdown-menu arrow arrow-right">\r\n				<li class="js-add-member-dropdown-load js-dropdown-popup dropdown-popup js-organization-member-search-response">\r\n					<div>\r\n						<div class="clearfix text-center col-xs-12">							\r\n							<span class="col-xs-10"><strong>'+__e(i18next.t("Members"))+'</strong></span><a class="js-close-popover pull-right" href="#"><i class="icon-remove"></i></a></span></h4>							\r\n						</div>\r\n						<div class="col-xs-12 divider"></div>\r\n						<div class="col-xs-12">\r\n							<ul class="list-unstyled">\r\n								<li>\r\n								  <form method="post" class="text-center">\r\n									<div class="form-group">\r\n									  <label class="sr-only">'+__e(i18next.t("Search Member"))+'</label>\r\n									  <input type="text" autocomplete="off" id="inputOrganizationUserSearch" placeholder="'+__e(i18next.t("Email or Username"))+'" name="email" required class="js-organization-users-search form-control input-sm" title="'+__e(i18next.t("Email or Username"))+'">\r\n									</div>\r\n								  </form>\r\n								</li>\r\n							</ul>\r\n						</div>\r\n					</div>\r\n				</li>\r\n				<li class="small col-xs-12">\r\n					'+__e(i18next.t("Search for a person in %s by name or email address.",{postProcess:"sprintf",sprintf:[SITE_NAME]}))+"\r\n				</li>\r\n			</ul>\r\n		</li>\r\n	<ul>\r\n</div>\r\n"),__p+="\r\n",!(_.isUndefined(authuser.user)||1!=authuser.user.role_id&&_.isEmpty(organization.acl_links.where({slug:"view_organization_user_listing",organization_user_role_id:parseInt(organization.organization_user_role_id)})))){if(__p+='\r\n<div>\r\n	<table class="table table-striped table-hover">\r\n		<tbody>\r\n			',_.isEmpty(organizations_users))__p+='\r\n				<tr><td class="alert alert-info">'+__e(i18next.t("No %s available.",{postProcess:"sprintf",sprintf:[i18next.t("members")]}))+"</td></tr>\r\n			";else{var organization_user_roles=["Owner","Editor","Viewer"];__p+="\r\n				",_.each(organizations_users.models,function(a){if(__p+='\r\n				<tr>\r\n					<td>\r\n						<div class="clearfix">\r\n						<span class="pull-left navbar-btn">\r\n							<a href="#/user/'+__e(a.attributes.user_id)+'">\r\n							',_.isEmpty(a.attributes.profile_picture_path))__p+='\r\n								<i data-toggle="tooltip" data-placement="bottom" data-original-title="'+__e(a.attributes.username)+'" class="avatar avatar-color-194 img-rounded">'+__e(a.attributes.initials)+"</i>									\r\n							";else{var b=organizations_users.showImage("User",a.attributes.user_id,"small_thumb");__p+='\r\n								<img src="'+(null==(__t=b)?"":__t)+'" alt="[Image: '+__e(a.attributes.username)+']" data-toggle="tooltip" data-placement="bottom" data-original-title="'+__e(a.attributes.username)+'" class="img-rounded img-responsive">\r\n							'}__p+='\r\n							</a>\r\n						</span>\r\n							<div class="pull-left col-xs-10">\r\n								<h4 class="list-group-item-text list-group-item-heading"><a href="#/user/'+__e(a.attributes.user_id)+'">'+__e(a.attributes.full_name)+"</a></h4>\r\n								",__p+=_.isEmpty(role_links.where({slug:"starred_board"}))?'\r\n									<span class="show">'+__e(a.attributes.username)+"</span>\r\n								":'\r\n									<span class="show"><a href="#/user/'+__e(a.attributes.user_id)+'">'+__e(a.attributes.username)+"</a></span>\r\n								",
__p+='\r\n							</div>\r\n							</td>\r\n							<td>\r\n								<div class="text-right">\r\n									<ul class="list-inline clearfix">\r\n										<li class="dropdown navbar-btn">\r\n											<a title="'+__e(i18next.t("Boards"))+'" class="btn btn-default ',__p+=0!=a.attributes.user_board_count?"dropdown-toggle":"js-no-action",__p+='" href="#" ',0!=a.attributes.user_board_count&&(__p+='data-toggle="dropdown"'),__p+=">\r\n											"+__e(i18next.t("{{count}} Board",{count:a.attributes.user_board_count}))+"\r\n											</a>\r\n											",null!=a.attributes.boards_users&&0!=a.attributes.user_board_count&&(__p+='\r\n												<ul class="dropdown-menu arrow arrow-left  text-left" role="boards" id="js-user-activity-menu-response-'+__e(a.attributes.id)+'">\r\n													',_.each(a.attributes.boards_users,function(a){__p+="\r\n														<li>\r\n														",__p+=_.isEmpty(role_links.where({slug:"starred_board"}))?'\r\n															<a href="#">'+__e(a.name)+"</a>\r\n														":'\r\n															<a href="#/board/'+__e(a.board_id)+'">'+__e(a.name)+"</a>\r\n														",__p+="\r\n														</li>\r\n													"}),__p+="\r\n												</ul>\r\n											"),__p+='\r\n										</li>										\r\n										<li class="navbar-btn">											\r\n										<a title="'+__e(i18next.t("Activities"))+'" class="btn btn-default js-all-user-activities" href="#" data-user_id="'+__e(a.attributes.user_id)+'">'+__e(i18next.t("Activities"))+"</a>\r\n										</li>\r\n										",_.isUndefined(authuser.user)||1!=authuser.user.role_id&&_.isEmpty(organization.acl_links.where({slug:"edit_organization_user",organization_user_role_id:parseInt(organization.organization_user_role_id)}))||(__p+="\r\n										",_.isUndefined(authuser.user)||(__p+='\r\n										<li class="navbar-btn">              \r\n											<div class="btn-group text-left navbar-btn dropdown">\r\n												<button type="button" class="btn btn-default dropdown-toggle js-show-organization-member-permission-form js-change-permission-content-'+__e(a.attributes.id)+'" data-toggle="dropdown" aria-expanded="false" data-organizations_user_id="'+__e(a.attributes.id)+'">'+__e(organization_user_roles[a.attributes.organization_user_role_id-1])+'</button>\r\n												<button type="button" class="btn btn-default dropdown-toggle js-show-organization-member-permission-form" data-toggle="dropdown" aria-expanded="false" data-organizations_user_id="'+__e(a.attributes.id)+'">\r\n													<span class="caret"></span>\r\n													<span class="sr-only">'+__e(i18next.t("Toggle Dropdown"))+'</span>\r\n												</button>      \r\n												<ul class="dropdown-menu arrow arrow-right js-show-organization-member-permission-form-response pre-scrollable vertical-scrollbar">\r\n												</ul>\r\n											</div>\r\n										</li>\r\n										<li class="dropdown navbar-btn text-left js-show-confirm-delete-organization-member-dropdown">\r\n											',_.isUndefined(authuser.user)||1!=authuser.user.role_id&&_.isEmpty(organization.acl_links.where({slug:"remove_organization_user",organization_user_role_id:parseInt(organization.organization_user_role_id)}))||(__p+='\r\n													<a class="btn btn-primary dropdown-toggle js-show-confirm-delete-organization-member" data-organizations_user_id="'+__e(a.attributes.id)+'" data-toggle="dropdown" href="#"><span><i class="icon-remove"></i></span>\r\n													<span>\r\n													',__p+=_.isUndefined(authuser.user)||a.attributes.user_id!=authuser.user.id?"\r\n														"+__e(i18next.t("Remove"))+"\r\n													":"\r\n														"+__e(i18next.t("Leave"))+"\r\n													",__p+='\r\n													</span></a>\r\n													<ul class="dropdown-menu js-dropdown-popup arrow arrow-right">\r\n														<li class="clearfix">\r\n															<div class="col-xs-12 text-center clearfix">	\r\n																<span class="col-xs-10"><strong>'+__e(i18next.t("Remove Member"))+'</strong></span><a class="js-close-popover pull-right" href="#"><i class="icon-remove"></i></a>\r\n															</div>\r\n														</li>\r\n														<li class="js-show-confirm-delete-organization-member-response divider"></li>\r\n													</ul>\r\n											'),__p+="\r\n										</li>\r\n										"),__p+="\r\n										"),__p+="\r\n									</ul>\r\n								</div>\r\n						</div>\r\n					</td>\r\n				</tr>\r\n				"}),__p+="\r\n			"}__p+="\r\n		</tbody>\r\n	</table>\r\n</div>\r\n"}__p+="\r\n</div>"}return __p},this.JST["templates/qr_code"]=function(obj){obj||(obj={});var __p="",__e=_.escape;Array.prototype.join;with(obj){window.location.port?":"+window.location.port:"";__p+='\r\n<div class="dockmodal-phone" title="'+__e(i18next.t("View in iOS App"))+'" id="phone-block">\r\n      <div class="clearfix phone-content">\r\n	<div class="phone-text">\r\n	        <p class="pull-left col-sm-12 col-xs-12">'+__e(i18next.t("Single unified notifier app to track many Restyaboards."))+'</p>\r\n	        <h2 class="pull-left col-sm-12"> '+__e(i18next.t("Coming soon....."))+"</h2>\r\n	</div>          \r\n      </div>\r\n      </div>"}return __p},this.JST["templates/role_add"]=function(obj){obj||(obj={});var __p="",__e=_.escape;with(obj)__p+='<div class="col-lg-4 col-md-4 col-sm-6 col-xs-12 col-lg-offset-4 col-md-offset-4 col-sm-offset-3">\r\n<div class="panel panel-default">\r\n  <div class="panel-heading lead">'+__e(i18next.t("Add Role"))+'</div>\r\n  <div class="panel-body well-lg">\r\n	<form id="RoleAddForm" name="RoleAddForm" class="form-horizontal col-xs-12">\r\n	  <div class="form-group required">\r\n		<label class="sr-only control-label" for="inputName">'+__e(i18next.t("Name"))+'</label>\r\n		<input type="name" name="name" id="inputName" class="form-control" placeholder="'+__e(i18next.t("Name"))+'" required>\r\n	  </div>\r\n	  <div class="form-group">\r\n		<label class="sr-only control-label" for="submitAddRole">'+__e(i18next.t("Add"))+'</label>\r\n		<input type="submit" class="btn btn-primary col-xs-12" id="submitAddRole" value="'+__e(i18next.t("Add"))+'">\r\n	  </div>\r\n	</form>\r\n  </div>\r\n</div>\r\n</div>';return __p},this.JST["templates/role_settings"]=function(obj){obj||(obj={});var __p="",__e=_.escape;Array.prototype.join;with(obj){__p+='<div class="col-xs-12 js-container-div-role well-lg navbar-btn">\r\n		<div class="table-responsive navbar-btn">\r\n			<ul id = "myTab" class = "nav nav-tabs">\r\n			   <li class = "active"><a href = "#users" data-toggle = "tab">'+__e(i18next.t("Users"))+'</a></li>			   \r\n			   <li><a href = "#boards" data-toggle = "tab">'+__e(i18next.t("Boards"))+'</a></li>			\r\n			   <li><a href = "#organizations" data-toggle = "tab">'+__e(i18next.t("Organizations"))+'</a></li>			\r\n			</ul>\r\n			<div id = "myTabContent" class = "tab-content">\r\n			   <div class = "tab-pane fade in active" id = "users">\r\n			   <div class="pull-right well-sm dropdown"><a title="Add Role" class="dropdown-toggle" href="#" data-toggle="dropdown"><i class="icon-plus-sign"></i><span>'+__e(i18next.t("Add Role"))+'</span></a>\r\n			    <ul class="dropdown-menu arrow arrow-right">\r\n					<li> \r\n						<div class="clearfix text-center col-xs-12">\r\n							<span class="col-xs-10"><strong>'+__e(i18next.t("Add Role"))+'</strong></span><i class="icon-remove cur"></i>\r\n						</div>\r\n					</li>\r\n					<li class="col-xs-12 divider"></li>\r\n					<li class="col-xs-12">\r\n					    <form id="RoleAddForm" name="RoleAddForm" class="form-horizontal col-xs-12">\r\n						  <div class="form-group required">\r\n							<label class="sr-only control-label" for="inputName">'+__e(i18next.t("Name"))+'</label>\r\n							<input type="name" name="name" id="inputName" class="form-control js-role-name" placeholder="'+__e(i18next.t("Name"))+'" required>\r\n						  </div>\r\n						  <div class="form-group">\r\n							<label class="sr-only control-label" for="submitAddRole">'+__e(i18next.t("Add"))+'</label>\r\n							<input type="submit" class="btn btn-primary col-xs-12" id="submitAddRole" value="'+__e(i18next.t("Add"))+'">\r\n						  </div>\r\n						</form>\r\n					 </li>\r\n				</ul>\r\n			   </div>\r\n			<table class="table js-acl-link-list acl-link-list">\r\n				<thead>\r\n					<th colspan="2" class="col-xs-15">'+__e(i18next.t("Name"))+"</th>\r\n					",roles.each(function(a){__p+='\r\n						<th class="col-xs-1 text-center">\r\n						<div class="dropdown navbar-right"><a title="Edit Role" class="dropdown-toggle" data-toggle="dropdown">\r\n						'+__e(i18next.t(a.attributes.name))+'\r\n						<i class="icon-pencil"></i></a>\r\n			    <ul class="dropdown-menu arrow arrow-right">\r\n					<li> \r\n						<div class="clearfix text-center col-xs-12">\r\n							<span class="col-xs-10"><strong>'+__e(i18next.t("Edit Role"))+'</strong></span><i class="icon-remove cur"></i>\r\n						</div>\r\n					</li>\r\n					<li class="col-xs-12 divider"></li>\r\n					<li class="col-xs-12">\r\n					    <form id="RoleEditForm" name="RoleEditForm" class="form-horizontal col-xs-12">\r\n							<input type="hidden" name="id" value="'+__e(a.attributes.id)+'">\r\n						  <div class="form-group required">\r\n							<label class="sr-only control-label" for="inputEditName">'+__e(i18next.t("Name"))+'</label>\r\n							<input type="name" name="name" id="inputEditName" value="'+__e(a.attributes.name)+'" class="form-control js-role-name" placeholder="'+__e(i18next.t("Name"))+'" required>\r\n						  </div>\r\n						  <div class="form-group">\r\n							<label class="sr-only control-label" for="submitEditRole">'+__e(i18next.t("Update"))+'</label>\r\n							<input type="submit" class="btn btn-primary col-xs-12" id="submitEditRole" value="'+__e(i18next.t("Update"))+'">\r\n						  </div>\r\n						</form>\r\n					 </li>\r\n				</ul>\r\n			   </div>\r\n						</th>\r\n					'}),__p+='\r\n				</thead>\r\n				<tbody class="js-acl-link-list-body acl-link-list">\r\n					';var acl_link_groups=["Guest","Users"],group="",old_group="",group_id="";acl_links.each(function(a){1!==a.attributes.is_hide&&(a.acl_links_roles.add(a.attributes.acl_links_roles),group_id=a.attributes.group_id-1,group=acl_link_groups[group_id],__p+="\r\n							",group!=old_group&&(__p+='\r\n								<tr>\r\n									<td colspan="5" class="text-primary"><h3>'+__e(group)+"</h3></td>\r\n								</tr>\r\n							"),__p+='\r\n							<tr>\r\n								<td class="col-xs-1"><div class="invisible"></div></td>\r\n								<td>'+__e(a.attributes.name)+"</td>\r\n								",roles.each(function(b){var c=a.acl_links_roles.findWhere({role_id:parseInt(b.attributes.id)});__p+="\r\n								","1"===b.attributes.id?(__p+='      \r\n									<td class="text-center">\r\n									    ',__p+=1===a.attributes.is_user_action?'  \r\n										    <div class="checkbox">\r\n												 <input type="checkbox" class="cur" checked="checked">\r\n												 <label></label>\r\n                                            </div> \r\n										':'          \r\n											<label class="js-update-role" data-table="acl_links_roles" data-acl_link_id="'+__e(a.attributes.id)+'"  data-role_id="'+__e(b.attributes.id)+'" for="acl_link_id_'+__e(b.attributes.id)+"_"+__e(a.attributes.id)+'">-</label>\r\n										',__p+="   \r\n									</td>     \r\n								"):"2"===b.attributes.id?(__p+="    \r\n									",1===a.attributes.is_user_action?(__p+='\r\n										<td class="text-center">\r\n											<div class="checkbox">\r\n												<input type="checkbox" class="cur" name="acl_link_id['+__e(b.attributes.id)+"]["+__e(a.attributes.id)+']" value="'+__e(a.attributes.id)+'" ',_.isEmpty(c)||(__p+=' checked="checked" '),__p+=' id="acl_link_id_'+__e(b.attributes.id)+"_"+__e(a.attributes.id)+'"/>\r\n												<label class="js-update-role" data-table="acl_links_roles" data-acl_link_id="'+__e(a.attributes.id)+'"  data-role_id="'+__e(b.attributes.id)+'" for="acl_link_id_'+__e(b.attributes.id)+"_"+__e(a.attributes.id)+'"></label>\r\n											</div>\r\n										</td>\r\n									'):__p+='\r\n										<td class="text-center">\r\n											<label class="js-update-role" data-table="acl_links_roles" data-acl_link_id="'+__e(a.attributes.id)+'"  data-role_id="'+__e(b.attributes.id)+'" for="acl_link_id_'+__e(b.attributes.id)+"_"+__e(a.attributes.id)+'">-</label>\r\n										</td>\r\n									',__p+="\r\n								"):"3"===b.attributes.id?(__p+="\r\n									",1===a.attributes.is_guest_action?(__p+='\r\n										<td class="text-center">\r\n											<div class="checkbox">\r\n												<input type="checkbox" class="cur" name="acl_link_id['+__e(b.attributes.id)+"]["+__e(a.attributes.id)+']" value="'+__e(a.attributes.id)+'" ',_.isEmpty(c)||(__p+=' checked="checked" '),__p+=' id="acl_link_id_'+__e(b.attributes.id)+"_"+__e(a.attributes.id)+'"/>\r\n												<label class="js-update-role" data-table="acl_links_roles" data-acl_link_id="'+__e(a.attributes.id)+'"  data-role_id="'+__e(b.attributes.id)+'" for="acl_link_id_'+__e(b.attributes.id)+"_"+__e(a.attributes.id)+'"></label>\r\n											</div>\r\n										</td>\r\n									'):__p+='\r\n										<td class="text-center">\r\n											<label class="js-update-role" data-table="acl_links_roles" data-acl_link_id="'+__e(a.attributes.id)+'"  data-role_id="'+__e(b.attributes.id)+'" for="acl_link_id_'+__e(b.attributes.id)+"_"+__e(a.attributes.id)+'">-</label>\r\n										</td>\r\n									',__p+="\r\n								"):(__p+="\r\n									",1===a.attributes.is_allow_only_to_edit&&0===a.attributes.is_allow_only_to_guest?(__p+='\r\n										<td class="text-center">\r\n											<div class="checkbox">\r\n												<input type="checkbox" class="cur" name="acl_link_id['+__e(b.attributes.id)+"]["+__e(a.attributes.id)+']" value="'+__e(a.attributes.id)+'" ',_.isEmpty(c)||(__p+=' checked="checked" '),__p+=' id="acl_link_id_'+__e(b.attributes.id)+"_"+__e(a.attributes.id)+'"/>\r\n												<label class="js-update-role" data-table="acl_links_roles" data-acl_link_id="'+__e(a.attributes.id)+'"  data-role_id="'+__e(b.attributes.id)+'" for="acl_link_id_'+__e(b.attributes.id)+"_"+__e(a.attributes.id)+'"></label>\r\n											</div>\r\n										</td>\r\n									'):__p+='\r\n										<td class="text-center">\r\n											<label class="js-update-role" data-table="acl_links_roles" data-acl_link_id="'+__e(a.attributes.id)+'"  data-role_id="'+__e(b.attributes.id)+'" for="acl_link_id_'+__e(b.attributes.id)+"_"+__e(a.attributes.id)+'">-</label>\r\n										</td>\r\n									',__p+="\r\n								"),__p+="\r\n							"}),__p+="\r\n						</tr>\r\n					",old_group=group)}),__p+='\r\n				</tbody>\r\n			</table>\r\n			   </div>\r\n			   \r\n			   <div class = "tab-pane fade" id = "boards">\r\n			   <div class="pull-right well-sm dropdown">\r\n					<a title="Add Board User Role" href="#" class="dropdown-toggle" data-toggle="dropdown"><i class="icon-plus-sign"></i><span>'+__e(i18next.t("Add Board User Role"))+'</span></a>\r\n					<ul class="dropdown-menu arrow arrow-right">\r\n						<li> \r\n							<div class="clearfix text-center col-xs-12">\r\n								<span class="col-xs-10"><strong>'+__e(i18next.t("Add Board User Role"))+'</strong></span><i class="icon-remove cur"></i>\r\n							</div>\r\n						</li>\r\n						<li class="col-xs-12 divider"></li>\r\n						<li class="col-xs-12">\r\n							<form id="BoardUserRoleAddForm" name="BoardUserRoleAddForm" class="form-horizontal col-xs-12">\r\n							  <div class="form-group required">\r\n								<label class="sr-only control-label" for="inputBoardName">'+__e(i18next.t("Name"))+'</label>\r\n								<input type="name" name="name" id="inputBoardName" class="form-control js-role-name" placeholder="'+__e(i18next.t("Name"))+'" required>\r\n							  </div>\r\n							  <div class="form-group required">\r\n								<label class="sr-only control-label" for="inputBoardDescription">'+__e(i18next.t("Description"))+'</label>\r\n								<textarea name="description" id="inputBoardDescription" class="form-control js-role-name" placeholder="'+__e(i18next.t("Description"))+'"></textarea>\r\n							  </div>\r\n							  <div class="form-group">\r\n								<label class="sr-only control-label" for="submitAddBoardUserRole">'+__e(i18next.t("Add"))+'</label>\r\n								<input type="submit" class="btn btn-primary col-xs-12" id="submitAddBoardUserRole" value="'+__e(i18next.t("Add"))+'">\r\n							  </div>\r\n							</form>\r\n						 </li>\r\n					</ul>\r\n			   </div>\r\n			<table class="table js-acl-link-list acl-link-list">\r\n				<thead>\r\n					<th colspan="2" class="col-xs-15">'+__e(i18next.t("Name"))+"</th>\r\n					",board_user_roles.each(function(a){__p+='\r\n						<th class="col-xs-1 text-center">\r\n						<div class="dropdown navbar-right">\r\n							<a title="Edit Board User Role" class="dropdown-toggle" data-toggle="dropdown">'+__e(i18next.t(a.attributes.name))+'<i class="icon-pencil"></i></a>\r\n							<ul class="dropdown-menu arrow arrow-right">\r\n								<li> \r\n									<div class="clearfix text-center col-xs-12">\r\n										<span class="col-xs-10"><strong>'+__e(i18next.t("Edit Board User Role"))+'</strong></span><i class="icon-remove cur"></i>\r\n									</div>\r\n								</li>\r\n								<li class="col-xs-12 divider"></li>\r\n								<li class="col-xs-12">\r\n									<form id="BoardUserRoleEditForm" name="BoardUserRoleEditForm" class="form-horizontal col-xs-12">\r\n									  <input type="hidden" name="id" value="'+__e(a.attributes.id)+'">\r\n									  <div class="form-group required">\r\n										<label class="sr-only control-label" for="inputEditBoardName">'+__e(i18next.t("Name"))+'</label>\r\n										<input type="name" name="name" value="'+__e(a.attributes.name)+'" id="inputEditBoardName" class="form-control js-role-name" placeholder="'+__e(i18next.t("Name"))+'" required>\r\n									  </div>\r\n									  <div class="form-group required">\r\n										<label class="sr-only control-label" for="inputEditBoardDescription">'+__e(i18next.t("Description"))+'</label>\r\n										<textarea name="description" id="inputEditBoardDescription" class="form-control js-role-name" placeholder="'+__e(i18next.t("Description"))+'">'+__e(a.attributes.description)+'</textarea>\r\n									  </div>\r\n									  <div class="form-group">\r\n										<label class="sr-only control-label" for="submitEditBoardUserRole">'+__e(i18next.t("Update"))+'</label>\r\n										<input type="submit" class="btn btn-primary col-xs-12" id="submitEditBoardUserRole" value="'+__e(i18next.t("Update"))+'">\r\n									  </div>\r\n									</form>\r\n								 </li>\r\n							</ul>\r\n					   </div>\r\n						</th>\r\n					'}),__p+='\r\n				</thead>\r\n				<tbody class="js-acl-link-list-body acl-link-list">\r\n					';var acl_board_links_groups=["Boards","Lists","Cards"],group="",old_group="",group_id="";acl_board_links.each(function(a){1!==a.attributes.is_hide&&(a.acl_board_links_boards_user_roles.add(a.attributes.acl_board_links_boards_user_roles),group_id=a.attributes.group_id-2,group=acl_board_links_groups[group_id],__p+="\r\n							",group!=old_group&&(__p+='\r\n								<tr>\r\n									<td colspan="5" class="text-primary"><h3>'+__e(group)+"</h3></td>\r\n								</tr>\r\n							"),__p+='\r\n							<tr>\r\n								<td class="col-xs-1"><div class="invisible"></div></td>\r\n								<td>'+__e(a.attributes.name)+"</td>\r\n								",board_user_roles.each(function(b){var c=a.acl_board_links_boards_user_roles.findWhere({board_user_role_id:parseInt(b.attributes.id)});__p+='\r\n										<td class="text-center">\r\n											<div class="checkbox">\r\n												<input type="checkbox" class="cur" name="acl_link_id['+__e(b.attributes.id)+"]["+__e(a.attributes.id)+']" value="'+__e(a.attributes.id)+'" ',_.isEmpty(c)||(__p+=' checked="checked" '),__p+=' id="acl_link_board_id_'+__e(b.attributes.id)+"_"+__e(a.attributes.id)+'"/>\r\n												<label class="js-update-role" data-table="acl_board_links_boards_user_roles" data-acl_link_id="'+__e(a.attributes.id)+'"  data-role_id="'+__e(b.attributes.id)+'" for="acl_link_board_id_'+__e(b.attributes.id)+"_"+__e(a.attributes.id)+'"></label>\r\n											</div>\r\n										</td>\r\n								'}),__p+="\r\n							</tr>\r\n							",old_group=group,__p+="\r\n					")}),__p+='\r\n				</tbody>\r\n			</table>\r\n			   </div>\r\n			   \r\n			   <div class = "tab-pane fade" id = "organizations">\r\n			   <div class="pull-right well-sm dropdown"><a title="Add Organization User Role" href="#" class="dropdown-toggle" data-toggle="dropdown"><i class="icon-plus-sign"></i><span>'+__e(i18next.t("Add Organization User Role"))+'</span></a>\r\n			   <ul class="dropdown-menu arrow arrow-right">\r\n						<li> \r\n							<div class="clearfix text-center col-xs-12">\r\n								<span class="col-xs-10"><strong>'+__e(i18next.t("Add Organization User Role"))+'</strong></span><i class="icon-remove cur"></i>\r\n							</div>\r\n						</li>\r\n						<li class="col-xs-12 divider"></li>\r\n						<li class="col-xs-12">\r\n							<form id="OrganizationUserRoleAddForm" name="OrganizationUserRoleAddForm" class="form-horizontal col-xs-12">\r\n							  <div class="form-group required">\r\n								<label class="sr-only control-label" for="inputOrganizationName">'+__e(i18next.t("Name"))+'</label>\r\n								<input type="name" name="name" id="inputOrganizationName" class="form-control js-role-name" placeholder="'+__e(i18next.t("Name"))+'" required>\r\n							  </div>\r\n							  <div class="form-group required">\r\n								<label class="sr-only control-label" for="inputOrganizationDescription">'+__e(i18next.t("Description"))+'</label>\r\n								<textarea name="description" id="inputOrganizationDescription" class="form-control js-role-name" placeholder="'+__e(i18next.t("Description"))+'"></textarea>\r\n							  </div>\r\n							  <div class="form-group">\r\n								<label class="sr-only control-label" for="submitAddOrganizationUserRole">'+__e(i18next.t("Add"))+'</label>\r\n								<input type="submit" class="btn btn-primary col-xs-12" id="submitAddOrganizationUserRole" value="'+__e(i18next.t("Add"))+'">\r\n							  </div>\r\n							</form>\r\n						 </li>\r\n					</ul>\r\n			   </div>\r\n				<table class="table js-acl-link-list acl-link-list">\r\n				<thead>\r\n					<th colspan="2" class="col-xs-15">'+__e(i18next.t("Name"))+"</th>\r\n					",organization_user_roles.each(function(a){__p+='\r\n						<th class="col-xs-1 text-center">\r\n							<div class="dropdown navbar-right"><a title="Edit Organization User Role" class="dropdown-toggle" data-toggle="dropdown">'+__e(i18next.t(a.attributes.name))+'<i class="icon-pencil"></i></a>\r\n							   <ul class="dropdown-menu arrow arrow-right">\r\n										<li> \r\n											<div class="clearfix text-center col-xs-12">\r\n												<span class="col-xs-10"><strong>'+__e(i18next.t("Edit Organization User Role"))+'</strong></span><i class="icon-remove cur"></i>\r\n											</div>\r\n										</li>\r\n										<li class="col-xs-12 divider"></li>\r\n										<li class="col-xs-12">\r\n											<form id="OrganizationUserRoleEditForm" name="OrganizationUserRoleEditForm" class="form-horizontal col-xs-12">\r\n											<input type="hidden" name="id" value="'+__e(a.attributes.id)+'">\r\n											  <div class="form-group required">\r\n												<label class="sr-only control-label" for="inputEditOrganizationName">'+__e(i18next.t("Name"))+'</label>\r\n												<input type="name" name="name" id="inputEditOrganizationName" value="'+__e(a.attributes.name)+'" class="form-control js-role-name" placeholder="'+__e(i18next.t("Name"))+'" required>\r\n											  </div>\r\n											  <div class="form-group required">\r\n												<label class="sr-only control-label" for="inputEditOrganizationDescription">'+__e(i18next.t("Description"))+'</label>\r\n												<textarea name="description" id="inputEditOrganizationDescription" class="form-control js-role-name" placeholder="'+__e(i18next.t("Description"))+'">'+__e(a.attributes.description)+'</textarea>\r\n											  </div>\r\n											  <div class="form-group">\r\n												<label class="sr-only control-label" for="submitEditOrganizationUserRole">'+__e(i18next.t("Update"))+'</label>\r\n												<input type="submit" class="btn btn-primary col-xs-12" id="submitEditOrganizationUserRole" value="'+__e(i18next.t("Update"))+'">\r\n											  </div>\r\n											</form>\r\n										 </li>\r\n									</ul>\r\n							   </div>\r\n						</th>\r\n					'}),__p+='\r\n				</thead>\r\n				<tbody class="js-acl-link-list-body acl-link-list">\r\n					';var acl_organization_links_groups=["Organizations"],group="",old_group="",group_id="";acl_organization_links.each(function(a){a.acl_organization_links_organizations_user_roles.add(a.attributes.acl_organization_links_organizations_user_roles),group_id=a.attributes.group_id-5,group=acl_organization_links_groups[group_id],__p+="\r\n						",group!=old_group&&(__p+='\r\n							<tr>\r\n								<td colspan="5" class="text-primary"><h3>'+__e(group)+"</h3></td>\r\n							</tr>\r\n						"),__p+='\r\n						<tr>\r\n							<td class="col-xs-1"> <div class="invisible"></div></td>\r\n							<td>'+__e(a.attributes.name)+"</td>\r\n							",organization_user_roles.each(function(b){var c=a.acl_organization_links_organizations_user_roles.findWhere({organization_user_role_id:parseInt(b.attributes.id)});__p+='\r\n									<td class="text-center">\r\n										<div class="checkbox">\r\n											<input type="checkbox" class="cur" name="acl_link_id['+__e(b.attributes.id)+"]["+__e(a.attributes.id)+']" value="'+__e(a.attributes.id)+'" ',_.isEmpty(c)||(__p+=' checked="checked" '),__p+=' id="acl_link_org_id_'+__e(b.attributes.id)+"_"+__e(a.attributes.id)+'"/>\r\n											<label class="js-update-role" data-table="acl_organization_links_organizations_user_roles" data-acl_link_id="'+__e(a.attributes.id)+'"  data-role_id="'+__e(b.attributes.id)+'" for="acl_link_org_id_'+__e(b.attributes.id)+"_"+__e(a.attributes.id)+'"></label>\r\n										</div>\r\n									</td>\r\n							'}),__p+="\r\n						</tr>\r\n						",old_group=group,__p+="\r\n					"}),__p+="\r\n				</tbody>\r\n			</table>\r\n			   </div>\r\n			</div>\r\n		</div>\r\n</div>"}return __p},this.JST["templates/roles"]=function(obj){obj||(obj={});var __p="",__e=_.escape;Array.prototype.join;with(obj){__p+="<td>\r\n	"+__e(acl_link.attributes.name)+'\r\n</td>\r\n<td class="text-right">\r\n	';for(var i=1;3>=i;i++){var is_enabled=acl_link.acl_links_roles.findWhere({role_id:i});__p+='\r\n	<div class="checkbox">\r\n	<input type="checkbox" name="acl_link_id['+__e(i)+"["+__e(acl_link.attributes.id)+']" value="'+__e(acl_link.attributes.id)+'" ',_.isEmpty(is_enabled)||(__p+=' checked="checked" '),__p+="/>\r\n	</div> \r\n	"}__p+="\r\n</td>\r\n"}return __p},this.JST["templates/search_page_result"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;Array.prototype.join;with(obj)__p+='			<div class="clearfix bg-grey search-block row"  id="search-page-result">\r\n			  <div class="clearfix">\r\n				<ul class="list-inline text-right navbar-btn">\r\n					<li>\r\n						<a href="http://restya.com/board/docs/search?utm_source=Restyaboard&utm_medium=web&utm_campaign=search" title="Search Help" target="_blank">Search Help</a>\r\n					</li>\r\n					<li class="js-search-block-close">\r\n						<a href="javascript:void(0)" class="text-muted" title="Close"><i class="icon-remove text-muted h2"></i></a>\r\n					</li>\r\n				</ul>\r\n				',_.isEmpty(search_result)||(__p+='\r\n				<div class="well-sm col-xs-12">\r\n				&nbsp;Search results for <strong>'+__e(search_result.search_term)+"</strong>\r\n				</div>\r\n				"),__p+='\r\n				<div class="col-xs-12 navbar-btn">\r\n					<ul class="list-unstyled navbar-btn">\r\n							',_.isUndefined(search_result.boards)||(__p+="\r\n							<li>\r\n							    <strong>Matched in "+__e(search_result.metadata.boards.count)+' boards</strong>\r\n								<div class="panel clearfix">\r\n									<ul class="list-inline panel-body">\r\n										',_.each(search_result.boards,function(a,b){__p+=' \r\n											<li class="col-sm-2 navbar-btn"><span class="pull-left navbar-btn">'+__e(b+1)+'. &nbsp;</span><a class="thumbnail list-group-item-text text-center htruncate" title="'+__e(a.board_name)+'" href="#/board/'+__e(a.board_id)+'">'+__e(a.board_name)+"</a></li>\r\n										"}),__p+=" \r\n									</ul>\r\n								</div>\r\n							</li>\r\n							",search_result.metadata.boards.count>10&&search_result.metadata.boards.count>(search_result.metadata.boards.page>1?20*parseInt(search_result.metadata.boards.page)-10:10*search_result.metadata.boards.page)&&(__p+='\r\n							 <li class="pull-right js-load-more-search" data-search="'+__e(search_result.search_term)+'" data-page="'+__e(parseInt(search_result.metadata.boards.page)+1)+'" data-for="boards">\r\n							 <a href="javascript:void(0)" class="Load More Boards">Load More Boards</a>\r\n							 </li>\r\n							 '),__p+='\r\n							 <hr class="col-xs-12">\r\n							'),__p+=" \r\n							",_.isUndefined(search_result.lists)||(__p+="\r\n							<li>\r\n							    <strong>Matched in "+__e(search_result.metadata.lists.count)+' lists</strong>\r\n								<div class="panel clearfix">\r\n									<ul class="list-inline panel-body">\r\n										',_.each(search_result.lists,function(a,b){__p+=' \r\n											<li class="col-sm-2"><span class="pull-left navbar-btn">'+__e(b+1)+'. &nbsp;</span><a class="thumbnail list-group-item-text text-center htruncate" title="'+__e(a.list_name)+'" href="#/board/'+__e(a.board_id)+'">'+(null==(__t=a.board_name+" &raquo; "+a.list_name)?"":__t)+"</a></li>\r\n										"}),__p+=' \r\n									</ul>\r\n								</div>\r\n								<hr class="col-xs-12">\r\n							</li>\r\n							',search_result.metadata.lists.count>10&&search_result.metadata.lists.count>(search_result.metadata.lists.page>1?20*parseInt(search_result.metadata.lists.page)-10:10*search_result.metadata.lists.page)&&(__p+='\r\n							 <li class="pull-right js-load-more-search" data-search="'+__e(search_result.search_term)+'" data-page="'+__e(parseInt(search_result.metadata.lists.page)+1)+'" data-for="lists">\r\n							 <a href="javascript:void(0)" class="Load More Lists">Load More Lists</a>\r\n							 </li>\r\n							 '),__p+="\r\n							"),__p+=" \r\n							",_.isUndefined(search_result.cards_labels)||(__p+='\r\n							  <li class="list-view clearfix">\r\n							  <strong>Matched in '+__e(search_result.metadata.cards_labels.count)+" labels</strong>\r\n							  ",_.each(search_result.cards_labels,function(a,b){if(__p+=' \r\n							  <div class="col-xs-12 panel">\r\n								<ul class="list-inline row panel-body js-open-search-model-card-view cur" data-board_id="'+__e(a.board_id)+'" data-list_id="'+__e(a.list_id)+'" data-card_id="'+__e(a.id)+'">\r\n									  <li class="col-md-1"><span title="#'+__e(a.id)+'">#'+__e(a.id)+'</span></li>\r\n									  <li class="col-md-1 htruncate"><span title="'+__e(a.board_name)+'">'+__e(a.board_name)+'</a></li>\r\n									  <li class="col-md-1 htruncate"><span title="'+__e(a.name)+'" >'+__e(a.name)+'</a></li>\r\n									  <li><span title="Votes"><i class="icon-thumbs-up"></i><small>'+__e(a.vote_count)+'</small></span> </li>\r\n									  <li><span title="Attachments"><i class="icon-paper-clip"></i><small>'+__e(a.attachment_count)+'</small></span> </li>\r\n									   <li><span title="Comments"><i class="icon-comment"></i><small>'+__e(a.attachment_count)+'</small></span></li>\r\n									   <li><small><span class="icon-list-ul"></span><span>'+__e(a.checklist_item_completed_count)+"/"+__e(a.checklist_item_count)+"</span></small></li>\r\n									  ",!_.isUndefined(a.due_date)&&null!=a.due_date){__p+='\r\n										  <li><a title="Due date" href="javascript:void(0)"><small><span class="label label-danger">\r\n										  ',card_due_date=a.due_date;var c=new Date,d=(new Date(c.getFullYear(),c.getMonth()+1,0),new Date(c.getFullYear(),c.getMonth()+2,0)),e=new Date(card_due_date),f=Math.floor(e.getTime()-c.getTime()),g=864e5,h=Math.floor(f/g),i=Math.floor((h+(c.getDate()+1))/d.getDate()),j=Math.floor(i/12),k=(h-(6-c.getDay()),"label-default");(0>j||0>i||-1>=h)&&(k="label-danger");
var l=a.due_date.split("T");l=l[0].split(" "),__p+="\r\n										  "+(null==(__t=dateFormat(l[0],"mediumDate"))?"":__t)+"\r\n										  </span></small></a></li>\r\n									  "}__p+=' \r\n									  <li class="col-md-6 pull-right">',_.isUndefined(a.highlight)||(__p+='<p class="htruncate">'+(null==(__t=a.highlight["cards_labels.name"])?"":__t)+"</p>"),__p+="</li>\r\n								</ul>\r\n								</div>\r\n							  "}),__p+=" \r\n							</li>\r\n							",search_result.metadata.cards_labels.count>10&&search_result.metadata.cards_labels.count>(search_result.metadata.cards_labels.page>1?20*parseInt(search_result.metadata.cards_labels.page)-10:10*search_result.metadata.cards_labels.page)&&(__p+='\r\n							 <li class="pull-right js-load-more-search" data-search="'+__e(search_result.search_term)+'" data-page="'+__e(parseInt(search_result.metadata.cards_labels.page)+1)+'" data-for="cards_labels">\r\n							 <a href="javascript:void(0)" class="Load More Labels">Load More Labels</a>\r\n							 </li>\r\n							 '),__p+='\r\n							<hr class="col-xs-12">\r\n							'),__p+=" \r\n							",_.isUndefined(search_result.comments)||(__p+='\r\n							   <li class="list-view"><strong>Matched in '+__e(search_result.metadata.comments.count)+" Comments</strong>\r\n							    ",_.each(search_result.comments,function(a,b){if(__p+=' \r\n								  <div class="col-xs-12 panel">\r\n									<ul class="list-inline row panel-body js-open-search-model-card-view cur" data-board_id="'+__e(a.board_id)+'" data-list_id="'+__e(a.list_id)+'" data-card_id="'+__e(a.id)+'">\r\n									  <li class="col-md-1"><span title="#'+__e(a.id)+'">#'+__e(a.id)+'</span></li>\r\n									  <li class="col-md-1 htruncate"><span title="'+__e(a.board_name)+'" >'+__e(a.board_name)+'</span></li>\r\n									  <li class="col-md-1 htruncate"><span title="'+__e(a.name)+'">'+__e(a.name)+'</span></li>\r\n									  <li><span title="Votes"><i class="icon-thumbs-up"></i><small>'+__e(a.vote_count)+'</small></span> </li>\r\n									  <li><a title="Attachments" href="javascript:void(0)"><i class="icon-paper-clip"></i><small>'+__e(a.attachment_count)+'</small></a> </li>\r\n									   <li><a title="Comments" href="javascript:void(0)"><i class="icon-comment"></i><small>'+__e(a.attachment_count)+'</small></a></li>\r\n									   <li><small><span class="icon-list-ul"></span><span>'+__e(a.checklist_item_completed_count)+"/"+__e(a.checklist_item_count)+"</span></small></li>\r\n									  ",!_.isUndefined(a.due_date)&&null!=a.due_date){__p+='\r\n										  <li><a title="Due date" href="javascript:void(0)"><small><span class="label label-danger">\r\n										  ',card_due_date=a.due_date;var c=new Date,d=(new Date(c.getFullYear(),c.getMonth()+1,0),new Date(c.getFullYear(),c.getMonth()+2,0)),e=new Date(card_due_date),f=Math.floor(e.getTime()-c.getTime()),g=864e5,h=Math.floor(f/g),i=Math.floor((h+(c.getDate()+1))/d.getDate()),j=Math.floor(i/12),k=(h-(6-c.getDay()),"label-default");(0>j||0>i||-1>=h)&&(k="label-danger");var l=a.due_date.split("T");l=l[0].split(" "),__p+="\r\n										  "+(null==(__t=dateFormat(l[0],"mediumDate"))?"":__t)+"\r\n										  </span></small></a></li>\r\n									  "}__p+='\r\n									  <li class="col-md-6 pull-right">',_.isUndefined(a.highlight)||(__p+='<p class="htruncate">'+(null==(__t=a.highlight["activities.comment"])?"":__t)+"</p>"),__p+="</li>\r\n								</ul>\r\n							  </div>\r\n							  "}),__p+="\r\n							 </li>\r\n							 ",search_result.metadata.comments.count>10&&search_result.metadata.comments.count>(search_result.metadata.comments.page>1?20*parseInt(search_result.metadata.comments.page)-10:10*search_result.metadata.comments.page)&&(__p+='\r\n							 <li class="pull-right js-load-more-search" data-search="'+__e(search_result.search_term)+'" data-page="'+__e(parseInt(search_result.metadata.comments.page)+1)+'" data-for="cards_comments">\r\n							 <a href="javascript:void(0)" class="Load More Comments">Load More Comments</a>\r\n							 </li>\r\n							 '),__p+='\r\n							 <hr class="col-xs-12">\r\n							 '),__p+="\r\n							 ",_.isUndefined(search_result.chats)||(__p+='\r\n							 <li class="list-view"><strong>Matched in 50 chats</strong>\r\n							  <div class="panel clearfix">\r\n								  <ul class="list-inline panel-body">\r\n									  <li class="col-md-1"><a title="#750" href="javascript:void(0)">#750</a></li>\r\n									  <li class="col-md-1"><a title="Card3" href="javascript:void(0)">Card 3</a></li>\r\n									  <li><a title="Votes" href="javascript:void(0)"><i class="icon-thumbs-up"></i><small>0</small></a> </li>\r\n									  <li><span title="Votes"><i class="icon-thumbs-up"></i><small>'+__e(item.vote_count)+'</small></span> </li>\r\n									  <li><a title="Attachments" href="javascript:void(0)"><i class="icon-paper-clip"></i><small>5</small></a> </li>\r\n									  <li><a title="Comments" href="javascript:void(0)"><i class="icon-comment"></i><small>15</small></a></li>\r\n									  <li><a title="Checklists" href="javascript:void(0)"><i class="icon-ok-sign"></i><small>0/2</small></a> </li>\r\n									  <li><a title="Due date" href="javascript:void(0)"><small><span class="label label-default">Feb 10, 2015</span></small></a></li>\r\n									  <li class="col-md-6 pull-right"><p class="htruncate">Lorem Ipsum is simply <span class="bg-search">dummy</span> text of the printing and typesetting industry</p></li>\r\n								</ul>\r\n							  </div>\r\n							 </li>\r\n							<hr class="col-xs-12">\r\n						   '),__p+="\r\n						   ",_.isUndefined(search_result.checklists)||(__p+='\r\n							 <li class="list-view"><strong>Matched in  '+__e(search_result.metadata.checklists.count)+" Checklists</strong>\r\n							   ",_.each(search_result.checklists,function(a,b){if(__p+=' \r\n							    <div class="col-xs-12 panel">\r\n								   <ul class="list-inline row panel-body js-open-search-model-card-view cur" data-board_id="'+__e(a.board_id)+'" data-list_id="'+__e(a.list_id)+'" data-card_id="'+__e(a.id)+'">\r\n									  <li class="col-md-1"><span title="#'+__e(a.id)+'">#'+__e(a.id)+'</span></li>\r\n									  <li class="col-md-1 htruncate"><span title="'+__e(a.board_name)+'">'+__e(a.board_name)+'</span></li>\r\n									  <li class="col-md-1 htruncate"><span title="'+__e(a.name)+'">'+__e(a.name)+'</span></li>\r\n									  <li><span title="Votes"><i class="icon-thumbs-up"></i><small>'+__e(a.vote_count)+'</small></span> </li>\r\n									  <li><a title="Attachments" href="javascript:void(0)"><i class="icon-paper-clip"></i><small>'+__e(a.attachment_count)+'</small></a> </li>\r\n									   <li><a title="Comments" href="javascript:void(0)"><i class="icon-comment"></i><small>'+__e(a.attachment_count)+'</small></a></li>\r\n									   <li><small><span class="icon-list-ul"></span><span>'+__e(a.checklist_item_completed_count)+"/"+__e(a.checklist_item_count)+"</span></small></li>\r\n									  ",!_.isUndefined(a.due_date)&&null!=a.due_date){__p+='\r\n										  <li><a title="Due date" href="javascript:void(0)"><small><span class="label label-danger">\r\n										  ',card_due_date=a.due_date;var c=new Date,d=(new Date(c.getFullYear(),c.getMonth()+1,0),new Date(c.getFullYear(),c.getMonth()+2,0)),e=new Date(card_due_date),f=Math.floor(e.getTime()-c.getTime()),g=864e5,h=Math.floor(f/g),i=Math.floor((h+(c.getDate()+1))/d.getDate()),j=Math.floor(i/12),k=(h-(6-c.getDay()),"label-default");(0>j||0>i||-1>=h)&&(k="label-danger");var l=a.due_date.split("T");l=l[0].split(" "),__p+="\r\n										  "+(null==(__t=dateFormat(l[0],"mediumDate"))?"":__t)+"\r\n										  </span></small></a></li>\r\n									  "}__p+=' \r\n									  <li class="col-md-6 pull-right">',_.isUndefined(a.highlight)||(__p+='<p class="htruncate">'+(null==(__t=a.highlight["cards_checklists.checklist_item_name"])?"":__t)+"</p>"),__p+="</li>\r\n								</ul>\r\n							  </div>\r\n							  "}),__p+="\r\n							 </li>\r\n							 ",search_result.metadata.checklists.count>10&&search_result.metadata.checklists.count>(search_result.metadata.checklists.page>1?20*parseInt(search_result.metadata.checklists.page)-10:10*search_result.metadata.checklists.page)&&(__p+='\r\n							 <li class="pull-right js-load-more-search" data-search="'+__e(search_result.search_term)+'" data-page="'+__e(parseInt(search_result.metadata.checklists.page)+1)+'" data-for="cards_checklists">\r\n							 <a href="javascript:void(0)" class="Load More Checklists">Load More Checklists</a>\r\n							 </li>\r\n							 '),__p+='\r\n							  <hr class="col-xs-12">\r\n							 '),__p+="\r\n							 ",_.isUndefined(search_result.cards)||(__p+='\r\n							   <li class="list-view"><strong>Matched in '+__e(search_result.metadata.cards.count)+" cards</strong>\r\n							   ",_.each(search_result.cards,function(a,b){if(__p+=' \r\n								<div class="col-xs-12 panel">\r\n								   <ul class="list-inline row panel-body js-open-search-model-card-view cur" data-board_id="'+__e(a.board_id)+'" data-list_id="'+__e(a.list_id)+'" data-card_id="'+__e(a.id)+'">\r\n									  <li class="col-md-1"><span title="#'+__e(a.id)+'">#'+__e(a.id)+'</span></li>\r\n									  <li class="col-md-1 htruncate"><span title="'+__e(a.board_name)+'">'+__e(a.board_name)+'</span></li>\r\n									  <li class="col-md-1 htruncate"><span title="'+__e(a.name)+'">'+__e(a.name)+'</span></li>\r\n									  <li><span title="Votes"><i class="icon-thumbs-up"></i><small>'+__e(a.vote_count)+'</small></span> </li>\r\n									  <li><a title="Attachments" href="javascript:void(0)"><i class="icon-paper-clip"></i><small>'+__e(a.attachment_count)+'</small></a> </li>\r\n									   <li><a title="Comments" href="javascript:void(0)"><i class="icon-comment"></i><small>'+__e(a.attachment_count)+'</small></a></li>\r\n									   <li><small><span class="icon-list-ul"></span><span>'+__e(a.checklist_item_completed_count)+"/"+__e(a.checklist_item_count)+"</span></small></li>\r\n									  ",!_.isUndefined(a.due_date)&&null!=a.due_date){__p+='\r\n										  <li><a title="Due date" href="javascript:void(0)"><small><span class="label label-danger">\r\n										  ',card_due_date=a.due_date;var c=new Date,d=(new Date(c.getFullYear(),c.getMonth()+1,0),new Date(c.getFullYear(),c.getMonth()+2,0)),e=new Date(card_due_date),f=Math.floor(e.getTime()-c.getTime()),g=864e5,h=Math.floor(f/g),i=Math.floor((h+(c.getDate()+1))/d.getDate()),j=Math.floor(i/12),k=(h-(6-c.getDay()),"label-default");(0>j||0>i||-1>=h)&&(k="label-danger");var l=a.due_date.split("T");l=l[0].split(" "),__p+="\r\n										  "+(null==(__t=dateFormat(l[0],"mediumDate"))?"":__t)+"\r\n										  </span></small></a></li>\r\n									  "}__p+=' \r\n									  <li class="col-md-6 pull-right">',_.isUndefined(a.highlight)?_.isUndefined(a.description)||null==a.description||(__p+='\r\n									  <p class="htruncate">'+(null==(__t=a.description)?"":__t)+"</p>\r\n									  "):__p+='<p class="htruncate">'+(null==(__t=_.isUndefined(a.highlight.description)?a.highlight.name:a.highlight.description)?"":__t)+"</p> ",__p+="</li>\r\n								</ul>\r\n							  </div>\r\n							  "}),__p+="  \r\n							 </li>\r\n							 ",search_result.metadata.cards.count>10&&search_result.metadata.cards.count>(search_result.metadata.cards.page>1?20*parseInt(search_result.metadata.cards.page)-10:10*search_result.metadata.cards.page)&&(__p+='\r\n							 <li class="pull-right js-load-more-search" data-search="'+__e(search_result.search_term)+'" data-page="'+__e(parseInt(search_result.metadata.cards.page)+1)+'" data-for="cards">\r\n							 <a href="javascript:void(0)" class="Load More Cards">Load More Cards</a>\r\n							 </li>\r\n							 '),__p+='\r\n							 <hr class="col-xs-12">\r\n							'),__p+="\r\n						</ul>\r\n				</div>\r\n			  </div>\r\n				",_.isEmpty(search_result)&&(__p+='\r\n				<div class="well-lg"></div>\r\n				<div class="well-lg"></div>\r\n				<div class="well-lg"></div>\r\n				<div class="text-center text-danger col-sm-6 col-sm-offset-3">No Results Found</div>\r\n				'),__p+="\r\n			</div>";return __p},this.JST["templates/search_result"]=function(obj){obj||(obj={});var __p="",__e=_.escape;Array.prototype.join;with(obj)_.each(hits,function(a){"boards"===a._index?__p+="	\r\n		<li>"+__e(a._source.doc.board_name)+"</li>\r\n":"lists"===a._index?__p+="	\r\n		<li>"+__e(a._source.doc.list_name)+"</li>\r\n":"cards"===a._index&&(__p+='	\r\n		<li class="js-show-modal-card-view">'+__e(a._source.doc.card_name)+"</li>\r\n")}),__p+="\r\n";return __p},this.JST["templates/select_board_visibility"]=function(obj){obj||(obj={});var __p="",__e=_.escape;Array.prototype.join;with(obj)"private"==name?__p+='\r\n		<span title="Private" class="icon-lock text-primary"></span>'+__e(i18next.t("Private"))+"	\r\n":"public"==name?__p+='\r\n		<span title="Public" class="icon-circle text-primary"></span>'+__e(i18next.t("Public"))+"\r\n":_.isUndefined(data.organization_id)||(__p+='\r\n		<span title="Organization" class="icon-group text-primary"></span>'+__e(i18next.t("Organization"))+"\r\n");return __p},this.JST["templates/selected_board_visibility"]=function(obj){obj||(obj={});var __p="",__e=_.escape;Array.prototype.join;with(obj)__p+='<span class="pull-left">\r\n	<span class="pull-left navbar-btn">'+__e(i18next.t("This board will be"))+' </span>\r\n</span>\r\n<div class="btn-group pull-right">\r\n	<button type="button" class="btn btn-default btn-sm js-change-visibility"><i class="icon-lock"></i>',__p+="org"==name?__e(i18next.t("Organization"))+" ":"public"==name?__e(i18next.t("Public"))+" ":__e(i18next.t("Private")),__p+='</button>\r\n	<button type="button" class="btn btn-default btn-sm dropdown-toggle js-change-visibility" data-toggle="dropdown" aria-expanded="false">\r\n		<span>\r\n			<i class="icon-caret-down"></i>\r\n		</span>\r\n		<span class="sr-only">'+__e(i18next.t("Toggle Dropdown"))+"</span>\r\n	</button>\r\n</div>";return __p},this.JST["templates/setting_list"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;Array.prototype.join;with(obj){__p+='<!-- Main block start -->\r\n<section class="clearfix row">\r\n  <div class="col-xs-12">\r\n	<div class="clearfix">\r\n		<ul class="nav nav-tabs no-bor h3">\r\n		';var i=0;if(list.models.length>0&&_.each(list.models,function(a){a.get("settings");__p+="\r\n				<li ",_.isUndefined(id)||id!=a.get("id")?_.isUndefined(id)&&3==a.get("id")&&(__p+='class="active" '):__p+='class="active" ',__p+=' ><a href="#/settings/'+__e(a.get("id"))+'">'+__e(i18next.t(a.get("name")))+"</a></li>\r\n		",i++}),__p+='\r\n		</ul>\r\n	</div>\r\n	<div class="row">\r\n		<div class="tab-content col-sm-10">\r\n		',list.models.length>0){var j=0;_.each(list.models,function(a){var b=a.get("settings");if(__p+='		\r\n				<div class="modal-body tab-pane clearfix ',_.isUndefined(id)||id!=a.get("id")?_.isUndefined(id)&&3==a.get("id")&&(__p+=" active "):__p+=" active ",__p+='" id="settingTab'+__e(a.get("id"))+'">\r\n					',!_.isEmpty(b)){__p+="\r\n					",10==a.get("id")&&(__p+='\r\n					<p class="alert alert-info ">'+__e(i18next.t("To add/reply cards via email you must set up a secret email account with IMAP access. This should support plus addressing and has to be dedicated to handle replying through email feature. Suggested email address is rbreply@yourdomain.tld"))+"</p>\r\n					"),__p+="\r\n					",8==a.get("id")?__p+='\r\n					<p class="alert alert-info ">'+__e(i18next.t("Different people may use different naming for Todo, Doing and Done. So, it is usually difficult to identify what are actually in Todo, Doing and Done. Below, you can configure how the lists have to be recognized. For a list, you can configure its indicator icon and its color too."))+'</p>\r\n					<form class="col-md-9 col-xs-12 js-setting-list-form" role="form" id="js-setting-list-form">\r\n					':(__p+='\r\n					<form class="form-horizontal clearfix ',__p+=2==a.get("id")?"col-lg-8":"col-lg-6",__p+=' col-md-8 col-sm-12 col-xs-12 js-setting-list-form" role="form" id="js-setting-list-form">\r\n					'),__p+="\r\n					";var c=0,d=0;_.each(b,function(a){4==a.setting_category_id&&0!=a.setting_category_parent_id&&(c+=1),5==a.setting_category_id&&0!=a.setting_category_parent_id&&(d+=1)}),__p+="\r\n					";var e=0,f=0,g=0,h="",i="",k="",l="",m="",n="";_.each(b,function(b){if(__p+="\r\n						","TODO_COLOR"==b.name)return void(h=b.type+"__"+b.id+"__"+b.name+"__"+b.value+"__"+b.label);if("DOING_COLOR"==b.name)return void(i=b.type+"__"+b.id+"__"+b.name+"__"+b.value+"__"+b.label);if("DONE_COLOR"==b.name)return void(k=b.type+"__"+b.id+"__"+b.name+"__"+b.value+"__"+b.label);if("TODO_ICON"==b.name)return void(l=b.type+"__"+b.id+"__"+b.name+"__"+b.value+"__"+b.label);if("DOING_ICON"==b.name)return void(m=b.type+"__"+b.id+"__"+b.name+"__"+b.value+"__"+b.label);if("DONE_ICON"==b.name)return void(n=b.type+"__"+b.id+"__"+b.name+"__"+b.value+"__"+b.label);if(4==b.setting_category_id&&0!=b.setting_category_parent_id&&(f+=1),5==b.setting_category_id&&0!=b.setting_category_parent_id&&(g+=1),b.setting_category_id!=e&&0!=b.setting_category_parent_id&&(e=b.setting_category_id,__p+="\r\n								",4==b.setting_category_id&&(__p+='\r\n									<hr>\r\n									<fieldset>\r\n										<legend>\r\n											<span class="show h4">'+__e(i18next.t("LDAP configuration"))+"</span>\r\n										</legend>\r\n									</fieldset>\r\n								"),__p+="\r\n									",(4==b.setting_category_id||5==b.setting_category_id)&&(__p+='\r\n										<fieldset>\r\n										<div class="col-sm-offset-2">\r\n									'),__p+='\r\n											<legend>\r\n												<span class="show h4">'+(null==(__t=i18next.t(b.category_name))?"":__t)+"</span>\r\n											</legend>				\r\n									",(4==b.setting_category_id||5==b.setting_category_id)&&(__p+='\r\n										<div class="col-sm-offset-2">\r\n									'),__p+="\r\n						"),__p+="\r\n						","checkbox"==b.type)__p+="\r\n						",22==b.id&&(__p+='\r\n							<div class="form-group">\r\n								<div class="col-sm-offset-2 col-sm-8 checkbox-inline">\r\n						'),__p+='\r\n									<div class="',__p+="ENABLE_SSL_CONNECTIVITY"!=b.name?"checkbox pull-left":"form-group",__p+='">\r\n									',"ENABLE_SSL_CONNECTIVITY"===b.name&&(__p+='<div class="col-xs-3"></div><div		class="col-xs-9">'),__p+='\r\n 										<input class="js-checkbox" id="inputSetting'+__e(b.id)+'" name="'+__e(b.name)+'" type="checkbox" ',"true"===b.value&&(__p+=' checked="checked" '),__p+=' value="'+__e(b.value)+'">\r\n 										<label for="inputSetting'+__e(b.id)+'">'+__e(i18next.t(b.label))+" </label>\r\n									","ENABLE_SSL_CONNECTIVITY"===b.name&&(__p+="</div>"),__p+="\r\n 									</div>\r\n					    ",3==b.id&&(__p+="\r\n								</div>\r\n							</div>\r\n						"),__p+="\r\n						";else{if(__p+="\r\n							",31==b.id)__p+='\r\n								<div class="form-group">\r\n								  <label for="inputSetting'+__e(b.id)+'" class="',__p+=2==a.get("id")?"col-sm-3 ":" col-sm-4 ",__p+=' control-label col-xs-12">'+__e(i18next.t(b.label))+'</label>\r\n								  <div class="',__p+=2==a.get("id")?"col-sm-9 ":" col-sm-8 ",__p+=' col-xs-12">\r\n									<select name="'+__e(i18next.t(b.name))+'" id="inputSetting'+__e(b.id)+'" class="form-control">\r\n									 ',_.each(JSON.parse(window.sessionStorage.getItem("languages")),function(a,c){__p+="\r\n										<option ",c===b.value&&(__p+="selected "),__p+=' value="'+__e(c)+'">'+__e(a)+"</option>\r\n									"}),__p+='\r\n									</select>\r\n									<div><span class="help-block">'+(null==(__t=i18next.t(b.description))?"":__t)+"</span></div>\r\n								  </div>\r\n								</div>\r\n							";else{if(__p+="\r\n								  ","TODO"==b.name||"DOING"==b.name||"DONE"==b.name?__p+=' \r\n								  <div class="clearfix">\r\n								  <label for="inputSetting'+__e(b.id)+'" class="col-sm-2 control-label text-right">'+__e(i18next.t(b.label))+'</label>\r\n								  <div class=" col-sm-10 col-xs-12">\r\n								  ':(__p+='\r\n								  <div class="form-group">\r\n								  <label for="inputSetting'+__e(b.id)+'" class="',__p+=2==a.get("id")?"col-sm-3 ":" col-sm-4 ",__p+=' control-label col-xs-12">'+__e(i18next.t(b.label))+'</label>\r\n								  <div class="',__p+=2==a.get("id")?"col-sm-9 ":" col-sm-8 ",__p+=' col-xs-12">\r\n								  '),__p+="\r\n								  ","select"==b.type){__p+='\r\n									  <select name="'+__e(i18next.t(b.name))+'" id="inputSetting'+__e(b.id)+'" class="form-control">\r\n									 ';var j=b.options.split(",");_.each(j,function(a,c){__p+="\r\n										<option ",a===b.value&&(__p+="selected "),__p+=' value="'+__e(a)+'">'+__e(a)+"</option>\r\n									"}),__p+="\r\n									</select>\r\n								  "}else"password"==b.type?__p+='\r\n									<input type="'+__e(b.type)+'" id="inputSetting'+__e(b.id)+'" name="'+__e(i18next.t(b.name))+'" class="form-control" />\r\n								  ':"textarea"==b.type?(__p+="\r\n									","TODO"==b.name&&(h=h.split("__"),l=l.split("__"),__p+='\r\n										<div class="col-sm-4 form-group">\r\n										<input type="'+__e(l[0])+'" id="inputSetting'+__e(l[1])+'" name="'+__e(i18next.t(l[2]))+'" class="form-control" value="'+__e(l[3])+'" placeholder="'+__e(l[4])+'" />\r\n										</div>\r\n										<div class="col-sm-4 form-group clearfix">\r\n										<input type="'+__e(h[0])+'" id="inputSetting'+__e(h[1])+'" name="'+__e(i18next.t(h[2]))+'" class="form-control pull-left" value="'+__e(h[3])+'" placeholder="'+__e(h[4])+'" />\r\n										</div>\r\n									'),__p+="\r\n									","DOING"==b.name&&(i=i.split("__"),m=m.split("__"),__p+='	\r\n										<div class="col-sm-4 form-group">\r\n										<input type="'+__e(m[0])+'" id="inputSetting'+__e(m[1])+'" name="'+__e(i18next.t(m[2]))+'" class="form-control" value="'+__e(m[3])+'" placeholder="'+__e(m[4])+'" />\r\n										</div>\r\n										<div class="col-sm-4 form-group clearfix">\r\n										<input type="'+__e(i[0])+'" id="inputSetting'+__e(i[1])+'" name="'+__e(i18next.t(i[2]))+'" class="form-control pull-left" value="'+__e(i[3])+'" placeholder="'+__e(i[4])+'" />\r\n										</div>\r\n									'),__p+="\r\n									","DONE"==b.name&&(k=k.split("__"),n=n.split("__"),__p+='\r\n										<div class="col-sm-4 form-group">\r\n										<input type="'+__e(n[0])+'" id="inputSetting'+__e(n[1])+'" name="'+__e(i18next.t(n[2]))+'" class="form-control" value="'+__e(n[3])+'" placeholder="'+__e(n[4])+'"/>\r\n										</div>\r\n										<div class="col-sm-4 form-group clearfix">\r\n										<input type="'+__e(k[0])+'" id="inputSetting'+__e(k[1])+'" name="'+__e(i18next.t(k[2]))+'" class="form-control pull-left" value="'+__e(k[3])+'" placeholder="'+__e(k[4])+'"/>\r\n										</div>\r\n									'),__p+="\r\n									",("TODO"==b.name||"DOING"==b.name||"DONE"==b.name)&&(__p+=' \r\n									<div class="col-sm-4 form-group">\r\n									'),__p+='\r\n									<textarea id="inputSetting'+__e(b.id)+'" name="'+__e(i18next.t(b.name))+'" class="form-control" >'+__e(b.value)+"</textarea>\r\n									",("TODO"==b.name||"DOING"==b.name||"DONE"==b.name)&&(__p+=" \r\n									</div>\r\n									"),__p+="\r\n								  "):__p+='\r\n									<input type="'+__e(b.type)+'" id="inputSetting'+__e(b.id)+'" name="'+__e(i18next.t(b.name))+'" class="form-control" value="'+__e(b.value)+'" />\r\n								  ';__p+='\r\n									<div><span class="help-block">'+(null==(__t=i18next.t(b.description))?"":__t)+"</span></div>\r\n								  </div>\r\n								</div>\r\n							"}__p+="\r\n						"}__p+="\r\n						",4!=b.setting_category_id&&5!=b.setting_category_id||f!=c&&g!=d||(c=0,d=0,__p+="\r\n							</div>\r\n							</div>\r\n							</fieldset>		\r\n						"),__p+="\r\n					"}),__p+="\r\n					",8==a.get("id")?__p+='\r\n					  <div class="form-group">\r\n						<label for="submit2" class="col-sm-2 control-label"></label>\r\n						<div class="col-sm-8">\r\n						<input type="submit" value="'+__e(i18next.t("Submit"))+'" id="submit2" class="btn btn-primary">\r\n						</div>\r\n					  </div>\r\n					 ':(__p+=' \r\n					 <div class="form-group">\r\n						<label for="submit2" class="sr-only ',__p+=2==a.get("id")?"col-sm-3 ":" col-sm-4 ",__p+=' control-label col-xs-12">'+__e(i18next.t("Submit"))+'</label>\r\n						<div class="col-sm-8">\r\n						<input type="submit" value="'+__e(i18next.t("Submit"))+'" id="submit2" class="btn btn-primary">\r\n						</div>\r\n					  </div>\r\n					 '),__p+=" \r\n					</form>\r\n					"}__p+="\r\n				</div>\r\n		",j++,__p+="\r\n		",2==a.id&&2==id&&(__p+='\r\n			<legend>\r\n				<span class="show h4">'+__e(i18next.t("Import LDAP users"))+'</span>\r\n			</legend>\r\n			<div class="form-group">\r\n				<div class="col-xs-3"></div><div class="col-xs-9">\r\n					<input type="checkbox" value="" name="enableImportUsers" id="enableImportUsers" class="js-enable-import-user">\r\n					<label for="enableImportUsers">'+__e(i18next.t("Import Groups from LDAP into Organizations and put users under organization. If this option is unchecked, only the users will be imported (not organization)"))+' </label>\r\n				</div>\r\n			</div>\r\n			<div class="form-group">\r\n				<div class="col-xs-3"></div><div class="col-xs-9">\r\n					<input type="checkbox" value="" name="dontSendWelcomeMail" id="dontSendWelcomeMail">\r\n					<label for="dontSendWelcomeMail">'+__e(i18next.t("Don't send welcome email"))+' </label>\r\n				</div>\r\n			</div>\r\n			<div class="form-group">\r\n				<label for="enableImportUsersSubmit" class="sr-only col-sm-4 control-label col-xs-12">'+__e(i18next.t("Import users"))+'</label>\r\n				<div class="col-sm-8">\r\n				<button type="button" id="importUsersSubmit" class="js-import-users btn btn-primary">'+__e(i18next.t("Import users"))+'</button>\r\n				<span class="clearfix hide" id="js-loader-img"><span class="cssloader"></span></span>\r\n				</div>\r\n		    </div>\r\n		'),__p+="\r\n		"})}__p+="	\r\n		</div>\r\n	</div>\r\n  </div>\r\n</section>\r\n<!-- Main block end -->"}return __p},this.JST["templates/show_all_visibility"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;Array.prototype.join;with(obj){var private_visibility="",org_visibility="",public_visibility="";0==visibility?private_visibility='<i class="icon-check"></i>':1==visibility?org_visibility='<i class="icon-check"></i>':2==visibility&&(public_visibility='<i class="icon-check"></i>'),__p+='\r\n	<li class="col-xs-12 btn-block">\r\n		<a href="#" name="private" class="',0==visibility&&(__p+=" btn-default "),__p+=' js-select h6 navbar-btn"> \r\n			<span class="show text-primary navbar-btn h5"> '+(null==(__t=i18next.t("Private %s",{postProcess:"sprintf",sprintf:[private_visibility]}))?"":__t)+' </span>\r\n			<span class="show"> '+__e(i18next.t("This board is private. Only people added to the board can view and edit it."))+' </span>\r\n		</a>\r\n	</li>\r\n	<li class="col-xs-12 divider navbar-btn"> </li>\r\n	<li class="col-xs-12 btn-block"> \r\n		<a href="#" name="org" class="',1==visibility&&(__p+=" btn-default "),__p+=' js-select js-show-add-organization-form h6 navbar-btn">\r\n			<span class="show text-primary navbar-btn h5"> '+(null==(__t=i18next.t("Organization %s",{postProcess:"sprintf",sprintf:[org_visibility]}))?"":__t)+' </span>\r\n			<span class="show"> '+__e(i18next.t("This board is visible to members of the organization. Only people added to the board can edit."))+' <span class="error"> '+__e(i18next.t("The board must be added to an org to enable this."))+' </span> </span> </a>\r\n	</li>\r\n	<li class="col-xs-12 divider navbar-btn"> </li>\r\n	<li class="col-xs-12 btn-block"> \r\n		<a href="#" name="public" class="',2==visibility&&(__p+=" btn-default "),__p+=' js-select h6 navbar-btn"><span class="show text-primary navbar-btn h5"> '+(null==(__t=i18next.t("Public %s",{postProcess:"sprintf",sprintf:[public_visibility]}))?"":__t)+' </span><span class="show"> '+__e(i18next.t("This board is public. It's visible to anyone with the link and will show up in search engines like Google. Only people added to the board can edit."))+"  </span> </a> \r\n	</li>"}return __p},this.JST["templates/show_board_member_permission_form"]=function(obj){obj||(obj={});var __p="",__e=_.escape;with(obj)__p+='<div class="col-xs-12 text-center clearfix">\r\n	<span class="col-xs-10"><strong>'+__e(i18next.t("Change permissions"))+'</strong></span><a class="js-close-popover pull-right" href="#"><i class="icon-remove"></i></a>\r\n</div>\r\n<div class="col-xs-12 divider"></div>\r\n<div class="col-xs-12 member-modal js-pre-scrollable vertical-scrollbar">\r\n	<ul class="list-unstyled list-inline">\r\n		<li class="plull-left">\r\n			<a class="js-edit-board-member-permission-to-admin" data-board_user_id="'+__e(board_user_id)+'" href="#">\r\n				<span class="show">'+__e(i18next.t("Admin"))+"</span><span>"+__e(i18next.t("Can view, create and edit boards, and change settings for the board."))+'</span>\r\n			</a>\r\n		</li>\r\n		<li class="plull-left">\r\n			<a class="js-edit-board-member-permission-to-normal" data-board_user_id="'+__e(board_user_id)+'" href="#">\r\n				<span class="show">'+__e(i18next.t("Normal"))+"</span><span>"+__e(i18next.t("Can view, create, and view members, but not change settings."))+"</span>\r\n			</a>\r\n		</li>\r\n	</ul>\r\n</div>";return __p},this.JST["templates/show_board_visibility"]=function(obj){obj||(obj={});var __p="",__e=_.escape;Array.prototype.join;with(obj)__p+='        <li class="col-xs-12 btn-block"><a href="#" name="private" class="',0==visibility&&(__p+=" btn-default "),__p+='  h6 js-set-privte-board navbar-btn"> <span class="show text-primary navbar-btn h5"> '+__e(i18next.t("Private"))+" ",0==visibility&&(__p+=' <i class="icon-check"></i> '),__p+=' </span><span class="show"> '+__e(i18next.t("This board is private. Only people added to the board can view and edit it."))+' </span> </a> </li>\r\n		<li class="divider col-xs-12 navbar-btn"></li>\r\n        <li class="col-xs-12 btn-block"> <a href="#" name="org" class="',1==visibility&&(__p+=" btn-default "),__p+=' h6 navbar-btn js-show-board-organization"><span class="show text-primary navbar-btn h5"> '+__e(i18next.t("Organization"))+" ",1==visibility&&(__p+=' <i class="icon-check"></i> '),__p+=' </span><span class="show"> '+__e(i18next.t("This board is visible to members of the organization. Only people added to the board can edit."))+' <span class="error"> '+__e(i18next.t("The board must be added to an org to enable this."))+' </span> </span> </a> </li>\r\n		<li class="divider col-xs-12 navbar-btn"></li> \r\n        <li class="col-xs-12 btn-block"> <a href="#" name="public" class="',2==visibility&&(__p+=" btn-default "),__p+=' h6 navbar-btn js-set-public-board"><span class="show text-primary navbar-btn h5"> '+__e(i18next.t("Public"))+" ",2==visibility&&(__p+=' <i class="icon-check"></i> '),__p+=' </span><span class="show"> '+__e(i18next.t("This board is public. It's visible to anyone with the link and will show up in search engines like Google. Only people added to the board can edit."))+"  </span> </a> </li>";return __p},this.JST["templates/show_copy_board"]=function(obj){obj||(obj={});var __p="",__e=_.escape;Array.prototype.join;with(obj)__p+='<div class="clearfix">\r\n<div class="clearfix text-center col-xs-12">\r\n	<a href="#" class="js-back-to-sidebar pull-left btn btn-xs btn-link">\r\n		<i class="icon-caret-left"></i>\r\n	</a>\r\n	<span class="col-xs-10 navbar-btn"><strong>'+__e(i18next.t("Copy board"))+'</strong></span>\r\n</div>\r\n<div class="col-xs-12 divider"></div>\r\n<div class="col-xs-12">\r\n<form class="normal" name="BoardCopyForm" id="BoardCopyForm" method="POST">\r\n  <fieldset>\r\n  <div class="form-group required">\r\n	<label for="inputCopyBoardName">'+__e(i18next.t("Name"))+'</label>\r\n	<input type="text" autocomplete="off" id="inputCopyBoardName" name="name" class="form-control input-sm" required>\r\n  </div>\r\n  <input name="board_visibility"  id="inputBoardCopyVisibility" type="hidden" value="'+__e(board.attributes.board_visibility)+'">\r\n  <div id="js-board-add-organization"></div>\r\n	<div class="clearfix js-open-dropdown js-board-add-dropdown dropdown js-visibility-chooser-copy-board-dropdown"> \r\n		<span class="js-visibility-container">\r\n			<span class="pull-left">\r\n				<span class="pull-left navbar-btn">'+__e(i18next.t("This board will be"))+' </span>\r\n			</span>\r\n			<div class="btn-group pull-right"> \r\n				<button type="button" class="btn btn-default btn-sm js-change-visibility" id="js-change-visible-content">',
0==board.attributes.board_visibility?__p+='\r\n					<i class="icon-lock"></i>'+__e(i18next.t("Private"))+"\r\n				":1==board.attributes.board_visibility?__p+='\r\n					<i class="icon-group"></i>'+__e(i18next.t("Organization"))+"\r\n				":2==board.attributes.board_visibility&&(__p+='\r\n					<i class="icon-circle"></i>'+__e(i18next.t("Public"))+"\r\n				"),__p+='</button>\r\n				<button type="button" class="btn btn-default btn-sm dropdown-toggle js-change-visibility" data-toggle="dropdown" aria-expanded="false">\r\n					<span><i class="icon-caret-down"></i></span>\r\n					<span class="sr-only">'+__e(i18next.t("Toggle Dropdown"))+'</span>\r\n				</button>\r\n			</div>\r\n		</span>\r\n		<ul class="dropdown-menu arrow arrow-right">\r\n			<li class="text-center">\r\n				<strong>'+__e(i18next.t("Change Visibility"))+'</strong>\r\n				<span href="#" class="js-close-sidebar-popover pull-right col-xs-2"><i class="icon-remove cur"></i></span>\r\n			</li>\r\n			<li class="col-xs-12 divider js-visibility-chooser-copy-board"></li>\r\n		</ul>\r\n	</div>\r\n  <div class="form-group">\r\n	<div class="checkbox">\r\n		<input id="inputKeepCards" type="checkbox" checked="checked" value="1" name="keepCards" class="hide">\r\n		<label for="inputKeepCards">'+__e(i18next.t("Keep Cards"))+'</label>\r\n	</div>\r\n  </div>\r\n  <div class="submit">\r\n	<input type="submit" value="'+__e(i18next.t("Create"))+'" id="submitBoardCopy" class="btn btn-primary">\r\n  </div>\r\n  </fieldset>\r\n</form>\r\n</div>\r\n</div>';return __p},this.JST["templates/show_search_boards"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;Array.prototype.join;with(obj)__p+=_.isEmpty(board)||null==board?'\r\n	<span class="col-xs-12"><div class="alert alert-info">\r\n	'+__e(i18next.t("No %s available.",{postProcess:"sprintf",sprintf:[i18next.t("boards")]}))+"\r\n</div></span>\r\n":'\r\n	<a class="clearfix" href="#/board/'+__e(board.attributes.id)+'">\r\n		<span style="'+(null==(__t=style)?"":__t)+'" class="preview-thumbnail"></span>\r\n		<span class="fade"></span>\r\n		<span class="details">\r\n			<span title="'+__e(board.attributes.name)+'" class="board-list-item-name htruncate col-xs-12 row">'+__e(board.attributes.name)+'</span>\r\n			<span class="pull-right hide js-stared-conatiner js-stared-conatiner-'+__e(board.attributes.id)+'">\r\n				<span  title="'+__e(i18next.t("Click to star this board. It will show up at top of your boards list."))+'" name="subscribe" class="icon-star-empty js-star-board" data-board_id="'+__e(board.attributes.id)+'">		</span>\r\n			</span>\r\n		</span>\r\n	</a>\r\n';return __p},this.JST["templates/show_search_message"]=function(obj){obj||(obj={});var __p="",__e=_.escape;with(obj)__p+=__e(i18next.t("You can use search operators like @member, #label, is:archived, and has:attachments to refine your search."));return __p},this.JST["templates/show_sync_google_calendar"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="clearfix">\r\n	<div class="clearfix col-xs-12">\r\n		<a href="#" class="js-back-to-sidebar pull-left btn btn-xs btn-link">\r\n			<i class="icon-caret-left"></i>\r\n		</a>\r\n		<span class="col-xs-10 navbar-btn"><strong>'+__e(i18next.t("iCal Feed"))+'</strong></span>\r\n	</div>\r\n	<div class="col-xs-12 divider"></div>\r\n	<div class="col-xs-12">\r\n		<form class="normal col-xs-12">\r\n		  <div class="form-group">\r\n			<label>'+__e(i18next.t("iCal Feed URL"))+'</label>\r\n			<input type="text" readonly="readonly" value="" class="form-control input-sm js-syn-calendar-response" id="js-select-google-sync-url">\r\n			<p>\r\n				'+(null==(__t=i18next.t("Sync with Google Calendar: To add iCal feed URL in Google calendar please refer, %s",{postProcess:"sprintf",sprintf:['<a class="text-wrap" href="https://support.google.com/calendar/answer/37100" target="_blank">https://support.google.com/calendar/answer/37100</a>']}))?"":__t)+"\r\n			</p>\r\n			<p>\r\n				"+__e(i18next.t("NOTE: Changes made in Restyaboard won't instantly update to Google Calendar. We estimate that Google Calendar update their external feeds approximately once per day, but that is dependent on Google Calendar."))+"\r\n			</p>\r\n		  </div>\r\n		</form>\r\n	</div>\r\n</div>";return __p},this.JST["templates/starred_boards_index"]=function(obj){obj||(obj={});var __p="";_.escape,Array.prototype.join;with(obj)__p+="  ",_.isEmpty(role_links.where({slug:"view_stared_boards"}))||(__p+='\r\n  <div class="btn-block clearfix">\r\n    <div class="col-xs-12 js-header-starred-boards">\r\n	  <hr>\r\n    </div>\r\n  </div>\r\n  '),__p+="\r\n";return __p},this.JST["templates/started_boards_listing"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;Array.prototype.join;with(obj)if(null!=board){var style="";if(board.attributes.background_picture_url){var background_picture_url=board.attributes.background_picture_url.replace("_XXXX.jpg","_s.jpg");style="background-image:url("+background_picture_url+"); background-size:cover;"}else if(board.attributes.background_pattern_url){var background_pattern_url=board.attributes.background_pattern_url.replace("_XXXX.jpg","_s.jpg");style="background-image:url("+background_pattern_url+"); background-size:cover;"}else style=board.attributes.background_color?"background-color:"+board.attributes.background_color+";color:#ffffff;":"";__p+='\r\n				\r\n<a href="#/board/'+__e(board.attributes.id)+'" class="highlight-icon clearfix">\r\n	<span style="'+(null==(__t=style)?"":__t)+'" class="preview-thumbnail"></span>\r\n	<span class="details navbar-btn">\r\n		<span title="'+__e(board.attributes.name)+'" class="board-list-item-name navbar-btn">'+__e(board.attributes.name)+'</span>\r\n		<span class="pull-right hide js-stared-conatiner js-stared-conatiner-'+__e(board.attributes.board_id)+'"></span>  \r\n	</span> \r\n</a>\r\n'}else __p+='\r\n <div class="alert alert-info">\r\n	'+__e(i18next.t("No %s available.",{postProcess:"sprintf",sprintf:[i18next.t("boards")]}))+"\r\n</div>\r\n";return __p},this.JST["templates/subscribe_board_confirm"]=function(obj){obj||(obj={});var __p="",__e=_.escape;with(obj)__p+='<div class="clearfix text-center col-xs-12">	\r\n	<a href="#" class="js-back-to-sidebar pull-left"><i class="icon-caret-left "></i></a><span class="col-xs-10"><strong>'+__e(i18next.t("Subscribe"))+'</strong></span><a class="js-close-popup pull-right" href="#"><i class="icon-remove "></i></a>\r\n</div>\r\n<div class="col-xs-12 divider"></div>\r\n<div class="col-xs-12">\r\n	<p>'+__e(i18next.t("While subscribe, we will send email notification about each activities in this board."))+'</p>	\r\n	<a class="js-subscribe-board btn  btn-primary" title="'+__e(i18next.t("Subscribe"))+'">'+__e(i18next.t("Subscribe"))+"</a>\r\n</div>";return __p},this.JST["templates/switch_to_list_form"]=function(obj){obj||(obj={});var __p="",__e=_.escape;with(obj)__p+='<thead>\r\n	<tr>\r\n		<th>\r\n			<ul class="list-inline navbar-btn clearfix">	\r\n				<li class="col-md-1 col-xs-2"><a class="js-sort-by show" title="'+__e(i18next.t("ID"))+'" href="#" data-sort-by="id"><span class="icon-caret-down"></span>'+__e(i18next.t("ID"))+'</a></li>\r\n				<li class="col-md-4 col-xs-3"><a class="js-sort-by show" title="'+__e(i18next.t("Card Name"))+'" href="#" data-sort-by="name"><span class="icon-caret-down hide"></span>'+__e(i18next.t("Card Name"))+'</a></li>\r\n				<li class="col-md-4 col-xs-3"><a class="js-sort-by show" title="'+__e(i18next.t("List Name"))+'" href="#" data-sort-by="list_name"><span class="icon-caret-down hide"></span>'+__e(i18next.t("List Name"))+'</a></li>\r\n				<li class="list-head-icon">\r\n					<ul class="list-inline row">\r\n						<li><a class="show" href="#" title="'+__e(i18next.t("Votes"))+'" ><span class="icon-caret-down hide"></span><i  data-sort-by="card_voter_count" class="js-sort-by icon-thumbs-up h3"></i></a></li> \r\n						<li><a class="show" href="#" title="'+__e(i18next.t("Attachments"))+'" ><span class="icon-caret-down hide"></span><i data-sort-by="attachment_count" class="js-sort-by icon-paper-clip h3"></i></a></li>\r\n						<li><a class="show" href="#" title="'+__e(i18next.t("Comments"))+'"><span class="icon-caret-down hide"></span><i data-sort-by="comment_count" class="js-sort-by icon-comment h3"></i></a></li>\r\n						<li><a class="show" href="#" title="'+__e(i18next.t("Checklist"))+'" ><span class="icon-caret-down hide"></span><i  data-sort-by="checklist_item_completed_count" class="js-sort-by icon-ok-sign h3"></i></a></li>\r\n						<li><a class="show" href="#" title="'+__e(i18next.t("Due date"))+'" ><span class="icon-caret-down hide"></span><i data-sort-by="due_date" class="js-sort-by icon-calendar h3"></i></a></li>\r\n					</ul>  \r\n				</li>\r\n            </ul>\r\n		</th>\r\n	<tr>\r\n</thead>\r\n<tbody class="js-card-list-view-'+__e(board.id)+'"></tbody>\r\n\r\n';return __p},this.JST["templates/unsubscribe_board_confirm"]=function(obj){obj||(obj={});var __p="",__e=_.escape;with(obj)__p+='<div class="clearfix text-center col-xs-12">	\r\n	<a href="#" class="js-back-to-sidebar pull-left"><i class="icon-caret-left "></i></a><span class="col-xs-10"><strong>'+__e(i18next.t("Unsubscribe"))+'</strong></span><a class="js-close-popup pull-right" href="#"><i class="icon-remove "></i></a>\r\n</div>\r\n<div class="col-xs-12 divider"></div>\r\n<div class="col-xs-12">\r\n	<p>'+__e(i18next.t("While unsubscribe, we will not send any email notification for this board."))+'</p>	\r\n	<a class="js-unsubscribe-board btn  btn-primary" title="'+__e(i18next.t("Unsubscribe"))+'">'+__e(i18next.t("Unsubscribe"))+"</a>\r\n</div>";return __p},this.JST["templates/user"]=function(obj){obj||(obj={});var __p="",__e=_.escape;Array.prototype.join;with(obj){if(__p+='<td>\r\n    <div class="form-group text-center">\r\n	    <div class="checkbox">\r\n            <input ',1==user.attributes.role_id&&(__p+="disabled"),__p+=' id="'+__e(user.attributes.id)+'"  name="user_id['+__e(user.attributes.id)+']" value="'+__e(user.attributes.id)+'" class="js-checkbox-list ',__p+=1===parseInt(user.attributes.is_active)?"js-checkbox-active":"js-checkbox-inactive",__p+='" type="checkbox">\r\n            <label class="js-update-user" data-user_id="'+__e(user.attributes.id)+'" for="'+__e(user.attributes.id)+'"></label>\r\n        </div>\r\n    </div>\r\n</td>\r\n<td>\r\n<div class="clearfix"> \r\n	<a  title="'+__e(user.attributes.full_name)+" ("+__e(user.attributes.username)+')" class="small-user pull-left show" href="#/user/'+__e(user.attributes.id)+'">\r\n		',_.isEmpty(user.attributes.profile_picture_path))__p+='\r\n					<i class="avatar avatar-color-194 img-rounded avatar-sm" title="'+__e(user.attributes.full_name)+" ("+__e(user.attributes.username)+')">'+__e(user.attributes.initials)+"</i>\r\n			  ";else{var profile_picture_path=user.showImage("User",user.attributes.id,"small_thumb");__p+='\r\n			<img class="avatar-sm" src="'+__e(profile_picture_path)+'" alt="[Images: '+__e(user.attributes.username)+']" title="'+__e(user.attributes.full_name)+" ("+__e(user.attributes.username)+')" />\r\n			'}__p+=' \r\n    </a>\r\n   <a class="col-xs-7 htruncate" href="#/user/'+__e(user.attributes.id)+'">'+__e(user.attributes.full_name)+"</a><a>",user.attributes.is_email_confirmed||(__p+='\r\n			<span class="label label-warning navbar-right">'+__e(i18next.t("Unconfirmed"))+"</span>\r\n		"),__p+=" \r\n	",user.attributes.is_ldap&&(__p+='\r\n			<span class="label label-success navbar-right">LDAP</span>\r\n		'),__p+='\r\n		</a>\r\n		\r\n</div>\r\n<div class="clearfix navbar-btn">\r\n	<span class="col-xs-12 htruncate nav">'+__e(user.attributes.email)+'</span>\r\n</div>\r\n</td> \r\n<td class="text-center">\r\n	<div class="btn-group text-left navbar-btn dropdown">\r\n	    <a title="Organizations" class="btn btn-default btn-xs ',__p+=0!=user.attributes.created_organization_count?"dropdown-toggle":"js-no-action",__p+='"\r\n		',__p+=0!=user.attributes.created_organization_count?'href="#"':'href="#/users"',__p+="\r\n		",0!=user.attributes.created_organization_count&&(__p+='data-toggle="dropdown"'),__p+=">"+__e(user.attributes.created_organization_count)+"</a>\r\n			",0!=user.attributes.created_organization_count&&(__p+='\r\n				<ul class="dropdown-menu arrow arrow-left  text-left" role="boards">\r\n					',_.each(user.attributes.organizations,function(a){__p+='\r\n						<li><a href="#/organization/'+__e(a.id)+'">'+__e(a.name)+"</a></li>\r\n					"}),__p+="\r\n				</ul>\r\n			"),__p+="\r\n			",0==user.attributes.created_organization_count&&(__p+='\r\n				<ul class="dropdown-menu arrow arrow-left  text-left" role="boards">\r\n					',_.each(user.attributes.organizations,function(a){__p+='\r\n						<li>a href="#/organization/'+__e(a.id)+'">'+__e(a.name)+"</a></a></li>\r\n					"}),__p+="\r\n				</ul>\r\n			"),__p+='\r\n    </div>\r\n</td>\r\n<td class="text-center">\r\n    <div class="btn-group text-left navbar-btn dropdown">\r\n	    <a title="'+__e(i18next.t("Organizations"))+'" class="btn btn-default btn-xs ',__p+=0!=user.attributes.owner_organization_count?"dropdown-toggle":"js-no-action",__p+='"\r\n		',__p+=0!=user.attributes.owner_organization_count?'href="#"':'href="#/users"',__p+="\r\n		",0!=user.attributes.owner_organization_count&&(__p+='data-toggle="dropdown"'),__p+=">"+__e(user.attributes.owner_organization_count)+"</a>\r\n			",0!=user.attributes.owner_organization_count&&(__p+='\r\n				<ul class="dropdown-menu arrow arrow-left  text-left" role="boards">\r\n					',_.each(user.attributes.organizations,function(a){__p+='\r\n						<li><a href="#/organization/'+__e(a.id)+'">'+__e(a.name)+"</a></li>\r\n					"}),__p+="\r\n				</ul>\r\n			"),__p+="\r\n			",0==user.attributes.owner_organization_count&&(__p+='\r\n				<ul class="dropdown-menu arrow arrow-left  text-left" role="boards">\r\n					',_.each(user.attributes.organizations,function(a){__p+='\r\n						<li>a href="#/organization/'+__e(a.id)+'">'+__e(a.name)+"</a></a></li>\r\n					"}),__p+="\r\n				</ul>\r\n			"),__p+='\r\n    </div>\r\n</td>\r\n<td class="text-center">\r\n    <div class="btn-group text-left navbar-btn dropdown">\r\n	    <a title="'+__e(i18next.t("Organizations"))+'" class="btn btn-default btn-xs ',__p+=0!=user.attributes.member_organization_count?"dropdown-toggle":"js-no-action",__p+='"\r\n		',__p+=0!=user.attributes.member_organization_count?'href="#"':'href="#/users"',__p+="\r\n		",0!=user.attributes.member_organization_count&&(__p+='data-toggle="dropdown"'),__p+=">"+__e(user.attributes.member_organization_count)+"</a>\r\n			",0!=user.attributes.member_organization_count&&(__p+='\r\n				<ul class="dropdown-menu arrow arrow-left  text-left" role="boards">\r\n					',_.each(user.attributes.organizations,function(a){__p+='\r\n						<li><a href="#/organization/'+__e(a.id)+'">'+__e(a.name)+"</a></li>\r\n					"}),__p+="\r\n				</ul>\r\n			"),__p+="\r\n			",0==user.attributes.member_organization_count&&(__p+='\r\n				<ul class="dropdown-menu arrow arrow-left  text-left" role="boards">\r\n					',_.each(user.attributes.organizations,function(a){__p+='\r\n						<li>a href="#/organization/'+__e(a.id)+'">'+__e(a.name)+"</a></a></li>\r\n					"}),__p+="\r\n				</ul>\r\n			"),__p+='\r\n    </div>\r\n</td>\r\n<td class="text-center"> \r\n   <div class="btn-group text-left navbar-btn dropdown">\r\n		<a title="'+__e(i18next.t("Boards"))+'" class="btn btn-default btn-xs ',__p+=0!=user.attributes.created_board_count?"dropdown-toggle":"js-no-action",__p+='"\r\n		',__p+=0!=user.attributes.created_board_count?'href="#"':'href="#/users"',__p+="\r\n		",0!=user.attributes.created_board_count&&(__p+='data-toggle="dropdown"'),__p+=">"+__e(user.attributes.created_board_count)+"</a>\r\n			",0!=user.attributes.created_board_count&&(__p+='\r\n				<ul class="dropdown-menu arrow arrow-left  text-left" role="boards" id="js-user-activity-menu-response-'+__e(user.attributes.id)+'">\r\n				</ul>\r\n		   '),__p+='\r\n	</div>\r\n</td>\r\n<td class="text-center">\r\n    <div class="btn-group text-left navbar-btn dropdown">\r\n		<a title="'+__e(i18next.t("Boards"))+'" class="btn btn-default btn-xs ',__p+=0!=user.attributes.owner_board_count?"dropdown-toggle":"js-no-action",__p+='"\r\n		',__p+=0!=user.attributes.owner_board_count?'href="#"':'href="#/users"',__p+="\r\n		",0!=user.attributes.owner_board_count&&(__p+='data-toggle="dropdown"'),__p+=">"+__e(user.attributes.owner_board_count)+"</a>\r\n			",0!=user.attributes.owner_board_count&&(__p+='\r\n				<ul class="dropdown-menu arrow arrow-left  text-left" role="boards" id="js-user-activity-menu-response-'+__e(user.attributes.id)+'">\r\n				</ul>\r\n		   '),__p+='\r\n	</div>\r\n</td>\r\n<td class="text-center">\r\n    <div class="btn-group text-left navbar-btn dropdown">\r\n		<a title="'+__e(i18next.t("Boards"))+'" class="btn btn-default btn-xs ',__p+=0!=user.attributes.member_board_count?"dropdown-toggle":"js-no-action",__p+='"\r\n		',__p+=0!=user.attributes.member_board_count?'href="#"':'href="#/users"',__p+="\r\n		",0!=user.attributes.member_board_count&&(__p+='data-toggle="dropdown"'),__p+=">"+__e(user.attributes.member_board_count)+"</a>\r\n			",0!=user.attributes.member_board_count&&(__p+='\r\n				<ul class="dropdown-menu arrow arrow-left  text-left" role="boards" id="js-user-activity-menu-response-'+__e(user.attributes.id)+'">\r\n				</ul>\r\n		   '),__p+='\r\n	</div>\r\n</td>\r\n<td class="text-center">\r\n    <a href="#" class="js-no-action" title="'+__e(user.attributes.user_login_count)+'"><span class="navbar-btn">'+__e(user.attributes.user_login_count)+'</span></a>\r\n</td>\r\n<td class="text-center">\r\n    <a href="#" class="js-no-action">\r\n	    ',__p+=null!==user.get("last_login_date")?'<abbr class="timeago" title="'+__e(user.get("last_login_date"))+'">'+__e(user.get("last_login_date"))+"</abbr>":"-",__p+='\r\n	</a>\r\n</td>\r\n<td class="text-center">\r\n    <a href="#" class="js-no-action" title='+__e(user.attributes.last_login_ip)+" "+__e(user.attributes.login_country_name)+" "+__e(user.attributes.login_city_name)+'">\r\n		<span class="show">'+__e(user.attributes.last_login_ip)+"</span> \r\n				",_.isEmpty(user.attributes.login_country_iso2)||(__p+='\r\n				    <span class="flags flag-'+__e(user.attributes.login_country_iso2)+' top-smspace" title="'+__e(user.attributes.login_country_name)+'">'+__e(user.attributes.login_country_name)+"</span>\r\n				"),__p+="\r\n			",_.isEmpty(user.attributes.login_city_name)||(__p+=" "+__e(user.attributes.login_city_name)),__p+='\r\n	</a>\r\n</td>\r\n<td class="text-center">\r\n    <a href="#" class="js-no-action"><abbr class="timeago" title="'+__e(user.get("created"))+'">'+__e(user.get("created"))+'</abbr></a>\r\n</td> \r\n<td class="text-center">\r\n    <a href="#" class="js-no-action" title='+__e(user.attributes.registered_ip)+" "+__e(user.attributes.register_country_name)+" "+__e(user.attributes.register_city_name)+'">\r\n	    <span class="show">'+__e(user.attributes.registered_ip)+"</span> \r\n			",_.isEmpty(user.attributes.register_country_iso2)||(__p+='\r\n				<span class="flags flag-'+__e(user.attributes.register_country_iso2)+' top-smspace" title="'+__e(user.attributes.register_country_name)+'">'+__e(user.attributes.register_country_name)+"</span>\r\n			"),__p+="\r\n		",_.isEmpty(user.attributes.register_city_name)||(__p+=" <span>"+__e(user.attributes.register_city_name)+"</span>"),__p+='\r\n	</a>\r\n</td>\r\n<td class="text-center">\r\n	<div class="dropdown btn-group">  \r\n	<button class="btn btn-default" type="button">',__p+=1==user.attributes.role_id?" Admin ":2==user.attributes.role_id?" "+__e(i18next.t("User"))+" ":" "+__e(i18next.t("Guest")),__p+='</button>\r\n		<button aria-expanded="false" data-toggle="dropdown" class="btn btn-default dropdown-toggle" type="button">\r\n		    <span class="caret"></span><span class="sr-only">'+__e(i18next.t("Toggle Dropdown"))+'</span>\r\n        </button>\r\n			    <ul class="dropdown-menu arrow arrow-right" role="menu">\r\n					<li><a href="#" class="',__p+=1==user.attributes.role_id?"js-no-action":"js-change-user-role",__p+='" data-role-id="1">'+__e(i18next.t("Admin"))+" ",1==user.attributes.role_id&&(__p+='<i class="icon-ok"></i>'),__p+='</a></li>\r\n					<li><a href="#" class="',__p+=2==user.attributes.role_id?"js-no-action":"js-change-user-role",__p+='" data-role-id="2">'+__e(i18next.t("User"))+" ",2==user.attributes.role_id&&(__p+='<i class="icon-ok"></i>'),__p+='</a></li>\r\n				</ul>\r\n	</div>\r\n</td>\r\n\r\n\r\n<td>\r\n   <ul class="list-inline list-group-item-text">\r\n	   <li class="navbar-btn"><a href="#" title="'+__e(i18next.t("Activities"))+'" class="btn btn-default btn-xs js-all-user-activities">'+__e(i18next.t("Activities"))+'</a></li>\r\n	   <li>\r\n		<ul class="list-inline">\r\n			<li class="navbar-btn">\r\n				<a href="#" class="btn btn-default btn-xs ',__p+=1===parseInt(user.attributes.is_active)?"js-block-user":"js-unblock-user",__p+='"  title="'+__e(i18next.t("Block"))+'" ',1==user.attributes.role_id&&(__p+=' disabled="disabled" '),__p+='>\r\n	            <i class="icon-exclamation"></i>\r\n			    <span>',__p+=__e(1===parseInt(user.attributes.is_active)?i18next.t("Block"):i18next.t("Unblock")),__p+='</span></a>\r\n		    </li>  \r\n			<li class="navbar-btn">\r\n			    <span class="dropdown navbar-btn">\r\n				<a aria-expanded="false" data-toggle="dropdown" class="btn btn-primary btn-xs" href="#" ',1==user.attributes.role_id&&(__p+=' disabled="disabled" '),__p+=' >\r\n					<i class="icon-remove"></i> '+__e(i18next.t("Delete"))+'\r\n			    </a>\r\n				\r\n				<ul class="dropdown-menu dropdown-menu-right arrow arrow-right col-xs-12">\r\n						<li class="col-lg-12 clearfix text-center"> <div><span class="col-xs-10"><strong>'+__e(i18next.t("Delete User")+"?")+'</strong></span><a class="js-close-popover pull-right" href="#/users"><i class="icon-remove "></i></a></div> </li>\r\n						<li class="col-lg-12 divider"></li>\r\n						<li class="col-lg-12 text-left">\r\n						   <span class="show">'+__e(i18next.t("Deleting an user is permanent. There is no undo."))+'</span>\r\n							  <div class="col-xs-12 btn-block navbar-btn"><a title="'+__e(i18next.t("Delete User"))+'" class="js-remove-user"><span class="btn btn-primary">'+__e(i18next.t("Delete"))+"</span></a></div>\r\n					   </li>\r\n	             </ul>\r\n			</li>\r\n		</ul>\r\n	   </li>\r\n    </ul>\r\n</td>\r\n"}return __p},this.JST["templates/user_activity"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;Array.prototype.join;with(obj){if(_.isEmpty(activity)||null==activity)__p+='\r\n	<span id="js-no-activities" class="alert alert-info col-xs-12">'+__e(i18next.t("No %s available.",{postProcess:"sprintf",sprintf:[i18next.t("activities")]}))+"</span>\r\n";else{__p+=" \r\n	";var cardLink='<a href="#/board/'+activity.attributes.board_id+"/card/"+activity.attributes.card_id+'">'+_.escape(activity.attributes.card_name)+"</a>",organizationLink='<a href="#/organization/'+activity.attributes.organization_id+'">'+_.escape(activity.attributes.organization_name)+"</a>";if("add_comment"!=activity.attributes.type&&"edit_comment"!=activity.attributes.type)activity.attributes.comment=activity.attributes.comment.replace("##ORGANIZATION_LINK##",organizationLink),activity.attributes.comment=activity.attributes.comment.replace("##CARD_LINK##",cardLink),activity.attributes.comment=activity.attributes.comment.replace("##LABEL_NAME##",_.escape(activity.attributes.label_name)),activity.attributes.comment=activity.attributes.comment.replace("##CARD_NAME##",_.escape(activity.attributes.card_name)),activity.attributes.comment=activity.attributes.comment.replace("##DESCRIPTION##",_.escape(activity.attributes.card_description)),activity.attributes.comment=activity.attributes.comment.replace("##LIST_NAME##",_.escape(activity.attributes.list_name)),activity.attributes.comment=activity.attributes.comment.replace("##BOARD_NAME##",_.escape(activity.attributes.board_name)),activity.attributes.comment=activity.attributes.comment.replace("##USER_NAME##",'<span class="h5">'+_.escape(activity.attributes.full_name)+"</span>"),activity.attributes.comment=activity.attributes.comment.replace("##CHECKLIST_ITEM_NAME##",_.escape(activity.attributes.checklist_item_name)),activity.attributes.comment=activity.attributes.comment.replace("##CHECKLIST_ITEM_PARENT_NAME##",_.escape(activity.attributes.checklist_item_parent_name)),activity.attributes.comment=activity.attributes.comment.replace("##CHECKLIST_NAME##",_.escape(activity.attributes.checklist_name));else var comment=activity.attributes.full_name+" commented in card "+cardLink;if(__p+='   \r\n		<ul class="media-list">\r\n			<li class="media">\r\n				<a data-placement="bottom" title="'+__e(activity.attributes.full_name)+" ("+__e(activity.attributes.username)+')" data-toggle="tooltip" href="#/user/'+__e(activity.attributes.user_id)+'" class="pull-left">								\r\n					',_.isEmpty(activity.attributes.profile_picture_path))__p+='\r\n						<i class="avatar avatar-color-194 avatar-md img-rounded">'+__e(activity.attributes.initials)+"</i>									\r\n					";else{var profile_picture_path=activity.showImage("User",activity.attributes.user_id,"normal_thumb");__p+='\r\n						<img src="'+__e(profile_picture_path)+'" alt="[Image: '+__e(activity.attributes.full_name)+']" title="'+__e(activity.attributes.full_name)+" ("+__e(activity.attributes.username)+')" class="img-rounded img-responsive">\r\n					'}__p+='\r\n				</a>\r\n				<div class="media-body">\r\n					<div class="media-heading">\r\n						',__p+="add_comment"==activity.attributes.type||"edit_comment"==activity.attributes.type?"	\r\n							<span>"+(null==(__t=comment)?"":__t)+"</span>\r\n							"+(null==(__t=converter.makeHtml(makeLink(_.escape(activity.attributes.comment),activity.attributes.board_id)))?"":__t)+"\r\n						":"\r\n							"+(null==(__t=converter.makeHtml(makeLink(activity.attributes.comment,activity.attributes.board_id)))?"":__t)+" \r\n						",__p+="\r\n						",null!=activity.attributes.difference&&_.contains(["update_card_comment","edit_list","edit_organization","edit_board","update_card_checklist","update_profile","edit_card"],activity.attributes.type)&&(__p+='\r\n							<div class="thumbnail media-body no-mar">\r\n								',_.each(activity.attributes.difference,function(a){__p+="\r\n									"+(null==(__t=converter.makeHtml(a))?"":__t)+"\r\n								"}),__p+="\r\n							</div>\r\n						"),__p+='\r\n						<small class="pull-left"><abbr class="timeago pull-left text-muted" title="'+__e(activity.attributes.created)+'">'+__e(activity.attributes.created)+"</abbr>",_.isEmpty(activity.attributes.board_name)||(__p+='<a class="pull-left" href="#/board/'+(null==(__t=activity.attributes.board_id)?"":__t)+'">&nbsp;on&nbsp;'+__e(activity.attributes.board_name)+"</a>"),__p+='</small>\r\n						<div class="clearfix">\r\n								<small class="pull-left">\r\n									',_.isUndefined(authuser.user)||"add_comment"!=activity.attributes.type||"all"==type?null==activity.attributes.revisions||""==activity.attributes.revisions||1!=parseInt(authuser.user.id)&&1!=current_user_can_undo_it||(__p+="\r\n										",_.isEmpty(role_links.where({slug:"undo_activity"}))||(__p+="\r\n											",_.isUndefined(activity.from_footer)&&(__p+='\r\n												<div class="js-acticity-action-'+__e(activity.attributes.id)+'"><ul class="list-inline col-xs-offset-0"><li><a title="'+__e(i18next.t("Undo"))+'" class="js-undo2 pull-left" href="#" data-activity-id="'+__e(activity.attributes.id)+'"><i class="icon-undo"></i>'+__e(i18next.t("Undo"))+"</a></li></ul></div>\r\n											"),__p+="	\r\n										"),__p+="\r\n									"):(__p+='\r\n										<div class="js-acticity-action-'+__e(activity.attributes.id)+' pull-left">  \r\n											<ul class="list-inline col-xs-offset-0">\r\n											',_.isEmpty(role_links.where({slug:"edit_comment"}))||(__p+='\r\n												<li><a title="'+__e(i18next.t("Edit"))+'" class="js-show-edit-activity js-edit-activity-link-'+__e(activity.attributes.id)+'" href="#" data-activity-id="'+__e(activity.attributes.id)+'"><i class="icon-edit"></i>'+__e(i18next.t("Edit"))+"</a></li>\r\n											"),__p+='         \r\n												<li><a title="'+__e(i18next.t("Reply"))+'" class="js-show-reply-activity-form js-reply-activity-link-'+__e(activity.attributes.id)+'" href="#" data-activity-id="'+__e(activity.attributes.id)+'"><i class="icon-repeat"></i>'+__e(i18next.t("Reply"))+"</a></li>\r\n											",_.isEmpty(role_links.where({slug:"delete_comment"}))||(__p+='\r\n												<li class="dropdown">\r\n													<a title="'+__e(i18next.t("Delete"))+'" class="dropdown-toggle js-show-confirm-comment-delete" data-toggle="dropdown" href="#" data-activity-id="'+__e(activity.attributes.id)+'"><i class="icon-remove"></i>'+__e(i18next.t("Delete"))+'</a>\r\n													<ul class="dropdown-menu arrow arrow-right">\r\n														<li id="js-acticity-actions-response-'+__e(activity.attributes.id)+'" class="js-dropdown-popup dropdown-popup"></li>\r\n													</ul>\r\n												</li>\r\n											'),__p+="\r\n											</ul>\r\n										</div>\r\n									"),__p+='\r\n									<span class="pull-left col-xs-12 js-activity-reply-form-response-'+__e(activity.attributes.id)+'"></span>\r\n								</small>\r\n						</div>\r\n					</div>\r\n				</div>\r\n			</li>\r\n			<li><hr></li>\r\n		</ul>\r\n'}__p+="\r\n"}return __p},this.JST["templates/user_activity_menu"]=function(obj){obj||(obj={});var __p="",__e=_.escape;Array.prototype.join;with(obj)__p+='<li class="js-dropdown-popup dropdown-popup">\r\n	<a href="#" class="',0!==user.attributes.joined_board_count&&(__p+="js-user-board-list"),__p+='">\r\n	<p>On '+__e(user.attributes.joined_board_count)+" "+__e(i18next.t("Boards"))+"</p></a></li>";return __p},this.JST["templates/user_board_list"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;Array.prototype.join;with(obj){var style="";if(user_board.attributes.background_picture_url){var background_picture_url=user_board.attributes.background_picture_url.replace("_XXXX.jpg","_s.jpg");style="background-image:url("+background_picture_url+");background-size:cover;"}else user_board.attributes.background_pattern_url?(background_pattern_url=user_board.attributes.background_pattern_url.replace("_XXXX.jpg","_s.jpg"),style="background-image:url("+background_pattern_url+");background-size:cover;"):style=user_board.attributes.background_color?"background-color:"+user_board.attributes.background_color+";color:#ffffff;":"";__p+='\r\n<a href="#/board/'+__e(user_board.attributes.board_id)+'">\r\n	<span style="'+(null==(__t=style)?"":__t)+'" class="preview-thumbnail"></span>\r\n	<span class="details navbar-btn">\r\n		<span title="'+__e(user_board.attributes.name)+'" class="board-list-item-name navbar-btn">'+__e(user_board.attributes.name)+"</span>\r\n	</span> \r\n</a> "}return __p},this.JST["templates/user_boards_listing_menu"]=function(obj){obj||(obj={});var __p="",__e=_.escape;Array.prototype.join;with(obj)__p+='<div>\r\n    <div class="col-xs-12 text-center clearfix">\r\n            <span class="col-xs-10"><strong>'+__e(i18next.t("Boards for"))+'</span><span title="'+__e(boards.username)+'"> '+__e(boards.username)+'</span></strong></span><a href="#" class="js-close-popover pull-right"><i class="icon-remove"></i></a>\r\n    </div>\r\n    <div class="col-xs-12 divider"></div>\r\n    <div class="col-xs-12">\r\n        ',boards.each(function(a){__p+='\r\n			<li><a href="#/board/'+__e(a.attributes.board_id)+'">'+__e(a.attributes.board_name)+"</a></li>\r\n		"}),__p+="	\r\n    </div>\r\n</div>";return __p},this.JST["templates/user_cards"]=function(obj){obj||(obj={});var __p="",__e=_.escape;Array.prototype.join;with(obj)__p+='<h3><a href="#/board/'+__e(card_user[0].attributes.board_id)+'">'+__e(key)+'</a></h3>\r\n<div class="board-viewlist col-xs-12 table-responsive">\r\n	<table class="table">\r\n		<thead>\r\n			<tr>\r\n				<th>\r\n					<ul class="list-inline navbar-btn clearfix">	\r\n						<li class="col-md-1 col-xs-2">'+__e(i18next.t("ID"))+'</li>\r\n						<li class="col-md-4 col-xs-3">'+__e(i18next.t("Card Name"))+'</li>\r\n						<li class="col-md-4 col-xs-3">'+__e(i18next.t("List Name"))+'</li>\r\n						<li class="col-md-3 col-xs-4"></li>                            \r\n					</ul>\r\n				</th>\r\n			</tr>\r\n		</thead>\r\n		<tbody class="js-card-list-view-11">\r\n	',
_.each(card_user,function(a){__p+='\r\n			<tr>\r\n			<td>\r\n				<div class="panel cur" id="js-card-1449">\r\n					<div class="panel-body"> \r\n						<ul class="list-inline navbar-btn clearfix">\r\n							<li class="col-md-1 col-xs-2"><span class="card-id">#'+__e(a.id)+'</span></li>\r\n							<li class="col-md-4 col-xs-3 js-open-model-car-view" data-id="'+__e(a.id)+'">'+__e(a.attributes.name)+'</li> \r\n							<li class="col-md-4 col-xs-3">'+__e(a.attributes.list_name)+'</li>\r\n							<li class="col-md-3 col-xs-4">\r\n								<ul class="list-inline text-muted clearfix">\r\n									',a.attributes.cards_subscriber_count>0&&(__p+='\r\n										<li><small><span class="icon-eye-open"></span></small></li>\r\n									'),__p+=" \r\n									",a.attributes.card_voter_count>0&&(__p+='\r\n									<li><small><span class="icon-thumbs-up"></span><span>'+__e(a.attributes.card_voter_count)+"</span></small></li>\r\n									"),__p+="\r\n									",a.attributes.comment_count>0&&(__p+='\r\n										<li><small><span class="icon-comment"></span><span>'+__e(a.attributes.comment_count)+"</span></small></li>\r\n									"),__p+="\r\n									",_.isEmpty(a.attributes.description)||(__p+='\r\n										<li><small><span class="icon-align-left"></span><span></span></small></li>\r\n									'),__p+="\r\n									",a.attributes.checklist_item_count>0&&(__p+="\r\n										<li><small>",a.attributes.checklist_item_completed_count==a.attributes.checklist_item_count&&(__p+='<div class="label label-success"> '),__p+='<span class="icon-list-ul"></span><span>'+__e(a.attributes.checklist_item_completed_count)+"/"+__e(a.attributes.checklist_item_count)+"</span>",a.attributes.checklist_item_completed_count==a.attributes.checklist_item_count&&(__p+="</div>"),__p+="</small></li>\r\n									"),__p+=" \r\n									",a.attributes.due_date>0&&(__p+='\r\n										<li><small><span class="icon-time"></span><span>'+__e(a.attributes.due_date)+"</span></small></li>\r\n									"),__p+=" \r\n									",a.attributes.attachment_count>0&&(__p+='\r\n										<li>\r\n											<small>\r\n												<span class="icon-paper-clip"></span>\r\n												<span>\r\n												'+__e(a.attributes.attachment_count)+"\r\n												</span>\r\n											</small>\r\n										</li>\r\n									"),__p+=" \r\n								</ul>\r\n							</li>\r\n						</ul>\r\n					</div>\r\n				</div>\r\n			</td>\r\n		</tr>\r\n	"}),__p+="\r\n	 </tbody>\r\n	</table>\r\n</div>";return __p},this.JST["templates/user_dashboard"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;Array.prototype.join;with(obj){var d=new Date,weekday=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today=weekday[d.getDay()],current_month=months[d.getMonth()],today_count=0,doing_count=0,todo_count=0,done_count=0,current_week_doing_count=0,current_week_todo_count=0,current_week_done_count=0,overall_doing_count=0,overall_todo_count=0,overall_done_count=0,current_weekwise_doing_count=[0,0,0,0,0,0,0],current_weekwise_todo_count=[0,0,0,0,0,0,0],current_weekwise_done_count=[0,0,0,0,0,0,0],last_weekwise_doing_count=[0,0,0,0,0,0,0],last_weekwise_todo_count=[0,0,0,0,0,0,0],last_weekwise_done_count=[0,0,0,0,0,0,0];data.dashboard.today&&(doing_count=data.dashboard.today.DOING?data.dashboard.today.DOING:0,todo_count=data.dashboard.today.TODO?data.dashboard.today.TODO:0,done_count=data.dashboard.today.DONE?data.dashboard.today.DONE:0,today_count=parseInt(doing_count)+parseInt(today_count)+parseInt(done_count)),data.dashboard.current_week&&(current_week_doing_count=data.dashboard.current_week.DOING?data.dashboard.current_week.DOING:0,current_week_todo_count=data.dashboard.current_week.TODO?data.dashboard.current_week.TODO:0,current_week_done_count=data.dashboard.current_week.DONE?data.dashboard.current_week.DONE:0),data.dashboard.overall&&(overall_doing_count=data.dashboard.overall.DOING?data.dashboard.overall.DOING:0,overall_todo_count=data.dashboard.overall.TODO?data.dashboard.overall.TODO:0,overall_done_count=data.dashboard.overall.DONE?data.dashboard.overall.DONE:0),data.dashboard.current_weekwise&&(current_weekwise_doing_count=data.dashboard.current_weekwise.DOING?data.dashboard.current_weekwise.DOING:current_weekwise_doing_count,current_weekwise_todo_count=data.dashboard.current_weekwise.TODO?data.dashboard.current_weekwise.TODO:current_weekwise_todo_count,current_weekwise_done_count=data.dashboard.current_weekwise.DONE?data.dashboard.current_weekwise.DONE:current_weekwise_done_count),data.dashboard.last_weekwise&&(last_weekwise_doing_count=data.dashboard.last_weekwise.DOING?data.dashboard.last_weekwise.DOING:last_weekwise_doing_count,last_weekwise_todo_count=data.dashboard.last_weekwise.TODO?data.dashboard.last_weekwise.TODO:last_weekwise_todo_count,last_weekwise_done_count=data.dashboard.last_weekwise.DONE?data.dashboard.last_weekwise.DONE:last_weekwise_done_count),__p+='\r\n<div class="clearfix">\r\n	<div class="row">\r\n	 <div class="col-md-2 col-sm-12 text-center dashboard-organization">\r\n		<div class="navbar-btn">\r\n			<label class="clearfix"><a title="'+__e(data.user.full_name)+" ("+__e(data.user.username)+')" href="#/user/'+__e(data.user.id)+'">'+__e(data.user.full_name)+" ("+__e(data.user.username)+')</a></label>\r\n		</div>\r\n		<div class="navbar-btn">\r\n			',__p+=_.isEmpty(data.user_profile_picture)?'\r\n				<i class="avatar avatar-color-194 avatar-lg img-rounded">'+(null==(__t=data.user.initials)?"":__t)+"</i>\r\n			":'\r\n				<img title="'+__e(data.user.full_name)+" ("+__e(data.user.username)+')" alt="'+__e(data.user.username)+'" src="'+__e(data.user_profile_picture)+'" width="147" height="145" class="thumbnail center-block">\r\n			',__p+='\r\n		</div>\r\n		<div class="clearfix dropdown navbar-btn">\r\n			<a href="#" title="Organizations" class="btn btn-primary navbar-btn" data-toggle="dropdown">'+__e(data.organizations.length)+" "+__e(i18next.t("Organizations"))+' <i class="caret"></i> </a>\r\n			 <ul class="dropdown-menu arrow dropdown-menu-right text-left">\r\n				 ',_.each(data.organizations,function(a,b){__p+=' \r\n					<li><a href="#/organization/'+__e(a.attributes.id)+'" title="'+__e(a.attributes.name)+'"> '+__e(a.attributes.name)+" </a></li>\r\n				"}),__p+=' \r\n			 </ul>\r\n		</div>\r\n	 </div>\r\n	<div class="col-md-10 col-sm-12 clearfix">\r\n	  <div class="col-sm-3 col-xs-12">\r\n		  <div class="row thumbnail">\r\n		   <div class="pull-left col-md-4 col-xs-6">\r\n			 <h4>'+__e(i18next.t("Today"))+'</h4> \r\n			 <div class="thumbnail text-center navbar-btn">\r\n				  <div class="sep-bot"> \r\n					<div class="bg-default h6 text-muted list-group-item-heading">'+__e(current_month)+'</div>\r\n					<div class="h3 list-group-item-heading">'+__e(d.getDate())+"</div>\r\n				  </div>\r\n				  <div>"+__e(today)+'</div>\r\n			 </div>\r\n		   </div>\r\n			<ul class="list-unstyled chart-block list-group-item-text pull-right">\r\n				<li class="list-group-item clearfix no-bor">\r\n					<a class="show" href="#">\r\n						<div id="doughnutChart" class="chart js-chart" data-todo="'+__e(todo_count)+'" data-doing="'+__e(doing_count)+'" data-done="'+__e(done_count)+'"></div>\r\n					</a>\r\n				</li>\r\n			</ul>\r\n			<div class="col-xs-12 pull-right navbar-btn">\r\n				<a href="#" class="btn btn-xs btn-primary pull-right row" data-toggle="dropdown"><i class="caret"></i></a>\r\n				<ul class="dropdown-menu arrow arrow-right">\r\n					<li class="dashboard-search" data-search="today_todo"><a href="#" title="Today Todo">Today Todo</a></li>\r\n					<li class="dashboard-search" data-search="today_doing"><a href="#" title="Today Doing">Today Doing</a></li>\r\n					<li class="dashboard-search" data-search="today_done"><a href="#" title="Today Done">Today Done</a></li>\r\n				</ul>\r\n			</div>\r\n		 </div>\r\n	  </div>\r\n	  <div class="col-sm-4 col-xs-12">\r\n		  <div class="col-xs-12 thumbnail">\r\n		   <div class="pull-left col-lg-4 col-md-6 col-xs-12">\r\n			   <h4>'+__e(i18next.t("Week"))+'</h4>\r\n			   <ul class="list-inline week-chart-date navbar-btn">\r\n				   <li class="thumbnail text-center navbar-btn col-xs-4">\r\n				   	  <div class="sep-bot"> \r\n						<div class="bg-default h6 text-muted list-group-item-heading ">'+__e(data.dashboard.week_start_month)+'</div>\r\n						<div class="h3 list-group-item-heading ">'+__e(data.dashboard.week_start_day)+"</div>\r\n					  </div>\r\n					  <div>"+__e(i18next.t("Mon"))+"</div>\r\n					</li>\r\n					<li> "+__e(i18next.t("to"))+' </li>\r\n					<li class="thumbnail text-center navbar-btn col-xs-4">\r\n					  <div class="sep-bot"> \r\n						<div class="bg-default h6 text-muted list-group-item-heading ">'+__e(data.dashboard.week_end_month)+'</div>\r\n						<div class="h3 list-group-item-heading ">'+__e(data.dashboard.week_end_day)+"</div>\r\n					  </div>\r\n					  <div>"+__e(i18next.t("Sun"))+'</div>\r\n					</li>\r\n				</ul>\r\n			</div>\r\n			<ul class="list-unstyled chart-block list-group-item-text pull-right">\r\n				<li class="list-group-item clearfix no-bor">\r\n					<a class="show" href="#">\r\n						<div id="doughnutChart" class="chart js-chart" data-todo="'+__e(current_week_todo_count)+'" data-doing="'+__e(current_week_doing_count)+'" data-done="'+__e(current_week_done_count)+'"></div>\r\n					</a>\r\n				</li>\r\n			</ul>\r\n			<div class="col-xs-12 pull-right navbar-btn">\r\n				<a href="#" class="btn btn-xs btn-primary pull-right row" data-toggle="dropdown"><i class="caret"></i></a>\r\n				<ul class="dropdown-menu arrow arrow-right">\r\n					<li class="dashboard-search" data-search="week_todo"><a href="#" title="Week Todo">Week Todo</a></li>\r\n					<li class="dashboard-search" data-search="week_doing"><a href="#" title="Week Doing">Week Doing</a></li>\r\n					<li class="dashboard-search" data-search="week_done"><a href="#" title="Week Done">Week Done</a></li>\r\n				</ul>\r\n			</div>\r\n		 </div>\r\n	  </div>\r\n	  <div class="col-sm-3 col-xs-12">\r\n		  <div class="row thumbnail">\r\n			   <div class="pull-left col-xs-5">\r\n					<h4>'+__e(i18next.t("Overall"))+'</h4>\r\n			   </div>\r\n			   <ul class="list-unstyled chart-block list-group-item-text pull-right">\r\n				<li class="list-group-item clearfix no-bor">\r\n					<a class="show" href="#">\r\n						<div id="doughnutChart" class="chart js-chart" data-todo="'+__e(overall_todo_count)+'" data-doing="'+__e(overall_doing_count)+'" data-done="'+__e(overall_done_count)+'"></div>\r\n					</a>\r\n				</li>\r\n			</ul>\r\n			<div class="col-xs-12 pull-right navbar-btn">\r\n				<a href="#" class="btn btn-xs btn-primary pull-right row" data-toggle="dropdown"><i class="caret"></i></a>\r\n				<ul class="dropdown-menu arrow arrow-right">\r\n					<li class="dashboard-search" data-search="overall_todo"><a href="#" title="Overall Todo">Overall Todo</a></li>\r\n					<li class="dashboard-search" data-search="overall_doing"><a href="#" title="Overall Doing">Overall Doing</a></li>\r\n					<li class="dashboard-search" data-search="overall_done"><a href="#" title="Overall Done">Overall Done</a></li>\r\n				</ul>\r\n			</div>\r\n		 </div>\r\n	   </div>\r\n		<div class="clearfix col-sm-2 col-xs-12 pull-right text-center">\r\n			<div class="clearfix col-xs-12 thumbnail">\r\n				<h4>'+__e(i18next.t("Unassigned"))+'</h4>\r\n				<div class="clearfix h1">\r\n					<div class="dashboard-search" data-search="unassigned">'+__e(_.isUndefined(data.dashboard.unassigned)?0:data.dashboard.unassigned)+'</div>\r\n				</div>\r\n				<div class="well-sm navbar-btn"></div>\r\n				<div class="well-sm"></div>\r\n				<div class="col-xs-12 pull-right navbar-btn">\r\n				<a href="#" class="btn btn-xs btn-primary pull-right row" data-toggle="dropdown"><i class="caret"></i></a>\r\n				<ul class="dropdown-menu arrow arrow-right">\r\n					<li class="dashboard-search" data-search="unassigned"><a href="#" title="Unassigned">Unassigned</a></li>\r\n				</ul>\r\n			</div>\r\n			</div>\r\n		</div>\r\n	   <div class="col-xs-12 clearfix navbar-btn">\r\n			<div class="col-sm-6 col-xs-12 clearfix navbar-btn">\r\n				<div class="col-sm-4 h4"> '+__e(i18next.t("This week"))+'</div> \r\n				<div class="col-md-8 col-xs-12">\r\n					<span class="sparklines" data-todo="'+__e(current_weekwise_todo_count.join())+'" data-doing="'+__e(current_weekwise_doing_count.join())+'" data-done="'+__e(current_weekwise_done_count.join())+'" ></span>\r\n				</div>\r\n			</div>\r\n			<div class="col-sm-6 col-xs-12 clearfix navbar-btn"> \r\n				<div class="col-sm-4 h4"> '+__e(i18next.t("Last week"))+'</div> \r\n				<div class="col-md-8 col-xs-12">\r\n					<span class="sparklines test" data-todo="'+__e(last_weekwise_todo_count.join())+'" data-doing="'+__e(last_weekwise_doing_count.join())+'" data-done="'+__e(last_weekwise_done_count.join())+'" ></span>\r\n				</div>\r\n			</div>\r\n	   </div>\r\n	   <div class="col-xs-12 text-center navbar-btn">\r\n			<ul class="list-inline navbar-btn">\r\n				',_.isUndefined(data.user.role_id)||"1"!==data.user.role_id||(__p+='\r\n				<li class="navbar-right"><i class="icon-warning-sign text-warning"></i><small class="text-muted">'+__e(i18next.t("Todo, Doing, Done are as configured in "))+'<a href="#/settings/12" title="settings" class="text-primary"> '+__e(i18next.t("card workflow settings"))+" </a><small></li>\r\n				"),__p+='\r\n			</ul>\r\n	   </div>\r\n	</div>\r\n  </div>\r\n</div>\r\n<div class="clearfix dashboard-header">\r\n	<div class="col-xs-12">\r\n		<hr>\r\n		<span class="pull-left h4">'+(null==(__t=data.dashboard.page_title)?"":__t)+'</span>\r\n		<ul class="nav nav-pills navbar-right">\r\n			<li class="';var fragment=Backbone.history.fragment,fragments=fragment.split("/");-1!=fragment.indexOf("boards")&&1==fragments.length&&(__p+="active"),__p+='"><a href="#/boards" title="'+__e(i18next.t("My Boards"))+'" class="text-muted list-group-item-text navbar-btn h4"><i class="icon-user"></i></a></li>\r\n			<li class="',-1!=Backbone.history.fragment.indexOf("boards/starred")&&(__p+="active"),__p+='"><a href="#/boards/starred" title="'+__e(i18next.t("Starred Boards"))+'" class="text-muted list-group-item-text navbar-btn h4"><i class="icon-star"></i></a></li>\r\n			<li class="',-1!=Backbone.history.fragment.indexOf("boards/closed")&&(__p+="active"),__p+='"><a href="#/boards/closed" title="'+__e(i18next.t("Closed Boards"))+'" class="text-muted list-group-item-text navbar-btn h4"><i class="icon-th-large"></i></a></li>\r\n		</ul>\r\n	</div>\r\n</div>\r\n'}return __p},this.JST["templates/user_index_container"]=function(obj){obj||(obj={});var __p="",__e=_.escape;Array.prototype.join;with(obj){__p+='<div class="well-sm"></div>\r\n<section class="clearfix">\r\n <div class="col-xs-12">\r\n	<ul class="nav nav-pills text-center thumbnail js-filter-list">\r\n		<li><a class="js-filter cur" data-filter="active" title="'+__e(i18next.t("Active"))+'"><span class="show"><strong>'+__e(filter_count.active)+"</strong></span>"+__e(i18next.t("Active"))+'</a></li>\r\n		<li><a class="js-filter cur" data-filter="inactive" title="'+__e(i18next.t("Inactive"))+'"><span class="show"><strong>'+__e(filter_count.inactive)+"</strong></span>"+__e(i18next.t("Inactive"))+"</a></li>\r\n		",_.isEmpty(LDAP_LOGIN_ENABLED)||"true"!=LDAP_LOGIN_ENABLED||(__p+='\r\n			<li><a class="js-filter cur" data-filter="ldap" title="'+__e(i18next.t("LDAP"))+'"><span class="show"><strong>'+__e(filter_count.ldap)+"</strong></span>"+__e(i18next.t("LDAP"))+"</a></li>\r\n		"),__p+="\r\n		",_.isEmpty(roles)||_.each(roles,function(a){__p+='\r\n			<li><a class="js-filter cur" data-filter="'+__e(a.id)+'" title="'+__e(a.name)+'"><span class="show"><strong>'+__e(a.count)+"</strong></span>"+__e(i18next.t(a.name))+"</a></li>\r\n		"}),__p+="\r\n		";var all=parseInt(filter_count.active)+parseInt(filter_count.inactive);__p+='\r\n		<li class="active"><a href="#/users" title="'+__e(i18next.t("All"))+'"><span class="show"><strong>'+__e(all)+"</strong></span>"+__e(i18next.t("All"))+'</a></li>\r\n		<li class="pull-right h4"><form id="UserSearch" name="UserSearch" class="form-horizontal col-xs-12"><input type="text" placeholder="Search" name="user_search" id="user_search" class="form-control" /></form></li>\r\n	</ul>\r\n </div>\r\n</section>\r\n<section>\r\n<div class="well-sm"></div>\r\n<form role="form" class="col-xs-12">\r\n	<div class="table-responsive">\r\n		<table class="table table-striped table-bordered table-hover list-group-item-text">\r\n		<thead>\r\n                <tr class="active">\r\n                  <th rowspan="2" class="text-center">'+__e(i18next.t("Select"))+'</th>\r\n				  <th rowspan="2" class="col-xs-2"><span class="js-sort cur" data-field="username" data-direction="asc" title="'+__e(i18next.t("User"))+'"><span class="icon-caret-down"></span>'+__e(i18next.t("User"))+'</span></th>\r\n                  <th colspan="3" class="text-center">'+__e(i18next.t("Organizations"))+'</th>\r\n                  <th colspan="3" class="text-center">'+__e(i18next.t("Boards"))+'</th>\r\n                  <th colspan="3" class="text-center">'+__e(i18next.t("Login"))+'</th>\r\n                  <th colspan="2" class="text-center">'+__e(i18next.t("Registered"))+'</th>\r\n                  <th rowspan="2" class="text-center col-xs-1"><span class="js-sort cur" data-field="role_id" data-direction="asc" title="'+__e(i18next.t("Role"))+'"><span class="icon-caret-down hide"></span>'+__e(i18next.t("Role"))+'</span></th>\r\n				  <th rowspan="2" class="text-center">'+__e(i18next.t("Actions"))+'</th>\r\n                </tr>\r\n                <tr class="active">\r\n				  <th class="text-center"><span class="icon-caret-down hide"></span><span class="js-sort cur verticalTableHeader show" data-field="created_organization_count" data-direction="asc" title="'+__e(i18next.t("Created"))+'">'+__e(i18next.t("Created"))+'</span></th>\r\n                  <th class="text-center"><span class="icon-caret-down hide"></span><span class="js-sort cur verticalTableHeader show" data-field="owner_organization_count" data-direction="asc" title="'+__e(i18next.t("Owner"))+'">'+__e(i18next.t("Owner"))+'</span></th>\r\n                  <th class="text-center"><span class="icon-caret-down hide"></span><span class="js-sort cur verticalTableHeader show" data-field="member_organization_count" data-direction="asc" title="'+__e(i18next.t("Member"))+'">'+__e(i18next.t("Member"))+'</span></th>\r\n				  <th class="text-center"><span class="icon-caret-down hide"></span><span class="js-sort cur verticalTableHeader show" data-field="created_board_count" data-direction="asc" title="'+__e(i18next.t("Created"))+'">'+__e(i18next.t("Created"))+'</span></th>\r\n                  <th class="text-center"><span class="icon-caret-down hide"></span><span class="js-sort cur verticalTableHeader show" data-field="owner_board_count" data-direction="asc" title="'+__e(i18next.t("Owner"))+'">'+__e(i18next.t("Owner"))+'</span></th>\r\n                  <th class="text-center"><span class="icon-caret-down hide"></span><span class="js-sort cur verticalTableHeader show" data-field="member_board_count" data-direction="asc" title="'+__e(i18next.t("Member"))+'">'+__e(i18next.t("Member"))+'</span></th>\r\n                  <th class="text-center"><span class="icon-caret-down hide"></span><span class="js-sort cur verticalTableHeader show" data-field="user_login_count" data-direction="asc" title="'+__e(i18next.t("Count"))+'">'+__e(i18next.t("Count"))+'</span></th>\r\n                  <th class="text-center"><span class="icon-caret-down hide"></span><span class="js-sort cur verticalTableHeader show" data-field="last_login_date" data-direction="asc" title="'+__e(i18next.t("Time"))+'">'+__e(i18next.t("Time"))+'</span></th>\r\n                  <th class="text-center"><span class="icon-caret-down hide"></span><span class="js-sort cur verticalTableHeader show" data-field="login_country_name" data-direction="asc" title="'+__e(i18next.t("IP"))+'">'+__e(i18next.t("IP"))+'</span></th>\r\n				  <th class="text-center"><span class="icon-caret-down hide"></span><span class="js-sort cur verticalTableHeader show" data-field="created" data-direction="asc" title="'+__e(i18next.t("Time"))+'">'+__e(i18next.t("Time"))+'</span></th>\r\n                  <th class="text-center"><span class="icon-caret-down hide"></span><span class="js-sort cur verticalTableHeader show" data-field="register_country_name" data-direction="asc" title="'+__e(i18next.t("IP"))+'">'+__e(i18next.t("IP"))+'</span></th>\r\n                </tr>\r\n			\r\n        </thead>\r\n			<tbody class="js-user-list">\r\n			 </tbody>\r\n	    </thead>\r\n        </table>\r\n	</div>\r\n</form>\r\n<div class="clearfix navbar-btn col-xs-12">\r\n		  <div class="well-sm navbar-btn"></div>\r\n          <ul class="list-inline pull-left">\r\n            <li>'+__e(i18next.t("Select"))+':</li>\r\n            <li><a href="#/users" class="js-select js-no-pjax" data-checked="js-checkbox-list" title="'+__e(i18next.t("All"))+'">'+__e(i18next.t("All"))+'</a></li>\r\n            <li><a href="#/users" class="js-select js-no-pjax" data-unchecked="js-checkbox-list" title="'+__e(i18next.t("None"))+'">'+__e(i18next.t("None"))+'</a></li>\r\n            <li><a title="'+__e(i18next.t("Blocked"))+'" href="#/users" class="js-select" data-unchecked="js-checkbox-active" data-checked="js-checkbox-inactive">'+__e(i18next.t("Blocked"))+'</a></li>\r\n            <li><a title="'+__e(i18next.t("Unblocked"))+'" href="#/users" class="js-select" data-unchecked="js-checkbox-inactive" data-checked="js-checkbox-active">'+__e(i18next.t("Unblocked"))+'</a></li>\r\n			 				  \r\n          </ul>\r\n          <div class="pull-left">\r\n            <form class="form-inline" role="form">\r\n              <div class="pr clearfix">\r\n	                <select class="js-more-action-user" id="js-more-action">\r\n	                  <option value="0">'+__e(i18next.t("More Actions"))+'</option>\r\n	                  <option value="1">'+__e(i18next.t("Block"))+'</option>\r\n	                  <option value="2">'+__e(i18next.t("Unblock"))+'</option>\r\n	                  <option value="3">'+__e(i18next.t("Delete"))+'</option>\r\n	                </select>\r\n                </div>\r\n            </form>\r\n          </div>\r\n		  <div class="pull-right pagination pagination-right pagination-boxes list-group-item-heading"></div>\r\n      </div>\r\n</section>'}return __p},this.JST["templates/user_search_result"]=function(obj){obj||(obj={});var __p="",__e=_.escape;Array.prototype.join;with(obj){if(null!=user&&_.isUndefined(q)){if(__p+='\r\n	<a title="'+__e(user.attributes.full_name)+" ("+__e(user.attributes.username)+')" href="#" class="js-add-organization-member row" data-user-id="'+__e(user.id)+'"><span>\r\n',_.isEmpty(user.attributes.profile_picture_path))__p+='\r\n	<i class="avatar avatar-color-194 avatar-sm img-rounded">'+__e(user.attributes.initials)+"</i>									\r\n";else{var profile_picture_path=user.showImage("User",user.attributes.id,"micro_thumb");__p+='\r\n	<img src="'+__e(profile_picture_path)+'" alt="[Image: '+__e(user.attributes.username)+']" title="'+__e(user.attributes.full_name)+" ("+__e(user.attributes.username)+')" class="img-rounded img-responsive avatar avatar-sm">\r\n'}__p+="\r\n</span> <span>"+__e(user.attributes.full_name)+" ("+__e(user.attributes.username)+")</span></a>\r\n"}else __p+=null==user&&_.isUndefined(q)?'	\r\n<span class="small">\r\n	'+__e(i18next.t("No %s available.",{postProcess:"sprintf",sprintf:[i18next.t("users")]}))+"\r\n</span>\r\n":"\r\n	"+__e(i18next.t("Search for a person in %s by name or email address.",{postProcess:"sprintf",sprintf:[SITE_NAME]}))+"\r\n";__p+="\r\n"}return __p},this.JST["templates/user_view"]=function(obj){obj||(obj={});var __p="",__e=_.escape;Array.prototype.join;with(obj){if(__p+='<!-- Main block start -->\r\n<section class="clearfix row">\r\n	<div class="col-xs-12">\r\n		<div class="clearfix">\r\n			<ul class="nav nav-tabs no-bor h3">\r\n				<li ',(_.isUndefined(type)||"profile"==type)&&(__p+='class="active" '),__p+='><a href="#/user/'+__e(user.attributes.id)+'/profile"  >'+__e(i18next.t("Profile"))+"</a></li>\r\n				",_.isEmpty(role_links.where({slug:"view_user_cards"}))||(__p+="\r\n					<li  ",_.isUndefined(type)||"cards"!=type||(__p+='class="active" '),__p+='><a href="#/user/'+__e(user.attributes.id)+'/cards" >'+__e(i18next.t("Cards"))+"</a></li>\r\n				"),__p+="\r\n				",(authuser.user.id===page.id||1==authuser.user.role_id)&&(_.isEmpty(role_links.where({slug:"edit_user_details"}))||(__p+="\r\n					<li ",_.isUndefined(type)||"settings"!=type||(__p+='class="active" '),__p+='><a href="#/user/'+__e(user.attributes.id)+'/settings" >'+__e(i18next.t("Settings"))+"</a></li>\r\n				"),__p+="\r\n				",_.isEmpty(role_links.where({slug:"view_connected_applications"}))||(__p+="\r\n					<li ",_.isUndefined(type)||"oauth_applications"!=type||(__p+='class="active" '),__p+='><a href="#/user/'+__e(user.attributes.id)+'/oauth_applications" >'+__e(i18next.t("Authorized OAuth Applications"))+"</a></li>\r\n				")),__p+='  \r\n			</ul>\r\n		</div>\r\n		<div class="row">\r\n			<div class="tab-content">\r\n				',_.isEmpty(role_links.where({slug:"view_user_activities"}))||(__p+='\r\n					<div class="modal-body tab-pane ',(_.isUndefined(type)||"profile"==type)&&(__p+="active"),__p+='" id="profile">\r\n						<div id="js-user-activites"></div>\r\n						<span class="btn btn-primary hide" id="js-user-activites-load-more">'+__e(i18next.t("Load more activities"))+"</span>\r\n					</div>\r\n				"),__p+="\r\n				",_.isEmpty(role_links.where({slug:"view_user_cards"}))||(__p+='\r\n					<div class="modal-body tab-pane ',_.isUndefined(type)||"cards"!=type||(__p+="active"),__p+='" id="cards"></div>\r\n				'),__p+="\r\n				",!_.isEmpty(role_links.where({slug:"edit_user_details"}))){if(__p+='\r\n					<div class="modal-body tab-pane ',_.isUndefined(type)||"settings"!=type||(__p+="active"),__p+='" id="settings">\r\n						<form class="form-horizontal clearfix pull-left js-user-profile-edit" role="form" enctype="multipart/form-data" id="js-user-profile-edit">\r\n							<div class="form-group">\r\n								<label for="inputFullName" class="col-sm-4 control-label">'+__e(i18next.t("Full Name"))+'</label>\r\n								<div class="col-sm-8">\r\n									<input type="text" id="inputFullName" class="form-control" name="full_name" value="'+__e(user.attributes.full_name)+'" maxlength="50">\r\n								</div>\r\n							</div>\r\n							<div class="form-group">\r\n								<label for="AboutMe" class="col-sm-4 control-label">'+__e(i18next.t("About Me"))+'</label>\r\n								<div class="col-sm-8">\r\n									<textarea class="form-control" id="AboutMe" rows="6" name="about_me">'+__e(user.attributes.about_me)+"</textarea>\r\n								</div>\r\n							</div>\r\n							",_.isUndefined(authuser.user)||1!=authuser.user.role_id||(__p+='\r\n								<div class="form-group required">\r\n									<label for="inputemail" class="col-sm-4 control-label">'+__e(i18next.t("Email"))+'</label>\r\n									<div class="col-sm-8">\r\n										<input type="email" id="inputemail" class="form-control" name="email" value="'+__e(user.attributes.email)+'" required>\r\n									</div>\r\n								</div>\r\n							'),__p+='\r\n							<div class="form-group required">\r\n								<label for="inputinitials" class="col-sm-4 control-label">'+__e(i18next.t("Initials"))+'</label>\r\n								<div class="col-sm-8">\r\n									<input type="text" id="inputinitials" class="form-control initialism" name="initials" value="'+__e(user.attributes.initials.toUpperCase())+'" maxlength="2" required>\r\n								</div>\r\n							</div>\r\n							<div class="form-group required">\r\n								<label for="inputtimezone" class="col-sm-4 control-label">'+__e(i18next.t("Timezone"))+'</label>\r\n								<div class="col-sm-8">\r\n									<input type="text" id="inputtimezone" class="form-control initialism" name="timezone" value="'+__e(user.attributes.timezone)+'" required>\r\n								</div>\r\n							</div>\r\n							<div class="form-group">\r\n								<label for="is_send_newsletter" class="col-sm-4 control-label">'+__e(i18next.t("Notifications"))+'</label>\r\n								<div class="col-sm-8">\r\n									<select  id="is_send_newsletter" class="js-chosen-select" name="is_send_newsletter">\r\n										<option value="0">'+__e(i18next.t("Never, Don't send email notifications"))+'</option>\r\n										<option value="1">'+__e(i18next.t("Periodically, Send email notification every 1 hour"))+'</option>\r\n										<option value="2">'+__e(i18next.t("Instantly, Send email notification every 5 minutes"))+"</option>\r\n									</select>\r\n								</div>\r\n							</div>\r\n							",!_.isEmpty(role_links.where({slug:"add_user_profile_picture"}))){if(__p+='\r\n								<div class="form-group" id="dropzone">\r\n									<label for="inputAttachment" class="col-sm-4 control-label sr-only">'+__e(i18next.t("Upload Avatar"))+'</label>\r\n									<div class="col-xs-8">\r\n										<a data-placement="bottom" title="'+__e(user.attributes.username)+'" data-toggle="tooltip" href="#" class="avatar-option js-use-uploaded-avatar drag-box navbar-left"> \r\n											',_.isEmpty(user.attributes.profile_picture_path)||"NULL"==user.attributes.profile_picture_path)__p+='\r\n												<i class="avatar avatar-color-194 avatar-md img-rounded">'+__e(user.attributes.initials)+"</i>									\r\n											";else{var profile_picture_path=user.showImage("User",user.attributes.id,"small_thumb")+"?"+(new Date).getTime();__p+='\r\n												<span class="js-remove-image  profile-block show"><i class="icon icon-remove close-block cur h6"></i></span>\r\n												<img src="'+__e(profile_picture_path)+'" width="50" height="50" class="js-user-avatar">\r\n											'}__p+='\r\n										</a>\r\n										<span class="clearfix navbar-btn"><span id="dropzone-cssloader" ></span></span>\r\n								  <div class="clearfix" id="manager-area"></div>\r\n									</div>\r\n								</div>\r\n								</span>\r\n								</span>\r\n							'}__p+='\r\n							<div class="col-xs-9 pull-right clearfix">\r\n								<div class="form-group">\r\n									<label for="submit2" class="col-sm-1 control-label sr-only">'+__e(i18next.t("Submit"))+'</label>\r\n									<input type="submit" value="'+__e(i18next.t("Submit"))+'" id="submit2" class="btn btn-primary btn-lg">\r\n								</div>\r\n							</div>\r\n						</form>\r\n					</div>\r\n				'}__p+="\r\n				",_.isEmpty(role_links.where({slug:"view_connected_applications"}))||(__p+='\r\n					<div class="modal-body tab-pane ',_.isUndefined(type)||"oauth_applications"!=type||(__p+="active"),__p+='" id="oauth_applications">\r\n					</div>\r\n				'),__p+="\r\n			</div>\r\n		</div>\r\n	</div>\r\n</section>\r\n<!-- Main block end -->"}return __p},this.JST["templates/user_view_header"]=function(obj){obj||(obj={});var __p="",__e=_.escape;with(obj)__p+='<div id="js-navbar-default" class="navbar navbar-default" role="navigation">\r\n  <div class="container-fluid">\r\n	<div class="navbar-left navbar-btn">\r\n	  <div class="clearfix navbar-btn">\r\n		<h2 class="pull-left navbar-btn"><span class="pull-left"><a href="#/" title="'+__e(SITE_NAME)+'"><img src="img/logo.png" alt="[Image: '+__e(SITE_NAME)+']" title="'+__e(SITE_NAME)+'" class="img-responsive center-block"/></a></span></h2>\r\n		<ul class="list-inline pull-left h3 navbar-btn navbar-form">\r\n			 <li class="navbar-btn text-muted"><span class="h5">/</span></li>\r\n			<li><span class="text-muted h4">'+__e(user.attributes.full_name)+" ("+__e(user.attributes.username)+")</span></li>\r\n		</ul>\r\n	  </div>\r\n	</div>\r\n  </div>\r\n</div>";return __p},this.JST["templates/users_forgot_password"]=function(obj){obj||(obj={});var __p="",__e=_.escape;with(obj)__p+='<div class="col-lg-4 col-md-4 col-sm-6 col-xs-12 col-lg-offset-4 col-md-offset-4 col-sm-offset-3">\r\n<div class="panel panel-default">\r\n  <div class="panel-heading lead list-group-item-text">'+__e(i18next.t("Forgot your password"))+'?</div>\r\n  <div class="panel-body well-lg">\r\n	<div class="alert alert-info">'+__e(i18next.t("Enter your email and we will send new password."))+'</div>\r\n	<form id="UserForgotPasswordForm" name="UserForgotPasswordForm" class="form-horizontal col-xs-12">\r\n	  <div class="form-group required">\r\n		<label class="sr-only control-label" for="inputEmail">'+__e(i18next.t("Email"))+'</label>\r\n		<input type="email" name="email" id="inputEmail" class="form-control" placeholder="'+__e(i18next.t("Email"))+'" title="'+__e(i18next.t("Email"))+'" required>\r\n	  </div>\r\n	  <div class="form-group">\r\n		<label class="sr-only control-label" for="submit2">'+__e(i18next.t("Send"))+' </label>\r\n		<input type="submit" class="btn btn-primary col-xs-12" id="submitForgotPassword" value="'+__e(i18next.t("Send"))+'">\r\n	  </div>\r\n	</form>\r\n  </div>\r\n</div>\r\n</div>';
return __p},this.JST["templates/users_import"]=function(obj){obj||(obj={});var __p="";_.escape,Array.prototype.join;with(obj)__p+='<div class="well-sm"></div>\r\n<form class="col-xs-12" name="UploadForm" id="UploadForm" enctype="multipart/form-data">		\r\n	<div class="form-group">\r\n		<label class="control-label">',i18next.t("Select csv file"),__p+='</label>\r\n		<input name="file" type="file">\r\n	</div>\r\n	<div class="form-group">\r\n		<label class="sr-only  col-sm-4  control-label col-xs-12" for="submit2">Submit</label>\r\n		<input type="submit" class="btn btn-primary" id="submitUpload" value="Upload">\r\n	</div>\r\n</form>';return __p},this.JST["templates/users_register"]=function(obj){obj||(obj={});var __p="",__e=_.escape;Array.prototype.join;with(obj)__p+='<div class="col-lg-4 col-md-4 col-sm-6 col-xs-12 col-lg-offset-4 col-md-offset-4 col-sm-offset-3">\r\n<div class="panel panel-default">\r\n  <div class="panel-heading lead">'+__e(i18next.t("Register"))+'</div>\r\n  <div class="panel-body well-lg">\r\n	<form id="UserRegisterForm" name="UserRegisterForm" class="form-horizontal col-xs-12">\r\n	  <div class="form-group required">\r\n		<label class="sr-only control-label" for="inputEmail">'+__e(i18next.t("Email"))+'</label>\r\n		<input type="email" required name="email" id="inputEmail" class="form-control" placeholder="'+__e(i18next.t("Email"))+'" title="'+__e(i18next.t("Email"))+'">\r\n	  </div>\r\n	  <div class="form-group required">\r\n		<label class="sr-only control-label" for="inputUsername">'+__e(i18next.t("Username"))+'</label>\r\n		<input type="name" name="username" id="inputUsername" class="form-control" placeholder="'+__e(i18next.t("Username"))+'" required pattern=".{3,15}" title="'+__e(i18next.t("Username. Minimum 3 characters"))+'">\r\n	  </div>\r\n	  <div class="form-group required">\r\n		<label class="sr-only control-label" for="inputPassword">'+__e(i18next.t("Password"))+'</label>\r\n		<input type="password" required name="password" id="inputPassword"class="form-control" placeholder="'+__e(i18next.t("Password"))+'" pattern="[A-Za-z0-9\\S]{6,50}" title="'+__e(i18next.t("Password. Minimum 6 characters and white space not allowed"))+'">\r\n	  </div>\r\n	  <div class="form-group">\r\n		<label class="sr-only ontrol-label" for="submitRegister">'+__e(i18next.t("Join Now"))+'</label>\r\n		<input type="submit" class="btn btn-primary col-xs-12" id="submitRegister" value="'+__e(i18next.t("Join Now"))+'">\r\n	  </div>\r\n	  <ul class="list-inline small text-center">\r\n		  ',_.isEmpty(role_links.where({slug:"users_forgotpassword"}))||(__p+='\r\n		  	<li><a href="#/users/forgotpassword" title="'+__e(i18next.t("Forgot your password"))+'?" class="text-primary">'+__e(i18next.t("Forgot your password"))+"?</a></li>\r\n			"),__p+="\r\n		</ul>\r\n	</form>\r\n  </div>\r\n</div>\r\n</div>";return __p},"undefined"==typeof App&&(App={});var loginExceptionUrl=["register","login","forgotpassword","user_activation","aboutus"],adminUrl=["roles","activities","users","oauth_clients","apps","settings","email_templates"];App.ApplicationView=Backbone.View.extend({initialize:function(a){$("#content").html(""),$("#footer").removeClass("action-open");var b=this;if(b.page_view_type=a.type,b.page_view_id=a.id,b.page_view_hash=a.hash,b.page_view_q=a.q,last_user_activity_id=load_more_last_board_activity_id=last_board_activity_id=0,_.isUndefined(App.music)&&(App.music={}),_.isUndefined(App.music)||(App.music.music_content="",_.isUndefined(App.music.inst)||App.music.inst.silence()),void 0===window.sessionStorage.getItem("auth")||null===window.sessionStorage.getItem("auth")||api_token)(_.isUndefined(window.sessionStorage.getItem("music_play"))||null===window.sessionStorage.getItem("music_play"))&&window.sessionStorage.setItem("music_play","1");else{var c=JSON.parse(window.sessionStorage.getItem("auth"));api_token=c.access_token,b.authuser=c,authuser=c}if(0===role_links.length&&void 0!==window.sessionStorage.getItem("links")&&null!==window.sessionStorage.getItem("links")&&role_links.add(JSON.parse(window.sessionStorage.getItem("links"))),"boards_view"!==b.model&&(viewed_board=new App.Board),is_offline_data)return!1;if(""===api_token)b.authuser=new App.OAuth,b.authuser.url=api_url+"oauth.json",b.authuser.fetch({cache:!1,abortPending:!0,success:function(a,c){api_token=c.access_token,_.isUndefined(c.links)||window.sessionStorage.setItem("links",c.links),window.sessionStorage.setItem("languages",c.languages),window.sessionStorage.setItem("apps",c.apps),role_links.add(JSON.parse(c.links)),settings.url=api_url+"settings.json",settings.fetch({cache:!1,abortPending:!0,success:function(a,c){if(SITE_NAME=c.SITE_NAME,b.set_page_title(),FLICKR_API_KEY=c.FLICKR_API_KEY,DROPBOX_APPKEY=c.DROPBOX_APPKEY,LABEL_ICON=c.LABEL_ICON,SITE_TIMEZONE=c.SITE_TIMEZONE,LDAP_LOGIN_ENABLED=c.LDAP_LOGIN_ENABLED,DEFAULT_LANGUAGE=c.DEFAULT_LANGUAGE,STANDARD_LOGIN_ENABLED=c.STANDARD_LOGIN_ENABLED,BOSH_SERVICE_URL=c.BOSH_SERVICE_URL,PREBIND_URL=c.PREBIND_URL,JABBER_HOST=c.JABBER_HOST,JABBER_PATH=c.JABBER_PATH,XMPP_CLIENT_RESOURCE_NAME=c.XMPP_CLIENT_RESOURCE_NAME,PAGING_COUNT=c.PAGING_COUNT,APPS=c.apps,IMAP_EMAIL=c.IMAP_EMAIL,DEFAULT_CARD_VIEW=c.DEFAULT_CARD_VIEW,c.TODO_COLOR&&(TODO_COLOR=c.TODO_COLOR),c.DOING_COLOR&&(DOING_COLOR=c.DOING_COLOR),c.DONE_COLOR&&(DONE_COLOR=c.DONE_COLOR),c.TODO_ICON&&(TODO_ICON=c.TODO_ICON),c.DOING_ICON&&(DOING_ICON=c.DOING_ICON),c.DONE_ICON&&(DONE_ICON=c.DONE_ICON),c.TODO){var d=c.TODO,e=d.split(",");$.each(e,function(a,b){todo_lists[a]=b})}if(c.DOING){var f=c.DOING,g=f.split(",");$.each(g,function(a,b){doing_lists[a]=b})}if(c.DONE){var h=c.DONE,i=h.split(",");$.each(i,function(a,b){done_lists[a]=b})}var j=DEFAULT_LANGUAGE;void 0!==window.sessionStorage.getItem("auth")&&null!==window.sessionStorage.getItem("auth")&&(j=authuser.user.language),i18next.use(window.i18nextXHRBackend).use(window.i18nextSprintfPostProcessor).init({lng:j,fallbackLng:j,load:"all",keySeparator:"~",nsSeparator:"^",backend:{loadPath:"locales/{{lng}}/{{ns}}.json"}},function(){if("admin_user_add"===b.model||"register"===b.model){if((_.isEmpty(LDAP_LOGIN_ENABLED)||"false"!==LDAP_LOGIN_ENABLED)&&(_.isEmpty(STANDARD_LOGIN_ENABLED)||"true"!==STANDARD_LOGIN_ENABLED)){changeTitle(i18next.t("404 Page not found")),this.headerView=new App.HeaderView({model:authuser}),$("#header").html(this.headerView.el);var a=new App.Error404View;return void $("#content").html(a.el)}b.call_function()}else b.call_function()})}})},error:function(){app.navigate("#/users/login",{trigger:!0,replace:!0})}});else if(0===settings.length)settings.fetch({cache:!1,abortPending:!0,success:function(a,c){if(SITE_NAME=c.SITE_NAME,b.set_page_title(),FLICKR_API_KEY=c.FLICKR_API_KEY,DROPBOX_APPKEY=c.DROPBOX_APPKEY,LABEL_ICON=c.LABEL_ICON,SITE_TIMEZONE=c.SITE_TIMEZONE,LDAP_LOGIN_ENABLED=c.LDAP_LOGIN_ENABLED,DEFAULT_LANGUAGE=c.DEFAULT_LANGUAGE,STANDARD_LOGIN_ENABLED=c.STANDARD_LOGIN_ENABLED,BOSH_SERVICE_URL=c.BOSH_SERVICE_URL,PREBIND_URL=c.PREBIND_URL,JABBER_HOST=c.JABBER_HOST,JABBER_PATH=c.JABBER_PATH,XMPP_CLIENT_RESOURCE_NAME=c.XMPP_CLIENT_RESOURCE_NAME,PAGING_COUNT=c.PAGING_COUNT,APPS=c.apps,IMAP_EMAIL=c.IMAP_EMAIL,DEFAULT_CARD_VIEW=c.DEFAULT_CARD_VIEW,c.TODO_COLOR&&(TODO_COLOR=c.TODO_COLOR),c.DOING_COLOR&&(DOING_COLOR=c.DOING_COLOR),c.DONE_COLOR&&(DONE_COLOR=c.DONE_COLOR),c.TODO_ICON&&(TODO_ICON=c.TODO_ICON),c.DOING_ICON&&(DOING_ICON=c.DOING_ICON),c.DONE_ICON&&(DONE_ICON=c.DONE_ICON),c.TODO){var d=c.TODO,e=d.split(",");$.each(e,function(a,b){todo_lists[a]=b})}if(c.DOING){var f=c.DOING,g=f.split(",");$.each(g,function(a,b){doing_lists[a]=b})}if(c.DONE){var h=c.DONE,i=h.split(",");$.each(i,function(a,b){done_lists[a]=b})}var j=DEFAULT_LANGUAGE;void 0!==window.sessionStorage.getItem("auth")&&null!==window.sessionStorage.getItem("auth")&&null!==authuser.user.language&&void 0!==authuser.user.language&&(j=authuser.user.language),i18next.use(window.i18nextXHRBackend).use(window.i18nextSprintfPostProcessor).init({lng:j,fallbackLng:j,load:"all",keySeparator:"~",nsSeparator:"^",backend:{loadPath:"locales/{{lng}}/{{ns}}.json"}},function(){if("admin_user_add"===b.model||"register"===b.model){if((_.isEmpty(LDAP_LOGIN_ENABLED)||"false"!==LDAP_LOGIN_ENABLED)&&(_.isEmpty(STANDARD_LOGIN_ENABLED)||"true"!==STANDARD_LOGIN_ENABLED)){changeTitle(i18next.t("404 Page not found")),this.headerView=new App.HeaderView({model:authuser}),$("#header").html(this.headerView.el);var a=new App.Error404View;return void $("#content").html(a.el)}b.call_function()}else b.call_function()})}});else if("admin_user_add"===b.model||"register"===b.model){if((_.isEmpty(LDAP_LOGIN_ENABLED)||"false"!==LDAP_LOGIN_ENABLED)&&(_.isEmpty(STANDARD_LOGIN_ENABLED)||"true"!==STANDARD_LOGIN_ENABLED)){changeTitle(i18next.t("404 Page not found")),this.headerView=new App.HeaderView({model:authuser}),$("#header").html(this.headerView.el);var d=new App.Error404View;return void $("#content").html(d.el)}b.call_function()}else b.call_function()},set_page_title:function(){"login"==this.model&&changeTitle(i18next.t("Login")),"aboutus"==this.model&&changeTitle(i18next.t("About")),"admin_user_add"==this.model&&changeTitle(i18next.t("Admin Add User")),"register"==this.model&&changeTitle(i18next.t("Register")),"forgotpassword"==this.model&&changeTitle(i18next.t("Forgot your password")),"user_activation"==this.model&&changeTitle(i18next.t("User Activation")),"changepassword"==this.model&&changeTitle(i18next.t("Change Password")),"settings"==this.model&&changeTitle(i18next.t("Settings")),"boards_index"==this.model&&changeTitle(i18next.t("Boards")),"starred_boards_index"==this.model&&changeTitle(i18next.t("Starred Boards")),"closed_boards_index"==this.model&&changeTitle(i18next.t("Closed Boards")),"organizations_view"==this.model&&changeTitle(i18next.t("Organization")),"organizations_view_type"==this.model&&changeTitle(i18next.t("Organization")),"organizations_user_view"==this.model&&changeTitle(i18next.t("Organization User")),"users_index"==this.model&&changeTitle(i18next.t("Users")),"admin_boards_index"==this.model&&changeTitle(i18next.t("Boards")),("role_settings"==this.model||"add_role"==this.model||"add_board_user_role"==this.model||"add_organization_user_role"==this.model)&&changeTitle(i18next.t("Role Settings")),"oauth_clients"==this.model&&changeTitle(i18next.t("Developer applications")),"add_oauth_client"==this.model&&changeTitle(i18next.t("Register a new OAuth application")),"edit_oauth_client"==this.model&&changeTitle(i18next.t("Edit OAuth application")),("apps"==this.model||"app_settings"==this.model)&&changeTitle(i18next.t("Apps")),"organizations_index"==this.model&&changeTitle(i18next.t("Organizations")),"email_templates"==this.model&&changeTitle(i18next.t("Email Templates")),"email_template_type"==this.model&&changeTitle(i18next.t("Email Templates")),"activity_index"==this.model&&changeTitle(i18next.t("Activities"))},board_view:function(){var a=this;if(viewed_board.id!==parseInt(a.id)){var b=new App.Board({id:a.id});b.url=api_url+"boards/"+a.id+".json",b.id=a.id,b.fetch({cache:!1,abortPending:!0,success:function(c,d){if(_.isUndefined(d.error)){var e={},f={};if(d.lists&&$.each(d.lists,function(a,b){if(b){var c={};b.cards&&$.each(b.cards,function(a,b){b&&(c[b.id]=b.custom_fields)}),e[b.id]={custom_fields:b.custom_fields,cards:c}}}),f[d.id]={custom_fields:d.custom_fields,lists:e},custom_fields.boards=f,b.authuser=a.authuser,viewed_board=b,b.board_user_roles=d.board_user_roles,$("#content").html(new App.BoardView({model:b}).el),$('[data-spy="affix"]').each(function(){var a=$(this),b=a.data();b.offset=b.offset||{},b.offsetBottom&&(b.offset.bottom=b.offsetBottom),b.offsetTop&&(b.offset.top=b.offsetTop),a.affix(b)}),"list"===view_type?($(".js-switch-list-view").trigger("click"),view_type=null):"calendar"===view_type?($(".js-switch-calendar-view").trigger("click"),view_type=null):"gantt"===view_type?($(".js-switch-timeline-view").trigger("click"),view_type=null):"attachments"===view_type?($(".js-show-board-modal").trigger("click"),view_type=null):(null===view_type||""===view_type)&&($(".js-switch-grid-view").trigger("click"),view_type=null),this.footerView=new App.FooterView({model:authuser,board_id:a.id,board:b}).render(),$("#footer").html(this.footerView.el),$('[data-toggle="tooltip"]').tooltip(),!_.isUndefined(authuser.user)){var g=authuser.user.notify_count;g>0&&(g>=100&&(g="100+"),$(".js-notification-count").removeClass("hide").html(g),favicon.badge(g))}var h=Backbone.history.fragment;h.split("/");-1===h.indexOf("list")&&-1===h.indexOf("calendar")&&$("a.js-switch-grid-view").parent().addClass("active")}else window.sessionStorage.setItem("redirect_link",window.location.hash),$("#content").html(new App.Board404View({model:authuser}).el),this.headerView=new App.HeaderView({model:authuser}),$("#header").html(this.headerView.el);a.board_view_height()}})}else"list"===view_type?($(".js-switch-list-view").trigger("click"),view_type=null):"calendar"===view_type?($(".js-switch-calendar-view").trigger("click"),view_type=null):"gantt"===view_type?($(".js-switch-timeline-view").trigger("click"),view_type=null):"attachments"===view_type?($(".js-show-board-modal").trigger("click"),view_type=null):(_.isUndefined(view_type)||null===view_type||""===view_type)&&($(".js-switch-grid-view").trigger("click"),view_type=null);return this},organization_view:function(){var a=this,b=new App.Organization;return b.organization_id=a.id,b.url=api_url+"organizations/"+a.id+".json",b.fetch({cache:!1,abortPending:!0,success:function(c,d){_.isUndefined(d.error)||"Unauthorized"!=d.error.message?(b.boards.add(b.attributes.boards_listing),b.organization_user_roles=d.organization_user_roles,$("#content").html(new App.OrganizationsView({model:b,type:a.page_view_type}).el)):app.navigate("#/users/login",{trigger:!0,replace:!0})}}),this},call_function:function(){var a=this;this.headerView=new App.HeaderView({model:authuser});var b=!1;if("boards_view"==a.model&&void 0!==App.boards&&_.isUndefined(App.boards.get(parseInt(a.id)))&&(b=!0),void 0!==App.boards&&!b||_.isUndefined(authuser.user))_.indexOf(adminUrl,Backbone.history.fragment)>=0&&!_.isEmpty(authuser.user)&&1==authuser.user.role_id||_.indexOf(adminUrl,Backbone.history.fragment)<0?a.callback():app.navigate("#/boards",{trigger:!0,replace:!0});else{var c=new App.BoardCollection;c.url=api_url+"boards.json?type=simple",c.fetch({cache:!1,abortPending:!0,success:function(b,d){App.boards=c,a.populateLists(),a.populateBoardStarred();var e=new App.OrganizationCollection;e.url=api_url+"organizations.json",e.fetch({cache:!1,abortPending:!0,success:function(b,c){auth_user_organizations=e,_.indexOf(adminUrl,Backbone.history.fragment)>=0&&!_.isEmpty(authuser.user)&&1==authuser.user.role_id||_.indexOf(adminUrl,Backbone.history.fragment)<0?a.callback():app.navigate("#/boards",{trigger:!0,replace:!0})}})}})}"boards_view"!==a.model&&"users_index"!==a.model&&$("#header").html(this.headerView.el),window.sessionStorage.setItem("previous_url",Backbone.history.getFragment())},populateLists:function(){App.boards.each(function(a){a.lists.add(a.attributes.lists)})},populateBoardStarred:function(){App.boards.each(function(a){a.boards_stars.add(a.attributes.stars)})},callback:function(){var a=this;if($(".company").addClass("hide"),"boards_view"==a.model)$("body").hasClass("board-view")||$("body").css("background","transparent"),_.isEmpty(role_links.where({slug:"view_board"}))||a.board_view();else if("organizations_view"==a.model)changeTitle(i18next.t("Organization")),a.organization_view();else if(_.isEmpty(authuser.user)&&_.indexOf(loginExceptionUrl,a.model)<=-1)window.sessionStorage.setItem("redirect_link",window.location.hash),app.navigate("#/users/login",{trigger:!0,replace:!0});else if(!_.isEmpty(authuser.user)&&_.indexOf(loginExceptionUrl,a.model)>-1)"aboutus"==a.model?(changeTitle(i18next.t("About")),this.pageView=new App.AboutusView,$("#content").html(this.pageView.el)):(app.navigate("#/boards",{trigger:!0,replace:!0,trigger_function:!1}),Backbone.history.loadUrl("#/boards"));else if("admin_user_add"==a.model){changeTitle(i18next.t("Admin Add User"));var b=new App.User;this.pageView=new App.AdminUserAddView({model:b}),$("#content").html(this.pageView.el)}else if("register"==a.model){changeTitle(i18next.t("Register")),$(".company").removeClass("hide");var c=new App.User;this.pageView=new App.RegisterView({model:c}),$("#content").html(this.pageView.el)}else if("login"==a.model){changeTitle(i18next.t("Login")),$(".company").removeClass("hide");var d=new App.User;this.pageView=new App.LoginView({model:d}),$("#content").html(this.pageView.el)}else if("forgotpassword"==a.model){changeTitle(i18next.t("Forgot your password")),$(".company").removeClass("hide");var e=new App.User;this.pageView=new App.ForgotpasswordView({model:e}),$("#content").html(this.pageView.el)}else if("user_activation"==a.model){changeTitle(i18next.t("User Activation"));var f=new App.User;f.user_id=a.id,f.hash=a.page_view_hash,this.pageView=new App.UseractivationView({model:f})}else if("changepassword"==a.model){changeTitle(i18next.t("Change Password"));var g=new App.User;g.user_id=a.id,this.pageView=new App.ChangepasswordView({model:g}),$("#content").html(this.pageView.el)}else if("aboutus"==a.model)changeTitle(i18next.t("About")),this.pageView=new App.AboutusView,$("#content").html(this.pageView.el);else if("boards_index"==a.model||"starred_boards_index"==a.model||"closed_boards_index"==a.model){changeTitle(i18next.t("Boards"));var h=i18next.t("My Boards");"starred_boards_index"==a.model?(changeTitle(i18next.t("Starred Boards")),h=i18next.t("Starred Boards")):"closed_boards_index"==a.model&&(changeTitle(i18next.t("Closed Boards")),h=i18next.t("Closed Boards")),this.headerView=new App.BoardIndexHeaderView({model:h}),$("#header").html(new App.BoardIndexHeaderView({model:h}).el);var i=$("#content");i.html("");var j=this,k=new App.BoardCollection;k.url=api_url+"users/"+authuser.user.id+"/boards.json",k.fetch({cache:!1,abortPending:!0,success:function(b,c){var d=new App.BoardCollection;d.url=api_url+"boards.json?type=simple",d.fetch({cache:!1,abortPending:!0,success:function(b,e){App.boards=d,j.populateLists(),j.populateBoardStarred();var f=new App.FooterView({model:authuser,boards:d});if(clearInterval(set_interval_id),set_interval_id=setInterval(function(){f.userActivities(!0,1)},1e4),_.isUndefined(e._metadata)||_.isUndefined(e._metadata.dashboard)||(e._metadata.dashboard.page_title=h,i.append(new App.UserDashboardView({model:e._metadata.dashboard}).el)),$(".sparklines",this.el).each(function(a){$(this).sparkline($(this).data("todo").split(","),{enableTagOptions:!0,type:"line",fillColor:"#eca186",lineColor:"#eca186",width:"250",height:"25",tooltipFormatter:function(b,c,d){var e=new Date,f=e.getDate()+1-e.getDay(),g=f+d.offset;if(1===a){var h=e.getDate()-6-e.getDay();g=h+d.offset}var i=new Date(e.setDate(g)),j=i.toString().split(" "),k=j[0]+", "+j[1]+" "+j[2]+", "+j[3];return"<span>"+k+" <span><br>Todo: "+d.y}}),$(this).sparkline($(this).data("doing").split(","),{composite:!0,fillColor:"#fee3e0",lineColor:"#fee3e0",width:"250",height:"25",tooltipFormatter:function(a,b,c){return",&nbsp;Doing: "+c.y}}),$(this).sparkline($(this).data("done").split(","),{composite:!0,fillColor:"#65cca9",lineColor:"#65cca9",width:"250",height:"25",tooltipFormatter:function(a,b,c){return",&nbsp;Done: "+c.y}})}),$(".js-chart",this.el).each(function(){var a=[];$.each($(this).data(),function(b,c){var d={};d.title=b.toUpperCase(),d.value=parseInt(c),"TODO"==d.title?d.color="#eca186":"DOING"==d.title?d.color="#fee3e0":"DONE"==d.title&&(d.color="#65cca9"),parseInt(c)>0&&a.push(d)}),$(this).html("").drawDoughnutChart(a)}),"starred_boards_index"==a.model)i.append((new App.StarredBoardsIndexView).el),_.isEmpty(role_links.where({slug:"view_stared_boards"}))||(_.isEmpty(c.starred_boards)?$(".js-header-starred-boards").append(new App.BoardSimpleView({model:null,message:i18next.t("No %s available.",{postProcess:"sprintf",sprintf:[i18next.t("starred boards")]}),id:"js-starred-board-empty",className:"col-lg-3 col-md-3 col-sm-4 col-xs-12"}).el):(_.each(c.starred_boards,function(a){var b=App.boards.findWhere({id:parseInt(a),is_closed:0});_.isUndefined(b)||(b.board_subscribers.add(b.attributes.boards_subscribers),filter=_.matches({is_archived:0}),filtered_lists=_.filter(b.attributes.lists,filter),b.lists.add(filtered_lists),$(".js-header-starred-boards").append(new App.BoardSimpleView({model:b,id:"js-starred-board-"+b.attributes.id,className:"col-lg-3 col-md-4 col-sm-4 col-xs-12 mob-no-pad js-board-view js-board-view-"+b.attributes.id,starred_boards:c.starred_boards}).el))}),0===$(".js-header-starred-boards > .js-board-view").length&&$(".js-header-starred-boards").append(new App.BoardSimpleView({model:null,message:i18next.t("No %s available.",{postProcess:"sprintf",sprintf:[i18next.t("starred boards")]}),id:"js-starred-board-empty",className:"col-lg-3 col-md-3 col-sm-4 col-xs-12"}).el)));else if("closed_boards_index"==a.model){if(i.append((new App.ClosedBoardsIndexView).el),!_.isEmpty(role_links.where({slug:"view_closed_boards"}))){var g=App.boards.where({is_closed:1});_.isEmpty(g)?$(".js-header-closed-boards").append(new App.BoardSimpleView({model:null,message:i18next.t("No %s available.",{postProcess:"sprintf",sprintf:[i18next.t("closed boards")]}),id:"js-closed-board-empty",className:"col-lg-3 col-md-3 col-sm-4 col-xs-12"}).el):(_.each(g,function(a){a.board_subscribers.add(a.attributes.boards_subscribers),filter=_.matches({is_archived:0}),filtered_lists=_.filter(a.attributes.lists,filter),a.lists.add(filtered_lists),$(".js-header-closed-boards").append(new App.BoardSimpleView({model:a,id:"js-closed-board-"+a.attributes.id,className:"col-lg-3 col-md-4 col-sm-4 col-xs-12 mob-no-pad js-board-view js-board-view-"+a.attributes.id,starred_boards:c.starred_boards}).el)}),0===$(".js-header-closed-boards > .js-board-view").length&&$(".js-header-closed-boards").append(new App.BoardSimpleView({model:null,message:i18next.t("No %s available.",{postProcess:"sprintf",sprintf:[i18next.t("closed boards")]}),id:"js-closed-board-empty",className:"col-lg-3 col-md-3 col-sm-4 col-xs-12"}).el))}}else{i.append((new App.BoardsIndexView).el);var k="";if(k=App.boards.where({is_closed:0}),_.isEmpty(role_links.where({slug:"view_my_boards"}))||(_.isEmpty(k)?$(".js-my-boards").append(new App.BoardSimpleView({model:null,message:i18next.t("No %s available.",{postProcess:"sprintf",sprintf:[i18next.t("boards")]}),id:"js-my-board-empty",className:"col-lg-3 col-md-3 col-sm-4 col-xs-12"}).el):(_.each(k,function(a){var b=_.matches({is_archived:0}),d=_.filter(a.attributes.lists,b);a.lists.add(d),$(".js-my-boards").append(new App.BoardSimpleView({model:a,id:"js-my-board-"+a.attributes.id,className:"col-lg-3 col-md-4 col-sm-4 col-xs-12 mob-no-pad js-board-view js-board-view-"+a.attributes.id,starred_boards:c.starred_boards}).el)}),new App.FooterView({model:authuser,board_id:j.id,boards:k}))),"undefined"!=typeof a.page_view_q){var l=new App.ElasticSearchCollection;l.url=api_url+"search.json",l.fetch({cache:!1,abortPending:!0,data:{q:a.page_view_q,token:api_token},success:function(b,c){c=c,c.result.search_term=a.page_view_q,$("#search-page-result-block").html(new App.SearchPageResultView({model:c}).el),$("#search-page-result").removeClass("search-block").addClass("search-block-main-hover");var d=$(window).height()-38;$(".search-block-main-hover").css("height",d+"px")}})}}}})}})}else if("users_index"==a.model)changeTitle(i18next.t("Users")),new App.AdminUserIndexView;else if("admin_boards_index"==a.model)changeTitle(i18next.t("Boards")),new App.AdminBoardsListView;else if("settings"==a.model)changeTitle(i18next.t("Settings")),$("#js-navbar-default").remove(),$("#content").html(new App.SettingView({id:a.page_view_id}).el);else if("user_view"==a.model){var l=new App.User;l.url=api_url+"users/"+a.id+".json",l.fetch({cache:!1,abortPending:!0,success:function(b,c){$("#header").html(new App.UserViewHeaderView({model:b,type:a.page_view_type,page:a}).el),$("#content").html(new App.UserView({model:b,type:a.page_view_type,page:a}).el)}})}else if("role_settings"==a.model){changeTitle(i18next.t("Role Settings"));var m=new App.ACLCollection;m.url=api_url+"acl_links.json",m.fetch({cache:!1,abortPending:!0,success:function(a,b){a.reset(b.acl_links);var c=new App.RoleCollection;c.reset(b.roles);var d=new App.AclBoardLinksCollection;d.reset(b.acl_board_links);var e=new App.AclOrganizationLinksCollection;e.reset(b.acl_organization_links);var f=new App.OrganizationUserRolesCollection;f.reset(b.organization_user_roles);var g=new App.BoardUserRolesCollection;g.reset(b.board_user_roles),$("#js-navbar-default").remove(),$("#content").html(new App.RoleSettingsView({model:a,roles:c,acl_board_links:d,board_user_roles:g,acl_organization_links:e,organization_user_roles:f}).el)}})}else if("add_role"==a.model)changeTitle(i18next.t("Add role")),$("#content").html((new App.RoleAddView).el);else if("add_board_user_role"==a.model)changeTitle(i18next.t("Add board user role")),$("#content").html((new App.BoardUserRoleAddView).el);else if("add_organization_user_role"==a.model)changeTitle(i18next.t("Add organization user role")),$("#content").html((new App.OrganizationUserRoleAddView).el);else if("organizations_index"==a.model){changeTitle(i18next.t("Organizations"));var n=new App.OrganizationCollection;n.url=api_url+"organizations.json",n.fetch({cache:!1,abortPending:!0,success:function(a,b){$("#header").html(new App.OrganizationsListsHeaderView({model:n}).el)}})}else if("oauth_clients"==a.model){changeTitle(i18next.t("Developer applications"));var o=new App.OauthClientCollection;o.url=api_url+"oauth/clients.json",o.fetch({cache:!1,abortPending:!0,success:function(a,b){$("#js-navbar-default").remove(),$("#content").html(new App.OauthClientView({model:b}).el)}})}else if("add_oauth_client"==a.model){changeTitle(i18next.t("Register a new OAuth application"));var p=new App.OauthClient;this.pageView=new App.OauthClientAddView({model:p}),$("#content").html(this.pageView.el)}else if("edit_oauth_client"==a.model)changeTitle(i18next.t("Edit OAuth application")),this.pageView=new App.OauthClientEditView({id:a.page_view_id}),$("#content").html(this.pageView.el);else if("apps"==a.model){changeTitle(i18next.t("Apps"));var q=new App.AppCollection;q.url=api_url+"apps.json",q.fetch({cache:!1,abortPending:!0,success:function(a,b){$("#js-navbar-default").remove(),$("#content").html(new App.AppsView({model:b}).el)}})}else if("app_settings"==a.model){changeTitle(i18next.t("App Settings"));var r=new App.AppCollection;r.url=api_url+"apps/settings.json?app="+a.page_view_id,r.fetch({cache:!1,abortPending:!0,success:function(b,c){$("#js-navbar-default").remove(),$("#content").html(new App.AppSettingsView({app_settings:c,folder:a.page_view_id}).el)}})}else"email_template_type"==a.model?(changeTitle(i18next.t("Email Templates")),$("#js-navbar-default").remove(),$("#content").html(new App.EmailTemplateView({id:a.page_view_id}).el)):"activity_index"==a.model&&(changeTitle(i18next.t("Activities")),$("#js-navbar-default").remove(),$("#content").html(new App.ActivityIndexView({id:a.page_view_id}).el));if("boards_view"==a.model?authuser.board_id=this.id:authuser.board_id=0,void 0!==window.sessionStorage.getItem("auth")&&null!==window.sessionStorage.getItem("auth")||"organizations_view"==a.model){if(this.footerView=new App.FooterView({model:authuser}).render(),$("#footer").html(this.footerView.el),!_.isUndefined(authuser.user)){var s=authuser.user.notify_count;s>0&&(s>=100&&(s="100+"),$(".js-notification-count").removeClass("hide").html(s),favicon.badge(s))}}else-1!=Backbone.history.fragment.indexOf("board/")||-1!=Backbone.history.fragment.indexOf("organization/")||-1!=Backbone.history.fragment.indexOf("boards")?(this.footerView=new App.FooterView({model:authuser}).render(),$("#footer").html(this.footerView.el)):$("#footer").html("")}}),"undefined"==typeof App&&(App={}),App.AdminUserAddView=Backbone.View.extend({initialize:function(){_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.render()},template:JST["templates/admin_user_add"],tagName:"article",className:"clearfix",id:"admin-user-add",events:{"submit form#AdminUserAddForm":"adminUserAdd"},adminUserAdd:function(a){var b=$(a.target),c=b.serializeObject(),d=this,e=new App.User;return e.url=api_url+"users.json",e.save(c,{success:function(a,c){c.error?(1===c.error?d.flash("danger",i18next.t("Email address already exist. Your registration process is not completed. Please, try again.")):2===c.error&&d.flash("danger",i18next.t("Username already exists. Your registration process is not completed. Please, try again.")),$("#inputPassword").val("")):(d.flash("success",i18next.t("User added successfully.")),b[0].reset(),app.navigate("#/users",{trigger:!0,replace:!0}))}}),!1},render:function(){return this.$el.html(this.template()),$(".js-admin-user-menu").addClass("active"),$(".js-admin-activity-menu, .js-admin-setting-menu, .js-admin-email-menu, .js-admin-role-menu, .js-admin-board-menu").removeClass("active"),this.showTooltip(),this}}),"undefined"==typeof App&&(App={}),App.RegisterView=Backbone.View.extend({initialize:function(){_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.render()},template:JST["templates/users_register"],tagName:"article",className:"clearfix",id:"user-register",events:{"submit form#UserRegisterForm":"register"},register:function(a){$("#submitRegister").attr("disabled","disabled");var b=$(a.target),c=b.serializeObject(),d=this,e=new App.User;return e.url=api_url+"users/register.json",e.save(c,{success:function(a,c){c.error?(1===c.error?d.flash("danger",i18next.t("Email address already exist. Your registration process is not completed. Please, try again.")):2===c.error&&d.flash("danger",i18next.t("Username already exists. Your registration process is not completed. Please, try again.")),$("#inputPassword").val("")):($("#submitRegister").removeAttr("disabled"),d.flash("success",i18next.t("You have successfully registered with our site and your activation mail has been sent to your mail inbox.")),b[0].reset())}}),!1},render:function(){return this.$el.html(this.template()),this.showTooltip(),this}}),"undefined"==typeof App&&(App={}),App.LoginView=Backbone.View.extend({initialize:function(){_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.render(),this.changeFavicon()},template:JST["templates/login"],tagName:"section",className:"clearfix",events:{submit:"login"},login:function(a){var b=this,c=$(a.target),d=c.serializeObject(),e=new App.User;return e.url=api_url+"users/login.json",e.save(d,{success:function(a,d){if(authuser=d,_.isUndefined(d.access_token))$("input#inputPassword",c).val(""),"LDAP"===d.code?"ERROR_LDAP_AUTH_FAILED"===d.error?b.flash("danger",i18next.t("LDAP authentication failed.")):"ERROR_LDAP_SERVER_CONNECT_FAILED"===d.error?b.flash("danger",i18next.t("LDAP server connection failed.")):b.flash("danger",i18next.t("Email not associated for this LDAP account.")):is_offline_data?b.flash("danger",i18next.t("Sorry, login failed. Internet connection not available.")):b.flash("danger",i18next.t("Sorry, login failed. Either your username or password are incorrect or admin deactivated your account."));else{var e={};e.user={},e.access_token=d.access_token,e.refresh_token=d.refresh_token,e.user.id=d.user.id,e.user.is_productivity_beats=d.user.is_productivity_beats,e.user.initials=d.user.initials,e.user.profile_picture_path=d.user.profile_picture_path,e.user.role_id=d.user.role_id,e.user.username=d.user.username,e.user.full_name=d.user.full_name,e.board_id=d.board_id,e.user.notify_count=d.user.notify_count,e.user.unread_activity_id=d.user.unread_activity_id,e.user.last_activity_id=d.user.last_activity_id,e.user.language=d.user.language,e.user.is_ldap=d.user.is_ldap,window.sessionStorage.setItem("auth",JSON.stringify(e)),i18next.changeLanguage(d.user.language),
api_token=d.access_token;var f=JSON.parse(d.links);if(window.sessionStorage.setItem("links",d.links),role_links.reset(),_.isEmpty(f)||role_links.add(f),auth_user_organizations.add(authuser.user.organizations),b.changeFavicon(d.user.notify_count),this.headerView=new App.HeaderView({model:a}),$(".company").addClass("hide"),$("#header").html(this.headerView.el),_.isEmpty(window.sessionStorage.getItem("redirect_link")))window.location="#/boards";else{var g=window.sessionStorage.getItem("redirect_link");sessionStorage.removeItem("redirect_link"),window.location=g}}}}),!1},render:function(){return this.$el.html(this.template()),this.showTooltip(),this},changeFavicon:function(a){_.isUndefined(a)||"0"===a?favicon.badge(0):favicon.badge(a)}}),"undefined"==typeof App&&(App={}),App.ListView=Backbone.View.extend({tagName:"div",className:"col-lg-3 col-md-3 col-sm-4 col-xs-12 js-board-list list",converter:new showdown.Converter,initialize:function(){if(_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.sort_by=null,this.authuser=authuser.user,this.mov_boards=new App.BoardCollection,this.model.has("lists_subscribers")&&this.model.lists_subscribers.add(this.model.get("lists_subscribers"),{silent:!0}),this.model.has("list_attachments")&&this.model.attachments.add(this.model.attributes.list_attachments,{silent:!0}),_.isUndefined(this.model.collection)||(this.total_board_list=this.model.collection.board.attributes.lists,this.total_board_list_length=0,_.isEmpty(this.model.collection.board.attributes.lists)||(this.total_board_list_length=this.model.collection.board.attributes.lists.length),this.board=this.model.collection.board),this.model.has("board_activities")&&(this.board_activites=this.model.collection.board.get("board_activities")),_.bindAll(this,"render","renderCardsCollection","removeRender"),this.model.bind("change:name",this.render),_.isUndefined(this.model.collection)||(this.model.collection.board.labels.bind("add",this.renderCardsCollection),this.model.collection.board.attachments.bind("add",this.renderCardsCollection),this.model.collection.board.attachments.bind("remove",this.renderCardsCollection),this.model.collection.board.cards.bind("add",this.renderCardsCollection),this.model.collection.board.cards.bind("add:name",this.renderCardsCollection),this.model.collection.board.cards.bind("add:id",this.renderCardsCollection),this.model.collection.board.cards.bind("remove",this.renderCardsCollection),this.model.collection.board.cards.bind("change:position",this.renderCardsCollection),this.model.collection.board.cards.bind("change:is_archived",this.renderCardsCollection),this.model.collection.board.cards.bind("change:list_id",this.renderCardsCollection)),this.model.bind("remove",this.removeRender),!_.isUndefined(authuser.user)){var a=this.model.board_users.findWhere({user_id:parseInt(authuser.user.id)});_.isEmpty(a)||(this.model.board_user_role_id=a.attributes.board_user_role_id)}},template:JST["templates/list"],templateAdd:JST["templates/list_add"],events:{"submit form.js-edit-list":"editList","click .js-show-list-actions":"showListActions","click .js-close-popup":"closePopup","click .js-back-to-list-actions":"backToListActions","click .js-show-confirm-archive-list":"showConfirmArchiveList","click .js-archive-list":"archiveList","click .js-show-confirm-list-delete":"showConfirmListDelete","click .js-delete-list":"deleteList","click .js-show-copy-list-form":"showCopyListForm","click .js-show-move-list-form":"showMoveListForm","submit form.js-move-list":"moveList","click .js-list-subscribe":"listSubscribe","click .js-list-unsubscribe":"listUnsubscribe","click .js-show-move-card-list-form":"showMoveCardListForm","click .js-move-cards":"moveCards","click .js-show-confirm-archive-cards":"showConfirmArchiveCards","click .js-archive-card":"archiveCard","click .js-show-add-card-form":"showAddCardForm","click .js-sort-by":"sortBy","click .js-show-list-modal":"showListModal","click .js-no-action":"noAction","click .js-show-edit-list-form":"showListEditForm","submit form.js-cardAddForm":"addCard","keypress textarea":"onEnter","click .js-copy-from-existing-card":"copyFromExistingCard","keyup .js-card-add-search":"cardSearch","click .js-select-card":"selectCard","change .js-move-change-list":"moveChangeList","change .js-move-change-position":"moveChangePosition","change .js-change-list":"changeList","change .js-change-position":"changePosition","click .js-copy-existing-card":"copyExistingCard","click .js-hide-edit-list-form":"hideListEditForm",listSort:"listSort","keyup[n] .js-board-list":"keyboardShowAddCardForm"},listSort:function(a,b){var c=$(a.target),d=c.prev(".js-board-list").data("list_id"),e=c.next(".js-board-list").data("list_id");if("undefined"==typeof d&&"undefined"==typeof e&&(d=1,e=1),"undefined"!=typeof d)this.model.moveAfter(d);else if("undefined"!=typeof e)this.model.moveBefore(e);else if(1!=this.model.collection.length)throw"Unable to determine position";App.boards.get(this.model.attributes.board_id).lists.get(this.model.attributes.id).set("position",this.model.attributes.position),this.model.url=api_url+"boards/"+this.model.attributes.board_id+"/lists/"+this.model.attributes.id+".json";var f=this.model.attributes.id,g=this.model.attributes.position;this.model.save({position:this.model.attributes.position},{patch:!0,success:function(a,b){self.model.attributes.lists.forEach(function(a){a.id===parseInt(f)&&(a.position=g)})}})},drop:function(a,b){a.stopPropagation(),a.preventDefault();var c=a.originalEvent.dataTransfer.files;return this.processFiles(c,a.currentTarget.dataset.card_id),!1},dragover:function(a){a.stopPropagation(),a.preventDefault()},processFiles:function(a,b){_.each(a,function(a){this.processFile(a,b)},this)},processFile:function(a,b){var c=new FormData;c.append("attachment",a);var d=new App.CardAttachment;d.url=api_url+"boards/"+this.model.attributes.board_id+"/lists/"+this.model.attributes.id+"/cards/"+b+"/attachments.json",d.save(c,{type:"POST",data:c,processData:!1,cache:!1,contentType:!1})},editList:function(a){var b=this,c=b.model.id,d=$(".js-list-subscribed-"+c).hasClass("hide"),e=$(a.target).serializeObject();return e.name===b.model.attributes.name?($(a.target).addClass("hide").prev(".js-show-edit-list-form").removeClass("hide"),$("#js-show-list-actions-"+b.model.id+", #js-show-sort-form-"+b.model.id).removeClass("hide")):(b.model.url=api_url+"boards/"+this.model.attributes.board_id+"/lists/"+c+".json",b.model.save(e,{patch:!0,success:function(a,d){b.model.collection.board.attributes.lists.forEach(function(a){a.id===parseInt(c)&&(a.name=e.name)})}})),d?$(".js-list-subscribed-"+c).addClass("hide"):$(".js-list-subscribed-"+c).removeClass("hide"),!1},showListActions:function(a){$(".js-list-actions-response").remove(),$(a.currentTarget).after(new App.ListActionsView({model:this.model,subscribers:this.model.lists_subscribers,authuser:this.authuser}).el)},backToListActions:function(a){var b=$(a.target).parents().find(".js-show-list-actions").attr("data-list-id"),c=$(a.target).parents().find("#js-show-list-actions-"+b);$(".js-list-actions-response").remove();var d=new App.ListSubscriberCollection;return d.add(this.model.attributes.lists_subscribers),$(c).after(new App.ListActionsView({model:this.model,subscribers:d,authuser:this.authuser}).el),!1},closePopup:function(a){var b=$(a.target);return b.parents("li.dropdown:first, div.dropdown:first").removeClass("open"),!1},showConfirmArchiveList:function(a){return $(".js-list-actions-response").html(new App.ListArchiveConfirmView({model:this.model}).el),!1},archiveList:function(a){var b=this;b.$el.remove();var c=b.model.id;return this.model.set("is_archived",1),this.model.url=api_url+"boards/"+b.board.id+"/lists/"+c+".json",App.boards.get(this.model.attributes.board_id).lists.get(this.model.attributes.id).set("is_archived",1),this.model.save({is_archived:1},{patch:!0,success:function(a,d){b.board.attributes.lists.forEach(function(a,b){a.id===parseInt(c)&&(a.is_archived=1)}),b.board.activities.unshift(d.activity)}}),!1},showConfirmListDelete:function(a){return $(".js-list-actions-response").html(new App.ListDeleteConfirmView({model:this.model}).el),!1},deleteList:function(a){var b=this;b.$el.remove();var c=b.model.id,d=b.board.cards.where({list_id:b.model.attributes.id});return this.model.cards.remove(d,{silent:!0}),this.model.collection.board.cards.remove(d,{silent:!0}),this.model.collection.board.lists.remove(b.model),App.boards.get(b.model.attributes.board_id).lists.remove(b.model),this.board.lists.remove(b.model),this.model.url=api_url+"boards/"+b.board.id+"/lists/"+c+".json",this.model.destroy({success:function(a,d){b.board.attributes.lists.forEach(function(a,d){a.id===parseInt(c)&&b.board.attributes.lists.splice(d,1)}),b.board.activities.unshift(d.activity)}}),!1},showCopyListForm:function(a){return $(".js-list-actions-response").html(new App.CopyListView({model:this.model}).el),!1},showMoveListForm:function(a){return a.preventDefault(),$(".js-list-actions-response").html(new App.MoveListFromView({model:this.model,boards:App.boards,total_board_list_length:this.total_board_list_length}).el),!1},moveList:function(a){a.preventDefault();var b=this.model.id,c=(this.model.attributes,$(a.target).serializeObject()),d=parseInt(c.position);_.isEmpty(d)&&(d=$(a.target).find("#list_position").val());var e=parseInt(c.board_id);if(this.model.collection.sortByColumn("position"),e!==this.model.attributes.board_id){this.model.collection.remove({id:b}),this.$el.remove();var f=0,g=0;App.boards.get(e).lists.sortByColumn("position"),App.boards.get(e).lists.each(function(a){return f++,"undefined"!=typeof m?!1:void(d==f?(g=a.get("position"),1==d&&(m=a.get("id"))):0!==g?m=a.get("id"):l=a.get("id"))});var h,i=0;"undefined"!=typeof l?(i=App.boards.get(e).lists.get(l).get("position"),h=App.boards.get(e).lists.get(l).moveAfter(l),c.position=h.attributes.position,App.boards.get(e).lists.get(l).set("position",i)):"undefined"!=typeof m&&(i=App.boards.get(e).lists.get(m).get("position"),h=App.boards.get(e).lists.get(m).moveBefore(m),c.position=h.attributes.position,App.boards.get(e).lists.get(m).set("position",i)),h=App.boards.get(this.model.attributes.board_id).lists.get(b),h.attributes.board_id=e,h.attributes.position=c.position,App.boards.get(e).lists.add(h),App.boards.get(this.model.attributes.board_id).lists.remove(b)}else{var j=this.$el.index()+1;if(d!==j){$(".js-board-list").length===d||d>j?this.$el.insertAfter(".js-board-list:nth-child("+d+")"):this.$el.insertBefore(".js-board-list:nth-child("+d+")");var k=$(".js-board-list:nth-child("+d+")"),l=k.prev(".js-board-list").data("list_id"),m=k.next(".js-board-list").data("list_id");if("undefined"==typeof l&&"undefined"==typeof m&&(l=1,m=1),"undefined"!=typeof l)this.model.moveAfter(l);else if("undefined"!=typeof m)this.model.moveBefore(m);else if(1!=this.model.collection.length)throw"Unable to determine position"}else this.closePopup(a);var n=App.boards.get(this.model.attributes.board_id).lists.get(this.model.attributes.id);_.isUndefined(n)||n.set("position",this.model.attributes.position),c.position=this.model.attributes.position}return c.board_id=e,this.model.url=api_url+"boards/"+this.model.attributes.board_id+"/lists/"+b+".json",this.model.save(c,{patch:!0,success:function(a,d){self.model.attributes.lists.forEach(function(a){a.id===parseInt(b)&&(a.position=c.position)})}}),this.closePopup(a),!1},listSubscribe:function(a){var b=this.model.id,c=$(a.currentTarget).data("subscribe-id");$(a.currentTarget).removeClass("js-list-subscribe").addClass("js-list-unsubscribe"),$("i.icon-ok",a.currentTarget).removeClass("hide"),$(".js-subscribe-text",a.currentTarget).html(i18next.t("Subscribed")),$(".js-list-subscribed-"+b).removeClass("hide");var d=new App.ListSubscriber;if(d.set("user_id",parseInt(authuser.user.id)),d.set("is_subscribed",1),this.model.lists_subscribers.add(d),"undefined"==typeof c||"undefined"===c||""===c){d.url=api_url+"boards/"+this.model.attributes.board_id+"/lists/"+b+"/list_subscribers.json",d.save({is_subscribed:1}),_.isUndefined(this.model.attributes.lists_subscribers)||this.model.attributes.lists_subscribers.forEach(function(a){a.user_id===parseInt(authuser.user.id)&&(a.is_subscribed=1)})}else d.url=api_url+"boards/"+this.model.attributes.board_id+"/lists/"+b+"/list_subscribers/"+c+".json",d.save({id:parseInt(c),is_subscribed:1});return!1},listUnsubscribe:function(a){$(a.currentTarget).removeClass("js-list-unsubscribe").addClass("js-list-subscribe"),$("i.icon-ok",a.currentTarget).addClass("hide"),$(".js-subscribe-text",a.currentTarget).html(i18next.t("Subscribe"));var b=$(a.currentTarget).data("subscribe-id"),c=this.model.id;$(".js-list-subscribed-"+c).addClass("hide");var d=new App.ListSubscriber;return this.model.lists_subscribers.remove(this.model.lists_subscribers.findWhere({user_id:parseInt(authuser.user.id),is_subscribed:1})),"undefined"==typeof b||"undefined"===b||""===b?(d.url=api_url+"boards/"+this.model.attributes.board_id+"/lists/"+c+"/list_subscribers.json",d.save({is_subscribed:0}),_.isUndefined(this.model.attributes.lists_subscribers)||this.model.attributes.lists_subscribers.forEach(function(a){a.user_id===parseInt(authuser.user.id)&&(a.is_subscribed=0)})):(this.model.attributes.lists_subscribers.forEach(function(a){a.user_id===parseInt(authuser.user.id)&&(a.is_subscribed=0)}),d.url=api_url+"boards/"+this.model.attributes.board_id+"/lists/"+c+"/list_subscribers/"+b+".json",d.save({id:parseInt(b),is_subscribed:0})),!1},showMoveCardListForm:function(a){var b=(this.model.id,new App.ListCollection);b.add(this.model.collection.models);var c=b.where({is_archived:0});return this.$(".js-list-actions-response").html(new App.MoveCardsFromListView({filtered_lists:c,model:this.model}).el),!1},moveCards:function(a){$("li.dropdown").removeClass("open");var b=this.model.id,c=this,d=parseInt($(a.currentTarget).data("move-list-id")),e=this.model.collection.board.cards.where({list_id:b});this.model.cards.set(e);var f=($("#js-card-listing-"+d),1);_.each(e,function(a){var b={silent:!0};f===e.length&&(b.silent=!1),c.model.collection.board.cards.get(a.id).set({list_id:d},b),f++});var g=this.model.collection.board.attachments.where({list_id:this.model.id}),h=1;return _.each(g,function(a){var b={silent:!0};h===g.length&&(b.silent=!1),c.model.collection.board.attachments.get(a.id).set({list_id:d},b),h++}),this.model.id=b,this.model.url=api_url+"boards/"+this.board.id+"/lists/"+b+"/cards.json",this.model.save({list_id:d},{patch:!0}),!1},showConfirmArchiveCards:function(a){return $(".js-list-actions-response").html(new App.ListCardsArchiveConfirmView({model:this.model}).el),!1},archiveCard:function(a,b){this.closePopup(a);var c=this,d=this.model.id,e=this.model.collection.board.cards.where({list_id:d});_.each(e,function(a){c.model.collection.board.cards.get(a.attributes.id).set("is_archived",1,{silent:!0})}),this.renderCardsCollection();var f=new App.Card;return f.set("id",d),f.url=api_url+"boards/"+this.board.id+"/lists/"+d+"/cards.json",f.save({is_archived:1},{patch:!0}),!1},render:function(){return this.$el.html(this.template({list:this.model})),this.renderCardsCollection(),_.isUndefined(authuser.user)||_.isUndefined(authuser.user)||1!=authuser.user.role_id&&_.isEmpty(this.model.collection.board.acl_links.where({slug:"move_list_cards",board_user_role_id:parseInt(this.model.board_user_role_id)}))||$(".js-board-list-cards",this.$el).sortable({containment:"window",items:"div.js-board-list-card",connectWith:".js-board-list-cards",placeholder:"card-list-placeholder",appendTo:document.body,dropOnEmpty:!0,cursor:"grab",helper:"clone",tolerance:"pointer",scrollSensitivity:100,scrollSpeed:50,update:function(a,b){this===b.item.parent()[0]&&b.item.trigger("cardSort",a,b)},start:function(a,b){b.placeholder.height(b.item.outerHeight()),$(".js-show-modal-card-view ").removeClass("cur")},stop:function(a,b){$(".js-show-modal-card-view ").addClass("cur"),clearInterval(App.sortable.setintervalid_horizontal),clearInterval(App.sortable.setintervalid_vertical),App.sortable.is_create_setinterval_horizontal=!0,App.sortable.is_create_setinterval_vertical=!0,App.sortable.previous_offset_horizontal=0,App.sortable.previous_offset_vertical=0},over:function(a,b){$(b.placeholder).parents(".js-board-list-cards").attr("id")==App.sortable.previous_id&&clearInterval(App.sortable.setintervalid_horizontal);var c=0,d=Math.floor($(window).width()/270);0!==App.sortable.previous_offset_horizontal&&App.sortable.previous_offset_horizontal!=b.offset.left&&(App.sortable.previous_offset_horizontal>b.offset.left?App.sortable.is_moving_right=!1:App.sortable.is_moving_right=!0),App.sortable.previous_move_horizontal!==App.sortable.is_moving_right&&(clearInterval(App.sortable.setintervalid_horizontal),App.sortable.is_create_setinterval_horizontal=!0),App.sortable.is_moving_right===!0&&b.offset.left>230*(d-1)?App.sortable.is_create_setinterval_horizontal&&(App.sortable.setintervalid_horizontal=setInterval(function(){c=parseInt($("#js-board-lists").scrollLeft())+50,$("#js-board-lists").animate({scrollLeft:c},10)},100),App.sortable.is_create_setinterval_horizontal=!1):App.sortable.is_moving_right===!1&&b.offset.left<100*(d-1)&&App.sortable.is_create_setinterval_horizontal&&(App.sortable.setintervalid_horizontal=setInterval(function(){c=parseInt($("#js-board-lists").scrollLeft())-50,$("#js-board-lists").animate({scrollLeft:c},10)},100),App.sortable.is_create_setinterval_horizontal=!1),App.sortable.previous_offset_horizontal=b.offset.left,App.sortable.previous_move_horizontal=App.sortable.is_moving_right},sort:function(a,b){App.sortable.previous_id=$(b.placeholder).parents(".js-board-list-cards").attr("id");var c=0,d=0,e=$("#"+App.sortable.previous_id).height(),f=parseInt($("#js-board-lists").position().top)+parseInt($("#"+App.sortable.previous_id).position().top),g=parseInt(e)+parseInt(f);d=b.placeholder.height()>e?parseInt(b.placeholder.height())-parseInt(e):parseInt(e)-parseInt(b.placeholder.height());var h=parseInt($("#js-board-lists").position().top)+parseInt(b.placeholder.position().top)-d;0!==App.sortable.previous_offset_vertical&&(App.sortable.previous_offset_vertical>b.offset.top?App.sortable.is_moving_top=!1:App.sortable.is_moving_top=!0),App.sortable.previous_move_vertical!==App.sortable.is_moving_top&&(clearInterval(App.sortable.setintervalid_vertical),App.sortable.is_create_setinterval_vertical=!0),App.sortable.is_moving_top===!0&&(b.offset.top>g||h>0&&b.offset.top>h)?App.sortable.is_create_setinterval_vertical&&(App.sortable.setintervalid_vertical=setInterval(function(){c=parseInt($("#"+App.sortable.previous_id).scrollTop())+50,$("#"+App.sortable.previous_id).animate({scrollTop:c},50)},100),App.sortable.is_create_setinterval_vertical=!1):App.sortable.is_moving_top===!1&&b.offset.top<f-20&&App.sortable.is_create_setinterval_vertical&&(App.sortable.setintervalid_vertical=setInterval(function(){c=parseInt($("#"+App.sortable.previous_id).scrollTop())-50,$("#"+App.sortable.previous_id).animate({scrollTop:c},50)},100),App.sortable.is_create_setinterval_vertical=!1),App.sortable.previous_offset_vertical=b.offset.top,App.sortable.previous_move_vertical=App.sortable.is_moving_top}}),this.showTooltip(),this},renderListAdd:function(){return this.$el.html(this.templateAdd()),this},renderCardsCollection:function(){var a=this,b=this.$("#js-card-listing-"+this.model.id);if(b.html("&nbsp;"),this.model.cards.sortByColumn("position"),!_.isUndefined(this.model.collection)){var c=this.model.collection.board.cards.where({list_id:parseInt(this.model.id)}),d=new App.CardCollection;d.reset(c),this.model.cards.add(d.toJSON(),{silent:!0}),this.model.cards.sortByColumn("position"),d.sortByColumn("position"),d.each(function(c){var d=c.id;if(0===parseInt(c.get("is_archived"))){c.board_users=a.model.board_users;var e=a.model.labels.filter(function(a){return parseInt(a.get("card_id"))===parseInt(d)}),f=new App.CardLabelCollection;f.add(e,{silent:!0}),c.labels=f,c.card_voters.add(c.get("card_voters"),{silent:!0}),c.cards=a.model.collection.board.cards,c.list=a.model,c.board_activities.add(a.model.activities,{silent:!0}),filter_attachments=a.model.attachments.where({card_id:c.id}),c.attachments.add(filter_attachments,{silent:!0}),c.board=a.model.board;var g=new App.CardView({tagName:"div",model:c,converter:this.converter});b.append(g.render().el)}})}},showAddCardForm:function(a){a.preventDefault(),$(".js-cancel-card-add").trigger("click");var b=$(a.target),c=this.$el,d=this.$(".js-card-add-form-"+this.model.id);c.find(".js-show-add-card-form").addClass("hide"),b.parents(".dropdown").removeClass("open"),c.find("#cardAddForm").remove();var e=new App.Card;e.set("list_id",isNaN(this.model.id)?this.model.attributes.temp_id:this.model.id),e.set("board_id",this.model.get("board_id")),e.board_users=this.model.board_users,e.list=this.model,e.collection=this.model.cards;var f=new App.CardView({model:e,attributes:"",id:"js-list-card-add-form-"+this.model.id});return $("#js-list-card-add-form-"+this.model.id).remove(),b.hasClass("js-bottom")?d.append(f.renderAdd().el).find("textarea").focus():d.prepend(f.renderAdd().el).find("textarea").focus(),$("#js-card-listing-"+this.model.id).scrollTop($("#js-card-listing-"+this.model.id)[0].scrollHeight),!1},showListModal:function(a){var b=new App.ModalListView({model:this.model});return b.show(),!1},showListEditForm:function(a){return a.preventDefault(),this.closePopup(a),$(a.currentTarget).addClass("hide").next("form").removeClass("hide"),this.$("#js-show-list-actions-"+this.model.attributes.id+", #js-show-sort-form-"+this.model.attributes.id).addClass("hide"),!1},hideListEditForm:function(a){a.preventDefault();var b=$(a.currentTarget);return b.parents("form").addClass("hide").prev(".js-show-edit-list-form").removeClass("hide"),this.$("#js-show-list-actions-"+this.model.attributes.id+", #js-show-sort-form-"+this.model.attributes.id).removeClass("hide"),!1},addCard:function(a){if(!$.trim($("#AddCard").val()).length)return $(".error-msg").remove(),$('<div class="error-msg text-primary h6">Whitespace alone not allowed</div>').insertAfter("#AddCard"),!1;$(".error-msg").remove(),a.preventDefault();var b=this,c=$(a.target).serializeObject();$(".js-card-add-list").val(this.model.id),$(".js-card-user-ids").val(""),$(".js-card-add-labels").val(""),$(".js-card-add-position").val(""),c.uuid=(new Date).getTime(),c.list_id=parseInt(c.list_id),c.board_id=parseInt(c.board_id);var d=this.model.collection.board.cards.where({list_id:c.list_id}),e=new App.CardCollection;e.add(d),e.sortByColumn("position"),(void 0===c.position||""===c.position)&&(c.position=e.length+1),$(a.target).find("textarea").val("").focus();var f=$("#js-card-listing-"+c.list_id),g=new App.Card;g.set("is_offline",!0),g.url=api_url+"boards/"+b.model.attributes.board_id+"/lists/"+b.model.id+"/cards.json",g.set({name:c.name,is_archived:0,list_id:parseInt(c.list_id),board_id:parseInt(c.board_id),due_date:null,checklist_item_count:0,checklist_item_completed_count:0},{silent:!0}),g.board_users=b.model.board_users,g.list=b.model;var h=new App.CardView({tagName:"div",model:g,converter:this.converter}),i=f.find(".js-board-list-card:nth-child("+c.position+")"),j=f.find(".js-board-list-card:nth-child("+(c.position-1)+")"),k="",l="",m="",n="";0!==j.length?(k=e.get(parseInt(j.data("card_id"))),l=e.at(e.indexOf(k)+1),"undefined"==typeof l?afterPosition=k.position()+2:afterPosition=l.position(),m=(afterPosition-k.position())/2,n=m+k.position(),g.set({position:n}),c.position=n,j.after(h.render().el)):0!==i.length?(l=e.get(parseInt(i.data("card_id"))),k=e.at(e.indexOf(l)-1),"undefined"==typeof k?beforePosition=0:beforePosition=k.position(),"undefined"==typeof l?afterPosition=0:afterPosition=l.position(),m=(afterPosition-beforePosition)/2,n=m+beforePosition,g.set({position:n}),c.position=n,i.before(h.render().el)):(f.append(h.render().el),c.position=1),$("#js-card-listing-"+this.model.id).scrollTop($("#js-card-listing-"+this.model.id)[0].scrollHeight),g.save(c,{success:function(a,d,e){$(".js-lables-list").empty(),_.isUndefined(e.temp_id)&&g.set("is_offline",!1),g.board_activities.add(b.model.activities),!_.isUndefined(d.cards_users)&&d.cards_users.length>0&&(g.set("cards_users",d.cards_users),g.users.add(d.cards_users)),!_.isUndefined(d.cards_labels)&&d.cards_labels.length>0&&(b.board.labels.add(d.cards_labels,{silent:!0}),g.labels.add(d.cards_labels));var f=App.boards.get(g.attributes.board_id).lists.get(g.attributes.list_id);_.isUndefined(f)||f.set("card_count",f.attributes.card_count+1),!_.isUndefined(d.id)&&_.isUndefined(e.temp_id)?g.set({id:parseInt(d.id)}):(global_uuid[c.uuid]=e.temp_id,g.set("id",c.uuid)),b.model.collection.board.cards.add(g,{silent:!0}),b.model.cards.add(g,{silent:!0})}})},copyFromExistingCard:function(a){return a.preventDefault(),this.$el.find(".js-card-action-list-response").remove(),this.$el.find(".js-show-card-action-list").after(new App.CardCopyView({model:this.model}).el),!1},cardSearch:function(a){var b=this,c=$(a.currentTarget).val(),d=b.board.cards.search(c),e=new App.CardCollection;e.add(d._wrapped),e.each(function(a){b.$el.find(".js-card-add-search-response").html(new App.CardSearchResultView({model:a,attributes:{"data-card-id":a.id}}).el)})},selectCard:function(a){var b=this;return b.boards=new App.BoardCollection,b.boards.url=api_url+"users/"+authuser.user.id+"/boards.json?type=simple",b.boards.fetch({success:function(){b.$el.find(".js-show-card-action-list").next().remove();var c=$(a.currentTarget).attr("data-card-id"),d=b.board.cards.findWhere({id:parseInt(c)});b.$el.find(".js-show-card-action-list").after(new App.CopyFromExistingCardView({model:d,boards:b.boards}).el)}}),!1},moveChangeList:function(a){var b=$(a.currentTarget),c=this,d=parseInt(b.val()),e="";if(d==this.model.attributes.board_id)this.showMoveListForm(a);else{var f=App.boards.findWhere({id:parseInt(d),is_closed:0});f.lists.add(f.attributes.lists);for(var g=f.lists.where({is_archived:0,is_deleted:0}),h=this.model.collection.indexOf(this.model)+1,i=1;i<=g.length;i++)e+=c.model.attributes.board_id==f.attributes.id&&i==h?'<option value="'+i+'" selected="selected">'+i+i18next.t("(current)")+"</option>":'<option value="'+i+'">'+i+"</option>";if(c.model.attributes.board_id!=f.attributes.id){var j=parseInt(g.length)+1;e+='<option value="'+j+'">'+j+"</option>"}c.$el.find(".js-move-change-position").html(e)}},moveChangePosition:function(a){var b=$(a.currentTarget),c=this,d=b.val(),e=b.parent().prev().find(".js-change-list").val(),f="",g=App.boards.findWhere({id:parseInt(e)});if(!_.isUndefined(g)){for(var h=g.lists.findWhere({id:parseInt(d)}),i=this.model.collection.indexOf(this.model)+1,j=1;j<=h.attributes.card_count;j++)f+=c.model.attributes.list_id==h.attributes.id&&j==i?'<option value="'+c.model.attributes.position+'" selected="selected">'+c.model.attributes.position+i18next.t("(current)")+"</option>":'<option value="'+j+'">'+j+"</option>";if(this.model.attributes.list_id!=h.attributes.id){var k=parseInt(h.attributes.card_count)+1;f+='<option value="'+k+'">'+k+"</option>"}c.$el.find(".js-position").html(f)}},changeList:function(a){var b=$(a.currentTarget),c=this,d=b.val(),e="",f="",g=c.boards.findWhere({id:parseInt(d)});g.lists.add(g.attributes.lists);var h=!0;g.lists.each(function(a){if(c.model.attributes.list_id==c.model.attributes.id?(e+='<option value="'+a.id+'" selected="selected">'+a.attributes.name+i18next.t("(current)")+"</option>",h=!0):e+='<option value="'+a.id+'">'+a.attributes.name+"</option>",h){h=!1;for(var b=1;b<=a.attributes.card_count;b++)f+='<option value="'+b+'">'+b+"</option>"}}),c.$el.find(".js-change-position").html(e),c.$el.find(".js-position").html(f)},changePosition:function(a){var b=$(a.currentTarget),c=this,d=b.val(),e=b.parent().prev().find(".js-change-list").val(),f="",g=c.boards.findWhere({id:parseInt(e)});g.cards.add(g.attributes.cards);var h=g.cards.where({board_id:parseInt(e),list_id:parseInt(d)}),i=new App.CardCollection;i.add(h),i.each(function(a){f+='<option value="'+a.attributes.position+'">'+a.attributes.position+"</option>"}),""===f&&(f+='<option value="1">1</option>'),c.$el.find(".js-position").html(f)},copyExistingCard:function(a){var b=this;b.closePopup(a);var c=$(a.currentTarget).parents("form.js-copy-existing-card-form").serializeObject(),d=new App.Card;c.keep_attachments=1,c.keep_activities=1,c.keep_labels=1,c.keep_users=1,d.url=api_url+"boards/"+this.model.attributes.board_id+"/lists/"+this.model.attributes.id+"/cards/"+c.copied_card_id+"/copy.json",d.save(c,{patch:!0,success:function(e,f){var g=b.$el.find("#js-card-listing-"+b.model.id),h=new App.CardView({tagName:"div",model:d});h.hideAddCardFrom(a),g.append(h.render().el);var i=new App.Activity;i.set(f.activity);var j=new App.ActivityView({model:i}),k=$("#js-card-activities-"+c.copied_card_id);k.prepend(j.render().el).find(".timeago").timeago()}})},noAction:function(a){return a.preventDefault(),!1},removeRender:function(){this.$el.remove()},onEnter:function(a){if(13===a.which){a.preventDefault();var b=$(a.target).closest("form");if("cardAddForm"!==b.attr("name"))return!1;$("input[type=submit]",b).trigger("click")}},keyboardShowAddCardForm:function(a){$(".js-board-list .js-board-list-cards .js-board-list-card").hasClass("active")&&$(".active").parents(".js-board-list").find(".js-show-add-card-form").trigger("click")},sortBy:function(a){a.preventDefault();var b=this,c=$(a.target).data("sort-by"),d=b.model.cards.filter(function(a){return 0===parseInt(a.attributes.is_archived)}),e=!0,f="";if($("#js-card-listing-"+b.model.attributes.id).html("&nbsp;"),!_.isEmpty(d)){_.each(d,function(a){a.set("list_name",_.escape(b.model.attributes.name))});var g=new App.CardCollection;this.sort_by===c?(g.sortDirection="asc",this.sort_by="-"+c):(g.sortDirection="desc",this.sort_by=c),g.comparator=function(a){var b=""+a.get(c);if("name"===c||"list_name"===c)return b=b.toLowerCase(),b=b.split(""),b=_.map(b,function(a){return"desc"===g.sortDirection.toLowerCase()?String.fromCharCode(-a.charCodeAt(0)):String.fromCharCode(a.charCodeAt(0))});if("due_date"!==c)return"desc"===g.sortDirection?-a.get(c):a.get(c);if(null!==a.get("due_date")){var d=a.get("due_date").split(" ");return _.isUndefined(d[1])?_date=d[0]:_date=d[0]+"T"+d[1],sort_date=new Date(_date),"desc"===g.sortDirection?-sort_date.getTime():sort_date.getTime()}},g.reset(d);for(var h=0;h<g.models.length;h++){var i=g.models[h];e=!1,i.list_name=_.escape(b.model.attributes.name),i.list_id=b.model.attributes.id,i.board_users=b.model.board_users,filter_attachments=b.model.attachments.where({card_id:i.id}),i.attachments.add(filter_attachments,{silent:!0}),i.labels.add(i.attributes.card_labels,{silent:!0}),i.cards.add(b.model.cards,{silent:!0}),i.list=b.model,i.board_activities.add(b.model.activities,{silent:!0}),f=new App.CardView({tagName:"div",model:i,converter:b.converter}),$("#js-card-listing-"+b.model.attributes.id).append(f.render().el)}}e&&(f=new App.CardView({tagName:"div",className:"",model:null,converter:b.converter}),f.render())}}),"undefined"==typeof App&&(App={}),App.ActivityView=Backbone.View.extend({initialize:function(a){if(_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),_.bindAll(this,"render","undo","undo_all"),this.type=a.type,_.isUndefined(a.board)||(this.board=a.board),!_.isUndefined(authuser.user)&&!_.isUndefined(this.model.board_users)){var b=this.model.board_users.findWhere({user_id:parseInt(authuser.user.id)});_.isEmpty(b)||(this.model.board_user_role_id=b.attributes.board_user_role_id)}emojify.run()},converter:new showdown.Converter,template:JST["templates/activity"],tagName:"li",className:"btn-block col-xs-12 js-activity",events:{"click .js-undo":"undo","click .js-undo2":"undo_all","click .js-open-card-view":"triggerOpenModal"},triggerOpenModal:function(a){var b=$(a.target),c=b.data("card_id");return void 0===c||null===c||0===$("#js-card-"+c).length?!0:($("#js-card-"+c).trigger("click"),
!1)},render:function(){if(this.$el.html(this.template({activity:this.model,type:this.type,converter:this.converter,board:this.board})),!_.isEmpty(this.model)&&(this.$el.addClass("js-list-activity-"+this.model.attributes.id),0!==this.model.attributes.depth)){var a=parseInt(this.model.attributes.depth);this.$el.addClass("col-lg-offset-"+a)}return this.showTooltip(),this},undo:function(a){var b=this;return a.preventDefault(),this.model.url=api_url+"activities/undo/"+this.model.id+".json",this.model.save({},{patch:!0,success:function(a,c){if(_.isUndefined(c.undo.card))if(_.isUndefined(c.undo.list))_.isUndefined(c.undo.board)||(board.set(c.undo.board),_.each(c.undo.board,function(a,b){("id"===b||"user_id"===b)&&board.set(b,parseInt(a))}));else{var d=b.board.lists.findWhere({id:parseInt(c.undo.list.id)});d.set(c.undo.list),_.each(c.undo.list,function(a,b){("id"===b||"board_id"===b)&&d.set(b,parseInt(a))})}else{var e=b.board.cards.findWhere({id:parseInt(c.undo.card.id)});e.set(c.undo.card),_.each(c.undo.card,function(a,b){("id"===b||"list_id"===b||"board_id"===b)&&e.set(b,parseInt(a));var d=new App.Activity;d.set(c.activity),e.activities.unshift(d)});var f=this.$("#js-card-activities-"+c.undo.card.id);f.html(""),_.isEmpty(e.activities)||e.activities.each(function(a){$("#js-loader-img").removeClass("hide"),_.isEmpty(b.model.collection)||a.cards.add(b.model.collection.models),_.isUndefined(c.undo.update_card_comment)||a.attributes.id==c.undo.update_card_comment&&(a.attributes.comment=c.undo.card.comment);var d=new App.ActivityView({model:a,board:b.board});f.append(d.render().el).find(".timeago").timeago(),emojify.run(),$("#js-loader-img").addClass("hide")})}return!1}}),!1},undo_all:function(a){a.preventDefault();var b=this;return this.model.url=api_url+"activities/undo/"+this.model.id+".json",this.model.save({},{patch:!0,success:function(a,c){if(b.flash("danger",i18next.t("Undo Succeed")),_.isUndefined(c.undo.card))if(_.isUndefined(c.undo.list))if(_.isUndefined(c.undo.board))if(_.isUndefined(c.undo.checklist)){if(!_.isUndefined(c.undo.checklist_item)){var d=b.board.checklist_items.findWhere({id:parseInt(c.undo.checklist_item.id)});d.set(c.undo.checklist_item)}}else{var e=b.board.checklists.findWhere({id:parseInt(c.undo.checklist.id)});e.set(c.undo.checklist)}else b.board.set(c.undo.board),_.each(c.undo.board,function(a,c){("id"===c||"user_id"===c)&&b.board.set(c,parseInt(a))});else{var f=b.board.lists.findWhere({id:parseInt(c.undo.list.id)});_.isUndefined(c.undo.list.is_archived)||(c.undo.list.is_archived="f"==c.undo.list.is_archived?0:1),f.set(c.undo.list),_.each(c.undo.list,function(a,b){("id"===b||"board_id"===b)&&f.set(b,parseInt(a))})}else{var g=b.board.cards.findWhere({id:parseInt(c.undo.card.id)});g.set(c.undo.card),_.each(c.undo.card,function(a,b){("id"===b||"list_id"===b||"board_id"===b)&&g.set(b,parseInt(a));var d=new App.Activity;d.set(c.activity),_.isUndefined(g.activities)||g.activities.unshift(d)});var h=this.$("#js-card-activities-"+c.undo.card.id);h.html(""),_.isEmpty(g.activities)||g.activities.each(function(a){$("#js-loader-img").removeClass("hide"),_.isEmpty(b.model.collection)||a.cards.add(b.model.collection.models),_.isUndefined(c.undo.update_card_comment)||a.attributes.id==c.undo.update_card_comment&&(a.attributes.comment=c.undo.card.comment);var d=new App.ActivityView({model:a,board:b.board});h.append(d.render().el).find(".timeago").timeago(),emojify.run(),$("#js-loader-img").addClass("hide")})}return!1}}),!1}}),"undefined"==typeof App&&(App={}),App.BoardView=Backbone.View.extend({tagName:"section",className:"clearfix",id:"boards-view",initialize:function(){_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage);if(this.authuser=authuser.user,_.isUndefined(window.sessionStorage.getItem("music_play"))&&window.sessionStorage.setItem("music_play","1"),this.model.attachments.add(this.model.get("attachments")),_.bindAll(this,"render","renderListsCollection","renderActivitiesCollection","setBoardBackground","populateChecklistItems"),this.model.bind("change:name change:is_closed",this.render),this.model.bind("change:board_visibility",this.render),this.model.bind("change:background_color change:background_picture_url change:background_pattern_url",this.setBoardBackground),this.model.bind("change:music_content",this.musical),this.model.labels.bind("remove",this.renderListsCollection),this.model.lists.bind("add",this.renderListsCollection),this.model.lists.bind("change:name",this.renderListsCollection),this.model.lists.bind("change:position",this.renderListsCollection),this.model.lists.bind("change:is_archived",this.renderListsCollection,this),this.model.lists.bind("change:comment_count",this.renderListsCollection,this),this.model.activities.bind("add",this.renderActivitiesCollection),this.model.checklists.bind("add",this.populateChecklistItems),this.model.board_users.bind("add",this.render),this.model.board_users.bind("remove",this.render),this.model.board_users.bind("change",this.render),_.isUndefined(App.music)||(App.music.inst=new Instrument),void 0!==this.model.attributes.music_content&&""!==this.model.attributes.music_content&&(App.music.music_content=this.model.attributes.music_content,App.music.music_name=this.model.attributes.music_name),this.populateLists(),this.populateCards(),this.populateChecklists(),this.populateChecklistItems(),this.populateLabels(),this.populateActivities(),this.populateUsers(),this.populateCustomAttachments(),this.populateAttachments(),this.populateSubscribers(),this.populateStars(),this.populateAclLinks(),!_.isUndefined(authuser.user)){var a=this.model.board_users.findWhere({user_id:parseInt(authuser.user.id)});_.isEmpty(a)||(this.model.board_user_role_id=a.attributes.board_user_role_id)}this.render()},populateAclLinks:function(){var a=this.model.get("acl_links")||[];this.model.acl_links.reset(a,{silent:!0})},populateLists:function(){var a=this.model.get("lists")||[];this.model.lists.reset(a,{silent:!0})},populateActivities:function(){var a=this.model.get("activities")||[];this.model.activities.reset(a,{silent:!0})},populateUsers:function(){var a=this.model.get("boards_users")||[];this.model.board_users.reset(a,{silent:!0})},populateCustomAttachments:function(){var a=this.model.get("custom_backgrounds")||[];this.model.custom_attachments.reset(a,{silent:!0})},populateAttachments:function(){var a=this.model.get("attachments")||[];this.model.attachments.reset(a,{silent:!0})},populateSubscribers:function(){var a=this.model.get("boards_subscribers")||[];this.model.board_subscribers.add(a,{silent:!0})},populateStars:function(){var a=this.model.get("boards_stars")||[];this.model.board_stars.add(a,{silent:!0})},populateCards:function(){var a=this;a.model.lists.each(function(b){var c=b.get("cards")||[];_.isEmpty(c)||a.model.cards.add(c,{silent:!0})})},populateChecklists:function(){var a=this;a.model.cards.each(function(b){var c=b.get("cards_checklists")||[];_.isEmpty(c)||a.model.checklists.add(c,{silent:!0})})},populateChecklistItems:function(){var a=this;a.model.checklists.each(function(b){var c=b.get("checklists_items")||[];_.isEmpty(c)||a.model.checklist_items.add(c,{silent:!0})})},populateLabels:function(){var a=this;a.model.cards.each(function(b){var c=b.get("cards_labels")||[];_.isEmpty(c)||$.each(c,function(b,c){if(a.model.labels.where({board_id:c.board_id,card_id:c.card_id,label_id:c.label_id,list_id:c.list_id}).length<=0){var d=new App.Label;d.set(c),a.model.labels.push(d)}})})},events:{"click .js-close-popover":"closePopup","click .js-close-sub-popover":"closeSubPopup","click .js-board-visibility":"showBoardVisibility","click .js-subscribe-board":"subcribeBoard","click .js-star-board":"starredBoard","click .js-close-board":"closeBoard","submit #BoardReopenForm":"reopenBoard","click .js-change-visibility":"showAllVisibility","click .js-select":"copyBoardVisibility","click .js-hide-sidebar":"hideSidebar","click .js-show-sidebar-menu":"showSidebarMenu","click .js-hide-sidebar-menu":"hideSidebarMenu","click .js-show-board-member-permission-form":"showBoardMemberPermissionForm","click .js-edit-board-member-permission-to-admin":"editBoardMemberPermissionToAdmin","click .js-edit-board-member-permission-to-normal":"editBoardMemberPermissionToNormal","click #js-add-board-member":"addBoardMember","click .js-board-user-activity":"showMemberActivities","change .js-add-custom-background":"addCustomBackground","click .js-show-board-modal":"showListModal","click #js-select-google-sync-url":"selectGoogleSyncUrl","keyup .js-search-archived-cards":"searchArchivedCards","keyup .js-search-archived-lists":"searchArchivedLists","click .js-board-commenting-permissions":"showCBoardCommentingPermissions","click .js-select-commenting-permission":"selectCommentingPermission","click .js-show-board-member-remove-form":"showBoardMemberRemoveForm","click .js-show-add-list-form":"showAddListForm","click .js-hide-add-list-form":"hideAddListForm","submit form.js-add-list":"addList","click .js-syn-google-calendar":"syncGoogleCalendar","click .js-open-dropdown":"openDropdown","click .js-sync-google-dropdown":"syncGoogleDropdown"},template:JST["templates/board"],openDropdown:function(a){return a.preventDefault(),$(a.currentTarget).addClass("open"),!1},syncGoogleDropdown:function(a){return a.preventDefault(),$(".js-sync-google-dropdown").addClass("open"),!1},closePopup:function(a){var b=this.$el,c=b.find(a.target);return c.parents("div.dropdown").removeClass("open"),!1},closeSubPopup:function(a){var b=this.$el,c=b.find(a.target);return c.parents("li.dropdown").removeClass("open"),!1},showBoardVisibility:function(a){var b=$(a.target),c=b.parents(".js-visibility-list-dropdown"),d=this.model.attributes.board_visibility;return $(".js-visibility-list",c).html(new App.ShowBoardVisibilityView({model:d}).el),c.addClass("open"),!1},subcribeBoard:function(a){a.preventDefault();var b=$(a.currentTarget).attr("name"),c="unsubscribe",d='<i class="icon-eye-close"></i>'+i18next.t("Unsubscribe");"unsubscribe"==b&&(c="subscribe",d='<i class="icon-eye-open"></i>'+i18next.t("Subscribe")),$(a.currentTarget).attr("name",c),$(a.currentTarget).attr("title",c),$(a.currentTarget).html(d);var e=new App.BoardSubscriber;if(!_.isEmpty(this.model.board_subscriber)&&this.model.board_subscriber.attributes.id){c="","false"==$("#inputBoardSubscribe").val()?(c="true",$("#inputBoardSubscribe").val(c)):(c="false",$("#inputBoardSubscribe").val(c));var f=$("form#BoardSubscribeForm").serializeObject();e.url=api_url+"boards/"+this.model.board.board_id+"/board_subscribers/"+this.model.subscriber.attributes.id+".json",e.set("id",this.model.subscriber.attributes.id),e.save(f,{success:function(a,b){}})}else{var g={},h=this;e.url=api_url+"boards/"+this.model.id+"/board_subscribers.json",e.save(g,{success:function(a,b){h.model.board_subscribers.add(b)}})}return!1},starredBoard:function(a){a.preventDefault(),$(".js-star-board").addClass("hide"),$(".js-star-load").removeClass("hide");var b=$(a.currentTarget).attr("name"),c="unstar",d=1,e='<i class="icon-star text-primary"></i>';"unstar"==b&&(c="star",d=0,e='<i class="icon-star-empty"></i>'),$(a.currentTarget).attr("name",c),$(".js-star-load").addClass("hide"),$(".js-star-board").removeClass("hide"),$(a.currentTarget).html(e);var f=new App.BoardStar;if(!_.isEmpty(this.model.board_star)&&this.model.board_star.attributes.id){c="","false"==$("#inputBoardStar").val()?(c="true",d=1,$("#inputBoardStar").val(c)):(c="false",d=0,$("#inputBoardStar").val(c));var g=$("form#BoardStarForm").serializeObject();f.url=api_url+"boards/"+this.model.board.board_id+"/boards_stars/"+this.model.star.attributes.id+".json",f.set("id",this.model.star.attributes.id),f.save(g,{success:function(a,b){App.boards.get(i.model.attributes.id).boards_stars.get(parseInt(b.id)).set("is_starred",d)}})}else{var h={},i=this;f.url=api_url+"boards/"+this.model.id+"/boards_stars.json",f.set("board_id",this.model.attributes.id),f.set("user_id",parseInt(authuser.user.id)),f.set("is_starred",d),f.save(h,{success:function(a,b){f.set("id",parseInt(b.id)),App.boards.get(i.model.attributes.id).boards_stars.reset(f),i.model.boards_stars.add(b),i.footerView=new App.FooterView({model:authuser,board_id:i.model.attributes.id}).renderStarredBoards()}})}return!1},closeBoard:function(a){return a.preventDefault(),this.model.url=api_url+"boards/"+this.model.id+".json",App.boards.get(this.model.id).set("is_closed",1),this.model.set("is_closed",1),this.footerView=new App.FooterView({model:authuser,board_id:this.model.id}).renderClosedBoards(),this.model.save({is_closed:1},{patch:!0,success:function(a,b){}}),!1},reopenBoard:function(a){$(a.target).serializeObject();return this.model.url=api_url+"boards/"+this.model.id+".json",this.model.set("is_closed",0),this.model.save({is_closed:0},{patch:!0,success:function(a,b){}}),!1},showAllVisibility:function(){$(".js-visibility-container").html("");var a=$("#inputBoardVisibility").val();return $(".js-visibility-chooser").html(new App.ShowAllVisibilityView({model:a}).el),!1},copyBoardVisibility:function(a){a.preventDefault();var b=$(a.currentTarget).attr("name"),c=0;return"org"==b?c=1:"public"==b&&(c=2),$("#inputBoardVisibility").val(c),$(".js-visibility-container").html(new App.CopyBoardVisibilityView({name:b}).el),$(".js-visibility-chooser").html(""),!1},hideSidebar:function(){var a=this.$el;return a.find(".side-bar").addClass("disabled"),!1},showSidebarMenu:function(a){var b=this.$el;b.find(".js-sidebar-menu-container").removeClass("hide"),b.find(".js-sidebar-menu").addClass("js-hide-sidebar-menu").removeClass("js-show-sidebar-menu")},hideSidebarMenu:function(a){var b=this.$el;b.find(".js-sidebar-menu-container").addClass("hide"),b.find(".js-sidebar-menu").addClass("js-show-sidebar-menu").removeClass("js-hide-sidebar-menu")},showBoardMemberPermissionForm:function(a){var b=$(a.currentTarget),c=b.data("board_user_id");return $(".js-board-member-settings").html(new App.showBoardMemberPermissionFormView({board_user_id:c}).el),$(".js-board-member-profile").addClass("hide"),!1},editBoardMemberPermissionToAdmin:function(a){var b=$(a.currentTarget),c=b.data("board_user_id");$(".js-board-member-settings").html(new App.EditBoardMemberPermissionToAdmin({board_user_id:c}).el),$(".js-board-member-profile").removeClass("hide");var d=new App.BoardUsers;return d.url=api_url+"boards_users/"+c+".json",d.set("id",c),d.save(),!1},editBoardMemberPermissionToNormal:function(a){var b=$(a.currentTarget),c=b.data("board_user_id");$(".js-board-member-settings").html(new App.EditBoardMemberPermissionToNormal({board_user_id:c}).el),$(".js-board-member-profile").removeClass("hide");var d=new App.BoardUsers;return d.url=api_url+"boards_users/"+c+".json",d.set("id",c),d.save(),!1},showMemberActivities:function(){return $(".js-board-member-settings").html(new App.BoardUserActivityView({model:this.model}).el),$(".js-board-member-profile").addClass("hide"),!1},showChangeBackground:function(){$(".js-side-bar-"+this.model.id).addClass("side-bar-large");var a=this.$el;a.find(".js-setting-response").html(new App.BoardBackgroundView({model:this.model}).el);var b=this;return _(function(){Backbone.TemplateManager.baseUrl="{name}";var a=new Backbone.UploadManager({uploadUrl:api_url+"boards/"+b.model.id+"/custom_backgrounds.json?token="+api_token,autoUpload:!0,dropZone:$("#dropzone"),singleFileUploads:!0,formData:$("form.js-user-profile-edit").serialize(),fileUploadHTML:'<input id="fileupload1" type="file" name="attachment"  >'});a.on("fileadd",function(a){$("#dropzone").addClass("cssloader")}),a.on("filedone",function(a,b){$("#dropzone").removeClass("cssloader")}),a.renderTo($("#manager-area"))}).defer(),!1},musical:function(){self=this,App.music.inst.silence();var a=new App.MusicRepeatView;a.continueMusic()},render:function(){var a=this;if($("body").addClass("modal-open"),$("#header").html(new App.BoardHeaderView({model:this.model}).el),this.musical(),changeTitle("Board - "+_.escape(this.model.attributes.name)),_.isUndefined(this.authuser)||(this.model.board_subscriber=this.model.board_subscribers.findWhere({user_id:parseInt(this.authuser.id)}),this.model.board_star=this.model.board_stars.findWhere({user_id:parseInt(this.authuser.id)})),this.$el.html(this.template({board:this.model,subscriber:this.model.board_subscriber,star:this.model.board_star})),this.renderListsCollection(),this.setBoardBackground(),!_.isUndefined(authuser.user)){var b="",c="",d=0,e="",f=!0;$("#js-board-lists",this.$el).sortable({containment:"window",axis:"x",items:"div.js-board-list",placeholder:"col-lg-3 col-md-3 col-sm-4 col-xs-12 board-list-placeholder list ",forcePlaceholderSize:!0,cursor:"grab",scrollSensitivity:100,scrollSpeed:50,handle:".js-list-head",tolerance:"pointer",update:function(a,b){b.item.trigger("listSort",a,b)},start:function(a,b){b.placeholder.height(b.item.outerHeight()),$(a.target).find(".js-list-head").removeClass("cur-grab"),$(a.target).find(".js-list-head").children("div.dropdown").removeClass("open")},stop:function(a,c){clearInterval(b),f=!0,d=0,$(a.target).find(".js-list-head").addClass("cur-grab")},over:function(a,g){var h=0,i=Math.floor($(window).width()/270);0!==d&&d!=g.offset.left&&(c=d>g.offset.left?!1:!0),e!==c&&(clearInterval(b),f=!0),c===!0&&g.offset.left>270*(i-1)?f&&(b=setInterval(function(){h=parseInt($("#js-board-lists").scrollLeft())+50,$("#js-board-lists").animate({scrollLeft:h},10)},100),f=!1):c===!1&&g.offset.left<50&&f&&(b=setInterval(function(){h=parseInt($("#js-board-lists").scrollLeft())-50,$("#js-board-lists").animate({scrollLeft:h},10)},100),f=!1),d=g.offset.left,e=c}})}if($("a.js-switch-grid-view").parent().addClass("active"),!_.isUndefined(authuser.user)&&0!==parseInt(a.model.attributes.id)){var g=new App.FooterView({model:authuser,board_id:a.model.attributes.id,board:a.model});clearInterval(set_interval_id),set_interval_id=setInterval(function(){g.userActivities(!0,1)},1e4)}return a.board_view_height(),this.showTooltip(),this},renderListsCollection:function(){App.sortable={},App.sortable.setintervalid_horizontal="",App.sortable.setintervalid_vertical="",App.sortable.is_moving_right="",App.sortable.is_moving_top="",App.sortable.previous_offset_horizontal=0,App.sortable.previous_offset_vertical=0,App.sortable.previous_move_horizontal="",App.sortable.previous_move_vertical="",App.sortable.is_create_setinterval_horizontal=!0,App.sortable.is_create_setinterval_vertical=!0,App.sortable.previous_id="";var a=this,b=a.$("#js-add-list-block");$(".js-board-list").remove();var c=this.model.lists.max(function(a){return a.get("position")}),d=1;_.isObject(c)&&(d+=c.get("position")),a.model.lists.sortByColumn("position"),a.model.lists.each(function(c){c.board_users=a.model.board_users,c.labels=a.model.labels,_.map(c.get("lists_cards"),function(b){_.map(b.card_labels,function(b){var c={id:b.label_id,name:b.label_name},d=_.matches(c);_.isEmpty(_.filter(a.model.labels,d))&&a.model.labels.push(c,{silent:!0})})});var d;if(_.isUndefined(c.get("is_new"))||c.get("is_new")!==!0){if(0===parseInt(c.get("is_archived"))){var e=new App.ListSubscriberCollection;if(e.add(c.get("lists_subscribers"),{silent:!0}),!_.isUndefined(a.authuser)){var f=e.findWhere({user_id:parseInt(a.authuser.id)});_.isUndefined(f)||c.subscriber.set(f.attributes,{silent:!0})}c.activities.add(a.model.activities,{silent:!0}),c.attachments=a.model.attachments,c.board_user_role_id=a.model.board_user_role_id,c.board=a.model,d=new App.ListView({model:c,attributes:{"data-list_id":c.attributes.id}}),b.length>0?b.before(d.render().el):a.$("#js-board-lists").append(d.render().el)}}else c.set("board_id",a.model.id)}),_.defer(function(b){if(!_.isUndefined(card_ids)&&null!==card_ids&&""!==card_ids){trigger_dockmodal=!0;for(var c=card_ids.split(","),d=0;d<c.length;d++){var e=$("#js-card-"+c[d]);if(0===e.length){var f=a.model.cards.findWhere({id:parseInt(c[d])});_.isUndefined(f)||(f.list=a.model.lists.findWhere({id:f.attributes.list_id}),new App.CardView({model:f}).showCardModal())}else e.trigger("click")}card_ids=null,trigger_dockmodal=!1}},this)},renderActivitiesCollection:function(){var a=this;this.$("#js-board-activities");this.model.activities.sortBy(),this.model.activities.each(function(b){b.set("board_name",_.escape(a.model.attributes.name)),b.cards.add(a.model.cards),b.lists.add(a.model.lists),b.boards.add(a.model.attributes.lists);new App.ActivityView({model:b})})},setBoardBackground:function(){var a=this.model.attributes.background_color,b=this.model.attributes.background_picture_url,c=this.model.attributes.background_pattern_url;_.isEmpty(b)||"NULL"==b?_.isEmpty(c)||"NULL"==c?_.isEmpty(a)||"NULL"==a?$("body").css({background:""}).addClass("board-view"):$("body").css({background:a}).addClass("board-view"):(c=c.replace("_XXXX.jpg","_s.jpg"),$("body").css({background:"url("+c+")"}).addClass("board-view board-view-pattern")):(b=b.replace("_XXXX.jpg","_b.jpg"),$("body").css({background:"url("+b+") 25% 25% no-repeat fixed","background-size":"cover"}).addClass("board-view"))},addCustomBackground:function(a){var b=this,c=$("form.js-add-custom-background-form"),d=($(a.target),new App.CardAttachment);d.url=api_url+"boards/"+b.model.id+"/custom_backgrounds.json",d.save({},{data:{},files:$("input.js-add-custom-background",c),iframe:!0,success:function(a,c){b.model.custom_attachments.push(d),$(".js-board-background-custom-lists").append(new App.BoardCustomBackgroundView({attributes:{"data-background":a.attributes.custom_attachments.path},model:d}).el)}})},changeCustomBackground:function(a){var b=$(a.currentTarget).data("background");return $("body").removeAttr("style").css({background:"url("+b+") left top","background-size":"cover"}).addClass("board-view-pattern board-view"),this.model.url=api_url+"boards/"+this.model.id+".json",this.model.set("custom_background_url",b),this.model.set("background_pattern_url",""),this.model.set("background_picture_url",""),this.model.set("background_color",""),data={background_color:"NULL",background_picture_url:"NULL",background_pattern_url:b},this.model.save(data,{patch:!0}),!1},showListModal:function(a){var b=new App.ModalBoardView({model:this.model});return b.show(),!1},showAddListForm:function(a){a.preventDefault();var b=$(a.target);b.addClass("hide").next(".js-add-list").removeClass("hide").find("#inputListName").focus()},hideAddListForm:function(a){a.preventDefault();var b=$(a.target);return b.parents("form").addClass("hide").prev(".js-show-add-list-form").removeClass("hide"),!1},addList:function(a){a.preventDefault();var b=this,c=this.$el,d=$(a.target),e=(c.find("#js-board-lists"),d.serializeObject());d[0].reset(),d.parents(".dropdown").removeClass("open"),d.prev().prev(".js-show-add-list-form").removeClass("hide").addClass("toggle-show").next(".js-show-list-actions").removeClass("hide");var f=new App.List;e.uuid=(new Date).getTime(),f.set("uuid",e.uuid);var g=b.model.lists.max(function(a){return _.isUndefined(a)?1:a.get("position")});if(_.isUndefined(e.position))e.position=_.isUndefined(g)||_.isEmpty(g)?1:g.get("position")+1;else{var h=this.model.lists.get(e.clone_list_id),i=this.model.lists.next(h);"undefined"==typeof i?afterPosition=h.position()+2:afterPosition=i.position();var j=(afterPosition-h.position())/2,k=j+h.position();e.position=k}e.is_archived=0,e.board_id=b.model.id;var l="";return _.isUndefined(e.clone_list_id)||(f.set(e,{silent:!0}),f.board=b.model,l=new App.ListView({model:f,attributes:{"data-list_id":f.attributes.id}}),$(l.render().el).insertAfter($(a.target).parents(".js-board-list"))),f.url=api_url+"boards/"+b.model.id+"/lists.json",f.save(e,{success:function(c,d,g){if(null!==b.model.attributes.lists&&b.model.attributes.lists.push(f),_.isUndefined(e.clone_list_id))f.set("lists_cards",[]);else{!_.isUndefined(d.list.labels)&&d.list.labels.length>0&&(b.model.labels.add(d.list.labels,{silent:!0}),f.labels.add(d.list.labels,{silent:!0})),!_.isUndefined(d.list.activities)&&d.list.activities.length>0&&(b.model.activities.add(d.list.activities,{silent:!0}),f.activities.add(d.list.activities,{silent:!0})),f.set(d.list),f.set("cards",d.list.cards),b.model.cards.add(d.list.cards,{silent:!0});var h=1;_.each(d.list.attachments,function(a){var c={silent:!0};h===d.list.attachments.length&&(c.silent=!1);var e=new App.CardAttachment;e.set(a),e.set("id",parseInt(a.id)),e.set("board_id",parseInt(a.board_id)),e.set("list_id",parseInt(a.list_id)),e.set("card_id",parseInt(a.card_id)),b.model.cards.get(parseInt(a.card_id)).attachments.add(e,c),b.model.attachments.add(e,{silent:!0}),f.attachments.add(e,{silent:!0}),h++});var i=1;_.each(d.list.checklists,function(a){var c={silent:!0};i===d.list.checklists.length&&(c.silent=!1);var e=new App.CheckList;e.set(a),e.set("card_id",parseInt(a.card_id)),e.set("checklist_item_completed_count",parseInt(a.checklist_item_completed_count)),e.set("checklist_item_count",parseInt(a.checklist_item_count));var f=1;_.each(d.list.checklists_items,function(a){var c={silent:!0};f===d.list.checklists_items.length&&(c.silent=!1);var g=new App.CheckListItem;g.set(a),g.set("card_id",parseInt(a.card_id)),g.set("checklist_id",parseInt(a.checklist_id)),g.set("id",parseInt(a.id)),g.set("position",a.position),g.set("user_id",parseInt(a.user_id)),e.checklist_items.set(g),b.model.checklist_items.add(g,c),f++}),b.model.checklists.add(e,c),i++})}_.isUndefined(g.temp_id)?f.set("id",parseInt(d.id)):(global_uuid[e.uuid]=g.temp_id,f.set("id",e.uuid)),f.set("board_id",b.model.id),f.set("is_archived",0),b.model.lists.add(f,{silent:!0}),f=b.model.lists.findWhere({uuid:e.uuid}),App.boards.get(f.attributes.board_id).lists.add(f),f.board_users=b.model.board_users,_.isUndefined(e.clone_list_id)?(f.board=b.model,l=new App.ListView({model:f,attributes:{"data-list_id":f.attributes.id}}),$(l.render().el).insertBefore($("#js-add-list-block"))):$(l.render().el).insertAfter($(a.target).parents(".js-board-list"))}}),!1},syncGoogleCalendar:function(a){a.preventDefault(),this.$el.find("input.js-syn-calendar-response").val(this.model.attributes.google_syn_url)},selectGoogleSyncUrl:function(a){$(a.target).select()},searchArchivedCards:function(a){var b=this,c=this.$el,d=$(a.currentTarget).val(),e=b.model.cards.search(d),f=new App.CardCollection;_.isEmpty(d)?f=b.model.cards:f.add(e._wrapped),c.find(".js-archived-cards-container").html(""),f.each(function(a){1===a.attributes.is_archived&&c.find(".js-archived-cards-container").append(new App.ArchivedCardView({model:a}).el)})},searchArchivedLists:function(a){var b=this,c=this.$el,d=$(a.currentTarget).val(),e=this.model.lists.search(d),f=new App.ListCollection;_.isEmpty(d)?f=b.model.lists:f.add(e._wrapped),c.find(".js-archived-cards-container").html(""),f.each(function(a){1===a.attributes.is_archived&&c.find(".js-archived-cards-container").append(new App.ArchivedListView({model:a}).el)})},closeSpanPopover:function(a){var b=this.$el,c=b.find(a.target);return c.parents("span.dropdown").removeClass("open"),!1},showBoardMemberRemoveForm:function(a){a.preventDefault()},showChatHistoryModal:function(a){var b=new App.ModalChatHistoryView({model:this.model});return b.show(),!1}}),"undefined"==typeof App&&(App={}),App.HeaderView=Backbone.View.extend({template:JST["templates/header"],events:{"click .js-close-popover":"closePopup","click .js-open-popover":"openPopup","click .js-star-board":"sidebarSubcribeBoard","click .js-show-change-avatar-form":"showChangeAvatarForm","click .js-sort-by":"sortBy"},initialize:function(a){if(a.users&&(this.users=a.users),_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),!_.isUndefined(this.users)){var b=this.users.filter(function(a){return 1===a.attributes.role_id}),c=b;this.admin_board_users=c.length;var d=this.users.filter(function(a){return 1!==a.attributes.role_id}),e=d;this.normal_board_users=e.length}this.render()},render:function(){this.model.is_show_enable_notification=!1;var a=Backbone.history.fragment.split("?");0===a[0].indexOf("/")&&(a[0]=a[0].substr(1));var b=a[0].split("/");return this.model.current_param=-1===a.indexOf("changepassword")&&-1===a.indexOf("login")&&-1===a.indexOf("forgotpassword")&&-1===a.indexOf("register")&&-1===a.indexOf("activation")?b[0]:"",_.isEmpty(b[1])||"list"!==b[1]||(this.model.current_param="admin_boards_list"),_.isEmpty(b[2])||"changepassword"!==b[2]||(this.model.current_param="changepassword"),"undefined"!=typeof Notification&&(this.model.is_show_enable_notification="default"==Notification.permission?!0:!1),_.isUndefined(authuser.user)||_.isEmpty(BOSH_SERVICE_URL)||setTimeout(function(){converse.initialize({bosh_service_url:BOSH_SERVICE_URL,keepalive:!0,jid:authuser.user.username+"@"+JABBER_HOST,authentication:"prebind",prebind_url:api_url+"xmpp_login.json?token="+api_token,allow_logout:!1,allow_contact_requests:!1,hide_muc_server:!0,show_controlbox_by_default:!0,auto_list_rooms:!0,auto_reconnect:!0,play_sounds:!0,allow_registration:!1})},1e3),this.$el.html(this.template(this.model)),this.showTooltip(),1===load_count&&(load_count++,_.each(APPS,function(a,b){var c,d,e="";"settings"===b&&(c=document.createElement("script"),_.each(a,function(a,b){e+="var "+a.name+" = '"+a.value+"';"}),c.text=e,document.body.appendChild(c)),"js"===b&&_.each(a,function(a,b){c=document.createElement("script"),c.type="text/javascript",c.src=a,document.body.appendChild(c)}),"css"===b&&_.each(a,function(a,b){d=document.createElement("link"),d.rel="stylesheet",d.type="text/css",d.href=a,document.head.appendChild(d)})})),this},renderList:function(){$("#content").html(new App.UserIndexContainerView({model:this.users,sortField:this.sortField,sortDirection:this.sortDirection}).el),$(".timeago",$("#content")).timeago()},sortBy:function(a){a.preventDefault();var b=$(a.currentTarget).data("field");_.isUndefined(this.sortDirection)?this.sortDirection="desc":"desc"===this.sortDirection?this.sortDirection="asc":this.sortDirection="desc",this.sortField=b,this.renderList()},openPopup:function(a){var b=$(a.target).parents(".dropdown:first");return b.addClass("open").prev(".dropdown").removeClass("open"),b.next(".dropdown").removeClass("open"),!1},closePopup:function(a){var b=$(a.target);return b.parents("li.dropdown").removeClass("open"),!1}}),"undefined"==typeof App&&(App={}),App.FooterView=Backbone.View.extend({template:JST["templates/footer"],className:"action-sheet",events:{"click .js-open-popover":"openPopup","click .js-show-organizations-board-from":"showOrganizationsBoardFrom","click .js-show-board-add-form":"showBoardAddForm","click .js-show-organizations-add-form":"showOrganizationsAddForm","click .js-show-instant-card-from":"showInstantCardFrom","click .js-show-chat":"showChat","click .js-show-qr-code":"showQrCode","click .js-show-boards-list":"showBoardsList","click .js-collapse-myboards":"collapseMyBoards","click .js-collapse-closedboards":"collapseClosedBoards","click .js-collapse-starred-boards":"collapseStarredBoards","click .js-expand-myboards":"expandMyBoards","click .js-expand-closedboards":"expandClosedBoards","click .js-expand-starred-boards":"expandStarredBoards","keyup .js-search-boards":"showSearchBoards","click .js-all-activities":function(){$("#js-load-link2, .js-all-activity-list").removeClass("hide"),$("#js-load-link1, .js-boards-activity-list").addClass("hide"),$("#js-all-activities").empty(),this.userActivities(!1,2)},"click .js-all-user-activities":"showUserActivities","click .js-product-beat-action":"actionBeat","click .js-board-activities":function(){$("#js-notification-load-more").removeClass("js-all-load-more").addClass("js-board-load-more"),$("#js-notification-load-more-all").removeClass("js-all-load-more-all").addClass("js-board-load-more-all"),$("#js-load-link2, .js-all-activity-list").addClass("hide"),$("#js-load-link1, .js-boards-activity-list").removeClass("hide"),$("#js-board-activities").empty(),this.boardActivities()},"click .js-all-board-activities":"showBoardActivities","click .js-notification-menu":"notificationMenu","click .search-icon":"callQSearch","submit form.search-container":"qSearch",
"click .js-close-popover":"closePopup","click .js-search":"showSearchMsg","focusout .js-search":"searchClose","submit form.js-instantCardAddForm":"addInstantCard","click .js-show-notification":"showNotification","click .js-change-language":"changeLanguage","click .js-back-boards-list":"showBackBoardsList","click .js-board-load-more":function(a){return a.preventDefault(),this.loadMore("board","1"),!1},"click .js-all-load-more":function(a){return a.preventDefault(),this.loadMore("user","1"),!1},"click .js-board-load-more-all":function(a){return a.preventDefault(),this.loadMore("board","0"),!1},"click .js-all-load-more-all":function(a){return a.preventDefault(),this.loadMore("user","0"),!1},"click .js-enable-desktop-notification":"enabledesktopNotification","click .js-show-board-import-form":"showBoardImportForm","change .js-board-import-file":"importBoard","click .js-closed-boards":"renderClosedBoards","click .js-starred-boards":"renderStarredBoards","click .js-my-boards-listing":"renderMyBoards","click #modal-activities":"showActivity","click #modal-comments":"showActivity","click .js-show-shortcuts-modal":"showShortcutModal","keyup[shift+/] body":"keyboardShowShortcutModal","click .js-search-block-close":"closeSearchBlock"},initialize:function(a){_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.music_content="",_.isUndefined(App.music)||null===App.music.music_content||(this.music_content=App.music.music_content),this.music_name="",_.isUndefined(App.music)||null===App.music.music_name||(this.music_name=App.music.music_name),this.board_id=a.board_id,this.board=a.board,this.boards=a.boards,_.bindAll(this,"renderClosedBoards","renderStarredBoards")},render:function(){this.model.is_show_enable_notification=!1;var a=Backbone.history.fragment,b=a.split("/");if(this.showTooltip(),this.model.current_param=-1===a.indexOf("changepassword")&&-1===a.indexOf("login")&&-1===a.indexOf("forgotpassword")&&-1===a.indexOf("register")&&-1===a.indexOf("activation")?b[0]:"","undefined"!=typeof Notification&&(this.model.is_show_enable_notification="default"==Notification.permission?!0:!1),"undefined"!=typeof Notification&&"granted"!==Notification.permission&&Notification.requestPermission(function(a){if("permission"in Notification||(Notification.permission=a),"granted"===a){new Notification("Desktop notification enabled.")}}),this.$el.html(this.template({model:this.model,board_id:this.board_id,board:this.board,languages:window.sessionStorage.getItem("languages").split(","),apps:""!==window.sessionStorage.getItem("apps")?JSON.parse(window.sessionStorage.getItem("apps")):""})),_.isEmpty(this.board_id)){if(!_.isUndefined(authuser.user)){var c=new App.FooterView({model:authuser,boards:self.boards});authuser.user.notify_count>0?($(".js-notification-count").removeClass("hide").html(authuser.user.notify_count),favicon.badge(authuser.user.notify_count)):(favicon.badge(0),$(".js-notification-count").addClass("hide")),clearInterval(set_interval_id),set_interval_id=setInterval(function(){c.userActivities(!1,1)},1e4)}$("#js-load-link1").addClass("hide"),$("#js-load-link2").addClass("hide")}else $("#js-load-link2").addClass("hide");return this},actionBeat:function(a){var b=$(a.currentTarget).data("type"),c="",d="",e="",f="",g="",h=!1;"off"===b?(h=!0,c="on",d="icon-volume-up",e="tada-animation",g="icon-volume-off text-muted"):(c="off",d="icon-volume-off text-muted",g="icon-volume-up",f="tada-animation");if(_.isUndefined(authuser.user)||_.isUndefined(authuser.user.is_productivity_beats))h===!0?window.sessionStorage.setItem("music_play","1"):window.sessionStorage.setItem("music_play","0");else{var i=new App.User;i.url=api_url+"users/"+authuser.user.id+".json",i.set("id",parseInt(authuser.user.id)),i.save({is_productivity_beats:h}),h===!0?authuser.user.is_productivity_beats=1:authuser.user.is_productivity_beats=0;var j=JSON.parse(window.sessionStorage.getItem("auth"));j.user.is_productivity_beats=h,window.sessionStorage.setItem("auth",JSON.stringify(j))}if($(a.currentTarget).data("type",c),$(a.currentTarget).find("i").removeClass(g).addClass(d),$(a.currentTarget).find("i").removeClass(f).addClass(e),!_.isEmpty(App.music.music_content)&&"NULL"!=App.music.music_content){var k=new App.MusicRepeatView;k.continueMusic()}return!1},changeLanguage:function(a){a.preventDefault();authuser.user.language=$(a.currentTarget).data("lang");var b=JSON.parse(window.sessionStorage.getItem("auth"));b.user.language=$(a.currentTarget).data("lang"),window.sessionStorage.setItem("auth",JSON.stringify(b));var c=new App.User;return c.url=api_url+"users/"+authuser.user.id+".json",c.set("id",parseInt(authuser.user.id)),c.save({language:$(a.currentTarget).data("lang")},{success:function(b,c){i18next.changeLanguage($(a.currentTarget).data("lang")),_.isEmpty(c.success)||($(".js-change-language-form-response").find("i").remove(),location.reload())}}),!1},showInstantCardFrom:function(a){a.preventDefault();var b=new App.InstantCardAdd({board_id:"",list_id:""});new App.InstantCardAddView({model:b,board:this.board});return!1},showChat:function(a){return a.preventDefault(),$("#js-chat-count").addClass("hide").html(""),$("a#toggle-controlbox").trigger("click"),!1},showQrCode:function(a){a.preventDefault();var b=new App.QrCodeView({model:b});return!1},showBackBoardsList:function(a){var b=$(a.target);return b.parents("li.dropdown").addClass("open"),$("li.js-back").remove(),this.showBoardsList(a),!1},openPopup:function(a){var b=$(a.target).parents(".dropdown:first");b.addClass("open").siblings(".dropdown.open").removeClass("open");var c=$("header").height(),d=$("footer").height(),e=$(window).height(),f=e-c-d-14,g=$(a.target).next(".sidebar-boards-list").height();return g>f&&($(a.target).next(".sidebar-boards-list").css({"max-height":f-35}),$(a.target).next(".sidebar-boards-list").addClass("vertical-scrollbar")),!1},showOrganizationsBoardFrom:function(a){a.preventDefault(),$(".js-show-boards-list-response").removeClass("hide"),$(".js-boards-list-container-search").addClass("hide"),$(".js-boards-list-container").addClass("hide"),$(".js-qsearch-container").addClass("hide"),$("li.js-board-search-result").remove(),$("#inputBoardSearch").val("");var b=$(a.target),c=b.parents(".js-show-add-boards-list"),d=$(".js-show-boards-list-response",c);return $(new App.OrganizationsBoardFormView({}).el).insertAfter(d),$(".js-show-boards-list-response").html(""),!1},showBoardAddForm:function(a){var b=new App.WorkFlowTemplateCollection;return b.url=api_url+"workflow_templates.json",b.fetch({success:function(c,d){$("li.js-back").remove();var e=$(a.target),f=e.parents(".js-show-add-boards-list");$(".js-show-boards-list-response",f);$(".js-show-boards-list-response").html(new App.BoardAddView({model:b}).el).find("#inputtemplatelist").select2({formatResult:function(a){return markup='<div class="clearfix"><span class="show">'+a.text+'</span><span class="show small">'+a.id+"</span></div>",markup}})}}),!1},showOrganizationsAddForm:function(a){$("li.js-back").remove();var b=$(a.target),c=b.parents(".js-show-add-boards-list");$(".js-show-boards-list-response",c);return $(".js-show-boards-list-response").html((new App.OrganizationAddView).el),!1},searchClose:function(){return $(".search-container").removeClass("search-tab"),$("#js-loader-img").addClass("hide"),$("#res").addClass("hide"),$("#nres").addClass("hide"),!1},closePopup:function(a){var b=$(a.target);return b.parents("li.dropdown").removeClass("open"),$("li.js-back").remove(),!1},showBoardsList:function(){$(".js-boards-list-container-search").removeClass("hide"),$(".js-boards-list-container").addClass("hide"),$(".js-qsearch-container").removeClass("hide"),$(".js-show-boards-list-response").addClass("hide"),$("li.js-back").remove();var a=this;a.boards=App.boards},renderMyBoards:function(){if(this.boards=App.boards,!_.isEmpty(this.boards)&&!_.isEmpty(role_links.where({slug:"view_my_boards"}))){var a=$(".js-myboard-list");a.html("");var b=!1;_.isEmpty(App.boards.models)||_.each(App.boards.models,function(c){0===parseInt(c.attributes.is_closed)&&(b=!0,a.append(new App.MyBoardsListingView({model:c,authuser:authuser,attributes:{"class":"js-show-board-star"}}).el))}),b||a.html(new App.MyBoardsListingView({model:null,authuser:authuser,attributes:{"class":"clearfix text-center"}}).el)}},renderStarredBoards:function(){if(this.boards=App.boards,!_.isEmpty(this.boards)&&!_.isEmpty(role_links.where({slug:"view_stared_boards"}))){var a=$(".js-board-starred-list");a.html("");var b=!1;_.isEmpty(App.boards.models)||_.each(App.boards.models,function(c){var d=c.boards_stars.findWhere({board_id:parseInt(c.id),user_id:parseInt(authuser.user.id),is_starred:1});_.isUndefined(d)||_.isEmpty(d)||0!==parseInt(c.attributes.is_closed)||(b=!0,a.append(new App.StartedBoardsListingView({model:c,authuser:authuser,attributes:{"class":"js-show-board-star"}}).el))}),b||a.html(new App.StartedBoardsListingView({model:null,authuser:authuser,attributes:{"class":"clearfix text-center"}}).el)}},renderClosedBoards:function(){if(!_.isEmpty(role_links.where({slug:"view_closed_boards"}))){var a=$(".js-closedboard-list");a.html("");var b=!1;_.isEmpty(App.boards.models)||_.each(App.boards.models,function(c){1===parseInt(c.attributes.is_closed)&&(b=!0,a.append(new App.ClosedBoardsListingView({model:c,attributes:{"class":"js-show-board-closed panel-default well-sm clearfix"}}).el))}),b||a.html(new App.ClosedBoardsListingView({model:null,attributes:{"class":"clearfix text-center"}}).el)}},collapseMyBoards:function(){return $(".js-myboard-list").addClass("hide"),$(".js-collapse-myboards").addClass("hide"),$(".js-expand-myboards").removeClass("hide"),!1},expandMyBoards:function(){return $(".js-myboard-list").removeClass("hide"),$(".js-collapse-myboards").removeClass("hide"),$(".js-expand-myboards").addClass("hide"),!1},collapseClosedBoards:function(){return $(".js-closedboard-list").addClass("hide"),$(".js-collapse-closedboards").addClass("hide"),$(".js-expand-closedboards").removeClass("hide"),!1},expandClosedBoards:function(){return $(".js-closedboard-list").removeClass("hide"),$(".js-collapse-closedboards").removeClass("hide"),$(".js-expand-closedboards").addClass("hide"),!1},collapseStarredBoards:function(){return $(".js-board-starred-list").addClass("hide"),$(".js-collapse-starred-boards").addClass("hide"),$(".js-expand-starred-boards").removeClass("hide"),!1},expandStarredBoards:function(){return $(".js-board-starred-list").removeClass("hide"),$(".js-collapse-starred-boards").removeClass("hide"),$(".js-expand-starred-boards").addClass("hide"),!1},showSearchBoards:function(a){sd=[16,17,18,27,20],nc=[37,39,38,40];var b=this;if(e=a.keyCode,!(0<=checkKeycode(nc,e)||(c=a.keyCode,0<=checkKeycode(sd,c)))){var d=$("#inputBoardSearch").val();if(""===d)$(".js-show-add-boards-list").removeClass("pre-scrollable"),$("js-show-add-boards-list").removeClass("vertical-scrollbar"),this.$el.find(".js-boards-list-container").nextAll(".js-board-search-result").remove(),this.showBoardsList(a);else{$(".js-show-add-boards-list").addClass("pre-scrollable"),$("js-show-add-boards-list").addClass("vertical-scrollbar");var f=App.boards.search(d),g=new App.BoardCollection;_.isEmpty(f._wrapped)||$.unique(f._wrapped),g.add(f._wrapped);var h="";this.$el.find(".js-boards-list-container").nextAll(".js-board-search-result").remove(),_.each(g.models,function(a){a.attributes.background_picture_url?(background_picture_url=a.attributes.background_picture_url.replace("_XXXX.jpg","_b.jpg"),h="background-image:url("+a.attributes.background_picture_url+");"):a.attributes.background_pattern_url?(background_pattern_url=a.attributes.background_pattern_url.replace("_XXXX.jpg","_n.jpg"),h="background-image:url("+background_pattern_url+");"):h=a.attributes.background_color?"background-color:"+a.attributes.background_color+";":"",$(new App.ShowSearchBoardsView({model:a,style:h,className:"clearfix js-board-search-result",attributes:{style:h}}).el).insertAfter(b.$el.find(".js-boards-list-container")),$(".js-boards-list-container").append(),$(".js-boards-list-container-search").addClass("hide"),$(".js-boards-list-container").removeClass("hide")}),0===g.models.length&&$(new App.ShowSearchBoardsView({model:null,style:h,className:"clearfix js-board-search-result"}).el).insertAfter(b.$el.find(".js-boards-list-container"))}}},userActivities:function(a,b){var c=this,d=new App.ActivityCollection,e=$("#js-all-activities"),f=JSON.parse(window.sessionStorage.getItem("auth"));_.isUndefined(authuser.user.last_activity_id)&&(authuser.user.last_activity_id=f.user.last_activity_id),favCount=parseInt(f.user.notify_count),1==b?(query_string="&last_activity_id="+authuser.user.last_activity_id,d.url=api_url+"users/"+authuser.user.id+"/activities.json?type=all"+query_string):($("#js-activity-loader").remove(),e.append('<li class="col-xs-12" id="js-activity-loader"><span class="cssloader"></span></li>'),d.url=api_url+"users/"+authuser.user.id+"/activities.json"),d.fetch({cache:!1,success:function(){if($("#js-activity-loader").remove(),_.isEmpty(d.models))(0===parseInt(authuser.user.last_activity_id)||null===authuser.user.last_activity_id)&&($("#js-all-activities").parent("div").addClass("notification-empty"),$("#js-all-activities").html("<li><div>No activities available.</div></li>"),$("#js-notification-load-more-all").hide());else{$("#js-load-link").removeClass("hide");var g=_.min(d.models,function(a){return a.id});last_user_activity_id=g.id,$(".notification-list").removeClass("notification-empty"),$("#js-notification-load-more").removeClass("hide");var h=0;d.each(function(a){parseInt(a.attributes.user_id)!==parseInt(authuser.user.id)&&(h+=1)});var i=_.max(d.models,function(a){return a.id});if(1==b)favCount+=parseInt(h),favicon.badge(favCount),parseInt(favCount)>0?$(".js-notification-count").removeClass("hide").html(favCount):$(".js-notification-count").addClass("hide"),f=JSON.parse(window.sessionStorage.getItem("auth")),f.user.last_activity_id=i.id,f.user.notify_count=favCount,window.sessionStorage.setItem("auth",JSON.stringify(f)),authuser.user.last_activity_id=i.id;else if(2==b&&favCount>0){f=JSON.parse(window.sessionStorage.getItem("auth"));var j=new App.User;j.url=api_url+"users/"+authuser.user.id+".json",j.set("id",parseInt(authuser.user.id)),j.save({last_activity_id:i.id}),authuser.user.notify_count=0,f.user.notify_count=0,favicon.badge(0),$(".js-notification-count").addClass("hide"),window.sessionStorage.setItem("auth",JSON.stringify(f))}if(d.each(function(d){if(d.from_footer=!0,1==b&&parseInt(d.attributes.user_id)!==parseInt(authuser.user.id)&&"granted"===Notification.permission){var f=window.location.pathname+"img/logo-icon.png";if("add_comment"!=d.attributes.type&&"edit_comment"!=d.attributes.type){var g=d.attributes.card_name;d.attributes.comment=d.attributes.comment.replace("##ORGANIZATION_LINK##",_.escape(d.attributes.organization_name)),d.attributes.comment=d.attributes.comment.replace("##USER_NAME##",_.escape(d.attributes.full_name)),d.attributes.comment=d.attributes.comment.replace("##CARD_LINK##",g),d.attributes.comment=d.attributes.comment.replace("##LABEL_NAME##",d.attributes.label_name),d.attributes.comment=d.attributes.comment.replace("##CARD_NAME##",d.attributes.card_name),d.attributes.comment=d.attributes.comment.replace("##DESCRIPTION##",d.attributes.card_description),d.attributes.comment=d.attributes.comment.replace("##LIST_NAME##",d.attributes.list_name),d.attributes.comment=d.attributes.comment.replace("##BOARD_NAME##",d.attributes.board_name),_.isUndefined(d.attributes.checklist_name)||(d.attributes.comment=d.attributes.comment.replace("##CHECKLIST_NAME##",d.attributes.checklist_name)),_.isUndefined(d.attributes.checklist_item_name)||(d.attributes.comment=d.attributes.comment.replace("##CHECKLIST_ITEM_NAME##",d.attributes.checklist_item_name)),_.isUndefined(d.attributes.checklist_item_parent_name)||(d.attributes.comment=d.attributes.comment.replace("##CHECKLIST_ITEM_PARENT_NAME##",d.attributes.checklist_item_parent_name))}else"add_comment"===d.attributes.type&&(d.attributes.comment=_.escape(d.attributes.full_name)+" commented in card "+d.attributes.card_name+" "+d.attributes.comment);new Notification(d.attributes.comment,{icon:f})}var h=new App.ActivityView({model:d,type:"all",board:c.board});if($(".js-unread-activity").parent().addClass("bg-danger navbar-btn"),1==b?e.prepend(h.render().el).find(".timeago").timeago():0===$(".js-list-activity-"+d.id,e).length&&e.append(h.render().el).find(".timeago").timeago(),a){if(parseInt(d.attributes.user_id)!==parseInt(authuser.user.id))if(_.isUndefined(d.attributes.card_id)||0===d.attributes.card_id||_.isUndefined(d.attributes.board_id)||parseInt(d.attributes.board_id)!==parseInt(c.board_id))if(_.isUndefined(d.attributes.list_id)||0===d.attributes.list_id||_.isUndefined(d.attributes.board_id)||parseInt(d.attributes.board_id)!==parseInt(c.board_id))_.isUndefined(c.board)||_.isUndefined(d.attributes.board_id)||_.isUndefined(d.attributes.board_id)||parseInt(d.attributes.board_id)!==parseInt(c.board_id)||(c.board.set(d.attributes.revisions.new_value),"add_board_user"===d.attributes.type?c.board.board_users.add(d.attributes.board_user):"delete_board_user"===d.attributes.type&&c.board.board_users.remove(c.board.board_users.findWhere({id:d.attributes.foreign_id})));else{var i=c.board.lists.findWhere({id:parseInt(d.attributes.list_id)});if("add_list"===d.attributes.type){var j=new App.List;j.set(d.attributes.list),j.set("id",parseInt(d.attributes.list.id)),j.set("board_id",parseInt(d.attributes.list.board_id)),j.set("lists_cards",[]),c.board.lists.add(j),c.board.set("lists",d.attributes.list),_.isUndefined(App.boards)||_.isUndefined(App.boards.get(j.attributes.board_id))||App.boards.get(j.attributes.board_id).lists.add(j)}if(!_.isUndefined(i))if(i.set(d.attributes.revisions.new_value),"delete_list"===d.attributes.type){var k=c.board.cards.where({list_id:parseInt(i.attributes.id)});c.board.cards.remove(k,{silent:!0}),i.collection.board.lists.remove(i),c.board.lists.remove(i)}else if("change_list_position"===d.attributes.type)parseInt(d.attributes.list.board_id)!==parseInt(i.attributes.board_id)?c.board.lists.remove(i):i.set("position",parseFloat(d.attributes.list.position));else if("moved_list_card"===d.attributes.type){var l=c.board.cards.where({list_id:parseInt(d.attributes.list_id)}),m=1;!_.isUndefined(l)&&l.length>0&&_.each(l,function(a){var b={silent:!0};m===l.length&&(b.silent=!1),c.board.cards.findWhere({id:parseInt(a.attributes.id)}).set({list_id:parseInt(d.attributes.foreign_id)},b),m++})}else if("archived_card"===d.attributes.type){var n=c.board.cards.where({list_id:parseInt(d.attributes.list_id)}),o=1;!_.isUndefined(n)&&n.length>0&&_.each(n,function(a){var b={silent:!0};o===n.length&&(b.silent=!1),c.board.cards.findWhere({id:parseInt(a.attributes.id)}).set({is_archived:1},b),o++})}}else{var p=c.board.cards.findWhere({id:parseInt(d.attributes.card_id)});if("add_card"===d.attributes.type||"copy_card"===d.attributes.type){var q=new App.Card;q.set(d.attributes.card),q.set("id",parseInt(d.attributes.card.id)),q.set("board_id",parseInt(d.attributes.card.board_id)),q.set("list_id",parseInt(d.attributes.card.list_id)),q.set("user_id",parseInt(d.attributes.card.user_id));var r=c.board.lists.findWhere({id:parseInt(d.attributes.list_id)});q.list=r,c.board.cards.add(q),_.isUndefined(r)||r.set("cards",d.attributes.card)}if(!_.isUndefined(p))if("add_card_duedate"===d.attributes.type?p.set("start",d.attributes.revisions.new_value.due_date):"delete_card_duedate"===d.attributes.type&&p.set("start",d.attributes.revisions.new_value.due_date),_.isEmpty(d.attributes.revisions)||p.set(d.attributes.revisions.new_value),"add_card_checklist"===d.attributes.type){var s=new App.CheckList;s.set(d.attributes.checklist),s.set("id",parseInt(d.attributes.checklist.id)),s.set("user_id",parseInt(d.attributes.checklist.user_id)),s.set("card_id",parseInt(d.attributes.checklist.card_id)),null!==d.attributes.checklist.checklists_items&&(_.each(d.attributes.checklist.checklists_items,function(a){var b=new App.CheckListItem;b.set(a),b.set("id",parseInt(a.id)),b.set("user_id",parseInt(a.user_id)),b.set("card_id",parseInt(a.card_id)),b.set("checklist_id",parseInt(a.checklist_id)),b.set("position",parseFloat(a.position)),c.board.checklist_items.add(b)}),H=c.board.checklist_items.where({card_id:parseInt(d.attributes.checklist.card_id)}),items=new App.CheckListItemCollection,items.add(H),I=items.filter(function(a){return 1===parseInt(a.get("is_completed"))}).length,J=items.models.length,p.set("checklist_item_completed_count",I),p.set("checklist_item_count",J)),c.board.checklists.add(s)}else if("add_card_label"===d.attributes.type){var t=c.board.labels.where({card_id:d.attributes.card_id});c.board.labels.remove(t,{silent:!0});var u=1;_.each(d.attributes.labels,function(a){var b=new App.Label;b.set(a),b.set("id",parseInt(a.id)),b.set("label_id",parseInt(a.label_id)),b.set("card_id",parseInt(a.card_id)),b.set("list_id",parseInt(a.list_id)),b.set("board_id",parseInt(a.board_id));var e={silent:!0};u===d.attributes.labels.length&&(e.silent=!1),c.board.labels.add(b,e),u++}),p.set("cards_labels",d.attributes.labels)}else if("add_card_voter"===d.attributes.type){(_.isUndefined(p.attributes.cards_voters)||null===p.attributes.cards_voters)&&p.set("cards_voters",[]),p.attributes.cards_voters.push(d.attributes.voter);var v=new App.CardVoter;v.set(d.attributes.voter),v.set("id",parseInt(d.attributes.voter.id)),v.set("user_id",parseInt(d.attributes.voter.user_id)),v.set("card_id",parseInt(d.attributes.voter.card_id)),p.card_voters.add(v)}else if("add_card_voter"===d.attributes.type)p.set("cards_users",d.attributes.user);else if("add_checklist_item"===d.attributes.type){var w=new App.CheckListItem;w.set(d.attributes.item),w.set("id",parseInt(d.attributes.item.id)),w.set("user_id",parseInt(d.attributes.item.user_id)),w.set("card_id",parseInt(d.attributes.item.card_id)),w.set("checklist_id",parseInt(d.attributes.item.checklist_id)),w.set("position",parseFloat(d.attributes.item.position)),c.board.checklist_items.add(w);var x=c.board.checklist_items.where({card_id:parseInt(d.attributes.card_id)});items=new App.CheckListItemCollection,items.add(x);var y=items.filter(function(a){return 1===parseInt(a.get("is_completed"))}).length,z=items.models.length;p.set("checklist_item_completed_count",y),p.set("checklist_item_count",z)}else if("update_card_checklist"===d.attributes.type)checklist=c.board.checklists.findWhere({id:parseInt(d.attributes.checklist.id)}),_.isUndefined(checklist)||(checklist.set(d.attributes.checklist),checklist.set("id",parseInt(d.attributes.checklist.id)),checklist.set("user_id",parseInt(d.attributes.checklist.user_id)),checklist.set("card_id",parseInt(d.attributes.checklist.card_id)),checklist.set("position",parseFloat(d.attributes.checklist.position)));else if("update_card_checklist_item"===d.attributes.type||"moved_card_checklist_item"===d.attributes.type){var A=c.board.checklist_items.findWhere({id:parseInt(d.attributes.item.id)});_.isUndefined(A)||(A.set(d.attributes.item),A.set("id",parseInt(d.attributes.item.id)),A.set("user_id",parseInt(d.attributes.item.user_id)),A.set("card_id",parseInt(d.attributes.item.card_id)),A.set("checklist_id",parseInt(d.attributes.item.checklist_id)),A.set("position",parseFloat(d.attributes.item.position)),H=c.board.checklist_items.where({card_id:parseInt(d.attributes.card_id)}),items=new App.CheckListItemCollection,items.add(H),I=items.filter(function(a){return 1===parseInt(a.get("is_completed"))}).length,J=items.models.length,p.set("checklist_item_completed_count",I),p.set("checklist_item_count",J))}else if("add_card_user"===d.attributes.type){var B=new App.CardUser;B.set(d.attributes.user),B.set("id",parseInt(d.attributes.user.id)),B.set("user_id",parseInt(d.attributes.user.user_id)),B.set("card_id",parseInt(d.attributes.user.card_id)),p.users.add(B)}else if("add_comment"===d.attributes.type)p.list.collection.board.activities.add(d);else if("add_card_attachment"===d.attributes.type){var C=new App.CardAttachment;C.set(d.attributes.attachment),C.set("id",parseInt(d.attributes.attachment.id)),C.set("board_id",parseInt(d.attributes.attachment.board_id)),C.set("list_id",parseInt(d.attributes.attachment.list_id)),C.set("card_id",parseInt(d.attributes.attachment.card_id)),c.board.attachments.add(C)}else if("change_card_position"===d.attributes.type){p.set("position",d.attributes.card.position);var D=c.board.lists.findWhere({id:parseInt(d.attributes.list_id)});if(!_.isUndefined(App.boards)&&!_.isUndefined(App.boards.get(parseInt(d.attributes.board_id)))){var E=c.board.cards.where({list_id:parseInt(d.attributes.list_id)});App.boards.get(parseInt(d.attributes.board_id)).lists.get(parseInt(d.attributes.list_id)).set("card_count",0===E.length?0:E.length-1)}D.set("card_count",D.attributes.card_count+1),p.list=D,p.set("list_id",parseInt(d.attributes.list_id));var F=c.board.attachments.where({card_id:parseInt(d.attributes.card_id)}),G=1;!_.isUndefined(F)&&F.length>0&&_.each(F,function(a){var b={silent:!0};G===F.length&&(b.silent=!1),c.board.attachments.findWhere({id:parseInt(a.attributes.id)}).set({list_id:parseInt(d.attributes.list_id)},b),G++})}else if("delete_card_attachment"===d.attributes.type)c.board.attachments.remove(c.board.attachments.findWhere({id:parseInt(d.attributes.foreign_id)}));else if("delete_card_comment"===d.attributes.type)c.board.activities.remove(c.board.activities.findWhere({id:parseInt(d.attributes.foreign_id)}));else if("delete_checklist"===d.attributes.type){c.board.checklists.remove(c.board.checklists.findWhere({id:parseInt(d.attributes.foreign_id)})),c.board.checklist_items.remove(c.board.checklist_items.where({checklist_id:parseInt(d.attributes.foreign_id)}));var H=c.board.checklist_items.where({card_id:parseInt(d.attributes.card_id)});items=new App.CheckListItemCollection,items.add(H);var I=items.filter(function(a){return 1===parseInt(a.get("is_completed"))}).length,J=items.models.length;p.set("checklist_item_completed_count",I),p.set("checklist_item_count",J)}else if("delete_checklist_item"===d.attributes.type){c.board.checklist_items.remove(c.board.checklist_items.findWhere({id:parseInt(d.attributes.foreign_id)}));var K=c.board.checklist_items.where({card_id:parseInt(d.attributes.card_id)});items=new App.CheckListItemCollection,items.add(K);var L=items.filter(function(a){return 1===parseInt(a.get("is_completed"))}).length,M=items.models.length;p.set("checklist_item_completed_count",L),p.set("checklist_item_count",M)}else"delete_card_users"===d.attributes.type?p.users.remove(p.users.findWhere({id:parseInt(d.attributes.foreign_id)})):"unvote_card"===d.attributes.type?p.card_voters.remove(p.card_voters.findWhere({id:parseInt(d.attributes.foreign_id)})):"delete_card"===d.attributes.type&&c.board.cards.remove(p)}if(!_.isUndefined(c.boards)){var N="",O="",P="";if(d.attributes.board_id&&(N=c.boards.findWhere({id:parseInt(d.attributes.board_id)})),_.isUndefined(N)){if("add_board"===d.attributes.type){var Q=new App.Board;Q.set("id",parseInt(d.attributes.board_id)),Q.set("name",d.attributes.board_name),Q.set("board_visibility",d.attributes.board_visibility),$(".js-my-boards").append(new App.BoardSimpleView({model:Q,id:"js-my-board-"+d.attributes.board_id,className:"col-lg-3 col-md-4 col-sm-4 col-xs-12 mob-no-pad js-board-view js-board-view-"+d.attributes.board_id}).el),App.boards.add(Q)}}else if(d.attributes.list_id&&(O=N.lists.findWhere({id:parseInt(d.attributes.list_id)})),("edit_organization"===d.attributes.type||"add_organization_attachment"===d.attributes.type||"delete_organization_attachment"===d.attributes.type)&&(P=c.boards.findWhere({organization_id:parseInt(d.attributes.organization_id)})),"edit_board"==d.attributes.type)N.set("name",d.attributes.revisions.new_value.name);else if("change_visibility"==d.attributes.type)N.set("board_visibility",d.attributes.revisions.new_value.board_visibility);else if("change_background"==d.attributes.type)N.set("background_color",d.attributes.revisions.new_value.background_color),N.set("background_picture_url",d.attributes.revisions.new_value.background_picture_url),N.set("background_pattern_url",d.attributes.revisions.new_value.background_pattern_url);else if("add_card"===d.attributes.type||"copy_card"===d.attributes.type)parseInt(d.attributes.user_id)===parseInt(authuser.user.id)&&"add_card"===d.attributes.type||(card_count=N.attributes.card_count+1,N.set("card_count",card_count),O.set("card_count",O.attributes.card_count+1));else if("delete_card"===d.attributes.type)card_count=N.attributes.card_count-1,N.set("card_count",card_count),O.set("card_count",O.attributes.card_count-1);else if("change_card_position"===d.attributes.type||"moved_list_card"===d.attributes.type){if(!_.isEmpty(d.attributes.revisions.new_value)){N.set("card_count",""),card_count=N.attributes.card_count,N.set("card_count",card_count);var R=N.lists.findWhere({id:parseInt(d.attributes.revisions.new_value.list_id)});R.set("card_count",R.attributes.card_count+1);var S=N.lists.findWhere({id:parseInt(d.attributes.revisions.old_value.list_id)});S.set("card_count",S.attributes.card_count-1)}}else if("change_list_position"===d.attributes.type){if(!_.isEmpty(d.attributes.revisions.new_value)){var T=N.lists.findWhere({id:parseInt(d.attributes.revisions.new_value.board_id)});T.add(d.attributes.list);var U=c.boards.findWhere({id:parseInt(d.attributes.revisions.new_value.board_id)});U.set("card_count",T.attributes.card_count+1);var V=N.lists.findWhere({id:parseInt(d.attributes.revisions.old_value.board_id)});V.remove(d.attributes.list);var W=c.boards.findWhere({id:parseInt(d.attributes.revisions.old_value.board_id)});W.set("card_count",V.attributes.card_count-1)}}else"edit_list"===d.attributes.type?O.set("name",d.attributes.revisions.new_value.name):"delete_list"===d.attributes.type?(card_count=N.attributes.card_count,N.set("card_count",card_count-O.attributes.card_count),O.remove(N.attributes.list)):"edit_organization"===d.attributes.type?_.each(P.collection.models,function(a){var b=c.boards.findWhere({id:parseInt(a.id)});b.set("organization_name",d.attributes.revisions.new_value.name)}):"add_organization_attachment"===d.attributes.type||"delete_organization_attachment"===d.attributes.type?_.each(P.collection.models,function(a){var b=c.boards.findWhere({id:parseInt(a.id)});b.set("organization_logo_url",d.attributes.organization_logo_url)}):"add_board_user"===d.attributes.type&&N.board_users.add(d.attributes.board_user)}}0!==parseInt(d.attributes.card_id)&&parseInt(d.attributes.user_id)!==parseInt(authuser.user.id)&&($("#js-card-"+d.attributes.card_id).parent().addClass("animation"),$("#js-card-"+d.attributes.card_id).addClass("tada-animation"),$("#js-card-"+d.attributes.card_id).stop().animate({backgroundColor:"#FCEA88"},800,function(){$("#js-card-"+d.attributes.card_id).parent().removeClass("animation"),$("#js-card-"+d.attributes.card_id).removeClass("tada-animation"),$("#js-card-"+d.attributes.card_id).animate({backgroundColor:"#FFFFFF"},800)}))}),2===b){var k=_.max(d.models,function(a){return a.id});f=JSON.parse(window.sessionStorage.getItem("auth")),f.user.unread_activity_id=k.id,authuser.user.unread_activity_id=k.id,window.sessionStorage.setItem("auth",JSON.stringify(f))}}var l=($("header").height(),$(window).height()),m=$("footer").height(),n=l-m;$(".notification-list").css({height:n-100,"overflow-y":"scroll"})}})},boardActivities:function(){var a=$("#js-board-activities"),b=this,c=JSON.parse(window.sessionStorage.getItem("auth")),d=new App.ActivityCollection;d.url=api_url+"boards/"+authuser.board_id+"/activities.json",d.storeName="activity",$("#js-activity-loader").remove(),a.append('<li class="col-xs-12" id="js-activity-loader" style="min-height: 200px;"><span class="cssloader"></span></li>'),!_.isUndefined(authuser.user)&&_.isUndefined(authuser.user.last_activity_id)&&(authuser.user.last_activity_id=0),d.fetch({success:function(e,f,g){
if($("#js-activity-loader").remove(),!_.isEmpty(d.models)){d.each(function(c){c.from_footer=!0;var d=($("#js-all-activities"),new App.ActivityView({model:c,board:b.board}));$(".js-unread-activity").parent().addClass("bg-danger navbar-btn"),0===$(".js-list-activity-"+c.id,a).length&&a.append(d.render().el).find(".timeago").timeago()});var h=_.max(d.models,function(a){return a.id});c=JSON.parse(window.sessionStorage.getItem("auth")),c.user.unread_activity_id=h.id,authuser.user.unread_activity_id=h.id,window.sessionStorage.setItem("auth",JSON.stringify(c));var i=_.min(d.models,function(a){return a.id});if(load_more_last_board_activity_id=i.id,$(".js-notification-count").html()>0){var j=(_.max(d.models,function(a){return a.id}),new App.User);j.url=api_url+"users/"+authuser.user.id+".json",j.set("id",parseInt(authuser.user.id)),j.save({last_activity_id:i.id}),authuser.user.notify_count=0,c.user.notify_count=0,favicon.badge(0),$(".js-notification-count").addClass("hide"),window.sessionStorage.setItem("auth",JSON.stringify(c))}}var k=($("header").height(),$(window).height()),l=$("footer").height(),m=k-l;$(".notification-list").css({height:m-100,"overflow-y":"scroll"})}})},notificationMenu:function(a){a.preventDefault(),_.isUndefined(authuser)||_.isEmpty(authuser)||0===authuser.board_id?this.userActivities():$(".js-notification-response-container").html(new App.NotificationMenuView({user:authuser}).el)},callQSearch:function(a){this.qSearch()},qSearch:function(a){var b=$("#search-box").val();if(""!==b){$(".search-container").addClass("search-tab"),$("#res, #nres").removeClass("hide");var c=new App.ElasticSearchCollection;c.url=api_url+"search.json",c.fetch({data:{q:b,token:api_token},success:function(a,c){c=c,c.result.search_term=b,$("#js-loader-img").addClass("hide"),$("#res").addClass("hide"),$("#nres").addClass("hide"),app.navigate("#/search/"+b,{trigger:!1,trigger_function:!1,replace:!0}),$(".js-boards-list-container-search").addClass("hide"),$("#search-page-result-block").html(new App.SearchPageResultView({model:c}).el),$("#search-page-result").removeClass("search-block").addClass("search-block-main-hover");var d=$(window).height()-38;$(".search-block-main-hover").css("height",d+"px")}})}return!1},showSearchMsg:function(a){a.preventDefault(),$(".js-show-search-result").html(new App.ShowSearchMessageView({model:this.model}).el)},addInstantCard:function(a){a.preventDefault(),$("li.dropdown").removeClass("open");var b=$(a.target).serializeObject(),c=new App.Card;c.url=api_url+"boards/"+b.board_id+"/lists/"+b.list_id+"/cards.json",c.save(b)},showNotification:function(a){a.preventDefault(),$("#js-board-activities, #js-all-activities").empty(),_.isEmpty(this.board_id)?this.$el.find(".js-all-activities").click():this.$el.find(".js-board-activities").click()},showBoardActivities:function(a){a.preventDefault();var b=new App.ModalActivityView({model:this.model,type:"board"});return b.show(),!1},showUserActivities:function(a){a.preventDefault();var b=new App.ModalActivityView({model:this.model,type:"user"});return b.show(),!1},loadMore:function(a,b){var c,d="",e=this,f=new App.ActivityCollection;return"user"===a?(c=$("#js-all-activities"),d=0===last_user_activity_id||_.isUndefined(last_user_activity_id)?"":"&last_activity_id="+last_user_activity_id,f.url=api_url+"users/"+authuser.user.id+"/activities.json?type=profile"+d):(c=$("#js-board-activities"),d=0===load_more_last_board_activity_id||_.isUndefined(load_more_last_board_activity_id)?"":"&last_activity_id="+load_more_last_board_activity_id,f.url=api_url+"boards/"+authuser.board_id+"/activities.json?type=all"+d),e.$("#js-empty",c).remove(),$("#js-activity-loader").remove(),$("#js-notification-load-more").html('<span class="js-cssloader cssloader"></span>'),$("#js-notification-load-more-all").html('<span class="js-cssloader cssloader"></span>'),f.fetch({success:function(){$(".js-cssloader, #js-activity-loader").remove(),$("#js-notification-load-more-all, #js-notification-load-more").text(i18next.t("Load more activities"));var d=_.min(f.models,function(a){return a.id});"user"===a?last_user_activity_id=d.id:load_more_last_board_activity_id=d.id,"user"==a?($("#js-load-link2").removeClass("hide"),$("#js-load-link1").addClass("hide")):"board"==a&&($("#js-load-link1").removeClass("hide"),$("#js-load-link2").addClass("hide")),_.isEmpty(f.models)?"user"==a?($("#js-load-link").addClass("hide"),$("#js-load-link2").addClass("hide")):"board"==a&&$("#js-load-link1").addClass("hide"):($(".notification-list").removeClass("notification-empty"),$(".js-empty").remove(),modeType="all",1==b&&(modeType=""),f.each(function(a){a.from_footer=!0;var b=new App.ActivityView({model:a,board:e.board,type:modeType});$(".js-unread-activity").parent().addClass("bg-danger navbar-btn"),c.append(b.render().el).find(".timeago").timeago()}))}}),!1},enabledesktopNotification:function(a){a.preventDefault();Notification.requestPermission(function(a){if("permission"in Notification||(Notification.permission=a),"granted"===a){new Notification("Desktop notification enabled.")}})},showBoardImportForm:function(a){a.preventDefault();var b=$("#js-board-import");return $(".js-board-import-file",b).trigger("click"),!1},importBoard:function(a){a.preventDefault(),$("#js-board-import-loader").removeClass("hide");var b=this,c=$("form#js-board-import"),d=new FormData(c[0]),e=new App.Board;e.url=api_url+"boards.json",e.save(d,{type:"POST",data:d,processData:!1,cache:!1,contentType:!1,error:function(a,b){$("#js-board-import-loader").addClass("hide")},success:function(a,c){$("#js-board-import-loader").addClass("hide"),_.isUndefined(c.id)?b.flash("danger",i18next.t("Unable to import. please try again.")):(app.navigate("#/board/"+c.id,{trigger:!0,replace:!0}),b.flash("success",i18next.t("Imported successfully.")))}})},showActivity:function(a){a.preventDefault();var b=0,c="",d=$(a.currentTarget),e=$(a.target).parents().find("#all_activities");return $("#"+d.attr("id"),e).parent("ul").hasClass("called")||($("#"+d.attr("id"),e).parent("ul").addClass("called"),$("#"+d.attr("id"),e).toggleClass("active"),$("#modal-comments",e).hasClass("active")||(b++,c+=".modal-comments, "),$("#modal-activities",e).hasClass("active")||(b++,c+=".modal-activities, "),c=c.substring(0,c.lastIndexOf(", ")),(2===b||0===b)&&$(".modal-comments, .modal-activities",e).parent("li").removeClass("hide"),2!==b&&$(c,e).parent("li").addClass("hide"),$("#"+d.attr("id"),e).parent("ul").removeClass("called")),!1},showShortcutModal:function(a){var b=new App.ModalShortcutView({});return b.show(),!1},keyboardShowShortcutModal:function(a){var b=this;return(_.isUndefined(b.is_show_keyboard)||b.is_show_keyboard)&&(b.is_show_keyboard=!1,$(".js-show-shortcuts-modal").trigger("click"),$("#ModalShortcutView").on("hidden.bs.modal",function(){$("#ModalShortcutView").remove(),b.is_show_keyboard=!0})),!1},closeSearchBlock:function(a){var b=window.sessionStorage.getItem("previous_url");app.navigate("#/"+b,{trigger:!1,trigger_function:!1,replace:!0}),$("#search-box").val(""),$("#search-page-result-block").html("")}}),"undefined"==typeof App&&(App={}),App.BoardsIndexView=Backbone.View.extend({initialize:function(){_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.render()},template:JST["templates/board_index"],tagName:"section",className:"clearfix",events:{"click .js-delete-board":"deleteBoard"},deleteBoard:function(a){if(confirm($(a.currentTarget).data("confirm"))){var b=$(a.currentTarget).attr("href"),c=new App.Board;c.url=api_url+b+".json",c.set("id","-1"),c.destroy({success:function(){Backbone.history.loadUrl()}})}return!1},render:function(){return this.$el.html(this.template({board:this.model})),this.showTooltip(),this}}),"undefined"==typeof App&&(App={}),App.ForgotpasswordView=Backbone.View.extend({initialize:function(){_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.render()},tagName:"article",id:"forgot-password",className:"clearfix",template:JST["templates/users_forgot_password"],events:{"submit form#UserForgotPasswordForm":"forgotpassword"},forgotpassword:function(a){var b=$(a.target),c=this,d=b.serializeObject();b[0].reset();var e=new App.User;return e.url=api_url+"users/forgotpassword.json",e.save(d,{success:function(a,b){_.isEmpty(b.success)?c.flash("danger",i18next.t("No record found.")):(app.navigate("#/users/login",{trigger:!0,replace:!0}),c.flash("success",i18next.t("An email has been sent with your new password.")))}}),!1},render:function(){return this.$el.html(this.template(this.model)),this.showTooltip(),this}}),"undefined"==typeof App&&(App={}),App.UseractivationView=Backbone.View.extend({initialize:function(){_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.render()},render:function(){var a=this,b=new App.User;return b.url=api_url+"users/"+a.model.user_id+"/activation.json",b.set("id",a.model.user_id),b.save({id:a.model.user_id,hash:a.model.hash},{patch:!0,success:function(b,c){_.isEmpty(c.success)?a.flash("danger",i18next.t("Invalid Activation URL")):a.flash("success",i18next.t("Your activation has been confirmed. You can now login to the site.")),app.navigate("#/users/login",{trigger:!0,replace:!0})}}),this.showTooltip(),this}}),"undefined"==typeof App&&(App={}),App.ChangepasswordView=Backbone.View.extend({initialize:function(){_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.render()},template:JST["templates/change_password"],tagName:"article",className:"clearfix",id:"change_password",events:{submit:"changepassword"},changepassword:function(a){var b=$(a.target),c=$("form#UserChangePasswordForm").serializeObject();b[0].reset();var d=new App.User,e=this;return d.url=api_url+"users/"+this.model.user_id+"/changepassword.json",d.save(c,{success:function(a,b){if(b.error)1===parseInt(b.error)?e.flash("danger",i18next.t("Your old password is incorrect, please try again.")):2===parseInt(b.error)?e.flash("danger",i18next.t("Unable to change password. Please try again.")):3===parseInt(b.error)&&e.flash("danger",i18next.t("New and confirm password field must match, please try again."));else{if(sessionStorage.length>0)for(i=0;i<sessionStorage.length;i++)-1!==sessionStorage.key(i).search(/.*_access_token$/i)&&sessionStorage.removeItem(sessionStorage.key(i));e.flash("success",i18next.t("Password has been changed successfully.")),app.navigate("#/users/logout",{trigger:!0,replace:!0})}}}),!1},render:function(){return this.$el.html(this.template(this.model)),this.showTooltip(),this}}),"undefined"==typeof App&&(App={}),App.OrganizationsView=Backbone.View.extend({initialize:function(a){if(this.type=a.type,_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.model.organizations_users.add(this.model.attributes.organizations_users),this.populateAclLinks(),!_.isUndefined(authuser.user)){var b=this.model.organizations_users.findWhere({user_id:parseInt(authuser.user.id)});_.isEmpty(b)||(this.model.organization_user_role_id=b.attributes.organization_user_role_id)}this.render(),"users"===this.type&&this.getOrganizationMemberLists(),this.model.boards.bind("change:organization_id remove",this.renderOrganizationCollection,this)},populateAclLinks:function(){var a=this.model.get("acl_links")||[];this.model.acl_links.reset(a,{silent:!0})},template:JST["templates/organization_view"],events:{"click .js-close-popover":"closePopup","click .js-get-organization-member-lists":"getOrganizationMemberLists","click .js-edit-organization-member-permission":"editOrganizationMemberPermission","click .js-trigger-logo-upload":"triggerLogoUpload","change .js-edit-organization-logo":"editOrganizationLogo","click .js-show-confirm-delete-organization-member":"showConfirmDeleteOrganizationMember","click .js-show-confirm-delete-organization-current-member":"showConfirmDeleteOrganizationCurrentMember","click .js-user-board-list":"userBoardList","click .js-remove-image":"removeImage","click .js-all-user-activities":"showUserActivities","click .js-org-image-uploaded":"computerOpenOrg","change #js-org-attachment":"addOrganizationImage"},editOrganizationLogo:function(a){var b=this,c=$("form.attachment-form-logo"),d=($("form.attachment-form-logo").serializeObject(),new App.Organization);return d.url=api_url+"organizations/"+b.model.organization_id+"/upload_logo.json",d.save({},{data:{},files:$("input.js-edit-organization-logo",c),iframe:!0},{success:function(a,c){1===c.error?b.flash("danger",i18next.t("File extension not supported. It supports only jpg, png, bmp and gif.")):(a.set("logo_url",c.logo_url),b.render(),"users"===b.type&&b.getOrganizationMemberLists(),$("#js-organization-logo-9").attr("href",c.logo_url))}}),!1},triggerLogoUpload:function(a){return $(".js-edit-organization-logo").trigger("click"),!1},showConfirmDeleteOrganizationMember:function(a){var b=$(a.currentTarget),c=b.parents(".js-show-confirm-delete-organization-member-dropdown"),d=$(".js-show-confirm-delete-organization-member-response",c);d.nextAll().remove();var e=b.data("organizations_user_id");this.model.organizations_user_id=e,$(new App.OrganizationMemberRemoveFormView({model:this.model}).el).insertAfter(d)},showConfirmDeleteOrganizationCurrentMember:function(a){var b=$(a.currentTarget),c=b.data("organizations_user_id");this.model.organizations_user_id=c,$(".js-show-confirm-delete-organization-member-response").html(new App.OrganizationMemberConfirmRemoveFormView({model:this.model}).el)},editOrganizationMemberPermission:function(a){var b=this,c=$(a.currentTarget),d=c.data("organizations_user_id"),e=c.data("organizations_id");c.parents("li.dropdown").removeClass("open");var f=new App.OrganizationsUser;return f.url=api_url+"organizations_users/"+d+".json",f.set("id",d),f.set("organization_id",e),f.set("organization_user_role_id",c.data("organization_user_role_id")),this.model.organizations_users.get(parseInt(d)).set("organization_user_role_id",c.data("organization_user_role_id")),b.getOrganizationMemberLists(),f.save({organization_user_role_id:c.data("organization_user_role_id")}),!1},getOrganizationMemberLists:function(){var a=new App.OrganizationsUserView({model:this.model});this.$("#member").html(a.el),this.$("#member").find('[data-toggle="tooltip"]').tooltip()},render:function(){$("#header").html(new App.OrganizationHeaderView({model:this.model,type:self.page_view_type}).el),this.$el.html(this.template({organization:this.model,type:this.type})),this.renderOrganizationCollection();var a=this;return _(function(){Backbone.TemplateManager.baseUrl="{name}";var b=new Backbone.UploadManager({uploadUrl:api_url+"organizations/"+a.model.organization_id+"/upload_logo.json?token="+api_token,autoUpload:!0,dropZone:$("#dropzone"),singleFileUploads:!0,formData:$("form.js-user-profile-edit").serialize(),fileUploadHTML:'<input id="fileupload1" type="file" name="attachment"  >',maxNumberOfFiles:1,acceptFileTypes:/(\.|\/)(jpe?g|png|bmp|gif)$/i});b.on("fileadd",function(b){$("#org-loader").addClass("cssloader");var c=/(\.jpg|\.jpeg|\.bmp|\.gif|\.png)$/i;c.exec(b.attributes.data.name)||(a.flash("danger",i18next.t("File extension not supported. It supports only jpg, png, bmp and gif.")),$("#org-loader").removeClass("cssloader"))}),b.on("fileuploaddragover",function(a){$("#js-org-drag").addClass("drophover")});var c=0;$("#dropzone").on("dragenter",function(a){c++,$("#js-org-drag").addClass("drophover")}),$("#dropzone").on("dragleave",function(a){c--,0!==c&&$.browser.chrome||$("#js-org-drag").removeClass("drophover")}),b.on("fileuploaddrop",function(a){c--,$("#js-org-drag").removeClass("drophover")}),b.on("filedone",function(b,c){$("#org-loader").removeClass("cssloader"),_.isUndefined(c.result.logo_url)||(a.model.set("logo_url",c.result.logo_url),a.render(),"users"===a.type&&a.getOrganizationMemberLists())}),b.renderTo($("#manager-area"))}).defer(),this.showTooltip(),this},computerOpenOrg:function(a){a.preventDefault();$(a.target);$("#js-user-profile-attachment").remove();var b=$("#js-org-drag");return $(b).append('<input class="hide" type="file" name="attachment" id="js-org-attachment">'),$("#js-org-attachment",b).trigger("click"),!1},addOrganizationImage:function(a){a.preventDefault(),$("#org-loader").addClass("cssloader");var b=this,c=($(a.target),new FormData);c.append("file",$("input[type=file]")[0].files[0]),this.render(),this.model.url=api_url+"organizations/"+this.model.organization_id+"/upload_logo.json",this.model.save(c,{patch:!0,type:"POST",data:c,processData:!1,cache:!1,contentType:!1,error:function(a,c){b.flash("danger",i18next.t("Unable to update. Please try again."))},success:function(a,c){$("#org-loader").removeClass("cssloader"),_.isUndefined(c.logo_url)?b.flash("danger",i18next.t("File extension not supported. It supports only jpg, png, bmp and gif.")):(b.model.set("logo_url",c.logo_url),b.render(),"users"===b.type&&b.getOrganizationMemberLists())}})},renderOrganizationCollection:function(){var a=this,b=this.$el.find("#js-organization-board-listing");if(b.html(""),_.isEmpty(this.model.boards.models)){var c=new App.OrganizationBoardView({model:null,stared:null,className:"alert alert-info"});b.append(c.render().el)}else this.model.boards.each(function(c){if(0===c.attributes.is_closed){c.board_stars.add(c.attributes.boards_stars),a.model.board_users.add(c.attributes.boards_users);var d;_.isUndefined(authuser.user)||(d=c.board_stars.findWhere({is_starred:1}));var e=new App.OrganizationBoardView({model:c,stared:d});b.append(e.el)}})},closePopup:function(a){var b=$(a.target);return b.parents("li.dropdown").removeClass("open"),b.parents("div.btn-group").removeClass("open"),!1},userBoardList:function(a){a.preventDefault();var b=$(a.currentTarget).data("user-id"),c=$(a.currentTarget).data("user-name"),d=this.model.board_users.where({user_id:parseInt(b)}),e=new App.BoardsUserCollection;return e.add(d),e.username=c,$(a.currentTarget).parents(".js-user-board-list-response").html(new App.UserBoardslistingMenuView({model:e}).el),!1},showUserActivities:function(a){a.preventDefault();var b=$(a.target).data("user_id"),c=new App.ModalActivityView({model:b,organization_id:this.model.id,type:"org_user_listing"});return c.show(),!1},removeImage:function(a){return a.preventDefault(),this.model.set("logo_url",null),this.render(),"users"===this.type&&this.getOrganizationMemberLists(),this.model.url=api_url+"organizations/"+this.model.id+".json",this.model.save({logo_url:"NULL"},{patch:!0}),!1}}),"undefined"==typeof App&&(App={}),App.OrganizationsUserView=Backbone.View.extend({initialize:function(a){_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.model.organizations_users.bind("change:id add",this.render,this),this.render()},template:JST["templates/organizations_user_view"],tagName:"article",id:"organizations_user_view",events:{"keyup .js-organization-users-search":"organizationUsersSearch","click .js-add-organization-member":"addOrganizationMember","click .js-delete-organization-member":"deleteOrganizationMember","click .js-show-organization-member-permission-form":"showOrganizationMemberPermissionForm","click .js-no-action":"noAction","keypress input[type=text]":"onEnter","click .js-add-member-dropdown":"clearMemberList"},render:function(){return this.model.organizations_users.showImage=this.showImage,this.$el.html(this.template({organization:this.model,organizations_users:this.model.organizations_users})),this.showTooltip(),this},clearMemberList:function(a){var b=this;b.$(".js-organization-member-search-response").nextAll().remove(),b.$(".js-organization-member-search-response").after('<li class="small col-xs-12">'+i18next.t("Search for a person in %s by name or email address.",{postProcess:"sprintf",sprintf:[SITE_NAME]})+"</li>")},organizationUsersSearch:function(a){var b=this,c=$(a.target).val();if(""!==c){var d=new App.UserCollection;d.url=api_url+"users/search.json",d.fetch({data:{organizations:this.model.id,q:c},success:function(){b.$(".js-organization-member-search-response").nextAll().remove(),_.each(d.models,function(a){var c=b.model.organizations_users.findWhere({organization_id:b.model.id,user_id:a.id});_.isUndefined(c)&&$(new App.UserSearchResultView({model:a}).el).insertAfter(b.$el.find(".js-organization-member-search-response"))}),0===d.length&&$(new App.UserSearchResultView({model:null}).el).insertAfter(b.$el.find(".js-organization-member-search-response"))}})}},addOrganizationMember:function(a){a.preventDefault();var b=this,c=new App.OrganizationsUser,d=$(a.currentTarget).data("user-id");return $(a.currentTarget).remove(),c.url=api_url+"organizations/"+b.model.id+"/users/"+d+".json",c.save({organization_id:b.model.id,user_id:d,organization_user_role_id:2},{success:function(a,e){c.set(e.organizations_users),c.set("organization_id",b.model.id),c.set("user_id",parseInt(d)),c.set("organization_user_role_id",2),c.set("id",parseInt(e.id)),b.model.organizations_users.add(c)}}),!1},deleteOrganizationMember:function(a){var b=this,c=$(a.currentTarget),d=c.data("organizations_user_id");c.parents("li.dropdown").removeClass("open"),b.model.organizations_users.remove(b.model.organizations_users.get(parseInt(d))),b.flash("success",i18next.t("User removed from this organization")),b.render();var e=new App.OrganizationsUser;return e.url=api_url+"organizations/"+b.model.id+"/organizations_users/"+d+".json",e.set("id",d),e.destroy(),!1},showOrganizationMemberPermissionForm:function(a){var b=$(a.currentTarget),c=b.data("organizations_user_id"),d=this.model.organizations_users.findWhere({id:parseInt(c)});d.organization_user_role_id=this.model.organization_user_role_id,d.organizations_user_id=c,d.organization_user_roles=this.model.organization_user_roles,d.acl_links=this.model.acl_links,$(".js-show-organization-member-permission-form-response").html(new App.OrganizationMemberPermissionFormView({model:d}).el)},noAction:function(a){return a.preventDefault(),!1},onEnter:function(a){if(13===a.which){var b=$(a.target).closest("form");if("cardAddForm"!==b.attr("name"))return!1;$("input[type=submit]",b).trigger("click")}}}),"undefined"==typeof App&&(App={}),App.BoardUsersView=Backbone.View.extend({initialize:function(a){_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.render()},tagName:"li",className:"form-inline navbar-btn btn-xs pull-left js-board-user-avatar-click dropdown nav",template:JST["templates/board_users_view"],events:{"click .js-show-board-user-action":"showBoardUserActions","click .js-show-confirm-delete-board-member":"showConfirmDeleteBoardUser","click .js-delete-board-member":"deleteBoardMember"},render:function(){return this.$el.html(this.template({user:this.model})),this.showTooltip(),this},showBoardUserActions:function(){this.$el.find(".js-show-board-user-action-response").html(new App.BoardUserActionsView({model:this.model}).el),$(".js-add-board-member-dropdown").removeClass("open")},showConfirmDeleteBoardUser:function(a){return a.preventDefault(),this.$el.find(".js-show-board-user-action-response").html(new App.BoardUserRemoveConfirmView({model:this.model,authuser:authuser.user}).el),!1},deleteBoardMember:function(a){$(a.currentTarget);return this.$el.remove(),this.model.url=api_url+"boards/"+this.model.attributes.board_id+"/boards_users/"+this.model.attributes.id+".json",this.model.destroy(),parseInt(this.model.attributes.user_id)===parseInt(authuser.user.id)&&app.navigate("#/boards",{trigger:!0,replace:!0}),!1}}),"undefined"==typeof App&&(App={}),App.ChatView=Backbone.View.extend({template:JST["templates/chat"],initialize:function(a){this.render()},render:function(){return this.$el.html(this.template()).attr("title",i18next.t("Chat")),this.$el.dockmodal({initialState:"docked",height:300,width:400,animationSpeed:ANIMATION_SPEED}),this.showTooltip(),this}}),"undefined"==typeof App&&(App={}),App.CardView=Backbone.View.extend({template:JST["templates/card"],converter:new showdown.Converter,initialize:function(a){if(_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),a=a||{},this.tmp=a.template,this.board_id=a.board_id,this.card_users=[],_.bindAll(this,"render","renderListChange"),_.isUndefined(a.template)||(this.template=JST["templates/card_list_view"]),!_.isEmpty(this.model)&&(this.model.bind("change:id change:name change:description change:board_id  change:cards_checklists  change:cards_labels  change:cards_subscribers  change:is_archived  change:due_date change:list_id  change:title change:checklist_item_completed_count change:checklist_item_count change:is_offline",this.render),this.model.bind("change:list_id",this.renderListChange),this.model.has("list")&&(this.list=this.model.get("list"),this.model.unset("list")),this.model.has("card_attachments")&&this.model.attachments.add(this.model.get("card_attachments"),{silent:!0}),this.model.has("cards_checklists")&&this.model.checklists.add(this.model.get("cards_checklists"),{silent:!0}),this.model.has("cards_users")&&this.model.users.add(this.model.get("cards_users"),{silent:!0}),this.model.has("board_users")&&this.model.board_users.add(this.model.get("board_users"),{silent:!0}),this.model.has("cards_voters")&&this.model.card_voters.add(this.model.get("cards_voters"),{silent:!0}),this.model.has("cards_subscribers")&&this.model.cards_subscribers.add(this.model.get("cards_subscribers"),{silent:!0}),this.model.attachments.bind("add",this.render),this.model.bind("change:id",this.render),this.model.attachments.bind("remove",this.render),this.model.labels.bind("remove",this.render),this.model.labels.bind("add",this.render),this.model.labels.bind("change",this.render),this.model.users.bind("add",this.render),this.model.users.bind("add:id",this.render),this.model.users.bind("change:id",this.render),this.model.users.bind("remove",this.render),_.isUndefined(this.model.list)||(this.model.list.collection.board.labels.bind("add",this.render),this.model.list.collection.board.labels.bind("remove",this.render),this.model.list.collection.board.activities.bind("add remove",this.render)),this.model.cards_subscribers.bind("add",this.render),this.model.cards_subscribers.bind("remove",this.render),this.model.card_voters.bind("add",this.render),this.model.card_voters.bind("remove",this.render),!_.isUndefined(authuser.user))){var b=this.model.board_users.findWhere({user_id:parseInt(authuser.user.id)});_.isEmpty(b)||(this.model.board_user_role_id=b.attributes.board_user_role_id)}},className:"panel js-show-modal-card-view js-board-list-card cur",attributes:{"data-toggle":"modal","data-target":"#myModal",href:"#"},templateAdd:JST["templates/card_add"],events:{"click .js-cancel-card-add":"hideAddCardFrom",click:"showCardModal","click .js-show-modal-card-view":"showCardModal","click .js-show-card-action-list":"showCardActionList","click .js-back-to-card-actions":"backToCardActions","click .js-show-add-member-form":"showAddMemberForm","click .js-show-card-label-form":"showCardLabelForm","click .js-show-card-position-form":"showCardPositionForm","change .js-change-card-position":"selectCardPosition","click .js-change-card-position":"selectCardPosition","change .js-position":"changeCardPosition","click .js-position":"changeCardPosition","click .js-add-card-member":"addCardMember","click .js-remove-card-member":"removeCardMember",cardSort:"cardSort"},cardSort:function(a,b){var c=this,d=$(a.target),e={},f=parseInt(d.parents(".js-board-list:first").data("list_id")),g=c.model.attributes.list_id,h=d.prev(".js-board-list-card").data("card_id"),i=d.next(".js-board-list-card").data("card_id");c.model.url=api_url+"boards/"+c.model.attributes.board_id+"/lists/"+c.model.attributes.list_id+"/cards/"+c.model.attributes.id+".json",("undefined"==typeof h&&"undefined"==typeof i||f!=c.model.attributes.list_id)&&(e.list_id=f),"undefined"!=typeof h?c.model.moveAfter(h):"undefined"!=typeof i&&c.model.moveBefore(i),c.model.set({list_id:f},{silent:!0}),e.position=c.model.attributes.position,c.model.save(e,{patch:!0,silent:!0}),c.model.list.collection.board.lists.get(g).cards.remove(c.model),c.model.list.collection.board.lists.get(f).cards.add(c.model);var j=c.model.list.collection.board.attachments.where({card_id:c.model.attributes.id}),k=1;_.each(j,function(a){var b={silent:!0};k===j.length&&(b.silent=!1),c.model.list.collection.board.attachments.get(a.id).set({list_id:f},b),k++})},render:function(a){var b="",c=this;if(!_.isUndefined(this.tmp)||null===c.model||_.isEmpty(c.model)||_.isUndefined(this.model.list)||_.isUndefined(this.model.list.collection))if(null===c.model||_.isEmpty(c.model)||_.isUndefined(c.model.attributes.id)||_.isUndefined(this.model.list)||_.isUndefined(this.model.list.collection))null===c.model&&$(".js-card-list-view-"+this.board_id).html(this.$el.append(c.template({card:c.model})));else{b+='<ul class="unstyled  hide js-card-labels">';var d=this.model.list.collection.board.labels.where({card_id:c.model.id}),e=new App.CardLabelCollection;e.add(d);for(var f=e.models.length,g=0;f>g;g++){var h=e.models[g];""!==_.escape(h.attributes.name)&&(b+='<li class="'+_.escape(h.attributes.name)+'">'+_.escape(h.attributes.name)+"</li>")}b+="</ul>",this.$el.html(b),b='<ul class="unstyled  js-card-users hide">';for(var i=this.model.users,j=i.models.length,k=0;j>k;k++){var l=i.models[k];b+="<li>user-filter-"+l.attributes.user_id+"</li>"}b+="</ul>",this.$el.append(b),b='<ul class="unstyled  js-card-due hide">',b+=this.getDue(this.model.get("due_date")),b+="</ul>",this.$el.append(b),this.$el.append(c.template({card:c.model}))}else{b+='<ul class="unstyled  hide js-card-labels">';var m=this.model.list.collection.board.labels.where({card_id:c.model.id}),n=new App.CardLabelCollection;n.add(m),n.each(function(a){""!==_.escape(a.attributes.name)&&(b+='<li class="'+_.escape(a.attributes.name)+'">'+_.escape(a.attributes.name)+"</li>")}),b+="</ul>",this.$el.html(b),b='<ul class="unstyled  js-card-users hide">',this.model.users.each(function(a){b+="<li>user-filter-"+a.get("user_id")+"</li>"}),b+="</ul>",this.$el.append(b),b='<ul class="unstyled  js-card-due hide">',b+=this.getDue(this.model.get("due_date")),b+="</ul>",this.$el.append(b),this.$el.append(this.template({card:this.model,converter:this.converter})),_.isUndefined(this.model.attributes.name)||""===this.model.attributes.name||this.$el.addClass("panel js-show-modal-card-view js-board-list-card cur").removeAttr("id").attr("data-toggle","modal").attr("data-target","#myModal").attr("data-card_id",this.model.id).attr("id","js-card-"+this.model.id)}return this},renderAdd:function(){return this.$el.html(this.templateAdd({model:this.model})),this},hideAddCardFrom:function(a){return $("#js-list-card-add-form-"+this.model.attributes.list_id).remove(),$(".js-show-add-card-form",$("#js-card-listing-"+this.model.attributes.list_id).next()).removeClass("hide"),!1},addCard:function(a){a.preventDefault();var b=this,c=$(a.target).parents("form.js-cardAddForm").serializeObject();void 0!==c.selected_list_id&&(c.list_id=c.selected_list_id),$(".js-show-add-card-form",$("#js-card-listing-"+this.model.attributes.list_id).next()).removeClass("hide"),b.model.unset("list"),b.model.set(c),this.list.cards.push(b.model),b.model.collection.add(b.model),b.model.url=api_url+"boards/"+this.model.attributes.board_id+"/lists/"+this.model.attributes.list_id+"/cards.json",b.model.save({},{success:function(a,c){b.model.set("id",parseInt(c.id)),b.list.collection.board.activities.unshift(c.activity)}})},selectCardPosition:function(a){var b=$(a.currentTarget),c=this,d=b.val(),e=($(a.target).parents("form.js-cardAddForm").find(".js-selected-board").val(),"");c.$el.find(".js-card-add-list").val(d);for(var f=this.model.list.collection.board.lists.findWhere({id:parseInt(d)}),g=this.model.list.collection.board.cards.where({list_id:f.attributes.id,is_archived:0}).length,h=1;g>=h;h++)e+='<option value="'+h+'">'+h+"</option>";return c.$el.find(".js-card-add-position").val(h),e+='<option value="'+h+'" selected="selected">'+h+" "+i18next.t("(current)")+"</option>",
c.$el.find(".js-position").html(e),!1},changeCardPosition:function(a){var b=$(a.currentTarget),c=b.val();return this.$el.find(".js-card-add-position").val(c),!1},showCardModal:function(a){if($("ul.dropdown-menu").parent().removeClass("open"),null===this.model||_.isEmpty(this.model))return!1;_.isEmpty(this.model.attributes.name)||changeTitle(i18next.t("Card - %s on %s",{postProcess:"sprintf",sprintf:[_.escape(this.model.attributes.name),_.escape(this.model.list.collection.board.attributes.name)]}));var b=Backbone.history.fragment;_.isUndefined(this.model.id)||0!==card_ids_ref[0]&&-1!==_.indexOf(card_ids_ref,this.model.id)||(card_ids_ref||(card_ids_ref=[]),card_ids_ref.push(this.model.id),b+=-1!=b.indexOf("/card/")?","+this.model.id:"/card/"+this.model.id,b=b.replace("/board","board"),app.navigate("#/"+b,{trigger:!1,trigger_function:!1}));var c="Maximized"===DEFAULT_CARD_VIEW?"modal":"docked";if((a.ctrlKey||a.metaKey)&&(c="modal"),!_.isUndefined(this.model.id)){var d=new App.ModalCardView({model:this.model,initialState:c}),e=this.$("#js-card-listing-"+this.model.id);return e.html("&nbsp;"),d.show(),!1}},getDue:function(a){if(null===a)return"";var b=new Date,c=(new Date(b.getFullYear(),b.getMonth()+1,0),new Date(b.getFullYear(),b.getMonth()+2,0)),d=new Date(a),e=Math.floor(d.getTime()-b.getTime()),f=864e5,g=Math.floor(e/f),h=Math.floor((g+(b.getDate()+1))/c.getDate()),i=Math.floor(h/12),j=(g-(6-b.getDay()),""),k="feature";return j="",i>0&&(k="year",j+="<li>year</li>"),g>=0&&7>=g&&(k="week",j+="<li>week</li>"),g>=0&&30>=g&&(k="month",j+="<li>month</li>"),0===g&&(k="day",j+="<li>day</li>"),(0>i||0>h||-1>=g)&&(k="overdue",j+="<li>overdue</li>"),j},showCardActionList:function(a){a.preventDefault(),$(a.currentTarget).next().remove(),$(a.currentTarget).after(new App.CardActionsView({model:this.model}).el)},showAddMemberForm:function(a){a.preventDefault(),$(".js-card-action-list-response").html(new App.CardMemberFormView({model:this.model}).el),this.showTooltip();var b=$(".js-card-user-ids").val(),c=b.split(",");for(i=0;i<c.length;i++)target=$('.js-add-card-member[data-user-id="'+c[i]+'"]'),target.removeClass("js-add-card-member").addClass("js-remove-card-member"),target.append('<i class="icon-ok"></i>');return!1},showCardLabelForm:function(a){var b=this;return $(".js-card-action-list-response").html(new App.CardLabelsFormView({model:this.model}).el),$(".js-card-label").select2({tags:this.model.list.collection.board.labels.pluck("name"),tokenSeparators:[","," "]}).on("select2-selecting",function(a){var c=_.pluck(b.$(".js-card-label").select2("data"),"text");c.push(a.choice.text),b.$el.find(".js-card-add-labels").val(c.join(","));var d='<i style="color:#'+calcMD5(""+a.choice.text).slice(0,6).substring(0,6)+'" data-toggle="tooltip" data-container="body" data-placement="top" data-original-title="'+a.choice.text+'" title="'+a.choice.text+'" class="js-label-'+a.choice.text+" "+LABEL_ICON+'"></i>';$(".js-lables-list").append(d)}).on("select2-removed",function(a){var c=_.pluck(b.$(".js-card-label").select2("data"),"text");b.$el.find(".js-card-add-labels").val(c.join(",")),$(".js-lables-list").children().remove(".js-label-"+a.choice.text)}),!1},showCardPositionForm:function(a){return a.preventDefault(),$(".js-card-action-list-response").html(new App.CardPositionsFormView({model:this.model,boards:App.boards}).el),!1},backToCardActions:function(a){return $("a.js-show-card-action-list").next().remove(),$("a.js-show-card-action-list").after(new App.CardActionsView({model:this.model}).el),!1},getLabelcolor:function(a){return calcMD5(a).slice(0,6)},addCardMember:function(a){var b=$(a.currentTarget);b.removeClass("js-add-card-member").addClass("js-remove-card-member"),b.append('<i class="icon-ok"></i>');var c=b.data("user-id");return this.card_users.push(parseInt(c)),$.unique(this.card_users),this.$el.find(".js-card-user-ids").val(this.card_users.join(",")),!1},removeCardMember:function(a){a.preventDefault();var b=$(a.currentTarget);b.removeClass("js-remove-card-member").addClass("js-add-card-member"),b.find("i.icon-ok").remove();var c=b.data("user-id");return $.unique(this.card_users),this.card_users.splice($.inArray(parseInt(c),this.card_users),1),this.$el.find(".js-card-user-ids").val(this.card_users.join(",")),!1},renderListChange:function(){this.$el.remove(),this.render()}}),"undefined"==typeof App&&(App={}),App.ModalCardView=Backbone.View.extend({id:"base-modal",className:"",converter:new showdown.Converter,template:JST["templates/modal_card_view"],events:{"click .js-close-popover":"closePopup","click .js-open-popover":"openPopup","click .js-show-card-title-edit-form":"showCardTitleEditForm","click .js-cancel-card-title-edit":"cancelCardTitleEditForm","submit form.js-card-edit-form":"editCard","click .js-show-card-desc-edit-form":"showCardDescEditForm","click .js-cancel-card-description-edit":"cancelCardDescEditForm","click .js-show-card-due-date-form":"showCardDueDateForm","click .js-edit-card-due-date-form":"editCardDueDateForm","submit form.js-card-label-add-form":"addCardLabel","click .js-show-card-label-form":"showCardLabelForm","click .js-add-card-vote":"addCardVote","click .js-delete-card-vote":"deleteCardVote","click .js-card-subscribe":"cardSubscribe","click .js-card-unsubscribe":"cardUnsubscribe","click .js-show-move-card-form":"showMoveCardForm","submit form.js-move-card":"moveCard","click .js-archive-card":"archiveCard","click .js-card-send-to-board":"cardSendToBoard","click .js-delete-card":"deleteCard","click a.js-attachment-dropbox-open":"dropboxChooser","click a.js-attachment-computer-open":"computerOpen","change .js-card-attachment":"addCardAttachment","click .js-show-checklist-add-form":"showChecklistAddForm","submit form.js-add-checklist":"addChecklist","click .js-show-add-member-form":"showAddMemberForm","click .js-add-card-member":"addCardMember","click .js-remove-card-member":"removeCardMember","click .js-remove-due-date":"removeDueDate","change .js-change-list":"changeList","change .js-change-position":"changePosition","click .js-show-copy-card-form":"showCopyCardForm","submit .js-copy-card":"copyCard","click .js-more-dropdown":"showMoreForm","click .js-select-card-url":"selectCardURL","click .js-show-add-comment-form":"showAddCommentForm","submit form.js-add-comment":"addComment","click .js-show-edit-activity":"showEditCommentForm","submit form.js-edit-comment":"editComment","click .js-hide-edit-comment-form":"hideEditCommentForm","click .js-show-confirm-comment-delete":"showConfirmCommentDelete","click .js-delete-comment":"deleteComment","click .js-show-reply-activity-form":"showReplyCommentForm","click .js-hide-reply-comment-form":"hideReplyCommentForm","submit .js-card-attachment-link-form":"addCardAttachmentLink","click .js-show-card-voters-list":"showCardVotersList","keyup .js-search-card":"showSearchCards","click .js-add-comment-card":"AddCommentCard","keyup .js-search-member":"showSearchMembers","click .js-add-comment-member":"AddCommentMember","focus .js-comment":"showActions","keyup .js-comment":"showMemberSearch","keyup .js-search-users":"showSearchUsers","click .js-load-dropbox":"loadDropbox","click .js-no-action":"noAction","click .js-show-side-card-title-edit-form":"showSideCardTitleEditForm","click .js-open-dropdown":"openDropdown","keypress input[type=text]":"onEnter","click .js-show-emoji-list":"showEmojiList","click .js-comment-add-emoji":"addEmoji","click .js-checklist-item-add-emoji":"addChecklistItemEmoji","click #modal-comments":"showActivity","click #modal-activities":"showActivity","keypress[c] .dockmodal":"keyboardArchiveCard","keyup[d] .dockmodal":"keyboardShowCardDueDateForm","keyup[t] .dockmodal":"keyboardShowCardTitleEditForm","keyup[v] .dockmodal":"keyboardAddCardVote","keyup[s] .dockmodal":"keyboardCardSubscribe","keyup[m] .dockmodal":"keyboardShowAddMemberForm","keyup[l] .dockmodal":"keyboardShowCardLabelForm","keyup[space] .dockmodal":"keyboardAddCardMember"},initialize:function(a){$(".modalChatHistoryView").hasClass("in")&&$(".modalChatHistoryView").modal("hide"),this.initialState=a.initialState,_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage);var b=this;_.bindAll(this,"render","renderChecklistsCollection","renderUsersCollection","refreshdock"),this.model.bind("change:name change:description change:board_id  change:cards_checklists  change:cards_labels  change:cards_subscribers  change:is_archived  change:due_date change:list_id  change:title",this.refreshdock),this.model.cards_subscribers.bind("add remove",this.refreshdock),this.model.checklists.bind("remove",this.renderChecklistsCollection),this.model.checklists.bind("add",this.renderChecklistsCollection),this.model.checklists.bind("change:name",this.renderChecklistsCollection),this.model.list.collection.board.checklist_items.bind("add",this.renderChecklistsCollection),this.model.list.collection.board.checklist_items.bind("remove",this.renderChecklistsCollection),this.model.list.collection.board.cards.bind("change:list_id",this.refreshdock),b.authuser=authuser.user,this.model.card_voters.bind("add",this.refreshdock),this.model.card_voters.bind("remove",this.refreshdock),this.model.attachments.bind("add",this.refreshdock),this.model.attachments.bind("remove",this.refreshdock),this.board=b.model.list.collection.board,_(this).bindAll("show"),this.boards=new App.BoardCollection,_.isUndefined(authuser.user)||(this.boards.url=api_url+"users/"+authuser.user.id+"/boards.json?type=simple",this.boards.fetch()),this.boards=App.boards},drop:function(a,b){if(a.stopPropagation(),a.preventDefault(),!_.isUndefined(a.originalEvent)){var c=a.originalEvent.dataTransfer.files;this.processFiles(c,a.currentTarget.dataset.card_id)}return!1},dragover:function(a){a.stopPropagation(),a.preventDefault()},processFiles:function(a,b){_.each(a,function(a){this.processFile(a,b)},this)},processFile:function(a,b){var c=new FormData;c.append("attachment",a);var d=new App.CardAttachment;d.url=api_url+"boards/"+this.model.attributes.board_id+"/lists/"+this.model.attributes.list_id+"/cards/"+this.model.id+"/attachments.json",d.save(c,{type:"POST",data:c,processData:!1,cache:!1,contentType:!1})},showEmojiList:function(a){a.preventDefault();var b="smile,thumbsup,warning,sunglasses",c=b.split(",");$(".js-show-emoji-list-response ul").remove(),$(".js-show-emoji-list-response").append(new App.EmojiListView({model:c}).el),emojify.run()},addEmoji:function(a){a.preventDefault();var b=$(a.currentTarget);this.$el.find(".js-comment").val(this.$el.find(".js-comment").val()+":"+b.text()+": ")},addChecklistItemEmoji:function(a){a.preventDefault();var b=$(a.currentTarget);this.$el.find("#ChecklistItem").val(this.$el.find("#ChecklistItem").val()+":"+b.text()+": ")},showActivity:function(a){a.preventDefault();var b=0,c="",d=$(a.currentTarget),e=$(a.target).parents().find("#card_activities");return $("#"+d.attr("id"),e).parent("ul").hasClass("called")||($("#"+d.attr("id"),e).parent("ul").addClass("called"),$("#"+d.attr("id"),e).toggleClass("active"),$("#modal-comments",e).hasClass("active")||(b++,c+=".modal-comments, "),$("#modal-activities",e).hasClass("active")||(b++,c+=".modal-activities, "),c=c.substring(0,c.lastIndexOf(", ")),(2===b||0===b)&&$(".modal-comments, .modal-activities",e).parent("li").removeClass("hide"),2!==b&&$(c,e).parent("li").addClass("hide"),$("#"+d.attr("id"),e).parent("ul").removeClass("called")),!1},addCardLabel:function(a){a.preventDefault();var b=this,c=$(a.target),d=c.serializeObject();d.uuid=(new Date).getTime(),c.parents("li.dropdown").removeClass("open");var e=b.model.list.collection.board.labels.where({card_id:b.model.id}),f=new App.CardLabelCollection;f.add(e),f.each(function(a){b.model.list.collection.board.labels.remove(a,{silent:!0}),b.model.labels.remove(a,{silent:!0})});var g=new App.Label;g.set("is_offline",!0),g.set("board_id",b.model.attributes.board_id),g.set("list_id",b.model.attributes.list_id),g.set("card_id",b.model.id);var h=d.name,i=d.hiddenName,j=i.localeCompare(h);return 0!==j&&(g.url=api_url+"boards/"+b.model.attributes.board_id+"/lists/"+b.model.attributes.list_id+"/cards/"+b.model.id+"/labels.json",g.save(d,{success:function(a,c,e){_.isUndefined(e.temp_id)&&g.set("is_offline",!1),!_.isUndefined(c.id)&&_.isUndefined(e.temp_id)?g.set({id:parseInt(c.id)}):(global_uuid[d.uuid]=e.temp_id,g.set("id",d.uuid)),g.set("card_name",b.model.get("name"));var f=d.name.split(","),h=b.$el.find(".js-card-labels-list");if(b.$el.find(".js-card-label-show").remove(),b.model.labels.reset(),_.isUndefined(c.cards_labels)||(f=c.cards_labels),f.length>0?_.each(f,function(a){var c=new App.Label;c.set(a),_.isUndefined(a.id)?c.set("name",a):(c.set("id",parseInt(a.id)),c.set("label_id",parseInt(a.label_id))),c.set("board_id",b.model.attributes.board_id),c.set("list_id",b.model.attributes.list_id),c.set("card_id",b.model.id),b.model.list.collection.board.labels.add(c,{silent:!0}),b.model.labels.add(c);var d=new App.CardLabelView({model:c,background:b.getLabelcolor(""+c.attributes.name).substring(0,6)});h.prepend(d.render().el),$("#js-card-"+b.model.id).addClass("active"),$(".js-label-dropdown").removeClass("open")}):$(".js-card-label-section-"+b.model.id).html(""),!_.isUndefined(c.activity)&&c.activity!==!1){var i=new App.Activity;i.set(c.activity),i.board_users=b.model.board_users;var j=new App.ActivityView({model:i,board:b.model.list.collection.board});b.model.activities.unshift(i);var k=$("#js-card-activities-"+b.model.id);k.prepend(j.render().el).find(".timeago").timeago(),emojify.run()}}})),!1},showCardLabelForm:function(a){var b=this,c=$("#js-card-modal-"+this.model.id),d=(new App.CardLabelCollection,""),e=this.model.list.collection.board.labels.where({card_id:this.model.id});this.model.labels.add(e,{silent:!0}),this.model.labels.each(function(a){""!==_.escape(a.attributes.name)&&(d+=_.escape(a.attributes.name)+",")}),d=d.substr(0,d.length-1),$(".js-show-card-label-form-response").html(new App.CardLabelFormView({model:d,card:this.model}).el),$(".inputCardLabel",c).select2({tags:_.uniq(b.model.list.collection.board.labels.pluck("name")),tokenSeparators:[","," "]});var f=$(a.target);return $("li.dropdown").removeClass("open"),f.parents("li.dropdown").addClass("open"),f.hasClass("js-card-header-action")?!1:void 0},editCardDueDateForm:function(a){$(".js-edit-card-due-date-form-response").html(new App.CardDuedateFromView({model:this.model}).el),$(".js-card-duedate-edit-"+this.model.id).datetimepicker({format:"yyyy-mm-dd",autoclose:!0,todayBtn:!0,pickerPosition:"bottom-right",todayHighlight:1,startView:2,minView:2,bootcssVer:3,pickTime:!1}),$(".js-card-duetime-edit-"+this.model.id).datetimepicker({format:"hh:ii:ss",autoclose:!0,showMeridian:!1,startView:1,maxView:1,pickDate:!1,use24hours:!0})},showCardDueDateForm:function(a){$(".js-show-card-due-date-form-response").html("").html(new App.CardDuedateFromView({model:this.model}).el),$(".js-card-duedate-edit-"+this.model.id).datetimepicker({format:"yyyy-mm-dd",autoclose:!0,todayBtn:!0,pickerPosition:"bottom-right",todayHighlight:1,startView:2,minView:2,bootcssVer:2,pickTime:!1}).on("changeDate",function(a){$(this).datetimepicker("hide"),$(this).blur()}),$(".js-card-duetime-edit-"+this.model.id).datetimepicker({format:"hh:ii:ss",autoclose:!0,showMeridian:!1,startView:1,maxView:1,pickDate:!1,use24hours:!0}).on("changeDate",function(a){$(this).datetimepicker("hide"),$(this).blur()});var b=$(a.target);return $("li.dropdown").removeClass("open"),b.parents("li.dropdown").addClass("open"),!1},cancelCardDescEditForm:function(a){return this.$el.find(".js-show-card-desc").next("p").show(),this.$el.find("#cardDescriptionEditForm").hide(),!1},showMemberSearch:function(a){var b=$(a.target).val(),c=a.which||a.keyCode;if(50===c&&(a.shiftKey||a.metaKey))this.autoMentionSelectionStart=a.target.selectionStart,$(".js-show-members").parents(".dropdown:first").addClass("open");else if(this.autoMentionSelectionStart)if(32==c)this.autoMentionSelectionStart=0,$(".js-show-members").parents(".dropdown:first").removeClass("open");else{for(var d,e,f=/ /gi;d=f.exec(b);)if(d.index>=this.autoMentionSelectionStart){e=d.index;break}e||(e=b.length),$(".js-search-member").val(b.substr(this.autoMentionSelectionStart,e-this.autoMentionSelectionStart)).trigger("keyup")}return!1},showCardDescEditForm:function(a){return a.preventDefault(),this.$el.find(".js-show-card-desc").next("p").hide(),this.$el.find("#cardDescriptionEditForm").removeClass("hide").show(),!1},editCard:function(a){a.preventDefault();var b=this,c=!0,d=$(a.target).serializeObject();_.isUndefined(d.due_date)&&_.isUndefined(d.due_time)||(d={to_date:d.due_date,due_date:d.due_date+" "+d.due_time,start:d.due_date+"T"+d.due_time}),this.model.set(d);var e=$(a.currentTarget);return $(".js-show-side-card-title-edit-form").parents().find(".dropdown").removeClass("open"),_.isUndefined(d.name)||e.prev("h4").html(_.escape(d.name)).removeClass("hide"),_.isUndefined(d.description)||($.trim($("#inputCarddescription").val()).length?($(".error-msg").remove(),$(".js-show-card-desc").show(),$("#cardDescriptionEditForm").hide(),c=!0):($(".error-msg").remove(),$('<div class="error-msg text-primary h6">Whitespace alone not allowed</div>').insertAfter("#inputCarddescription"),c=!1,this.$el.find("#cardDescriptionEditForm").removeClass("hide").show())),c&&(this.model.url=api_url+"boards/"+this.model.attributes.board_id+"/lists/"+this.model.attributes.list_id+"/cards/"+this.model.id+".json",this.model.save(d,{patch:!0,success:function(a,c,e){if(_.isUndefined(e.temp_id)?b.model.set("is_offline",!1):this.model.set("is_offline",!0),!_.isEmpty(c)){if(!_.isUndefined(c.activity)){var f=new App.Activity;f.set(c.activity),f.board_users=b.model.board_users;var g=new App.ActivityView({model:f,board:b.model.list.collection.board});b.model.activities.unshift(f,{silent:!0});var h=$("#js-card-activities-"+b.model.id);h.prepend(g.render().el).find(".timeago").timeago(),emojify.run()}b.model.cards.add(b.model)}_.isEmpty(d.due_date)||(b.model.list.collection.board.lists.each(function(a){var c=a.get("cards")||[];_.isEmpty(c)||_.each(c,function(a){a.id===b.model.id&&(a.due_date=d.due_date)})}),b.model.set("due_date",d.start))}})),!1},cancelCardTitleEditForm:function(a){var b=$(a.currentTarget);return b.parents("form").addClass("hide"),b.parents("form").prev("h4").removeClass("hide"),!1},showCardTitleEditForm:function(a){var b=$(a.currentTarget);return b.parent("h4").addClass("hide"),$("form#cardTitleEditForm").removeClass("hide"),!1},show:function(){$("#js-card-"+this.model.id).addClass("active"),this.render();var a=this;a.model.activities=new App.ActivityCollection,a.model.activities.url=api_url+"boards/"+a.model.attributes.board_id+"/lists/"+a.model.attributes.list_id+"/cards/"+a.model.id+"/activities.json",a.model.activities.fetch({success:function(b,c){a.renderActivitiesCollection()}})},refreshdock:function(){var a=$("#js-card-modal-"+this.model.id),b=this;if(0!==a.length){var c=this.model.cards_subscribers.where({is_subscribed:1,user_id:parseInt(authuser.user.id)}),d="";_.isEmpty(c)||(d=' <span class="icon-eye-open"></span>');var e="",f=i18next.t("%s in list %s %s",{postProcess:"sprintf",sprintf:[_.escape(this.model.attributes.name),_.escape(this.model.list.attributes.name),d]});1===parseInt(this.model.attributes.is_archived)&&(e=" label label-warning",f=i18next.t("This card is archived.")),$(".title-text",a.parent().prev(".dockmodal-header")).html('<div class="card-id pull-left"><strong>#'+this.model.id+'</strong></div><span class="title-color'+e+'" id="js-title-color-'+this.model.id+'">'+f+"</span>"),a.html(this.template({card:this.model,checklist_lists:this.checklist_list,converter:this.converter,list:this.model.list})).dockmodal("refreshLayout"),_(function(){Backbone.TemplateManager.baseUrl="{name}";var a=new Backbone.UploadManager({uploadUrl:api_url+"boards/"+b.model.attributes.board_id+"/lists/"+b.model.attributes.list_id+"/cards/"+b.model.id+"/attachments.json?token="+api_token,autoUpload:!0,singleFileUploads:!1,formData:$("form.js-user-profile-edit").serialize(),dropZone:$("#dropzone"+b.model.id),pasteZone:$("#dropzone"+b.model.id)}),c="";a.on("fileadd",function(a){if(!a.attributes.data.name){var d=new Date;a.attributes.data.name="upload_"+(d.getMonth()+1)+"_"+d.getDate()+"_"+d.getFullYear()+"_at_"+((d.getHours()+11)%12+1)+"_"+d.getMinutes()+"_"+d.getSeconds()+"_"+(d.getHours()>=12?"PM":"AM")+"."+a.attributes.data.type.split("/")[1]}c=(new Date).getTime(),$("#js-card-modal-"+b.model.id).parent(".dockmodal-body").prev(".dockmodal-header").find(".cssloader").remove(),$("#js-card-modal-"+b.model.id).parent(".dockmodal-body").prev(".dockmodal-header").append('<span id="'+c+'" class="cssloader"></span>'),b.$(".js_card_image_upload").addClass("cssloader")}),a.on("fileuploaddragover",function(a){$("#js-card-modal-"+b.model.id).addClass("drophover")});var d=0;$("#dropzone"+b.model.id).on("dragenter",function(a){d++}),$("#dropzone"+b.model.id).on("dragleave",function(a){d--,0!==d&&$.browser.chrome||$("#js-card-modal-"+b.model.id).removeClass("drophover")}),a.on("fileuploaddrop",function(a){d--,$("#js-card-modal-"+b.model.id).removeClass("drophover")}),a.on("filedone",function(a,c){$("#js-card-modal-"+b.model.id).parent(".dockmodal-body").prev(".dockmodal-header").find(".cssloader").remove();var d={};d=c.result;var e=new App.CardAttachmentCollection,f=1;e.add(d.card_attachments),e.each(function(a){var c={silent:!0};f===e.models.length&&(c.silent=!1),a.set("id",parseInt(a.attributes.id)),a.set("board_id",parseInt(a.attributes.board_id)),a.set("list_id",parseInt(a.attributes.list_id)),a.set("card_id",parseInt(a.attributes.card_id)),b.model.attachments.unshift(a,c),b.model.list.collection.board.attachments.unshift(a,c),f++})})}).defer(),this.resizeSplitter(),this.renderAttachmentsCollection(),this.renderLabelsCollection(),this.renderUsersCollection(),this.renderActivitiesCollection(),this.renderChecklistsCollection()}},render:function(){var a=this,b="";if(!_.isUndefined(authuser.user)){var c=this.model.cards_subscribers.where({is_subscribed:1,user_id:parseInt(authuser.user.id)});_.isEmpty(c)||(b=' <span class="icon-eye-open"></span>')}this.initialState?initialState=this.initialState:trigger_dockmodal&&(initialState="minimized");var d=$("#js-card-modal-"+this.model.id);if(0===d.length){$(".js-hidden-blocks").append(this.$el.html(this.template({card:this.model,checklist_lists:this.checklist_list,converter:this.converter,list:this.model.list})).attr("id","js-card-modal-"+this.model.id)),this.renderAttachmentsCollection(),this.renderLabelsCollection(),this.renderUsersCollection(),this.renderChecklistsCollection();var e=i18next.t("%s in list %s %s",{postProcess:"sprintf",sprintf:[_.escape(this.model.attributes.name),_.escape(this.model.list.attributes.name),b]}),f="";1===parseInt(this.model.attributes.is_archived)&&(f=" label label-warning",e=i18next.t("This card is archived.")),this.$el.dockmodal({initialState:initialState,height:450,width:600,animationSpeed:ANIMATION_SPEED,title:'<div class="card-id pull-left"><strong>#'+this.model.id+'</strong></div><span class="title-color'+f+'" id="js-title-color-'+this.model.id+'">'+e+"</span>",beforePopout:function(b){_.isUndefined(authuser.user)||$("#js-title-color-"+a.model.id).parent(".title-text").css("margin-left","34px"),$(".editor").resizable({maxWidth:900})},beforeRestore:function(b){_.isUndefined(authuser.user)||$("#js-title-color-"+a.model.id).parent(".title-text").css("margin-left","34px"),$(".editor").resizable({maxWidth:490})},beforeMinimize:function(b){$("#js-title-color-"+a.model.id).parent(".title-text").removeAttr("style")},minimize:function(b){$("#js-title-color-"+a.model.id).parent(".title-text").removeAttr("style")},open:function(a,b){$(".dockmodal").removeClass("active"),a.parent().parent().addClass("active"),$(".dockmodal").click(function(a){$(".dockmodal").removeClass("active"),$(this).addClass("active")}),$(window).bind("keydown",function(a){27===a.keyCode&&$(".action-close",$(".dockmodal.active")).trigger("click")})},close:function(b,c){$("#js-card-"+a.model.id).removeClass("active");var d=Backbone.history.fragment;-1!=d.indexOf("board/")&&(card_ids_ref=_.without(card_ids_ref,a.model.id),d=-1!=d.indexOf(","+a.model.id)?d.replace(","+a.model.id,""):-1!=d.indexOf(a.model.id+",")?d.replace(a.model.id+",",""):-1!=d.indexOf("/card/"+a.model.id)?d.replace("/card/"+a.model.id,""):"board/"+a.model.attributes.board_id,app.navigate("#/"+d,{trigger:!1,trigger_function:!1}),b.remove())}})}else d.dockmodal("restore");return this.$el.find(".js-organization-member-search-response").html(""),this.renderBoardUsers(),this.$el.find(".js-comment-member-search-response").nextAll().remove(),this.renderActivityBoardUsers(),_(function(){Backbone.TemplateManager.baseUrl="{name}";var b=new Backbone.UploadManager({uploadUrl:api_url+"boards/"+a.model.attributes.board_id+"/lists/"+a.model.attributes.list_id+"/cards/"+a.model.id+"/attachments.json?token="+api_token,autoUpload:!0,singleFileUploads:!1,formData:$("form.js-user-profile-edit").serialize(),dropZone:$("#dropzone"+a.model.id),pasteZone:$("#dropzone"+a.model.id)}),c="";b.on("fileadd",function(b){if(!b.attributes.data.name){var d=new Date;b.attributes.data.name="upload_"+(d.getMonth()+1)+"_"+d.getDate()+"_"+d.getFullYear()+"_at_"+((d.getHours()+11)%12+1)+"_"+d.getMinutes()+"_"+d.getSeconds()+"_"+(d.getHours()>=12?"PM":"AM")+"."+b.attributes.data.type.split("/")[1]}c=(new Date).getTime(),$(".js-attachment-loader",$("#js-card-modal-"+a.model.id)).html('<div class="navbar-btn dockheader-loader"><span class="cssloader"></span></div>'),a.$(".js_card_image_upload").addClass("cssloader")}),b.on("fileuploaddragover",function(b){$("#js-card-modal-"+a.model.id).addClass("drophover")});var d=0;$("#dropzone"+a.model.id).on("dragenter",function(a){d++}),$("#dropzone"+a.model.id).on("dragleave",function(b){d--,0!==d&&$.browser.chrome||$("#js-card-modal-"+a.model.id).removeClass("drophover")}),b.on("fileuploaddrop",function(b){d--,$("#js-card-modal-"+a.model.id).removeClass("drophover")}),b.on("filedone",function(b,c){$("#js-card-modal-"+a.model.id).parent(".dockmodal-body").prev(".dockmodal-header").find(".cssloader").remove(),$(".js-attachment-loader",$("#js-card-modal-"+a.model.id)).html("");var d={};d=c.result;var e=new App.CardAttachmentCollection,f=1;e.add(d.card_attachments),e.each(function(b){var c={silent:!0};f===e.models.length&&(c.silent=!1),b.set("id",parseInt(b.attributes.id)),b.set("board_id",parseInt(b.attributes.board_id)),b.set("list_id",parseInt(b.attributes.list_id)),b.set("card_id",parseInt(b.attributes.card_id)),a.model.attachments.unshift(b,c),a.model.list.collection.board.attachments.unshift(b,c),f++})})}).defer(),_.isUndefined(authuser.user)||$("#js-card-checklists",this.$el).sortable({items:"div.js-card-checklist",axis:"y",placeholder:"form-group card-list-placeholder col-xs-12",cursor:"grab",scroll:!0,helper:"clone",handle:".js-checklist-head",tolerance:"pointer",update:function(a,b){b.item.trigger("checklistSort",a,b)},start:function(a,b){b.placeholder.height(b.item.outerHeight()),$(a.target).find(".js-checklist-head").removeClass("cur-grab")},stop:function(a,b){$(a.target).find(".js-checklist-head").addClass("cur-grab")}}),this.resizeSplitter(),this.showTooltip(),this},resizeSplitter:function(){$(".editor").each(function(){var a=$(this),b=window.sessionStorage.getItem("factor1");null===b?(b="20",factor2="80"):factor2=100-b,a.resizable({handles:"e",minWidth:110,maxWidth:490,resize:function(b,c){var d=c.element.outerWidth(),e=(c.element,100*d/$(this).parent().width()),f=e,g=100-e;window.sessionStorage.setItem("factor1",f),a.css("width",f+"%"),a.next().css("width",g+"%")}}).css({width:b+"%"}).next().css({width:factor2+"%"})})},closePopup:function(a){var b=$(a.target);return b.parents(".dropdown:first").removeClass("open"),!1},openPopup:function(a){var b=$(a.target).parents(".dropdown:first");return b.addClass("open").prev(".dropdown").removeClass("open"),b.next(".dropdown").removeClass("open"),!1},addCardVote:function(a,b){var c=this,d=this.model.id,e=this.model.attributes.list_id,f=this.model.attributes.board_id,g=(new Date).getTime();$(a.currentTarget).removeClass("js-add-card-vote"),$(".panel-title",a.currentTarget).html('<i class="icon-thumbs-up-alt"></i> '+i18next.t("Unvote"));var h=new App.CardVoter;return h.set("is_offline",!0),h.set("card_id",parseInt(d)),h.set("user_id",parseInt(authuser.user.id)),h.set("board_id",f),h.set("list_id",e),h.set("username",authuser.user.username),h.set("role_id",authuser.user.role_id),h.set("profile_picture_path",authuser.user.profile_picture_path),h.set("initials",authuser.user.initials),c.model.card_voters.add(h),h.url=api_url+"boards/"+f+"/lists/"+e+"/cards/"+d+"/card_voters.json",h.save({},{success:function(b,e,f){if(_.isUndefined(f.temp_id)&&h.set("is_offline",!1),!_.isUndefined(e.id)&&_.isUndefined(f.temp_id)?h.set({id:parseInt(e.id)}):(global_uuid[g]=f.temp_id,h.set("id",g)),_.isUndefined(e.id)||(c.model.card_voters.findWhere({card_id:d,user_id:parseInt(authuser.user.id)}).set("id",parseInt(e.id)),$(a.currentTarget).addClass("js-delete-card-vote").data("id",e.id)),c.model.list.collection.board.cards.get(c.model.id).card_voters.add(h),c.model.set("card_voter_count",parseInt(c.model.attributes.card_voter_count)+1),!_.isUndefined(e.activity)){var i=new App.Activity;i.set(e.activity),i.board_users=c.model.board_users;var j=new App.ActivityView({model:i,board:c.model.list.collection.board});c.model.activities.unshift(i);var k=$("#js-card-activities-"+c.model.id);k.prepend(j.render().el).find(".timeago").timeago(),emojify.run()}}}),!1},deleteCardVote:function(a,b){var c=this,d=this.model.id,e=this.model.attributes.list_id,f=this.model.attributes.board_id,g=this.model.card_voters.findWhere({card_id:d,user_id:parseInt(authuser.user.id)}),h=g.id;$(a.currentTarget).removeClass("js-delete-card-vote").addClass("js-add-card-vote"),$(".panel-title",a.currentTarget).html('<i class="icon-thumbs-up-alt"></i> '+i18next.t("Vote")),$("i.icon-ok",a.currentTarget).remove();var i=new App.CardVoter;return i.set("id",h),this.model.card_voters.remove(i),this.model.list.collection.board.cards.get(c.model.id).card_voters.remove(i),i.url=api_url+"boards/"+f+"/lists/"+e+"/cards/"+d+"/card_voters/"+h+".json",c.model.card_voters.remove(i),i.destroy({success:function(a,b){if(!_.isUndefined(b.activity)){var d=new App.Activity;d.set(b.activity),d.board_users=c.model.board_users;var e=new App.ActivityView({model:d,board:c.model.list.collection.board});c.model.activities.unshift(d);var f=$("#js-card-activities-"+c.model.id);f.prepend(e.render().el).find(".timeago").timeago(),emojify.run()}}}),!1},cardSubscribe:function(a){var b=this.model.id,c=this.model.attributes.list_id,d=this.model.attributes.board_id,e="undefined",f=this,g=(new Date).getTime();$(a.currentTarget).removeClass("js-card-subscribe").addClass("js-card-unsubscribe"),$(".js-subscribe-change-icon").append('<i class="icon-ok"></i>'),$(".js-card-subscribed-"+b).removeClass("hide");var h=new App.CardSubscriber;if(h.set("is_offline",!0),h.set("card_id",b),h.set("board_id",d),h.set("list_id",c),h.set("user_id",parseInt(authuser.user.id)),h.set("is_subscribed",1),f.model.cards_subscribers.add(h),"undefined"==typeof e||"undefined"==e){h.url=api_url+"boards/"+d+"/lists/"+c+"/cards/"+b+"/card_subscribers.json"}else h.id=parseInt(subscribe_id),h.url=api_url+"boards/"+d+"/lists/"+c+"/cards/"+b+"/card_subscribers/"+subscribe_id+".json";return h.save({is_subscribed:1},{success:function(a,c,d){_.isUndefined(d.temp_id)&&f.model.cards_subscribers.findWhere({user_id:parseInt(authuser.user.id),card_id:b}).set("is_offline",!1),_.isUndefined(f.model.cards_subscribers.findWhere({user_id:parseInt(authuser.user.id),card_id:b}))||(f.model.cards_subscribers.findWhere({user_id:parseInt(authuser.user.id),card_id:b}).set("id",parseInt(c.id)),!_.isUndefined(c.id)&&_.isUndefined(d.temp_id)?f.model.cards_subscribers.findWhere({
user_id:parseInt(authuser.user.id),card_id:b}).set("id",parseInt(c.id)):(global_uuid[g]=d.temp_id,f.model.cards_subscribers.findWhere({user_id:parseInt(authuser.user.id),card_id:b}).set("id",g)))}}),!1},cardUnsubscribe:function(a){$(a.currentTarget).removeClass("js-card-unsubscribe").addClass("js-card-subscribe"),$("i.icon-ok",a.currentTarget).remove();var b=this.model.id,c=this.model.attributes.list_id,d=this.model.attributes.board_id,e=this,f="undefined",g=(new Date).getTime();e.model.cards_subscribers.remove(e.model.cards_subscribers.findWhere({card_id:b,user_id:parseInt(authuser.user.id)})),$(".js-card-subscribed-"+b).addClass("hide");var h=new App.CardSubscriber;return h.set("is_offline",!0),"undefined"==typeof f||"undefined"==f?h.url=api_url+"boards/"+d+"/lists/"+c+"/cards/"+b+"/card_subscribers.json":(h.id=parseInt(f),h.url=api_url+"boards/"+d+"/lists/"+c+"/cards/"+b+"/card_subscribers/"+f+".json"),h.save({is_subscribed:0},{success:function(a,b,c){_.isUndefined(c.temp_id)&&h.set("is_offline",!1),!_.isUndefined(b.id)&&_.isUndefined(c.temp_id)?h.set({id:parseInt(b.id)}):(global_uuid[g]=c.temp_id,h.set("id",g))}}),!1},showMoveCardForm:function(a){$(".js-show-move-card-form-response").html(new App.MoveCardView({model:this.model,boards:this.boards}).el);var b=$(a.target);return $("li.dropdown").removeClass("open"),b.parents("li.dropdown").addClass("open"),b.hasClass("js-card-header-action")?!1:void 0},moveCard:function(a){a.preventDefault();var b=(this.model.id,this.model.attributes),c=$(a.target).serializeObject();c.list_id=parseInt(c.list_id),c.board_id=parseInt(c.board_id);var d=parseInt(c.position),e=this.model.attributes.list_id,f=this.model.attributes.board_id,g=$("#js-card-listing-"+c.list_id);if(c.list_id!==this.model.attributes.list_id){var h=parseInt(this.boards.get(this.model.attributes.board_id).lists.get(this.model.attributes.list_id).get("card_count"));this.boards.get(this.model.attributes.board_id).lists.get(this.model.attributes.list_id).set("card_count",h-1)}var i=this.model.list.collection.board.cards.where({list_id:c.list_id});this.model.url=api_url+"boards/"+this.model.attributes.board_id+"/lists/"+this.model.attributes.list_id+"/cards/"+this.model.id+".json";var j=new App.CardCollection;j.add(i),j.sortByColumn("position");var k=g.find(".js-board-list-card:nth-child("+c.position+")"),l=g.find(".js-board-list-card:nth-child("+(c.position-1)+")"),m="",n="",o="",p="",q="",r=this.board.lists.findWhere({id:c.list_id});if(this.model.set(c,{silent:!0}),_.isUndefined(r)||(this.model.list=r),0!==l.length?(m=j.get(parseInt(l.data("card_id"))),n=j.at(j.indexOf(m)+1),"undefined"==typeof n?afterPosition=m.position()+2:afterPosition=n.position(),o=(afterPosition-m.position())/2,p=o+m.position(),this.model.set({position:p}),c.position=p,q=new App.CardView({tagName:"div",model:this.model,converter:this.converter}),l.after(q.render().el)):0!==k.length?(n=j.get(parseInt(k.data("card_id"))),m=j.at(j.indexOf(n)-1),"undefined"==typeof m?beforePosition=0:beforePosition=m.position(),o=(n.position()-beforePosition)/2,p=o+beforePosition,this.model.set({position:p}),c.position=p,q=new App.CardView({tagName:"div",model:this.model,converter:this.converter}),k.before(q.render().el)):(q=new App.CardView({tagName:"div",model:this.model,converter:this.converter}),g.append(q.render().el),c.position=d),c.board_id!==f){this.boards.get(c.board_id).lists.get(c.list_id).set("card_count",j.length+1),this.model.collection.remove(this.model,{silent:!0});var s=$("#js-card-modal-"+this.model.id);s.dockmodal("close"),$("#js-card-"+this.model.id).remove()}else c.list_id!==e?this.boards.get(r.attributes.board_id).lists.get(r.attributes.id).set("card_count",j.length+1):this.boards.get(r.attributes.board_id).lists.get(r.attributes.id).set("card_count",j.length),r.set("card_count",j.length+1),this.model.set(c),this.refreshdock();if(c.list_id!==b.list_id){if(this.$el.modal("hide"),this.model.collection.remove(this.model),c.board_id=parseInt(c.board_id),c.board_id===b.board_id){this.model.list.collection.board.cards.remove(this.model),this.model.list.collection.board.lists.get(parseInt(c.list_id)).cards.add(this.model),this.model.list=this.model.list.collection.get(parseInt(c.list_id));var t=$("#js-card-modal-"+this.model.id);t.dockmodal("close")}this.model.set(c)}return this.model.list.cards.sortByColumn("position"),this.model.save(c,{patch:!0}),!1},archiveCard:function(a){var b=(new Date).getTime(),c=this;return this.model.set("is_offline",!0),this.model.set("is_archived",1),this.model.url=api_url+"boards/"+this.model.attributes.board_id+"/lists/"+this.model.attributes.list_id+"/cards/"+this.model.id+".json",this.model.list.collection.board.cards.get(this.model.id).set("is_archived",1),this.model.save({is_archived:1},{patch:!0,success:function(a,d,e){_.isUndefined(e.temp_id)&&c.model.set("is_offline",!1),!_.isUndefined(c.model.id)&&_.isUndefined(e.temp_id)?c.model.set({id:parseInt(c.model.id)}):(global_uuid[b]=e.temp_id,c.model.set("id",b));var f=new App.Activity;f.set(d.activity),f.board_users=c.model.board_users;var g=new App.ActivityView({model:f,board:c.model.list.collection.board});a.set("activities",f);var h=$("#js-card-activities-"+c.model.id);h.prepend(g.render().el).find(".timeago").timeago(),emojify.run();var i=App.boards.get(c.model.attributes.board_id).lists.get(c.model.attributes.list_id);_.isUndefined(i)||i.set("card_count",i.attributes.card_count-1)}}),!1},cardSendToBoard:function(a){var b=(new Date).getTime(),c=this;return this.model.url=api_url+"boards/"+this.model.attributes.board_id+"/lists/"+this.model.attributes.list_id+"/cards/"+this.model.id+".json",this.model.set("is_offline",!0),this.model.set("is_archived",0),this.model.save({is_archived:0},{patch:!0,success:function(a,d,e){_.isUndefined(e.temp_id)&&c.model.set("is_offline",!1),!_.isUndefined(c.model.id)&&_.isUndefined(e.temp_id)?c.model.set({id:parseInt(c.model.id)}):(global_uuid[b]=e.temp_id,c.model.set("id",b));var f=new App.Activity;f.set(d.activity),f.board_users=c.model.board_users;var g=new App.ActivityView({model:f,board:c.model.list.collection.board});a.set("activities",f);var h=$("#js-card-activities-"+c.model.id);h.prepend(g.render().el).find(".timeago").timeago(),emojify.run()}}),!1},deleteCard:function(a){var b=this;this.$el.modal("hide");var c=b.model.id;b.model.collection.remove(b.model),b.model.list.collection.board.cards.remove(b.model),b.model.url=api_url+"boards/"+b.model.attributes.board_id+"/lists/"+b.model.attributes.list_id+"/cards/"+c+".json";var d=$("#js-card-modal-"+this.model.id);return $(".action-close",d.parent().prev(".dockmodal-header")).trigger("click"),b.model.destroy({success:function(a,c){var d=new App.Activity;d.set(c.activity),b.model.activities.unshift(d),b.board.activities.unshift(c.activity)}}),!1},computerOpen:function(a){var b=$(a.target);$(".js-card-attachment-form").remove();var c=$('<form class="js-card-attachment-form hide" enctype="multipart/form-data"></form">');return $(c).append('<input type="hidden" name="card_id" value="'+this.model.id+'">'),$(c).append('<input type="file" name="attachment[]" class="js-card-attachment" multiple>'),$(b).after($(c)),$(".js-card-attachment",c).trigger("click"),!1},dropboxChooser:function(a){var b=this,c=api_url+"boards/"+this.model.attributes.board_id+"/lists/"+this.model.attributes.list_id+"/cards/"+this.model.id+"/attachments.json?token="+api_token,d={success:function(d){$(".js-attachment-loader",$("#js-card-modal-"+b.model.id)).html('<div class="navbar-btn dockheader-loader"><span class="cssloader"></span></div>'),b.$(".js_card_image_upload").addClass("cssloader");var e=[];_.map(d,function(a){e.push(a.link)}),$.ajax({type:"POST",url:c,data:JSON.stringify({card_id:b.model.id,list_id:b.model.attributes.list_id,board_id:b.model.attributes.board_id,image_link:e}),success:function(c){if(is_offline_data)b.flash("danger",i18next.t("Sorry, attachment not added. Internet connection not available."));else{b.closePopup(a);var d=new App.CardAttachmentCollection,e=1;d.add(c.card_attachments),d.each(function(a){var c={silent:!0};e===d.models.length&&(c.silent=!1),a.set("id",parseInt(a.attributes.id)),a.set("board_id",parseInt(a.attributes.board_id)),a.set("list_id",parseInt(a.attributes.list_id)),a.set("card_id",parseInt(a.attributes.card_id)),b.model.attachments.unshift(a,c),b.model.list.collection.board.attachments.unshift(a,c),e++});var f=b.$("#js-card-attachments-list");f.find(".timeago").timeago(),emojify.run()}},contentType:"application/json",dataType:"json"})},cancel:function(){},linkType:"preview",multiselect:!0};return Dropbox.init({appKey:DROPBOX_APPKEY}),Dropbox.choose(d),!1},addCardAttachment:function(a){a.preventDefault();var b=this;$(".js-attachment-loader",$("#js-card-modal-"+b.model.id)).html('<div class="navbar-btn dockheader-loader"><span class="cssloader"></span></div>'),b.$(".js_card_image_upload").addClass("cssloader");var c=$("form.js-card-attachment-form"),d=$(a.target);d.parents("li.dropdown").removeClass("open");var e=new FormData(c[0]),f=new App.CardAttachment;f.url=api_url+"boards/"+b.model.attributes.board_id+"/lists/"+b.model.attributes.list_id+"/cards/"+b.model.id+"/attachments.json",b.closePopup(a),f.save(e,{type:"POST",data:e,processData:!1,cache:!1,contentType:!1,success:function(a,c){if(is_offline_data)b.flash("danger",i18next.t("Sorry, attachment not added. Internet connection not available."));else{$("#js-card-modal-"+b.model.id).parent(".dockmodal-body").prev(".dockmodal-header").find(".cssloader").remove(),$(".js-attachment-loader",$("#js-card-modal-"+b.model.id)).html("");var d=new App.CardAttachmentCollection,e=1;d.add(c.card_attachments),d.each(function(a){var c={silent:!0};e===d.models.length&&(c.silent=!1),a.set("id",parseInt(a.attributes.id)),a.set("board_id",parseInt(a.attributes.board_id)),a.set("list_id",parseInt(a.attributes.list_id)),a.set("card_id",parseInt(a.attributes.card_id)),b.model.attachments.unshift(a,c),b.model.list.collection.board.attachments.unshift(a,c),e++});var f=(this.$("#js-card-attachments-list"),new App.Activity);f.set(c.activity),f.board_users=b.model.board_users;var g=new App.ActivityView({model:f,board:b.model.list.collection.board});b.model.activities.unshift(f);var h=$("#js-card-activities-"+b.model.id);h.prepend(g.render().el).find(".timeago").timeago(),emojify.run()}}})},renderAttachmentsCollection:function(){var a=this,b=this.$("#js-card-attachments-list");b.html(""),this.model.attachments.each(function(c){var d=new App.CardAttachmentView({model:c,board:a.model.list.collection.board});b.append(d.render().el).find(".timeago").timeago(),emojify.run()})},renderLabelsCollection:function(){var a=this.$el.find(".js-card-labels-list"),b=this;this.model.labels.each(function(c){var d=b.model.labels.findWhere({label_id:c.attributes.label_id});if(!_.isUndefined(d)){var e=new App.CardLabelView({model:d,background:b.getLabelcolor(""+d.attributes.name).substring(0,6)});a.prepend(e.render().el)}})},renderActivitiesCollection:function(){if(2===this.model.list.collection.board.attributes.board_visibility||!_.isUndefined(authuser.user)&&(1==authuser.user.role_id||!_.isEmpty(this.model.list.collection.board.acl_links.where({slug:"view_card_activities",board_user_role_id:parseInt(this.model.board_user_role_id)})))){var a=this,b=this.$("#js-card-activities-"+a.model.id);b.html(""),_.isEmpty(this.model.activities)||this.model.activities.each(function(c){$("#js-loader-img").removeClass("hide"),_.isEmpty(a.model.collection)||c.cards.add(a.model.collection.models),c.board_users=a.model.board_users;var d=new App.ActivityView({model:c,board:a.model.list.collection.board});b.append(d.render().el).find(".timeago").timeago(),$("#js-loader-img").addClass("hide")}),emojify.run()}},renderChecklistsCollection:function(){if(!(_.isUndefined(authuser.user)||1!=authuser.user.role_id&&_.isEmpty(this.model.list.collection.board.acl_links.where({slug:"view_checklist_listing",board_user_role_id:parseInt(this.model.board_user_role_id)})))){var a=this,b=this.$("#js-card-checklists");b.html("");var c=this.model.list.collection.board.checklists.where({card_id:parseInt(this.model.attributes.id)});this.model.checklists.reset(c),this.model.checklists.sortByColumn("position"),this.model.checklists.each(function(c){var d=a.model.list.collection.board.checklist_items.where({card_id:parseInt(a.model.attributes.id),checklist_id:parseInt(c.attributes.id)});c.checklist_items.reset(d),c.card=a.model,c.board_users=a.model.board_users;var e=new App.CardCheckListView({model:c,attributes:{"data-checklist_id":c.attributes.id}});b.append(e.render().el)})}},renderUsersCollection:function(){var a=this.$("#js-card-user-add-container");this.$el.find(".js-organization-member-search-response").html(""),a.prevAll().remove(),this.renderBoardUsers();var b="",c=this;this.model.users.each(function(a){var c='<i class="avatar avatar-color-194 img-rounded" title="'+a.get("full_name")+" ("+a.get("username")+')" data-container="body" data-toggle="tooltip">'+a.get("initials")+"</i>",d=a.get("profile_picture_path");if(!_.isEmpty(d)){var e=calcMD5(SecuritySalt+"User"+a.attributes.user_id+"pngsmall_thumb");d=window.location.pathname+"img/small_thumb/User/"+a.attributes.user_id+"."+e+".png",c='<img src="'+d+'" alt="'+a.get("username")+'" title="'+a.get("full_name")+" ("+a.get("username")+')" class="img-rounded img-responsive avatar" data-container="body" data-toggle="tooltip">'}isNaN(a.attributes.user_id)||(b+='<li class="js-added-card-user-'+a.attributes.user_id+'"><a href="#/user/'+a.attributes.user_id+'">'+c+"</a></li>")}),a.length>0?a.before(b):c.$("#js-card-users-list-"+c.model.id).append(b)},showChecklistAddForm:function(a){$(".js-checklist-add-form-response").html(new App.ChecklistAddFormView({model:this.model}).el);var b=$(a.target);return $("li.dropdown").removeClass("open"),b.parents("li.dropdown").addClass("open"),!1},addChecklist:function(a){a.preventDefault();var b=this,c=$(a.target),d=c.serializeObject();d.uuid=(new Date).getTime(),c.parents("div.dropdown").removeClass("open");var e=b.model.checklists.max(function(a){return _.isUndefined(a)?1:a.attributes.position});d.position=_.isUndefined(e)||_.isEmpty(e)?1:e.get("position")+1;var f=new App.CheckList;return f.set("is_offline",!0),f.url=api_url+"checklists.json",f.set("card_id",b.model.id),f.set("list_id",b.model.attributes.list_id),f.set("board_id",b.model.attributes.board_id),f.url=api_url+"boards/"+b.model.attributes.board_id+"/lists/"+b.model.attributes.list_id+"/cards/"+b.model.id+"/checklists.json",f.save(d,{success:function(a,c,e){if(_.isUndefined(e.temp_id)&&f.set("is_offline",!1),!_.isUndefined(c.checklist)&&_.isUndefined(e.temp_id)?f.set({id:parseInt(c.checklist.id)}):(global_uuid[d.uuid]=e.temp_id,f.set("id",d.uuid)),f.set("checklist_item_completed_count",0),f.set("name",_.escape(d.name)),f.set("card_id",b.model.id),f.set("list_id",b.model.attributes.list_id),f.set("board_id",b.model.attributes.board_id),f.card=b.model,_.isUndefined(c.checklist)){if("0"!==d.checklist_id){var g=b.model.list.collection.board.checklist_items.where({checklist_id:parseInt(d.checklist_id)});_.each(g,function(a){checklist_item=new App.CheckListItem,checklist_item.set("id",(new Date).getTime()),checklist_item.set("card_id",b.model.id),checklist_item.set("user_id",parseInt(a.attributes.user_id)),checklist_item.set("checklist_id",f.id),checklist_item.set("name",a.attributes.name),checklist_item.set("is_completed",0),checklist_item.card=b.model.card,checklist_item.checklist=new App.CheckList,checklist_item.checklist=b.model,b.model.list.collection.board.checklist_items.add(checklist_item)})}}else{var h=c.checklist.checklists_items;f.set("checklist_items",h),_.each(c.checklist.checklists_items,function(a){checklist_item=new App.CheckListItem,checklist_item.set("id",parseInt(a.id)),checklist_item.set("card_id",b.model.id),checklist_item.set("user_id",parseInt(a.user_id)),checklist_item.set("checklist_id",f.id),checklist_item.set("name",a.name),checklist_item.set("is_completed",0),checklist_item.card=b.model.card,checklist_item.checklist=new App.CheckList,checklist_item.checklist=b.model,b.model.list.collection.board.checklist_items.add(checklist_item)})}b.model.list.collection.board.checklists.add(f),b.model.checklists.add(f);var i=b.model.list.collection.board.checklist_items.where({card_id:parseInt(b.model.attributes.id)});items=new App.CheckListItemCollection,items.add(i);var j=items.filter(function(a){return 1===parseInt(a.get("is_completed"))}).length,k=items.models.length;if(b.model.set("checklist_item_completed_count",j),b.model.set("checklist_item_count",k),!_.isUndefined(c.activity)){var l=new App.Activity;l.set(c.activity),l.board_users=b.model.board_users;var m=new App.ActivityView({model:l,board:b.model.list.collection.board});b.model.activities.unshift(l);var n=$("#js-card-activities-"+b.model.id);n.prepend(m.render().el).find(".timeago").timeago()}}}),!1},showAddMemberForm:function(a){a.preventDefault(),$(".js-add-member-response").html(new App.ModalCardMemberFormView({model:this.model.board_users,users:this.model.users,card:this.model}).el),this.showTooltip();var b=$(a.target);return $("li.dropdown").removeClass("open"),b.parents("li.dropdown").addClass("open"),b.hasClass("js-card-header-action")?!1:void 0},addCardMember:function(a){a.preventDefault();var b=this,c=$(a.currentTarget),d=(new Date).getTime();c.removeClass("js-add-card-member").addClass("js-remove-card-member").append('<i class="icon-ok"></i>');var e=c.data("user-id"),f=c.data("user-name"),g=c.data("user-initial"),h=c.data("user-profile-picture-path"),i=c.data("user-fullname"),j='<i class="avatar avatar-color-194 img-rounded" title="'+i+" ("+f+')">'+g+"</i>";if(!_.isEmpty(h)){var k=calcMD5(SecuritySalt+"User"+e+"pngsmall_thumb"),l=window.location.pathname+"img/small_thumb/User/"+e+"."+k+".png";j='<img src="'+l+'" alt="'+f+'" title="'+i+" ("+f+')" class="img-rounded img-responsive avatar">'}$("#js-card-users-list-"+b.model.id).prepend('<li class="js-added-card-user-'+e+'">'+j+"</li>");$(".js-member-dropdown").removeClass("open");var m=new App.CardUser;return m.set("uuid",d),m.set("is_offline",!0),m.set("user_id",e),m.set("card_id",b.model.id),m.set("board_id",b.model.attributes.board_id),m.set("list_id",b.model.attributes.list_id),m.set("profile_picture_path",h),m.set("username",f),m.set("initials",g),m.set("full_name",i),b.model.users.add(m,{silent:!0}),m.url=api_url+"boards/"+b.model.attributes.board_id+"/lists/"+b.model.attributes.list_id+"/cards/"+b.model.id+"/users/"+e+".json",m.save({user_id:e,card_id:b.model.id},{success:function(a,f,g){if(_.isUndefined(g.temp_id)&&m.set("is_offline",!1),c.attr("data-card-user-id",f.id),b.model.users.models.length>0&&b.model.users.findWhere({user_id:e,card_id:b.model.id}).set("id",parseInt(f.id)),!_.isUndefined(f.id)&&_.isUndefined(g.temp_id)?m.set({id:parseInt(f.id)}):(global_uuid[d]=g.temp_id,m.set("id",d)),!_.isUndefined(f.activity)){var h=new App.Activity;h.set(f.activity),h.board_users=b.model.board_users;var i=new App.ActivityView({model:h,board:b.model.list.collection.board});b.model.activities.unshift(h);var j=$("#js-card-activities-"+b.model.id);j.prepend(i.render().el).find(".timeago").timeago()}b.renderUsersCollection()}}),!1},removeCardMember:function(a){a.preventDefault();var b=$(a.currentTarget),c=b.attr("data-user-id"),d=b.attr("data-card-user-id");b.removeClass("js-remove-card-member").addClass("js-add-card-member"),$("i.icon-ok",b).remove();var e=this.model.users.findWhere({user_id:c,card_id:this.model.id});return $("#js-card-users-list-"+d).find(".js-added-card-user-"+c).remove(),!_.isUndefined(e)||!_.isUndefined(d)&&""!==d?(e=new App.CardUser,e.set("id",d),e.url=api_url+"boards/"+this.model.attributes.board_id+"/lists/"+this.model.attributes.list_id+"/cards/"+this.model.id+"/cards_users/"+d+".json"):(e=new App.CardUser,e.set("id",c),e.url=api_url+"boards/"+this.model.attributes.board_id+"/lists/"+this.model.attributes.list_id+"/cards/"+this.model.id+"/users/"+c+".json"),e.destroy(),this.model.users.remove(e),this.renderUsersCollection(),!1},showAddCommentForm:function(a){return $(".js-add-comment-response").html(new App.ActivityAddFormView({model:this.model}).el),!1},showReplyCommentForm:function(a){var b=$(a.currentTarget).data("activity-id"),c=this.model.activities.get({id:b});return $(".js-acticity-action-"+b).addClass("hide"),$(".js-activity-reply-form-response-"+b).html(new App.ActivityReplyFormView({model:c}).el),!1},addComment:function(a){if(a.preventDefault(),$.trim($(a.target).find("#inputAddComment").val()).length){$(a.target).find(".error-msg").remove();var b=this;$(".js-add-comment-response").html('<span class="js-show-add-comment-form cur">'+i18next.t("Add Comment")+"</span>");var c=this.model.attributes.board_id,d=$(a.target).serializeObject(),e=$(a.target).hasClass("js-reply-form");e||$(a.target)[0].reset(),d.uuid=(new Date).getTime(),d.board_id=c,d.list_id=this.model.attributes.list_id,d.card_id=this.model.id,d.user_id=authuser.user.id;var f=new App.Activity;f.set("is_offline",!0),f.url=api_url+"boards/"+this.model.attributes.board_id+"/lists/"+this.model.attributes.list_id+"/cards/"+this.model.id+"/comments.json",f.save(d,{success:function(a,c,e){_.isUndefined(e.temp_id)&&f.set("is_offline",!1),!_.isUndefined(c.id)&&_.isUndefined(e.temp_id)?f.set({id:parseInt(c.id)}):(global_uuid[d.uuid]=e.temp_id,f.set("id",d.uuid)),_.isUndefined(c.activities)||(a.set("created",c.activities.created),f.set("depth",c.activities.depth)),a.set("type","add_comment"),f.set("username",authuser.user.username),f.set("profile_picture_path",authuser.user.profile_picture_path),f.set("initials",authuser.user.initials),b.model.activities.unshift(f),b.model.list.collection.board.activities.add(f),a.board_users=b.model.board_users;var g=new App.ActivityView({model:a,board:b.model.list.collection.board});b.model.activities.unshift(f);var h=b.model.list.collection.board.cards.get(b.model.id);b.model.list.collection.board.cards.get(b.model.id).set("comment_count",parseInt(h.attributes.comment_count)+1);var i=$("#js-card-activities-"+b.model.id);_.isEmpty(d.root)?i.prepend(g.render().el).find(".timeago").timeago():$(g.render().el).insertAfter($(".js-list-activity-"+d.root)).find(".timeago").timeago(),emojify.run(),b.hideReplyCommentForm()}})}else $(a.target).find(".error-msg").remove(),$('<div class="error-msg text-primary h6">Whitespace alone not allowed</div>').insertAfter($(a.target).find("#inputAddComment"));return!1},showEditCommentForm:function(a){a.preventDefault();var b=$(a.target).data("activity-id"),c=$(a.target).data("activity-temp-id");$(".js-acticity-action-"+b).addClass("hide");var d=this.model.activities.get({id:b});d.board_user_role_id=this.model.board_user_role_id,d.board=this.model.board,$(".js-list-activity-"+b).addClass("edit-comment"),$(".js-activity-"+b).html(new App.EditActivityFormView({model:d,attributes:{"data-activity-id":b,"data-activity-temp-id":c}}).el),$(".js-inputComment",a.target).focus()},editComment:function(a){if(a.preventDefault(),$.trim($(".js-inputComment").val()).length){$(".error-msg").remove();var b=this,c=$(a.currentTarget).data("activity-id"),d=$(a.currentTarget).data("activity-temp-id"),e=this.model.activities.get({id:c}),f=e.attributes.board_id,g=e.attributes.list_id,h=e.attributes.card_id,i=$(a.target).serializeObject();$(".js-activity-"+c).html(this.converter.makeHtml(i.comment)),$(".js-acticity-action-"+c).removeClass("hide");var j=new App.Activity;j.id=parseInt(c),j.set("is_offline",!0),j.set("temp_id",d),j.url=api_url+"boards/"+f+"/lists/"+g+"/cards/"+h+"/comments/"+c+".json",j.save(i,{success:function(a,c){var d=new App.Activity;d.set(c.activity),d.board_users=b.model.board_users;var e=new App.ActivityView({model:d,board:b.model.list.collection.board});b.model.activities.unshift(d);var f=$("#js-card-activities-"+b.model.id);f.prepend(e.render().el).find(".timeago").timeago()}})}else $(".error-msg").remove(),$('<div class="error-msg text-primary h6">'+i18next.t("Whitespace alone not allowed")+"</div>").insertAfter(".js-inputComment");return!1},hideEditCommentForm:function(){var a=this.$el.find(".js-hide-edit-comment-form").data("activity-id"),b=this.model.activities.get({id:a});this.$el.find(".js-hide-edit-comment-form").parents("span.js-activity-"+a).html(this.converter.makeHtml(_.escape(b.attributes.comment))),$(".js-acticity-action-"+a).removeClass("hide")},hideReplyCommentForm:function(){var a=this.$el.find(".js-hide-reply-comment-form").data("activity-id");$(".js-activity-reply-form-response-"+a).html(""),$(".js-acticity-action-"+a).removeClass("hide")},showConfirmCommentDelete:function(a){a.preventDefault();var b=$(a.currentTarget).data("activity-id");$(a.currentTarget).siblings("ul").find("#js-acticity-actions-response-"+b).html(new App.ActivityDeleteConfirmView({model:b}).el)},deleteComment:function(a){var b=this,c=$(a.currentTarget).data("activity-id"),d=(this.model.activities.get({id:c}),this.model.attributes.list_id),e=this.model.id,f=this.model.attributes.board_id;this.model.activities.remove({id:c}),this.model.list.collection.board.activities.remove({id:parseInt(c)});var g=new App.Activity;g.set("id",c),g.url=api_url+"boards/"+f+"/lists/"+d+"/cards/"+e+"/comments/"+c+".json",$(a.currentTarget).parents("li.js-activity").remove(),g.destroy({success:function(a,c){var d=new App.Activity;d.set(c.activity),d.board_users=b.model.board_users;var f=new App.ActivityView({model:d,board:b.model.list.collection.board});b.model.activities.unshift(d);var g=b.model.list.collection.board.cards.get(e);b.model.list.collection.board.cards.get(e).set("comment_count",parseInt(g.attributes.comment_count)-1);var h=$("#js-card-activities-"+b.model.id);return h.prepend(f.render().el).find(".timeago").timeago(),!1}})},addCardAttachmentLink:function(a){a.preventDefault();var b=this,c=$(a.target);c.parents("li.dropdown").removeClass("open");var d=c.serializeObject();c[0].reset();var e=new App.CardAttachment;e.url=api_url+"boards/"+b.model.attributes.board_id+"/lists/"+b.model.attributes.list_id+"/cards/"+b.model.id+"/attachments.json",e.save(d,{success:function(c,d){if(is_offline_data)b.flash("danger",i18next.t("Sorry, attachment not added. Internet connection not available."));else{b.closePopup(a),e.set(d.card_attachments),e.set("id",parseInt(d.card_attachments.id)),e.set("board_id",parseInt(d.card_attachments.board_id)),e.set("list_id",parseInt(d.card_attachments.list_id)),e.set("card_id",parseInt(d.card_attachments.card_id)),b.model.list.collection.board.attachments.unshift(e,{silent:!0}),b.model.attachments.unshift(e,{silent:!0});var f=new App.CardAttachmentView({model:e,board:b.model.list.collection.board}),g=b.$("#js-card-attachments-list");g.append(f.render().el).find(".timeago").timeago()}}})},showCardVotersList:function(a){a.preventDefault(),$(".js-show-card-voters-list-response").html(new App.CardVotersListView({model:this.model}).el),this.showTooltip()},removeDueDate:function(a){a.preventDefault();var b=this;_.isEmpty(this.model.attributes.due_date)||""===this.model.attributes.due_date||(this.model.url=api_url+"boards/"+this.model.attributes.board_id+"/lists/"+this.model.attributes.list_id+"/cards/"+this.model.id+".json",this.model.set("due_date",null),this.model.save({due_date:"NULL"},{patch:!0,success:function(a,c){var d=new App.Activity;d.set(c.activity),d.board_users=b.model.board_users;var e=new App.ActivityView({model:d,board:b.model.list.collection.board});b.model.activities.unshift(d);var f=$("#js-card-activities-"+b.model.id);f.prepend(e.render().el).find(".timeago").timeago()}}))},showSearchUsers:function(a){var b=this,c=$(a.target).val();if(""!==c){var d=this.model.list.collection.board.board_users.search(c),e=new App.UserCollection;_.isEmpty(d._wrapped)||$.unique(d._wrapped),e.add(d._wrapped),$(".js-organization-member-search-response").html(""),_.isEmpty(e.models)?$(".js-organization-member-search-response").html(new App.CardSearchUsersResultView({model:null}).el):_.each(e.models,function(a){var c=b.model.users.findWhere({card_id:b.model.id,user_id:a.attributes.user_id}),d=_.isUndefined(c)?!1:!0;$(".js-organization-member-search-response").append(new App.CardSearchUsersResultView({model:a,is_added_user:d,added_user:c,board:b.model.list.collection.board}).el)})}else this.$el.find(".js-organization-member-search-response").html(""),this.renderBoardUsers()},getLabelcolor:function(a){return calcMD5(a).slice(0,6)},showSearchCards:function(){var a=this,b=this.$el.find(".js-search-card").val(),c=new App.CardCollection;c.url=api_url+"boards/"+this.model.attributes.board_id+"/cards/search.json",c.fetch({data:{q:b},success:function(){a.$el.find(".js_activity_card_search_response").nextAll().remove(),_.isEmpty(c.models)?$(new App.ActivityCardSearchView({model:null}).el).insertAfter(a.$el.find(".js_activity_card_search_response")):_.each(c.models,function(b){$(new App.ActivityCardSearchView({model:b}).el).insertAfter(a.$el.find(".js_activity_card_search_response"))})}})},AddCommentCard:function(a){a.preventDefault();var b=$(a.currentTarget),c=b.data("card-id");b.data("card-name"),b.data("board-id");this.$el.find(".js-comment").val(this.$el.find(".js-comment").val()+"#"+c+" ")},changeList:function(a){var b=$(a.currentTarget),c=this,d=parseInt(b.val()),e="",f="";if(d==this.model.attributes.board_id)this.showMoveCardForm(a);else{var g=c.boards.findWhere({id:parseInt(d),is_closed:0});g.lists.add(g.attributes.lists);var h=g.lists.where({is_archived:0}),i=this.model.collection.indexOf(this.model)+1,j=!0;_.each(h,function(a){if(c.model.attributes.list_id==a.attributes.id?(e+='<option value="'+a.id+'" selected="selected">'+_.escape(a.attributes.name)+" "+i18next.t("(current)")+"</option>",j=!0):e+='<option value="'+a.id+'">'+_.escape(a.attributes.name)+"</option>",j){j=!1;for(var b=1;b<=a.attributes.card_count;b++)f+=c.model.attributes.list_id==a.attributes.id&&b==i?'<option value="'+b+'" selected="selected">'+b+" "+i18next.t("(current)")+"</option>":'<option value="'+b+'">'+b+"</option>";if(c.model.attributes.list_id!=a.attributes.id){var d=parseInt(a.attributes.card_count)+1;f+='<option value="'+d+'">'+d+"</option>"}}}),c.$el.find(".js-change-position").html(e),c.$el.find(".js-position").html(f)}},changePosition:function(a){for(var b=$(a.currentTarget),c=this,d=b.val(),e=b.parent().prev().find(".js-change-list").val(),f="",g=c.boards.findWhere({id:parseInt(e)}),h=g.lists.findWhere({id:parseInt(d)}),i=this.model.collection.indexOf(this.model)+1,j=1;j<=h.attributes.card_count;j++)f+=c.model.attributes.list_id==h.attributes.id&&j==i?'<option value="'+c.model.attributes.position+'" selected="selected">'+c.model.attributes.position+" "+i18next.t("(current)")+"</option>":'<option value="'+j+'">'+j+"</option>";if(this.model.attributes.list_id!=h.attributes.id){var k=parseInt(h.attributes.card_count)+1;isNaN(h.attributes.card_count)&&(k=1),f+='<option value="'+k+'">'+k+"</option>"}c.$el.find(".js-position").html(f)},showCopyCardForm:function(a){a.preventDefault(),$(".js-show-copy-card-form-response").html(new App.CopyCardView({model:this.model,boards:this.boards}).el);var b=$(a.target);return $("li.dropdown").removeClass("open"),b.parents("li.dropdown").addClass("open"),!1},showMoreForm:function(a){a.preventDefault();var b=$(a.target);return $("li.dropdown").removeClass("open"),b.parents("li.dropdown").addClass("open"),!1},copyCard:function(a){a.preventDefault();var b=this,c=$(a.currentTarget).serializeObject();c.uuid=(new Date).getTime();var d=new App.Card;d.set("is_offline",!0),this.closePopup(a);var e=this.model.attributes;c.board_id=parseInt(c.board_id),d.url=api_url+"boards/"+this.model.attributes.board_id+"/lists/"+this.model.attributes.list_id+"/cards/"+this.model.id+"/copy.json",d.save(c,{patch:!0,success:function(a,f,g){if(_.isUndefined(g.temp_id)&&d.set("is_offline",!1),c.board_id===e.board_id){d.set(f.cards),0===parseInt(f.cards.is_archived)?d.set("is_archived",0):d.set("is_archived",1),
d.set("list_id",parseInt(f.cards.list_id)),d.set("board_id",parseInt(f.cards.board_id)),d.set("id",parseInt(f.id)),!_.isUndefined(f.id)&&_.isUndefined(g.temp_id)?d.set({id:parseInt(f.id)}):(global_uuid[c.uuid]=g.temp_id,d.set("id",c.uuid)),b.model.list.collection.get(c.list_id).cards.add(d);var h=App.boards.get(f.cards.board_id).lists.get(f.cards.list_id);_.isUndefined(h)||h.set("card_count",h.attributes.card_count+1);var i=1;_.each(f.cards.attachments,function(a){var d={silent:!0};i===f.cards.attachments.length&&(d.silent=!1);var e=new App.CardAttachment;e.set(a),e.set("id",parseInt(a.id)),e.set("board_id",parseInt(a.board_id)),e.set("list_id",parseInt(a.list_id)),e.set("card_id",parseInt(a.card_id)),b.model.list.collection.get(c.list_id).cards.get(parseInt(a.card_id)).attachments.unshift(e,d),b.model.list.collection.board.attachments.unshift(e,d),i++}),i=0,_.each(f.cards.activities,function(a){var c={silent:!0};i===f.cards.activities.length&&(c.silent=!1);var d=new App.Activity;d.set(a),d.set("id",parseInt(a.id)),d.set("board_id",parseInt(a.board_id)),d.set("list_id",parseInt(a.list_id)),d.set("card_id",parseInt(a.card_id)),b.model.list.collection.board.activities.add(d,c),b.model.activities.unshift(d,c),i++}),b.model.list.collection.board.cards.add(d),b.model.list.collection.board.checklists.add(f.cards.cards_checklists),b.model.list.collection.board.labels.add(f.cards.cards_labels)}var j=new App.Activity;j.set(f.activity),j.board_users=b.model.board_users;var k=new App.ActivityView({model:j,board:b.model.list.collection.board});b.model.activities.unshift(j);var l=$("#js-card-activities-"+b.model.id);l.prepend(k.render().el).find(".timeago").timeago()}})},showSearchMembers:function(a){var b=this,c=$(a.target).val();if(""!==c){var d=this.model.list.collection.board.board_users.search(c),e=new App.UserCollection;_.isEmpty(d._wrapped)||$.unique(d._wrapped),e.add(d._wrapped),this.$el.find(".js-comment-member-search-response").nextAll().remove(),_.isEmpty(e.models)?$(new App.ActivityUserAddSearchResultView({model:null}).el).insertAfter(b.$el.find(".js-comment-member-search-response")):(_.each(e.models,function(a){$(new App.ActivityUserAddSearchResultView({model:a}).el).insertAfter(b.$el.find(".js-comment-member-search-response"))}),0===e.models.length&&$(new App.ActivityUserAddSearchResultView({model:null}).el).insertAfter(b.$el.find(".js-comment-member-search-response")))}else this.$el.find(".js-comment-member-search-response").nextAll().remove(),this.renderActivityBoardUsers()},AddCommentMember:function(a){if(a.preventDefault(),_.isEmpty($(".js-search-member").val())){var b=_.isEmpty(this.$el.find(".js-comment").val())?"":" ";this.$el.find(".js-comment").val(this.$el.find(".js-comment").val()+b+"@"+$(a.currentTarget).data("user-name")).focus()}else this.$el.find(".js-comment").val(this.$el.find(".js-comment").val().replace("@"+$(".js-search-member").val(),"@"+$(a.currentTarget).data("user-name"))).focus();this.autoMentionSelectionStart=0,$(".js-search-member").val("").trigger("keyup")},renderBoardUsers:function(){var a=this,b=this.$el.find(".js-organization-member-search-response");this.model.list.collection.board.board_users.each(function(c){var d=a.model.users.findWhere({card_id:a.model.id,user_id:c.attributes.user_id}),e=_.isUndefined(d)?!1:!0;b.append(new App.CardSearchUsersResultView({model:c,is_added_user:e,added_user:d,board:a.model.list.collection.board}).el)})},renderActivityBoardUsers:function(){var a=this.$el.find(".js-comment-member-search-response");this.model.list.collection.board.board_users.each(function(b){$(new App.ActivityUserAddSearchResultView({model:b}).el).insertAfter(a)})},loadDropbox:function(a){var b=$(a.target);return b.parents("li.dropdown").addClass("open"),"undefined"==typeof Dropbox&&$.ajax({cache:!0,dataType:"script",url:"https://www.dropbox.com/static/api/2/dropins.js",success:function(){}}),b.hasClass("js-card-header-action")?!1:void 0},selectCardURL:function(a){$(a.target).select()},showActions:function(a){this.$el.find(".js-new-comment").removeClass("hide")},noAction:function(a){return a.preventDefault(),!1},showSideCardTitleEditForm:function(a){var b=$(a.target);return $("li.dropdown").removeClass("open"),b.parents("li.dropdown").addClass("open"),!1},openDropdown:function(a){var b=$(a.target);return $("li.dropdown").removeClass("open"),b.parents("li.dropdown").addClass("open"),!1},onEnter:function(a){if(13===a.which){var b=$(a.target).closest("form");if("cardAddForm"!==b.attr("name"))return!1;$("input[type=submit]",b).trigger("click")}},keyboardArchiveCard:function(a){return $(".js-archive-card",a.target).trigger("click"),!1},keyboardShowCardDueDateForm:function(a){return $(".docmodal-submenu").addClass("open"),$(".dropdown-menu li:first-child").addClass("open"),$(".js-show-card-due-date-form",a.target).trigger("click"),!1},keyboardShowCardTitleEditForm:function(a){return $(".js-show-card-title-edit-form",a.target).trigger("click"),!1},keyboardAddCardVote:function(a){return $(".js-add-card-vote",a.target).trigger("click"),!1},keyboardCardSubscribe:function(a){$(".js-card-container .icon-eye-open",a.target).length?$(".js-card-unsubscribe",a.target).trigger("click"):$(".js-card-subscribe",a.target).trigger("click")},keyboardShowAddMemberForm:function(a){return $(".js-show-add-member-form",a.target).trigger("click"),!1},keyboardShowCardLabelForm:function(a){return $(".js-show-card-label-form",a.target).trigger("click"),!1},keyboardAddCardMember:function(a){return $(".dropdown-menu-left .js-organization-member-search-response",a.target).find("a").each(function(a,b){$(b).data("user-id")==authuser.user.id&&$(this).trigger("click")}),!1}}),"undefined"==typeof App&&(App={}),App.ModalListView=Backbone.View.extend({id:"base-modal",className:"",template:JST["templates/modal_list_view"],events:{hidden:"teardown","click .js-close-popover":"closePopup"},initialize:function(){_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),_(this).bindAll("show","teardown")},teardown:function(){this.$el.data("modal",null),this.remove()},render:function(){return this.$el.html(this.template({list:this.model})),this.renderAttachmentsCollection(),this.$el.modal({show:!0,backdrop:!1}),this.showTooltip(),this},show:function(){this.render(),this.$el.find("#modalListView").modal("show")},closePopup:function(a){var b=$(a.target);return b.parents("li.dropdown").removeClass("open"),!1},renderAttachmentsCollection:function(){var a=this.$("#js-list-attachments-list");a.html("");var b=this.model.collection.board.attachments.where({list_id:this.model.id}),c=this,d=new App.AttachmentCollection;if(d.reset(b),d.length>0)d.each(function(b){var d=new App.AttachmentView({model:b,board:c.model.board});a.append(d.render().el).find(".timeago").timeago()});else{var e=new App.AttachmentView({model:null});a.append(e.render().el)}}}),"undefined"==typeof App&&(App={}),App.ModalBoardView=Backbone.View.extend({id:"base-modal",className:"",template:JST["templates/modal_list_view"],events:{"click .js-close-popover":"closePopup"},initialize:function(){_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.model.attachments.bind("remove",this.displayEmptyMessage,this)},render:function(){return this.$el.html(this.template({list:this.model})),this.renderAttachmentsCollection(),this.$el.modal({show:!0,backdrop:!1}),this.showTooltip(),this},show:function(){this.render(),this.$el.find("#modalListView").modal("show")},closePopup:function(a){var b=$(a.target);return b.parents("li.dropdown").removeClass("open"),!1},renderAttachmentsCollection:function(){var a=this.$("#js-list-attachments-list");a.html("");var b=this.model.attachments,c=b.models.length;if(c>0){for(var d=0;c>d;d++){var e=b.models[d],f=new App.AttachmentView({model:e,board:this.model});a.append(f.render().el)}a.find(".timeago").timeago()}else{var g=new App.AttachmentView({model:null});a.append(g.render().el)}},displayEmptyMessage:function(){if(0===this.model.attachments.length){var a=this.$("#js-list-attachments-list"),b=new App.AttachmentView({model:null});a.html(b.render().el)}}}),"undefined"==typeof App&&(App={}),App.AttachmentView=Backbone.View.extend({template:JST["templates/attachment"],tagName:"li",className:"clearfix col-md-4 col-sm-6 col-xs-12 navbar-btn",initialize:function(a){this.board=a.board,_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage,this.model.downloadLink=this.downloadLink)},events:{"click a.js-show-confirm-delete-attachment":"showConfirmAttachmentDelete","click .js-close-popup":"closePopup","click .js-delete-attachment":"deleteAttachment"},render:function(){return this.$el.html(this.template({attachment:this.model,board:this.board})),this.showTooltip(),this},deleteAttachment:function(){return this.$el.remove(),this.model.url=api_url+"boards/"+this.model.attributes.board_id+"/lists/"+this.model.attributes.list_id+"/cards/"+this.model.attributes.card_id+"/attachments/"+this.model.id+".json",this.model.destroy(),!1},showConfirmAttachmentDelete:function(a){a.preventDefault(),$(".js-attachment-confirm-respons-"+this.model.id,this.$el).html(new App.AttachmentDeleteConfirmFormView({model:this.model}).el)},closePopup:function(a){var b=$(a.target);return b.parents("li.dropdown").removeClass("open"),!1}}),"undefined"==typeof App&&(App={}),App.CardAttachmentView=Backbone.View.extend({template:JST["templates/card_attachment"],initialize:function(a){this.model.board=a.board,_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage,this.model.downloadLink=this.downloadLink)},tagName:"li",className:"clearfix navbar-btn",events:{"click a.js-show-confirm-delete-attachment":"showConfirmAttachmentDelete","click .js-close-popup":"closePopup","click .js-span-close-popup":"closeSpanPopup","click .js-delete-attachment":"deleteAttachment"},render:function(){return this.$el.html(this.template({attachment:this.model})),this.showTooltip(),this},deleteAttachment:function(){return this.$el.remove(),this.model.url=api_url+"boards/"+this.model.attributes.board_id+"/lists/"+this.model.attributes.list_id+"/cards/"+this.model.attributes.card_id+"/attachments/"+this.model.id+".json",this.model.destroy(),!1},showConfirmAttachmentDelete:function(a){a.preventDefault(),$(".js-attachment-confirm-respons-"+this.model.id,this.$el).html(new App.AttachmentDeleteConfirmView({model:this.model}).el)},closePopup:function(a){var b=$(a.target);return b.parents("li.dropdown").removeClass("open"),!1},closeSpanPopup:function(a){var b=$(a.target);return b.parents(".dropdown").removeClass("open"),!1}}),"undefined"==typeof App&&(App={}),App.CardLabelView=Backbone.View.extend({template:JST["templates/card_label"],tagName:"li",className:"js-card-label-show card-label-show navbar-btn",events:{},render:function(){return this.$el.html(this.template({label:this.model,background:this.getLabelcolor(""+this.model.attributes.name).substring(0,6)})),this.showTooltip(),this},getLabelcolor:function(a){return calcMD5(a).slice(0,6)},deleteLabel:function(){return this.model.destroy(),this.model.url=api_url+"boards/"+this.model.collection.card.get("board_id")+"/lists/"+this.model.collection.card.get("list_id")+"/cards/"+this.model.collection.card.id+"/labels/"+this.model.id+".json",this.$el.remove(),!1}}),"undefined"==typeof App&&(App={}),App.CardCheckListView=Backbone.View.extend({template:JST["templates/card_checklist"],tagName:"div",className:"js-card-checklist",events:{"click .js-show-checklist-edit-form":"showChecklistEditForm","submit form.checklist-edit-form":"updateChecklist","click a.js-hide-checklist-edit-form":"hideChecklistEditForm","click .js-show-confirm-checklist-delete":"showConfirmChecklistDelete","click .js-delete-checklist":"deleteChecklist","click .js-show-checklist-actions":"showChecklistActions","click .js-back-to-checklist-actions":"backToChecklistActions","click .js-close-popup":"closePopup","click .js-show-checklist-item-add-form":"showChecklistItemAddForm","click .js-hide-checklist-item-add-form":"hideChecklistItemAddForm","submit form.js-add-item":"addChecklistItem","click .js-show-item-options":"showItemOptions","click .js-back-to-item-options":"backToItemOptions","click .js-show-mention-member-form":"showMentionMemberForm","click .js-show-emoji-list-form":"showEmojiList","click .js-add-item-member":"addItemMember","keyup .js-item-search-member":"showSearchItemMembers","click .js-no-action":"noAction",checklistSort:"checklistSort","keypress textarea":"onEnter"},initialize:function(){_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),_.bindAll(this,"render","renderItemsCollection"),this.model.checklist_items.bind("remove",this.renderItemsCollection);var a=this.model.board_users.findWhere({user_id:parseInt(authuser.user.id)});_.isEmpty(a)||(this.model.board_user_role_id=a.attributes.board_user_role_id)},checklistSort:function(a,b){var c=$(a.target),d=c.prev(".js-card-checklist").data("checklist_id"),e=c.next(".js-card-checklist").data("checklist_id");if("undefined"==typeof d&&"undefined"==typeof e&&(d=1,e=1),"undefined"!=typeof d)this.model.moveAfter(d);else if("undefined"!=typeof e)this.model.moveBefore(e);else if(1!=this.model.collection.length)throw"Unable to determine position";this.model.url=api_url+"boards/"+this.model.card.get("board_id")+"/lists/"+this.model.card.get("list_id")+"/cards/"+this.model.card.id+"/checklists/"+this.model.id+".json",this.model.save({position:this.model.attributes.position},{patch:!0})},render:function(){return this.$el.html(this.template({checklist:this.model})),_.isUndefined(authuser.user)||$(".js-checklist-items-sorting",this.$el).sortable({items:"div.js-checklist-item",helper:"clone",connectWith:".js-checklist-items-sorting",dropOnEmpty:!0,placeholder:"form-group card-list-placeholder col-xs-12",cursor:"grab",axis:"y",scroll:!0,tolerance:"pointer",handle:".list-group-item-text",update:function(a,b){b.item.trigger("itemSort",a,b)},start:function(a,b){b.placeholder.height(b.item.outerHeight()),$(a.target).find(".js-checklist-item").removeClass("cur-grab"),$(a.target).find(".js-checklist-item").addClass("cur-grabbing")},stop:function(a,b){$(a.target).find(".js-checklist-item").addClass("cur-grab"),$(a.target).find(".js-checklist-item").removeClass("cur-grabbing")}}),this.renderItemsCollection(),this.renderProgress(),this.showTooltip(),this},deleteChecklist:function(){this.$el.remove(),this.model.url=api_url+"boards/"+this.model.card.attributes.board_id+"/lists/"+this.model.card.attributes.list_id+"/cards/"+this.model.card.attributes.id+"/checklists/"+this.model.id+".json";var a=0,b=0,c=this.model.card.list.collection.board.cards.get(this.model.card.attributes.id).checklists;c.each(function(c){b+=parseInt(c.attributes.checklist_item_completed_count),a+=parseInt(c.checklist_items.length)});var d=b-parseInt(this.model.attributes.checklist_item_completed_count),e=a-parseInt(this.model.checklist_items.length);return d.isNan||(this.model.set({checklist_item_completed_count:d},{silent:!0}),this.model.card.set("checklist_item_completed_count",d),this.model.card.list.collection.board.cards.get(this.model.card.attributes.id).set({checklist_item_completed_count:d},{silent:!0})),e.isNan||(this.model.set({checklist_item_count:e},{silent:!0}),this.model.card.set("checklist_item_count",e),this.model.card.list.collection.board.cards.get(this.model.card.attributes.id).set({checklist_item_count:e},{silent:!0})),this.model.destroy({success:function(a,b,c){if(!_.isUndefined(b.activity)){var d=new App.Activity;d.set(b.activity);var e=new App.ActivityView({model:d});self.model.activities.unshift(d);var f=$("#js-card-activities-"+parseInt(b.activity.card_id));f.prepend(e.render().el).find(".timeago").timeago()}}}),!1},renderItemsCollection:function(a){var b=this,c=this.$("#js-checklist-items-"+this.model.id);c.html(""),this.model.checklist_items.sortByColumn("position"),this.model.checklist_items.each(function(a){a.card=b.model.card,a.cards=b.model.cards,a.checklist=new App.CheckList,a.checklist=b.model,a.board_users=b.model.board_users;var d=new App.CardCheckListItemView({model:a,attributes:{"data-item_id":a.attributes.id}});c.append(d.render().el)}),_.isUndefined(authuser.user)||1!=authuser.user.role_id&&_.isEmpty(this.model.board_users.board.acl_links.where({slug:"add_checklist_item",board_user_role_id:parseInt(this.model.board_user_role_id)}))||a===!1||c.after((new App.ChecklistItemAddLinkView).el)},showChecklistEditForm:function(a){var b=$("form.checklist-edit-form");return b.parent().html($("textarea",b).val()),b.remove(),$(a.currentTarget).addClass("hide"),$(a.currentTarget).after(new App.ChecklistEditFormView({model:this.model}).el),!1},updateChecklist:function(a){if($.trim($("#checklistEditName").val()).length){$(".error-msg").remove(),a.preventDefault();var b=$(a.target).serializeObject();this.model.url=api_url+"boards/"+this.model.card.get("board_id")+"/lists/"+this.model.card.get("list_id")+"/cards/"+this.model.card.id+"/checklists/"+this.model.id+".json",this.model.set("card_id",this.model.card.id),this.model.set("list_id",this.model.card.attributes.list_id),this.model.set("board_id",this.model.card.attributes.board_id),this.model.set(b),this.render(),this.model.save(b,{patch:!0})}else $(".error-msg").remove(),$('<div class="error-msg text-primary h6">'+i18next.t("Whitespace alone not allowed")+"</div>").insertAfter("#checklistEditName");return!1},hideChecklistEditForm:function(a){a.preventDefault();var b=$("form.checklist-edit-form");b.prev().removeClass("hide"),$("a",b.prev()).html($("textarea",b).val()),b.remove()},showConfirmChecklistDelete:function(a){return $("#js-checklist-confirm-response-"+this.model.id).html(new App.ChecklistDeleteConfirmFormView({model:this.model}).el),!1},showChecklistActions:function(a){$("#js-checklist-actions-response-"+this.model.id).html(new App.ChecklistActionsView({model:this.model}).el)},backToChecklistActions:function(a){return $(".js-back-to-checklist-actions").remove(),this.showChecklistActions(a),!1},closePopup:function(a){var b=$(a.target);return b.parents("li.dropdown, div.dropdown").removeClass("open"),!1},showChecklistItemAddForm:function(a){a.preventDefault(),$(a.target).removeClass("js-show-checklist-item-add-form").addClass("hide").next(".js-checklist-item-add-form-view").html(new App.ChecklistItemAddFormView({model:this.model}).el),$(".js-add-item").find("textarea").focus()},hideChecklistItemAddForm:function(a){a.preventDefault(),$(a.target).parents("div.js-checklist-item-add-form-view").prev("a.js-add-item-view").removeClass("hide").addClass("js-show-checklist-item-add-form").html(i18next.t("Add Item")),$(a.target).parents("div.js-checklist-item-add-form-view").html("")},addChecklistItem:function(a){if(!$.trim($("#ChecklistItem").val()).length)return $(".error-msg").remove(),$('<div class="error-msg text-primary h6">'+i18next.t("Whitespace alone not allowed")+"</div>").insertAfter("#ChecklistItem"),!1;$(".error-msg").remove(),a.preventDefault();var b=this,c=$(a.target),d=c.serializeObject(),e=new App.CheckListItem;e.set("card_id",b.model.card.attributes.id),e.set("list_id",b.model.card.attributes.list_id),e.set("board_id",b.model.card.attributes.board_id),e.set("checklist_id",b.model.attributes.id),e.url=api_url+"boards/"+b.model.card.attributes.board_id+"/lists/"+b.model.card.attributes.list_id+"/cards/"+b.model.card.attributes.id+"/checklists/"+b.model.id+"/items.json",$(a.target).find("textarea").val("").focus(),e.save(d,{success:function(a,c){if(_.isUndefined(c.checklist_items)){var f=d.name.split("\n"),g=1;_.each(f,function(a){e=new App.CheckListItem,e.set("id",(new Date).getTime()),e.set("card_id",b.model.card.attributes.id),e.set("user_id",parseInt(authuser.user.id)),e.set("checklist_id",b.model.id),e.set("position",g),e.set("name",_.escape(a.replace("\r",""))),e.set("is_completed",0),e.card=b.model.card,e.checklist=new App.CheckList,e.checklist=b.model,b.model.card.list.collection.board.checklist_items.add(e,{silent:!0}),b.model.checklist_items.add(e,{silent:!0}),g++}),b.model.set({checklist_item_count:parseInt(b.model.attributes.checklist_item_count)+g},{silent:!0}),b.model.card.set({checklist_item_count:parseInt(b.model.card.attributes.checklist_item_count)+g})}else _.each(c.checklist_items,function(a){e=new App.CheckListItem,e.set("id",parseInt(a.id)),e.set("card_id",parseInt(a.card_id)),e.set("user_id",parseInt(a.user_id)),e.set("checklist_id",parseInt(a.checklist_id)),e.set("position",parseFloat(a.position)),e.set("name",a.name),e.set("is_completed",a.is_completed),e.card=b.model.card,e.checklist=new App.CheckList,e.checklist=b.model,b.model.card.list.collection.board.checklist_items.add(e,{silent:!0}),b.model.checklist_items.add(e,{silent:!0})}),b.model.set({checklist_item_count:parseInt(b.model.attributes.checklist_item_count)+c.checklist_items.length},{silent:!0}),b.model.card.set("checklist_item_count",parseInt(b.model.card.attributes.checklist_item_count)+c.checklist_items.length);b.model.card.list.collection.board.cards.get(b.model.card).set({checklist_item_count:b.model.card.attributes.checklist_item_count},{silent:!0}),b.renderItemsCollection(!1),b.renderProgress(),_.isUndefined(c.activities)||_.each(c.activities,function(a){var c=new App.Activity;c.set(a);var d=new App.ActivityView({model:c});b.model.set("activities",c);var e=$("#js-card-activities-"+b.model.card.attributes.id);e.prepend(d.render().el).find(".timeago").timeago()})}})},renderProgress:function(){var a=this.model.checklist_items.filter(function(a){return 1===parseInt(a.get("is_completed"))}).length,b=this.model.checklist_items.length;return a=b>0?Math.round(100*a/b):0,$("#js-checklist-progress-bar-"+this.model.id).stop().animate({width:a+"%","-moz-transition":"all .6s ease","-ms-transition":"all .6s ease","-o-transition":"all .6s  ease","-webkit-transition":"all .6s  ease",transition:"all .6s  ease"},100),$("#js-checklist-progress-percent-"+this.model.id).text(a+"%"),!1},showItemOptions:function(a){a.preventDefault(),$("#js-item-add-option-response-"+this.model.id).html(new App.ChecklistItemActionsView({model:this.model}).el)},backToItemOptions:function(a){return a.preventDefault(),$("#js-item-add-option-response-"+this.model.id).html(new App.ChecklistItemActionsView({model:this.model}).el),!1},showMentionMemberForm:function(a){return a.preventDefault(),$("#js-item-add-option-response-"+this.model.id).html((new App.ChecklistItemMentionMemberSerachFormView).el),this.$el.find(".js-item-member-search-response").html(""),this.renderBoardUsers(),!1},showEmojiList:function(a){a.preventDefault();var b="smile,thumbsup,warning,sunglasses",c=b.split(",");return $("#js-item-add-option-response-"+this.model.id).html(new App.ChecklistItemEmojiListView({model:c}).el),emojify.run(),!1},addItemMember:function(a){a.preventDefault();var b=$(a.currentTarget).data("member-id"),c=this.model.card.list.collection.board.board_users.get({id:parseInt(b)}),d=$("form.js-add-item textarea");return d.val(d.val()+" @"+c.attributes.username),!1},showSearchItemMembers:function(a){var b=this,c=$(a.target).val();if(""!==c){var d=this.model.card.list.collection.board.board_users.search(c),e=new App.UserCollection;_.isEmpty(d._wrapped)||$.unique(d._wrapped),e.add(d._wrapped),$(".js-item-member-search-response").html(""),_.isEmpty(e.models)?$(".js-item-member-search-response").html(new App.ChecklistItemMentionMemberView({model:null}).el):e.each(function(a){b.$el.find(".js-item-member-search-response").append(new App.ChecklistItemMentionMemberView({model:a}).el)})}else this.$el.find(".js-item-member-search-response").html(""),this.renderBoardUsers()},renderBoardUsers:function(){var a=this.$el.find(".js-item-member-search-response");_.isEmpty(this.model.card.list.collection.board.board_users.models)?a.html(new App.ChecklistItemMentionMemberView({model:null}).el):this.model.card.list.collection.board.board_users.each(function(b){a.append(new App.ChecklistItemMentionMemberView({model:b}).el)})},noAction:function(a){return a.preventDefault(),!1},onEnter:function(a){if(13===a.which){a.preventDefault();var b=$(a.target).closest("form");if("checklistItemAddForm"!==b.attr("name"))return!1;$("input[type=submit]",b).trigger("click")}}}),"undefined"==typeof App&&(App={}),App.CardCheckListItemView=Backbone.View.extend({initialize:function(a){_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),_.bindAll(this,"render","renderProgress"),this.model.checklist.card.list.collection.board.checklist_items.bind("add",this.render),this.model.checklist.card.list.collection.board.checklist_items.bind("change",this.render),this.model.checklist.card.list.collection.board.checklist_items.bind("change",this.renderProgress),this.model.checklist.card.list.collection.board.checklist_items.bind("remove",this.renderProgress);var b=this.model.board_users.findWhere({user_id:parseInt(authuser.user.id)});_.isEmpty(b)||(this.model.board_user_role_id=b.attributes.board_user_role_id)},converter:new showdown.Converter,template:JST["templates/card_checklist_item"],className:function(){var a="js-checklist-item btn-block pull-left";return _.isUndefined(authuser.user)||(a+=" cur-grab"),a},events:{"click .js-show-item-edit-form":"showItemEditForm","submit form.js-item-edit-form":"updateItem","click a.js-hide-item-edit-form":"hideChecklistEditForm","click .js-show-confirm-item-delete":"showConfirmItemDelete","click .js-delete-item":"deleteItem","click .js-markas-completed":"markAsCompleted","click .js-markas-incomplete":"markAsIncomplete","click .js-show-item-options":"showItemOptions","click .js-show-mention-member-form":"showMentionMemberForm","click .js-show-emoji-list-form":"showEmojiList","click .js-convert-to-card":"convertToCard","keyup .js-item-search-member":"showSearchItemMembers","click .js-back-to-item-options":"backToItemOptions","click .js-edit-item-member":"editItemMember","click .js-no-action":"noAction",itemSort:"itemSort"},itemSort:function(a,b){var c=$(a.target),d={},e=parseInt(c.parents(".js-checklist-items-sorting:first").data("checklist_id")),f=c.prev(".js-checklist-item").data("item_id"),g=c.next(".js-checklist-item").data("item_id");this.model.url=api_url+"boards/"+this.model.card.get("board_id")+"/lists/"+this.model.card.get("list_id")+"/cards/"+this.model.card.id+"/checklists/"+this.model.attributes.checklist_id+"/items/"+this.model.id+".json",("undefined"==typeof f&&"undefined"==typeof g||e!=this.model.attributes.checklist_id)&&(d.checklist_id=e),"undefined"!=typeof f?this.model.moveAfter(f):"undefined"!=typeof g&&this.model.moveBefore(g),this.model.set("checklist_id",e),d.position=this.model.attributes.position,this.model.save(d,{patch:!0})},render:function(){return this.$el.html(this.template({checklist_item:this.model,converter:this.converter})),this.showTooltip(),this},renderProgress:function(){var a=this.model.get("checklist_id"),b=this.model.collection.where({checklist_id:a});items=new App.CheckListItemCollection,items.add(b);var c=items.filter(function(a){return 1===parseInt(a.get("is_completed"))}).length,d=items.models.length;return c=d>0?Math.round(100*c/d):0,$("#js-checklist-progress-percent-"+a).text(c+"%"),$("#js-checklist-progress-bar-"+a).stop().animate({width:c+"%","-moz-transition":"all .6s ease","-ms-transition":"all .6s ease","-o-transition":"all .6s  ease","-webkit-transition":"all .6s  ease",transition:"all .6s  ease"},100),emojify.run(),this},showItemEditForm:function(a){var b=$(a.target);if(b.is("a"))return!0;var c=$("form.js-item-edit-form");return c.parent().addClass("js-show-item-edit-form").html($("textarea",c).val()),c.remove(),$("#js-checklist-item-"+this.model.id).addClass("hide").html(""),$("#js-checklist-item-"+this.model.id).after(new App.ChecklistItemEditFormView({model:this.model}).el),!1},hideChecklistEditForm:function(a){a.preventDefault();var b=$("form.js-item-edit-form");b.prev(".js-show-item-edit-form").removeClass("hide"),$("#js-checklist-item-"+this.model.id).html(this.converter.makeHtml($("textarea",b).val())),b.remove(),emojify.run()},updateItem:function(a){a.preventDefault();var b=$(a.target).serializeObject();return this.model.url=api_url+"boards/"+this.model.card.get("board_id")+"/lists/"+this.model.card.get("list_id")+"/cards/"+this.model.card.id+"/checklists/"+this.model.attributes.checklist_id+"/items/"+this.model.id+".json",this.model.set(b),this.render(),this.model.save(b,{patch:!0}),emojify.run(),!1},showConfirmItemDelete:function(a){a.preventDefault(),$("#js-item-actions-response-"+this.model.id).html(new App.ChecklistItemDeleteConfirmFormView({model:this.model}).el)},deleteItem:function(){this.$el.remove(),this.model.url=api_url+"boards/"+this.model.card.get("board_id")+"/lists/"+this.model.card.get("list_id")+"/cards/"+this.model.card.id+"/checklists/"+this.model.attributes.checklist_id+"/items/"+this.model.id+".json";var a=this.model.card.list.collection.board.checklist_items.get(this.model.id),b=a.attributes.is_completed;return b&&(this.model.set("is_completed",1),this.model.checklist.set("checklist_item_completed_count",parseInt(this.model.checklist.get("checklist_item_completed_count"))-1),this.model.checklist.card.set("checklist_item_completed_count",parseInt(this.model.checklist.card.attributes.checklist_item_completed_count)-1),this.model.checklist.card.list.collection.board.cards.get(this.model.checklist.card).set("checklist_item_completed_count",this.model.checklist.card.attributes.checklist_item_completed_count,{silent:!0})),this.model.checklist.set("checklist_item_count",parseInt(this.model.checklist.get("checklist_item_count"))-1),this.model.checklist.card.set("checklist_item_count",parseInt(this.model.checklist.card.attributes.checklist_item_count)-1),this.model.checklist.card.list.collection.board.cards.get(this.model.checklist.card).set("checklist_item_count",this.model.checklist.card.attributes.checklist_item_count,{silent:!0}),this.model.destroy(),!1},markAsCompleted:function(a){a.preventDefault();var b=this;this.model.url=api_url+"boards/"+this.model.card.get("board_id")+"/lists/"+this.model.card.get("list_id")+"/cards/"+this.model.card.id+"/checklists/"+this.model.attributes.checklist_id+"/items/"+this.model.id+".json",this.model.set("is_completed",1),this.model.checklist.checklist_item_completed_count=parseInt(this.model.checklist.get("checklist_item_completed_count"))+1,this.model.checklist.card.list.collection.board.cards.get(this.model.checklist.card).checklist_item_completed_count=this.model.checklist.card.attributes.checklist_item_completed_count,this.model.checklist.card.set("checklist_item_completed_count",parseInt(this.model.checklist.card.attributes.checklist_item_completed_count)+1),this.model.save({is_completed:1},{silent:!0,patch:!0,success:function(a,c){var d=new App.Activity;d.set(c.activity);var e=new App.ActivityView({model:d});a.set("activities",d,{silent:!0});var f=$("#js-card-activities-"+b.model.card.id);f.prepend(e.render().el).find(".timeago").timeago()}})},markAsIncomplete:function(a){a.preventDefault();var b=this;this.model.url=api_url+"boards/"+this.model.card.get("board_id")+"/lists/"+this.model.card.get("list_id")+"/cards/"+this.model.card.id+"/checklists/"+this.model.attributes.checklist_id+"/items/"+this.model.id+".json",this.model.set("is_completed",0),this.model.checklist.checklist_item_completed_count=parseInt(this.model.checklist.get("checklist_item_completed_count"))-1,this.model.checklist.card.set("checklist_item_completed_count",parseInt(this.model.checklist.card.attributes.checklist_item_completed_count)-1),this.model.checklist.card.list.collection.board.cards.get(this.model.checklist.card).checklist_item_completed_count=this.model.checklist.card.attributes.checklist_item_completed_count,this.model.save({is_completed:0},{silent:!0,patch:!0,success:function(a,c){var d=new App.Activity;d.set(c.activity);var e=new App.ActivityView({model:d});a.set("activities",d,{silent:!0});var f=$("#js-card-activities-"+b.model.card.id);
f.prepend(e.render().el).find(".timeago").timeago()}})},showItemOptions:function(a){a.preventDefault(),$("#js-item-option-response-"+this.model.id).html(new App.ChecklistItemActionsView({model:this.model}).el)},backToItemOptions:function(a){return a.preventDefault(),$("#js-item-option-response-"+this.model.id).html(new App.ChecklistItemActionsView({model:this.model}).el),!1},showMentionMemberForm:function(a){return a.preventDefault(),$("#js-item-option-response-"+this.model.id).html((new App.ChecklistItemMentionMemberSerachFormView).el),this.$el.find(".js-item-member-search-response").html(""),this.renderBoardUsers(),!1},showEmojiList:function(a){a.preventDefault();var b="smile,thumbsup,warning,sunglasses",c=b.split(",");return $("#js-item-option-response-"+this.model.id).html(new App.ChecklistItemEmojiListView({model:c}).el),emojify.run(),!1},convertToCard:function(a){var b=this;a.preventDefault();var c=new App.Card;c.url=api_url+"boards/"+b.model.card.get("board_id")+"/lists/"+b.model.card.get("list_id")+"/cards/"+b.model.card.id+"/checklists/"+b.model.attributes.id+"/items/"+b.model.id+"/convert_to_card.json",c.save({},{success:function(a,d){b.deleteItem(),c.set(d.cards),c.set("id",parseInt(d.cards.id)),c.set("list_id",parseInt(d.cards.list_id)),c.set("board_id",parseInt(d.cards.board_id)),b.model.card.list.collection.board.cards.add(c)}})},showSearchItemMembers:function(a){var b=$(a.target).val(),c=this.$el.find(".js-item-member-search-response");if(""!==b){var d=this.model.card.list.collection.board.board_users.search(b),e=new App.UserCollection;_.isEmpty(d._wrapped)||$.unique(d._wrapped),e.add(d._wrapped),$(".js-item-member-search-response").html(""),_.isEmpty(e.models)?c.html(new App.ChecklistItemMentionMemberView({model:null}).el):e.each(function(a){c.append(new App.ChecklistItemMentionMemberView({model:a}).el)})}else c.html(""),this.renderBoardUsers()},renderBoardUsers:function(){var a=this.$el.find(".js-item-member-search-response");_.isEmpty(this.model.card.list.collection.board.board_users.models)?a.html(new App.ChecklistItemMentionMemberView({model:null}).el):this.model.card.list.collection.board.board_users.each(function(b){a.append(new App.ChecklistItemMentionMemberView({model:b,class_name:"js-edit-item-member"}).el)})},editItemMember:function(a){a.preventDefault();var b=$(a.currentTarget).data("member-id"),c=this.model.board_users.get({id:b}),d=$("form.js-item-edit-form textarea");return d.val(d.val()+" @"+c.attributes.username),!1},noAction:function(a){return a.preventDefault(),!1}}),"undefined"==typeof App&&(App={}),App.UserView=Backbone.View.extend({template:JST["templates/user_view"],tagName:"div",className:"",events:{"submit form.js-user-profile-edit":"userProfileEdit","click .js-user-cards":"userCards","click #js-user-activites-load-more":"loadActivities","click .js-remove-image":"removeImage","click .js-use-uploaded-avatar":"computerOpenUserProfile","change #js-user-profile-attachment":"addUserProfile"},initialize:function(a){$(".action-close",$(".dockmodal.active")).trigger("click");_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.type="profile",this.page=a.page,_.isUndefined(a.type)||(this.type=a.type),_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.render()},render:function(){if(_.isUndefined(this.type)||"cards"!=this.type&&"settings"!=this.type&&"oauth_applications"!=this.type){var a=this;changeTitle("User - "+_.escape(this.model.attributes.username));var b=new App.ActivityCollection;return b.url=api_url+"users/"+a.model.id+"/activities.json?&type=profile",b.fetch({cache:!1,success:function(c,d){if(a.$el.html(a.template({user:a.model,type:a.type,page:a.page})),_.isEmpty(b.models))$("#js-user-activites-load-more").addClass("hide"),a.$("#js-user-activites").append(new App.UserActivityView({model:null,type:a.type}).el);else{var e=_.min(b.models,function(a){return a.id});last_activity_id=e.id,$("#js-user-activites-load-more").removeClass("hide");for(var f=0;f<b.models.length;f++){var g=b.models[f];a.$("#js-user-activites").append(new App.UserActivityView({model:g,type:a.type}).el).find(".timeago").timeago()}}}}),this.showTooltip(),this}this.renderType()},renderType:function(){var a=this.model.attributes.is_send_newsletter;if(this.$el.html(this.template({user:this.model,type:this.type,page:this.page})),"cards"==this.type)this.userCards();else if("oauth_applications"==this.type)this.oauthApplications();else{var b=this;_(function(){$("#is_send_newsletter").select2({formatResult:function(a){var b=a.text.split(",");return markup='<div class="clearfix"><span class="show">'+b[0]+'</span><span class="show small">'+b[1]+"</span></div>",markup},formatSelection:function(a){var b=a.text.split(",");return b[0]}}).select2("val",a),Backbone.TemplateManager.baseUrl="{name}";var c=new Backbone.UploadManager({uploadUrl:api_url+"users/"+b.model.id+".json?token="+api_token,autoUpload:!0,dropZone:$("#dropzone"),singleFileUploads:!0,formData:$("form.js-user-profile-edit").serialize(),fileUploadHTML:'<input id="fileupload1" type="file" name="attachment"  >'});c.on("fileadd",function(a){$("#dropzone-cssloader").addClass("cssloader")}),c.on("filedone",function(a,c){if(!_.isUndefined(c.result.profile_picture_path)){$("#dropzone-cssloader").removeClass("cssloader"),b.model.set("profile_picture_path",c.result.profile_picture_path);var d=JSON.parse(window.sessionStorage.getItem("auth"));d.user.profile_picture_path=c.result.profile_picture_path+"?uid="+Math.floor(9999*Math.random()+1),window.sessionStorage.setItem("auth",JSON.stringify(d)),authuser=d;var e=calcMD5(SecuritySalt+"User"+b.model.id+"pngsmall_thumb"),f=window.location.pathname+"img/small_thumb/User/"+b.model.id+"."+e+".png";$(".js-use-uploaded-avatar").html('<img src="'+f+'" width="50" height="50" class="js-user-avatar">'),this.footerView=new App.FooterView({model:d}).render(),$("#footer").html(this.footerView.el)}}),c.renderTo($("#manager-area"))}).defer()}},deleteUser:function(){return this.model.destroy(),this.model.url=api_url+"users/"+this.model.id+".json",this.$el.remove(),!1},userProfileEdit:function(a){a.preventDefault();var b=this,c=$(a.target),d=new FormData(c[0]),e=$(a.target).serializeObject();this.model.set(e),this.render(),this.model.url=api_url+"users/"+this.model.id+".json",this.model.save(d,{patch:!0,type:"POST",data:d,processData:!1,cache:!1,contentType:!1,error:function(a,c){b.flash("danger",i18next.t("Unable to update. Please try again."))},success:function(a,c){if(_.isEmpty(c.success)?c.error?1===c.error?b.flash("danger",i18next.t("File extension not supported. It supports only jpg, png, bmp and gif.")):2===c.error&&b.flash("danger",i18next.t("Email address already exist. User Profile could not be updated. Please, try again.")):b.flash("danger",i18next.t("User Profile could not be updated. Please, try again.")):b.flash("success",i18next.t("User Profile has been updated.")),_.isUndefined(c.activity.profile_picture_path)||null===c.activity.profile_picture_path)b.model.set("profile_picture_path",null),b.model.set("initials",$("#inputinitials").val()),b.model.set("is_send_newsletter",e.is_send_newsletter),$(".js-user-img").html('<i class="avatar avatar-color-194 avatar-sm">'+$("#inputinitials").val()+"</i>");else{b.model.set("profile_picture_path",c.activity.profile_picture_path);var d=JSON.parse(window.sessionStorage.getItem("auth"));d.user.profile_picture_path=c.activity.profile_picture_path,window.sessionStorage.setItem("auth",JSON.stringify(d)),authuser=d,this.footerView=new App.FooterView({model:d}).render(),$("#footer").html(this.footerView.el)}}})},oauthApplications:function(){var a=this,b=new App.OauthApplicationCollection;b.url=api_url+"oauth/applications.json",b.fetch({cache:!1,success:function(b,c){_.isEmpty(c)||a.$("#oauth_applications").append(new App.OauthApplicationsView({model:c}).el),$("#tab-loaded-content").load()}})},userCards:function(){var a=this;a.model.cards.url=api_url+"users/"+a.model.id+"/cards.json?",a.model.cards.fetch({cache:!1,success:function(b,c){a.$("#cards").html("");var d=new App.CardUserCollection;d=a.model.cards.groupBy(function(a){return[a.get("board_name")]}),_.isEmpty(d)?a.$("#cards").html('<span class="alert alert-info col-xs-12">'+i18next.t("No %s available.",{postProcess:"sprintf",sprintf:[i18next.t("cards")]})+"</span>"):_.map(d,function(b,c){a.$("#cards").append(new App.UserCardsView({key:c,model:b}).el)}),$("#tab-loaded-content").load()}})},loadActivities:function(){var a=this,b=new App.ActivityCollection,c="?last_activity_id="+last_activity_id+"&type="+a.type;b.url=api_url+"users/"+a.model.id+"/activities.json"+c,b.fetch({cache:!1,success:function(c,d){if(_.isEmpty(b)||_.isEmpty(b.models))a.$("#js-user-activites-load-more").remove();else{for(var e=0;e<b.models.length;e++){var f=b.models[e];a.$("#js-user-activites").append(new App.UserActivityView({model:f}).el).find(".timeago").timeago()}var g=_.min(b.models,function(a){return a.id});last_activity_id=g.id}}})},removeImage:function(a){a.preventDefault(),this.model.set("profile_picture_path",null),this.model.url=api_url+"users/"+this.model.id+".json",this.model.set("initials",$("#inputinitials").val()),this.model.set("is_send_newsletter",this.model.attributes.is_send_newsletter),$(".js-user-img").html('<i class="avatar avatar-color-194 avatar-sm">'+$("#inputinitials").val()+"</i>"),this.model.save({profile_picture_path:"NULL"},{patch:!0}),this.model.set("profile_picture_path",null),$(".js-use-uploaded-avatar").html('<i class="avatar avatar-color-194 avatar-md img-rounded">'+$("#inputinitials").val()+"</i>");var b=JSON.parse(window.sessionStorage.getItem("auth"));return b.user.profile_picture_path=null,window.sessionStorage.setItem("auth",JSON.stringify(b)),authuser=b,this.footerView=new App.FooterView({model:b}).render(),$("#footer").html(this.footerView.el),!1},computerOpenUserProfile:function(a){a.preventDefault();$(a.target);$("#js-user-profile-attachment").remove();var b=$("#js-user-profile-edit");return $(b).append('<input class="hide" type="file" name="attachment" id="js-user-profile-attachment">'),$("#js-user-profile-attachment",b).trigger("click"),!1},addUserProfile:function(a){a.preventDefault();var b=this;$("#dropzone-cssloader").addClass("cssloader");var c=$("#js-user-profile-attachment").val().split(".").pop().toLowerCase();if(-1==$.inArray(c,["gif","png","jpg","jpeg"]))return b.flash("danger",i18next.t("File extension not supported. It supports only jpg, png, bmp and gif.")),$("#dropzone-cssloader").removeClass("cssloader"),!1;var d=$("#js-user-profile-edit"),e=($(a.target),new FormData(d[0]));this.model.url=api_url+"users/"+this.model.id+".json",this.model.save(e,{type:"POST",data:e,processData:!1,cache:!1,contentType:!1,success:function(a,c){$("#dropzone-cssloader").removeClass("cssloader"),c.error&&(1===c.error?b.flash("danger",i18next.t("File extension not supported. It supports only jpg, png, bmp and gif.")):2===c.error&&b.flash("danger",i18next.t("Email address already exist. User Profile could not be updated. Please, try again."))),b.model.set("profile_picture_path",c.profile_picture_path);var d=JSON.parse(window.sessionStorage.getItem("auth"));d.user.profile_picture_path=c.profile_picture_path+"?uid="+Math.floor(9999*Math.random()+1),window.sessionStorage.setItem("auth",JSON.stringify(d)),authuser=d;var e=calcMD5(SecuritySalt+"User"+b.model.id+"pngsmall_thumb"),f=window.location.pathname+"img/small_thumb/User/"+b.model.id+"."+e+".png?uid="+Math.floor(9999*Math.random()+1);$(".js-use-uploaded-avatar").html('<span class="js-remove-image  profile-block show"><i class="icon icon-remove close-block cur h6"></i></span><img src="'+f+'" width="50" height="50" class="js-user-avatar">'),this.footerView=new App.FooterView({model:d}).render(),$("#footer").html(this.footerView.el)}})}}),"undefined"==typeof App&&(App={}),App.UserIndex=Backbone.View.extend({template:JST["templates/user"],tagName:"tr",className:"",events:{"click .js-user-activity-menu":"userActivityMenu","click .js-user-board-list":"userBoardList","click .js-no-action":"noAction","click .js-change-user-role":"changeUserRole","click .js-block-user":"blockUser","click .js-unblock-user":"unBlockUser","click .js-remove-user":"removeUser","click .js-all-user-activities":"showUserActivities"},initialize:function(){_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.render(),_.bindAll(this,"render"),this.model.bind("change:role_id",this.render),this.model.bind("change:is_active",this.render)},render:function(){return this.$el.html(this.template({user:this.model})),0!==this.model.attributes.joined_board_count&&this.userBoardList(),$(".js-admin-user-menu").addClass("active"),$(".js-admin-activity-menu, .js-admin-setting-menu, .js-admin-email-menu, .js-admin-role-menu, .js-admin-board-menu").removeClass("active"),this.showTooltip(),this},deleteUser:function(){return this.model.destroy(),this.model.url=api_url+"users/"+this.model.id+".json",this.$el.remove(),!1},userActivityMenu:function(a){a.preventDefault(),$("#js-user-activity-menu-response-"+this.model.id).html(new App.UserActivityMenuView({model:this.model}).el)},userBoardList:function(a){var b=this,c=new App.BoardsUserCollection;c.add(this.model.attributes.boards_users,{silent:!0});for(var d=0;d<c.models.length;d++){var e=c.models[d];b.$el.find("#js-user-activity-menu-response-"+b.model.id).append(new App.UserBoardListView({model:e}).el)}},noAction:function(a){return a.preventDefault(),!1},changeUserRole:function(a){a.preventDefault();var b=$(a.currentTarget).data("role-id");this.model.set("role_id",b),this.model.url=api_url+"users/"+this.model.attributes.id+".json",this.model.save({role_id:b},{patch:!0})},blockUser:function(a){a.preventDefault(),this.model.set("is_active",0),this.model.url=api_url+"users/"+this.model.attributes.id+".json",this.model.save({is_active:0},{patch:!0})},unBlockUser:function(a){a.preventDefault(),this.model.set("is_active",1),this.model.url=api_url+"users/"+this.model.attributes.id+".json",this.model.save({is_active:1},{patch:!0})},removeUser:function(a){a.preventDefault(),this.$el.remove(),this.model.url=api_url+"users/"+this.model.attributes.id+".json",this.flash("success",i18next.t("User deleted successfully.")),this.model.destroy()},showUserActivities:function(a){a.preventDefault();var b=new App.ModalActivityView({model:this.model,type:"user_listing"});return b.show(),!1}}),"undefined"==typeof App&&(App={}),App.BoardSimpleView=Backbone.View.extend({initialize:function(a){_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.message=a.message,this.starred_boards=a.starred_boards,_.bindAll(this,"render"),null===this.model||_.isUndefined(this.model.collection)||(this.model.collection.bind("change",this.render),this.model.collection.bind("add",this.render),this.model.collection.bind("remove",this.render)),App.boards.bind("change",this.render),this.render()},template:JST["templates/board_simple_view"],events:{"click .js-close-popover":"closePopup","click .js-star-board":"starBoard","click .js-board-inner-view":"showBoard","click .js-board-visibility":"showBoardVisibility","click .js-set-privte-board":"setPrivteBoard","click .js-set-public-board":"setPublicBoard","click .js-show-board-organization":"showBoardOrganization","submit .js-save-board-visibility":"saveBoardVisibility","click .js-close-span-popover":"closeSpanPopover","click .js-back-to-board-visibility":"showBoardVisibility"},render:function(){if(this.$el.html(this.template({board:this.model,message:this.message,starred_boards:this.starred_boards})),null!==this.model){this.model.lists.sortByColumn("position");var a=[],b=["#DB7093","#F47564","#EDA287","#FAC1AD","#FFE4E1","#D3ABF0","#DC9CDC","#69BFBA","#66CDAA","#8FBC8F","#CBFDCA","#EEE8AA","#BC8F8F","#CD853F","#D2B48C","#F5DEB3","#64BCF2","#87CEFA","#B0C4DE","#D6E2F7"],c=0;this.model.lists.each(function(d){if(!d.attributes.is_archived){var e={};e.title=d.attributes.name,e.value=d.attributes.card_count,e.color=b[c],c++,c>20&&(c=0),d.attributes.card_count>0&&a.push(e)}});var d=this;_(function(){d.$el.find(".js-chart").html("").drawDoughnutChart(a)}).defer()}return this.showTooltip(),this},closeSpanPopover:function(a){return $(".js-close-span-popover").parents("span.dropdown").removeClass("open"),!1},starBoard:function(a){a.preventDefault();var b=$(a.currentTarget).attr("name"),c="unstar",d=1,e=this,f='<i class="icon-star text-primary"></i>';"unstar"==b&&(c="star",d=0,f='<i class="icon-star-empty"></i>'),$(a.currentTarget).attr("name",c),$(a.currentTarget).html(f),e.boardStar=new App.BoardStar;var g={};return e.boardStar.url=api_url+"boards/"+this.model.id+"/boards_stars.json",e.boardStar.set("board_id",this.model.attributes.id),e.boardStar.set("user_id",parseInt(authuser.user.id)),e.boardStar.set("is_starred",d),d?(_.isUndefined(this.starred_boards)||this.starred_boards.push(e.model.id),0!==this.starred_boards.length&&$("#js-starred-board-empty").remove(),$(".js-header-starred-boards").append(new App.BoardSimpleView({model:e.model,id:"js-starred-board-"+e.model.attributes.id,className:"col-lg-3 col-md-3 col-sm-4 col-xs-12 media-list js-board-view js-board-view-"+e.model.attributes.id,starred_boards:e.starred_boards}).el)):(this.starred_boards.splice($.inArray(parseInt(e.model.id),this.starred_boards),1),$("#js-starred-board-"+e.model.id).remove(),(0===this.starred_boards.length||0===$(".js-header-starred-boards > .js-board-view").length)&&$(".js-header-starred-boards").append(new App.BoardSimpleView({model:null,message:i18next.t("No %s available.",{postProcess:"sprintf",sprintf:[i18next.t("starred boards")]}),id:"js-starred-board-empty",className:"col-lg-3 col-md-3 col-sm-4 col-xs-12 media-list"}).el)),e.boardStar.save(g,{success:function(a,b){App.boards.get(e.model.attributes.id).boards_stars.reset(e.boardStar),e.model.boards_stars.add(e.boardStar)}}),!1},showBoardVisibility:function(a){var b=$(a.currentTarget);this.$(".js-back-to-board-visibility").addClass("hide");var c=this.model.attributes.board_visibility,d=$(".js-visibility-list",b.next(".dropdown-menu"));d.nextAll().remove(),$(new App.ShowBoardVisibilityView({model:c}).el).insertAfter(d)},closePopup:function(a){var b=this.$el,c=b.find(a.target);return c.parents(".dropdown").removeClass("open"),!1},showBoard:function(a){a.preventDefault(),this.$el.removeClass("col-lg-3 col-md-3 col-sm-4").html(new App.BoardView({model:this.model}).el)},showChangeOrganizationForm:function(a){var b=$(a.currentTarget),c=b.parents(".dropdown-menu"),d=(this.model.attributes.board_visibility,$(".js-visibility-list",c));d.nextAll().remove(),$(new App.BoardOrganizationFormView({model:auth_user_organizations,board:this.model}).el).insertAfter(d)},setPrivteBoard:function(a){a.preventDefault(),this.model.url=api_url+"boards/"+this.model.attributes.id+".json",this.model.set({board_visibility:0,organization_id:0}),this.closePopup(a),this.model.save({board_visibility:0,organization_id:0},{patch:!0});var b=$(a.target);return b.parents("div.dropdown").removeClass("open"),!1},setPublicBoard:function(a){a.preventDefault(),this.model.url=api_url+"boards/"+this.model.attributes.id+".json",this.model.set({board_visibility:2,organization_id:0}),this.closePopup(a),this.model.save({board_visibility:2,organization_id:0},{patch:!0});var b=$(a.target);return b.parents("div.dropdown").removeClass("open"),!1},showBoardOrganization:function(a){return a.preventDefault(),this.$(".js-back-to-board-visibility").removeClass("hide"),this.showChangeOrganizationForm(a),!1},saveBoardVisibility:function(a){a.preventDefault();var b=$(a.target);data=b.serializeObject(),data.board_visibility=1;var c=auth_user_organizations,d=c.findWhere({id:parseInt(data.organization_id)});this.model.set("organization_name",_.escape(d.attributes.name)),this.model.set("organization_logo_url",_.escape(d.attributes.organization_logo_url)),this.model.set("board_visibility",1),this.model.set("organization_id",parseInt(data.organization_id)),$(".js-sidebar-board-visibility").html(i18next.t("Change Visibility"));new App.Board;return this.model.url=api_url+"boards/"+this.model.attributes.id+".json",this.closePopup(a),this.model.save(data,{patch:!0}),b.parents("div.dropdown").removeClass("open"),!1}}),"undefined"==typeof App&&(App={}),App.InstantCardAddView=Backbone.View.extend({template:JST["templates/instant_card_add"],converter:new showdown.Converter,events:{"submit form.js-instantCardAddForm":"addInstantCard","keyup .js-search-users":"showSearchUsers","click .js-close-popover":"closePopup","click .js-add-card-member":"addCardMember","click .js-remove-card-member":"removeCardMember","click .js-show-card-label-form":"showCardLabelForm"},initialize:function(a){_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),_.bindAll(this,"render"),this.board=a.board,this.boards=new App.BoardCollection,this.card_users=[],this.card_users_names=[],this.render()},className:"js-instant-card-from",tagName:"div",attributes:{title:i18next.t("Instant Add Card")},bindings:{"#board_id":{observe:"board_id",initialize:function(a){a.select2({width:175,allowClear:!0})},selectOptions:{collection:function(){var a=[];return _.each(this.boards.models,function(b){if(!_.isEmpty(b.attributes.lists)&&b.attributes.lists.length>0&&0===parseInt(b.attributes.is_closed)){var c={};c.id=b.id,c.name=_.escape(b.attributes.name),a.push(c)}}),a},valuePath:"id",labelPath:"name",defaultOption:{label:"",value:null}},onSet:function(a){return this.model.set("list_id",null),$("#list_id").select2("val",null),this.showCardLabelForm(),a}},"#list_id":{observe:["list_id","board_id"],initialize:function(a){a.select2({width:175,allowClear:!0})},selectOptions:{collection:function(){var a=this.model.get("board_id"),b=this.boards.findWhere({id:parseInt(a)});this.$(".js-instant-card-user-ids").val(""),this.$(".js-instant-card-member-search-response").nextAll().remove(),this.$("#inputInstantCardAddUserSearch").val(""),$('<li class="small"><div class="col-xs-12">'+i18next.t("Search for a person in %s by name or email address.",{postProcess:"sprintf",sprintf:[SITE_NAME]})+"</div></li>").insertAfter(this.$(".js-instant-card-member-search-response"));var c=[];return _.isUndefined(b)||_.each(b.attributes.lists,function(a){if(0===parseInt(a.is_archived)){var b={};b.id=a.id,b.name=_.escape(a.name),c.push(b)}}),c},valuePath:"id",labelPath:"name",defaultOption:{label:"",value:null}},onSet:function(a){return this.model.set("list_id",a),$("#list_id").select2("val",a),a}}},render:function(){this.boards=App.boards;var a="js-instant-card-from-"+$(".js-instant-card-from").length;this.id=a;var b=this;return $(".js-hidden-blocks").append(this.$el.html(this.template({boards:this.boards})).attr("title",i18next.t("Instant Add Card"))),this.$el.dockmodal({initialState:"docked",height:300,width:400,animationSpeed:ANIMATION_SPEED,open:function(a,b){$(".dockmodal").removeClass("active"),a.parent().parent().addClass("active"),$(".dockmodal").click(function(a){$(".dockmodal").removeClass("active"),$(this).addClass("active")}),$(window).bind("keydown",function(a){27===a.keyCode&&$(".action-close",$(".dockmodal.active")).trigger("click")})}}).find(".js-chosen-select").select2(),this.$el.find(".duedate").datetimepicker({format:"yyyy-mm-dd hh:ii:ss",autoclose:!0,todayBtn:!0,pickerPosition:"top-right",todayHighlight:1,bootcssVer:3,pickTime:!0}).on("changeDate",function(a){var c=new Date(a.date),d=c.getFullYear(),e=c.getMonth(),f=c.getDate(),g=c.getHours(),h=c.getMinutes(),i=c.getSeconds(),j=d+"-"+(e+1)+"-"+f+" "+g+":"+h+":"+i,k=dateFormat(j,"mmm dd yyyy h:MM TT");b.$(".js-instant-date").addClass("text-primary").parent().addClass("js-tooltip").attr("title",k),$(".js-tooltip").tooltip(),b.$(".js-instant-duedate").val(j)}),this.stickit(this.model,this.bindings),this.showCardLabelForm(),this.showTooltip(),this},addInstantCard:function(a){a.preventDefault(),this.card_users=[],this.card_users_names=[],$("li.dropdown").removeClass("open");var b=this,c=$(a.target).serializeObject();if("undefined"===c.board_id||""===c.board_id?$("#board_id").select2("open"):("undefined"===c.list_id||""===c.list_id)&&$("#list_id").select2("open"),c.board_id&&c.list_id){$('input[type!="submit"], textarea, select',$(a.currentTarget)).val("").removeAttr("checked").removeAttr("selected"),$("#board_id, #list_id").select2("val",null);var d=new App.Card,e=parseInt(c.board_id);c.board_id=e;var f=parseInt(c.list_id);if(c.list_id=f,d.url=api_url+"boards/"+c.board_id+"/lists/"+c.list_id+"/cards.json",d.set("is_archived",0),d.set(c),d.set("board_id",e),d.set("due_date",null),d.set("checklist_item_count",0),d.set("checklist_item_completed_count",0),!_.isUndefined(b.board)&&e===b.board.id){d.list=b.board.lists.findWhere({id:f});var g=new App.CardView({tagName:"div",model:d,converter:this.converter});$("#js-card-listing-"+f).append(g.render().el)}this.$(".js-instant-user").removeClass("text-primary").parent().removeClass("js-tooltip").attr("data-original-title","").attr("title",""),this.$(".js-instant-label").removeClass("text-primary").parent().removeClass("js-tooltip").attr("data-original-title","").attr("title",""),this.$(".js-instant-date").removeClass("text-primary").parent().removeClass("js-tooltip").attr("data-original-title","").attr("title",""),$(a.target)[0].reset(),d.save(c,{success:function(a,f){if(_.isUndefined(f.id))b.flash("danger",i18next.t("You don't have permission to add a card"));else if(d.set("list_id",parseInt(c.list_id)),d.set("id",parseInt(f.id)),_.isUndefined(b.board)||e!==b.board.id){var g=App.boards.get(e).lists.get(parseInt(c.list_id)).get("card_count");if(App.boards.get(e).lists.get(parseInt(c.list_id)).set("card_count",g+1),null!==this.model){App.boards.get(e).lists.sortByColumn("position"),c=[];var h=["#DB7093","#F47564","#EDA287","#FAC1AD","#FFE4E1","#D3ABF0","#DC9CDC","#69BFBA","#66CDAA","#8FBC8F","#CBFDCA","#EEE8AA","#BC8F8F","#CD853F","#D2B48C","#F5DEB3","#64BCF2","#87CEFA","#B0C4DE","#D6E2F7"],i=0;App.boards.get(e).lists.each(function(a){if(!a.attributes.is_archived){var b={};b.title=a.attributes.name,b.value=a.attributes.card_count,b.color=h[i],i++,i>20&&(i=0),a.attributes.card_count>0&&c.push(b)}});_(function(){var a=$("#js-starred-board-"+e),b=$("#js-my-board-"+e);a.length>0&&a.find(".js-chart").html("").drawDoughnutChart(c),b.length>0&&b.find(".js-chart").html("").drawDoughnutChart(c)}).defer()}}else if(b.board.cards.add(d),b.board.lists.get(parseInt(c.list_id)).cards.add(d),!_.isUndefined(f.cards_labels)){var j=1;_.each(f.cards_labels,function(a){var c=new App.Label;c.set(a),c.set("id",parseInt(a.id)),c.set("label_id",parseInt(a.label_id)),c.set("card_id",parseInt(a.card_id)),c.set("list_id",parseInt(a.list_id)),c.set("board_id",parseInt(a.board_id));var d={silent:!0};j===f.cards_labels.length&&(d.silent=!1),b.board.labels.add(c,d),j++})}}})}},showSearchUsers:function(a){var b=this,c=$(a.target).val(),d=new App.UserCollection,e=$("#board_id").val();0!==e?d.url=api_url+"users/search.json?board_id="+e:d.url=api_url+"users/search.json",d.fetch({data:{q:c},success:function(){b.$el.find(".js-instant-card-member-search-response").nextAll().remove(),_.each(d.models,function(a){var c=-1!==$.inArray(a.id,b.card_users)?!0:!1;$("<li>"+new App.CardSearchUsersResultView({model:a,is_added_user:c}).el+"</li>").insertAfter(b.$el.find(".js-instant-card-member-search-response"))}),0===d.models.length&&$("<li>"+new App.CardSearchUsersResultView({model:null}).el+"</li>").insertAfter(b.$el.find(".js-instant-card-member-search-response"))}})},closePopup:function(a){var b=$(a.target);return b.parents("li.dropdown").removeClass("open"),b.parents("li.dropup").removeClass("open"),!1},addCardMember:function(a){a.preventDefault();var b=$(a.currentTarget);b.removeClass("js-add-card-member").addClass("js-remove-card-member"),b.append('<i class="icon-ok"></i>');var c=b.data("user-id"),d=b.data("user-name");this.card_users.push(parseInt(c)),this.card_users_names.push(d),$.unique(this.card_users),$.unique(this.card_users_names),this.$(".js-instant-user").addClass("text-primary").parent().addClass("js-tooltip").attr("data-original-title",this.card_users_names.join(",")).attr("title",this.card_users_names.join(",")),$(".js-tooltip").tooltip(),this.$(".js-instant-card-user-ids").val(this.card_users.join(","))},removeCardMember:function(a){a.preventDefault();var b=$(a.currentTarget);b.removeClass("js-remove-card-member").addClass("js-add-card-member"),b.find("i.icon-ok").remove();var c=b.data("user-id"),d=b.data("user-name");$.unique(this.card_users),this.card_users.splice($.inArray(parseInt(c),this.card_users),1),this.card_users_names.splice($.inArray(d,this.card_users_names),1),this.$(".js-instant-user").parent().addClass("js-tooltip").attr("data-original-title",this.card_users_names.join(",")).attr("title",this.card_users_names.join(",")),$(".js-tooltip").tooltip(),0===this.card_users.length&&this.$(".js-instant-user").removeClass("text-primary").parent().removeClass("js-tooltip").attr("data-original-title","").attr("title",i18next.t("Users")),this.$(".js-card-user-ids").val(this.card_users.join(","))},showCardLabelForm:function(){var a=App.boards.findWhere({id:parseInt(this.$el.find("#board_id").val())}),b=new App.CardLabelCollection;_.isEmpty(a)||_.isEmpty(a.attributes.labels)||b.set(a.attributes.labels),$(".js-show-instant-card-label-form-response").html(new App.InstantCardAddLabelsFormView({model:this.model}).el);var c=this;this.$(".js-card-label").select2({tags:b.pluck("name"),tokenSeparators:[","," "]}).on("select2-selecting",function(a){var b=_.pluck(c.$(".js-card-label").select2("data"),"text");b.push(a.choice.text),c.$(".js-instant-label").addClass("text-primary").parent().addClass("js-tooltip").attr("data-original-title",b.join(",")).attr("title",b.join(",")),$(".js-tooltip").tooltip()}).on("select2-removed",function(a){var b=_.pluck(c.$(".js-card-label").select2("data"),"text");c.$(".js-instant-label").parent().attr("data-original-title",b.join(",")).attr("title",b.join(",")),0===c.$(".js-card-label").select2("data").length&&c.$(".js-instant-label").removeClass("text-primary").parent().removeClass("js-tooltip").attr("data-original-title","").attr("title",i18next.t("Labels"))})}}),"undefined"==typeof App&&(App={}),App.RoleIndexView=Backbone.View.extend({template:JST["templates/roles"],tagName:"tr",className:"",events:{},initialize:function(){_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.render()},render:function(){return this.$el.html(this.template({role:this.model})),this.showTooltip(),this}}),"undefined"==typeof App&&(App={}),App.RoleSettingsView=Backbone.View.extend({template:JST["templates/role_settings"],tagName:"section",className:"clearfix row",events:{"click .js-update-role":"saveRoleSettings","click .js-role-name":"roleAddForm","click .js-edit":"roleEditForm","submit form#RoleAddForm":"roleAdd","submit form#BoardUserRoleAddForm":"boardUserRoleAdd","submit form#OrganizationUserRoleAddForm":"organizationUserRoleAdd","submit form#RoleEditForm":"roleEdit","submit form#BoardUserRoleEditForm":"boardUserRoleEdit","submit form#OrganizationUserRoleEditForm":"organizationUserRoleEdit"},initialize:function(a){_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.roles=a.roles,this.acl_board_links=a.acl_board_links,this.board_user_roles=a.board_user_roles,this.acl_organization_links=a.acl_organization_links,this.organization_user_roles=a.organization_user_roles,this.render()},render:function(){return this.$el.html(this.template({acl_links:this.model,roles:this.roles,acl_board_links:this.acl_board_links,board_user_roles:this.board_user_roles,acl_organization_links:this.acl_organization_links,organization_user_roles:this.organization_user_roles})),$(".js-admin-role-menu").addClass("active"),$(".js-admin-activity-menu, .js-admin-user-menu, .js-admin-email-menu, .js-admin-setting-menu, .js-admin-board-menu").removeClass("active"),
this.showTooltip(),this},saveRoleSettings:function(a){var b=$(a.target),c={acl_link_id:b.data("acl_link_id"),role_id:b.data("role_id"),table:b.data("table")},d=new App.RoleSetting;d.set(c),d.url=api_url+"acl_links.json",d.save(c)},roleAddForm:function(a){return a.preventDefault(),!1},roleEditForm:function(a){return a.preventDefault(),!1},roleAdd:function(a){var b=$(a.target),c=b.serializeObject(),d=this,e=new App.Role;return e.url=api_url+"roles.json",e.save(c,{success:function(a,b){d.flash("success",i18next.t("Role added successfully.")),app.navigate("#/roles",{trigger:!0,replace:!0})}}),!1},organizationUserRoleAdd:function(a){var b=$(a.target),c=b.serializeObject(),d=this,e=new App.OrganizationUserRoles;return e.url=api_url+"organization_user_roles.json",e.save(c,{success:function(a,b){d.flash("success",i18next.t("Organization user role added successfully.")),app.navigate("#/roles",{trigger:!0,replace:!0})}}),!1},boardUserRoleAdd:function(a){var b=$(a.target),c=b.serializeObject(),d=this,e=new App.BoardUserRoles;return e.url=api_url+"board_user_roles.json",e.save(c,{success:function(a,b){d.flash("success",i18next.t("Board user role added successfully.")),app.navigate("#/roles",{trigger:!0,replace:!0})}}),!1},roleEdit:function(a){var b=$(a.currentTarget),c=b.serializeObject(),d=this,e=new App.Role;return e.set("id",c.id),e.url=api_url+"roles/"+c.id+".json",e.save(c,{success:function(a,b){d.flash("success",i18next.t("Role has been updated successfully.")),app.navigate("#/roles",{trigger:!0,replace:!0})}}),!1},boardUserRoleEdit:function(a){var b=$(a.currentTarget),c=b.serializeObject(),d=this,e=new App.BoardUserRoles;return e.set("id",c.id),e.url=api_url+"board_user_roles/"+c.id+".json",e.save(c,{success:function(a,b){d.flash("success",i18next.t("Role has been updated successfully.")),app.navigate("#/roles",{trigger:!0,replace:!0})}}),!1},organizationUserRoleEdit:function(a){var b=$(a.currentTarget),c=b.serializeObject(),d=this,e=new App.OrganizationUserRoles;return e.set("id",c.id),e.url=api_url+"organization_user_roles/"+c.id+".json",e.save(c,{success:function(a,b){d.flash("success",i18next.t("Role has been updated successfully.")),app.navigate("#/roles",{trigger:!0,replace:!0})}}),!1}}),"undefined"==typeof App&&(App={}),App.UserCardsView=Backbone.View.extend({initialize:function(a){_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.key=a.key,this.render()},events:{"click .js-open-model-car-view":"showModalCardView"},template:JST["templates/user_cards"],tagName:"section",className:"clearfix",render:function(){return this.$el.html(this.template({card_user:this.model,key:this.key})),this.showTooltip(),this},showModalCardView:function(a){var b=this,c=(new App.Card,$(a.currentTarget).data("id")),d=b.model.filter(function(a){return parseInt(a.get("id"))===parseInt(c)}),e=new App.Board({id:d[0].attributes.board_id});e.url=api_url+"boards/"+d[0].attributes.board_id+".json",e.id=d[0].attributes.board_id,e.fetch({cache:!1,abortPending:!0,success:function(b,f){var g=e.get("acl_links")||[];e.acl_links.reset(g,{silent:!0});var h=e.get("lists")||[];e.lists.reset(h,{silent:!0});var i=e.get("activities")||[];e.activities.reset(i,{silent:!0});var j=e.get("boards_users")||[];e.board_users.reset(j,{silent:!0});var k=e.get("custom_backgrounds")||[];e.custom_attachments.reset(k,{silent:!0});var l=e.get("attachments")||[];e.attachments.reset(l,{silent:!0});var m=e.get("boards_subscribers")||[];e.board_subscribers.add(m,{silent:!0});var n=e.get("boards_stars")||[];e.board_stars.add(n,{silent:!0}),e.lists.each(function(a){var b=a.get("cards")||[];_.isEmpty(b)||e.cards.add(b,{silent:!0})}),e.cards.each(function(a){var b=a.get("cards_checklists")||[];_.isEmpty(b)||(e.checklists.add(b,{silent:!0}),_.isEmpty(e.checklists)||e.checklists.each(function(a){var b=a.get("checklists_items")||[];_.isEmpty(b)||e.checklist_items.add(b,{silent:!0})}));var c=a.get("cards_labels")||[];_.isEmpty(c)||e.labels.add(c,{silent:!0})}),e.lists.each(function(b){if(b.id===d[0].attributes.list_id){b.board_users=e.board_users,b.labels=e.labels,b.activities.add(e.activities,{silent:!0}),b.attachments=e.attachments,b.board_user_role_id=e.board_user_role_id,b.board=e,b.activities.add(e.activities,{silent:!0});var f=b.collection.board.cards.where({list_id:b.id}),g=new App.CardCollection;g.reset(f),b.cards.add(g.toJSON(),{silent:!0}),b.cards.each(function(d){if(d.id===c&&0===parseInt(d.get("is_archived"))){d.board_users=b.board_users;var e=b.labels.filter(function(a){return parseInt(a.get("card_id"))===parseInt(c)}),f=new App.CardLabelCollection;f.add(e,{silent:!0}),d.labels=f,d.card_voters.add(d.get("cards_voters"),{silent:!0}),d.cards_subscribers.add(d.get("cards_subscribers"),{silent:!0}),d.checklists.add(d.get("cards_checklists"),{silent:!0}),d.cards=b.collection.board.cards,d.list=b,d.board_activities.add(b.activities,{silent:!0}),filter_attachments=b.attachments.where({card_id:d.id}),d.attachments.add(filter_attachments,{silent:!0}),d.board=b.board;var g=d.get("cards_users")||[];_.isEmpty(g)||d.users.add(g,{silent:!0});var h="Maximized"===DEFAULT_CARD_VIEW?"modal":"docked";(a.ctrlKey||a.metaKey)&&(h="modal");var i=new App.ModalCardView({model:d,initialState:h}),j=this.$("#js-card-listing-"+d.id);return j.html("&nbsp;"),i.show(),!1}})}})}})}}),"undefined"==typeof App&&(App={}),App.UserActivityMenuView=Backbone.View.extend({initialize:function(){_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.render()},template:JST["templates/user_activity_menu"],tagName:"ul",className:"list-unstyled",render:function(){return this.$el.html(this.template({user:this.model})),this.showTooltip(),this}}),"undefined"==typeof App&&(App={}),App.UserBoardslistingMenuView=Backbone.View.extend({initialize:function(){_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.render()},template:JST["templates/user_boards_listing_menu"],tagName:"div",render:function(){return this.$el.html(this.template({boards:this.model})),this.showTooltip(),this}}),"undefined"==typeof App&&(App={}),App.UserSearchResultView=Backbone.View.extend({initialize:function(a){_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.q=a.q,this.render()},template:JST["templates/user_search_result"],tagName:"li",className:"col-xs-12",render:function(){return this.$el.html(this.template({user:this.model,q:this.q})),this.showTooltip(),this}}),"undefined"==typeof App&&(App={}),App.OrganizationVisibilityFormView=Backbone.View.extend({initialize:function(){_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.render()},template:JST["templates/organization_visibility_form"],tagName:"ul",className:"list-unstyled",render:function(){return this.el=this.template({organization:this.model}),this.showTooltip(),this}}),"undefined"==typeof App&&(App={}),App.OrganizationMemberPermissionFormView=Backbone.View.extend({initialize:function(){_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.render()},template:JST["templates/organization_member_permission_form"],tagName:"div",render:function(){return this.el=this.template({organization_user:this.model}),this.showTooltip(),this}}),"undefined"==typeof App&&(App={}),App.OrganizationMemberRemoveFormView=Backbone.View.extend({initialize:function(){_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.render()},template:JST["templates/organization_member_remove_form"],tagName:"li",render:function(){return this.el=this.template({organization_users:this.model}),this.delegateEvents(this.events),this.showTooltip(),this}}),"undefined"==typeof App&&(App={}),App.OrganizationMemberConfirmRemoveFormView=Backbone.View.extend({initialize:function(){_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.render()},template:JST["templates/organization_member_confirm_remove_form"],tagName:"div",render:function(){return this.$el.html(this.template({organization_users:this.model})),this.showTooltip(),this}}),"undefined"==typeof App&&(App={}),App.AttachmentDeleteConfirmFormView=Backbone.View.extend({initialize:function(){_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.render()},template:JST["templates/attachment_delete_confirm_form"],tagName:"div",render:function(){return this.$el.html(this.template({attachment:this.model})),this.showTooltip(),this}}),"undefined"==typeof App&&(App={}),App.BoardOrganizationFormView=Backbone.View.extend({initialize:function(a){this.board=a.board,_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.render()},template:JST["templates/board_organization_form"],tagName:"li",className:"col-xs-12",render:function(){return this.$el.html(this.template({organizations:this.model,board:this.board})),this.showTooltip(),this}}),"undefined"==typeof App&&(App={}),App.BoardCustomBackgroundView=Backbone.View.extend({initialize:function(){_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.render()},template:JST["templates/board_custom_background"],tagName:"div",className:"js-change-custom-background board-background-select",render:function(){return this.$el.html(this.template({board_background:this.model})),this.showTooltip(),this}}),"undefined"==typeof App&&(App={}),App.BoardSidebarView=Backbone.View.extend({initialize:function(a){_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.render()},template:JST["templates/board_sidebar"],tagName:"ul",className:"dropdown-menu arrow arrow-right col-xs-12 js-setting-response",render:function(){return this.$el.html(this.template({board:this.model,subscriber:this.model.board_subscriber})),this.showTooltip(),this}}),"undefined"==typeof App&&(App={}),App.ArchivedItemsView=Backbone.View.extend({initialize:function(){_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.render()},template:JST["templates/archived_items"],tagName:"li",render:function(){return this.$el.html(this.template({board:this.model})),this.showTooltip(),this}}),"undefined"==typeof App&&(App={}),App.BoardBackgroundView=Backbone.View.extend({initialize:function(){_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.render()},template:JST["templates/board_background"],tagName:"div",render:function(){return this.$el.html(this.template({board:this.model})),this.showTooltip(),this}}),"undefined"==typeof App&&(App={}),App.BoardFilterView=Backbone.View.extend({initialize:function(a){_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.labels=a.labels,this.render()},template:JST["templates/board_filter"],tagName:"li",converter:new showdown.Converter,render:function(){return this.$el.html(this.template({board:this.model,board_labels:this.labels,converter:this.converter})),this.showTooltip(),this}}),"undefined"==typeof App&&(App={}),App.BoardUserActivityView=Backbone.View.extend({initialize:function(){_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.render()},template:JST["templates/board_user_activity"],tagName:"div",render:function(){return this.$el.html(this.template({board:this.model})),this.showTooltip(),this}}),"undefined"==typeof App&&(App={}),App.BoardUserRemoveConfirmView=Backbone.View.extend({initialize:function(){_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.render()},template:JST["templates/board_user_remove_confirm"],tagName:"div",render:function(){return this.$el.html(this.template({board_user:this.model})),this.showTooltip(),this}}),"undefined"==typeof App&&(App={}),App.CardCopyView=Backbone.View.extend({initialize:function(){_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.render()},template:JST["templates/card_copy"],tagName:"ul",className:"dropdown-menu dropdown-menu-right arrow arrow-right js-card-action-list-response js-dropdown-popup",render:function(){return this.$el.html(this.template({card:this.model})),this.showTooltip(),this}}),"undefined"==typeof App&&(App={}),App.ListArchiveConfirmView=Backbone.View.extend({initialize:function(){_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.render()},template:JST["templates/list_archive_confirm"],tagName:"div",render:function(){return this.$el.html(this.template({list:this.model})),this.showTooltip(),this}}),"undefined"==typeof App&&(App={}),App.ListCardsArchiveConfirmView=Backbone.View.extend({initialize:function(){_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.render()},template:JST["templates/list_cards_archive_confirm"],tagName:"div",render:function(){return this.$el.html(this.template({list:this.model})),this.showTooltip(),this}}),"undefined"==typeof App&&(App={}),App.MoveCardsFromListView=Backbone.View.extend({initialize:function(a){_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.filtered_lists=a.filtered_lists,this.render()},template:JST["templates/move_cards_from_list"],tagName:"ul",className:"list-unstyled",render:function(){return this.el=this.template({list:this.model,filtered_lists:this.filtered_lists}),this.delegateEvents(this.events),this.showTooltip(),this}}),"undefined"==typeof App&&(App={}),App.MoveListFromView=Backbone.View.extend({initialize:function(a){_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.boards=a.boards,this.total_board_list_length=a.total_board_list_length,this.render()},template:JST["templates/move_list"],tagName:"li",render:function(){return this.$el.html(this.template({list:this.model,boards:this.boards,total_board_list_length:this.total_board_list_length})),this.showTooltip(),this}}),"undefined"==typeof App&&(App={}),App.CopyListView=Backbone.View.extend({initialize:function(){_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.render()},template:JST["templates/copy_list"],tagName:"li",render:function(){return this.$el.html(this.template({list:this.model})),this.showTooltip(),this}}),"undefined"==typeof App&&(App={}),App.ListDeleteConfirmView=Backbone.View.extend({initialize:function(){_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.render()},template:JST["templates/list_delete_confirm"],tagName:"div",render:function(){return this.$el.html(this.template({list:this.model})),this.showTooltip(),this}}),"undefined"==typeof App&&(App={}),App.ListActionsView=Backbone.View.extend({initialize:function(a){_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.subscribers=a.subscribers,this.authuser=a.authuser,this.render()},template:JST["templates/list_actions"],tagName:"ul",className:"dropdown-menu dropdown-menu-right arrow arrow-right js-list-actions-response",render:function(){return this.$el.html(this.template({list:this.model,subscribers:this.subscribers,authuser:this.authuser})),this.showTooltip(),this}}),"undefined"==typeof App&&(App={}),App.CardLabelsFormView=Backbone.View.extend({initialize:function(){_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.render()},template:JST["templates/card_labels_form"],tagName:"div",render:function(){return this.$el.html(this.template({card:this.model})),this.showTooltip(),this}}),"undefined"==typeof App&&(App={}),App.CardPositionsFormView=Backbone.View.extend({initialize:function(a){_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.boards=a.boards,this.render()},template:JST["templates/card_positions_form"],tagName:"li",render:function(){return this.$el.html(this.template({card:this.model,boards:this.boards})),this.showTooltip(),this}}),"undefined"==typeof App&&(App={}),App.CardMemberFormView=Backbone.View.extend({initialize:function(){_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.render()},template:JST["templates/card_member_form"],tagName:"div",render:function(){return this.el=this.template({card:this.model}),this.showTooltip(),this}}),"undefined"==typeof App&&(App={}),App.CardActionsView=Backbone.View.extend({initialize:function(){_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.render()},template:JST["templates/card_actions"],tagName:"ul",className:"dropdown-menu dropdown-menu-right arrow arrow-right js-card-action-list-response",render:function(){return this.$el.html(this.template({card:this.model})),this.showTooltip(),this}}),"undefined"==typeof App&&(App={}),App.ActivityUserAddSearchResultView=Backbone.View.extend({initialize:function(){_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.render()},template:JST["templates/activity_user_add_search_result"],tagName:"ul",className:"list-unstyled navbar-btn",render:function(){return this.el=this.template({user:this.model}),this.showTooltip(),this}}),"undefined"==typeof App&&(App={}),App.CardVotersListView=Backbone.View.extend({initialize:function(){_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.render()},template:JST["templates/card_voters_list"],tagName:"div",render:function(){return this.el=this.template({card:this.model}),this.showTooltip(),this}}),"undefined"==typeof App&&(App={}),App.ActivityDeleteConfirmView=Backbone.View.extend({initialize:function(){_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.render()},template:JST["templates/activity_delete_confirm"],tagName:"div",render:function(){return this.$el.html(this.template({activity_id:this.model})),this.showTooltip(),this}}),"undefined"==typeof App&&(App={}),App.EditActivityFormView=Backbone.View.extend({initialize:function(){_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.render()},template:JST["templates/edit_activity_form"],tagName:"form",className:"js-edit-comment",render:function(){return this.$el.html(this.template({activity:this.model})),this.showTooltip(),this}}),"undefined"==typeof App&&(App={}),App.ActivityReplyFormView=Backbone.View.extend({initialize:function(){_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.render()},template:JST["templates/activity_reply_form"],tagName:"form",className:"js-add-comment panel-body js-reply-form",id:"AddActivityForm",render:function(){return this.$el.html(this.template({activity:this.model})),this.showTooltip(),this}}),"undefined"==typeof App&&(App={}),App.ActivityAddFormView=Backbone.View.extend({initialize:function(){_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.render()},template:JST["templates/activity_add_form"],tagName:"form",className:"js-add-comment",id:"AddActivityForm",render:function(){return this.$el.html(this.template({card:this.model})),this.showTooltip(),this}}),"undefined"==typeof App&&(App={}),App.CardDuedateFromView=Backbone.View.extend({initialize:function(){_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.render()},template:JST["templates/card_duedate_from"],tagName:"form",className:"form-horizontal clearfix js-card-edit-form",id:"cardDueDateEditForm",render:function(){return this.$el.html(this.template({card:this.model})),this.showTooltip(),this}}),"undefined"==typeof App&&(App={}),App.CardLabelFormView=Backbone.View.extend({template:JST["templates/card_label_form"],tagName:"li",initialize:function(a){_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.card=a.card,this.render()},render:function(){return this.$el.html(this.template({labels:this.model,card:this.card})),this.showTooltip(),this}}),"undefined"==typeof App&&(App={}),App.EmojiListView=Backbone.View.extend({template:JST["templates/emoji_list"],tagName:"ul",className:"dropdown-menu dropdown-menu-left arrow col-xs-12",events:{"keyup .js-search-emoji":"showSearchEmoji"},initialize:function(){this.render()},render:function(){return this.$el.html(this.template({emojiLists:this.model,search_value:""})),this.showTooltip(),this},showSearchEmoji:function(a){var b="100,1234,8ball,a,ab,abc,abcd,accept,aerial_tramway,airplane,alarm_clock,alien,ambulance,anchor,angel,anger,angry,anguished,ant,apple,aquarius,aries,arrow_backward,arrow_double_down,arrow_double_up,arrow_down,arrow_down_small,arrow_forward,arrow_heading_down,arrow_heading_up,arrow_left,arrow_lower_left,arrow_lower_right,arrow_right,arrow_right_hook,arrow_up,arrow_up_down,arrow_up_small,arrow_upper_left,arrow_upper_right,arrows_clockwise,arrows_counterclockwise,art,articulated_lorry,astonished,atm,b,baby,baby_bottle,baby_chick,baby_symbol,baggage_claim,balloon,ballot_box_with_check,bamboo,banana,bangbang,bank,bar_chart,barber,baseball,basketball,bath,bathtub,battery,bear,beer,beers,beetle,beginner,bell,bento,bicyclist,bike,bikini,bird,birthday,black_circle,black_joker,black_nib,black_square,black_square_button,blossom,blowfish,blue_book,blue_car,blue_heart,blush,boar,boat,bomb,book,bookmark,bookmark_tabs,books,boom,boot,bouquet,bow,bowling,bowtie,boy,bread,bride_with_veil,bridge_at_night,briefcase,broken_heart,bug,bulb,bullettrain_front,bullettrain_side,bus,busstop,bust_in_silhouette,busts_in_silhouette,cactus,cake,calendar,calling,camel,camera,cancer,candy,capital_abcd,capricorn,car,card_index,carousel_horse,cat,cat2,cd,chart,chart_with_downwards_trend,chart_with_upwards_trend,checkered_flag,cherries,cherry_blossom,chestnut,chicken,children_crossing,chocolate_bar,christmas_tree,church,cinema,circus_tent,city_sunrise,city_sunset,cl,clap,clapper,clipboard,clock1,clock10,clock1030,clock11,clock1130,clock12,clock1230,clock130,clock2,clock230,clock3,clock330,clock4,clock430,clock5,clock530,clock6,clock630,clock7,clock730,clock8,clock830,clock9,clock930,closed_book,closed_lock_with_key,closed_umbrella,cloud,clubs,cn,cocktail,coffee,cold_sweat,collision,computer,confetti_ball,confounded,confused,congratulations,construction,construction_worker,convenience_store,cookie,cool,cop,copyright,corn,couple,couple_with_heart,couplekiss,cow,cow2,credit_card,crocodile,crossed_flags,crown,cry,crying_cat_face,crystal_ball,cupid,curly_loop,currency_exchange,curry,custard,customs,cyclone,dancer,dancers,dango,dart,dash,date,de,deciduous_tree,department_store,diamond_shape_with_a_dot_inside,diamonds,disappointed,dizzy,dizzy_face,do_not_litter,dog,dog2,dollar,dolls,dolphin,door,doughnut,dragon,dragon_face,dress,dromedary_camel,droplet,dvd,e-mail,ear,ear_of_rice,earth_africa,earth_americas,earth_asia,egg,eggplant,eight,eight_pointed_black_star,eight_spoked_asterisk,electric_plug,elephant,email,end,envelope,es,euro,european_castle,european_post_office,evergreen_tree,exclamation,expressionless,eyeglasses,eyes,facepunch,factory,fallen_leaf,family,fast_forward,fax,fearful,feelsgood,feet,ferris_wheel,file_folder,finnadie,fire,fire_engine,fireworks,first_quarter_moon,first_quarter_moon_with_face,fish,fish_cake,fishing_pole_and_fish,fist,five,flags,flashlight,floppy_disk,flower_playing_cards,flushed,foggy,football,fork_and_knife,fountain,four,four_leaf_clover,fr,free,fried_shrimp,fries,frog,frowning,fuelpump,full_moon,full_moon_with_face,game_die,gb,gem,gemini,ghost,gift,gift_heart,girl,globe_with_meridians,goat,goberserk,godmode,golf,grapes,green_apple,green_book,green_heart,grey_exclamation,grey_question,grimacing,grin,grinning,guardsman,guitar,gun,haircut,hamburger,hammer,hamster,hand,handbag,hankey,hash,hatched_chick,hatching_chick,headphones,hear_no_evil,heart,heart_decoration,heart_eyes,heart_eyes_cat,heartbeat,heartpulse,hearts,heavy_check_mark,heavy_division_sign,heavy_dollar_sign,heavy_exclamation_mark,heavy_minus_sign,heavy_multiplication_x,heavy_plus_sign,helicopter,herb,hibiscus,high_brightness,high_heel,hocho,honey_pot,honeybee,horse,horse_racing,hospital,hotel,hotsprings,hourglass,hourglass_flowing_sand,house,house_with_garden,hurtrealbad,hushed,ice_cream,icecream,id,ideograph_advantage,imp,inbox_tray,incoming_envelope,information_desk_person,information_source,innocent,interrobang,iphone,it,izakaya_lantern,jack_o_lantern,japan,japanese_castle,japanese_goblin,japanese_ogre,jeans,joy,joy_cat,jp,key,keycap_ten,kimono,kiss,kissing,kissing_cat,kissing_closed_eyes,kissing_heart,kissing_smiling_eyes,koala,koko,kr,large_blue_circle,large_blue_diamond,large_orange_diamond,last_quarter_moon,last_quarter_moon_with_face,laughing,leaves,ledger,left_luggage,left_right_arrow,leftwards_arrow_with_hook,lemon,leo,leopard,libra,light_rail,link,lips,lipstick,lock,lock_with_ink_pen,lollipop,loop,loudspeaker,love_hotel,love_letter,low_brightness,m,mag,mag_right,mahjong,mailbox,mailbox_closed,mailbox_with_mail,mailbox_with_no_mail,man,man_with_gua_pi_mao,man_with_turban,mans_shoe,maple_leaf,mask,massage,meat_on_bone,mega,melon,memo,mens,metal,metro,microphone,microscope,milky_way,minibus,minidisc,mobile_phone_off,money_with_wings,moneybag,monkey,monkey_face,monorail,mortar_board,mount_fuji,mountain_bicyclist,mountain_cableway,mountain_railway,mouse,mouse2,movie_camera,moyai,muscle,mushroom,musical_keyboard,musical_note,musical_score,mute,nail_care,name_badge,neckbeard,necktie,negative_squared_cross_mark,neutral_face,new,new_moon,new_moon_with_face,newspaper,ng,nine,no_bell,no_bicycles,no_entry,no_entry_sign,no_good,no_mobile_phones,no_mouth,no_pedestrians,no_smoking,non-potable_water,nose,notebook,notebook_with_decorative_cover,notes,nut_and_bolt,o,o2,ocean,octocat,octopus,oden,office,ok,ok_hand,ok_woman,older_man,older_woman,on,oncoming_automobile,oncoming_bus,oncoming_police_car,oncoming_taxi,one,open_file_folder,open_hands,open_mouth,ophiuchus,orange_book,outbox_tray,ox,page_facing_up,page_with_curl,pager,palm_tree,panda_face,paperclip,parking,part_alternation_mark,partly_sunny,passport_control,paw_prints,peach,pear,pencil,pencil2,penguin,pensive,performing_arts,persevere,person_frowning,person_with_blond_hair,person_with_pouting_face,phone,pig,pig2,pig_nose,pill,pineapple,pisces,pizza,point_down,point_left,point_right,point_up,point_up_2,police_car,poodle,poop,post_office,postal_horn,postbox,potable_water,pouch,poultry_leg,pound,pouting_cat,pray,princess,punch,purple_heart,purse,pushpin,put_litter_in_its_place,question,rabbit,rabbit2,racehorse,radio,radio_button,rage,rage1,rage2,rage3,rage4,railway_car,rainbow,raised_hand,raised_hands,ram,ramen,rat,recycle,red_car,red_circle,registered,relaxed,relieved,repeat,repeat_one,restroom,revolving_hearts,rewind,ribbon,rice,rice_ball,rice_cracker,rice_scene,ring,rocket,roller_coaster,rooster,rose,rotating_light,round_pushpin,rowboat,ru,rugby_football,runner,running,running_shirt_with_sash,sa,sagittarius,sailboat,sake,sandal,santa,satellite,satisfied,saxophone,school,school_satchel,scissors,scorpius,scream,scream_cat,scroll,seat,secret,see_no_evil,seedling,seven,shaved_ice,sheep,shell,ship,shipit,shirt,shit,shoe,shower,signal_strength,six,six_pointed_star,ski,skull,sleeping,sleepy,slot_machine,small_blue_diamond,small_orange_diamond,small_red_triangle,small_red_triangle_down,smile,smile_cat,smiley,smiley_cat,smiling_imp,smirk,smirk_cat,smoking,snail,snake,snowboarder,snowflake,snowman,sob,soccer,soon,sos,sound,space_invader,spades,spaghetti,sparkler,sparkles,sparkling_heart,speak_no_evil,speaker,speech_balloon,speedboat,squirrel,star,star2,stars,station,statue_of_liberty,steam_locomotive,stew,straight_ruler,strawberry,stuck_out_tongue,stuck_out_tongue_closed_eyes,stuck_out_tongue_winking_eye,sun_with_face,sunflower,sunglasses,sunny,sunrise,sunrise_over_mountains,surfer,sushi,suspect,suspension_railway,sweat,sweat_drops,sweat_smile,sweet_potato,swimmer,symbols,syringe,tada,tanabata_tree,tangerine,taurus,taxi,tea,telephone,telephone_receiver,telescope,tennis,tent,thought_balloon,three,thumbsdown,thumbsup,ticket,tiger,tiger2,tired_face,tm,toilet,tokyo_tower,tomato,tongue,top,tophat,tractor,traffic_light,train,train2,tram,triangular_flag_on_post,triangular_ruler,trident,triumph,trolleybus,trollface,trophy,tropical_drink,tropical_fish,truck,trumpet,tshirt,tulip,turtle,tv,twisted_rightwards_arrows,two,two_hearts,two_men_holding_hands,two_women_holding_hands,u5272,u5408,u55b6,u6307,u6708,u6709,u6e80,u7121,u7533,u7981,u7a7a,uk,umbrella,unamused,underage,unlock,up,us,v,vertical_traffic_light,vhs,vibration_mode,video_camera,video_game,violin,virgo,volcano,vs,walking,waning_crescent_moon,waning_gibbous_moon,warning,watch,water_buffalo,watermelon,wave,wavy_dash,waxing_crescent_moon,waxing_gibbous_moon,wc,weary,wedding,whale,whale2,wheelchair,white_check_mark,white_circle,white_flower,white_square_button,wind_chime,wine_glass,wink,wolf,woman,womans_clothes,womans_hat,womens,worried,wrench,x,yellow_heart,yen,yum,zap,zero,zzz",c=b.split(","),d=[];_.each(c,function(a){var b=new RegExp($(".js-search-emoji").val());b.test(a)&&d.push(a)}),""===$(".js-search-emoji").val()&&(d=[],d=["smile","thumbsup","warning","sunglasses"]),this.$el.html(this.template({emojiLists:d,search_value:$(".js-search-emoji").val()}));var e=$(".js-search-emoji").val();return $(".js-search-emoji").val(""),$(".js-search-emoji").focus().val(e),emojify.run(),!1}}),"undefined"==typeof App&&(App={}),App.ChecklistItemEmojiListView=Backbone.View.extend({template:JST["templates/checklist_item_emoji_list"],tagName:"div",events:{"keyup .js-search-emoji":"showSearchEmoji"},initialize:function(){this.render()},render:function(){return this.$el.html(this.template({emojiLists:this.model,search_value:""})),this.showTooltip(),this},showSearchEmoji:function(a){var b="100,1234,8ball,a,ab,abc,abcd,accept,aerial_tramway,airplane,alarm_clock,alien,ambulance,anchor,angel,anger,angry,anguished,ant,apple,aquarius,aries,arrow_backward,arrow_double_down,arrow_double_up,arrow_down,arrow_down_small,arrow_forward,arrow_heading_down,arrow_heading_up,arrow_left,arrow_lower_left,arrow_lower_right,arrow_right,arrow_right_hook,arrow_up,arrow_up_down,arrow_up_small,arrow_upper_left,arrow_upper_right,arrows_clockwise,arrows_counterclockwise,art,articulated_lorry,astonished,atm,b,baby,baby_bottle,baby_chick,baby_symbol,baggage_claim,balloon,ballot_box_with_check,bamboo,banana,bangbang,bank,bar_chart,barber,baseball,basketball,bath,bathtub,battery,bear,beer,beers,beetle,beginner,bell,bento,bicyclist,bike,bikini,bird,birthday,black_circle,black_joker,black_nib,black_square,black_square_button,blossom,blowfish,blue_book,blue_car,blue_heart,blush,boar,boat,bomb,book,bookmark,bookmark_tabs,books,boom,boot,bouquet,bow,bowling,bowtie,boy,bread,bride_with_veil,bridge_at_night,briefcase,broken_heart,bug,bulb,bullettrain_front,bullettrain_side,bus,busstop,bust_in_silhouette,busts_in_silhouette,cactus,cake,calendar,calling,camel,camera,cancer,candy,capital_abcd,capricorn,car,card_index,carousel_horse,cat,cat2,cd,chart,chart_with_downwards_trend,chart_with_upwards_trend,checkered_flag,cherries,cherry_blossom,chestnut,chicken,children_crossing,chocolate_bar,christmas_tree,church,cinema,circus_tent,city_sunrise,city_sunset,cl,clap,clapper,clipboard,clock1,clock10,clock1030,clock11,clock1130,clock12,clock1230,clock130,clock2,clock230,clock3,clock330,clock4,clock430,clock5,clock530,clock6,clock630,clock7,clock730,clock8,clock830,clock9,clock930,closed_book,closed_lock_with_key,closed_umbrella,cloud,clubs,cn,cocktail,coffee,cold_sweat,collision,computer,confetti_ball,confounded,confused,congratulations,construction,construction_worker,convenience_store,cookie,cool,cop,copyright,corn,couple,couple_with_heart,couplekiss,cow,cow2,credit_card,crocodile,crossed_flags,crown,cry,crying_cat_face,crystal_ball,cupid,curly_loop,currency_exchange,curry,custard,customs,cyclone,dancer,dancers,dango,dart,dash,date,de,deciduous_tree,department_store,diamond_shape_with_a_dot_inside,diamonds,disappointed,dizzy,dizzy_face,do_not_litter,dog,dog2,dollar,dolls,dolphin,door,doughnut,dragon,dragon_face,dress,dromedary_camel,droplet,dvd,e-mail,ear,ear_of_rice,earth_africa,earth_americas,earth_asia,egg,eggplant,eight,eight_pointed_black_star,eight_spoked_asterisk,electric_plug,elephant,email,end,envelope,es,euro,european_castle,european_post_office,evergreen_tree,exclamation,expressionless,eyeglasses,eyes,facepunch,factory,fallen_leaf,family,fast_forward,fax,fearful,feelsgood,feet,ferris_wheel,file_folder,finnadie,fire,fire_engine,fireworks,first_quarter_moon,first_quarter_moon_with_face,fish,fish_cake,fishing_pole_and_fish,fist,five,flags,flashlight,floppy_disk,flower_playing_cards,flushed,foggy,football,fork_and_knife,fountain,four,four_leaf_clover,fr,free,fried_shrimp,fries,frog,frowning,fuelpump,full_moon,full_moon_with_face,game_die,gb,gem,gemini,ghost,gift,gift_heart,girl,globe_with_meridians,goat,goberserk,godmode,golf,grapes,green_apple,green_book,green_heart,grey_exclamation,grey_question,grimacing,grin,grinning,guardsman,guitar,gun,haircut,hamburger,hammer,hamster,hand,handbag,hankey,hash,hatched_chick,hatching_chick,headphones,hear_no_evil,heart,heart_decoration,heart_eyes,heart_eyes_cat,heartbeat,heartpulse,hearts,heavy_check_mark,heavy_division_sign,heavy_dollar_sign,heavy_exclamation_mark,heavy_minus_sign,heavy_multiplication_x,heavy_plus_sign,helicopter,herb,hibiscus,high_brightness,high_heel,hocho,honey_pot,honeybee,horse,horse_racing,hospital,hotel,hotsprings,hourglass,hourglass_flowing_sand,house,house_with_garden,hurtrealbad,hushed,ice_cream,icecream,id,ideograph_advantage,imp,inbox_tray,incoming_envelope,information_desk_person,information_source,innocent,interrobang,iphone,it,izakaya_lantern,jack_o_lantern,japan,japanese_castle,japanese_goblin,japanese_ogre,jeans,joy,joy_cat,jp,key,keycap_ten,kimono,kiss,kissing,kissing_cat,kissing_closed_eyes,kissing_heart,kissing_smiling_eyes,koala,koko,kr,large_blue_circle,large_blue_diamond,large_orange_diamond,last_quarter_moon,last_quarter_moon_with_face,laughing,leaves,ledger,left_luggage,left_right_arrow,leftwards_arrow_with_hook,lemon,leo,leopard,libra,light_rail,link,lips,lipstick,lock,lock_with_ink_pen,lollipop,loop,loudspeaker,love_hotel,love_letter,low_brightness,m,mag,mag_right,mahjong,mailbox,mailbox_closed,mailbox_with_mail,mailbox_with_no_mail,man,man_with_gua_pi_mao,man_with_turban,mans_shoe,maple_leaf,mask,massage,meat_on_bone,mega,melon,memo,mens,metal,metro,microphone,microscope,milky_way,minibus,minidisc,mobile_phone_off,money_with_wings,moneybag,monkey,monkey_face,monorail,mortar_board,mount_fuji,mountain_bicyclist,mountain_cableway,mountain_railway,mouse,mouse2,movie_camera,moyai,muscle,mushroom,musical_keyboard,musical_note,musical_score,mute,nail_care,name_badge,neckbeard,necktie,negative_squared_cross_mark,neutral_face,new,new_moon,new_moon_with_face,newspaper,ng,nine,no_bell,no_bicycles,no_entry,no_entry_sign,no_good,no_mobile_phones,no_mouth,no_pedestrians,no_smoking,non-potable_water,nose,notebook,notebook_with_decorative_cover,notes,nut_and_bolt,o,o2,ocean,octocat,octopus,oden,office,ok,ok_hand,ok_woman,older_man,older_woman,on,oncoming_automobile,oncoming_bus,oncoming_police_car,oncoming_taxi,one,open_file_folder,open_hands,open_mouth,ophiuchus,orange_book,outbox_tray,ox,page_facing_up,page_with_curl,pager,palm_tree,panda_face,paperclip,parking,part_alternation_mark,partly_sunny,passport_control,paw_prints,peach,pear,pencil,pencil2,penguin,pensive,performing_arts,persevere,person_frowning,person_with_blond_hair,person_with_pouting_face,phone,pig,pig2,pig_nose,pill,pineapple,pisces,pizza,point_down,point_left,point_right,point_up,point_up_2,police_car,poodle,poop,post_office,postal_horn,postbox,potable_water,pouch,poultry_leg,pound,pouting_cat,pray,princess,punch,purple_heart,purse,pushpin,put_litter_in_its_place,question,rabbit,rabbit2,racehorse,radio,radio_button,rage,rage1,rage2,rage3,rage4,railway_car,rainbow,raised_hand,raised_hands,ram,ramen,rat,recycle,red_car,red_circle,registered,relaxed,relieved,repeat,repeat_one,restroom,revolving_hearts,rewind,ribbon,rice,rice_ball,rice_cracker,rice_scene,ring,rocket,roller_coaster,rooster,rose,rotating_light,round_pushpin,rowboat,ru,rugby_football,runner,running,running_shirt_with_sash,sa,sagittarius,sailboat,sake,sandal,santa,satellite,satisfied,saxophone,school,school_satchel,scissors,scorpius,scream,scream_cat,scroll,seat,secret,see_no_evil,seedling,seven,shaved_ice,sheep,shell,ship,shipit,shirt,shit,shoe,shower,signal_strength,six,six_pointed_star,ski,skull,sleeping,sleepy,slot_machine,small_blue_diamond,small_orange_diamond,small_red_triangle,small_red_triangle_down,smile,smile_cat,smiley,smiley_cat,smiling_imp,smirk,smirk_cat,smoking,snail,snake,snowboarder,snowflake,snowman,sob,soccer,soon,sos,sound,space_invader,spades,spaghetti,sparkler,sparkles,sparkling_heart,speak_no_evil,speaker,speech_balloon,speedboat,squirrel,star,star2,stars,station,statue_of_liberty,steam_locomotive,stew,straight_ruler,strawberry,stuck_out_tongue,stuck_out_tongue_closed_eyes,stuck_out_tongue_winking_eye,sun_with_face,sunflower,sunglasses,sunny,sunrise,sunrise_over_mountains,surfer,sushi,suspect,suspension_railway,sweat,sweat_drops,sweat_smile,sweet_potato,swimmer,symbols,syringe,tada,tanabata_tree,tangerine,taurus,taxi,tea,telephone,telephone_receiver,telescope,tennis,tent,thought_balloon,three,thumbsdown,thumbsup,ticket,tiger,tiger2,tired_face,tm,toilet,tokyo_tower,tomato,tongue,top,tophat,tractor,traffic_light,train,train2,tram,triangular_flag_on_post,triangular_ruler,trident,triumph,trolleybus,trollface,trophy,tropical_drink,tropical_fish,truck,trumpet,tshirt,tulip,turtle,tv,twisted_rightwards_arrows,two,two_hearts,two_men_holding_hands,two_women_holding_hands,u5272,u5408,u55b6,u6307,u6708,u6709,u6e80,u7121,u7533,u7981,u7a7a,uk,umbrella,unamused,underage,unlock,up,us,v,vertical_traffic_light,vhs,vibration_mode,video_camera,video_game,violin,virgo,volcano,vs,walking,waning_crescent_moon,waning_gibbous_moon,warning,watch,water_buffalo,watermelon,wave,wavy_dash,waxing_crescent_moon,waxing_gibbous_moon,wc,weary,wedding,whale,whale2,wheelchair,white_check_mark,white_circle,white_flower,white_square_button,wind_chime,wine_glass,wink,wolf,woman,womans_clothes,womans_hat,womens,worried,wrench,x,yellow_heart,yen,yum,zap,zero,zzz",c=b.split(","),d=[];
_.each(c,function(a){var b=new RegExp($(".js-search-emoji").val());b.test(a)&&d.push(a)}),""===$(".js-search-emoji").val()&&(d=[],d=["smile","thumbsup","warning","sunglasses"]),this.$el.html(this.template({emojiLists:d,search_value:$(".js-search-emoji").val()}));var e=$(".js-search-emoji").val();return $(".js-search-emoji").val(""),$(".js-search-emoji").focus().val(e),emojify.run(),!1}}),"undefined"==typeof App&&(App={}),App.AdminUserIndexView=Backbone.View.extend({initialize:function(a){this.render()},render:function(){this.updateCollection()},updateCollection:function(){var a=this;a.current_page=_.isUndefined(a.current_page)?1:a.current_page,a.users=new App.UserCollection,$(".js-user-list").html('<tr class="js-loader"><td colspan="15"><span class="cssloader"></span></td></tr>'),a.users.url=api_url+"users.json?page="+a.current_page,app.navigate("#/users?page="+a.current_page,{trigger:!1,trigger_function:!1}),a.users.fetch({cache:!1,abortPending:!0,success:function(b,c){a.headerView=new App.HeaderView({model:authuser,users:b}),$("#header").html(a.headerView.el),$("#js-navbar-default").remove();$("#content").html(new App.UserIndexContainerView({filter_count:c.filter_count,roles:c.roles}).el);b.each(function(a){$(".js-user-list").append(new App.UserIndex({model:a}).el)}),$(".js-user-list").find(".timeago").timeago(),$(".pagination-boxes").unbind(),$(".pagination-boxes").pagination({total_pages:c._metadata.noOfPages,current_page:a.current_page,display_max:4,callback:function(b,c){b.preventDefault(),c&&(a.current_page=c,a.updateCollection())}})}})}}),"undefined"==typeof App&&(App={}),App.AdminBoardsListView=Backbone.View.extend({initialize:function(a){this.render()},render:function(){this.updateCollection()},updateCollection:function(){var a=this;a.current_page=_.isUndefined(a.current_page)?1:a.current_page,a.boards=new App.BoardCollection,$(".js-my-boards").html('<tr class="js-loader"><td colspan="12"><span class="cssloader"></span></td></tr>'),a.boards.url=api_url+"boards.json?page="+a.current_page,app.navigate("#/boards/list?page="+a.current_page,{trigger:!1,trigger_function:!1}),a.boards.fetch({cache:!1,abortPending:!0,success:function(b,c){a.headerView=new App.HeaderView({model:authuser,boards:b}),$("#header").html(a.headerView.el),$("#js-navbar-default").remove();$("#content").html(new App.AdminBoardsIndexView({filter_count:c.filter_count}).el);b.each(function(a){$(".js-my-boards").append(new App.AdminBoardView({model:a,board_user_roles:c.board_user_roles}).el)}),$(".js-my-boards").find(".timeago").timeago(),$(".pagination-boxes").unbind(),$(".pagination-boxes").pagination({total_pages:c._metadata.noOfPages,current_page:a.current_page,display_max:4,callback:function(b,c){b.preventDefault(),c&&(a.current_page=c,a.updateCollection())}})}})}}),"undefined"==typeof App&&(App={}),App.OauthApplicationsView=Backbone.View.extend({initialize:function(){this.render()},template:JST["templates/oauth_applications"],events:{"click .js-delete":"deleteApplication"},deleteApplication:function(a){a.preventDefault();var b=confirm("Are you sure you want to revoke this application");if(b===!0){var c=$(a.currentTarget),d=this,e=new App.OauthApplication;e.url=api_url+"oauth/applications/"+c.data("client_id")+".json",e.set("client_id",c.data("client_id")),e.destroy({success:function(a,b){d.flash("success",i18next.t("Application deleted successfully.")),app.navigate("#/user/"+authuser.user.id+"/oauth_applications",{trigger:!0,replace:!0})}})}return!1},render:function(){return this.$el.html(this.template({oauth_applications:this.model.data})),this}}),"undefined"==typeof App&&(App={}),App.OauthClientView=Backbone.View.extend({initialize:function(){this.render()},template:JST["templates/oauth_client"],events:{"click .js-delete":"deleteClient"},deleteClient:function(a){a.preventDefault();var b=$(a.currentTarget),c=new App.OauthClient;return c.url=api_url+"oauth/clients/"+b.data("id")+".json",c.set("id",b.data("id")),this.flash("success",i18next.t("OAuth application deleted successfully.")),c.destroy({success:function(a,b){app.navigate("#/oauth_clients",{trigger:!0,replace:!0})}}),!1},render:function(){return this.$el.html(this.template({oauth_clients:this.model})),$(".js-admin-client-menu").addClass("active"),$(".js-admin-activity-menu, .js-admin-user-menu, .js-admin-role-menu, .js-admin-setting-menu, .js-admin-board-menu, .js-admin-email-menu, .js-admin-app-menu").removeClass("active"),this}}),"undefined"==typeof App&&(App={}),App.OauthClientAddView=Backbone.View.extend({initialize:function(){_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.render()},template:JST["templates/oauth_client_add"],tagName:"article",className:"clearfix",id:"client-add",events:{"submit form#oauthClientAddForm":"oauthClientAdd"},oauthClientAdd:function(a){var b=$(a.target),c=b.serializeObject(),d=this,e=new App.OauthClient;return e.url=api_url+"oauth/clients.json",e.save(c,{success:function(a,b){_.isEmpty(b.id)?d.flash("danger",i18next.t("OAuth application not added successfully.")):(d.flash("success",i18next.t("OAuth application has been added successfully.")),app.navigate("#/oauth_clients",{trigger:!0,replace:!0}))}}),!1},render:function(){return this.$el.html(this.template()),$(".js-admin-client-menu").addClass("active"),$(".js-admin-user-menu, .js-admin-activity-menu, .js-admin-setting-menu, .js-admin-email-menu, .js-admin-role-menu, .js-admin-board-menu").removeClass("active"),this.showTooltip(),this}}),"undefined"==typeof App&&(App={}),App.OauthClientEditView=Backbone.View.extend({initialize:function(a){_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.id=a.id,this.getListing()},template:JST["templates/oauth_client_edit"],tagName:"article",className:"clearfix",id:"oauth_client-edit",events:{"submit form#oauthClientEditForm":"oauthClientEdit"},oauthClientEdit:function(a){var b=$(a.currentTarget),c=b.serializeObject(),d=this,e=new App.OauthClient;return e.set("id",this.id),e.url=api_url+"oauth/clients/"+this.id+".json",e.save(c,{success:function(a,b){_.isEmpty(b.success)?d.flash("danger",i18next.t("OAuth application not updated successfully.")):d.flash("success",i18next.t("OAuth application has been updated successfully."))}}),!1},getListing:function(){self=this,oauth_clients=new App.OauthClientCollection,oauth_clients.url=api_url+"oauth/clients.json?id="+this.id,oauth_clients.fetch({cache:!1,abortPending:!0,success:function(a,b){self.render(b)}})},render:function(a){return this.$el.html(this.template({oauth_client:a,id:this.id})),$(".js-admin-client-menu").addClass("active"),$(".js-admin-user-menu, .js-admin-activity-menu, .js-admin-setting-menu, .js-admin-email-menu, .js-admin-role-menu, .js-admin-board-menu").removeClass("active"),this.showTooltip(),this}}),"undefined"==typeof App&&(App={}),App.AppsView=Backbone.View.extend({initialize:function(){this.render()},template:JST["templates/app"],events:{"click .js-update-app":"updateApp"},updateApp:function(a){var b=$(a.currentTarget),c={};b.data("current-status")===!0?c.enable=!1:c.enable=!0,c.folder=b.data("folder");var d=this,e=new App.App;return e.url=api_url+"apps/settings.json",e.save(c,{success:function(a,b){_.isEmpty(b.success)?d.flash("danger",i18next.t("App not updated successfully.")):(d.flash("success",i18next.t("App updated successfully")),app.navigate("#/apps",{trigger:!0,replace:!0}))}}),!1},render:function(){return this.$el.html(this.template({apps:this.model})),$(".js-admin-app-menu").addClass("active"),$(".js-admin-activity-menu, .js-admin-user-menu, .js-admin-role-menu, .js-admin-setting-menu, .js-admin-board-menu, .js-admin-email-menu").removeClass("active"),this}}),"undefined"==typeof App&&(App={}),App.AppSettingsView=Backbone.View.extend({initialize:function(a){this.folder=a.folder,this.render(a.app_settings)},template:JST["templates/app_setting"],events:{"submit form#js-app-setting-form":"updateApp"},updateApp:function(a){var b=$(a.currentTarget),c=b.serializeObject(),d=this,e=new App.App;return e.url=api_url+"apps/settings.json",e.save(c,{success:function(a,b){_.isEmpty(b.success)?d.flash("danger",i18next.t("App not updated successfully.")):d.flash("success",i18next.t("App updated successfully"))}}),!1},render:function(a){return this.$el.html(this.template({app_settings:a,folder:this.folder})),$(".js-admin-app-menu").addClass("active"),$(".js-admin-activity-menu, .js-admin-user-menu, .js-admin-role-menu, .js-admin-setting-menu, .js-admin-board-menu, .js-admin-email-menu").removeClass("active"),this}}),"undefined"==typeof App&&(App={}),App.CardSearchResultView=Backbone.View.extend({initialize:function(){_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.render()},template:JST["templates/card_search_result"],tagName:"li",className:"js-select-card",render:function(){return this.$el.html(this.template({card:this.model})),this.showTooltip(),this}}),"undefined"==typeof App&&(App={}),App.CopyFromExistingCardView=Backbone.View.extend({initialize:function(a){_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.boards=a.boards,this.render()},template:JST["templates/copy_from_existing_card"],tagName:"ul",className:"dropdown-menu dropdown-menu-right arrow arrow-right js-card-action-list-response js-dropdown-popup",render:function(){return this.$el.html(this.template({card:this.model,boards:this.boards})),this.showTooltip(),this}}),"undefined"==typeof App&&(App={}),App.MoveCardView=Backbone.View.extend({initialize:function(a){_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.boards=a.boards,this.render()},template:JST["templates/move_card"],tagName:"div",render:function(){return this.$el.html(this.template({card:this.model,boards:this.boards})),this.showTooltip(),this}}),"undefined"==typeof App&&(App={}),App.CopyCardView=Backbone.View.extend({initialize:function(a){_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.boards=a.boards,this.render()},template:JST["templates/copy_card"],tagName:"div",render:function(){return this.$el.html(this.template({card:this.model,boards:this.boards})),this.showTooltip(),this}}),"undefined"==typeof App&&(App={}),App.ActivityCardSearchView=Backbone.View.extend({initialize:function(){_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.render()},template:JST["templates/activity_card_search"],tagName:"li",render:function(){return this.$el.html(this.template({card:this.model})),this.showTooltip(),this}}),"undefined"==typeof App&&(App={}),App.ChecklistAddFormView=Backbone.View.extend({initialize:function(){_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.render()},template:JST["templates/checklist_add_form"],tagName:"form",className:"js-add-checklist",attributes:{method:"POST"},render:function(){return this.$el.html(this.template({card:this.model})),this.showTooltip(),this}}),"undefined"==typeof App&&(App={}),App.ModalCardMemberFormView=Backbone.View.extend({initialize:function(a){_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.users=a.users,this.card=a.card,this.render()},template:JST["templates/modal_card_member_form"],tagName:"div",render:function(){return this.el=this.template({board_users:this.model,users:this.users,card:this.card}),this.showTooltip(),this}}),"undefined"==typeof App&&(App={}),App.CardSearchUsersResultView=Backbone.View.extend({initialize:function(a){_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.is_added_user=a.is_added_user,this.added_user=a.added_user,this.board=a.board,this.render()},template:JST["templates/card_search_users_result"],render:function(){return this.el=this.template({user:this.model,is_added_user:this.is_added_user,added_user:this.added_user,board:this.board}),this.showTooltip(),this}}),"undefined"==typeof App&&(App={}),App.NotificationMenuView=Backbone.View.extend({initialize:function(){_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.render()},template:JST["templates/notification_menu"],tagName:"li",className:"list-unstyled js-notification-response",render:function(){return this.$el.html(this.template({user:this.model})),this.showTooltip(),this}}),"undefined"==typeof App&&(App={}),App.OrganizationAddView=Backbone.View.extend({initialize:function(){_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.render()},template:JST["templates/organization_add"],tagName:"div",events:{"submit #OrganizationAddForm":"addOrganization"},render:function(){return this.$el.html(this.template({})),this.showTooltip(),this},addOrganization:function(a){var b=$(a.target).serializeObject(),c=new App.Organization;return c.url=api_url+"organizations.json",c.set(b),_.isUndefined(b.name)||null===b.name||""===$.trim(b.name)?this.flash(i18next.t("Enter organization name"),i18next.t("Organization name is empty")):c.save(b,{success:function(a,d){c.set("id",parseInt(d.id)),auth_user_organizations.add(c),b.id=parseInt(d.id);JSON.parse(window.sessionStorage.getItem("auth"));null===auth_user_organizations&&(auth_user_organizations=[]),auth_user_organizations.add(b),app.navigate("#/organization/"+d.id,{trigger:!0,replace:!0})}}),!1}}),"undefined"==typeof App&&(App={}),App.BoardAddView=Backbone.View.extend({initialize:function(){_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.render()},template:JST["templates/board_add"],tagName:"ul",events:{"click .js-change-visibility":"showAllVisibility","click .js-select":"selectBoardVisibility","submit form#BoardAddForm":"submitBoardAdd"},className:"list-unstyled",render:function(){return this.$el.html(this.template({templates:this.model})),this.showTooltip(),this},showAllVisibility:function(a){a.preventDefault(),$(".js-open-dropdown").addClass("open"),$(".js-visibility-container").html("");var b=$("#inputBoardAddVisibility").val();return $(".js-visibility-chooser").html(new App.ShowAllVisibilityView({model:b}).el),!1},selectBoardVisibility:function(a){var b=$(a.currentTarget).attr("name"),c=0;$("#js-board-add-organization").html(""),"org"==b?(c=1,this.showBoardAddeOrganizationForm(a)):"public"==b&&(c=2);var d=new App.SelectedBoardVisibilityView({model:b}).el;return $("#inputBoardAddVisibility").val(c),$(".js-visibility-container").html(d),d="",$(".js-board-add-dropdown").removeClass("open"),!1},submitBoardAdd:function(a){a.preventDefault();var b=$(a.target).serializeObject(),c=new App.Board;return c.url=api_url+"boards.json",c.save(b,{success:function(a,b){App.boards.add(b.simple_board),null!==b.simple_board.lists&&App.boards.get(parseInt(b.simple_board.id)).lists.add(b.simple_board.lists),app.navigate("#/board/"+b.id,{trigger:!0,replace:!0})}}),!1},showBoardAddeOrganizationForm:function(a){a.preventDefault(),organizations=auth_user_organizations,null!==auth_user_organizations&&_.isUndefined(auth_user_organizations.models)&&organizations.add(JSON.parse(auth_user_organizations)),auth_user_organizations=organizations,$("#js-board-add-organization").html(new App.BoardAddOrganizationFormView({model:auth_user_organizations}).el)}}),"undefined"==typeof App&&(App={}),App.OrganizationsBoardFormView=Backbone.View.extend({tagName:"ul",className:"list-unstyled",events:{},initialize:function(){_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.render()},template:JST["templates/organizations_board_form_view"],render:function(){return this.el=this.template({}),this.delegateEvents(this.events),this.showTooltip(),this}}),"undefined"==typeof App&&(App={}),App.ChecklistItemAddFormView=Backbone.View.extend({initialize:function(){_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.render()},template:JST["templates/checklist_item_add_form"],tagName:"form",className:"js-add-item no-mar col-xs-12",attributes:{name:"checklistItemAddForm",method:"POST"},render:function(){return this.$el.html(this.template({checklist:this.model})),this.showTooltip(),this}}),"undefined"==typeof App&&(App={}),App.ChecklistDeleteConfirmFormView=Backbone.View.extend({initialize:function(){_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.render()},template:JST["templates/checklist_delete_confirm_form"],tagName:"li",render:function(){return this.$el.html(this.template({checklist:this.model})),this.showTooltip(),this}}),"undefined"==typeof App&&(App={}),App.ChecklistActionsView=Backbone.View.extend({initialize:function(){_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.render()},template:JST["templates/checklist_actions"],tagName:"a",className:"js-show-confirm-checklist-delete",attributes:{title:i18next.t("Delete This Checklist"),href:"#"},render:function(){return this.$el.html(this.template({checklist:this.model})),this.showTooltip(),this}}),"undefined"==typeof App&&(App={}),App.ChecklistItemActionsView=Backbone.View.extend({initialize:function(){_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.render()},template:JST["templates/checklist_item_actions"],tagName:"li",render:function(){return this.$el.html(this.template({checklist_item:this.model})),this.showTooltip(),this}}),"undefined"==typeof App&&(App={}),App.ChecklistItemDeleteConfirmFormView=Backbone.View.extend({initialize:function(){_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.render()},template:JST["templates/checklist_item_delete_confirm_form"],tagName:"div",render:function(){return this.$el.html(this.template({checklist_item:this.model})),this.showTooltip(),this}}),"undefined"==typeof App&&(App={}),App.ChecklistItemEditFormView=Backbone.View.extend({initialize:function(){_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.render()},template:JST["templates/checklist_item_edit_form"],tagName:"form",className:"js-item-edit-form form-horizontal",attributes:{method:"POST"},render:function(){return this.$el.html(this.template({checklist_item:this.model})),this.showTooltip(),this}}),"undefined"==typeof App&&(App={}),App.ChecklistItemAddLinkView=Backbone.View.extend({initialize:function(){_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.render()},template:JST["templates/checklist_item_add_link"],tagName:"div",className:"col-xs-12 h4 btn-link",render:function(){return this.$el.html(this.template()),this.showTooltip(),this}}),"undefined"==typeof App&&(App={}),App.ChecklistEditFormView=Backbone.View.extend({initialize:function(){_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.render()},template:JST["templates/checklist_edit_form"],tagName:"form",className:"col-xs-12 checklist-edit-form form-horizontal",attributes:{method:"POST"},render:function(){return this.$el.html(this.template({checklist:this.model})),this.showTooltip(),this}}),"undefined"==typeof App&&(App={}),App.AttachmentDeleteConfirmView=Backbone.View.extend({initialize:function(){_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.render()},template:JST["templates/attachment_delete_confirm"],tagName:"div",render:function(){return this.$el.html(this.template({attachment:this.model})),this.showTooltip(),this}}),"undefined"==typeof App&&(App={}),App.SettingView=Backbone.View.extend({initialize:function(a){_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.id=a.id,this.getListing()},template:JST["templates/setting_list"],events:{"submit form#js-setting-list-form":"updateSetting","click .js-import-users":"importUsers"},importUsers:function(a){var b=api_url+"users/import.json?token="+api_token;$(".js-import-users").attr("disabled",!0),$("#js-loader-img").removeClass("hide");var c=$("#enableImportUsers").is(":checked")?!0:!1,d=$("#dontSendWelcomeMail").is(":checked")?!1:!0;$.ajax({type:"POST",data:{is_import_organizations:c,is_send_welcome_mail:d},url:b,success:function(a){a.success?c?self.flash("success",i18next.t("Users and organizations imported successfully.")):self.flash("success",i18next.t("Users imported successfully.")):"user_not_found"===a.error?self.flash("danger",i18next.t("User records not available.")):self.flash("danger",i18next.t("LDAP connection failed.")),$("#js-loader-img").addClass("hide"),$(".js-import-users").attr("disabled",!1)},dataType:"json"})},updateSetting:function(a){var b=$(a.currentTarget),c=b.serializeObject();_.isUndefined(c.DEFAULT_CARD_VIEW)||(DEFAULT_CARD_VIEW=c.DEFAULT_CARD_VIEW),!_.isUndefined(c.LDAP_LOGIN_ENABLED)&&$(".js-checkbox").is(":checked")?c.LDAP_LOGIN_ENABLED="true":2===parseInt(this.id)&&(c.LDAP_LOGIN_ENABLED="false"),!_.isUndefined(c.STANDARD_LOGIN_ENABLED)&&$(".js-checkbox").is(":checked")?c.STANDARD_LOGIN_ENABLED="true":2===parseInt(this.id)&&(c.STANDARD_LOGIN_ENABLED="false"),c.ENABLE_SSL_CONNECTIVITY="false",_.isUndefined($("input[name='ENABLE_SSL_CONNECTIVITY']:checked").val())||(c.ENABLE_SSL_CONNECTIVITY="true");var d=this,e=new App.SettingCategory;return e.url=api_url+"settings.json",e.save(c,{success:function(a,b){_.isEmpty(b.success)?d.flash("danger",i18next.t("Settings not updated properly.")):d.flash("success",i18next.t("Settings updated successfully."))}}),!1},getListing:function(){self=this,_.isUndefined(this.id)&&(this.id=3),settingsCol=new App.SettingCategoryCollection,settingsCol.url=api_url+"settings/"+this.id+".json",settingsCol.fetch({cache:!1,abortPending:!0,success:function(a,b){self.render(a)}})},render:function(a){return this.$el.html(this.template({list:a,id:this.id})),$(".js-admin-setting-menu").addClass("active"),$(".js-admin-activity-menu, .js-admin-user-menu, .js-admin-email-menu, .js-admin-role-menu, .js-admin-board-menu").removeClass("active"),this}}),"undefined"==typeof App&&(App={}),App.InstantCardAddLabelsFormView=Backbone.View.extend({initialize:function(){_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.render()},template:JST["templates/instant_card_add_labels_form"],tagName:"li",className:"",render:function(){return this.$el.html(this.template({card:this.model})),this.showTooltip(),this}}),"undefined"==typeof App&&(App={}),App.InstantCardAddMembersFormView=Backbone.View.extend({initialize:function(){_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.render()},template:JST["templates/instant_card_add_members_form"],render:function(){return this.$el.html(this.template({user_id:this.model})),this.showTooltip(),this}}),"undefined"==typeof App&&(App={}),App.SwitchToListView=Backbone.View.extend({initialize:function(){_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.sort_by=null,this.render()},template:JST["templates/switch_to_list_form"],tagName:"table",className:"table",events:{"click .js-sort-by":"sortBy"},render:function(){return this.$el.html(this.template({board:this.model})),this.showTooltip(),this},sortBy:function(a){a.preventDefault();var b=this,c=$(a.target).data("sort-by"),d=b.model.cards.filter(function(a){return 0===parseInt(a.attributes.is_archived)}),e=!0,f="";if($(".js-card-list-view-"+b.model.attributes.id).html(""),!_.isEmpty(d)){_.each(d,function(a){var c=b.model.lists.findWhere({id:a.attributes.list_id,is_archived:0});a.set("list_name",_.escape(c.attributes.name))});var g=new App.CardCollection;this.sort_by===c?(g.sortDirection="asc",this.sort_by="-"+c,$(a.target).children("span").hasClass("icon-caret-down")?($(".js-sort-by").children("span").removeClass("icon-caret-up hide icon-caret-down"),$(a.target).children("span").removeClass("icon-caret-down").addClass("icon-caret-up")):($(".js-sort-by").children("span").removeClass("icon-caret-up hide icon-caret-down"),$(a.target).children("span").removeClass("icon-caret-up").addClass("icon-caret-down"))):(g.sortDirection="desc",this.sort_by=c,$(a.target).children("span").hasClass("icon-caret-up")?($(".js-sort-by").children("span").removeClass("icon-caret-up hide icon-caret-down"),$(a.target).children("span").removeClass("icon-caret-up").addClass("icon-caret-down")):($(".js-sort-by").children("span").removeClass("icon-caret-up hide icon-caret-down"),$(a.target).children("span").removeClass("icon-caret-down").addClass("icon-caret-up"))),g.comparator=function(a){var b=""+a.get(c);if("name"===c||"list_name"===c)return b=b.toLowerCase(),b=b.split(""),b=_.map(b,function(a){return"desc"===g.sortDirection.toLowerCase()?String.fromCharCode(-a.charCodeAt(0)):String.fromCharCode(a.charCodeAt(0))});if("due_date"!==c)return"desc"===g.sortDirection?-a.get(c):a.get(c);if(null!==a.get("due_date")){var d=a.get("due_date").split(" ");return _.isUndefined(d[1])?_date=d[0]:_date=d[0]+"T"+d[1],sort_date=new Date(_date),"desc"===g.sortDirection?-sort_date.getTime():sort_date.getTime()}},g.reset(d);for(var h=0;h<g.models.length;h++){var i=g.models[h],j=b.model.lists.findWhere({id:i.attributes.list_id,is_archived:0});_.isUndefined(j)||(e=!1,i.list_name=_.escape(j.attributes.name),i.list_id=j.attributes.id,i.board_users=b.model.board_users,i.labels.add(i.attributes.card_labels,{silent:!0}),i.cards.add(b.model.cards,{silent:!0}),i.list=j,i.board_activities.add(b.model.activities,{silent:!0}),f=new App.CardView({tagName:"tr",className:"js-show-modal-card-view",model:i,template:"list_view"}),$(".js-card-list-view-"+b.model.attributes.id).append(f.render().el))}}e&&(f=new App.CardView({tagName:"tr",className:"",model:null,board_id:this.model.id,template:"list_view"}),f.render())}}),"undefined"==typeof App&&(App={}),App.UserBoardListView=Backbone.View.extend({initialize:function(a){_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.render()},template:JST["templates/user_board_list"],tagName:"li",render:function(){return this.$el.html(this.template({user_board:this.model})),this.showTooltip(),this}}),"undefined"==typeof App&&(App={}),App.ArchivedListsView=Backbone.View.extend({initialize:function(){if(!_.isUndefined(this.model)&&null!==this.model){this.model.showImage=this.showImage;var a=this.model.board_users.findWhere({user_id:parseInt(authuser.user.id)});_.isEmpty(a)||(this.model.board_user_role_id=a.attributes.board_user_role_id)}this.render()},template:JST["templates/archived_lists"],tagName:"div",className:"clearfix col-xs-12",events:{"click .js-delete-all-archived-lists-confirm":"deleteAllArchivedlistsConfirm"},deleteAllArchivedlistsConfirm:function(a){return $(".js-setting-response").html(new App.ArchiveListDeleteConfirmView({model:this.model}).el),!1},render:function(){return this.$el.html(this.template({board:this.model})),this.showTooltip(),this}}),"undefined"==typeof App&&(App={}),App.ArchivedListView=Backbone.View.extend({initialize:function(){_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.render()},template:JST["templates/archived_list"],tagName:"li",className:"list-group-item clearfix",events:{"click .js-delete-archived-list":"deleteArchivedList"},render:function(){return this.$el.html(this.template({list:this.model})),this.showTooltip(),this},deleteArchivedList:function(a){return a.preventDefault(),this.model.collection.remove([{id:this.model.attributes.id}]),this.$el.remove(),this.model.url=api_url+"boards/"+this.model.attributes.board_id+"/lists/"+this.model.attributes.id+".json",this.model.destroy(),!1}}),"undefined"==typeof App&&(App={}),App.ArchivedCardsView=Backbone.View.extend({initialize:function(){if(!_.isUndefined(this.model)&&null!==this.model){this.model.showImage=this.showImage;var a=this.model.board_users.findWhere({user_id:parseInt(authuser.user.id)});_.isEmpty(a)||(this.model.board_user_role_id=a.attributes.board_user_role_id)}this.render()},template:JST["templates/archived_cards"],tagName:"div",className:"clearfix col-xs-12",events:{"click .js-delete-all-archived-cards-confirm":"deleteAllArchivedCardsConfirm"},deleteAllArchivedCardsConfirm:function(a){return $(".js-setting-response").html(new App.ArchiveCardDeleteConfirmView({model:this.model}).el),!1},render:function(){return this.$el.html(this.template({board:this.model})),this.showTooltip(),this}}),"undefined"==typeof App&&(App={}),App.ArchivedCardView=Backbone.View.extend({initialize:function(){if(!_.isUndefined(this.model)&&null!==this.model){this.model.showImage=this.showImage;var a=this.model.board_users.findWhere({user_id:parseInt(authuser.user.id)});_.isEmpty(a)||(this.model.board_user_role_id=a.attributes.board_user_role_id)}this.render()},template:JST["templates/archived_card"],tagName:"li",className:"list-group-item clearfix",events:{"click .js-delete-archived-card":"deleteArchivedCard"},render:function(){return this.$el.html(this.template({card:this.model})),this.showTooltip(),this},deleteArchivedCard:function(a){return a.preventDefault(),this.model.collection.remove([{id:this.model.attributes.id}]),this.$el.remove(),this.model.url=api_url+"boards/"+this.model.attributes.board_id+"/lists/"+this.model.attributes.list_id+"/cards/"+this.model.attributes.id+".json",this.model.destroy(),!1}}),"undefined"==typeof App&&(App={}),App.EditBoardMemberPermissionToNormal=Backbone.View.extend({initialize:function(){_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.render()},template:JST["templates/edit_board_member_permission_to_normal"],tagName:"div",className:"clearfix",render:function(){return this.$el.html(this.template({board_user_id:this.model})),this.showTooltip(),this}}),"undefined"==typeof App&&(App={}),App.CopyBoardVisibilityView=Backbone.View.extend({initialize:function(){_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.render()},template:JST["templates/show_all_visibility"],tagName:"div",render:function(){return this.$el.html(this.template({name:this.model})),this.showTooltip(),this}}),"undefined"==typeof App&&(App={}),App.ShowAllVisibilityView=Backbone.View.extend({tagName:"ul",className:"list-unstyled",initialize:function(){_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.render()},template:JST["templates/show_all_visibility"],render:function(){return this.el=this.template({visibility:this.model}),this.delegateEvents(this.events),this.showTooltip(),this}}),"undefined"==typeof App&&(App={}),App.showBoardMemberPermissionFormView=Backbone.View.extend({initialize:function(){_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.render()},template:JST["templates/show_board_member_permission_form"],tagName:"div",render:function(){return this.$el.html(this.template({board_user_id:this.model})),this.showTooltip(),this}}),"undefined"==typeof App&&(App={}),App.ShowBoardVisibilityView=Backbone.View.extend({tagName:"ul",className:"list-unstyled",initialize:function(){_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.render()},template:JST["templates/show_board_visibility"],events:{"click .js-close-popover":"closePopup"},render:function(){return this.el=this.template({visibility:this.model}),this.delegateEvents(this.events),this.showTooltip(),this},closePopup:function(a){var b=this.$el,c=b.find(a.target);return c.parents("div.dropdown:first, li.dropdown:first").removeClass("open"),!1}}),"undefined"==typeof App&&(App={}),App.ShowSearchMessageView=Backbone.View.extend({initialize:function(){_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.render()},template:JST["templates/show_search_message"],tagName:"p",className:"search-tips-helper quiet js-search-tips-helper",render:function(){return this.$el.html(this.template({board:this.model})),this.showTooltip(),this}}),"undefined"==typeof App&&(App={}),App.SearchResultView=Backbone.View.extend({
initialize:function(){_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.render()},template:JST["templates/search_result"],tagName:"ul",className:"unstyled",render:function(){return this.$el.html(this.template({hits:this.model})),this.showTooltip(),this}}),"undefined"==typeof App&&(App={}),App.ShowSearchBoardsView=Backbone.View.extend({initialize:function(a){_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.style=a.style,this.render()},template:JST["templates/show_search_boards"],tagName:"li",className:"",render:function(){return this.$el.html(this.template({board:this.model,style:this.style})),this.showTooltip(),this}}),"undefined"==typeof App&&(App={}),App.ShowSearchBoardSubscribeView=Backbone.View.extend({initialize:function(){_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.render()},tagName:"span",render:function(){return this.showTooltip(),this}}),"undefined"==typeof App&&(App={}),App.ShowBoardsListView=Backbone.View.extend({initialize:function(){_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.render()},template:JST["templates/show_boards_list"],tagName:"div",render:function(){return this.$el.html(this.template({})),this.showTooltip(),this}}),"undefined"==typeof App&&(App={}),App.MyBoardsListingView=Backbone.View.extend({initialize:function(a){_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.authuser=a.authuser,this.render()},template:JST["templates/my_boards_listing"],tagName:"li",render:function(){return this.$el.html(this.template({board:this.model})),this.showTooltip(),this}}),"undefined"==typeof App&&(App={}),App.StartedBoardsListingView=Backbone.View.extend({initialize:function(a){_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.user=a.user,this.render()},template:JST["templates/started_boards_listing"],tagName:"li",render:function(){return this.$el.html(this.template({board:this.model,user:this.user})),this.showTooltip(),this}}),"undefined"==typeof App&&(App={}),App.ClosedBoardsListingView=Backbone.View.extend({initialize:function(a){_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.authuser=a.authuser,this.render()},template:JST["templates/closed_boards_listing"],tagName:"li",events:{"click .js-close-popover":"closePopup","click .js-reopen-dropdown":"openDropdown","click .js-board-reopen":"reopenBoard"},reopenBoard:function(a){var b=new App.Board;return b.url=api_url+"boards/"+this.model.id+".json",b.set("id",this.model.id),App.boards.get(this.model.id).set("is_closed",0),b.save({is_closed:0},{success:function(a,c){app.navigate("#/board/"+b.get("id"),{trigger:!0,replace:!0})}}),!1},openDropdown:function(a){return a.preventDefault(),$(a.currentTarget).addClass("open"),!1},closePopup:function(a){var b=this.$el;b.find(a.target);return $(".js-reopen-dropdown").removeClass("open"),!1},render:function(){return this.$el.html(this.template({board:this.model})),this.showTooltip(),this}}),"undefined"==typeof App&&(App={}),App.BoardAdditionalSettingsView=Backbone.View.extend({initialize:function(a){_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.render()},template:JST["templates/board_additional_settings"],tagName:"div",render:function(){return this.$el.html(this.template({board:this.model})),this.showTooltip(),this}}),"undefined"==typeof App&&(App={}),App.SelectBoardVisibilityView=Backbone.View.extend({initialize:function(a){_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.data=a.data,this.render()},template:JST["templates/select_board_visibility"],render:function(){return this.$el.html(this.template({name:this.model,data:this.data})),this.showTooltip(),this}}),"undefined"==typeof App&&(App={}),App.BoardVisibilityView=Backbone.View.extend({initialize:function(){_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.render()},template:JST["templates/board_visibility"],tagName:"ul",className:"list-unstyled",render:function(){return this.$el.html(this.template({board:this.model})),this.showTooltip(),this}}),"undefined"==typeof App&&(App={}),App.BoardAddOrganizationFormView=Backbone.View.extend({initialize:function(){_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.render()},template:JST["templates/board_add_organization_form"],tagName:"div",className:"form-group",render:function(){return this.$el.html(this.template({organizations:this.model})),this.showTooltip(),this}}),"undefined"==typeof App&&(App={}),App.BoardMemberAddSearchResultView=Backbone.View.extend({initialize:function(a){_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.board=a.board,this.render()},template:JST["templates/board_member_add_search_result"],tagName:"a",className:"js-add-board-member cur row clearfix",events:{click:"addBoardMember"},render:function(){return this.$el.html(this.template({user:this.model})),this.showTooltip(),this},addBoardMember:function(){var a=new App.BoardsUser,b=this;return a.set("board_id",this.board.attributes.id),a.set("user_id",this.model.attributes.id),a.set("board_user_role_id",2),a.set(this.model.toJSON()),delete a.attributes.id,this.$el.remove(),a.url=api_url+"boards/"+this.board.attributes.id+"/users.json",a.save({user_id:this.model.attributes.id,board_id:this.board.attributes.id,board_user_role_id:2},{success:function(c,d){d.boards_users.board_user_role_id=2,d.boards_users.user_id=parseInt(d.boards_users.user_id),a.set(d.boards_users),b.board.board_users.add(a)}}),!1}}),"undefined"==typeof App&&(App={}),App.ChecklistItemMentionMemberView=Backbone.View.extend({initialize:function(a){this.class_name=a.class_name,_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.render()},template:JST["templates/checklist_item_mention_member"],render:function(){return this.$el.html(this.template({board_user:this.model,class_name:this.class_name})),this.showTooltip(),this}}),"undefined"==typeof App&&(App={}),App.ChecklistItemMentionMemberSerachFormView=Backbone.View.extend({initialize:function(){_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.render()},template:JST["templates/checklist_item_mention_member_search_form"],tagName:"div",render:function(){return this.$el.html(this.template()),this.showTooltip(),this}}),"undefined"==typeof App&&(App={}),App.OrganizationBoardView=Backbone.View.extend({initialize:function(a){_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.stared=a.stared,_.isUndefined(App.boards)||App.boards.bind("change",this.render),this.render()},template:JST["templates/organization_board"],className:"col-lg-3 col-md-3 col-sm-4 col-xs-12 js-org-board",events:{"click .js-close-popover":"closePopup","click .js-star-board":"starBoard","click .js-board-inner-view":"showBoard","click .js-board-visibility":"showBoardVisibility","click .js-set-privte-board":"setPrivteBoard","click .js-set-public-board":"setPublicBoard","click .js-show-board-organization":"showBoardOrganization","submit .js-save-board-visibility":"saveBoardVisibility","click .js-back-to-board-visibility":"showBoardVisibility"},render:function(){if(this.$el.html(this.template({board:this.model,stared:this.stared})),null!==this.model){var a=[],b=["#DB7093","#F47564","#EDA287","#FAC1AD","#FFE4E1","#D3ABF0","#DC9CDC","#69BFBA","#66CDAA","#8FBC8F","#CBFDCA","#EEE8AA","#BC8F8F","#CD853F","#D2B48C","#F5DEB3","#64BCF2","#87CEFA","#B0C4DE","#D6E2F7"],c=0;_.each(this.model.attributes.lists,function(d){if(!d.is_archived){var e={};e.title=d.name,e.value=d.card_count,e.color=b[c],c++,c>20&&(c=0),d.card_count>0&&a.push(e)}});var d=this;_(function(){d.$el.find(".js-chart").drawDoughnutChart(a)}).defer()}return this.showTooltip(),this},starBoard:function(a){a.preventDefault();var b=$(a.currentTarget).attr("name"),c="unstar",d='<i class="icon-star text-primary"></i>';"unstar"==b&&(c="star",d='<i class="icon-star-empty"></i>'),$(a.currentTarget).attr("name",c),$(a.currentTarget).html(d);var e=new App.BoardStar;if(!_.isEmpty(this.model.board_subscriber)&&this.model.board_subscriber.attributes.id){c="","false"==$("#inputBoardSubscribe").val()?(c="true",$("#inputBoardSubscribe").val(c)):(c="false",$("#inputBoardSubscribe").val(c));var f=$("form#BoardSubscribeForm").serializeObject();e.url=api_url+"boards/"+this.model.board.board_id+"/boards_stars/"+this.model.star.attributes.id+".json",e.set("id",this.model.star.attributes.id),e.save(f,{success:function(a,b){}})}else{var g={},h=this;e.url=api_url+"boards/"+this.model.id+"/boards_stars.json",e.save(g,{success:function(a,b){h.model.board_subscribers.add(b)}})}return!1},showBoardVisibility:function(a){var b=$(a.currentTarget);this.$(".js-back-to-board-visibility").addClass("hide");var c=this.model.attributes.board_visibility,d=$(".js-visibility-list",b.next(".dropdown-menu"));d.nextAll().remove(),$(new App.ShowBoardVisibilityView({model:c}).el).insertAfter(d)},closePopup:function(a){var b=this.$el,c=b.find(a.target);return c.parents(".dropdown").removeClass("open"),!1},showBoard:function(a){a.preventDefault(),this.$el.removeClass("col-lg-3 col-md-3 col-sm-4").html(new App.BoardView({model:this.model}).el)},showChangeOrganizationForm:function(a){var b=$(a.currentTarget),c=b.parents(".dropdown-menu"),d=(this.model.attributes.board_visibility,$(".js-visibility-list",c));d.nextAll().remove(),$(new App.BoardOrganizationFormView({model:auth_user_organizations,board:this.model}).el).insertAfter(d)},setPrivteBoard:function(a){a.preventDefault(),this.model.url=api_url+"boards/"+this.model.attributes.id+".json",this.model.set({board_visibility:0,organization_id:0}),this.closePopup(a),this.model.save({board_visibility:0,organization_id:0},{patch:!0});var b=$(a.target);return b.parents("div.dropdown").removeClass("open"),!1},setPublicBoard:function(a){a.preventDefault(),this.model.url=api_url+"boards/"+this.model.attributes.id+".json",this.model.set({board_visibility:2,organization_id:0}),this.closePopup(a),this.model.save({board_visibility:2,organization_id:0},{patch:!0});var b=$(a.target);return b.parents("div.dropdown").removeClass("open"),!1},showBoardOrganization:function(a){return a.preventDefault(),this.$(".js-back-to-board-visibility").removeClass("hide"),this.showChangeOrganizationForm(a),!1}}),"undefined"==typeof App&&(App={}),App.BoardUserActionsView=Backbone.View.extend({events:{"click .js-view-user-activities":"showUserActivitiesListModal","click .js-show-dropdown":"showDropdown","click .js-no-action":"noAction","click .js-edit-board-member-permission":"editBoardMemberPermission","click .js-close-popup":"closePopup","click .js-user-profile":"redirectToUserProfile"},initialize:function(a){_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.render()},template:JST["templates/board_user_actions"],tagName:"ul",className:"list-unstyled",render:function(){return this.$el.html(this.template({user:this.model})),this.showTooltip(),this},showUserActivitiesListModal:function(a){var b=$(a.currentTarget).data("user-id"),c=new App.ModalUserActivitiesListView({model:this.model,user_id:b});return c.show(),!1},showDropdown:function(a){return a.preventDefault(),$(a.currentTarget).parents(".dropdown:first").addClass("open"),!1},noAction:function(a){return a.preventDefault(),!1},editBoardMemberPermission:function(a){var b=$(a.currentTarget);return this.model.url=api_url+"boards_users/"+this.model.attributes.id+".json",this.model.set("board_user_role_id",b.data("board_user_role_id")),this.model.set("board_name",this.model.collection.board.attributes.name),this.model.save({board_user_role_id:b.data("board_user_role_id")},{success:function(a,b){}}),!1},closePopup:function(a){var b=this.$el,c=b.find(a.target);return c.parents("div.dropdown:first, li.dropdown:first").removeClass("open"),!1},redirectToUserProfile:function(a){var b=$(a.currentTarget).data("id");return app.navigate("#/user/"+b,{trigger:!0}),!1}}),"undefined"==typeof App&&(App={}),App.ModalUserActivitiesListView=Backbone.View.extend({id:"base-modal",className:"",template:JST["templates/modal_user_activities_list_view"],events:{"click .js-close-popover":"closePopup"},initialize:function(a){this.user_id=a.user_id,_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),_(this).bindAll("show","teardown")},teardown:function(){this.$el.data("modal",null),this.remove()},render:function(){return this.$el.html(this.template({list:this.model})),this.renderUserActivitiesCollection(),this.$el.modal({show:!0,backdrop:!1}),this.showTooltip(),this},show:function(){this.render(),this.$el.find("#modalUserActivitiesListView").modal("show")},closePopup:function(a){var b=$(a.target);return b.parents("li.dropdown").removeClass("open"),!1},renderUserActivitiesCollection:function(){var a=this.$("#js-list-user-activities-list");a.html("");var b=new App.ActivityCollection;b.url=api_url+"users/"+this.user_id+"/activities.json?board_id="+this.model.attributes.board_id,b.fetch({success:function(c){if(b.length>0)b.each(function(b){b.from_footer=!0;var c=new App.ActivityView({model:b});a.append(c.render().el).find(".timeago").timeago()});else{var d=new App.ActivityView({model:null});a.append(d.render().el)}}})}}),"undefined"==typeof App&&(App={}),App.OrganizationsListsView=Backbone.View.extend({initialize:function(a){this.sortField=a.sortField,this.sortDirection=a.sortDirection,_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.render()},template:JST["templates/organizations_lists_view"],tagName:"section",className:"row",id:"js-organizations_lists",attributes:{role:"navigation"},render:function(){return this.$el.html(this.template({organization:this.model})),this.renderOrganizationCollection(),this.showTooltip(),this},renderOrganizationCollection:function(){var a=this.$el.find("#js-organizations-list");return _.isEmpty(this.model.models)?a.html(new App.OrganizationsListView({model:null}).el):(this.model.setSortField(this.sortField,this.sortDirection),this.model.sort(),this.model.each(function(b){a.append(new App.OrganizationsListView({model:b}).el)})),this}}),"undefined"==typeof App&&(App={}),App.OrganizationsListView=Backbone.View.extend({initialize:function(a){_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.render()},template:JST["templates/organizations_list_view"],tagName:"tr",events:{"click .js-show-confirm-delete-organization":"showConfirmDeleteOrganization","click .js-delete-organization":"deleteOrganization","click .js-no-action":"noAction"},render:function(){return this.$el.html(this.template({organization:this.model})),this.showTooltip(),this},showConfirmDeleteOrganization:function(a){var b=$(a.currentTarget);b.data("organization_id");$(".js-show-confirm-delete-organization-response").html(new App.OrganizationDeleteFormView({model:this.model}).el)},deleteOrganization:function(a){a.preventDefault();var b=new App.Organization;return b.url=api_url+"organizations/"+this.model.organization_id+".json",b.set("id",this.model.organization_id),this.flash("success",i18next.t("Organization deleted successfully.")),b.destroy({success:function(a,b){app.navigate("#/",{trigger:!0,replace:!0})}}),!1},getOrganizationMemberLists:function(){this.model.organizations_users.add(this.model.attributes.organizations_users)},noAction:function(a){return a.preventDefault(),!1}}),"undefined"==typeof App&&(App={}),App.EmailTemplateView=Backbone.View.extend({initialize:function(a){_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.id=a.id,this.getListing()},template:JST["templates/email_templates"],events:{"submit form#js-email-templates-form":"updateTemplate"},updateTemplate:function(a){var b=$(a.currentTarget),c=b.serializeObject(),d=this,e=new App.EmailTemplate;return e.set("id",this.id),e.url=api_url+"email_templates/"+this.id+".json",e.save(c,{success:function(a,b){_.isEmpty(b.success)?d.flash("danger",i18next.t("Email Template not updated properly.")):d.flash("success",i18next.t("Email Template has been updated successfully."))}}),!1},getListing:function(){self=this,_.isUndefined(this.id)&&(this.id=1),email_templates=new App.EmailTemplateCollection,email_templates.url=api_url+"email_templates/"+this.id+".json",email_templates.fetch({cache:!1,abortPending:!0,success:function(a,b){self.render(a)}})},render:function(a){return this.$el.html(this.template({list:a,id:this.id})),$(".js-admin-email-menu").addClass("active"),$(".js-admin-activity-menu, .js-admin-user-menu, .js-admin-role-menu, .js-admin-setting-menu, .js-admin-board-menu").removeClass("active"),this}}),"undefined"==typeof App&&(App={}),App.UserActivityView=Backbone.View.extend({initialize:function(){_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.render(),emojify.run()},converter:new showdown.Converter,template:JST["templates/user_activity"],className:"list-group-item-text",events:{"click .js-undo2":"undo_all"},render:function(){return this.$el.html(this.template({activity:this.model,type:this.type,converter:this.converter})),this.showTooltip(),this},undo_all:function(a){var b=this;return a.preventDefault(),this.model.url=api_url+"activities/undo/"+this.model.id+".json",this.model.save({},{patch:!0,success:function(a,c){b.flash("danger",i18next.t("Undo Succeed")),emojify.run()}}),!1}}),"undefined"==typeof App&&(App={}),App.UserIndexContainerView=Backbone.View.extend({events:{"change .js-more-action-user":"usersMoreActions","click .js-sort":"sortUser","click .js-filter":"filterUser","submit form#UserSearch":"userSearch"},initialize:function(a){this.sortField=a.sortField,this.filter_count=a.filter_count,this.roles=a.roles,this.sortDirection=a.sortDirection,_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.render()},template:JST["templates/user_index_container"],tag:"section",className:"clearfix row",render:function(){return this.$el.html(this.template({filter_count:this.filter_count,roles:this.roles})),_.isUndefined(this.sortField)||this.renderUserCollection(),this.showTooltip(),this},renderUserCollection:function(){var a=this.$el.find(".js-user-list");return this.model.setSortField(this.sortField,this.sortDirection),this.model.sort(),this.model.each(function(b){a.append(new App.UserIndex({model:b}).el)}),this},filterUser:function(a){var b=this;b.current_page=_.isUndefined(b.current_page)?1:b.current_page,b.filterField=_.isUndefined(a)?b.filterField:$(a.currentTarget).data("filter");var c=new App.UserCollection;$(".js-user-list").html('<tr class="js-loader"><td colspan="15"><span class="cssloader"></span></td></tr>'),c.url=api_url+"users.json?page="+b.current_page+"&filter="+b.filterField,app.navigate("#/users?page="+b.current_page+"&filter="+b.filterField,{trigger:!1,trigger_function:!1}),c.fetch({cache:!1,abortPending:!0,success:function(c,d){$(".js-user-list").html(""),0!==c.length?c.each(function(a){$(".js-user-list").append(new App.UserIndex({model:a}).el)}):$(".js-user-list").html('<tr><td class="text-center" colspan="15">No record found</td></tr>'),$(".js-filter-list").children().removeClass("active"),$(a.currentTarget).parent().addClass("active"),$(".js-user-list").find(".timeago").timeago(),$(".pagination-boxes").unbind(),$(".pagination-boxes").pagination({total_pages:d._metadata.noOfPages,current_page:b.current_page,display_max:4,callback:function(a,c){a.preventDefault(),c&&(b.current_page=c,b.filterUser())}})}})},userSearch:function(a){var b=this;b.current_page=_.isUndefined(b.current_page)?1:b.current_page,b.searchField=$("#user_search").val();var c=new App.UserCollection;return $(".js-user-list").html('<tr class="js-loader"><td colspan="15"><span class="cssloader"></span></td></tr>'),_.isUndefined(b.searchField)||_.isUndefined(b.searchField)||(c.url=api_url+"users.json?page="+b.current_page+"&search="+b.searchField),c.fetch({cache:!1,abortPending:!0,success:function(a,c){$(".js-user-list").html(""),0!==a.length?a.each(function(a){$(".js-user-list").append(new App.UserIndex({model:a}).el)}):$(".js-user-list").html('<tr><td class="text-center" colspan="15">No record found</td></tr>'),$(".js-user-list").find(".timeago").timeago(),$(".pagination-boxes").unbind(),$(".pagination-boxes").pagination({total_pages:c._metadata.noOfPages,current_page:b.current_page,display_max:4,callback:function(a,c){a.preventDefault(),c&&(b.current_page=c,b.sortUser())}})}}),!1},sortUser:function(a){var b=this;b.current_page=_.isUndefined(b.current_page)?1:b.current_page,b.sortField=_.isUndefined(a)?b.sortField:$(a.currentTarget).data("field"),b.sortDirection=_.isUndefined(a)?b.sortDirection:$(a.currentTarget).data("direction");var c=new App.UserCollection;$(".js-user-list").html('<tr class="js-loader"><td colspan="15"><span class="cssloader"></span></td></tr>'),_.isUndefined(b.sortDirection)||_.isUndefined(b.sortField)?_.isUndefined(b.searchField)||""===b.searchField?(c.url=api_url+"users.json?page="+b.current_page,app.navigate("#/users?page="+b.current_page,{trigger:!1,trigger_function:!1})):(c.url=api_url+"users.json?page="+b.current_page+"&search="+b.searchField,app.navigate("#/users?page="+b.current_page+"&search="+b.searchField,{trigger:!1,trigger_function:!1})):(c.setSortField(b.sortField,b.sortDirection),_.isUndefined(b.searchField)||""===b.searchField?(c.url=api_url+"users.json?page="+b.current_page+"&sort="+b.sortField+"&direction="+b.sortDirection,app.navigate("#/users?page="+b.current_page+"&sort="+b.sortField+"&direction="+b.sortDirection,{trigger:!1,trigger_function:!1})):(c.url=api_url+"users.json?page="+b.current_page+"&sort="+b.sortField+"&direction="+b.sortDirection+"&search="+b.searchField,app.navigate("#/users?page="+b.current_page+"&sort="+b.sortField+"&direction="+b.sortDirection+"&search="+b.searchField,{trigger:!1,trigger_function:!1}))),_.isUndefined(a)||("desc"==$(a.currentTarget).data("direction")?($(a.currentTarget).data("direction","asc"),$("span.icon-caret-up").addClass("hide"),$("span.icon-caret-down").addClass("hide"),$(a.currentTarget).find("span").removeClass("hide"),$(a.currentTarget).siblings("span").removeClass("hide"),$(a.currentTarget).find("span").removeClass("icon-caret-up").addClass("icon-caret-down"),$(a.currentTarget).siblings("span").removeClass("icon-caret-up").addClass("icon-caret-down")):($(a.currentTarget).data("direction","desc"),$("span.icon-caret-up").addClass("hide"),$("span.icon-caret-down").addClass("hide"),$(a.currentTarget).find("span").removeClass("hide"),$(a.currentTarget).siblings("span").removeClass("hide"),$(a.currentTarget).find("span").removeClass("icon-caret-down").addClass("icon-caret-up"),$(a.currentTarget).siblings("span").removeClass("icon-caret-down").addClass("icon-caret-up"))),c.fetch({cache:!1,abortPending:!0,success:function(a,c){$(".js-user-list").html(""),a.each(function(a){$(".js-user-list").append(new App.UserIndex({model:a}).el)}),$(".js-user-list").find(".timeago").timeago(),$(".pagination-boxes").unbind(),$(".pagination-boxes").pagination({total_pages:c._metadata.noOfPages,current_page:b.current_page,display_max:4,callback:function(a,c){a.preventDefault(),c&&(b.current_page=c,b.sortUser())}})}})},usersMoreActions:function(a){var b=this;if(_.isUndefined($(".js-checkbox-list:checked").val()))return alert(i18next.t("Please select atleast one record!")),$("#js-more-action").val("0"),!1;if(!window.confirm(i18next.t("Are you sure you want to do this action?")))return $("#js-more-action").val("0"),!1;var c=Backbone.Model.extend({}),d=Backbone.BatchCollection.extend({model:c,url:api_url+"users/bulk_action.json?token="+api_token}),e=new d,f={};$(":checkbox:checked").each(function(a){f[a]={},f[a].user_id=$(this).val()}),f.action_id={},f.action_id.action_id=$("#js-more-action option:selected").val(),e.add(f,{silent:!0}),e.save({success:function(a){_.isEmpty(a.success)||(1==$("#js-more-action option:selected").val()?b.flash("success",i18next.t("Checked users are blocked successfully.")):2==$("#js-more-action option:selected").val()?b.flash("success",i18next.t("Checked users are unblocked successfully.")):b.flash("success",i18next.t("Checked users are deleted successfully.")),app.navigate("#/users",{trigger:!0}))}})}}),"undefined"==typeof App&&(App={}),App.SelectedBoardVisibilityView=Backbone.View.extend({initialize:function(){_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.render()},template:JST["templates/selected_board_visibility"],tag:"span",className:"js-visibility-container",render:function(){return this.$el.html(this.template({name:this.model})),this.showTooltip(),this}}),"undefined"==typeof App&&(App={}),App.ModalActivityView=Backbone.View.extend({id:"base-modal",className:"",template:JST["templates/modal_activity_view"],events:{"click .js-close-popover":"closePopup","click .js-load-more":"loadMore"},initialize:function(a){_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.type=a.type,this.organization_id=a.organization_id,this.last_activity_id=0,_(this).bindAll("show","teardown"),this.activities=new App.ActivityCollection;var b="";_.isUndefined(this.organization_id)||(b+="&organization_id="+this.organization_id),"board"===this.type?this.activities.url=api_url+"boards/"+authuser.board_id+"/activities.json?type=all":"user_listing"===this.type?this.activities.url=api_url+"users/"+this.model.attributes.id+"/activities.json?type=all"+b:"org_user_listing"===this.type?this.activities.url=api_url+"users/"+this.model+"/activities.json?type=all"+b:this.activities.url=api_url+"users/"+authuser.user.id+"/activities.json?type=all"+b},teardown:function(){},render:function(){return this.$el.html(this.template({list:this.model,type:this.type})),this.$el.modal({show:!0,backdrop:!1}),this.showTooltip(),this},show:function(){var a=this;a.render(),this.activities.fetch({success:function(){a.renderActivitiesCollection(!1),a.activities.models.length>0?a.$el.find(".js-load-more").removeClass("hide"):a.$el.find(".js-load-more").addClass("hide")}}),this.$el.find("#modalActivityView").modal("show")},closePopup:function(a){var b=$(a.target);return b.parents("li.dropdown").removeClass("open"),!1},renderActivitiesCollection:function(a){var b=this,c=_.min(this.activities.models,function(a){return a.id});if(this.last_activity_id=c.id,this.activities.each(function(a){var c=new App.ActivityView({model:a,type:"all"});b.$el.find("#js-activities-list").append(c.render().el).find(".timeago").timeago()}),!a&&0===this.activities.models.length){var d=new App.ActivityView({model:null,type:"all"});b.$el.find("#js-activities-list").html(d.render().el)}},loadMore:function(a){var b=this,c="&last_activity_id="+this.last_activity_id;return _.isUndefined(this.last_activity_id)?$(".js-load-more").hide():(_.isUndefined(this.organization_id)||(c+="&organization_id="+this.organization_id),"board"===this.type?this.activities.url=api_url+"boards/"+authuser.board_id+"/activities.json?type=all"+c:"user_listing"===this.type?this.activities.url=api_url+"users/"+this.model.attributes.id+"/activities.json?type=profile"+c:"org_user_listing"===this.type?this.activities.url=api_url+"users/"+this.model+"/activities.json?type=profile"+c:this.activities.url=api_url+"users/"+authuser.user.id+"/activities.json?type=profile"+c),this.activities.fetch({success:function(){b.renderActivitiesCollection(!0),b.activities.models.length>0?b.$el.find(".js-load-more").removeClass("hide"):b.$el.find(".js-load-more").addClass("hide")}}),!1}}),"undefined"==typeof App&&(App={}),App.ModalFlickrPhotoView=Backbone.View.extend({id:"flickr-modal",className:"",template:JST["templates/modal_flickr_photo_view"],events:{"click .js-close-popover":"closePopup","click .js-flickr-loadmore":"getPhotos","click .js-flickr-search-box":"getSearch","click .js-flickr-changebackground":"changeBackgroundImage","keyup .js-flickr-search":"keyPressEventHandler"},keyPressEventHandler:function(a){13==event.keyCode&&this.$(".js-flickr-search-box").click()},initialize:function(a){this.page=1,this.total_page=1,this.per_page=36,this.search_type="flickr.photos.getRecent",this.search_text="Recent Photos",this.type=a.type,this.FLICKR_API_KEY=FLICKR_API_KEY,"texture"==this.type?(this.search_text="texture background",this.search_type="flickr.photos.search",$(".js-flickr-search").val("texture background")):this.type="image"},getSearch:function(){var a=$(".js-flickr-search").val();return""!==a.trim()&&(this.search_text=a.trim(),"Recent Photos"!==this.search_text&&(this.search_type="flickr.photos.search",$("#js-flickr-background-photos").html(""),this.page=1,this.total_page=1,this.getPhotos())),this},getPhotos:function(){var a=this;if(this.page<=this.total_page){$(".js-flickr-loader-and-more").html('<span class="cssloader"></span>');var b=new App.Flickr;b.url="https://api.flickr.com/services/rest/?api_key="+FLICKR_API_KEY+"&format=json&method="+this.search_type+"&nojsoncallback=1&page="+this.page+"&per_page="+this.per_page+"&media=photos&content_type=7&sort=relevance","Recent Photos"!==this.search_text&&(b.url="https://api.flickr.com/services/rest/?api_key="+FLICKR_API_KEY+"&format=json&method="+this.search_type+"&nojsoncallback=1&page="+this.page+"&per_page="+this.per_page+"&text="+this.search_text+"&media=photos&content_type=7&sort=relevance"),b.fetch({cache:!1,success:function(b,c){if($(".js-flickr-loader-and-more").html('<a href="javascript:void(0);" class="btn-link js-flickr-loadmore">'+i18next.t("Load More")+"</a>"),$(".js-flickr-loader-and-more").show(),!_.isUndefined(b.attributes.photos)&&null!==b.attributes.photos){var d=b.attributes.photos.photo;if(d.length>0){a.total_page=parseInt(b.attributes.photos.pages),a.page=parseInt(b.attributes.photos.page)+1;for(var e=0;e<d.length;e++){var f=d[e];$("#js-flickr-background-photos").append(new App.FlickrView({model:f}).el)}a.page>a.total_page&&$(".js-flickr-loader-and-more").hide()}else a.total_page=parseInt(b.attributes.photos.pages),a.page=parseInt(b.attributes.photos.page),1==a.page?($(".js-flickr-loader-and-more").html('<a href="#" class="btn-link ">'+i18next.t("No record found")+"....</a>"),$(".js-flickr-loader-and-more").show()):(a.page=parseInt(b.attributes.photos.page)+1,a.page>a.total_page&&$(".js-flickr-loader-and-more").hide())}}})}else $(".js-flickr-loader-and-more").hide()},render:function(){return this.$el.html(this.template({list:this.model})),this.$el.modal({show:!0,backdrop:!1}),this.getPhotos(),this.showTooltip(),this},show:function(){this.render(),this.$el.find("#modalFlickrPhoto").modal("show"),"texture"==this.type&&$(".js-flickr-search").val("texture background")},closePopup:function(a){var b=$(a.target);return b.parents("#flickr-modal").remove(),!1},changeBackgroundImage:function(a){var b=$(a.currentTarget).data("farm"),c=$(a.currentTarget).data("id"),d=$(a.currentTarget).data("server"),e=$(a.currentTarget).data("secret"),f=$(a.currentTarget).data("title"),g="//farm"+b+".static.flickr.com/"+d+"/"+c+"_"+e+"_b.jpg";"image"==this.type?($("body").removeAttr("style").css({background:"url("+g+") 25% 25% no-repeat fixed","background-size":"cover"}).addClass("board-view-pattern board-view"),this.model.set("background_name",f),this.model.set("background_picture_url",g),this.model.set("background_pattern_url",""),g="//farm"+b+".static.flickr.com/"+d+"/"+c+"_"+e+"_XXXX.jpg",data={background_name:f,background_color:"NULL",background_picture_url:g,background_pattern_url:"NULL"},App.boards.get(this.model.id).set("background_name",f,{silent:!0}),App.boards.get(this.model.id).set("background_picture_url",g,{silent:!0}),App.boards.get(this.model.id).set("background_pattern_url","",{silent:!0}),App.boards.get(this.model.id).set("background_color","",{
silent:!0})):($("body").removeAttr("style").css({background:"url("+g+")"}).addClass("board-view-pattern board-view"),this.model.set("background_name",f),this.model.set("background_picture_url",""),this.model.set("background_pattern_url",g),App.boards.get(this.model.id).set("background_name",f,{silent:!0}),App.boards.get(this.model.id).set("background_picture_url","",{silent:!0}),App.boards.get(this.model.id).set("background_pattern_url",g,{silent:!0}),App.boards.get(this.model.id).set("background_color","",{silent:!0}),g="//farm"+b+".static.flickr.com/"+d+"/"+c+"_"+e+"_XXXX.jpg",data={background_name:f,background_color:"NULL",background_picture_url:"NULL",background_pattern_url:g}),this.model.url=api_url+"boards/"+this.model.id+".json",this.model.set("custom_background_url",""),this.model.set("background_color",""),this.model.save(data,{patch:!0});var h=$(".js-myboard-list");return h.html(""),_.isEmpty(App.boards.models)||_.each(App.boards.models,function(a){h.append(new App.MyBoardsListingView({model:a,authuser:authuser,attributes:{"class":"js-show-board-star"}}).el)}),!1}}),"undefined"==typeof App&&(App={}),App.ModalMusicView=Backbone.View.extend({id:"music-modal",className:"",template:JST["templates/modal_music_view"],events:{"submit form#js-MusicForm":"addMusic"},initialize:function(){},addMusic:function(){var a=this,b=$(".js-music_name").val(),c=$(".js-music_content").val();return this.model.url=api_url+"boards/"+this.model.id+".json",this.model.set("music_name",b),this.model.set("music_content",c),data={music_name:b,music_content:c},this.model.save(data,{patch:!0,success:function(d,e){var f=new Backbone.View;if(f.flash("success",i18next.t("Updated successfully.")),$("#music-modal").modal("hide"),$("div.modal-backdrop").remove(),_.isEmpty(b)||"NULL"==b||(App.music.music_name=b),_.isEmpty(c)||"NULL"==c)App.music.inst.silence();else{App.music.music_content=c;var g=new App.MusicRepeatView;g.continueMusic()}a.footerView=new App.FooterView({model:authuser,board_id:a.model.id}).render(),$("#footer").html(a.footerView.el),a.showTooltip()}}),!1},render:function(){return this.$el.html(this.template({list:this.model})),this.$el.modal({show:!0,backdrop:!1}),this.showTooltip(),this},show:function(){this.render(),this.$el.find("#modalMusic").modal("show"),$(".js-music_name").val(this.model.attributes.music_name),$(".js-music_content").val(this.model.attributes.music_content)},closePopup:function(a){var b=$(a.target);return b.parents("#flickr-modal").remove(),!1}}),"undefined"==typeof App&&(App={}),App.FlickrView=Backbone.View.extend({template:JST["templates/flickr"],tagName:"li",className:"clearfix navbar-btn",initialize:function(){this.render()},events:{"click a.js-show-confirm-delete-attachment":"showConfirmAttachmentDelete","click .js-close-popup":"closePopup","click .js-delete-attachment":"deleteAttachment"},render:function(){return this.$el.html(this.template({photo:this.model})),this.showTooltip(),this},deleteAttachment:function(){return this.$el.remove(),this.model.url=api_url+"boards/"+this.model.attributes.board_id+"/lists/"+this.model.attributes.list_id+"/cards/"+this.model.attributes.card_id+"/attachments/"+this.model.id+".json",this.model.destroy(),!1},showConfirmAttachmentDelete:function(a){a.preventDefault(),$(".js-attachment-confirm-respons-"+this.model.id,this.$el).html(new App.AttachmentDeleteConfirmFormView({model:this.model}).el)},closePopup:function(a){var b=$(a.target);return b.parents("li.dropdown").removeClass("open"),!1}}),"undefined"==typeof App&&(App={}),App.Board404View=Backbone.View.extend({initialize:function(){_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.render()},template:JST["templates/board_404"],tagName:"section",render:function(){return this.$el.html(this.template({authuser:this.model})),this}}),"undefined"==typeof App&&(App={}),App.OrganizationHeaderView=Backbone.View.extend({template:JST["templates/organization_header"],className:"navbar navbar-default",id:"js-navbar-default",attributes:{role:"navigation"},events:{"click .js-close-popover":"closePopup","click #js-edit-organization":"editOrganization","click .js-delete-organization":"deleteOrganization","click .js-show-organization-visibility-form":"showOrganizationVisibilityForm","click .js-edit-organization-visibility-to-private":"editOrganizationVisibilityToPrivate","click .js-edit-organization-visibility-to-public":"editOrganizationVisibilityToPublic"},initialize:function(){_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.model.bind("change:name change:organization_visibility",this.render,this),this.render()},render:function(){return this.$el.html(this.template({organization:this.model,type:this.type})),this.showTooltip(),this},closePopup:function(a){var b=$(a.target);return b.parents("li.dropdown").removeClass("open"),!1},editOrganization:function(a){if(!$.trim($("#inputOrganizationName").val()).length)return $(".error-msg").remove(),$('<div class="error-msg text-primary h6">'+i18next.t("Whitespace alone not allowed")+"</div>").insertAfter("#inputOrganizationName"),!1;$(".error-msg").remove(),a.preventDefault();var b=(this.model,$("form#OrganizationEditForm").serializeObject());return this.closePopup(a),this.model.set(b),this.model.url=api_url+"organizations/"+this.model.organization_id+".json",this.model.save(b,{patch:!0,success:function(a,b){}}),!1},deleteOrganization:function(a){a.preventDefault();var b=new App.Organization;return b.url=api_url+"organizations/"+this.model.organization_id+".json",b.set("id",this.model.organization_id),b.destroy(),this.flash("success",i18next.t("Organization deleted successfully.")),app.navigate("#/organizations",{trigger:!0,replace:!0}),!1},showOrganizationVisibilityForm:function(){$(".js-organization-visibility").html(new App.OrganizationVisibilityFormView({model:this.model}).el)},editOrganizationVisibilityToPublic:function(a){$(".js-org-visibility-icon").removeClass("icon-lock"),$(".js-org-visibility-icon").addClass("icon-circle"),$(".js-org-visibility-type").html("Public");var b=$(a.target);return b.parents("li.dropdown").removeClass("open"),this.model.url=api_url+"organizations/"+this.model.id+".json",this.model.set("organization_visibility",1),this.model.save({organization_visibility:1},{patch:!0}),!1},editOrganizationVisibilityToPrivate:function(a){$(".js-org-visibility-icon").removeClass("icon-circle"),$(".js-org-visibility-icon").addClass("icon-lock"),$(".js-org-visibility-type").html("Private");var b=$(a.target);return b.parents("li.dropdown").removeClass("open"),this.model.url=api_url+"organizations/"+this.model.organization_id+".json",this.model.set("organization_visibility",2),this.model.save({organization_visibility:2},{patch:!0}),!1}}),"undefined"==typeof App&&(App={}),App.UserViewHeaderView=Backbone.View.extend({className:"",template:JST["templates/user_view_header"],initialize:function(){_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.render()},render:function(){return this.$el.html(this.template({user:this.model,type:this.type})),this.showTooltip(),this}}),"undefined"==typeof App&&(App={}),App.OrganizationsListsHeaderView=Backbone.View.extend({className:"",template:JST["templates/organizations_lists_header"],events:{"click .js-sort-by":"sortBy"},initialize:function(){this.sortField="id",this.sortDirection="desc",_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.render()},render:function(){return this.$el.html(this.template({user:this.model,type:this.type})),this.renderList(),this.showTooltip(),this},renderList:function(){$("#content").html(new App.OrganizationsListsView({model:this.model,sortField:this.sortField,sortDirection:this.sortDirection}).el),$(".timeago",$("#content")).timeago()},sortBy:function(a){a.preventDefault();var b=$(a.currentTarget).data("field");_.isUndefined(this.sortDirection)?this.sortDirection="desc":"desc"===this.sortDirection?this.sortDirection="asc":this.sortDirection="desc",this.sortField=b,this.renderList()}}),"undefined"==typeof App&&(App={}),App.BoardHeaderView=Backbone.View.extend({className:"navbar navbar-default",attributes:{role:"navigation"},template:JST["templates/board_header"],initialize:function(){if(_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.model.lists.bind("change:name",this.showArchivedListLists,this),this.model.lists.bind("change:is_archived",this.showArchivedListLists,this),this.model.lists.bind("remove",this.showArchivedListLists,this),this.model.cards.bind("change:name",this.showArchivedCardsList,this),this.model.cards.bind("change:is_archived",this.showArchivedCardsList,this),this.model.cards.bind("remove",this.showArchivedCardsList,this),this.model.bind("change:organization_id",this.render,this),this.model.bind("change:background_picture_url",this.showChangeBackground,this),this.model.bind("change:background_pattern_url",this.showChangeBackground,this),this.model.bind("change:music_name",this.showChangeBackground,this),this.model.bind("change:music_content",this.showChangeBackground,this),this.model.board_users.bind("add",this.showFilters,this),this.model.board_users.bind("remove",this.showFilters,this),this.model.labels.bind("add",this.showFilters,this),this.model.labels.bind("change",this.showFilters,this),this.model.labels.bind("remove",this.showLabels,this),this.authuser=authuser.user,this.renderAdminBoardUsers(),!_.isUndefined(authuser.user)){var a=this.model.board_users.findWhere({user_id:parseInt(authuser.user.id)});_.isEmpty(a)||(this.model.board_user_role_id=a.attributes.board_user_role_id)}},events:{"submit form#js-add-board-member-form":function(a){return a.preventDefault(),!1},"click .js-star-board":"starredBoard","click .js-close-popover":"closePopup","click .js-close-sidebar-popover":"closeSidebarPopup","click .js-board-visibility":"showBoardVisibility","click .js-add-board-member-dropdown":"addBoardMemberDropdown","click .js-close-popover-board-member-dropdown":"closeBoardMemberDropdown","click .js-show-subscribe-form":"showSubscribeForm","click .js-show-unsubscribe-form":"showUnsubscribeForm","click .js-switch-grid-view":"switchGridView","click .js-switch-list-view":"switchListView","click .js-switch-calendar-view":"switchCalendarView","click .js-switch-timeline-view":"switchTimelineView","click .js-show-filters":"showFilters","click .js-show-labels":"showLabels","click .js-archived-items":"showArchivedItems","click .js-sync-google-dropdown":"syncGoogleDropdown","click .js-show-copy-board":"showCopyBoard","click .js-syn-google-calendar":"showSyncGoogleCalendar","click .js-close-sub-popover":"closeSubPopup","click #js-select-google-sync-url":"selectGoogleSyncUrl","click .js-change-background":"showChangeBackground","click .js-email-to-board-settings":"showEmailToBoardSetting","click .js-open-dropdown":"openDropdown","click .js-change-visibility":"showAllVisibility","click .js-show-board-modal":"showListModal","click .js-additional-settings":"showAdditionalSettings","click .js-close-board":"closeBoard","click .js-toggle-label-filter":"toggleCardFilter","click .js-toggle-member-filter":"toggleCardFilter","click .js-due-filter":"toggleCardFilter","click .js-back-to-sidebar":"backToSidebar","click .js-board-user-avatar-click":"boardUserAvatarDropdown","click .js-close-board-user-avatar":"closeBoardUserAvatarDropdown","click .js-change-background-image":"changeBackgroundImage","click .js-change-background-pattern":"changeBackgroundPattern","click .js-change-custom-background":"changeCustomBackground","click .js-modal-fliker-trigger":"modalFlickrTtrigger","click .js-delete-background-img":"ClearBackground","click .js-modal-music-trigger":"modalMusicTtrigger","click .js-music-clear":"ClearMusic","click .js-show-archived-card-lists":"showArchivedCardsList","click .js-show-archived-lists":"showArchivedListLists","keyup .js-search-archived-lists":"showFilteredArchivedListLists","keyup .js-search-archived-cards":"showFilteredArchivedCardsList","click .js-send-card-to-board":"sendCardTobard","keyup #inputBoardUserSearch":"showSearchBoardMembers","submit #BoardRenameForm":"boardRename","click .js-close-span-popover":"closeSpanPopover","click .js-set-privte-board":"setPrivteBoard","click .js-set-public-board":"setPublicBoard","click .js-show-board-organization":"showBoardOrganization","submit .js-save-board-visibility":"saveBoardVisibility","click .js-change-color":"changeBackgroundColor","click .js-send-list-to-board":"sendListToboard","click .js-enable-covers":"toggleAdditionalSettings","click .js-computer-open-board-background":"computerOpenBoardBackground","change #js-custom-background-attachment":"addBoardBackground","click .js-no-action":"noAction","click .js-back-to-board-visibility":"showBoardVisibility","click .js-select":"selectBoardVisibility","click .js-clear-all":"clearAll","click .js-rename-board":"loadBoardName","keyup[f] .js-setting-response":"keyboardShowFilters","keyup[w] .js-setting-response":"keyboardOpenDropdown","keyup[x] .js-setting-response":"keyboardClearAll","keyup[q] .js-setting-response":"keyboardToggleCardFilter","keyup[up] body":"keyboardUpNavigateCards","keyup[down] body":"keyboardDownNavigateCards","keyup[left] body":"keyboardLeftNavigateCards","keyup[right] body":"keyboardRightNavigateCards","keyup[return] body":"keyboardShowCardModal","keyup[k] body":"keyboardShowPrevCardModal","keyup[j] body":"keyboardShowNextCardModal","click .js-show-chat-modal":"showChatListModal","click .js-show-chat-history-modal":"showChatHistoryModal"},loadBoardName:function(a){a.preventDefault(),$("#inputBoardName").val(this.model.attributes.name)},openDropdown:function(a){a.preventDefault();var b=$(a.target);return b.parents("li.dropdown:first, div.dropdown:first").addClass("open"),!1},syncGoogleDropdown:function(a){return a.preventDefault(),$(".js-sync-google-dropdown").addClass("open"),!1},closePopup:function(a){var b=this.$el,c=b.find(a.target);return c.parents("div.dropdown:first, li.dropdown:first").removeClass("open"),!1},closeSidebarPopup:function(a){var b=this.$el,c=b.find(a.target);return c.parents("div.dropdown:first").removeClass("open"),!1},closeSubPopup:function(a){var b=this.$el,c=b.find(a.target);return c.parents("li.dropdown").removeClass("open"),!1},showBoardVisibility:function(a){var b=$(a.target);this.$(".js-back-to-board-visibility").addClass("hide");var c=b.parents(".js-visibility-list-dropdown"),d=this.model.attributes.board_visibility,e=$(".js-visibility-list",c);return e.nextAll().remove(),$(new App.ShowBoardVisibilityView({model:d}).el).insertAfter(e),c.addClass("open"),!1},showSubscribeForm:function(a){return $(".js-setting-response").html(new App.SubscribeBoardConfirmView({model:this.model}).el),!1},showUnsubscribeForm:function(a){return $(".js-setting-response").html(new App.UnsubscribeBoardConfirmView({model:this.model}).el),!1},starredBoard:function(a){a.preventDefault();var b=$(a.currentTarget).attr("name"),c="unstar",d=1,e=this,f='<i class="icon-star text-primary"></i>';"unstar"==b&&(c="star",d=0,f='<i class="icon-star-empty"></i>'),$(a.currentTarget).attr("name",c),$(a.currentTarget).html(f),e.boardStar=new App.BoardStar;var g={};return e.boardStar.url=api_url+"boards/"+this.model.id+"/boards_stars.json",e.boardStar.set("board_id",this.model.attributes.id),e.boardStar.set("user_id",parseInt(authuser.user.id)),e.boardStar.set("is_starred",d),e.boardStar.save(g,{success:function(a,b){_.isUndefined(App.boards.get(e.model.attributes.id))||App.boards.get(e.model.attributes.id).boards_stars.reset(e.boardStar),e.model.boards_stars.add(e.boardStar)}}),!1},closeBoard:function(a){a.preventDefault(),this.model.url=api_url+"boards/"+this.model.id+".json",App.boards.get(this.model.id).set({is_closed:1},{silent:!0});this.model.id;return this.model.save({is_closed:1},{patch:!0,success:function(a,b){}}),!1},showAllVisibility:function(a){var b=$(a.target),c=b.parents(".js-visibility-chooser-copy-board-dropdown"),d=$("#inputBoardVisibility").val(),e=$(".js-visibility-chooser-copy-board",c);return e.nextAll().remove(),$(new App.ShowAllVisibilityView({model:d}).el).insertAfter(e),c.addClass("open"),!1},showEmailToBoardSetting:function(){$(".js-side-bar-"+this.model.id).addClass("side-bar-large");var a=this.$el;a.find(".js-setting-response").html(new App.EmailToBoardSettingView({model:this.model}).el);var b=$("header").height(),c=$(window).height(),d=$("footer").height(),e=c-b-d-14;return $(".member-modal.js-pre-scrollable").css({"max-height":e-50,"overflow-y":"auto"}),!1},showChangeBackground:function(){$(".js-side-bar-"+this.model.id).addClass("side-bar-large");var a=this.$el;a.find(".js-setting-response").html(new App.BoardBackgroundView({model:this.model}).el);var b=this;_(function(){Backbone.TemplateManager.baseUrl="{name}";var a=new Backbone.UploadManager({uploadUrl:api_url+"boards/"+b.model.id+"/custom_backgrounds.json?token="+api_token,autoUpload:!0,singleFileUploads:!0,dropZone:$("#custom-background-dropzone"),formData:$("form.js-cusotm-background-add").serialize(),fileUploadHTML:'<input id="cusotmBackgroundUpload" type="file" name="attachment"/>'});a.on("fileadd",function(a){$("#custom-dropzone-cssloader").addClass("cssloader")}),a.on("filedone",function(a,c){$("#custom-dropzone-cssloader").removeClass("cssloader"),b.model.set({background_picture_url:""},{silent:!0}),b.model.set({background_picture_url:c.result.background_picture_url+"?fx="+_.random(1e3,9999)})}),a.renderTo($("#manager-area"))}).defer();var c=$("header").height(),d=$(window).height(),e=$("footer").height(),f=d-c-e-14;return $(".member-modal.js-pre-scrollable").css({"max-height":f-50,"overflow-y":"auto"}),!1},showArchivedItems:function(a){var b=this.$el;a.preventDefault(),b.find(".side-bar").addClass("side-bar-large"),b.find(".js-setting-response").html(new App.ArchivedItemsView({model:this.model}).el),this.showArchivedCardsList();var c=$("header").height(),d=$(window).height(),e=$("footer").height(),f=d-c-e-14;return $(".member-modal.js-pre-scrollable").css({"max-height":f-50,"overflow-y":"auto"}),!1},showArchivedCardsList:function(){var a=this;if(!(_.isUndefined(authuser.user)||1!=authuser.user.role_id&&_.isEmpty(this.model.acl_links.where({slug:"view_archived_cards",board_user_role_id:parseInt(this.model.board_user_role_id)})))){var b=this.$el,c=this.model.cards.where({is_archived:1});b.find(".js-archived-items-container").html(new App.ArchivedCardsView({model:this.model}).el),_.isEmpty(c)?($(".js-delete-all-archived-cards-confirm").addClass("hide"),b.find(".js-archived-cards-container").append(new App.ArchivedCardView({model:null}).el)):($(".js-delete-all-archived-cards-confirm").removeClass("hide"),_.each(c,function(c){c.acl_links=a.model.acl_links,c.board_users=a.model.board_users,b.find(".js-archived-cards-container").append(new App.ArchivedCardView({model:c}).el)}))}return!1},showFilteredArchivedCardsList:function(a){if(!(_.isUndefined(authuser.user)||1!=authuser.user.role_id&&_.isEmpty(this.model.acl_links.where({slug:"view_archived_cards",board_user_role_id:parseInt(this.model.board_user_role_id)})))){var b=this.$el,c=$(a.currentTarget).val(),d="";if(d=_.isEmpty(c)?this.model.cards.where({is_archived:1}):this.model.cards.filter(function(a){return~a.get("name").indexOf(c)}),b.find(".js-archived-cards-container").html(""),_.isEmpty(d))b.find(".js-archived-cards-container").append(new App.ArchivedCardView({model:null}).el);else{var e=0;_.each(d,function(a){1===parseInt(a.attributes.is_archived)&&(b.find(".js-archived-cards-container").append(new App.ArchivedCardView({model:a}).el),e++)}),0===e&&b.find(".js-archived-cards-container").append(new App.ArchivedCardView({model:null}).el)}}return!1},render:function(){return changeTitle("Board - "+_.escape(this.model.attributes.name)),_.isUndefined(this.authuser)||(this.model.board_subscriber=this.model.board_subscribers.findWhere({user_id:parseInt(this.authuser.id)}),this.model.board_star=this.model.board_stars.findWhere({user_id:parseInt(this.authuser.id)})),this.$el.html(this.template({board:this.model,subscriber:this.model.board_subscriber,star:this.model.board_star})),$("a.js-switch-grid-view").parent().addClass("active"),this.showTooltip(),this.renderBoardUsers(),this},showAdditionalSettings:function(a){a.preventDefault();var b=this.$el;return b.find(".js-setting-response").html(new App.BoardAdditionalSettingsView({model:this.model}).el),!1},showFilters:function(){$(".js-side-bar-"+this.model.id).addClass("side-bar-large");var a=this.$el;a.find(".js-setting-response").html(new App.BoardFilterView({model:this.model,labels:this.model.labels}).el);var b=$("header").height(),c=$(window).height(),d=$("footer").height(),e=c-b-d-14;return $(".member-modal.js-pre-scrollable").css({"max-height":e-50,"overflow-y":"auto"}),!1},showLabels:function(){$(".js-side-bar-"+this.model.id).addClass("side-bar-large");var a=this.$el;a.find(".js-setting-response").html(new App.BoardLabelsView({model:this.model,labels:this.model.labels}).el);var b=$("header").height(),c=$(window).height(),d=$("footer").height(),e=c-b-d-14;return $(".member-modal.js-pre-scrollable").css({"max-height":e-50,"overflow-y":"auto"}),!1},modalMusicTtrigger:function(a){$("#music-modal").remove();var b=new App.ModalMusicView({model:this.model});return b.show(),!1},modalFlickrTtrigger:function(a){var b=$(a.currentTarget).data("type");$("#flickr-modal").remove();var c=new App.ModalFlickrPhotoView({model:this.model,type:b});return c.show(),!1},showListModal:function(a){var b=new App.ModalBoardView({model:this.model});return b.show(),!1},switchListView:function(){$("body").removeClass("modal-open"),$("#boards-view").removeClass("col-xs-12"),$("#switch-board-view").removeClass("calendar-view"),$("#switch-board-view").addClass("board-viewlist col-xs-12"),$("li.js-switch-view").removeClass("active"),$("a.js-switch-list-view").parent().addClass("active"),$(".js-list-form").removeClass("hide");var a=Backbone.history.fragment;-1===a.indexOf("/list")&&app.navigate("#/board/"+this.model.id+"/list",{trigger:!1,trigger_function:!1});var b=this;$("div.js-board-view-"+b.model.id).html(new App.SwitchToListView({model:b.model}).el);for(var c=!0,d=$(".js-card-list-view-"+b.model.attributes.id),e=b.model.lists,f=e.models.length,g=0;f>g;g++){var h=e.models[g];if(_.isUndefined(h.get("is_new"))&&0===h.get("is_archived")){b.model.cards.sortByColumn("position");var i=b.model.cards.where({list_id:h.attributes.id,is_archived:0});_.isEmpty(i)||(c=!1);var j=new App.CardCollection;j.reset(i,{silent:!0});for(var k=j.models.length,l=0;k>l;l++){var m=j.models[l];m.list_name=_.escape(h.attributes.name),m.list_id=h.attributes.id,m.board_users=b.model.board_users,m.labels.add(m.attributes.card_labels,{silent:!0}),m.cards.add(b.model.cards,{silent:!0}),m.list=h,m.board_activities.add(b.model.activities,{silent:!0});var n=new App.CardView({tagName:"tr",className:"card-list-view",model:m,template:"list_view"});d.append(n.render().el)}}}if(c){var o=new App.CardView({tagName:"tr",className:"",model:null,board_id:b.model.id,template:"list_view"});o.render()}else _.isUndefined(card_ids)||null===card_ids||""===card_ids||_.defer(function(a){trigger_dockmodal=!0;for(var b=card_ids.split(","),c=0;c<b.length;c++)$("#js-card-"+b[c]).trigger("click");card_ids=null,trigger_dockmodal=!1},this);return!1},switchTimelineView:function(){$("body").removeClass("modal-open"),$("#boards-view").addClass("col-xs-12"),$("#switch-board-view").addClass("calendar-view"),$("#switch-board-view").removeClass("board-viewlist col-xs-12"),$("li.js-switch-view").removeClass("active"),$("a.js-switch-timeline-view").parent().addClass("active"),$(".js-list-form").removeClass("hide");var a=Backbone.history.fragment;-1===a.indexOf("/gantt")&&app.navigate("#/board/"+this.model.id+"/gantt",{trigger:!1,trigger_function:!1});var b=[];return this.ganttView(b,!1,!1),!1},ganttView:function(a,b){var c=this,e=[],f="";return this.model.lists.each(function(g){var h=g.get("cards")||[];if(!_.isEmpty(h)){var i=0;_.each(h,function(h){if(0===h.is_archived&&(b===!0&&-1!==$.inArray(h.id,a)&&null!==h.due_date||b===!1&&null!==h.due_date)){var j={},k={},l=[],m=new Date;card_due_date=h.due_date.split(" ");var n=new Date(card_due_date[0]),o=Math.floor(n.getTime()-m.getTime()),p=864e5,q=Math.floor(o/p),r="ganttRed";-1>q?r="ganttRed":-1==q?r="ganttOrange":q>-1&&(r="ganttGreen"),card_created_date=h.created.split("T");var s=new Date(card_created_date[0]),t=h.created;s.getTime()>n.getTime()&&(t=h.due_date);var u=h.due_date;if(d=new Date(t),k.from="/Date("+d.getTime()+")/",d=new Date(u),k.to="/Date("+d.getTime()+")/",k.label=h.name,k.customClass=r,l.push(k),j.name="",0===i&&(j.name=g.get("name")),j.desc=h.name,j.values=l,e.push(j),i++,b===!1){f+='<div id="js-card-'+h.id+'">',h=c.model.cards.findWhere({id:h.id}),f+='<ul class="unstyled hide js-card-labels">';var v=h.list.collection.board.labels.where({card_id:h.id}),w=new App.CardLabelCollection;w.add(v),w.each(function(a){""!==_.escape(a.attributes.name)&&(f+='<li class="'+_.escape(a.attributes.name)+'">'+_.escape(a.attributes.name)+"</li>")}),f+="</ul>",f+='<ul class="unstyled js-card-users hide">',h.users.each(function(a){f+="<li>user-filter-"+a.get("user_id")+"</li>"}),f+="</ul>",f+='<ul class="unstyled js-card-due hide">',f+=c.getDue(h.get("due_date")),f+="</ul>",f+="</div>"}}})}}),b===!1?this.gantt_content=f:f=this.gantt_content,$("div.js-board-view-"+this.model.id).html("").gantt({source:e,navigate:"scroll",maxScale:"hours",itemsPerPage:10,onRender:function(){var a=$(window).width(),b=a-335;$(".nav-slider-content").css("width",b+"px"),$(window).resize(function(){var a=$(window).width(),b=a-335;$(".nav-slider-content").css("width",b+"px")}),$("div.js-board-view-"+c.model.id).append(f)}}),!1},switchCalendarView:function(){var a=this;$("body").removeClass("modal-open"),$("#boards-view").addClass("col-xs-12"),$("#switch-board-view").addClass("calendar-view"),$("#switch-board-view").removeClass("board-viewlist col-xs-12"),$("li.js-switch-view").removeClass("active"),$("a.js-switch-calendar-view").parent().addClass("active"),$(".js-list-form").removeClass("hide");var b=Backbone.history.fragment;return-1===b.indexOf("/calendar")&&app.navigate("#/board/"+this.model.id+"/calendar",{trigger:!1,trigger_function:!1}),$("div.js-board-view-"+this.model.id).html(""),$("div.js-board-view-"+this.model.id).fullCalendar({header:{left:"prev,next today",center:"title",right:"month,basicWeek,basicDay"},selectable:!0,selectHelper:!0,editable:!1,ignoreTimezone:!1,aspectRatio:3.35,eventRender:function(b,c){var d="";c.addClass("js-show-modal-card-view"),c.attr("id","js-card-"+b.id);var e=a.model.cards.findWhere({id:b.id});if(1===e.get("is_archived")&&(c.addClass("card-archived"),c.find(".fc-event-skin").addClass("card-archived")),null!==e.get("due_date")){var f=new Date;card_due_date=e.get("due_date").split("T");var g=new Date(card_due_date[0]),h=Math.floor(g.getTime()-f.getTime()),i=864e5,j=Math.floor(h/i);-1>j?(c.addClass("label-past"),c.find(".fc-event-skin").addClass("label-past")):-1==j?(c.addClass("label-present"),c.find(".fc-event-skin").addClass("label-present")):j>-1&&(c.addClass("label-future"),c.find(".fc-event-skin").addClass("label-future"))}d+='<ul class="unstyled hide js-card-labels">';var k=e.labels.where({card_id:b.id}),l=new App.CardLabelCollection;l.add(k),l.each(function(a){""!==_.escape(a.attributes.name)&&(d+='<li class="'+_.escape(a.attributes.name)+'">'+_.escape(a.attributes.name)+"</li>")}),d+="</ul>",d+='<ul class="unstyled js-card-users hide">',e.users.each(function(a){d+="<li>user-filter-"+a.get("user_id")+"</li>"}),d+="</ul>",d+='<ul class="unstyled js-card-due hide">',d+=a.getDue(e.get("due_date")),d+="</ul>",c.append(d)}}),_.isEmpty(this.model.cards)||$("div.js-board-view-"+this.model.id).fullCalendar("addEventSource",this.model.cards.invoke("pick",["id","title","start"])),!1},getDue:function(a){if(null===a)return"";var b=new Date,c=(new Date(b.getFullYear(),b.getMonth()+1,0),new Date(b.getFullYear(),b.getMonth()+2,0)),d=new Date(a),e=Math.floor(d.getTime()-b.getTime()),f=864e5,g=Math.floor(e/f),h=Math.floor((g+(b.getDate()+1))/c.getDate()),i=Math.floor(h/12),j=(g-(6-b.getDay()),""),k="feature";return j="",i>0&&(k="year",j+="<li>year</li>"),g>=0&&7>=g&&(k="week",j+="<li>week</li>"),g>=0&&30>=g&&(k="month",j+="<li>month</li>"),0===g&&(k="day",j+="<li>day</li>"),(0>i||0>h||-1>=g)&&(k="overdue",j+="<li>overdue</li>"),j},showSyncGoogleCalendar:function(a){a.preventDefault();var b=this.$el;b.find(".js-setting-response").html(new App.ShowSyncGoogleCalendarView({model:this.model}).el)},showCopyBoard:function(a){a.preventDefault();var b=this.$el;b.find(".js-setting-response").html(new App.ShowCopyBoardView({model:this.model}).el)},selectGoogleSyncUrl:function(a){$(a.target).select()},addBoardMemberDropdown:function(a){return a.preventDefault(),$(".js-add-board-member-dropdown").addClass("open"),$(".js-board-user-avatar-click").removeClass("open"),!1},closeBoardMemberDropdown:function(a){return a.preventDefault(),$(".js-add-board-member-dropdown").removeClass("open"),!1},renderAdminBoardUsers:function(){var a=this.model.board_users.filter(function(a){return 1===parseInt(a.attributes.board_user_role_id)});this.model.admin_board_users=a;var b=this.model.board_users.filter(function(a){return 1!=parseInt(a.attributes.board_user_role_id)});this.model.normal_board_users=b,this.render()},backToSidebar:function(a){a.preventDefault(),$(".js-side-bar-"+this.model.id).removeClass("side-bar-large");var b=this.$el;return b.find(".js-back-setting-response").next().remove(),b.find(".js-back-setting-response").after(new App.BoardSidebarView({model:this.model}).el),this.renderBoardUsers(),this.clearAll(),!1},renderBoardUsers:function(){$(".js-get-board-member-lists-response").html("");var a=this;this.model.board_users.sortBy("board_user_role_id"),this.model.board_users.each(function(b){b.board_user_roles=a.model.board_user_roles,a.$(".js-get-board-member-lists-response").append(new App.BoardUsersView({model:b}).el)})},boardUserAvatarDropdown:function(a){return a.preventDefault(),$(a.currentTarget).addClass("open"),$(a.currentTarget).siblings(".dropdown").removeClass("open"),!1},ClearBackground:function(a){$(a.currentTarget).data("background");$("body").removeAttr("style"),$("body").css("background-image","none"),this.model.url=api_url+"boards/"+this.model.id+".json",this.model.set("background_picture_url",""),this.model.set("background_pattern_url",""),this.model.set("custom_background_url",""),this.model.set("background_color",""),App.boards.get(this.model.id).set("background_picture_url",""),App.boards.get(this.model.id).set("background_pattern_url",""),App.boards.get(this.model.id).set("custom_background_url",""),App.boards.get(this.model.id).set("background_color",""),data={background_color:"NULL",background_picture_url:"NULL",background_pattern_url:"NULL",custom_background_url:"NULL"},this.model.save(data,{patch:!0});var b=$(".js-myboard-list");return b.html(""),_.isEmpty(App.boards.models)||_.each(App.boards.models,function(a){b.append(new App.MyBoardsListingView({model:a,authuser:authuser,attributes:{"class":"js-show-board-star"}}).el)}),!1},ClearMusic:function(a){return this.model.url=api_url+"boards/"+this.model.id+".json",this.model.set("music_name",""),this.model.set("music_content",""),data={music_name:"",music_content:""},this.model.save(data,{patch:!0}),App.music.music_content="",_.isUndefined(App.music.inst)||App.music.inst.silence(),this.footerView=new App.FooterView({model:authuser}).render(),$("#footer").html(this.footerView.el),!1},changeBackgroundImage:function(a){var b=$(a.currentTarget).data("background"),c="img/board_background/medium/"+b;return $("body").removeAttr("style").css({background:"url("+c+") 25% 25% no-repeat fixed","background-size":"cover"}).addClass("board-view-pattern board-view"),this.model.url=api_url+"boards/"+this.model.id+".json",
this.model.set("background_picture_url",c),this.model.set("background_pattern_url",""),this.model.set("custom_background_url",""),this.model.set("background_color",""),data={background_color:"NULL",background_picture_url:c,background_pattern_url:"NULL"},this.model.save(data,{patch:!0}),!1},changeBackgroundPattern:function(a){var b=$(a.currentTarget).data("background"),c="img/board_background/patterns/"+b;return $("body").removeAttr("style").css({background:"url("+c+")"}).addClass("board-view-pattern board-view"),this.model.url=api_url+"boards/"+this.model.id+".json",this.model.set("background_pattern_url",c),this.model.set("custom_background_url",""),this.model.set("background_picture_url",""),this.model.set("background_color",""),data={background_color:"NULL",background_picture_url:"NULL",background_pattern_url:c},this.model.save(data,{patch:!0}),!1},showArchivedListLists:function(){if(!(_.isUndefined(authuser.user)||1!=authuser.user.role_id&&_.isEmpty(this.model.acl_links.where({slug:"view_archived_lists",board_user_role_id:parseInt(this.model.board_user_role_id)})))){var a=this.$el;a.find(".js-archived-items-container").html(new App.ArchivedListsView({model:this.model}).el);var b=this.model.lists.where({is_archived:1});_.isEmpty(b)?($(".js-delete-all-archived-lists-confirm").addClass("hide"),a.find(".js-archived-cards-container").append(new App.ArchivedListView({model:null}).el)):($(".js-delete-all-archived-lists-confirm").removeClass("hide"),_.each(b,function(b){b.board=self.model,a.find(".js-archived-cards-container").append(new App.ArchivedListView({model:b}).el)}))}return!1},showFilteredArchivedListLists:function(a){if(!(_.isUndefined(authuser.user)||1!=authuser.user.role_id&&_.isEmpty(this.model.acl_links.where({slug:"view_archived_lists",board_user_role_id:parseInt(this.model.board_user_role_id)})))){var b=this.$el,c=$(a.currentTarget).val(),d="";if(d=_.isEmpty(c)?this.model.lists.where({is_archived:1}):this.model.lists.filter(function(a){return~a.get("name").indexOf(c)}),b.find(".js-archived-cards-container").html(""),_.isEmpty(d))b.find(".js-archived-cards-container").append(new App.ArchivedListView({model:null}).el);else{var e=0;_.each(d,function(a){1===parseInt(a.attributes.is_archived)&&(b.find(".js-archived-cards-container").append(new App.ArchivedListView({model:a}).el),e++)}),0===e&&b.find(".js-archived-cards-container").append(new App.ArchivedListView({model:null}).el)}}return!1},sendCardTobard:function(a){a.preventDefault();var b=$(a.currentTarget).data("card_id");this.model.cards.findWhere({id:parseInt(b)}).set("is_archived",0);var c=this.model.cards.findWhere({id:parseInt(b)});this.model.cards.get(c.id).set("is_archived",0),$(a.currentTarget).parents("li").remove();var d=new App.Card;return d.set("id",b),d.set("is_archived",0),d.url=api_url+"boards/"+this.model.attributes.id+"/lists/"+c.attributes.list_id+"/cards/"+b+".json",d.save({success:function(a,b){}}),!1},showSearchBoardMembers:function(a){if(13===a.which)return!1;var b=this,c=$("#inputBoardUserSearch").val(),d=new App.UserCollection;d.url=api_url+"users/search.json",d.fetch({data:{q:c},success:function(){$(".js-board-member-search-response").html("");var a=!0;_.each(d.models,function(c){var d=b.model.board_users.where({user_id:parseInt(c.id)});_.isEmpty(d)&&(a=!1,$(".js-board-member-search-response").append(new App.BoardMemberAddSearchResultView({model:c,board:b.model}).el))}),(0===d.models.length||a)&&$(".js-board-member-search-response").html('<span class="small">'+i18next.t("No %s available.",{postProcess:"sprintf",sprintf:[i18next.t("users")]})+"</span>")}})},switchGridView:function(a){$("body").addClass("modal-open"),a.preventDefault(),app.navigate("#/board/"+this.model.id,{trigger:!1,trigger_function:!1}),$("#content").html(new App.BoardView({model:this.model}).el),this.board_view_height()},boardRename:function(a){a.preventDefault();var b=this.$el,c=b.find("form#BoardRenameForm").serializeObject(),d=new App.Board;return this.model.set(c),App.boards.get(this.model.attributes.id).set(c),d.set(c),d.set("id",this.model.id),d.url=api_url+"boards/"+this.model.id+".json",d.save(c,{patch:!0}),$(".js-rename-board").html("<strong>"+_.escape(c.name)+"</strong>"),this.closeSpanPopover(a),!1},closeSpanPopover:function(a){var b=this.$el,c=b.find(a.target);return c.parents("span.dropdown").removeClass("open"),!1},saveBoardVisibility:function(a){a.preventDefault();var b=$(a.target);data=b.serializeObject(),data.board_visibility=1;var c=auth_user_organizations,d=c.findWhere({id:parseInt(data.organization_id)});this.model.set("organization_name",_.escape(d.attributes.name)),this.model.set("organization_logo_url",_.escape(d.attributes.organization_logo_url)),this.model.set("board_visibility",1),this.model.set("organization_id",parseInt(data.organization_id)),$(".js-sidebar-board-visibility").html("Change Visibility");new App.Board;return this.model.url=api_url+"boards/"+this.model.attributes.id+".json",this.closePopup(a),this.model.save(data,{patch:!0}),b.parents("div.dropdown").removeClass("open"),!1},showChangeOrganizationForm:function(a){var b=$(a.target),c=b.parents(".js-visibility-list-dropdown"),d=(this.model.attributes.board_visibility,$(".js-visibility-list",c));d.nextAll().remove(),$(new App.BoardOrganizationFormView({model:auth_user_organizations,board:this.model}).el).insertAfter(d)},changeBackgroundColor:function(a){var b=$(a.currentTarget).data("color");return $("body").removeAttr("style").css("background",b).addClass("board-view"),this.model.url=api_url+"boards/"+this.model.id+".json",this.model.set("background_color",b),this.model.set("background_picture_url",""),this.model.set("background_pattern_url",""),this.model.set("custom_background_url",""),data={background_color:b,background_picture_url:null,background_pattern_url:null},this.model.save(data,{patch:!0}),!1},sendListToboard:function(a){a.preventDefault();var b=$(a.currentTarget).data("list_id");this.$("#js-board-lists");this.model.lists.findWhere({id:parseInt(b)}).set("is_archived",0);var c=this.model.lists.findWhere({id:parseInt(b)});this.model.lists.get(c.id).set("is_archived",0),App.boards.get(c.attributes.board_id).lists.get(c.id).set("is_archived",0),$(a.currentTarget).parents("li").remove();var d=new App.List;return d.set("id",b),d.set("is_archived",0),d.url=api_url+"boards/"+this.model.attributes.id+"/lists/"+b+".json",self.model.attributes.lists.forEach(function(a){a.id===parseInt(b)&&(a.is_archived=0)}),d.save({success:function(a,b){}}),!1},toggleAdditionalSettings:function(a){var b=$(a.currentTarget);b.hasClass("js-AdditionalSettings-enabled")?(data={is_show_image_front_of_card:0},$("div.js-card-attachment-image").addClass("hide"),$(".js-AdditionalSettings-enabled").addClass("hide"),$(".js-AdditionalSettings-enable").removeClass("hide"),this.model.set("is_show_image_front_of_card",0)):(data={is_show_image_front_of_card:1},$("div.js-card-attachment-image").removeClass("hide"),$(".js-AdditionalSettings-enabled").removeClass("hide"),$(".js-AdditionalSettings-enable").addClass("hide"),this.model.set("is_show_image_front_of_card",1));var c=new App.Board;return c.url=api_url+"boards/"+this.model.attributes.id+".json",c.set("id",this.model.attributes.id),c.save(data),!1},toggleCardFilter:function(a){var b=$(a.currentTarget);return b.toggleClass("selected",!b.hasClass("selected")),this.cardFilter(),!1},cardFilter:function(a){var b=[],c=[],d=[];$("i.js-filter-icon").remove(),$(".js-show-modal-card-view").show();var e=Backbone.history.fragment.split("?"),f=e[0].split("/"),g="grid";3===f.length&&"list"==f[2]?g="list":3===f.length&&"gantt"==f[2]&&(g="gantt"),$("li.selected > div.js-label",$("ul.js-board-labels")).each(function(){b.push($(this).html()),0===$(this).next("i").length&&$(this).after('<i class="icon-ok js-filter-icon cur pull-right"></i>')}),$("li.selected > div.media > span.navbar-btn > span.js-user",$("ul.js-board-users")).each(function(){c.push($(this).html()),0===$(this).next("i").length&&$(this).parent().parent().append('<i class="icon-ok js-filter-icon cur pull-right"></i>')}),$("li.selected > div.media > span.js-due",$("ul.js-board-dues")).each(function(){d.push($(this).html()),0===$(this).next("i").length&&$(this).parent().parent().append('<i class="icon-ok js-filter-icon cur pull-right"></i>')});var h=[],j=[];_.isEmpty(b)||($("ul.js-card-labels li").filter(function(a){a=$.inArray($(this).text(),b),-1!==a&&(_.isUndefined(h[a])&&(h[a]=[]),"list"==g?h[a].push($(this).parent().parent().find("div").attr("id")):h[a].push($(this).parent().parent().attr("id")))}),b.length!=h.length&&(h=[])),_.isEmpty(h)||(j=h.shift().filter(function(a){return h.every(function(b){return-1!==b.indexOf(a)})}));var k=[],l=[];_.isEmpty(c)||($("ul.js-card-users li").filter(function(a){a=$.inArray($(this).text(),c),-1!==a&&(_.isUndefined(k[a])&&(k[a]=[]),"list"==g?k[a].push($(this).parent().parent().find("div").attr("id")):k[a].push($(this).parent().parent().attr("id")))}),c.length!=k.length&&(k=[])),_.isEmpty(k)||(l=k.shift().filter(function(a){return k.every(function(b){return-1!==b.indexOf(a)})}));var m=[],n=[];_.isEmpty(d)||($("ul.js-card-due li").filter(function(a){a=$.inArray($(this).text(),d),-1!==a&&(_.isUndefined(m[a])&&(m[a]=[]),"list"==g?m[a].push($(this).parent().parent().find("div").attr("id")):m[a].push($(this).parent().parent().attr("id")))}),d.length!=m.length&&(m=[])),_.isEmpty(m)||(n=m.shift().filter(function(a){return m.every(function(b){return-1!==b.indexOf(a)})}));var o=[];if(_.isEmpty(b)||o.push(j),_.isEmpty(c)||o.push(l),_.isEmpty(d)||o.push(n),_.isEmpty(o))b.length||c.length||d.length?$(".js-show-modal-card-view").hide():"gantt"==g&&_.isEmpty(b)&&_.isEmpty(c)&&_.isEmpty(d)&&(gantt_card_ids=[],this.ganttView(gantt_card_ids,!1));else{var p=o.shift().filter(function(a){return o.every(function(b){return-1!==b.indexOf(a)})}),q="",r="";for(i=0;i<p.length;i++)q+="#"+p[i]+", ",r+=":not(#"+p[i]+")";q=q.substring(0,q.lastIndexOf(", ")),"gantt"==g?(gantt_card_ids=[],_.each(q.replace(/#js-card-/g,"").split(","),function(a){gantt_card_ids.push(parseInt(a))}),this.ganttView(gantt_card_ids,!0)):($(q).show(),$(".js-show-modal-card-view"+r).hide())}$(".js-clear-all").hasClass("text-muted")&&$(".js-clear-all").removeClass("text-muted")},computerOpenBoardBackground:function(a){$(a.target);$("#js-custom-background-attachment").remove();var b=$("#js-board-custom-background-form");return $(b).append('<input class="hide" type="file" name="attachment" id="js-custom-background-attachment">'),$("#js-custom-background-attachment",b).trigger("click"),!1},addBoardBackground:function(a){a.preventDefault();var b=this;$("#custom-dropzone-cssloader").addClass("cssloader");var c=$("#js-board-custom-background-form"),d=($(a.target),new FormData(c[0]));this.model.url=api_url+"boards/"+this.model.id+"/custom_backgrounds.json",this.model.save(d,{type:"POST",data:d,processData:!1,cache:!1,contentType:!1,success:function(a,c){$("#custom-dropzone-cssloader").removeClass("cssloader"),c.error?b.flash("danger",i18next.t("File extension not supported. It supports only jpg, png, bmp and gif.")):(b.model.set({background_picture_url:""},{silent:!0}),b.model.set({background_picture_url:c.background_picture_url+"?"+Date.now()}))}})},noAction:function(a){return a.preventDefault(),!1},setPrivteBoard:function(a){a.preventDefault(),this.model.url=api_url+"boards/"+this.model.attributes.id+".json",this.model.set({board_visibility:0,organization_id:0}),this.closePopup(a),this.model.save({board_visibility:0,organization_id:0},{patch:!0});var b=$(a.target);return b.parents("div.dropdown").removeClass("open"),!1},setPublicBoard:function(a){a.preventDefault(),this.model.url=api_url+"boards/"+this.model.attributes.id+".json",this.model.set({board_visibility:2,organization_id:0}),this.closePopup(a),this.model.save({board_visibility:2,organization_id:0},{patch:!0});var b=$(a.target);return b.parents("div.dropdown").removeClass("open"),!1},clearAll:function(){$(".js-board-dues, .js-board-users, .js-board-labels").find(".js-filter-icon").remove(),$(".js-board-dues, .js-board-users, .js-board-labels").children().removeClass("selected"),$(".js-clear-all").addClass("text-muted"),$(".js-show-modal-card-view").show();var a=Backbone.history.fragment.split("?"),b=a[0].split("/");return"gantt"==b[2]&&(gantt_card_ids=[],this.ganttView(gantt_card_ids,!1)),!1},showBoardOrganization:function(a){return a.preventDefault(),this.$(".js-back-to-board-visibility").removeClass("hide"),this.showChangeOrganizationForm(a),!1},selectBoardVisibility:function(a){var b=$(a.currentTarget).attr("name"),c=0,d='<i class="icon-lock"></i>'+i18next.t("Private");return $("#js-board-add-organization").html(""),"org"==b?(c=1,d='<i class="icon-group"></i>'+i18next.t("Organization"),$("#js-change-visible-content").html(d),this.showBoardAddeOrganizationForm(a)):"public"==b&&(d='<i class="icon-circle"></i>'+i18next.t("Public"),c=2),$("#inputBoardCopyVisibility").val(c),$("#js-change-visible-content").html(d),$(".js-visibility-chooser-copy-board-dropdown").removeClass("open"),$(".js-visibility-chooser-copy-board").nextAll().remove(),!1},showBoardAddeOrganizationForm:function(a){a.preventDefault(),organizations=auth_user_organizations,null!==auth_user_organizations&&_.isUndefined(auth_user_organizations.models)&&organizations.add(JSON.parse(auth_user_organizations)),auth_user_organizations=organizations,$("#js-board-add-organization").html(new App.BoardAddOrganizationFormView({model:auth_user_organizations}).el)},keyboardShowFilters:function(a){return $(".js-open-dropdown").trigger("click"),$(".js-show-filters").trigger("click"),!0},keyboardOpenDropdown:function(a){return $(".js-setting-response").parents().hasClass("open")?$(".js-setting-response").parents().removeClass("open"):$(".js-open-dropdown").trigger("click"),!1},keyboardClearAll:function(a){return $(".js-clear-all").trigger("click"),!1},keyboardToggleCardFilter:function(a){return $(".js-open-dropdown").trigger("click"),$(".js-show-filters").trigger("click"),$(".js-board-users").find(".js-user").each(function(){$(this).text()=="user-filter-"+authuser.user.id&&$(this).parents("li.js-toggle-member-filter").trigger("click")}),!1},keyboardUpNavigateCards:function(a){if(!$(".js-board-list .js-board-list-cards .js-board-list-card").hasClass("active"))return $(".js-board-list .js-board-list-cards .js-board-list-card:eq(0)").addClass("active"),void $(".js-board-list .js-board-list-cards .active").parent().animate({scrollTop:$(".js-board-list .js-board-list-cards .active").parent().scrollTop()-100},50);var b=$(".js-board-list .js-board-list-cards .active");$(b).prev().length&&($(b).removeClass("active").prev().addClass("active"),$(".js-board-list .js-board-list-cards .active").parent().animate({scrollTop:$(".js-board-list .js-board-list-cards .active").parent().scrollTop()-100},50))},keyboardDownNavigateCards:function(a){if(!$(".js-board-list .js-board-list-cards .js-board-list-card").hasClass("active"))return $(".js-board-list .js-board-list-cards .js-board-list-card:eq(0)").addClass("active"),void $(".js-board-list .js-board-list-cards .active").parent().animate({scrollTop:$(".js-board-list .js-board-list-cards .active").parent().scrollTop()+100},50);var b=$(".js-board-list .js-board-list-cards .active");$(b).next().length&&($(b).removeClass("active").next().addClass("active"),$(".js-board-list .js-board-list-cards .active").parent().animate({scrollTop:$(".js-board-list .js-board-list-cards .active").parent().scrollTop()+100},50))},keyboardLeftNavigateCards:function(a){if(!$(".js-board-list .js-board-list-cards .js-board-list-card").hasClass("active"))return void $(".js-board-list .js-board-list-cards .js-board-list-card:eq(0)").addClass("active");var b=$(".js-board-list .js-board-list-cards .active"),c=$(".js-board-list .js-board-list-cards .active").index(),d=0,e=$(b).parents(".js-board-list").prev();do{if(prev_list_card=e.find(".js-board-list-card").length,0!==prev_list_card){$("#js-board-lists").animate({scrollLeft:e.find(".js-board-list-card").parent().parent().offset().left+$("#js-board-lists").scrollLeft()},"slow"),c>prev_list_card-1?($(b).removeClass("active"),$(e).find(".js-board-list-card").eq(0).addClass("active")):($(b).removeClass("active"),$(e).find(".js-board-list-card").eq(c).addClass("active")),$(".js-board-list .js-board-list-cards .active").parent().animate({scrollTop:0},"slow");break}if(e=e.prev(),!$(e).length)break}while(0===d)},keyboardRightNavigateCards:function(a){if(!$(".js-board-list .js-board-list-cards .js-board-list-card").hasClass("active"))return void $(".js-board-list .js-board-list-cards .js-board-list-card:eq(0)").addClass("active");var b=$(".js-board-list .js-board-list-cards .active"),c=$(".js-board-list .js-board-list-cards .active").index(),d=0,e=$(b).parents(".js-board-list").next();do if(d=e.find(".js-board-list-card").length,0===d){if(e=e.next(),!$(e).length)break}else $("#js-board-lists").animate({scrollLeft:e.find(".js-board-list-card").parent().parent().offset().left+$("#js-board-lists").scrollLeft()},"slow"),c>d-1?($(b).removeClass("active"),$(e).find(".js-board-list-card").eq(0).addClass("active")):($(b).removeClass("active"),$(e).find(".js-board-list-card").eq(c).addClass("active")),$(".js-board-list .js-board-list-cards .active").parent().animate({scrollTop:0},"slow");while(0===d)},keyboardShowCardModal:function(a){if($(".js-board-list .js-board-list-cards .js-board-list-card").hasClass("active")){var b=$(".js-board-list-card.active").attr("id");$("#"+b).trigger("click")}},keyboardShowPrevCardModal:function(a){var b=$(".js-board-list .js-board-list-cards .active");if($(b).prev().length){$(".action-close",$(".dockmodal.active")).trigger("click"),$(b).removeClass("active").prev().addClass("active");var c=$(".js-board-list-card.active").attr("id");$("#"+c).trigger("click")}},keyboardShowNextCardModal:function(a){var b=$(".js-board-list .js-board-list-cards .active");if($(b).next().length){$(".action-close",$(".dockmodal.active")).trigger("click"),$(b).removeClass("active").next().addClass("active");var c=$(".js-board-list-card.active").attr("id");$("#"+c).trigger("click")}},showChatListModal:function(a){var b=new App.ModalBoardView({model:this.model});return b.show(),!1},showChatHistoryModal:function(a){var b=new App.ModalChatHistoryView({model:this.model});return b.show(),!1}}),"undefined"==typeof App&&(App={}),App.StarredBoardsIndexView=Backbone.View.extend({initialize:function(){_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.render()},template:JST["templates/starred_boards_index"],tagName:"section",className:"clearfix",events:{"click .js-delete-board":"deleteBoard"},deleteBoard:function(a){if(confirm($(a.currentTarget).data("confirm"))){var b=$(a.currentTarget).attr("href"),c=new App.Board;c.url=api_url+b+".json",c.set("id","-1"),c.destroy({success:function(){Backbone.history.loadUrl()}})}return!1},render:function(){return this.$el.html(this.template({board:this.model})),this.showTooltip(),this}}),"undefined"==typeof App&&(App={}),App.OrganizationDeleteFormView=Backbone.View.extend({initialize:function(a){_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.render()},template:JST["templates/organization_delete_form"],events:{"click .js-close-popover":"closePopup","click .js-delete-organization":"deleteOrganization"},render:function(){return this.$el.html(this.template({organization:this.model})),this.showTooltip(),this},deleteOrganization:function(a){var b=this,c=$(a.currentTarget);return c.parents("li.dropdown").removeClass("open"),this.model.url=api_url+"organizations/"+this.model.id+".json",this.model.set("id",this.model.id),this.flash("success",i18next.t("Organization deleted successfully.")),auth_user_organizations.remove(b.model),this.model.destroy({success:function(a,b){app.navigate("#/organizations",{trigger:!0,replace:!0})}}),!1},closePopup:function(a){var b=$(a.target);return b.parents("li.dropdown").removeClass("open"),b.parents("div.btn-group").removeClass("open"),!1}}),"undefined"==typeof App&&(App={}),App.Error404View=Backbone.View.extend({initialize:function(){_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.render()},template:JST["templates/error_404"],tagName:"section",render:function(){return this.$el.html(this.template({message:this.model})),this}}),"undefined"==typeof App&&(App={}),App.BoardIndexHeaderView=Backbone.View.extend({template:JST["templates/board_index_header"],className:"navbar navbar-default",id:"js-navbar-default",attributes:{role:"navigation"},events:{"click .js-close-popover":"closePopup"},initialize:function(){_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.render()},render:function(){return this.$el.html(this.template({page_title:this.model})),this.showTooltip(),this},closePopup:function(a){var b=$(a.target);return b.parents("li.dropdown").removeClass("open"),!1}}),"undefined"==typeof App&&(App={}),App.AboutusView=Backbone.View.extend({initialize:function(){this.render()},template:JST["templates/about_us"],tagName:"section",className:"row",render:function(){return this.$el.html(this.template()),this.showTooltip(),this}}),"undefined"==typeof App&&(App={}),App.ClosedBoardsIndexView=Backbone.View.extend({initialize:function(){_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.render()},template:JST["templates/closed_boards_index"],tagName:"section",className:"clearfix",events:{"click .js-delete-board":"deleteBoard"},deleteBoard:function(a){if(confirm($(a.currentTarget).data("confirm"))){var b=$(a.currentTarget).attr("href"),c=new App.Board;c.url=api_url+b+".json",c.set("id","-1"),c.destroy({success:function(){Backbone.history.loadUrl()}})}return!1},render:function(){return this.$el.html(this.template({board:this.model})),this.showTooltip(),this}}),"undefined"==typeof App&&(App={}),App.ActivityIndexView=Backbone.View.extend({initialize:function(a){_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.id=a.id,this.getListing(),this.render(),this.last_activity_id=0},events:{"click #js-admin-activites-load-more":"loadActivities"},template:JST["templates/activity_index"],converter:new showdown.Converter,getListing:function(){self=this,_.isUndefined(this.id)&&(this.id=1);var a=new App.ActivityCollection;a.url=api_url+"activities.json",a.fetch({cache:!1,abortPending:!0,success:function(b,c){if(_.isEmpty(a.models)){var d=this.$("#js-admin-activity-list"),e=new App.AdminActivityIndexView({model:null});d.html(e.el)}else{self.renderActivitiesCollection(a);var f=_.min(a.models,function(a){return a.id});self.last_activity_id=f.id,self.$("#js-admin-activites-load-more").removeClass("hide")}}})},render:function(a){return this.$el.html(this.template({type:"all"})),this.$(".timeago").timeago(),$(".js-admin-activity-menu").addClass("active"),$(".js-admin-email-menu, .js-admin-user-menu, .js-admin-role-menu, .js-admin-setting-menu, .js-admin-board-menu").removeClass("active"),this},loadActivities:function(){var a=this,b=0!==this.last_activity_id?"?last_activity_id="+this.last_activity_id:"",c=new App.ActivityCollection;c.url=api_url+"activities.json"+b,c.fetch({cache:!1,success:function(b,d){if(!_.isEmpty(c)&&!_.isEmpty(c.models)){var e=_.min(c.models,function(a){return a.id});a.last_activity_id=e.id,a.renderActivitiesCollection(c)}}})},renderActivitiesCollection:function(a){$(".js-admin-activity-menu").addClass("active"),$(".js-admin-email-menu, .js-admin-user-menu, .js-admin-role-menu, .js-admin-setting-menu, .js-admin-board-menu").removeClass("active");var b=this.$("#js-admin-activity-list");if(!_.isEmpty(a))for(var c=0;c<a.models.length;c++){var d=a.models[c],e=new App.AdminActivityIndexView({model:d});b.append(e.el).find(".timeago").timeago()}}}),"undefined"==typeof App&&(App={}),App.AdminActivityIndexView=Backbone.View.extend({initialize:function(){_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.render(),emojify.run()},template:JST["templates/admin_activity_index"],converter:new showdown.Converter,tagName:"li",className:"row col-xs-12",events:{"click .js-undo2":"undo_all"},render:function(){this.$el.html(this.template({activity:this.model,type:"all",converter:this.converter})),this.$(".timeago").timeago()},undo_all:function(a){var b=this;return a.preventDefault(),this.model.url=api_url+"activities/undo/"+this.model.id+".json",this.model.save({},{patch:!0,success:function(a,c){b.flash("danger",i18next.t("Undo Succeed")),emojify.run()}}),!1}}),"undefined"==typeof App&&(App={}),App.ShowSyncGoogleCalendarView=Backbone.View.extend({tagName:"li",initialize:function(){_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.render()},template:JST["templates/show_sync_google_calendar"],render:function(){return this.$el.html(this.template({url:this.model.attributes.google_syn_url})),this.$el.find("input.js-syn-calendar-response").val(this.model.attributes.google_syn_url),this.showTooltip(),this}}),"undefined"==typeof App&&(App={}),App.ShowCopyBoardView=Backbone.View.extend({tagName:"li",initialize:function(){_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.render()},template:JST["templates/show_copy_board"],events:{"submit #BoardCopyForm":"copyNewBoard"},render:function(){return this.$el.html(this.template({board:this.model})),$(".js-filter-parent").addClass("open"),this.showTooltip(),this},copyNewBoard:function(a){a.preventDefault();var b=this,c=$(a.target).serializeObject();c.user_id=authuser.user.id;var d=new App.Board;return d.url=api_url+"boards/"+this.model.id+"/copy.json",d.save(c,{success:function(a,c){_.isUndefined(d.get("id"))?b.flash("danger",i18next.t("Unable to copy the board.")):(app.navigate("#/board/"+d.get("id"),{trigger:!0,replace:!0}),b.flash("success",i18next.t("Board copied successfully.")))}}),!1}}),"undefined"==typeof App&&(App={}),App.MusicRepeatView=Backbone.View.extend({initialize:function(){},continueMusic:function(a){var b=new App.MusicRepeatView,c=App.music.music_content;_.isUndefined(App.music)||void 0===c||""===c||null===c||navigator.userAgent.match(/Trident/)||(App.music.inst.setTimbre({wave:"piano"}),_.isUndefined(authuser.user)?_.isUndefined(window.sessionStorage.getItem("music_play"))||"1"!==window.sessionStorage.getItem("music_play")?App.music.inst.silence():App.music.inst.play(c,b.continueMusic):1===parseInt(authuser.user.is_productivity_beats)?App.music.inst.play(c,b.continueMusic):App.music.inst.silence())}}),"undefined"==typeof App&&(App={}),App.AdminBoardView=Backbone.View.extend({initialize:function(a){var b=this;_.each(this.model.attributes.boards_users,function(a){b.model.board_users.add(a)}),_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.message=a.message,this.starred_boards=a.starred_boards,this.model.board_user_roles=a.board_user_roles,_.bindAll(this,"render"),null!==this.model&&(this.model.collection.bind("change",this.render),this.model.collection.bind("add",this.render),this.model.collection.bind("remove",this.render)),App.boards.bind("change",this.render),this.renderAdminBoardUsers(),this.render()},template:JST["templates/admin_board_view"],tagName:"tr",className:"",events:{"click .js-close-popover":"closePopup","click .js-star-board":"starBoard","click .js-board-inner-view":"showBoard","click .js-board-visibility":"showBoardVisibility","click .js-set-privte-board":"setPrivteBoard","click .js-set-public-board":"setPublicBoard","click .js-show-board-organization":"showBoardOrganization","submit .js-save-board-visibility":"saveBoardVisibility","click .js-close-span-popover":"closeSpanPopover","click .js-back-to-board-visibility":"showBoardVisibility"},render:function(){if(this.$el.html(this.template({board:this.model,message:this.message,starred_boards:this.starred_boards})),null!==this.model){this.model.lists.sortByColumn("position");var a=[],b=["#DB7093","#F47564","#EDA287","#FAC1AD","#FFE4E1","#D3ABF0","#DC9CDC","#69BFBA","#66CDAA","#8FBC8F","#CBFDCA","#EEE8AA","#BC8F8F","#CD853F","#D2B48C","#F5DEB3","#64BCF2","#87CEFA","#B0C4DE","#D6E2F7"],c=0;this.model.lists.each(function(d){if(!d.attributes.is_archived){var e={};e.title=d.attributes.name,e.value=d.attributes.card_count,e.color=b[c],c++,c>20&&(c=0),d.attributes.card_count>0&&a.push(e)}})}return this.showTooltip(),this},renderAdminBoardUsers:function(){if(null!==this.model.attributes.boards_users&&!_.isUndefined(this.model.attributes.boards_users)){var a=this.model.attributes.boards_users.filter(function(a){return 1===parseInt(a.board_user_role_id)});this.model.admin_board_users=a;var b=this.model.attributes.boards_users.filter(function(a){return 1!=parseInt(a.board_user_role_id)});this.model.normal_board_users=b,this.render()}},closeSpanPopover:function(a){return $(".js-close-span-popover").parents("span.dropdown").removeClass("open"),!1},starBoard:function(a){a.preventDefault();var b=$(a.currentTarget).attr("name"),c="unstar",d=1,e=this,f='<i class="icon-star text-primary"></i>';"unstar"==b&&(c="star",d=0,f='<i class="icon-star-empty"></i>'),$(a.currentTarget).attr("name",c),$(a.currentTarget).html(f),e.boardStar=new App.BoardStar;var g={};return e.boardStar.url=api_url+"boards/"+this.model.id+"/boards_stars.json",e.boardStar.set("board_id",this.model.attributes.id),e.boardStar.set("user_id",parseInt(authuser.user.id)),e.boardStar.set("is_starred",d),d?(_.isUndefined(this.starred_boards)||this.starred_boards.push(e.model.id),0!==this.starred_boards.length&&$("#js-starred-board-empty").remove(),$(".js-header-starred-boards").append(new App.BoardSimpleView({model:e.model,id:"js-starred-board-"+e.model.attributes.id,className:"col-lg-3 col-md-3 col-sm-4 col-xs-12 media-list js-board-view js-board-view-"+e.model.attributes.id,starred_boards:e.starred_boards}).el)):(this.starred_boards.splice($.inArray(parseInt(e.model.id),this.starred_boards),1),$("#js-starred-board-"+e.model.id).remove(),(0===this.starred_boards.length||0===$(".js-header-starred-boards > .js-board-view").length)&&$(".js-header-starred-boards").append(new App.BoardSimpleView({model:null,message:i18next.t("No %s available.",{postProcess:"sprintf",sprintf:[i18next.t("starred boards")]}),id:"js-starred-board-empty",className:"col-lg-3 col-md-3 col-sm-4 col-xs-12 media-list"}).el)),e.boardStar.save(g,{success:function(a,b){App.boards.get(e.model.attributes.id).boards_stars.reset(e.boardStar),e.model.boards_stars.add(e.boardStar)}}),!1},showBoardVisibility:function(a){var b=$(a.currentTarget);this.$(".js-back-to-board-visibility").addClass("hide");var c=this.model.attributes.board_visibility,d=$(".js-visibility-list",b.next(".dropdown-menu"));d.nextAll().remove(),$(new App.ShowBoardVisibilityView({model:c}).el).insertAfter(d)},closePopup:function(a){var b=this.$el,c=b.find(a.target);return c.parents(".dropdown").removeClass("open"),!1},showBoard:function(a){a.preventDefault(),this.$el.removeClass("col-lg-3 col-md-3 col-sm-4").html(new App.BoardView({model:this.model}).el)},showChangeOrganizationForm:function(a){var b=$(a.currentTarget),c=b.parents(".dropdown-menu"),d=(this.model.attributes.board_visibility,$(".js-visibility-list",c));d.nextAll().remove(),$(new App.BoardOrganizationFormView({model:auth_user_organizations,board:this.model}).el).insertAfter(d)},setPrivteBoard:function(a){a.preventDefault(),this.model.url=api_url+"boards/"+this.model.attributes.id+".json",this.model.set({board_visibility:0,organization_id:0}),this.closePopup(a),this.model.save({board_visibility:0,organization_id:0},{patch:!0});var b=$(a.target);return b.parents("div.dropdown").removeClass("open"),!1},setPublicBoard:function(a){a.preventDefault(),this.model.url=api_url+"boards/"+this.model.attributes.id+".json",this.model.set({board_visibility:2,organization_id:0}),this.closePopup(a),this.model.save({board_visibility:2,
organization_id:0},{patch:!0});var b=$(a.target);return b.parents("div.dropdown").removeClass("open"),!1},showBoardOrganization:function(a){return a.preventDefault(),this.$(".js-back-to-board-visibility").removeClass("hide"),this.showChangeOrganizationForm(a),!1},saveBoardVisibility:function(a){a.preventDefault();var b=$(a.target);data=b.serializeObject(),data.board_visibility=1;var c=auth_user_organizations,d=c.findWhere({id:parseInt(data.organization_id)});this.model.set("organization_name",_.escape(d.attributes.name)),this.model.set("organization_logo_url",_.escape(d.attributes.organization_logo_url)),this.model.set("board_visibility",1),this.model.set("organization_id",parseInt(data.organization_id)),$(".js-sidebar-board-visibility").html(i18next.t("Change Visibility"));new App.Board;return this.model.url=api_url+"boards/"+this.model.attributes.id+".json",this.closePopup(a),this.model.save(data,{patch:!0}),b.parents("div.dropdown").removeClass("open"),!1}}),"undefined"==typeof App&&(App={}),App.AdminBoardsIndexView=Backbone.View.extend({initialize:function(a){this.sortField=a.sortField,this.filter_count=a.filter_count,this.sortDirection=a.sortDirection,_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.render()},template:JST["templates/admin_board_index"],tagName:"section",className:"clearfix",events:{"change .js-more-action-user":"boardsMoreActions","click .js-delete-board":"deleteBoard","click .js-sort":"sortBoard","click .js-filter":"filterBoard","submit form#BoardSearch":"boardSearch"},deleteBoard:function(a){if(confirm($(a.currentTarget).data("confirm"))){var b=$(a.currentTarget).attr("href"),c=new App.Board;c.url=api_url+b+".json",c.set("id","-1"),c.destroy({success:function(){Backbone.history.loadUrl()}})}return!1},render:function(){return this.$el.html(this.template({board:this.model,filter_count:this.filter_count})),_.isUndefined(this.sortField)||this.renderBoardCollection(),$(".js-admin-board-menu").addClass("active"),$(".js-admin-activity-menu, .js-admin-setting-menu, .js-admin-email-menu, .js-admin-role-menu, .js-admin-user-menu").removeClass("active"),this.showTooltip(),this},renderBoardCollection:function(){var a=this.$el.find(".js-my-boards");return this.model.setSortField(this.sortField,this.sortDirection),this.model.sort(),this.model.each(function(b){a.append(new App.AdminBoardView({model:b,board_user_roles:b.board_user_roles}).el)}),this},filterBoard:function(a){var b=this;b.current_page=_.isUndefined(b.current_page)?1:b.current_page,b.filterField=_.isUndefined(a)?b.filterField:$(a.currentTarget).data("filter");var c=new App.BoardCollection;_.isUndefined(a)||(b.current_page=1),$(".js-my-boards").html('<tr class="js-loader"><td colspan="12"><span class="cssloader"></span></td></tr>'),c.url=api_url+"boards.json?page="+b.current_page+"&filter="+b.filterField,app.navigate("#/boards/list?page="+b.current_page+"&filter="+b.filterField,{trigger:!1,trigger_function:!1}),c.fetch({cache:!1,abortPending:!0,success:function(a,c){$(".js-my-boards").html(""),0!==a.length?a.each(function(a){$(".js-my-boards").append(new App.AdminBoardView({model:a,board_user_roles:c.board_user_roles}).el)}):$(".js-my-boards").html('<tr><td class="text-center" colspan="12">No record found</td></tr>'),$(".js-filter-list").children().removeClass("active"),$("[data-filter="+b.filterField+"]").parent().addClass("active"),$(".js-my-boards").find(".timeago").timeago(),$(".pagination-boxes").unbind(),$(".pagination-boxes").pagination({total_pages:c._metadata.noOfPages,current_page:b.current_page,display_max:4,callback:function(a,c){a.preventDefault(),c&&(b.current_page=c,b.filterBoard())}})}})},boardSearch:function(a){var b=this;b.current_page=_.isUndefined(b.current_page)?1:b.current_page,b.searchField=$("#board_search").val();var c=new App.BoardCollection;return $(".js-my-boards").html('<tr class="js-loader"><td colspan="12"><span class="cssloader"></span></td></tr>'),_.isUndefined(b.searchField)||_.isUndefined(b.searchField)||(c.url=api_url+"boards.json?page="+b.current_page+"&search="+b.searchField),c.fetch({cache:!1,abortPending:!0,success:function(a,c){$(".js-my-boards").html(""),0!==a.length?a.each(function(a){$(".js-my-boards").append(new App.AdminBoardView({model:a,board_user_roles:c.board_user_roles}).el)}):$(".js-my-boards").html('<tr><td class="text-center" colspan="15">No record found</td></tr>'),$(".js-my-boards").find(".timeago").timeago(),$(".pagination-boxes").unbind(),$(".pagination-boxes").pagination({total_pages:c._metadata.noOfPages,current_page:b.current_page,display_max:4,callback:function(a,c){a.preventDefault(),c&&(b.current_page=c,b.sortBoard())}})}}),!1},sortBoard:function(a){var b=this;b.current_page=_.isUndefined(b.current_page)?1:b.current_page,b.sortField=_.isUndefined(a)?b.sortField:$(a.currentTarget).data("field"),b.sortDirection=_.isUndefined(a)?b.sortDirection:$(a.currentTarget).data("direction");var c=new App.BoardCollection;$(".js-my-boards").html('<tr class="js-loader"><td colspan="12"><span class="cssloader"></span></td></tr>'),_.isUndefined(b.sortDirection)||_.isUndefined(b.sortField)?(c.url=api_url+"boards.json?page="+b.current_page,app.navigate("#/boards/list?page="+b.current_page,{trigger:!1,trigger_function:!1})):(c.setSortField(b.sortField,b.sortDirection),c.url=api_url+"boards.json?page="+b.current_page+"&sort="+b.sortField+"&direction="+b.sortDirection,app.navigate("#/boards/list?page="+b.current_page+"&sort="+b.sortField+"&direction="+b.sortDirection,{trigger:!1,trigger_function:!1})),_.isUndefined(a)||("desc"==$(a.currentTarget).data("direction")?($(a.currentTarget).data("direction","asc"),$("span.icon-caret-up").addClass("hide"),$("span.icon-caret-down").addClass("hide"),$(a.currentTarget).siblings("span").removeClass("hide"),$(a.currentTarget).find("span").removeClass("hide"),$(a.currentTarget).find("span").removeClass("icon-caret-down").addClass("icon-caret-up"),$(a.currentTarget).siblings("span").removeClass("icon-caret-down").addClass("icon-caret-up")):($(a.currentTarget).data("direction","desc"),$("span.icon-caret-up").addClass("hide"),$("span.icon-caret-down").addClass("hide"),$(a.currentTarget).siblings("span").removeClass("hide"),$(a.currentTarget).find("span").removeClass("hide"),$(a.currentTarget).find("span").removeClass("icon-caret-up").addClass("icon-caret-down"),$(a.currentTarget).siblings("span").removeClass("icon-caret-up").addClass("icon-caret-down"))),c.fetch({cache:!1,abortPending:!0,success:function(a,c){$(".js-my-boards").html(""),a.each(function(a){$(".js-my-boards").append(new App.AdminBoardView({model:a,board_user_roles:c.board_user_roles}).el)}),$(".js-my-boards").find(".timeago").timeago(),$(".pagination-boxes").unbind(),$(".pagination-boxes").pagination({total_pages:c._metadata.noOfPages,current_page:b.current_page,display_max:4,callback:function(a,c){a.preventDefault(),c&&(b.current_page=c,b.sortBoard())}})}})},boardsMoreActions:function(a){var b=this;if(_.isUndefined($(".js-checkbox-list:checked").val()))return alert("Please select atleast one record!"),$("#js-more-action").val("0"),!1;if(!window.confirm(i18next.t("Are you sure you want to do this action?")))return $("#js-more-action").val("0"),!1;var c=Backbone.Model.extend({}),d=Backbone.BatchCollection.extend({model:c,url:api_url+"boards/bulk_action.json?token="+api_token}),e=new d,f={};$(":checkbox:checked").each(function(a){f[a]={},f[a].board_id=$(this).val()}),f.action_id={},f.action_id.action_id=$("#js-more-action option:selected").val(),e.add(f,{silent:!0}),e.save({success:function(a){_.isEmpty(a.success)||(b.flash("success",i18next.t("Checked boards are closed successfully.")),app.navigate("#/boards/list",{trigger:!0}))}})}}),"undefined"==typeof App&&(App={}),App.EmailToBoardSettingView=Backbone.View.extend({tagName:"li",template:JST["templates/email_to_board_setting"],initialize:function(){_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.render()},events:{"change .js-select-list, .js-select-position":"updateDefaultEmailDetail","click .js-select-list, .js-select-position, .js-board-email":"updateDefaultEmailDetail"},render:function(){var a=IMAP_EMAIL.split("@"),b=a[0]+"+"+this.model.id+"+"+calcMD5(SecuritySalt+this.model.id)+"@"+a[1];return this.$el.html(this.template({board:this.model,board_email:b})),this.showTooltip(),this},updateDefaultEmailDetail:function(a){var b={};if($(a.currentTarget).hasClass("js-select-list")?b={default_email_list_id:$(a.currentTarget).val()}:$(a.currentTarget).hasClass("js-select-position")&&(b={is_default_email_position_as_bottom:$(a.currentTarget).val()}),!_.isEmpty(b)){var c=new App.Board;this.model.set(b),App.boards.get(this.model.attributes.id).set(b),c.set(b),c.set("id",this.model.id),c.url=api_url+"boards/"+this.model.id+".json",c.save(b,{patch:!0})}return!1}}),"undefined"==typeof App&&(App={}),App.QrCodeView=Backbone.View.extend({template:JST["templates/qr_code"],initialize:function(a){this.render()},render:function(){return this.$el.html(this.template()).attr("title",i18next.t("View in iOS App")),this.$el.dockmodal({initialState:"docked",height:300,width:400,animationSpeed:ANIMATION_SPEED}),this.showTooltip(),this}}),"undefined"==typeof App&&(App={}),App.UserDashboardView=Backbone.View.extend({initialize:function(){this.render()},events:{"click .dashboard-search":"dashboardSearch"},template:JST["templates/user_dashboard"],render:function(){var a={},b="";if(!_.isEmpty(authuser.user.profile_picture_path)){var c=calcMD5(SecuritySalt+"User"+authuser.user.id+"pngmedium_thumb");b=window.location.pathname+"img/medium_thumb/User/"+authuser.user.id+"."+c+".png"}return a.user_profile_picture=b,a.user=authuser.user,a.organizations=auth_user_organizations.models,a.dashboard=this.model,this.$el.html(this.template({data:a})),this.showTooltip(),this},dashboardSearch:function(a){var b=$(a.currentTarget).data("search");b="due:"+b;var c=new App.ElasticSearchCollection;return c.url=api_url+"search.json",c.fetch({data:{q:b,token:api_token},success:function(a,c){c=c,c.result.search_term=b,app.navigate("#/search/"+b,{trigger:!1,trigger_function:!1,replace:!0}),$("#search-page-result-block").html(new App.SearchPageResultView({model:c}).el),$("#search-page-result").removeClass("search-block").addClass("search-block-main-hover");var d=$(window).height()-38;$(".search-block-main-hover").css("height",d+"px")}}),!1}}),"undefined"==typeof App&&(App={}),App.SearchPageResultView=Backbone.View.extend({template:JST["templates/search_page_result"],initialize:function(a){this.render()},events:{"click .js-open-search-model-card-view":"showSearchModalCardView","click .js-load-more-search":"loadMoreSearch"},render:function(){return this.$el.html(this.template({search_result:this.model.result})),this.showTooltip(),this},showSearchModalCardView:function(a){var b=(new App.Card,$(a.currentTarget).data("board_id")),c=$(a.currentTarget).data("list_id"),d=$(a.currentTarget).data("card_id"),e=new App.Board({id:b});e.url=api_url+"boards/"+b+".json",e.id=b,e.fetch({cache:!1,abortPending:!0,success:function(b,f){var g=e.get("acl_links")||[];e.acl_links.reset(g,{silent:!0});var h=e.get("lists")||[];e.lists.reset(h,{silent:!0});var i=e.get("activities")||[];e.activities.reset(i,{silent:!0});var j=e.get("boards_users")||[];e.board_users.reset(j,{silent:!0});var k=e.get("custom_backgrounds")||[];e.custom_attachments.reset(k,{silent:!0});var l=e.get("attachments")||[];e.attachments.reset(l,{silent:!0});var m=e.get("boards_subscribers")||[];e.board_subscribers.add(m,{silent:!0});var n=e.get("boards_stars")||[];e.board_stars.add(n,{silent:!0}),e.lists.each(function(a){var b=a.get("cards")||[];_.isEmpty(b)||e.cards.add(b,{silent:!0})}),e.cards.each(function(a){var b=a.get("cards_checklists")||[];_.isEmpty(b)||(e.checklists.add(b,{silent:!0}),_.isEmpty(e.checklists)||e.checklists.each(function(a){var b=a.get("checklists_items")||[];_.isEmpty(b)||e.checklist_items.add(b,{silent:!0})}));var c=a.get("cards_labels")||[];_.isEmpty(c)||e.labels.add(c,{silent:!0})}),e.lists.each(function(b){if(b.id===c){b.board_users=e.board_users,b.labels=e.labels,b.activities.add(e.activities,{silent:!0}),b.attachments=e.attachments,b.board_user_role_id=e.board_user_role_id,b.board=e,b.activities.add(e.activities,{silent:!0});var f=b.collection.board.cards.where({list_id:b.id}),g=new App.CardCollection;g.reset(f),b.cards.add(g.toJSON(),{silent:!0}),b.cards.each(function(c){if(c.id===d&&0===parseInt(c.get("is_archived"))){c.board_users=b.board_users;var e=b.labels.filter(function(a){return parseInt(a.get("card_id"))===parseInt(d)}),f=new App.CardLabelCollection;f.add(e,{silent:!0}),c.labels=f,c.card_voters.add(c.get("cards_voters"),{silent:!0}),c.cards_subscribers.add(c.get("cards_subscribers"),{silent:!0}),c.checklists.add(c.get("cards_checklists"),{silent:!0}),c.cards=b.collection.board.cards,c.list=b,c.board_activities.add(b.activities,{silent:!0}),filter_attachments=b.attachments.where({card_id:c.id}),c.attachments.add(filter_attachments,{silent:!0}),c.board=b.board;var g=c.get("cards_users")||[];_.isEmpty(g)||c.users.add(g,{silent:!0});var h="Normal Dockmodal"===DEFAULT_CARD_VIEW?"docked":"modal";(a.ctrlKey||a.metaKey)&&(h="modal");var i=new App.ModalCardView({model:c,initialState:h}),j=this.$("#js-card-listing-"+c.id);return j.html("&nbsp;"),i.show(),!1}})}})}})},loadMoreSearch:function(a){var b=$(a.currentTarget).data("search"),c=parseInt($(a.currentTarget).data("page")),d=$(a.currentTarget).data("for"),e=new App.ElasticSearchCollection;return e.url=api_url+"search.json",e.fetch({data:{q:b,page:c,data_for:d,token:api_token},success:function(a,c){c=c,c.result.search_term=b,app.navigate("#/search/"+d+":"+b,{trigger:!1,trigger_function:!1,replace:!0}),$("#search-page-result-block").html(new App.SearchPageResultView({model:c}).el),$("#search-page-result").removeClass("search-block").addClass("search-block-main-hover");var e=$(window).height()-38;$(".search-block-main-hover").css("height",e+"px")}}),!1}}),App.BoardLabelsView=Backbone.View.extend({initialize:function(a){if(!_.isUndefined(this.model)&&null!==this.model&&(this.model.showImage=this.showImage,!_.isUndefined(authuser.user)&&!_.isUndefined(this.model.board_users))){var b=this.model.board_users.findWhere({user_id:parseInt(authuser.user.id)});_.isEmpty(b)||(this.model.board_user_role_id=b.attributes.board_user_role_id)}this.labels=a.labels,this.render()},template:JST["templates/board_labels"],tagName:"li",converter:new showdown.Converter,events:{"click .js-delete-labels":"deleteLabels"},deleteLabels:function(a){var b=$(a.currentTarget).data("id");return $(".js-setting-response").html(new App.LabelDeleteConfirmView({model:this.model,label_id:b}).el),!1},render:function(){return this.$el.html(this.template({board:this.model,board_labels:this.labels,converter:this.converter})),this.showTooltip(),this}}),App.LabelDeleteConfirmView=Backbone.View.extend({initialize:function(a){_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.label_id=a.label_id,this.render()},template:JST["templates/label_delete_confirm"],tagName:"div",events:{"click .js-label-confirm-delete":"labelConfirmDelete","click .js-close-popup":"closePopup"},labelConfirmDelete:function(a){var b=this;return b.model.url=api_url+"boards/"+b.model.id+"/labels/"+b.label_id+".json",b.model.destroy({success:function(a,c){b.flash("success",i18next.t("Labels deleted successfully.")),$(".js-show-labels").trigger("click");var d=b.model.labels.filter(function(a){return parseInt(a.get("label_id"))===parseInt(b.label_id)});b.model.labels.remove(d)}}),!1},closePopup:function(a){var b=$(a.target);return b.parents("li.dropdown:first, div.dropdown:first").removeClass("open"),!1},render:function(){return this.$el.html(this.template({label:this.model})),this.showTooltip(),this}}),"undefined"==typeof App&&(App={}),App.SubscribeBoardConfirmView=Backbone.View.extend({initialize:function(){_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.render()},template:JST["templates/subscribe_board_confirm"],events:{"click .js-subscribe-board":"subcribeBoard"},subcribeBoard:function(a){var b=this,c=new App.BoardSubscriber,d={board_id:this.model.id,is_subscribed:1};return c.url=api_url+"boards/"+this.model.id+"/board_subscribers.json",c.save(d,{success:function(a,d){_.isUndefined(b.model.board_subscriber)?b.model.board_subscriber=c:b.model.board_subscriber.attributes.is_subscribed=1,$(".js-back-to-sidebar").trigger("click")}}),!1},render:function(){return this.$el.html(this.template({board:this.model})),this.showTooltip(),this}}),"undefined"==typeof App&&(App={}),App.UnsubscribeBoardConfirmView=Backbone.View.extend({initialize:function(){_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.render()},template:JST["templates/unsubscribe_board_confirm"],events:{"click .js-unsubscribe-board":"unsubcribeBoard"},unsubcribeBoard:function(a){if(!_.isUndefined(this.model.board_subscriber)&&this.model.board_subscriber.attributes.id){var b=this,c=new App.BoardSubscriber,d={board_id:this.model.id,is_subscribed:0};c.url=api_url+"boards/"+this.model.id+"/board_subscribers/"+this.model.board_subscriber.attributes.id+".json",c.set("id",this.model.board_subscriber.attributes.id),c.save(d,{success:function(a,c){b.model.board_subscriber.attributes.is_subscribed=0,$(".js-back-to-sidebar").trigger("click")}})}return!1},render:function(){return this.$el.html(this.template({board:this.model})),this.showTooltip(),this}}),"undefined"==typeof App&&(App={}),App.ArchiveCardDeleteConfirmView=Backbone.View.extend({initialize:function(){_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.render()},template:JST["templates/archive_card_delete_confirm"],tagName:"div",events:{"click .js-delete-all-archived-cards-delete":"deleteAllArchivedCards","click .js-close-popup":"closePopup"},deleteAllArchivedCards:function(a){var b=this;return b.model.url=api_url+"boards/"+b.model.id+"/cards.json",b.model.destroy({success:function(a,c){b.model.cards.each(function(a){_.isUndefined(a)||_.isUndefined(a.attributes)||1!==a.attributes.is_archived||a.collection.remove(a)}),b.flash("success",i18next.t("Cards deleted successfully.")),$(".js-archived-items").trigger("click")}}),!1},closePopup:function(a){var b=$(a.target);return b.parents("li.dropdown:first, div.dropdown:first").removeClass("open"),!1},render:function(){return this.$el.html(this.template({list:this.model})),this.showTooltip(),this}}),"undefined"==typeof App&&(App={}),App.ArchiveListDeleteConfirmView=Backbone.View.extend({initialize:function(){_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.render()},template:JST["templates/archive_list_delete_confirm"],tagName:"div",className:"clearfix col-xs-12",events:{"click .js-delete-all-archived-list-delete":"deleteAllArchivedlists","click .js-close-popup":"closePopup"},deleteAllArchivedlists:function(a){var b=this;return b.model.url=api_url+"boards/"+b.model.id+"/lists.json",b.model.destroy({success:function(a,c){b.model.lists.each(function(a){_.isUndefined(a)||_.isUndefined(a.attributes)||1!==a.attributes.is_archived||a.collection.remove(a)}),b.flash("success",i18next.t("Lists deleted successfully.")),$(".js-archived-items").trigger("click")}}),!1},closePopup:function(a){var b=$(a.target);return b.parents("li.dropdown:first, div.dropdown:first").removeClass("open"),!1},render:function(){return this.$el.html(this.template({list:this.model})),this.showTooltip(),this}}),"undefined"==typeof App&&(App={}),App.ModalShortcutView=Backbone.View.extend({initialize:function(){_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage)},template:JST["templates/modal_shortcut"],tagName:"li",show:function(){this.render(),this.$el.find("#ModalShortcutView").modal("show")},render:function(){return this.$el.html(this.template({list:this.model})),this.$el.modal({show:!0,backdrop:!1}),this.showTooltip(),this}}),"undefined"==typeof App&&(App={}),App.ModalChatHistoryView=Backbone.View.extend({id:"base-modal",className:"",template:JST["templates/modal_chat_history_view"],events:{hidden:"teardown","click .js-close-popover":"closePopup","click #js-chat-histories-load-more":"loadmorehistories"},initialize:function(){_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),this.getListing(),_(this).bindAll("show","teardown")},teardown:function(){this.$el.data("modal",null),this.remove()},getListing:function(){var a=this,b=this.$("#js-chat-history-list");b.html("");var c=new App.ChatHistoryCollection,d=1;c.url=api_url+"boards/"+this.model.attributes.id+"/chat_history.json?page="+d,c.fetch({success:function(b,e){c.length>0?(d=parseInt(d)+1,$("#js-chat-histories-load-more").attr("data-page",d),a.renderChatHistoryCollection(c,e._metadata.total_records)):($("#js-chat-histories-load-more").remove(),$("#js-chat-history-list").html('<div class="media-body">No Chat History available.</div>'))}})},render:function(a){return this.$el.html(this.template({chat_history:this.model})),this.$el.modal({show:!0,backdrop:!1}),this.showTooltip(),this},show:function(){this.render(),this.$el.find("#modalChatHistoryView").modal("show")},closePopup:function(a){var b=$(a.target);return b.parents("li.dropdown").removeClass("open"),!1},loadmorehistories:function(){var a=this,b=new App.ChatHistoryCollection,c=$("#js-chat-histories-load-more").attr("data-page");b.url=api_url+"boards/"+this.model.attributes.id+"/chat_history.json&page="+c,b.fetch({success:function(d,e){if(b.length>0)c=parseInt(c)+1,$("#js-chat-histories-load-more").attr("data-page",c),a.renderChatHistoryCollection(b,e._metadata.total_records);else{var f=new App.ChatHistoryView({model:null});view_user_chats.append(f.render().el)}}})},renderChatHistoryCollection:function(a,b){var c=this.$("#js-chat-history-list"),d=$("#js-chat-histories-load-more").attr("data-page");a.length>0&&((a.length<PAGING_COUNT||b==(d-1)*PAGING_COUNT)&&$("#js-chat-histories-load-more").remove(),a.each(function(a){var b=new App.ChatHistoryView({model:a});c.append(b.render().el).find(".timeago").timeago()}))}}),"undefined"==typeof App&&(App={}),App.ChatHistoryView=Backbone.View.extend({template:JST["templates/chat_history"],tagName:"li",className:"col-xs-12 row",initialize:function(a){_.isUndefined(this.model)||null===this.model||(this.model.showImage=this.showImage),_.bindAll(this,"render")},render:function(){var a=this.model.attributes.username;this.model.set("name",a);var b=this.model.attributes.created.split("-"),c=b[2].split("T"),d=parseInt(b[1]);d=d>10?d:"0"+d;var e=b[0];b=e+"-"+d+"-"+c[0];var f=d+"/"+c[0]+"/"+e,g=new Date(f),h="en-us",i=g.toLocaleString(h,{month:"long"});return f=i+" "+c[0]+", "+e,this.model.set("created_date",b),this.model.set("display_date",f),this.$el.html(this.template({chat_history:this.model,title:"Chat History"})),this.$(".timeago").timeago(),this.showTooltip(),this}}),$(window).resize(function(){var a=$("header").height(),b=$("footer").height(),c=$(window).height(),d=c-b,e=c-a-b-14;$(".board-list-view").css("height",e+"px"),$(".notification-list").css({height:d-100,"overflow-y":"scroll"}),$(".member-modal.js-pre-scrollable").css({"max-height":e-50,"overflow-y":"auto"})});var $dc=$(document);$dc.ready(function(){$dc.on("click",".js-cancel-organization",function(a){var b=$(a.target);return b.parents("li.dropdown").removeClass("open"),!1}).on("click",".js-start",function(a){var b=$(".action-sheet");$("#footer").hasClass("action-open")?(setTimeout(function(){b.removeClass("open")},10),$("#footer").removeClass("action-open")):(setTimeout(function(){b.addClass("open")},10),$("#footer").addClass("action-open"))}).on("click",".js-edit-organization",function(a){return $(".js-organization-view-block").hide(),$(".js-organization-edit-block").show(),!1}).on("click",".js-select",function(a){return $this=$(this),$this.data("unchecked")&&(unchecked=$this.data("unchecked"),$("."+unchecked).prop("checked",!1)),$this.data("checked")&&(checked=$this.data("checked"),$("."+checked).prop("checked","checked")),!1}).on("click",".js-dropdown-popup",function(a){a.stopPropagation()}).on("click",".js-syn-calendar",function(a){return $.oauthpopup({path:$(this).data("url"),callback:function(){window.location.reload()}}),!1}),navigator.userAgent.toLowerCase().indexOf("android")>-1&&navigator.userAgent.toLowerCase().indexOf("chrome")>-1&&$("body").append('<div class="modal fade" id="add_home_modal" tabindex="-1" role="dialog" aria-hidden="false"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal"><span aria-hidden="true" id="js-cssilize-close">x</span><span class="sr-only">Close</span></button><div class="media list-group-item-heading"><div class="media-body"><h4 class="modal-title" id="exampleModalLabel">Install this webapp to your phone</h4></div></div></div><div class="modal-body import-block"><ul><li>Add Restyaboard to homescreen.</li><li>Tap <i class="icon-ellipsis-vertical"></i>to bring up your browser menu and select \'Add to homescreen\' to pin the Restyaboard web app.</li></ul></div></div></div></div>')}),function(a){a.fn.serializeObject=function(){var b={},c=this.serializeArray();return a.each(c,function(){if(-1!==this.name.indexOf("[")){var a=this.value;this.name.replace(/([0-9a-z_-]+)\[(\d+)\]\[(\d+)\]/g,function(c,d,e,f){"undefined"==typeof b[d]&&(b[d]=[]),"undefined"==typeof b[d][e]&&(b[d][e]=[]),b[d][e][f]=a})}else void 0!==b[this.name]?(b[this.name].push||(b[this.name]=[b[this.name]]),b[this.name].push(this.value||"")):b[this.name]=this.value||""}),b}}(jQuery);var favicon=new Favico({animation:"popFade"}),api_token="",role_links=new App.ACLCollection,settings=new App.SettingCategoryCollection,authuser=new App.User,auth_user_organizations=new App.OrganizationCollection,nativeSync=Backbone.sync,card_ids,card_ids_ref="",view_type,view_type_ref="",trigger_dockmodal=!1,viewed_board=new App.Board,is_offline_data=!1,set_interval_id="",isRunning=!1,is_append_activities=!0,SITE_NAME="",DROPBOX_APPKEY="",FLICKR_API_KEY="",LABEL_ICON="",SITE_TIMEZONE="",LDAP_LOGIN_ENABLED="",DEFAULT_LANGUAGE="",STANDARD_LOGIN_ENABLED="",IMAP_EMAIL="",ANIMATION_SPEED=300,DEFAULT_CARD_VIEW="",BOSH_SERVICE_URL="",JABBER_HOST="",JABBER_PATH="",XMPP_CLIENT_RESOURCE_NAME="",PAGING_COUNT="",last_activity="",previous_date="",SecuritySalt="e9a556134534545ab47c6c81c14f06c0b8sdfsdf",last_user_activity_id=0,load_more_last_board_activity_id=0,last_board_activity_id=0,last_user_board_activity_id=0,xhrPool=[],APPS=[],load_count=1,from_url="",custom_fields={},todo_lists={},doing_lists={},done_lists={},TODO_COLOR="",DOING_COLOR="",DONE_COLOR="",TODO_ICON="",DOING_ICON="",DONE_ICON="";Backbone.View.prototype.flash=function(a,b){$.bootstrapGrowl(b,{type:a,offset:{from:"top",amount:20},align:"right",width:250,delay:4e3,allow_dismiss:!0,stackup_spacing:10})},Backbone.View.prototype.showTooltip=function(){$('[data-toggle="tooltip"]').tooltip()},Backbone.View.prototype.board_view_height=function(a,b){var c=$("header").height(),d=$("footer").height(),e=$(window).height(),f=e-c-d-14;f+="px",$(".board-list-view").css("height",f)},Backbone.View.prototype.showImage=function(a,b,c,d){var e=calcMD5(SecuritySalt+a+b+"png"+c),f=window.location.pathname+"img/"+c+"/"+a+"/"+b+"."+e+".png";return d&&(f=f+"?uid="+Math.floor(9999*Math.random()+1)),f},Backbone.View.prototype.downloadLink=function(a,b){var c=calcMD5(SecuritySalt+a+b),d=window.location.pathname+"download/"+b+"/"+c;return d},hasOfflineStatusCode=function(a){var b,c,d=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1};return b=Backbone.DualStorage.offlineStatusCodes,_.isFunction(b)&&(b=b(a)),_.isUndefined(a)||0===a.status||(c=a.status,d.call(b,c)>=0)},callbackTranslator={forBackboneCaller:function(a){return isTempId=function(a){return _.isString(a)&&36===a.length&&0===a.indexOf("t")},function(b,c,d){if($("#progress").width("101%").delay(200).fadeOut(400,function(){$(this).remove()}),null!==b&&!_.isUndefined(b.responseText)&&!_.isEmpty(b.responseText)){if("board"===JSON.parse(b.responseText).error.type)return changeTitle("404 Page not found"),this.headerView=new App.HeaderView({model:authuser}),$("#header").html(this.headerView.el),void $("#content").html((new App.Error404View).el);if("visibility"===JSON.parse(b.responseText).error.type)return window.sessionStorage.setItem("redirect_link",window.location.hash),changeTitle("Board not found"),this.headerView=new App.HeaderView({model:authuser}),$("#header").html(this.headerView.el),void $("#content").html(new App.Board404View({model:authuser}).el)}if(null===b){changeTitle("404 Page not found"),this.headerView=new App.HeaderView({model:authuser}),$("#header").html(this.headerView.el);var e=new App.Error404View;return void $("#content").html(e.el)}var f=!1;if(is_offline_data=void 0!==window.sessionStorage.getItem("is_offline_data")&&null!==window.sessionStorage.getItem("is_offline_data")&&"true"===window.sessionStorage.getItem("is_offline_data")?!0:!1,hasOfflineStatusCode(d)?(window.sessionStorage.setItem("is_offline_data",!0),is_offline_data=!0,b.is_offline=!0,$(".js-hide-on-offline").addClass("hide"),$("#js-activity-loader").remove(),$("#js-footer-brand-img").attr("title",i18next.t("Site is in offline")).attr("src","img/logo-icon-offline.png").tooltip("show")):(f=!0,$(".js-hide-on-offline").removeClass("hide"),delete b.is_offline),f&&is_offline_data){is_offline_data=!1,window.sessionStorage.removeItem("is_offline_data"),$("#js-footer-brand-img").attr("title",i18next.t("Syncing...")).attr("src","img/logo-icon-sync.gif").attr("data-original-title",i18next.t("Syncing...")).tooltip("show");var g=new App.ListCollection;g.syncDirty()}if(null===b||_.isUndefined(b.responseText)||_.isEmpty(b.responseText)||"OAuth"!==JSON.parse(b.responseText).error.type)return a.call(null,b,c,d);if(api_token="",void 0!==window.sessionStorage.getItem("auth")&&null!==window.sessionStorage.getItem("auth")){var h=JSON.parse(window.sessionStorage.getItem("auth")),i=h.refresh_token,j=new App.OAuth;j.url=api_url+"oauth.json?refresh_token="+i,j.fetch({cache:!1,success:function(a,b){_.isUndefined(b.access_token)?app.navigate("#/users/logout",{trigger:!0,replace:!0}):(h.access_token=b.access_token,h.refresh_token=b.refresh_token,api_token=b.access_token,window.sessionStorage.setItem("auth",JSON.stringify(h)),"board_view"!==from_url&&Backbone.history.loadUrl(Backbone.history.fragment))}})}else app.navigate("#/users/logout",{trigger:!0,replace:!0})}}},Backbone.sync=function(a,b,c){if(_.isUndefined(b.storeName)||"activity"!==b.storeName?0===$("#progress").length&&($("body").append($("<div><dt/><dd/></div>").attr("id","progress")),$("#progress").width(50+30*Math.random()+"%")):$("#js-footer-brand-img").attr("src","img/logo-icon-sync.gif"),b&&"read"!=a?b.url+="?token="+api_token:("undefined"==typeof c.data&&(c.data={}),""!==api_token&&(c.data.token=api_token)),"string"==typeof b.url&&-1!==b.url.indexOf(".json")&&(c.error=callbackTranslator.forBackboneCaller(c.error),c.success=callbackTranslator.forBackboneCaller(c.success)),"read"===a){if(c.abortPending===!0)for(var d=0;d<xhrPool.length;d++)xhrPool[d].readyState>0&&xhrPool[d].readyState<4&&(xhrPool[d].abort(),xhrPool.splice(d,1));for(var e=0;e<xhrPool.length;e++)4===xhrPool[e].readyState&&xhrPool.splice(e,1);var f=nativeSync(a,b,c);return xhrPool.push(f),f}return nativeSync(a,b,c)};var RealXHRSend=XMLHttpRequest.prototype.send,requestCallbacks=[],responseCallbacks=[];XMLHttpRequest.prototype.send=function(){if(fireCallbacks(requestCallbacks,this),this.addEventListener){var a=this;this.addEventListener("readystatechange",function(){fireResponseCallbacksIfCompleted(a)},!1)}else proxifyOnReadyStateChange(this);RealXHRSend.apply(this,arguments)};var AppRouter=Backbone.Router.extend({
routes:{"":"login",about:"about_us","users/admin_user_add":"admin_user_add","users/register":"register","users/login":"login","users/logout":"logout","users/forgotpassword":"forgotpassword","users/activation/:id/:hash":"user_activation","users/:id/changepassword":"changepassword",users:"users_index","boards/list":"admin_boards_index","user/:id":"user_view","user/:id/:type":"user_view_type",boards:"boards_index","boards/starred":"starred_boards_index","boards/closed":"closed_boards_index","board/:id":"boards_view","board/:id/card/:card_id":"card_view","board/:id/:type":"boards_view_type","board/:id/:type/card/:card_id":"board_card_view_type",organizations:"organizations_index","organization/:id":"organizations_view","organization/:id/:type":"organizations_view_type","organizations_user/:id":"organizations_user_view",roles:"role_settings","roles/add":"add_role","board_user_roles/add":"add_board_user_role","organization_user_roles/add":"add_organization_user_role",oauth_clients:"oauth_clients","oauth_clients/add":"add_oauth_client","oauth_clients/edit/:id":"edit_oauth_client",apps:"apps","apps/:name":"app_settings",settings:"settings","settings/:id":"settings_type",email_templates:"email_templates","email_templates/:id":"email_template_type",activities:"activity_index","search/:q":"_search"},initialize:function(){$("body").removeAttr("style")},about_us:function(){new App.ApplicationView({model:"aboutus"})},admin_user_add:function(){new App.ApplicationView({model:"admin_user_add"})},register:function(){$(".dockmodal, .dockmodal-overlay").remove(),new App.ApplicationView({model:"register"})},login:function(){$(".dockmodal, .dockmodal-overlay").remove(),new App.ApplicationView({model:"login"})},forgotpassword:function(){new App.ApplicationView({model:"forgotpassword"})},user_activation:function(a,b){new App.ApplicationView({model:"user_activation",id:a,hash:b})},changepassword:function(a){var b=JSON.parse(window.sessionStorage.getItem("auth"));if(null!==window.sessionStorage.getItem("auth"))if(b.user.id==a||"1"==b.user.role_id)new App.ApplicationView({model:"changepassword",id:a});else{$(".dockmodal, .dockmodal-overlay").remove();var c=new App.User;c.url=api_url+"users/logout.json",c.fetch({cache:!1,success:function(){window.sessionStorage.removeItem("auth"),api_token="",authuser=new App.User,app.navigate("#/users/login",{trigger:!0,replace:!0}),clearInterval(set_interval_id)}})}else window.sessionStorage.setItem("redirect_link",window.location.hash),new App.ApplicationView({model:"login"})},logout:function(){$(".dockmodal, .dockmodal-overlay").remove();var a=new App.User;a.url=api_url+"users/logout.json",a.fetch({cache:!1,success:function(){window.sessionStorage.removeItem("auth"),api_token="",authuser=new App.User,app.navigate("#/users/login",{trigger:!0,replace:!0}),clearInterval(set_interval_id),_.isUndefined(authuser.user)||_.isEmpty(BOSH_SERVICE_URL)||converse.user.logout(),$("#conversejs").remove();var a=new Backbone.View;a.flash("success",i18next.t("Logout successfully."))}})},settings:function(){new App.ApplicationView({model:"settings"})},settings_type:function(a){new App.ApplicationView({model:"settings",id:a})},boards_index:function(){new App.ApplicationView({model:"boards_index"})},starred_boards_index:function(){new App.ApplicationView({model:"starred_boards_index"})},closed_boards_index:function(){new App.ApplicationView({model:"closed_boards_index"})},boards_view:function(a){from_url="board_view",new App.ApplicationView({model:"boards_view",id:a})},card_view:function(a,b){history.pushState(null,document.title,window.location.href),card_ids=b,card_ids_ref=b.split(",").map(Number),new App.ApplicationView({model:"boards_view",id:a})},board_card_view_type:function(a,b,c){view_type=b,view_type_ref=b,card_ids=c,card_ids_ref=c.split(",").map(Number),new App.ApplicationView({model:"boards_view",id:a})},boards_view_type:function(a,b){view_type=b,view_type_ref=b,new App.ApplicationView({model:"boards_view",id:a})},organizations_view:function(a){new App.ApplicationView({model:"organizations_view",id:a})},organizations_view_type:function(a,b){new App.ApplicationView({model:"organizations_view",id:a,type:b})},organizations_user_view:function(a){changeTitle(i18next.t("Organization User")),new App.ApplicationView({model:"organizations_user_view",id:a})},users_index:function(){new App.ApplicationView({model:"users_index"})},admin_boards_index:function(){new App.ApplicationView({model:"admin_boards_index"})},user_view:function(a){new App.ApplicationView({model:"user_view",id:a})},user_view_type:function(a,b){new App.ApplicationView({model:"user_view",id:a,type:b})},role_settings:function(){new App.ApplicationView({model:"role_settings"})},add_role:function(){new App.ApplicationView({model:"add_role"})},add_board_user_role:function(){new App.ApplicationView({model:"add_board_user_role"})},add_organization_user_role:function(){new App.ApplicationView({model:"add_organization_user_role"})},oauth_clients:function(){new App.ApplicationView({model:"oauth_clients"})},add_oauth_client:function(){new App.ApplicationView({model:"add_oauth_client"})},edit_oauth_client:function(a){new App.ApplicationView({model:"edit_oauth_client",id:a})},apps:function(){new App.ApplicationView({model:"apps"})},app_settings:function(a){new App.ApplicationView({model:"app_settings",id:a})},organizations_index:function(){new App.ApplicationView({model:"organizations_index"})},email_templates:function(){new App.ApplicationView({model:"email_template_type"})},email_template_type:function(a){new App.ApplicationView({model:"email_template_type",id:a})},activity_index:function(){new App.ApplicationView({model:"activity_index"})},_search:function(a){new App.ApplicationView({model:"boards_index",q:a})}}),app=new AppRouter;app.on("route",function(a,b){$("div.doughnutTip").remove(),"boards_view"!==a&&"card_view"!==a&&"board_card_view_type"!==a&&"boards_view_type"!==a&&$("body").removeAttr("style class")}),Backbone.history.start({pushState:!1}),Backbone.form=function(a){var b=new Backbone.Form(a).render();return b.el};